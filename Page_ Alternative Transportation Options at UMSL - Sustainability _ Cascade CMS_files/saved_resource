// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.32/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var c,f,d,n=function(){return"undefined"!==typeof w&&"function"!==typeof w?w:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),q=function(){},e=function(ka){for(var Ia in ka)return 0;return 1},g={}.toString,h=function(ka){return"[object Function]"==g.call(ka)},r=function(ka){return"[object String]"==g.call(ka)},u=function(ka){return"[object Array]"==g.call(ka)},p=function(ka,Ia){if(ka)for(var Pa=0;Pa<ka.length;)Ia(ka[Pa++])},l=function(ka,Ia){for(var Pa in Ia)ka[Pa]=
Ia[Pa];return ka},m=function(ka,Ia){return l(Error(ka),{src:"dojoLoader",info:Ia})},v=1,A=function(){return"_"+v++},t=function(ka,Ia,Pa){return T(ka,Ia,Pa,0,t)},w=n,z=w.document,k=z&&z.createElement("DiV"),x=t.has=function(ka){return h(y[ka])?y[ka]=y[ka](w,z,k):y[ka]},y=x.cache=b.hasCache;h(a)&&(a=a(n));x.add=function(ka,Ia,Pa,Ra){(void 0===y[ka]||Ra)&&(y[ka]=Ia);return Pa&&x(ka)};x.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);x("host-webworker")&&
(l(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(ka,Ia){try{importScripts(ka),Ia()}catch(Pa){console.info("failed to load resource ("+ka+")"),console.error(Pa)}}});for(var B in a.has)x.add(B,a.has[B],0,1);var E=0,J=[],K=0,H=q,F=q;t.isXdUrl=q;t.initSyncLoader=function(ka,Ia,Pa){K||(K=ka,H=Ia,F=Pa);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,
syncExecStack:J,modules:la,execQ:U,getModule:Ja,injectModule:Oa,setArrived:La,signal:D,finishExec:vb,execModule:Vb,dojoRequirePlugin:K,getLegacyMode:function(){return E},guardCheckComplete:Pb}};if(x("dom")||x("host-webworker")){var N=location.protocol,S=location.host;t.isXdUrl=function(ka){return/^\./.test(ka)?!1:/^\/\//.test(ka)?!0:(ka=ka.match(/^([^\/:]+:)\/+([^\/]+)/))&&(ka[1]!=N||S&&ka[2]!=S)};x.add("dojo-force-activex-xhr",x("host-browser")&&!z.addEventListener&&"file:"==window.location.protocol);
if(x("dojo-force-activex-xhr")){var W=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(d=0;3>d;)try{var L=W[d++];new ActiveXObject(L);break}catch(ka){}var P=function(){return new ActiveXObject(L)}}else P=function(){return new XMLHttpRequest};t.getXhr=P;x.add("dojo-gettext-api",1);t.getText=function(ka,Ia,Pa){var Ra=P();Ra.open("GET",Kb(ka),!1);Ra.send(null);if(200==Ra.status||!location.host&&!Ra.status)Pa&&Pa(Ra.responseText,Ia);else throw m("xhrFailed",Ra.status);return Ra.responseText}}t.eval=
function(ka,Ia){};var X={},D=t.signal=function(ka,Ia){ka=X[ka];p(ka&&ka.slice(0),function(Pa){Pa.apply(null,u(Ia)?Ia:[Ia])})},R=t.on=function(ka,Ia){var Pa=X[ka]||(X[ka]=[]);Pa.push(Ia);return{remove:function(){for(var Ra=0;Ra<Pa.length;Ra++)if(Pa[Ra]===Ia){Pa.splice(Ra,1);break}}}},Y=[],ja={},da=[],sa={},qa=t.map={},ia=[],la={},ua="",ya={},V={},ha={},ma=0;if(!x("foreign-loader"))var G=function(ka,Ia){Ia=!1!==Ia;var Pa,Ra;for(Pa in V){var Wa=V[Pa];if(Ra=Pa.match(/^url:(.+)/))ya["url:"+Ya(Ra[1],ka)]=
Wa;else if("*now"==Pa)var bb=Wa;else"*noref"!=Pa&&(Ra=na(Pa,ka,!0),ya[Ra.mid]=ya["url:"+Ra.url]=Wa)}bb&&bb(I(ka));Ia&&(V={})};var Q=function(ka){return ka.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(Ia){return"\\"+Ia})},fa=function(ka,Ia){Ia.splice(0,Ia.length);for(var Pa in ka)Ia.push([Pa,ka[Pa],new RegExp("^"+Q(Pa)+"(/|$)"),Pa.length]);Ia.sort(function(Ra,Wa){return Wa[3]-Ra[3]});return Ia},ta=function(ka,Ia){p(ka,function(Pa){Ia.push([r(Pa[0])?new RegExp("^"+Q(Pa[0])+"$"):Pa[0],Pa[1]])})},
za=function(ka){var Ia=ka.name;Ia||(Ia=ka,ka={name:Ia});ka=l({main:"main"},ka);ka.location=ka.location?ka.location:Ia;ka.packageMap&&(qa[Ia]=ka.packageMap);ka.main.indexOf("./")||(ka.main=ka.main.substring(2));sa[Ia]=ka},Ea=[],Ga=function(ka,Ia,Pa){for(var Ra in ka){"waitSeconds"==Ra&&(t.waitms=1E3*(ka[Ra]||0));"cacheBust"==Ra&&(ua=ka[Ra]?r(ka[Ra])?ka[Ra]:(new Date).getTime()+"":"");if("baseUrl"==Ra||"combo"==Ra)t[Ra]=ka[Ra];if("async"==Ra){var Wa=ka[Ra];t.legacyMode=E=r(Wa)&&/sync|legacyAsync/.test(Wa)?
Wa:Wa?!1:"sync";t.async=!E}ka[Ra]!==y&&(t.rawConfig[Ra]=ka[Ra],"has"!=Ra&&x.add("config-"+Ra,ka[Ra],0,Ia))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(Ra in ka.has)x.add(Ra,ka.has[Ra],0,Ia);p(ka.packages,za);for(var bb in ka.packagePaths)p(ka.packagePaths[bb],function(kb){var Db=bb+"/"+kb;r(kb)&&(kb={name:kb});kb.location=Db;za(kb)});fa(l(qa,ka.map),ia);p(ia,function(kb){kb[1]=fa(kb[1],[]);"*"==kb[0]&&(ia.star=kb)});fa(l(ja,ka.paths),da);ta(ka.aliases,Y);if(!x("foreign-loader")){if(Ia)Ea.push({config:ka.config});
else for(Ra in ka.config)Ia=Ja(Ra,Pa),Ia.config=l(Ia.config||{},ka.config[Ra]);ka.cache&&(G(),V=ka.cache,G(0,!!ka.cache["*noref"]))}D("config",[ka,t.rawConfig])};t.rawConfig={};Ga(b,1);Ga(a,1);Ga(ha,1);if(!x("foreign-loader"))var Z=function(ka){Pb(function(){p(ka.deps,Oa)})},T=function(ka,Ia,Pa,Ra,Wa){var bb;if(r(ka)){if((bb=Ja(ka,Ra,!0))&&bb.executed)return bb.result;throw m("undefinedModule",ka);}u(ka)||(Ga(ka,0,Ra),ka=Ia,Ia=Pa);if(u(ka))if(ka.length){Pa="require*"+A();for(var kb,Db=[],ac=0;ac<
ka.length;)kb=ka[ac++],Db.push(Ja(kb,Ra));bb=l(Da("",Pa,0,""),{injected:2,deps:Db,def:Ia||q,require:Ra?Ra.require:t,gc:1});la[bb.mid]=bb;Z(bb);var fc=Qb&&"sync"!=E;Pb(function(){Vb(bb,fc)});bb.executed||U.push(bb);Wb()}else Ia&&Ia();return Wa},I=function(ka){if(!ka)return t;var Ia=ka.require;Ia||(Ia=function(Pa,Ra,Wa){return T(Pa,Ra,Wa,ka,Ia)},ka.require=l(Ia,t),Ia.module=ka,Ia.toUrl=function(Pa){return Ya(Pa,ka)},Ia.toAbsMid=function(Pa){return Ua(Pa,ka)},Ia.syncLoadNls=function(Pa){Pa=na(Pa,ka);
var Ra=la[Pa.mid];if(!Ra||!Ra.executed)if(Rb=ya[Pa.mid]||ya["url:"+Pa.url])Lb(Rb),Ra=la[Pa.mid];return Ra&&Ra.executed&&Ra.result});return Ia},U=[],ea=[],ra={},Ba=function(ka){ka.injected=1;ra[ka.mid]=1;ka.url&&(ra[ka.url]=ka.pack||1);Nb()},La=function(ka){ka.injected=2;delete ra[ka.mid];ka.url&&delete ra[ka.url];e(ra)&&(Bb(),"xd"==E&&(E="sync"))},ca=t.idle=function(){return!ea.length&&e(ra)&&!U.length&&!Qb};var va=function(ka,Ia){if(Ia)for(var Pa=0;Pa<Ia.length;Pa++)if(Ia[Pa][2].test(ka))return Ia[Pa];
return 0},xa=function(ka){var Ia=[];for(ka=ka.replace(/\\/g,"/").split("/");ka.length;){var Pa=ka.shift();if(".."==Pa&&Ia.length&&".."!=Ra){Ia.pop();var Ra=Ia[Ia.length-1]}else"."!=Pa&&Ia.push(Ra=Pa)}return Ia.join("/")},Da=function(ka,Ia,Pa,Ra){var Wa=t.isXdUrl(Ra);return{pid:ka,mid:Ia,pack:Pa,url:Ra,executed:0,def:0,isXd:Wa,isAmd:!!(Wa||sa[ka]&&sa[ka].isAmd)}},Ha=function(ka,Ia,Pa,Ra,Wa,bb,kb,Db,ac,fc){var Gb,kc,Hb;var gc=/^\./.test(ka);if(/(^\/)|(:)|(\.js$)/.test(ka)||gc&&!Ia)return Da(0,ka,0,
ka);ka=xa(gc?Ia.mid+"/../"+ka:ka);if(/^\./.test(ka))throw m("irrationalPath",ka);fc||gc||!bb.star||(Hb=va(ka,bb.star[1]));!Hb&&Ia&&(Hb=(Hb=va(Ia.mid,bb))&&va(ka,Hb[1]));Hb&&(ka=Hb[1]+ka.substring(Hb[3]));Ia=(c=ka.match(/^([^\/]+)(\/(.+))?$/))?c[1]:"";(Gb=Pa[Ia])?ka=Ia+"/"+(kc=c[3]||Gb.main):Ia="";var hc=0;p(Db,function(dc){var nc=ka.match(dc[0]);nc&&0<nc.length&&(hc=h(dc[1])?ka.replace(dc[0],dc[1]):dc[1])});if(hc)return Ha(hc,0,Pa,Ra,Wa,bb,kb,Db,ac);if(Pa=Ra[ka])return ac?Da(Pa.pid,Pa.mid,Pa.pack,
Pa.url):Ra[ka];Ra=(Hb=va(ka,kb))?Hb[1]+ka.substring(Hb[3]):Ia?("/"===Gb.location.slice(-1)?Gb.location.slice(0,-1):Gb.location)+"/"+kc:ka;/(^\/)|(:)/.test(Ra)||(Ra=Wa+Ra);return Da(Ia,ka,Gb,xa(Ra+".js"))},na=function(ka,Ia,Pa){return Ha(ka,Ia,sa,la,t.baseUrl,ia,da,Y,void 0,Pa)};if(!x("foreign-loader"))var wa=function(ka,Ia,Pa){return ka.normalize?ka.normalize(Ia,function(Ra){return Ua(Ra,Pa)}):Ua(Ia,Pa)},Ma=0,Ja=function(ka,Ia,Pa){var Ra;if(Ra=ka.match(/^(.+?)!(.*)$/)){var Wa=Ja(Ra[1],Ia,Pa);"sync"!=
E||Wa.executed||(Oa(Wa),2!==Wa.injected||Wa.executed||Pb(function(){Vb(Wa)}),Wa.executed?yb(Wa):U.unshift(Wa));5!==Wa.executed||Wa.load||yb(Wa);Wa.load?(Ra=wa(Wa,Ra[2],Ia),ka=Wa.mid+"!"+(Wa.dynamic?++Ma+"!":"")+Ra):(Ra=Ra[2],ka=Wa.mid+"!"+ ++Ma+"!waitingForPlugin");ka={plugin:Wa,mid:ka,req:I(Ia),prid:Ra}}else ka=na(ka,Ia);return la[ka.mid]||!Pa&&(la[ka.mid]=ka)};var Ua=t.toAbsMid=function(ka,Ia){return na(ka,Ia).mid},Ya=t.toUrl=function(ka,Ia){Ia=na(ka+"/x",Ia);var Pa=Ia.url;return Kb(0===Ia.pid?
ka:Pa.substring(0,Pa.length-5))};if(!x("foreign-loader"))var cb={injected:2,executed:5,def:3,result:3},eb=function(ka){return la[ka]=l({mid:ka},cb)},pb=eb("require"),lb=eb("exports"),Xb=eb("module"),Cb={},mb=0,yb=function(ka){var Ia=ka.result;ka.dynamic=Ia.dynamic;ka.normalize=Ia.normalize;ka.load=Ia.load;return ka},Sb=function(ka){var Ia={};p(ka.loadQ,function(Wa){var bb=wa(ka,Wa.prid,Wa.req.module),kb=ka.dynamic?Wa.mid.replace(/waitingForPlugin$/,bb):ka.mid+"!"+bb;bb=l(l({},Wa),{mid:kb,prid:bb,
injected:0});la[kb]&&la[kb].injected||Eb(la[kb]=bb);Ia[Wa.mid]=la[kb];La(Wa);delete la[Wa.mid]});ka.loadQ=0;var Pa=function(Wa){for(var bb=Wa.deps||[],kb=0;kb<bb.length;kb++)(Wa=Ia[bb[kb].mid])&&(bb[kb]=Wa)},Ra;for(Ra in la)Pa(la[Ra]);p(U,Pa)},vb=function(ka){t.trace("loader-finish-exec",[ka.mid]);ka.executed=5;ka.defOrder=mb++;p(ka.provides,function(Ia){Ia()});ka.loadQ&&(yb(ka),Sb(ka));for(d=0;d<U.length;)U[d]===ka?U.splice(d,1):d++;/^require\*/.test(ka.mid)&&delete la[ka.mid]},Tb=[],Vb=function(ka,
Ia){if(4===ka.executed)return t.trace("loader-circular-dependency",[Tb.concat(ka.mid).join("-\x3e")]),!ka.def||Ia?Cb:ka.cjs&&ka.cjs.exports;if(!ka.executed){if(!ka.def)return Cb;var Pa=ka.mid,Ra=ka.deps||[],Wa,bb=[],kb=0;for(ka.executed=4;Wa=Ra[kb++];){Wa=Wa===pb?I(ka):Wa===lb?ka.cjs.exports:Wa===Xb?ka.cjs:Vb(Wa,Ia);if(Wa===Cb)return ka.executed=0,t.trace("loader-exec-module",["abort",Pa]),Cb;bb.push(Wa)}t.trace("loader-run-factory",[ka.mid]);Ia=ka.def;J.unshift(ka);bb=h(Ia)?Ia.apply(null,bb):Ia;
ka.result=void 0===bb&&ka.cjs?ka.cjs.exports:bb;J.shift(ka);vb(ka)}return ka.result},Qb=0,Pb=function(ka){try{Qb++,ka()}catch(Ia){throw Ia;}finally{Qb--}ca()&&D("idle",[])},Wb=function(){Qb||Pb(function(){H();for(var ka,Ia,Pa=0;Pa<U.length;)ka=mb,Ia=U[Pa],Vb(Ia),ka!=mb?(H(),Pa=0):Pa++})};var Kb="function"==typeof a.fixupUrl?a.fixupUrl:function(ka){ka+="";return ka+(ua?(/\?/.test(ka)?"\x26":"?")+ua:"")};void 0===x("dojo-loader-eval-hint-url")&&x.add("dojo-loader-eval-hint-url",1);var Eb=function(ka){var Ia=
ka.plugin;5!==Ia.executed||Ia.load||yb(Ia);var Pa=function(Ra){ka.result=Ra;La(ka);vb(ka);Wb()};Ia.load?Ia.load(ka.prid,ka.req,Pa):Ia.loadQ?Ia.loadQ.push(ka):(Ia.loadQ=[ka],U.unshift(Ia),Oa(Ia))},Rb=0,Lb=function(ka,Ia){x("config-stripStrict")&&(ka=ka.replace(/(["'])use strict\1/g,""));ka===Rb?Rb.call(null):t.eval(ka,x("dojo-loader-eval-hint-url")?Ia.url:Ia.mid)},Oa=function(ka){var Ia=ka.mid,Pa=ka.url;if(!(ka.executed||ka.injected||ra[Ia]||ka.url&&(ka.pack&&ra[ka.url]===ka.pack||1==ra[ka.url])))if(Ba(ka),
ka.plugin)Eb(ka);else{var Ra=function(){Ub(ka);if(2!==ka.injected){if(x("dojo-enforceDefine")){D("error",m("noDefine",ka));return}La(ka);l(ka,cb);t.trace("loader-define-nonmodule",[ka.url])}E?!J.length&&Wb():Wb()};if(Rb=ya[Ia]||ya["url:"+ka.url])t.trace("loader-inject",["cache",ka.mid,Pa]),Lb(Rb,ka),Ra();else{if(E)if(ka.isXd)"sync"==E&&(E="xd");else if(!ka.isAmd||"sync"==E){t.trace("loader-inject",["xhr",ka.mid,Pa,"sync"!=E]);t.getText(Pa,"sync"!=E,function(Wa){if("sync"==E){J.unshift(ka);Lb(Wa,ka);
J.shift();Ub(ka);ka.cjs||(La(ka),vb(ka));if(ka.finish){Wa=Ia+"*finish";var bb=ka.finish;delete ka.finish;Ta(Wa,["dojo",("dojo/require!"+bb.join(",")).replace(/\./g,"/")],function(kb){p(bb,function(Db){kb.require(Db)})});U.unshift(Ja(Wa))}Ra()}else(Wa=F(ka,Wa))?(Lb(Wa,ka),Ra()):t.injectUrl(Kb(Pa),Ra,ka)});return}t.trace("loader-inject",["script",ka.mid,Pa]);t.injectUrl(Kb(Pa),Ra,ka)}}},nb=function(ka,Ia,Pa){t.trace("loader-define-module",[ka.mid,Ia]);var Ra=ka.mid;if(2===ka.injected)return D("error",
m("multipleDefine",ka)),ka;l(ka,{deps:Ia,def:Pa,cjs:{id:ka.mid,uri:ka.url,exports:ka.result={},setExports:function(bb){ka.cjs.exports=bb},config:function(){return ka.config}}});for(var Wa=0;Ia[Wa];Wa++)Ia[Wa]=Ja(Ia[Wa],ka);E&&!ra[Ra]&&(Z(ka),U.push(ka),Wb());La(ka);h(Pa)||Ia.length||(ka.result=Pa,vb(ka));return ka},Ub=function(ka,Ia){for(var Pa=[],Ra,Wa;ea.length;)Wa=ea.shift(),Ia&&(Wa[0]=Ia.shift()),Ra=Wa[0]&&Ja(Wa[0])||ka,Pa.push([Ra,Wa[1],Wa[2]]);G(ka);p(Pa,function(bb){Z(nb.apply(null,bb))})},
Bb=q,Nb=q;x("dom");if(x("dom")){var $a=function(ka,Ia,Pa,Ra){ka.addEventListener(Ia,Ra,!1);return function(){ka.removeEventListener(Ia,Ra,!1)}},db=$a(window,"load","onload",function(){t.pageLoaded=1;try{"complete"!=z.readyState&&(z.readyState="complete")}catch(ka){}db()});var Fa=z.getElementsByTagName("script");for(d=0;!ma;)/^dojo/.test((f=Fa[d++])&&f.type)||(ma=f);t.injectUrl=function(ka,Ia,Pa){Pa=Pa.node=z.createElement("script");var Ra=$a(Pa,"load","onreadystatechange",function(bb){bb=bb||window.event;
var kb=bb.target||bb.srcElement;if("load"===bb.type||/complete|loaded/.test(kb.readyState))Ra(),Wa(),Ia&&Ia()}),Wa=$a(Pa,"error","onerror",function(bb){Ra();Wa();D("error",m("scriptError: "+ka,[ka,bb]))});Pa.type="text/javascript";Pa.charset="utf-8";Pa.src=ka;ma.parentNode.insertBefore(Pa,ma);return Pa}}t.log=q;t.trace=q;if(x("foreign-loader"))Ta=q;else{var Ta=function(ka,Ia,Pa){var Ra=arguments.length,Wa=["require","exports","module"],bb=[0,ka,Ia];1==Ra?bb=[0,h(ka)?Wa:[],ka]:2==Ra&&r(ka)?bb=[ka,
h(Ia)?Wa:[],Ia]:3==Ra&&(bb=[ka,Ia,Pa]);t.trace("loader-define",bb.slice(0,2));(Ra=bb[0]&&Ja(bb[0]))&&!ra[Ra.mid]?Z(nb(Ra,bb[1],bb[2])):ea.push(bb)};Ta.amd={vendor:"dojotoolkit.org"}}l(l(t,b.loaderPatch),a.loaderPatch);R("error",function(ka){try{if(console.error(ka),ka instanceof Error){for(var Ia in ka)console.log(Ia+":",ka[Ia]);console.log(".")}}catch(Pa){}});l(t,{uid:A,cache:ya,packs:sa});if(!w.define&&(w.define=Ta,w.require=t,!x("foreign-loader"))){p(Ea,function(ka){Ga(ka)});var Za=ha.deps||a.deps||
b.deps,wb=ha.callback||a.callback||b.callback;t.boot=Za||wb?[Za||[],wb]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/has ./core/RandomLCG ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapEnsureType ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,b,c,f,d,n,q,e,g,h,
r,u,p,l,m,v,A,t){f=class extends t.TablesMixin(A.LayersMixin(n.EventedMixin(f))){constructor(w){super(w);this.allLayers=new d({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:z=>"layers"in z?z.layers:null});this.allTables=m.createFlattenedTablesCollection(this);this.basemap=null;this.editableLayers=new d({getCollections:()=>[this.allLayers],itemFilterFunction:p.isEditableLayer});this.ground=new c;this._basemapCache=l.createCache()}destroy(){l.destroyCache(this._basemapCache);
this._basemapCache=null;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.basemap=q.destroyMaybe(this.basemap);q.destroyMaybe(this.ground);this._set("ground",null)}castBasemap(w){return l.basemapEnsureType(w,this._basemapCache)}castGround(w){w=v.ensureType(w);return null==w?this._get("ground"):w}findLayerById(w){return this.allLayers.find(z=>z.id===w)}findTableById(w){return this.allTables.find(z=>z.id===w)}};a.__decorate([e.property({readOnly:!0,dependsOn:[]})],
f.prototype,"allLayers",void 0);a.__decorate([e.property({readOnly:!0})],f.prototype,"allTables",void 0);a.__decorate([e.property({type:b,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],f.prototype,"basemap",void 0);a.__decorate([g.cast("basemap")],f.prototype,"castBasemap",null);a.__decorate([e.property({readOnly:!0})],f.prototype,"editableLayers",void 0);a.__decorate([e.property({type:c,nonNullable:!0})],f.prototype,"ground",void 0);a.__decorate([g.cast("ground")],f.prototype,"castGround",
null);a.__decorate([e.property()],f.prototype,"undoRedo",void 0);return f=a.__decorate([u.subclass("esri.Map")],f)})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){var b="function"===typeof SuppressedError?SuppressedError:function(c,f,d){d=Error(d);return d.name="SuppressedError",d.error=c,d.suppressed=f,d};a.__addDisposableResource=function(c,f,d){if(null!==f&&void 0!==f){if("object"!==typeof f&&"function"!==typeof f)throw new TypeError("Object expected.");var n;if(d){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");
var q=f[Symbol.asyncDispose]}if(void 0===q){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");q=f[Symbol.dispose];d&&(n=q)}if("function"!==typeof q)throw new TypeError("Object not disposable.");n&&(q=function(){try{n.call(this)}catch(e){return Promise.reject(e)}});c.stack.push({value:f,dispose:q,async:d})}else d&&c.stack.push({async:!0});return f};a.__awaiter=function(c,f,d,n){function q(e){return e instanceof d?e:new d(function(g){g(e)})}return new (d||=Promise)(function(e,
g){function h(p){try{u(n.next(p))}catch(l){g(l)}}function r(p){try{u(n["throw"](p))}catch(l){g(l)}}function u(p){p.done?e(p.value):q(p.value).then(h,r)}u((n=n.apply(c,f||[])).next())})};a.__decorate=function(c,f,d,n){var q=arguments.length,e=3>q?f:null===n?n=Object.getOwnPropertyDescriptor(f,d):n,g;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)e=Reflect.decorate(c,f,d,n);else for(var h=c.length-1;0<=h;h--)if(g=c[h])e=(3>q?g(e):3<q?g(f,d,e):g(f,d))||e;return 3<q&&e&&Object.defineProperty(f,
d,e),e};a.__disposeResources=function(c){function f(e){c.error=c.hasError?new b(e,c.error,"An error was suppressed during disposal."):e;c.hasError=!0}function d(){for(;n=c.stack.pop();)try{if(!n.async&&1===q)return q=0,c.stack.push(n),Promise.resolve().then(d);if(n.dispose){var e=n.dispose.call(n.value);if(n.async)return q|=2,Promise.resolve(e).then(d,function(g){f(g);return d()})}else q|=1}catch(g){f(g)}if(1===q)return c.hasError?Promise.reject(c.error):Promise.resolve();if(c.hasError)throw c.error;
}var n,q=0;return d()};a.__param=function(c,f){return function(d,n){f(d,n,c)}}})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y){var B;let E=0;n=B=class extends n.JSONSupportMixin(e){constructor(H){super(H);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+E++;this.baseLayers=new f;this.referenceLayers=new f;const F=N=>{N.parent&&N.parent!==this&&"remove"in N.parent&&N.parent.remove(N);N.parent=this;"elevation"===N.type&&h.getLogger(this).error(`Layer '${N.title}, id:${N.id}' of type '${N.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",N=>F(N.item)),this.referenceLayers.on("after-add",N=>F(N.item)),this.baseLayers.on("after-remove",N=>{N.item.parent=null}),this.referenceLayers.on("after-remove",N=>{N.item.parent=null})])}initialize(){this.when().catch(H=>{h.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,H)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var H=this.baseLayers.toArray();for(const F of H)F.destroy();
H=this.referenceLayers.toArray();for(const F of H)F.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=r.destroyMaybe(this.portalItem)}normalizeCtorArgs(H){H&&"resourceInfo"in H&&(this._set("resourceInfo",H.resourceInfo),H={...H},delete H.resourceInfo);return H}set baseLayers(H){this._set("baseLayers",d.referenceSetter(H,this._get("baseLayers")))}_writeBaseLayers(H,F,N){const S=[];H&&(N={...N,layerContainerType:"basemap"},this.baseLayers.forEach(W=>{W=y.getLayerJSON(W,
N.webmap?N.webmap.getLayerJSONFromResourceInfo(W):null,N);null!=W&&S.push(W)}),this.referenceLayers.forEach(W=>{const L=y.getLayerJSON(W,N.webmap?N.webmap.getLayerJSONFromResourceInfo(W):null,N);null!=L&&("scene"!==W.type&&(L.isReference=!0),S.push(L))}));F.baseMapLayers=S}set referenceLayers(H){this._set("referenceLayers",d.referenceSetter(H,this._get("referenceLayers")))}writeTitle(H,F){F.title=H||"Basemap"}load(H){this.addResolvingPromise(this._loadFromSource(H));return Promise.resolve(this)}loadAll(){return g.loadAll(this,
H=>{H(this.baseLayers,this.referenceLayers)})}clone(){const H={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(F=>q.isClonable(F)?F.clone():F),referenceLayers:this.referenceLayers.map(F=>q.isClonable(F)?F.clone():F)};this.loaded&&(H.loadStatus="loaded");return(new B({resourceInfo:this.resourceInfo})).set(H)}read(H,F){this.resourceInfo||this._set("resourceInfo",{data:H,context:F});super.read(H,F)}write(H,F){H=H||{};F?.origin||(F={origin:"web-map",...F});super.write(H,
F);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(H.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(N=>{N=q.clone(N);N.url&&p.isProtocolRelative(N.url)&&(N.url=`https:${N.url}`);N.templateUrl&&p.isProtocolRelative(N.templateUrl)&&(N.templateUrl=`https:${N.templateUrl}`);return N}));return H}async _loadFromSource(H){const {resourceInfo:F,portalItem:N,style:S}=this;u.throwIfAborted(H);const W=[];F?(W.push(this._loadLayersFromJSON(F.data,F.context?F.context.url:null,H)),F.data.id&&!F.data.title&&
W.push(k.getBasemapTitle(F.data.id).then(L=>{L&&this.read({title:L},F.context)}))):N?W.push(this._loadFromItem(N,H)):S&&W.push(this._loadFromStylesService(S,H));await Promise.all(W)}async _loadLayersFromJSON(H,F,N){const S=this.resourceInfo?.context,W=this.portalItem?.portal||S?.portal||null,L=K[S?.origin||""]??"web-map",{populateOperationalLayers:P}=await new Promise((D,R)=>a(["./layers/support/layersCreator"],D,R)),X=[];u.throwIfAborted(N);if(H.baseMapLayers&&Array.isArray(H.baseMapLayers)){F={context:{...S,
origin:L,url:F,portal:W,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const D=R=>"web-scene"===L&&"ArcGISSceneServiceLayer"===R.layerType||R.isReference;N=P(this.baseLayers,H.baseMapLayers.filter(R=>!D(R)),F);X.push(N);H=P(this.referenceLayers,H.baseMapLayers.filter(D),F);X.push(H)}await Promise.allSettled(X)}async _loadFromItem(H,F){const N=await (await H.load(F)).fetchData("json",F),S=p.urlToObject(H.itemUrl??"");this._set("resourceInfo",{data:N.baseMap??{},context:{origin:J[H.type||
""]??"web-map",portal:H.portal||w.getDefault(),url:S}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:N.spatialReference},this.resourceInfo.context);this.read({title:H.title,thumbnailUrl:H.thumbnailUrl},{origin:"portal-item",portal:H.portal||w.getDefault(),url:S});return this._loadLayersFromJSON(this.resourceInfo.data,S,F)}async _loadFromStylesService(H,F){var N=H.serviceUrl.endsWith("/webmaps")?H.serviceUrl.slice(0,-8):H.serviceUrl;const S=`${N}/webmaps/${H.id}`,
[W,L]=await Promise.all([(await c(`${N}/styles/${H.id}/self`,{query:{token:H.apiKey},signal:F?.signal})).data,(await c(S,{query:{language:H.languageParameter,places:H.places,worldview:H.worldview,token:H.apiKey},signal:F?.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=W.thumbnailUrl);N=p.urlToObject(S);this._set("resourceInfo",{data:L.baseMap??{},context:{origin:"web-map",url:N}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:L.spatialReference},this.resourceInfo.context);
await this._loadLayersFromJSON(this.resourceInfo.data,N,F);if(H.apiKey)for(const P of[...this.baseLayers,...this.referenceLayers])"apiKey"in P&&(P.apiKey=H.apiKey)}static fromId(H){return(H=k.esriBasemapDefinitions[H])?H.itemId?new B({portalItem:{id:H.itemId,portal:{url:"https://www.arcgis.com"}}}):B.fromJSON(H,{origin:H.is3d?"web-scene":"web-map"}):null}};b.__decorate([l.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(H,F,N,S){this._writeBaseLayers(H,F,S)}},origins:{"web-scene":{write:{ignoreOrigin:!0,
target:{baseMapLayers:{type:f}},writer(H,F,N,S){this._writeBaseLayers(H,F,S)}}}}}})],n.prototype,"baseLayers",null);b.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],n.prototype,"id",void 0);b.__decorate([l.property({type:z})],n.prototype,"portalItem",void 0);b.__decorate([l.property()],n.prototype,"referenceLayers",null);b.__decorate([l.property({readOnly:!0})],n.prototype,"resourceInfo",void 0);b.__decorate([l.property({type:t})],n.prototype,"spatialReference",void 0);
b.__decorate([l.property({type:x})],n.prototype,"style",void 0);b.__decorate([l.property()],n.prototype,"thumbnailUrl",void 0);b.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],n.prototype,"title",void 0);b.__decorate([A.writer("title")],n.prototype,"writeTitle",null);n=B=b.__decorate([v.subclass("esri.Basemap")],n);const J={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},K={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};
return n})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/MapUtils ./core/promiseUtils ./core/urlUtils ./layers/support/arcgisLayerUrl ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u,p){async function l(da,sa){da instanceof URL&&(da=da.toString());sa?.query instanceof URLSearchParams&&(sa.query=g.queryToObject(sa.query.toString().replaceAll("+"," ")));var qa=g.isDataProtocol(da);
const ia=g.isBlobProtocol(da);ia||qa||(da=g.normalize(da));const la={url:da,requestOptions:{...sa}};sa=ha=>({data:ha,getAllHeaders:R,getHeader:R,httpStatus:200,requestOptions:la.requestOptions,url:la.url});var ua=g.getInterceptor(da,W.internalInterceptors);if(ua&&(ua=await y(ua,la),null!=ua))return sa(ua);if(ua=g.getInterceptor(da)){da=await y(ua,la);if(null!=da)return sa(da);ua.after||ua.error||(ua=null)}da=la.url;sa=la.requestOptions;if("image"===sa.responseType&&(d("host-webworker")||d("host-node")))throw A("request:invalid-parameters",
Error("responseType 'image' is not supported in Web Workers or Node environment"),la);if("head"===sa.method){if(sa.body)throw A("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),la);if(qa||ia)throw A("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),la);}await t();if(S)return S.execute(da,sa);const ya=new AbortController,V=e.onAbort(sa,()=>ya.abort());qa={controller:ya,credential:void 0,credentialToken:void 0,fetchOptions:void 0,
hasToken:!1,interceptor:ua,params:la,redoRequest:!1,useIdentity:W.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};qa=await (sa.useRequestQueue?J(qa):K(qa)).finally(()=>V?.remove());ua?.after?.(qa);return qa}function m(da){(da=g.getOrigin(da))&&!l._corsServers.includes(da)&&l._corsServers.push(da)}function v(da){da=g.getOrigin(da);return!da||da.endsWith(".arcgis.com")||l._corsServers.includes(da)||g.isTrustedServer(da)}function A(da,sa,qa,ia){let la="Error";const ua={url:qa.url,requestOptions:qa.requestOptions,
getAllHeaders:R,getHeader:R,ssl:!1};if(sa instanceof f)return sa.details?(sa.details=n.clone(sa.details),sa.details.url=qa.url,sa.details.requestOptions=qa.requestOptions):sa.details=ua,sa;if(sa){qa=ia&&(()=>Array.from(ia.headers));const ya=ia&&(ha=>ia.headers.get(ha)),V=sa.message;V&&(la=V);qa&&ya&&(ua.getAllHeaders=qa,ua.getHeader=ya);ua.httpStatus=(null!=sa.httpCode?sa.httpCode:sa.code)||ia?.status||0;ua.subCode=sa.subcode;ua.messageCode=sa.messageCode;ua.messages="string"===typeof sa.details?
[sa.details]:sa.details;ua.raw=Y in sa?sa[Y]:sa}return e.isAbortError(sa)?e.createAbortError():new f(da,la,ua)}async function t(){d("host-webworker")&&!S&&(S=await new Promise((da,sa)=>a(["./core/workers/request"],da,sa)))}async function w(){c.id||await new Promise((da,sa)=>a(["./identity/IdentityManager"],qa=>da(Object.freeze(Object.defineProperty({__proto__:null,default:qa},Symbol.toStringTag,{value:"Module"}))),sa))}async function z(da){const sa=da.params.url,qa=da.params.requestOptions,ia=da.controller.signal,
la=qa.body;let ua=null,ya=null;L&&"HTMLFormElement"in globalThis&&(la instanceof FormData?ua=la:la instanceof HTMLFormElement&&(ua=new FormData(la)));"string"===typeof la&&(ya=la);da.fetchOptions={cache:qa.cacheBust?"no-cache":"default",credentials:"same-origin",headers:qa.headers||{},method:"head"===qa.method?"HEAD":"GET",mode:"cors",priority:W.priority,redirect:"follow",signal:ia};if(ua||ya)da.fetchOptions.body=ua||ya;"anonymous"===qa.authMode&&(da.useIdentity=!1);da.hasToken=!!(/token=/i.test(sa)||
qa.query?.token||ua?.get("token"));!da.hasToken&&u.isApiKeyApplicable(sa)&&(qa.query||(qa.query={}),qa.query.token=b.apiKey,da.hasToken=!0);if(da.useIdentity&&!da.hasToken&&!da.credentialToken&&!k(sa)&&!e.isAborted(ia)){let V;"immediate"===qa.authMode?(await w(),V=await c.id.getCredential(sa,{signal:ia}),da.credential=V):"no-prompt"===qa.authMode?(await w(),V=await c.id.getCredential(sa,{prompt:!1,signal:ia}).catch(()=>{}),da.credential=V):c.id&&(V=c.id.findCredential(sa));V&&(da.credentialToken=
V.token,da.useSSL=!!V.ssl)}}function k(da){return D.some(sa=>sa.test(da))}async function x(da){let sa=da.params.url;const qa=da.params.requestOptions,ia=da.fetchOptions??{},la=g.isBlobProtocol(sa)||g.isDataProtocol(sa),ua=qa.responseType||"json";var ya=la?0:null!=qa.timeout?qa.timeout:W.timeout,V=!1;if(!la){da.useSSL&&(sa=g.toHTTPS(sa));var ha={...qa.query};da.credentialToken&&(ha.token=da.credentialToken);V=g.objectToQuery(ha);d("esri-url-encodes-apostrophe")&&(V=V.replaceAll("'","%27"));const Q=
sa.length+1+V.length;let fa;V="delete"===qa.method||"post"===qa.method||"put"===qa.method||!!qa.body||Q>W.maxUrlLength;const ta=qa.useProxy||!!g.getProxyRule(sa);if(ta){const za=g.getProxyUrl(sa);fa=za.path;!V&&fa.length+1+Q>W.maxUrlLength&&(V=!0);za.query&&(ha={...za.query,...ha})}if("HEAD"===ia.method&&(V||ta)){if(V){if(Q>W.maxUrlLength)throw A("request:invalid-parameters",Error("URL exceeds maximum length"),da.params);throw A("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),
da.params);}if(ta)throw A("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),da.params);}V?(ia.method="delete"===qa.method?"DELETE":"put"===qa.method?"PUT":"POST",qa.body?sa=g.addQueryParameters(sa,ha):(ia.body=g.objectToQuery(ha),ia.headers||(ia.headers={}),ia.headers["Content-Type"]="application/x-www-form-urlencoded")):sa=g.addQueryParameters(sa,ha);ta&&(da.useProxy=!0,sa=`${fa}?${sa}`);ha.token&&L&&ia.body instanceof FormData&&!r.isSecureProxyService(sa)&&ia.body.set("token",
ha.token);qa.hasOwnProperty("withCredentials")?da.withCredentials=qa.withCredentials:g.hasSameOrigin(sa,g.getAppUrl())||(g.isTrustedServer(sa)?da.withCredentials=!0:c.id&&c.id.findServerInfo(sa)?.webTierAuth&&(da.withCredentials=!0));da.withCredentials&&(ia.credentials="include",p.isNoCorsRequestRequired(sa)&&await p.sendNoCorsRequest(V?g.addQueryParameters(sa,ha):sa))}ha=0;let ma=!1;0<ya&&(ha=setTimeout(()=>{ma=!0;da.controller.abort()},ya));ya=void 0;let G;try{if("native-request-init"===qa.responseType)G=
ia,G.url=sa,qa.signal?G.signal=qa.signal:delete G.signal;else if("image"!==qa.responseType||"default"!==ia.cache||"GET"!==ia.method||V||B(qa.headers)||!la&&!da.useProxy&&W.proxyUrl&&!v(sa))if(l._beforeFetch&&await l._beforeFetch(sa,ia),ya=await fetch(sa,ia),l._afterFetch&&await l._afterFetch(ya),da.useProxy||m(sa),"native"===qa.responseType)G=ya;else{if("HEAD"!==ia.method)if(ya.ok){switch(ua){case "array-buffer":G=await ya.arrayBuffer();break;case "blob":case "image":G=await ya.blob();break;default:G=
await ya.text()}ha&&(clearTimeout(ha),ha=0);if("json"===ua||"xml"===ua||"document"===ua)if(G)switch(ua){case "json":G=JSON.parse(G);break;case "xml":G=E(G,"application/xml");break;case "document":G=E(G,"text/html")}else G=null;if(G){if("array-buffer"===ua||"blob"===ua){const Q=ya.headers.get("Content-Type");if(Q&&/application\/json|text\/plain/i.test(Q)&&750>=G["blob"===ua?"size":"byteLength"])try{const fa=await (new Response(G)).json();fa.error&&(G=fa)}catch{}}"image"===ua&&G instanceof Blob&&(G=
await F(URL.createObjectURL(G),da,!0))}}else{G=await ya.text();try{G=JSON.parse(G)}catch{}}}else G=await F(sa,da)}catch(Q){if("AbortError"===Q.name){if(ma)throw p.createTimeoutError();throw e.createAbortError("Request canceled");}if(!ya&&Q instanceof TypeError&&W.proxyUrl&&!qa.body&&"delete"!==qa.method&&"head"!==qa.method&&"post"!==qa.method&&"put"!==qa.method&&!da.useProxy&&!v(sa))da.redoRequest=!0,g.addProxyRule({proxyUrl:W.proxyUrl,urlPrefix:g.getOrigin(sa)??""});else throw Q;}finally{ha&&clearTimeout(ha)}return[ya,
G]}async function y(da,sa){if(null!=da.responseData)return da.responseData;da.headers&&(sa.requestOptions.headers={...sa.requestOptions.headers,...da.headers});da.query&&(sa.requestOptions.query={...sa.requestOptions.query,...da.query});if(da.before){let qa,ia;try{ia=await da.before(sa)}catch(la){qa=A("request:interceptor",la,sa)}if(ia instanceof Error||ia instanceof f)qa=A("request:interceptor",ia,sa);if(qa)throw da.error&&da.error(qa),qa;return ia}}function B(da){if(da)for(const sa of Object.getOwnPropertyNames(da))if(da[sa])return!0;
return!1}function E(da,sa){let qa;try{qa=(new DOMParser).parseFromString(da,sa)}catch{}if(!qa||qa.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return qa}async function J(da){const sa=N(da.params.url);if(!sa)return K(da);const {QueueProcessor:qa}=await new Promise((ia,la)=>a(["./core/QueueProcessor"],ia,la));return q.getOrCreateMapValue(ja,sa.origin,()=>{const ia=sa.isHosted?d("request-queue-concurrency-hosted"):d("request-queue-concurrency-non-hosted");return new qa({concurrency:ia,
process:la=>{if(e.isAborted(la.params.requestOptions))throw A("",e.createAbortError("Request canceled"),la.params);return K(la)}})}).push(da)}async function K(da){await z(da);let sa;try{do[sa,qa]=await x(da);while(!await H(da,sa,qa))}catch(ua){var qa=A("request:server",ua,da.params,sa);qa.details.ssl=da.useSSL;da.interceptor?.error&&da.interceptor.error(qa);throw qa;}var ia=da.params.url;qa&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(ia)&&(da.hasToken||da.credentialToken||!qa.user?.username||
g.isTrustedServer(ia)||(ia=g.getOrigin(ia,!0))&&W.trustedServers.push(ia),Array.isArray(qa.authorizedCrossOriginNoCorsDomains)&&p.registerNoCorsDomains(qa.authorizedCrossOriginNoCorsDomains));var la=da.credential;la&&c.id&&(ia=c.id.findServerInfo(la.server)?.owningSystemUrl)&&(ia=ia.replace(/\/?$/,"/sharing"),(la=c.id.findCredential(ia,la.userId))&&-1===c.id._getIdenticalSvcIdx(ia,la)&&la.resources.unshift(ia));return{data:qa,getAllHeaders:sa?()=>Array.from(sa.headers):R,getHeader:sa?ua=>sa.headers.get(ua):
R,httpStatus:sa?.status??200,requestOptions:da.params.requestOptions,ssl:da.useSSL,url:da.params.url}}async function H(da,sa,qa){if(da.redoRequest)return da.redoRequest=!1;var ia=da.params.requestOptions;if(!sa||"native"===ia.responseType||"native-request-init"===ia.responseType)return!0;let la;qa&&(qa.error&&"object"===typeof qa.error?la=qa.error:"error"===qa.status&&Array.isArray(qa.messages)&&(la={...qa},la[Y]=qa,la.details=qa.messages));if(!la&&!sa.ok)throw la=Error(`Unable to load ${sa.url} status: ${sa.status}`),
la[Y]=qa,la;let ua;sa=null;let ya;la&&(ua=Number(la.code),sa=la.hasOwnProperty("subcode")?Number(la.subcode):null,ya=la.messageCode,ya=ya?.toUpperCase());ia=ia.authMode;if(403===ua&&(4===sa||la.message?.toLowerCase().includes("ssl")&&!la.message.toLowerCase().includes("permission"))){if(!da.useSSL)return da.useSSL=!0,!1}else if(!(da.hasToken||!da.useIdentity||"no-prompt"===ia&&498!==ua||void 0===ua||!P.has(ua)||k(da.params.url)||403===ua&&(ya&&X.has(ya)||!(null==sa||2===sa&&da.credentialToken)))){await w();
try{const V=await c.id.getCredential(da.params.url,{error:A("request:server",la,da.params),prompt:"no-prompt"!==ia,signal:da.controller.signal,token:da.credentialToken});da.credential=V;da.credentialToken=V.token;da.useSSL=da.useSSL||V.ssl;return!1}catch(V){if("no-prompt"===ia)return da.credential=void 0,da.credentialToken=void 0,!1;la=V}}if(la)throw la;return!0}function F(da,sa,qa=!1){const ia=sa.controller.signal,la=new Image;la.crossOrigin=sa.withCredentials?"use-credentials":"anonymous";la.alt=
"";la.fetchPriority=W.priority;la.src=da;return p.loadImageAsync(la,da,qa,ia)}function N(da){let sa;"string"===typeof da?(sa=g.getOrigin(da,!0),da=h.isHostedAgolService(da)):(sa=da.origin,da=h.isHostedAgolService(da.toString()));return null==sa?null:{origin:sa,isHosted:da}}let S;const W=b.request,L="FormData"in globalThis,P=new Set([499,498,403,401]),X=new Set(["COM_0056","COM_0057","SB_0008"]),D=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],R=()=>null,Y=Symbol();l._corsServers=
["https://server.arcgisonline.com","https://services.arcgisonline.com"];l._beforeFetch=void 0;l._afterFetch=void 0;const ja=new Map;return l})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){b={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",
kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],internalInterceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62E3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/has":function(){define(function(){function a(c){return"function"===typeof b[c]?b[c]=
b[c](globalThis):b[c]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(c,f,d,n)=>{if(n||void 0===b[c])b[c]=f;d&&a(c)};a.cache=b;a.add("big-integer-warning-enabled",!0);a.add("esri-deprecation-warnings",!0);a.add("esri-tests-disable-screenshots",!1);a.add("esri-tests-use-full-window",!1);a.add("esri-tests-post-to-influx",!0);a.add("esri-cim-animations-enable-status","enabled");a.add("esri-cim-animations-spotlight",
!1);a.add("esri-cim-animations-freeze-time",!1);a.add("enable-feature:multiple-highlights",!0);(()=>{a.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var c="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",c);a.add("dom",c);if(a("host-browser")){var f=navigator;c=f.userAgent;var d=f.appVersion;f=parseFloat(d);a.add("edge",parseFloat(c.split("Edge/")[1])||
void 0);a.add("webkit",!a("edge")&&parseFloat(c.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(c.split("Chrome/")[1])||void 0);a.add("safari",!d.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(d.split("Version/")[1]));a.add("mac",d.includes("Macintosh"));if(/(iPhone|iPod|iPad)/.test(c)){d=RegExp.$1.replace(/P/,"p");var n=/OS ([\d_]+)/.test(c)?RegExp.$1:"1";n=parseFloat(n.replace(/_/,".").replaceAll("_",""));a.add(d,n);a.add("ios",n)}a("webkit")||(c.includes("Gecko")&&
!a("edge")&&a.add("mozilla",f),a("mozilla")&&a.add("ff",parseFloat(c.split("Firefox/")[1]||c.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var c=navigator.userAgent;const f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(c);c=/iPhone/i.test(c);f&&a.add("esri-mobile",f);c&&a.add("esri-iPhone",c);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-performance-mode-frames-between-render",20);a.add("esri-force-performance-mode",
!1);a.add("esri-shared-array-buffer",()=>{const f=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!f});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("workers-pool-size",
8);a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-fast-triangulation-enabled",!0);a.add("featurelayer-animation-enabled",!0);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-query-max-depth",4);a.add("featurelayer-query-pausing-enabled",!1);
a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-essential-goto-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);a.add("request-queue-concurrency-hosted",16);a.add("request-queue-concurrency-non-hosted",
4);a.add("curve-densification-coarse-segments",128);a.add("curve-densification-max-segments",2E3);a.add("curve-densification-min-segments",3);a.add("curve-densification-pixels-per-segment",16);a.add("view-readyState-waiting-delay",1E3);a.add("gradient-depth-bias",.01);a.add("gradient-depth-epsilon",1E-8);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const f=new Image;f.src=
'data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';f.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const f=window.document.createElement("a");f.href="?'";return f.href.includes("?%27")}))})();return a})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(n,q){if(null==n&&null==q)return!1;
if(null==n||null==q)return!0;if("object"===typeof n){if(Array.isArray(n)){if(n.length!==q.length)return!0;for(var e=0;e<n.length;e++)if(c(n[e],q[e]))return!0;return!1}if(Object.keys(n).length!==Object.keys(q).length)return!0;for(e in n)if(c(n[e],q[e]))return!0;return!1}return n!==q}function f(n,q,e){for(const g of n){if(null==e)return;if(!(g in e))if(q)e[g]={};else return;e=e[g]}return e}function d(n,q,e){return q?Object.keys(q).reduce((g,h)=>{let r=g[h],u=q[h];if(r===u)return g;if(void 0===r)return g[h]=
b.clone(u),g;if(Array.isArray(u)||Array.isArray(g))r=r?Array.isArray(r)?g[h]=r.slice():g[h]=[r]:g[h]=[],u&&(Array.isArray(u)||(u=[u]),e?u.forEach(p=>{r.includes(p)||r.push(p)}):g[h]=u.slice());else if(u&&"object"===typeof u)g[h]=d(r,u,e);else if(!g.hasOwnProperty(h)||q.hasOwnProperty(h))g[h]=u;return g},n||{}):n}a.deepMerge=function(n,q,e=!1){return d(n,q,e)};a.getDeepValue=function(n,q){if(null!=q)return q[n]||f(n.split("."),!1,q)};a.notDeepEqual=c;a.setDeepValue=function(n,q,e){const g=n.split(".");
n=g.pop();(e=f(g,!0,e))&&n&&(e[n]=q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],function(a,b,c){function f(p,l){let m;if(l)for(m in p)p.hasOwnProperty(m)&&(void 0===p[m]?delete p[m]:p[m]instanceof Object&&f(p[m],!0));else for(m in p)p.hasOwnProperty(m)&&void 0===p[m]&&delete p[m];return p}function d(p){if(!p||"object"!==typeof p||"function"===typeof p)return p;var l=r(p);if(null!=l)return l;if(q(p))return p.clone();
if(e(p))return p.map(d);if(g(p))throw Error("Trying to clone an unclonable Accessor instance");l={};for(const m of Object.getOwnPropertyNames(p))l[m]=d(p[m]);return l}function n(p){if(!p||"object"!==typeof p||"function"===typeof p||"HTMLElement"in globalThis&&p instanceof HTMLElement)return p;var l=r(p);if(null!=l)return l;if(e(p)){let m=!0;p=p.map(v=>{const A=n(v);null!=v&&null==A&&(m=!1);return A});return m?p:null}if(q(p))return p.clone();if(p instanceof File||p instanceof Blob)return p;if(g(p))return null;
l=new (Object.getPrototypeOf(p).constructor);for(const m of Object.getOwnPropertyNames(p)){const v=p[m],A=n(v);if(null!=v&&null==A)return null;l[m]=A}return l}function q(p){return"function"===typeof p.clone}function e(p){return"function"===typeof p.map&&"function"===typeof p.forEach}function g(p){return"function"===typeof p.notifyChange&&"function"===typeof p.watch}function h(p){if("[object Object]"!==Object.prototype.toString.call(p))return!1;p=Object.getPrototypeOf(p);return null===p||p===Object.prototype}
function r(p){if(c.isInt8Array(p)||c.isUint8Array(p)||c.isUint8ClampedArray(p)||c.isInt16Array(p)||c.isUint16Array(p)||c.isInt32Array(p)||c.isUint32Array(p)||c.isFloat32Array(p)||c.isFloat64Array(p))return p.slice();if(p instanceof Date)return new Date(p.getTime());if(p instanceof ArrayBuffer)return p.slice(0,p.byteLength);if(p instanceof Map){var l=new Map;for(const [m,v]of p)l.set(m,d(v));return l}if(p instanceof Set){l=new Set;for(const m of p)l.add(d(m));return l}return null}function u(p,l){if(null===
p||null===l)return!1;const m=Object.keys(p);if(null===l||Object.keys(l).length!==m.length)return!1;for(const v of m)if(p[v]!==l[v]||!Object.prototype.hasOwnProperty.call(l,v))return!1;return!0}a.clone=d;a.equals=function(p,l){return p===l||"number"===typeof p&&isNaN(p)&&"number"===typeof l&&isNaN(l)||"function"===typeof p?.getTime&&"function"===typeof l?.getTime&&p.getTime()===l.getTime()||!1};a.equalsShallow=function(p,l){if(p===l)return!0;if(null===p||void 0===p||"string"===typeof p)return p===
l;if("number"===typeof p)return p===l||"number"===typeof l&&isNaN(p)&&isNaN(l);if(p instanceof Date)return l instanceof Date&&p.getTime()===l.getTime();if(Array.isArray(p))return Array.isArray(l)&&b.equals(p,l);if(p instanceof Set){var m;if(m=l instanceof Set)a:if(p.size!==l.size)m=!1;else{for(const v of p)if(!l.has(v)){m=!1;break a}m=!0}return m}if(p instanceof Map){if(m=l instanceof Map)a:if(p.size!==l.size)m=!1;else{for(const [v,A]of p)if(p=l.get(v),p!==A||void 0===p&&!l.has(v)){m=!1;break a}m=
!0}return m}return h(p)?h(l)&&u(p,l):!1};a.fixJson=f;a.isAccessorLike=g;a.isClonable=q;a.isPlainObject=h;a.tryClone=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","./compilerUtils","./RandomLCG"],function(a,b,c){function f(p){return p}function d(p,l=f){if(p&&0!==p.length){var m=p[0],v=l(m);for(let A=1;A<p.length;++A){const t=p[A],w=Number(l(t));w>v&&(v=w,m=t)}return m}}function n(p,l,m,v){v=v||h;var A=Math.max(0,v.last-10);for(let t=
A;t<m;++t)if(p[t]===l)return v.last=t;m=Math.min(A,m);for(A=0;A<m;++A)if(p[A]===l)return v.last=A;return-1}function q(p){return p?(u.seed=p,()=>u.getFloat()):Math.random}const e=1/1.5;class g{constructor(){this.last=0}}const h=new g,r=new Set,u=new c;a.PositionHint=g;a.addMany=function(p,l){if(!l)return p;for(const m of l)p.push(m);return p};a.binaryIndexOf=function(p,l,m){const v=p.length;let A=0;for(var t=v-1;A<t;){const w=A+Math.floor((t-A)/2);l>p[w]?A=w+1:t=w}t=p[A];return m?l>=p[v-1]?-1:t===
l?A:A-1:t===l?A:-1};a.difference=function(p,l,m){let v,A;m?(v=l.filter(t=>!p.some(w=>m(w,t))),A=p.filter(t=>!l.some(w=>m(w,t)))):(v=l.filter(t=>!p.includes(t)),A=p.filter(t=>!l.includes(t)));return{added:v,removed:A}};a.emptyArray=[];a.equals=function(p,l,m){if(null==p&&null==l)return!0;if(null==p||null==l||p.length!==l.length)return!1;if(m)for(let v=0;v<p.length;v++){if(!m(p[v],l[v]))return!1}else for(m=0;m<p.length;m++)if(p[m]!==l[m])return!1;return!0};a.filterInPlace=function(p,l){let m=0;for(let v=
0;v<p.length;++v){const A=p[v];l(A,v)&&(p[m]=A,m++)}p.length=m};a.getRandomNumberGenerator=q;a.indexOf=n;a.intersect=function(p,l,m){return p&&l?m?p.filter(v=>-1<l.findIndex(A=>m(v,A))):p.filter(v=>l.includes(v)):[]};a.isArrayLike=function(p){return p&&"number"===typeof p.length};a.isSome=function(p,l){return null!=p};a.max=d;a.min=function(p,l=f){return d(p,m=>-l(m))};a.pickRandom=function(p,l,m){const v=p.length;if(l>=v)return p.slice();m=q(m);const A=new Set,t=[];for(;t.length<l;){const w=Math.floor(m()*
v);A.has(w)||(A.add(w),t.push(p[w]))}return t};a.pushIfSome=function(p,...l){for(const m of l)null!=m&&p.push(m);return p.length};a.range=function(p,l){void 0===l&&(l=p,p=0);const m=Array(l-p);for(let v=p;v<l;v++)m[v-p]=v;return m};a.reallocGrowthFactor=1.5;a.reallocShrinkFactor=e;a.reallocShrinkThreshold=.5;a.remove=function(p,l){const m=p.indexOf(l);return-1!==m?(p.splice(m,1),l):null};a.removeUnordered=function(p,l,m,v){const A=null==m?p.length:m;v=n(p,b.toConst(l),A,v);if(-1!==v)return p[v]=p[A-
1],null==m&&p.pop(),l};a.removeUnorderedMany=function(p,l,m=p.length,v=l.length,A,t){if(0===v||0===m)return m;r.clear();for(let w=0;w<v;++w)r.add(l[w]);A=A||h;l=Math.max(0,A.last-10);for(v=l;v<m;++v)if(r.has(p[v])&&(t?.push(p[v]),r.delete(p[v]),p[v]=p[m-1],--m,--v,0===r.size||0===m))return r.clear(),m;for(v=0;v<l;++v)if(r.has(p[v])&&(t?.push(p[v]),r.delete(p[v]),p[v]=p[m-1],--m,--v,0===r.size||0===m))return r.clear(),m;r.clear();return m};a.shuffle=function(p,l){l=q(l);for(let m=p.length-1;0<m;m--){const v=
Math.floor(l()*(m+1)),A=p[m];p[m]=p[v];p[v]=A}return p};a.splitIntoChunks=function(p,l){const m=p.length;if(0===m)return[];const v=[];for(let A=0;A<m;A+=l)v.push(p.slice(A,A+l));return v};a.unique=function(p,l){return l?p.filter((m,v,A)=>A.findIndex(l.bind(null,m))===v):Array.from(new Set(p))};a.update=function(p,l){let m=p.length!==l.length;m&&(p.length=l.length);for(let v=0;v<l.length;++v)p[v]!==l[v]&&(p[v]=l[v],m=!0);return m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports",
"./has"],function(a,b){a.neverReached=function(c){};a.neverReachedSilent=function(c){};a.toConst=function(c){return c};a.typeCast=function(c){return()=>c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(function(){class a{constructor(b=1){this._seed=b}set seed(b){this._seed=null==b?Math.random()*a._m:b}getInt(){return this._seed=(a._a*this._seed+a._c)%a._m}getFloat(){return this.getInt()/(a._m-1)}getIntRange(b,c){return Math.round(this.getFloatRange(b,
c))}getFloatRange(b,c){c-=b;const f=this.getInt()/a._m;return b+f*c}}a._m=2147483647;a._a=48271;a._c=0;return a})},"esri/core/typedArrayUtil":function(){define(["exports","./has"],function(a,b){function c(u){return"Int8Array"===u?.constructor?.name}function f(u){return"Uint8Array"===u?.constructor?.name}function d(u){return"Uint8ClampedArray"===u?.constructor?.name}function n(u){return"Int16Array"===u?.constructor?.name}function q(u){return"Uint16Array"===u?.constructor?.name}function e(u){return"Int32Array"===
u?.constructor?.name}function g(u){return"Uint32Array"===u?.constructor?.name}function h(u){return"Float32Array"===u?.constructor?.name}function r(u){return"Float64Array"===u?.constructor?.name}a.isArrayBuffer=function(u){return u instanceof ArrayBuffer};a.isFloat=function(u){return r(u)||h(u)};a.isFloat32Array=h;a.isFloat64Array=r;a.isInt16Array=n;a.isInt32Array=e;a.isInt8Array=c;a.isSigned=function(u){return r(u)||h(u)||e(u)||n(u)||c(u)};a.isTypedArray=function(u){return"buffer"in u};a.isUint16Array=
q;a.isUint32Array=g;a.isUint8Array=f;a.isUint8ClampedArray=d;a.maximumValue=function(u){return r(u)?1.79769E308:h(u)?3.402823E38:g(u)?4294967295:q(u)?65535:f(u)||d(u)?255:e(u)?2147483647:n(u)?32767:c(u)?127:256};a.nativeArrayMaxSize=1024;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,c,f,d){let n;(n=Symbol).dispose??(n.dispose=Symbol("Symbol.dispose"));let q;(q=Symbol).asyncDispose??
(q.asyncDispose=Symbol("Symbol.asyncDispose"));b.id=void 0;c("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}});if(!c("host-webworker")){console.debug(`Using ArcGIS Maps SDK for JavaScript ${"4.32"} [Date: ${d.buildDate}, Revision: ${d.commitHash.slice(0,8)}]`);let e;"function"===typeof globalThis.require&&(e=globalThis.require);const g=r=>{if(!e)return Promise.reject("global AMD `require` function not found");const u=
r.startsWith("@arcgis/core/")?r.replace("@arcgis/core/","esri/").replace(/.js$/,""):r;return new Promise(p=>e([u],l=>{p(l)}))},h=r=>{var u;var p=(u=globalThis.$arcgis.importMap?.imports)&&r in u?u[r]:null;p?(u=!0,r=p):u=r.startsWith("/")||r.startsWith("./")||r.startsWith("../")||f.isAbsolute(r);return u?import(r):g(r)};Object.defineProperty(globalThis.$arcgis,"import",{configurable:!1,enumerable:!0,writable:!1,value:r=>Array.isArray(r)?Promise.all(r.map(h)):h(r)})}b.buildDate=d.buildDate;b.revision=
d.commitHash;b.addTokenParameter=function(e){const g=b.id?.findCredential(e);return g?.token?f.addQueryParameter(e,"token",g.token):e};b.fullVersion="4.32";b.setId=function(e){b.id=e};b.version="4.32";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../config ./arrayUtils ./Error ./JSONSupport ./Logger ../portal/support/urlUtils ../support/base64Utils".split(" "),function(a,b,c,f,d,n,q,e){function g(I){if(!I)return null;const U={path:null,
query:null},ea=new ma(I),ra=I.indexOf("?");null===ea.query?U.path=I:(U.path=I.slice(0,ra),U.query=h(ea.query));ea.fragment&&(U.hash=ea.fragment,null===ea.query&&(U.path=U.path.slice(0,U.path.length-(ea.fragment.length+1))));return U}function h(I){var U=I.split("\x26");I={};for(const ra of U){if(!ra)continue;var ea=ra.indexOf("\x3d");0>ea?(U=decodeURIComponent(ra),ea=""):(U=decodeURIComponent(ra.slice(0,ea)),ea=decodeURIComponent(ra.slice(ea+1)));let Ba=I[U];"string"===typeof Ba&&(Ba=I[U]=[Ba]);Array.isArray(Ba)?
Ba.push(ea):I[U]=ea}return I}function r(I,U){return I?U&&"function"===typeof U?Object.keys(I).map(ea=>encodeURIComponent(ea)+"\x3d"+encodeURIComponent(U(ea,I[ea]))).join("\x26"):Object.keys(I).map(ea=>{const ra=I[ea];if(null==ra)return"";const Ba=encodeURIComponent(ea)+"\x3d";return(ea=U?.[ea])?Ba+encodeURIComponent(ea(ra)):Array.isArray(ra)?ra.map(La=>d.isSerializable(La)?Ba+encodeURIComponent(JSON.stringify(La)):Ba+encodeURIComponent(La)).join("\x26"):d.isSerializable(ra)?Ba+encodeURIComponent(JSON.stringify(ra)):
Ba+encodeURIComponent(ra)}).filter(ea=>ea).join("\x26"):""}function u(I=!1){let U,ea=da.proxyUrl;if("string"===typeof I){if(U=S(I),I=m(I))ea=I.proxyUrl}else U=!!I;if(!ea)throw n.getLogger("esri.core.urlUtils").warn("esri/config: esriConfig.request.proxyUrl is not set."),new f("urlUtils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");U&&X()&&(ea=P(ea));return g(ea)}function p(I){const U=I.indexOf("?");-1!==U?(Ea.path=I.slice(0,U),Ea.query=I.slice(U+1)):(Ea.path=I,Ea.query=null);
return Ea}function l(I){I=p(I).path;I=R(I);I=D(I,!0);return I=I.toLowerCase()}function m(I){const U=da.proxyRules;I=l(I);for(let ea=0;ea<U.length;ea++)if(0===I.indexOf(U[ea].urlPrefix))return U[ea]}function v(I){I=w(I);const U=I.indexOf("/sharing");return 0<U?I.slice(0,U):I.replace(/\/+$/,"")}function A(I,U,ea=!1){if(!I||!U)return!1;I=ja(I);U=ja(U);return!ea&&I.scheme!==U.scheme||null==I.host||null==U.host?!1:I.host.toLowerCase()===U.host.toLowerCase()&&I.port===U.port}function t(I,U=za,ea){if(F(I))return ea?.preserveProtocolRelative?
I:"http"===fa.scheme&&fa.authority===k(I).slice(2)?`http:${I}`:`https:${I}`;if(!N(I)){ea=z;if("/"===I[0]){var ra=U.indexOf("//");ra=U.indexOf("/",ra+2);U=-1===ra?U:U.slice(0,ra)}return ea(U,I)}return I}function w(I){I=I.trim();I=t(I);if(/^https?:\/\//i.test(I)){const U=p(I);I=U.path.replaceAll(/\/{2,}/g,"/");I=I.replace("/","//");U.query&&(I+=`?${U.query}`)}I=I.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return I=Y(I)}function z(...I){var U=I.filter(c.isSome);if(U?.length){I=[];if(x(U[0])){var ea=
U[0],ra=ea.indexOf("//");-1!==ra&&(I.push(ea.slice(0,ra+1)),L(U[0])&&(I[0]+="/"),U[0]=ea.slice(ra+2))}else"/"===U[0][0]&&I.push("");U=U.reduce((Ba,La)=>La?Ba.concat(La.split("/")):Ba,[]);for(ea=0;ea<U.length;ea++)ra=U[ea],".."===ra&&0<I.length&&".."!==I[I.length-1]?I.pop():(!ra&&ea===U.length-1||ra&&("."!==ra||0===I.length))&&I.push(ra);return I.join("/")}}function k(I,U=!1){if(null==I||y(I)||B(I))return null;var ea=I.indexOf("://");if(-1===ea&&F(I))ea=2;else if(-1!==ea)ea+=3;else return null;ea=
I.indexOf("/",ea);-1!==ea&&(I=I.slice(0,ea));U&&(I=D(I,!0));return I}function x(I){return F(I)||N(I)}function y(I){return null!=I&&"blob:"===I.slice(0,5)}function B(I){return null!=I&&"data:"===I.slice(0,5)}function E(I){I=J(I);return I?.isBase64?e.base64ToArrayBuffer(I.data):null}function J(I){I=I.match(Ga);if(!I)return null;const [,U,ea,ra]=I;return{mediaType:U,isBase64:!!ea,data:ra}}function K(I){const U=E(I);if(!U)return null;I=J(I);return new Blob([U],{type:I.mediaType})}function H(I,U){if(!I)return!1;
const ea=document.createElement("a");if(!("download"in ea))return!1;I=URL.createObjectURL(I);ea.download=U;ea.href=I;ea.style.display="none";document.body.appendChild(ea);ea.click();document.body.removeChild(ea);URL.revokeObjectURL(I);return!0}function F(I){return null!=I&&"/"===I[0]&&"/"===I[1]}function N(I){return null!=I&&sa.test(I)}function S(I){return null!=I&&ia.test(I)||"https"===fa.scheme&&F(I)}function W(I){return null!=I&&qa.test(I)||"http"===fa.scheme&&F(I)}function L(I){return null!=I&&
la.test(I)}function P(I){return F(I)?`https:${I}`:I.replace(qa,"https:")}function X(){return"https"===fa.scheme}function D(I,U=!1){if(F(I))return I.slice(2);I=I.replace(sa,"");U&&1<I.length&&"/"===I[0]&&"/"===I[1]&&(I=I.slice(2));return I}function R(I){return I.endsWith("/")?I:`${I}/`}function Y(I){const U=da.httpsDomains;if(!W(I))return I;const ea=I.indexOf("/",7);let ra;ra=-1===ea?I:I.slice(0,ea);ra=ra.toLowerCase().slice(7);if(ua.test(ra))if(ra.endsWith(":80"))ra=ra.slice(0,-3),I=I.replace(":80",
"");else return I;if("http"===fa.scheme&&ra===fa.authority&&!ya.test(I))return I;if(X()&&ra===fa.authority||U&&U.some(Ba=>ra===Ba||ra.endsWith(`.${Ba}`))||X()&&!m(I))I=P(I);return I}function ja(I){if("string"===typeof I)return new ma(t(I));I.scheme||(I.scheme=fa.scheme);return I}const da=b.request,sa=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,qa=/^\s*http:/i,ia=/^\s*https:/i,la=/^\s*file:/i,ua=/:\d+$/,ya=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,V=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),
ha=RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class ma{constructor(I=""){this.uri=I;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;I=this.uri.match(V);this.scheme=I[2]||(I[1]?"":null);this.authority=I[4]||(I[3]?"":null);this.path=I[5];this.query=I[7]||(I[6]?"":null);this.fragment=I[9]||(I[8]?"":null);null!=this.authority&&(I=this.authority.match(ha),this.user=I[3]||null,this.password=I[4]||null,this.host=
I[6]||I[7],this.port=I[9]||null)}toString(){return this.uri}}const G={},Q=new ma(b.applicationUrl);let fa=Q;const ta=function(){var I=fa.path;I=I.slice(0,I.lastIndexOf("/")+1);return`${`${fa.scheme}://${fa.host}${null!=fa.port?`:${fa.port}`:""}`}${I}`}();let za=ta;const Ea={path:"",query:""},Ga=/^data:(.*?)(;base64)?,(.*)$/,Z=/([^.]*)\.([^/]*)$/,T=/(^data:image\/svg|\.svg$)/i;a.Url=ma;a.addProxy=function(I,U=!1){const ea=m(I);var ra=void 0;if(ea){var Ba=p(ea.proxyUrl);ra=Ba.path;Ba=Ba.query?h(Ba.query):
null}else U&&(Ba=u(I),ra=Ba.path,Ba=Ba.query);ra&&(U=g(I),I=ra+"?"+U.path,(ra=r({...Ba,...U.query}))&&(I=`${I}?${ra}`));return I};a.addProxyRule=function(I){I={proxyUrl:I.proxyUrl,urlPrefix:l(I.urlPrefix)};const U=da.proxyRules,ea=I.urlPrefix;let ra=U.length;for(let Ba=0;Ba<U.length;Ba++){const La=U[Ba].urlPrefix;if(0===ea.indexOf(La)){if(ea.length===La.length)return-1;ra=Ba;break}0===La.indexOf(ea)&&(ra=Ba+1)}U.splice(ra,0,I);return ra};a.addQueryParameter=function(I,U,ea){I=g(I);const ra=I.query||
{};ra[U]=String(ea);return`${I.path}?${r(ra)}`};a.addQueryParameters=function(I,U){if(!U)return I;I=g(I);const ea=I.query||{};for(const [ra,Ba]of Object.entries(U))null!=Ba&&(ea[ra]=Ba);return(U=r(ea))?`${I.path}?${U}`:I.path};a.base64UrlEncode=function(I){return e.arrayBufferToBase64(I).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")};a.blobUrlToBlob=async function(I){return(await fetch(I)).blob()};a.changeDomain=function(I,U,ea){if(!(U&&ea&&I&&x(I)))return I;const ra=I.indexOf("//");var Ba=
I.indexOf("/",ra+2);const La=I.indexOf(":",ra+2);Ba=Math.min(0>Ba?I.length:Ba,0>La?I.length:La);if(I.slice(ra+2,Ba).toLowerCase()!==U.toLowerCase())return I;U=I.slice(0,ra+2);I=I.slice(Ba);return`${U}${ea}${I}`};a.dataComponents=J;a.dataToArrayBuffer=E;a.dataToBlob=K;a.downloadBlobAsFile=function(I,U){H(I,U)};a.downloadDataAsFile=function(I,U){(I=K(I))&&H(I,U)};a.ensureTrailingSlash=R;a.getAppBaseUrl=()=>za;a.getAppUrl=()=>fa;a.getFilename=function(I,U){if(!I)return"";I=g(I).path.replace(/\/+$/,"");
I=I.slice(I.lastIndexOf("/")+1);if(!U?.length)return I;U=new RegExp(`\\.(${U.join("|")})$`,"i");return I.replace(U,"")};a.getInterceptor=function(I,U=da.interceptors){const ea=ra=>null==ra||ra instanceof RegExp&&ra.test(I)||"string"===typeof ra&&I.startsWith(ra);if(U)for(const ra of U)if(Array.isArray(ra.urls)){if(ra.urls.some(ea))return ra}else if(ea(ra.urls))return ra;return null};a.getOrigin=k;a.getPathExtension=function(I){return null==I?null:(I=I.match(Z))?I[2]:null};a.getProxyRule=m;a.getProxyUrl=
u;a.hasProtocol=N;a.hasSameCanonicalArcGISOnlinePortal=function(I,U){if(!I||!U)return!1;I=v(I);U=v(U);I=q.parseKnownArcGISOnlineDomain(I);U=q.parseKnownArcGISOnlineDomain(U);return null!=I&&null!=U?I.portalHostname===U.portalHostname:!1};a.hasSameCanonicalPortal=function(I,U){if(!I||!U)return!1;I=v(I);U=v(U);const ea=q.parseKnownArcGISOnlineDomain(I),ra=q.parseKnownArcGISOnlineDomain(U);return null!=ea&&null!=ra?ea.portalHostname===ra.portalHostname:null!=ea||null!=ra?!1:A(I,U,!0)};a.hasSameOrigin=
A;a.hasSamePortal=function(I,U){I=v(I);U=v(U);return D(I)===D(U)};a.isAbsolute=x;a.isAppHTTPS=X;a.isBlobProtocol=y;a.isDataProtocol=B;a.isHTTPSProtocol=S;a.isProtocolRelative=F;a.isSVG=function(I){return T.test(I)};a.isTrustedServer=function(I){if("string"===typeof I)if(x(I))I=ja(I);else return!0;if(A(I,fa))return!0;const U=da.trustedServers||[];for(let ra=0;ra<U.length;ra++){var ea=U[ra];G[ea]||(N(ea)||F(ea)?G[ea]=[new ma(t(ea))]:G[ea]=[new ma(`http://${ea}`),new ma(`https://${ea}`)]);ea=G[ea];for(let Ba=
0;Ba<ea.length;Ba++)if(A(I,ea[Ba]))return!0}return!1};a.join=z;a.makeAbsolute=t;a.makeData=function(I){return I.isBase64?`data:${I.mediaType};base64,${I.data}`:`data:${I.mediaType},${I.data}`};a.makeRelative=function(I,U=za,ea){if(null==I||!x(I))return I;var ra=w(I),Ba=ra.toLowerCase();U=w(U).toLowerCase().replace(/\/+$/,"");if((ea=ea?w(ea).toLowerCase().replace(/\/+$/,""):null)&&0!==U.indexOf(ea))return I;const La=(xa,Da,Ha)=>{Ha=xa.indexOf(Da,Ha);return-1===Ha?xa.length:Ha};let ca=La(Ba,"/",Ba.indexOf("//")+
2),va=-1;for(;Ba.slice(0,ca+1)===U.slice(0,ca)+"/";){va=ca+1;if(ca===Ba.length)break;ca=La(Ba,"/",ca+1)}if(-1===va||ea&&va<ea.length)return I;I=ra.slice(va);ra=U.slice(va-1).replaceAll(/[^/]+/g,"").length;if(0<ra)for(Ba=0;Ba<ra;Ba++)I=`../${I}`;else I=`./${I}`;return I};a.normalize=w;a.objectToQuery=r;a.parseData=async function(I){return"string"===typeof I?J(I)??{data:I}:new Promise((U,ea)=>{const ra=new FileReader;ra.readAsDataURL(I);ra.onload=()=>U(J(ra.result));ra.onerror=Ba=>ea(Ba)})};a.queryToObject=
h;a.removeFile=function(I){let U=0;if(x(I)){var ea=I.indexOf("//");-1!==ea&&(U=ea+2)}ea=I.lastIndexOf("/");return ea<U?I:I.slice(0,ea+1)};a.removeQueryParameter=function(I,U){const {path:ea,query:ra}=g(I);if(!ra)return I;delete ra[U];return(I=r(ra))?`${ea}?${I}`:ea};a.removeQueryParameters=function(I,U){I=g(I);const ea=Object.keys(I.query||{});0<ea.length&&U&&U.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${ea.join(", ")}.`);return I.path};
a.removeTrailingSlash=function(I){return I.replace(/\/+$/,"")};a.splitPathExtension=function(I){if(null==I)return null;const U=I.match(Z);return U?{path:U[1],extension:U[2]}:{path:I,extension:null}};a.test={setAppUrl:I=>fa=I,setAppBaseUrl:I=>za=I,restoreUrls:()=>{fa=Q;za=ta}};a.toHTTP=function(I){return F(I)?`http:${I}`:I.replace(ia,"http:")};a.toHTTPS=P;a.trustedServersUrlCache=G;a.urlToObject=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["./lang",
"./Logger","./Message"],function(a,b,c){class f extends c{constructor(d,n,q){super(d,n,q)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(d,n)=>{if(n&&"object"===typeof n&&"function"===typeof n.toJSON)return n;try{return a.clone(n)}catch(q){return"[object]"}}))}}catch(d){throw b.getLogger("esri.core.Error").error(d),d;}return{name:this.name,message:this.message,details:this.details}}static fromJSON(d){return new f(d.name,
d.message,d.details)}}f.prototype.type="error";return f})},"esri/core/Logger":function(){define(["../config","./has","./string"],function(a,b,c){function f(e,g,...h){console[e](`[${g}]`,...h)}function d(...e){return c.numericHash(JSON.stringify(e,(g,h)=>"object"!==typeof h||Array.isArray(h)?h:"[Object]"))}const n={info:0,warn:1,error:2,none:3};class q{constructor(e){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=e.level&&
(this.level=e.level);null!=e.writer&&(this.writer=e.writer);this._module=e.module;q._loggers.set(this.module,this);e=this.module.lastIndexOf(".");-1!==e&&(this._parent=q.getLogger(this.module.slice(0,e)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info",
"once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){e="string"!==typeof e?e.declaredClass:e;return q._loggers.get(e)||new q({module:e})}_log(e,g,...h){if(this._matchLevel(e)){if("always"!==g&&!q._throttlingDisabled){const r=d(h),u=this._loggedMessages[e].get(r);if("once"===g&&null!=u||"oncePerTick"===g&&u&&u>=
q._tickCounter)return;this._loggedMessages[e].set(r,q._tickCounter);q._scheduleTickCounterIncrement()}for(const r of a.log.interceptors)if(r(e,this.module,...h))return;this._inheritedWriter()(e,this.module,...h)}}_parentWithMember(e,g){let h=this;for(;null!=h;){const r=h[e];if(null!=r)return r;h=h.parent}return g}_inheritedWriter(){return this._parentWithMember("writer",f)}_matchLevel(e){return n[this._parentWithMember("level",a.log.level||"warn")]<=n[e]}static _scheduleTickCounterIncrement(){q._tickCounterScheduled||
(q._tickCounterScheduled=!0,Promise.resolve().then(()=>{q._tickCounter++;q._tickCounterScheduled=!1}))}}q._loggers=new Map;q._tickCounter=0;q._tickCounterScheduled=!1;q._throttlingDisabled=!1;return q})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(n){return null==n?"":n}const f=/\{([^}]+)\}/g;let d;a.escapeRegExpString=function(n,q){return n.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,e=>q?.includes(e)?e:`\\${e}`)};a.numericHash=function(n){let q=0;for(let e=0;e<
n.length;e++)q=(q<<5)-q+n.charCodeAt(e),q|=0;return q};a.replace=function(n,q){return q?n.replaceAll(f,"object"===typeof q?(e,g)=>c(b.getDeepValue(g,q)):(e,g)=>c(q(g))):n};a.safeToString=function(n,...q){let e=n[0];for(let g=0;g<q.length;++g)e+=q[g]+n[g+1];return e};a.stripHTML=function(n){d??=new DOMParser;return d.parseFromString(n||"","text/html").body.innerText||""};a.templateHasKey=function(n,q){return(new RegExp(`{${q}}`,"ig")).test(n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/Message":function(){define(["./object"],function(a){function b(f,d){return f.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,q)=>{if(""===q)return"$";n=a.getDeepValue(q,d);return(null==n?"":n).toString()})}class c{constructor(f,d,n){this.name=f;this.details=n;this.message=(d&&b(d,n))??""}toString(){return"["+this.name+"]: "+this.message}}return c})},"esri/core/JSONSupport":function(){define("../chunks/tslib.es6 ./Accessor ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){const g=h=>{h=class extends h{constructor(...r){super(...r);r=n.getProperties(this);const u=r.store,p=new c.DefaultsStore;r.store=p;f.setupConstructedDefaults(r,u,p)}read(r,u){d.read(this,r,u)}write(r,u){return q.write(this,r??{},u)}toJSON(r){return this.write({},r)}static fromJSON(r,u){if(r){if(r.declaredClass)throw Error("JSON object is already hydrated");var p=new this;p.read(r,u);r=p}else r=null;return r}};h=a.__decorate([e.subclass("esri.core.JSONSupport")],h);h.prototype.toJSON.isDefaultToJSON=
!0;return h};b=class extends g(b){};b=a.__decorate([e.subclass("esri.core.JSONSupport")],b);(function(h){h.JSONSupportMixin=g;h.isSerializable=function(r){return r&&"object"===typeof r&&"toJSON"in r&&"function"===typeof r.toJSON}})(b||={});return b})},"esri/core/Accessor":function(){define("./deprecate ./Handles ./Logger ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/interfaces ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){function m(k){if(null==k)return{value:k};if(Array.isArray(k))return{type:[k[0]],value:null};switch(typeof k){case "object":return k.constructor?.__accessorMetadata__||k instanceof Date?{type:k.constructor,value:k}:k;case "boolean":return{type:Boolean,value:k};case "string":return{type:String,value:k};case "number":return{type:Number,value:k};case "function":return{type:k,value:null}}}const v=Symbol("Accessor-Handles"),A=Symbol("Accessor-Initialized");class t{static createSubclass(k=
{}){if(Array.isArray(k))throw Error("Multi-inheritance unsupported since 4.16");const {properties:x,declaredClass:y,constructor:B}=k;delete k.declaredClass;delete k.properties;delete k.constructor;const E=this;class J extends E{constructor(...K){super(...K);this.inherited=null;B&&B.apply(this,K)}}e.getPropertiesMetadata(J.prototype);for(const K in k){const H=k[K];J.prototype[K]="function"===typeof H?function(...F){const N=this.inherited;this.inherited=function(...W){if(E.prototype[K])return E.prototype[K].apply(this,
W)};let S=void 0;try{S=H.apply(this,F)}catch(W){throw this.inherited=N,W;}this.inherited=N;return S}:k[K]}for(const K in x)k=m(x[K]),p.property(k)(J.prototype,K);return l.subclass(y)(J)}static freeze(k){k instanceof t?k.__accessor__.mutable=!1:Object.freeze(k);return k}static isFrozen(k){return k instanceof t?!k.__accessor__.mutable:Object.isFrozen(k)}constructor(...k){this[w]=null;this[z]=!1;if(this.constructor===t)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
const x=new g(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:x});0<k.length&&(x.ctorArgs=this.normalizeCtorArgs?.apply(this,k)??k[0]);r.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(){const k=this.__accessor__,x=k.ctorArgs;k.initialize();x&&(this.set(x),k.ctorArgs=null);k.constructed();this.initialize();this[A]=!0}initialize(){}[d.beforeDestroySymbol](){this[v]=f.destroyMaybe(this[v])}destroy(){this.destroyed||(u.removeTarget(this),this.__accessor__.destroy(),
r.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[A]}get destroyed(){return this.__accessor__?.lifecycle===q.Lifecycle.DESTROYED||!1}commitProperty(k){n.get(this,k)}hasOwnProperty(k){return this.__accessor__?this.__accessor__.has(k):Object.prototype.hasOwnProperty.call(this,k)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(k,x){h.set(this,
k,x);return this}watch(k,x,y){a.deprecatedFunction(c.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0});return u.watch(this,k,x,y)}addHandles(k,x){if(this.destroyed){k=Array.isArray(k)?k:[k];for(const y of k)y.remove()}else(this[v]??(this[v]=new b)).add(k,x)}removeHandles(k){this[v]?.remove(k)}removeAllHandles(){this[v]?.removeAll()}removeHandlesReference(k){this[v]?.removeReference(k)}hasHandles(k){return!0===
this[v]?.has(k)}_override(k,x){void 0===x?this.__accessor__.clearOverride(k):this.__accessor__.override(k,x)}_clearOverride(k){return this.__accessor__.clearOverride(k)}_overrideIfSome(k,x){null==x?this.__accessor__.clearOverride(k):this.__accessor__.override(k,x)}_isOverridden(k){return this.__accessor__.isOverridden(k)}notifyChange(k){this.__accessor__.notifyChange(k)}_get(k){return this.__accessor__.internalGet(k)}_set(k,x){this.__accessor__.internalSet(k,x);return this}}var w=v;var z=A;return t})},
"esri/core/deprecate":function(){define(["exports","./has"],function(a,b){function c(n,q,e=!1){const g=`\ud83d\uded1 DEPRECATED - ${q}`;e?(e=d.get(n),e||(e=new Set,d.set(n,e)),e.has(q)||(e.add(q),n.warn(g))):n.warn(g)}function f(n,q,e={}){if(b("esri-deprecation-warnings")){const {replacement:g,version:h,see:r,warnOnce:u}=e;g&&(q+=`\n\t\ud83d\udee0\ufe0f Replacement: ${g}`);h&&(q+=`\n\t\u2699\ufe0f Version: ${h}`);if(r)if(Array.isArray(r)){q+="\n\t\ud83d\udd17 See for more details:";for(const p of r)q+=
`\n\t\t${p}`}else q+=`\n\t\ud83d\udd17 See ${r} for more details.`;c(n,q,u)}}const d=new WeakMap;a.deprecateWidget=function(n,q,e,g={}){b("esri-deprecation-warnings")&&f(n,`This widget is deprecated. Use the ${q} component instead.`,{see:[`${q} component reference: ${"https://www.esriurl.com/"}${e}/`,"Esri's move to web components: https://www.esriurl.com/components-transition-plan/"],replacement:`<${e}></${e}>`,warnOnce:!0,...g})};a.deprecated=f;a.deprecatedConstructorSignature=function(n,q,e={}){b("esri-deprecation-warnings")&&
f(n,`Multiple argument constructor: ${q}`,{warnOnce:!0,replacement:`new ${q}({ <your properties here> })`,...e})};a.deprecatedFunction=function(n,q,e={}){if(b("esri-deprecation-warnings")){const {moduleName:g}=e;f(n,`Function: ${(g?g+"::":"")+q+"()"}`,e)}};a.deprecatedModule=function(n,q,e={}){b("esri-deprecation-warnings")&&f(n,`Module: ${q}`,e)};a.deprecatedProperty=function(n,q,e={}){if(b("esri-deprecation-warnings")){const {moduleName:g}=e;f(n,`Property: ${(g?g+"::":"")+q}`,e)}};a.deprecatedPropertyValue=
function(n,q,e,g={}){if(b("esri-deprecation-warnings")){const {moduleName:h}=g;f(n,`'${(h?h+"::":"")+q}' value: ${e}`,g)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Handles":function(){define(["./iteratorUtils"],function(a){function b(f){for(const d of f)d instanceof c?d.removeAll():d.remove()}class c{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let f=0;this._groups.forEach(d=>{f+=d.length});return f}add(f,d){if(a.isIterable(f)){d=this._getOrCreateGroup(d);
for(const n of f)null!=n&&(n.remove||n instanceof c)&&d.push(n)}else null!=f&&(f.remove||f instanceof c)&&this._getOrCreateGroup(d).push(f);return this}forEach(f,d){if("function"===typeof f)this._groups.forEach(n=>n.forEach(f));else{const n=this._getGroup(f);n&&d&&n.forEach(d)}}has(f){return this._groups.has(f||"_default_")}remove(f){if("string"!==typeof f&&a.isIterable(f)){for(const d of f)this.remove(d);return this}if(!this.has(f))return this;b(this._getGroup(f));this._groups.delete(f||"_default_");
return this}removeAll(){this._groups.forEach(b);this._groups.clear();return this}removeReference(f){this._groups.delete(f);return this}_getOrCreateGroup(f){if(this.has(f))return this._getGroup(f);const d=[];this._groups.set(f||"_default_",d);return d}_getGroup(f){return this._groups.get(f||"_default_")}}return c})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const c=[];return function*(){yield*c;for(const f of b)c.push(f),yield f}};a.find=function(b,c){for(const f of b)if(null!=
f&&c(f))return f};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){a.abortMaybe=function(b){b?.abort();return null};a.assertIsSome=function(b,c){if(null==b)throw Error(c??"value is None");};a.destroyMaybe=function(b){b?.destroy();return null};a.disposeMaybe=function(b){b?.dispose();return null};a.equalsMaybe=function(b,c,f){return null!=b&&null!=
c?null!=f?f(b,c):b.equals(c):b===c};a.mappedFind=function(b,c){let f=void 0;b.some((d,n)=>{f=c(d,n);return null!=f});return f??void 0};a.maybeProperty=function(b,c){return b?.[c]};a.releaseMaybe=function(b){b?.release();return null};a.removeMaybe=function(b){b?.remove();return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=Symbol("Accessor-beforeDestroy");a.beforeDestroySymbol=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function c(n,q){n="?"===n[n.length-1]?n.slice(0,-1):n;if(null!=q.getItemAt||Array.isArray(q)){var e=parseInt(n,10);if(!isNaN(e))return Array.isArray(q)?q[e]:q.at(e)}e=b.getProperties(q);return b.isPropertyDeclared(e,n)?e.get(n):q[n]}function f(n,q,e){if(null==n)return n;if((n=c(q[e],n))||!(e<q.length-1))return e===q.length-1?n:f(n,q,e+1)}function d(n,q,e=0){return"string"!==
typeof q||q.includes(".")?f(n,b.pathToArray(q),e):c(q,n)}a.exists=function(n,q){return void 0!==d(q,n)};a.get=function(n,q){return d(n,q)};a.valueOf=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang"],function(a,b,c){function f(g){return g.__accessor__??null}function d(g,h,r){return h?Object.keys(h).reduce((u,p)=>{let l=null;var m="merge";r&&(l=r.path?`${r.path}.${p}`:p,m=r.policy(l));if("replace"===
m||"replace-arrays"===m&&Array.isArray(u[p]))return u[p]=h[p],u;if(void 0===u[p])return u[p]=c.clone(h[p]),u;let v=u[p];m=h[p];if(v===m)return u;if(Array.isArray(m)||Array.isArray(u))v=v?Array.isArray(v)?u[p]=v.slice():u[p]=[v]:u[p]=[],m&&(Array.isArray(m)||(m=[m]),m.forEach(A=>{v.includes(A)||v.push(A)}));else if(m&&"object"===typeof m)if(r){const A=r.path;r.path=l;u[p]=d(v,m,r);r.path=A}else u[p]=d(v,m,null);else if(!u.hasOwnProperty(p)||h.hasOwnProperty(p))u[p]=m;return u},g||{}):g}function n(g){return Array.isArray(g)?
g:g.split(".")}function q(g){return g.includes(",")?g.split(",").map(h=>h.trim()):[g.trim()]}function e(g){if(Array.isArray(g)){const h=[];for(const r of g)h.push(...q(r));return h}return q(g)}a.getDependsInfo=function(g,h){const r=f(g);return r?r.getDependsInfo(g,h,""):""};a.getProperties=f;a.isPropertyDeclared=function(g,h){return null!=g?.metadata?.[h]};a.merge=function(g,h,r){return r?d(g,h,{policy:r,path:""}):d(g,h,null)};a.parse=function(g,h,r,u){h=e(h);return 1!==h.length?(h=h.map(p=>u(g,p,
r)),b.handlesGroup(h)):u(g,h[0],r)};a.parseConditionalPath=function(g){if(!g.includes("?"))return null;g=n(g);const h=Array(g.length);for(let r=0;r<g.length;r++){const u=g[r];h[r]="?"===u[u.length-1];h[r]&&(g[r]=u.slice(0,-1))}return{fullPath:g.join("."),conditional:h}};a.pathToArray=n;a.pathToStringOrArray=function(g){return!g||"string"===typeof g&&!g.includes(".")?g:n(g)};a.splitPath=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],
function(a){function b(d){return d?{remove(){d&&(d(),d=void 0)}}:f}function c(d){d.forEach(n=>n?.remove())}const f={remove:()=>{}};a.abortHandle=function(d){return b(()=>d?.abort())};a.asyncHandle=function(d,n){let q=!1,e=null;d.then(g=>{q?g.remove():e=g});return b(()=>{q=!0;null!=e?e.remove():null!=n&&(n.abort(),n=null)})};a.destroyHandle=function(d){return b(null!=d?()=>d.destroy():void 0)};a.disposable=function(d){return{[Symbol.dispose](){d.remove()}}};a.drainHandles=function(d){c(d);d.length=
0};a.handlesGroup=function(d){return b(()=>c(d))};a.makeHandle=b;a.refHandle=function(d){return b(()=>d()?.remove())};a.removeHandles=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";b[b.DESTROYED=3]="DESTROYED";Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],function(a,b,c){function f(q){let e=q.constructor.__accessorMetadata__;const g=Object.prototype.hasOwnProperty.call(q.constructor,"__accessorMetadata__");if(!e)e={},Object.defineProperty(q.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});else if(!g){e=Object.create(e);for(const h in e)e[h]=b.clone(e[h]);Object.defineProperty(q.constructor,"__accessorMetadata__",
{value:e,enumerable:!1,configurable:!0,writable:!0})}return q.constructor.__accessorMetadata__}function d(q){return n.test(q)?"replace":"merge"}const n=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=f;a.getPropertyMetadata=function(q,e){q=f(q);let g=q[e];g||=q[e]={};return g};a.mergeProperty=function(q,e){return c.merge(q,e,d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./tracking/Flags ./tracking/TrackingTarget".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){class u{constructor(m){this.host=m;this.propertiesByName=new Map;this.ctorArgs=null;this.lifecycle=d.Lifecycle.INITIALIZING;this.store=new e.Store;this.mutable=!0;this._origin=q.OriginId.USER;m=this.host.constructor.__accessorMetadata__;for(const v in m){const A=new n.Property(v,m[v]);this.propertiesByName.set(v,A)}this.metadata=m}initialize(){this.lifecycle=d.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=d.Lifecycle.CONSTRUCTED}destroy(){this.lifecycle=d.Lifecycle.DESTROYED;
this.propertiesByName.forEach(m=>m.destroy())}get initialized(){return this.lifecycle!==d.Lifecycle.INITIALIZING}get(m){const v=this.propertiesByName.get(m);if(v.metadata.get)return v.getComputed(this);this.mutable&&g.trackAccess(v);const A=this.store;return A.has(m)?A.get(m):v.metadata.value}originOf(m){const v=this.store.originOf(m);return void 0===v&&(m=this.propertiesByName.get(m),void 0!==m&&m.flags&h.Flags.HasDefaultValue)?"defaults":q.idToName(v)}has(m){return this.propertiesByName.has(m)&&
this.store.has(m)}keys(){return[...this.propertiesByName.keys()]}internalGet(m){const v=this.propertiesByName.get(m);if(void 0!==v)return this.store.has(m)?this.store.get(m):v.metadata.value}internalSet(m,v){m=this.propertiesByName.get(m);void 0!==m&&this._internalSet(m,v)}getDependsInfo(m,v,A){const t=this.propertiesByName.get(v);if(void 0===t)return"";var w=new r.TrackingTarget;const z=g.runTracked(w,()=>t.metadata.get?.call(m)),k=m.declaredClass.split(".").pop();v=`${A}${k}.${v}: ${z}\n`;w=w.accessed??
new Set;if(0===w.size)return v;A+="  ";for(const x of w)x instanceof n.Property&&(v+=`${A}${x.propertyName}: undefined\n`);return v}setAtOrigin(m,v,A){m=this.propertiesByName.get(m);if(void 0!==m)return this._setAtOrigin(m,v,A)}isOverridden(m){m=this.propertiesByName.get(m);return void 0!==m&&!!(m.flags&h.Flags.Overridden)}clearOverride(m){(m=this.propertiesByName.get(m))&&m.flags&h.Flags.Overridden&&(m.flags&=~h.Flags.Overridden,m.notifyChange())}override(m,v){m=this.propertiesByName.get(m);if(!(void 0===
m||null==v&&m.flags&h.Flags.NonNullable)){var A=m.metadata.cast;if(A){v=this._cast(A,v);const {valid:t,value:w}=v;l.release(v);if(!t)return;v=w}m.flags|=h.Flags.Overridden;this._internalSet(m,v)}}set(m,v){m=this.propertiesByName.get(m);if(!(void 0===m||null==v&&m.flags&h.Flags.NonNullable)){var A=m.metadata.cast;if(A){v=this._cast(A,v);const {valid:t,value:w}=v;l.release(v);if(!t)return;v=w}(A=m.metadata.set)?A.call(this.host,v):this._internalSet(m,v)}}setDefaultOrigin(m){this._origin=q.nameToId(m)}getDefaultOrigin(){return q.idToName(this._origin)}notifyChange(m){m=
this.propertiesByName.get(m);void 0!==m&&m.notifyChange()}invalidate(m){m=this.propertiesByName.get(m);void 0!==m&&m.invalidate()}commit(m){m=this.propertiesByName.get(m);void 0!==m&&m.commit()}_internalSet(m,v){this._setAtOrigin(m,v,this.lifecycle!==d.Lifecycle.INITIALIZING?this._origin:q.OriginId.DEFAULTS)}_setAtOrigin(m,v,A){const t=this.store,w=m.propertyName;t.has(w,A)&&b.equals(v,t.get(w))&&~m.flags&h.Flags.Overridden&&A===t.originOf(w)||(m.invalidate(),t.set(w,v,A),m.commit(),g.initializeDependencyTracking(this.host,
m))}_cast(m,v){const A=l.acquire();A.valid=!0;A.value=v;m&&(A.value=m.call(this.host,v,A));return A}}class p{constructor(){this.value=null;this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const l=new f(p);return u})},"esri/core/ObjectPool":function(){define(function(){class a{constructor(b,c,f,d=1,n=0){this._ctor=b;this._acquireFunction=c;this._releaseFunction=f;this.allocationSize=d;this._pool=Array(n);this._initialSize=n;for(b=0;b<n;b++)this._pool[b]=new this._ctor;this.allocationSize=
Math.max(d,1)}destroy(){this.prune(0)}acquire(...b){if(a.test.disabled)var c=new this._ctor;else{if(0===this._pool.length){c=this.allocationSize;for(let f=0;f<c;f++)this._pool[f]=new this._ctor}c=this._pool.pop()}this._acquireFunction?this._acquireFunction(c,...b):c?.acquire&&"function"===typeof c.acquire&&c.acquire(...b);return c}release(b){b&&!a.test.disabled&&(this._releaseFunction?this._releaseFunction(b):b?.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))}prune(b=this._initialSize){if(!(b>=
this._pool.length)){for(let c=b;c<this._pool.length;++c)this._dispose(this._pool[c]);this._pool.length=b}}_dispose(b){b.dispose&&"function"===typeof b.dispose&&b.dispose()}}a.test={disabled:!1};return a})},"esri/core/accessorSupport/Property":function(){define("exports ./ObservableBase ./PropertyOrigin ./tracking ./tracking/Flags ./tracking/TrackingTarget".split(" "),function(a,b,c,f,d,n){class q extends b.ObservableBase{constructor(e,g){super();this.propertyName=e;this.metadata=g;this.trackingTarget=
new n.TrackingTarget(this);this.flags=0;this.flags=d.Flags.Dirty|(g.nonNullable?d.Flags.NonNullable:0)|(g.hasOwnProperty("value")?d.Flags.HasDefaultValue:0)|(void 0===g.get?d.Flags.DepTrackingInitialized:0)|(void 0===g.dependsOn?d.Flags.AutoTracked:0)}destroy(){if(this.flags&d.Flags.Dirty)this.onCommitted();super.destroy();this.trackingTarget.destroy()}getComputed(e){e.mutable&&f.trackAccess(this);var g=e.store;const h=this.propertyName;var r=this.flags;const u=g.get(h);if(r&d.Flags.Computing||~r&
d.Flags.Dirty&&g.has(h))return u;this.flags|=d.Flags.Computing;e=e.host;r&d.Flags.AutoTracked?r=f.runTracked(this.trackingTarget,this.metadata.get,e):(f.trackExplicitDependencies(e,this),r=this.metadata.get.call(e));this.flags|=d.Flags.DepTrackingInitialized;g.set(h,r,c.OriginId.COMPUTED);g=g.get(h);g===u?this.flags&=~d.Flags.Dirty:f.runUntracked(this.commit,this);this.flags&=~d.Flags.Computing;return g}notifyChange(){this.onInvalidated();this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=
~d.Flags.Dirty;this.onCommitted()}onInvalidated(){~this.flags&d.Flags.Overridden&&(this.flags|=d.Flags.Dirty);const e=this._observers;if(e&&0<e.length)for(const g of e)g.onInvalidated()}onCommitted(){var e=this._observers;if(e&&0<e.length){e=e.slice();for(const g of e)g.onCommitted()}}}a.Property=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],function(a,b,c){class f{constructor(){this._observers=
null;this.destroyed=!1}observe(n){if(this.destroyed||n.destroyed)return d;null==this._observers&&(this._observers=[]);const q=this._observers;let e=!1,g=!1;const h=q.length;for(let r=0;r<h;++r){const u=q[r];if(u.destroyed)g=!0;else if(u===n){e=!0;break}}e||(q.push(n),g&&this._removeDestroyedObservers());return new c.ObservationHandle(q,n)}_removeDestroyedObservers(){const n=this._observers;if(n&&0!==n.length){var q=n.length,e=0;for(let g=0;g<q;++g){for(;g+e<q;)if(n[g+e].destroyed)++e;else break;if(0<
e)if(g+e<q)n[g]=n[g+e];else break}n.length=q-e}}destroy(){if(!this.destroyed){this.destroyed=!0;var n=this._observers;if(null!=n){for(const q of n)q.onCommitted();this._observers=null}}}}const d=b.makeHandle();a.ObservableBase=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,b){class c{constructor(f,d){this._observers=f;this._observer=d}remove(){b.remove(this._observers,
this._observer)}}a.ObservationHandle=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],function(a){function b(d){switch(d){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "link-chart":return a.OriginId.LINK_CHART;case "user":return a.OriginId.USER;
default:return null}}function c(d){switch(d){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.LINK_CHART:return"link-chart";case a.OriginId.USER:return"user"}}a.OriginId=void 0;(function(d){d[d.DEFAULTS=0]="DEFAULTS";d[d.COMPUTED=1]="COMPUTED";d[d.SERVICE=2]="SERVICE";d[d.PORTAL_ITEM=3]="PORTAL_ITEM";d[d.WEB_SCENE=4]="WEB_SCENE";
d[d.WEB_MAP=5]="WEB_MAP";d[d.LINK_CHART=6]="LINK_CHART";d[d.USER=7]="USER"})(a.OriginId||(a.OriginId={}));const f=a.OriginId.USER+1;a.idToName=c;a.idToReadableName=function(d){return c(d)};a.idToWritableName=function(d){return c(d)};a.nameToId=b;a.originIdNum=f;a.readableNameToId=function(d){return b(d)};a.writableNameToId=function(d){return b(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define("exports ../has ../Logger ./utils ./tracking/Flags ./tracking/TrackingTarget".split(" "),
function(a,b,c,f,d,n){function q(z){v.onAccessed(z)}function e(z,k,x){if(A)return g(z,k,x);let y=null;v=z;m.push(z);y=k.call(x);h();return y}function g(z,k,x){const y=A;A=!0;v=z;m.push(z);z=null;try{z=k.call(x)}catch(B){t&&c.getLogger("esri.core.accessorSupport.tracking").error(B)}h();A=y;return z}function h(){var z=m.length;if(1<z){const k=m.pop();v=m[z-2];k.onTrackingEnd()}else 1===z?(z=m.pop(),v=l,z.onTrackingEnd()):v=l}function r(z,k){if(!(k.flags&d.Flags.DepTrackingInitialized)){k.flags|=d.Flags.DepTrackingInitialized;
var x=t;t=!1;k.flags&d.Flags.AutoTracked?g(k.trackingTarget,k.metadata.get,z):u(z,k);t=x}}function u(z,k){k.flags&d.Flags.ExplicitlyTracking||(k.flags|=d.Flags.ExplicitlyTracking,g(k.trackingTarget,()=>{var x=k.metadata.dependsOn||w;for(const y of x)if("string"!==typeof y||y.includes(".")){x=f.pathToArray(y);for(let B=0,E=z;B<x.length&&null!=E&&"object"===typeof E;++B)E=p(E,x[B],B!==x.length-1)}else p(z,y,!1)}),k.flags&=~d.Flags.ExplicitlyTracking)}function p(z,k,x){k="?"===k[k.length-1]?k.slice(0,
-1):k;if(null!=z.getItemAt||Array.isArray(z)){var y=parseInt(k,10);if(!isNaN(y))return Array.isArray(z)?z[y]:z.at(y)}if(y=f.getProperties(z))if(y=y.propertiesByName.get(k))q(y),r(z,y);return x?z[k]:void 0}const l=new n.TrackingTarget,m=[];let v=l,A=!1,t=!1;const w=[];a.initializeDependencyTracking=r;a.runTracked=e;a.runTrackedNoThrow=g;a.runUntracked=function(z,k){return e(l,z,k)};a.trackAccess=q;a.trackExplicitDependencies=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],
function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overridden=2]="Overridden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/TrackingTarget":function(){define(["exports"],function(a){class b{constructor(c){this._handles=
this.accessed=void 0;this._observer=c}destroy(){this.accessed?.clear();this.clear()}onAccessed(c){null!=this._observer&&c!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(c))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach(c=>{this._handles.push(c.observe(this._observer))}),this.accessed.clear()))}clear(){if(null!=this._handles){for(let c=0;c<this._handles.length;++c)this._handles[c].remove();
this._handles.length=0}}}a.TrackingTarget=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){class f{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(d){const n=new f;this._values.forEach((q,e)=>{d&&d.has(e)||n.set(e,b.clone(q))});return n}get(d){return this._values.get(d)}originOf(){return c.OriginId.USER}keys(){return[...this._values.keys()]}set(d,
n){this._values.set(d,n)}delete(d){this._values.delete(d)}has(d){return this._values.has(d)}forEach(d){this._values.forEach(d)}}a.Store=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,c,f,d){function n(q,e,g){if(q&&e)if("object"===typeof e)for(var h of Object.getOwnPropertyNames(e))n(q,h,e[h]);else if(e.includes("."))e=e.split("."),h=e.splice(-1,1)[0],n(d.get(q,e),h,
g);else{h=q.__accessor__;if(null!=h&&c("esri-unknown-property-errors")&&null==h.metadata[e])throw new b("set:unknown-property","setting unknown property '"+e+"' on instance of "+h.host.declaredClass);q[e]=g}}a.set=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],function(a){let b;a.InterceptorCollectAction=void 0;(function(c){c[c.Ignore=0]="Ignore";c[c.Destroy=1]="Destroy";c[c.ThrowError=2]="ThrowError"})(a.InterceptorCollectAction||
(a.InterceptorCollectAction={}));a.getAccessorInterceptor=function(){return b};a.setAccessorInterceptor=function(c){b=c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../handleUtils ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./interfaces ./trackingUtils ./utils".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u){function p(K){B.delete(K);B.add(K);E||=n.schedule(m)}function l(K){if(!K.removed){var H=
K.oldValue,F=K.getValue();K.equals(H,F)||(K.oldValue=F,K.notify(F,H))}}function m(){let K=10;for(;E&&K--;){E=null;const H=v(),F=y.acquire();for(const N of H){const S=N.uid;l(N);S===N.uid&&N.removed&&F.push(N)}for(const N of B)N.removed&&(F.push(N),B.delete(N));for(const N of F)x.pool.release(N);y.release(F);y.release(H);J.forEach(N=>N())}}function v(){const K=y.acquire();K.length=B.size;let H=0;for(const F of B)K[H]=F,++H;B.clear();return K}function A(K,H,F){let N=u.parse(K,H,F,(S,W,L)=>{let P,X,
D=r.reactionDeferred(()=>g.valueOf(S,W),(R,Y)=>{S.__accessor__?.lifecycle===h.Lifecycle.DESTROYED||P&&P.uid!==X?N.remove():(P||(P=x.acquireUntracked(R,L,Y,S,W),X=P.uid),p(P))});return c.makeHandle(()=>{D.remove();P&&(P.uid!==X||P.removed||(P.removed=!0,p(P)),P=null);N=D=null})});return N}function t(K,H,F){const N=u.parse(K,H,F,(S,W,L)=>{let P=!1;return r.reaction(()=>g.valueOf(S,W),(X,D)=>{S.__accessor__.lifecycle===h.Lifecycle.DESTROYED?N.remove():P||(P=!0,f.equals(D,X)||L.call(S,X,D,W,S),P=!1)})});
return N}function w(K,H,F){let N,S,W=r.reactionDeferred(K,(L,P)=>{N&&N.uid!==S?W.remove():(N||(N=x.acquireTracked(L,H,P,F),S=N.uid),p(N))});return c.makeHandle(()=>{W.remove();N&&(N.uid!==S||N.removed||(N.removed=!0,p(N)),N=null);W=null})}function z(K,H,F){let N=!1;return r.reaction(K,(S,W)=>{N||(N=!0,F(W,S)||H(S,W),N=!1)})}var k;(function(K){K[K.Untracked=0]="Untracked";K[K.Tracked=1]="Tracked"})(k||={});class x{constructor(){this.uid=e.generateUID();this.removed=!1;this.equals=this.path=this.target=
this.getValue=this.callback=this.oldValue=this.type=null}static acquireUntracked(K,H,F,N,S){return this.pool.acquire(k.Untracked,K,H,F,N,S,f.equals)}static acquireTracked(K,H,F,N){return this.pool.acquire(k.Tracked,K,H,F,null,null,N)}notify(K,H){this.type===k.Untracked?this.callback.call(this.target,K,H,this.path,this.target):this.callback.call(null,K,H,void 0,void 0)}acquire(K,H,F,N,S,W,L){this.uid=e.generateUID();this.removed=!1;this.type=K;this.oldValue=H;this.callback=F;this.getValue=N;this.target=
S;this.path=W;this.equals=L}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=e.generateUID();this.removed=!0}}x.pool=new d.ReentrantObjectPool(x);const y=new b,B=new Set;let E;const J=new Set;a.afterDispatch=function(K){J.add(K);return c.makeHandle(()=>J.delete(K))};a.dispatch=m;a.isValueInUse=function(K){return q.someSet(B,H=>H.oldValue===K)};a.removeTarget=function(K){for(const H of B.values())H.target===K&&(H.removed=!0)};a.watch=function(K,H,F,N=!1){return K.__accessor__&&
K.__accessor__.lifecycle!==h.Lifecycle.DESTROYED?N?t(K,H,F):A(K,H,F):c.makeHandle()};a.watchTracked=function(K,H,F=!1,N=f.equalsShallow){return F?z(K,H,N):w(K,H,N)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(d){d.length=0}class c{constructor(d=50,n=50){this._pool=new a(Array,void 0,b,n,d)}acquire(){return this._pool.acquire()}release(d){this._pool.release(d)}prune(){this._pool.prune(0)}static acquire(){return f.acquire()}static release(d){return f.release(d)}static prune(){f.prune()}}
const f=new c(100);return c})},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],function(a,b){class c extends b{constructor(){super(...arguments);this._set=new Set}destroy(){super.destroy();this._set=null}acquire(...f){f=super.acquire(...f);this._set.delete(f);return f}release(f){f&&!this._set.has(f)&&(super.release(f),this._set.add(f))}_dispose(f){this._set.delete(f);super._dispose(f)}}a.ReentrantObjectPool=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/scheduling":function(){define("exports ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,c,f,d,n){function q(){null==E&&(A=performance.now(),E=requestAnimationFrame(h))}function e(F){F=new v(F);k.push(F);B.willDispatch||(B.willDispatch=!0,b.nextTick(u));return F}function g(F){F=new m(F);x.push(F);q();return new y(F)}function h(){const F=performance.now();E=null;E=x.some(N=>!N.paused&&!N.removed)?requestAnimationFrame(h):null;B.executeFrameTasks(F)}
function r(){x.forAll(F=>{F.removed&&J.push(F)});x.removeUnorderedMany(J.data,J.length);J.clear()}function u(){for(;k.length;){const F=k.shift();F.isActive&&F.callback()}B.willDispatch=!1}function p(F=1,N){const S=d.createResolver(),W=()=>{d.isAborted(N)?S.reject(d.createAbortError()):0===F?S():(--F,b.nextTick(()=>W()))};W();return S.promise}function l(F){return p(1,F)}class m{constructor(F){this.phases=F;this.paused=!1;this.ticks=-1;this.removed=!1}}class v{constructor(F){this.callback=F;this.isActive=
!0}remove(){this.isActive=!1}}let A=0,t=0;const w={time:n.Milliseconds(0),deltaTime:n.Milliseconds(0),elapsedFrameTime:n.Milliseconds(0),frameDuration:n.Milliseconds(0)},z="prepare preRender render postRender update finish".split(" "),k=[],x=new f;class y{constructor(F){this._task=F}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1;q()}}const B={frameTasks:x,willDispatch:!1,clearFrameTasks:function(F=!1){x.forAll(N=>{N.removed=!0});F&&r()},dispatch:u,executeFrameTasks:function(F){const N=
n.Milliseconds(F-A);A=F;var S=0<t?t:1E3/60;const W=Math.max(0,N-S);w.time=F;w.frameDuration=n.Milliseconds(S-W);for(let L=0;L<z.length;L++){S=performance.now();const P=z[L];x.forAll(X=>{X.paused||X.removed||(0===L&&X.ticks++,X.phases[P]&&(w.elapsedFrameTime=n.Milliseconds(performance.now()-F),w.deltaTime=0===X.ticks?n.Milliseconds(0):N,X.phases[P]?.call(X,w)))});K[L].push(performance.now()-S)}r();H.push(performance.now()-F)},reschedule:function(){null!=E&&(cancelAnimationFrame(E),E=requestAnimationFrame(h))}};
let E=null;const J=new f,K=z.map(F=>new c(F)),H=new c("total");a.FrameTaskHandle=y;a.addFrameTask=g;a.debug=B;a.performanceInfo=K;a.performanceTotal=H;a.schedule=e;a.setFrameDuration=function(F){t=Math.max(0,F)};a.waitAnimationFrame=async function(F){await l(F);await new Promise(N=>requestAnimationFrame(()=>{F?.aborted||N()}))};a.waitRender=function(){const F=d.createResolver(),N=g({postRender:()=>{N.remove();e(F)}});return F.promise};a.waitTick=l;a.waitTicks=p;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const f=b.slice();b.length=0;for(const d of f)d()})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(function(){class a{constructor(b,c=30){this.name=b;this._counter=0;this._samples=Array(c)}push(b){null!=b&&(this._samples[++this._counter%this._samples.length]=b)}set(b){null!=
b&&(this._samples[this._counter%this._samples.length]=b)}get median(){return this._samples.slice().sort((b,c)=>b-c)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((b,c)=>b+c,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}return a})},"esri/core/PooledArray":function(){define(["./arrayUtils","./compilerUtils","./HeapSort"],function(a,b,c){function f(n){n.data.length>1.5*n.length&&(n.data.length=Math.floor(1.1*n.length))}class d{constructor(n){this.data=
[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new a.PositionHint;n&&(n.initialSize&&(this.data=Array(n.initialSize)),n.allocator&&(this._allocator=n.allocator),void 0!==n.deallocator&&(this._deallocator=n.deallocator),n.shrink&&(this._shrink=()=>f(this)))}toArray(){return this.data.slice(0,this.length)}filter(n){const q=[];for(let e=0;e<this._length;e++){const g=this.data[e];n(g)&&q.push(g)}return q}at(n){n=Math.trunc(n)||0;0>n&&(n+=this._length);
if(!(0>n||n>=this._length))return this.data[n]}includes(n,q){n=this.data.indexOf(n,q);return-1!==n&&n<this.length}get length(){return this._length}set length(n){if(n>this._length)if(this._allocator)for(;this._length<n;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=n;else{if(this._deallocator)for(let q=n;q<this._length;++q)this.data[q]=this._deallocator(this.data[q]);this._length=n;this._shrink()}}clear(){this.length=0}prune(){this.clear();this.data=[]}push(n){this.data[this._length++]=
n}pushArray(n,q=n.length){for(let e=0;e<q;e++)this.data[this._length++]=n[e]}fill(n,q){for(let e=0;e<q;e++)this.data[this._length++]=n}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const n=this.data[this._length];++this._length;return n}unshift(n){this.data.unshift(n);this._length++;f(this)}pop(){if(0!==this.length){var n=this.data[this.length-1];--this.length;this._shrink();return n}}remove(n){const q=a.indexOf(this.data,b.toConst(n),this.length,this._hint);
if(-1!==q)return this.data.splice(q,1),--this.length,n}removeUnordered(n){return this.removeUnorderedIndex(a.indexOf(this.data,b.toConst(n),this.length,this._hint))}removeUnorderedIndex(n){if(!(n>=this.length||0>n))return this.swapElements(n,this.length-1),this.pop()}removeUnorderedMany(n,q=n.length,e){this.length=a.removeUnorderedMany(this.data,n,this.length,q,this._hint,e);this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(n,
q){if(!(n>=this.length||q>=this.length||n===q)){var e=this.data[n];this.data[n]=this.data[q];this.data[q]=e}}sort(n){c.sort(this.data,0,this.length,n)}iterableSort(n){return c.iterableSort(this.data,0,this.length,n)}some(n,q){for(let e=0;e<this.length;++e)if(n.call(q,this.data[e],e,this.data))return!0;return!1}find(n,q){const {data:e,length:g}=this;for(let h=0;h<g;++h)if(n.call(q,e[h]))return e[h]}filterInPlace(n,q){let e=0;for(let g=0;g<this._length;++g){const h=this.data[g];n.call(q,h,g,this.data)&&
(this.data[g]=this.data[e],this.data[e]=h,e++)}if(this._deallocator)for(n=e;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);this._length=e;this._shrink();return this}forAll(n,q){const {data:e,length:g}=this;for(let h=0;h<g;++h)n.call(q,e[h],h,e)}forEach(n,q){this.data.slice(0,this.length).forEach(n,q)}map(n,q){const e=Array(this.length);for(let g=0;g<this.length;++g)e[g]=n.call(q,this.data[g],g,this.data);return e}reduce(n,q){for(let e=0;e<this.length;++e)q=n(q,this.data[e],e,this.data);
return q}has(n){const q=this.length,e=this.data;for(let g=0;g<q;++g)if(e[g]===n)return!0;return!1}*[Symbol.iterator](){for(let n=0;n<this.length;n++)yield this.data[n]}}return d})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(d,n,q,e)=>{let g=n;const h=q>>>1,r=d[g-1];for(;n<=h;){n=g<<1;n<q&&0>e(d[n-1],d[n])&&++n;const u=d[n-1];if(0>=e(u,r))break;d[g-1]=u;g=n}d[g-1]=r},f=(d,n)=>d<n?-1:d>n?1:0;b.sort=function(d,n,q,e){void 0===n&&(n=0);void 0===q&&(q=d.length);void 0===
e&&(e=f);for(var g=q>>>1;g>n;g--)c(d,g,q,e);g=n+1;for(--q;q>n;q--){const h=d[n];d[n]=d[q];d[q]=h;c(d,g,q,e)}};b.iterableSort=function*(d,n,q,e){void 0===n&&(n=0);void 0===q&&(q=d.length);void 0===e&&(e=f);for(var g=q>>>1;g>n;g--)c(d,g,q,e),yield;g=n+1;for(--q;q>n;q--){const h=d[n];d[n]=d[q];d[q]=h;c(d,g,q,e);yield}}})(a||={});return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),function(a,b,c,f,d,n){function q(t="Aborted"){return new c("AbortError",
t)}function e(t,w="Aborted"){if(h(t))throw q(w);}function g(t){return t instanceof AbortSignal?t:t?.signal??void 0}function h(t){t=g(t);return null!=t&&t.aborted}function r(t,w){t=g(t);if(null!=t)if(t.aborted)w();else return f.once(t,"abort",()=>w())}function u(t){return"AbortError"===t?.name}async function p(t){if(t){if("function"!==typeof t.forEach){const w=Object.keys(t),z=w.map(y=>t[y]),k=await p(z),x={};w.map((y,B)=>x[y]=k[B]);return x}return Promise.allSettled(t).then(w=>Array.from(t,(z,k)=>
{k=w[k];return"fulfilled"===k.status?{promise:z,value:k.value}:{promise:z,error:k.reason}}))}}function l(t,w,z){const k=new AbortController;r(z,()=>k.abort());return new Promise((x,y)=>{let B=setTimeout(()=>{B=0;x(w)},t);r(k,()=>{B&&(clearTimeout(B),y(q()))})})}function m(t){return t&&"function"===typeof t.then}function v(t){return m(t)?t:Promise.resolve(t)}function A(){let t,w;const z=new Promise((x,y)=>{t=x;w=y}),k=x=>{t(x)};k.resolve=x=>t(x);k.reject=x=>w(x);k.timeout=(x,y)=>b.clock.setTimeout(()=>
k.reject(y),x);k.promise=z;return k}a.after=l;a.allSettledErrors=async function(t){return(await Promise.allSettled(t)).filter(w=>"rejected"===w.status).map(w=>w.reason)};a.allSettledValues=async function(t){return(await Promise.allSettled(t)).filter(w=>"fulfilled"===w.status).map(w=>w.value)};a.always=function(t,w){return t.then(w,w)};a.createAbortError=q;a.createResolver=A;a.debounce=function(t,w=-1){let z,k,x,y,B=null;const E=(...J)=>{if(z){k=J;y&&y.reject(q());y=A();J=y.promise;if(B){var K=B;B=
null;K.abort()}return J}x=y||A();y=null;if(0<w){const F=new AbortController,N=z=v(t(...J,F.signal));l(w).then(()=>{z===N&&(y?F.abort():B=F)})}else z=1,z=v(t(...J));J=()=>{const F=k;k=x=z=B=null;null!=F&&E(...F)};K=z;const H=x;K.then(J,J);K.then(H.resolve,H.reject);return H.promise};return E};a.eachAlways=p;a.eachAlwaysValues=async function(t){return(await p(t)).filter(w=>!!w.value).map(w=>w.value)};a.filter=async function(t,w){const z=t.slice(),k=await Promise.all(t.map((x,y)=>w(x,y)));return z.filter((x,
y)=>k[y])};a.ignoreAbortErrors=async function(t){try{return await t}catch(w){if(!u(w))throw w;}};a.isAbortError=u;a.isAborted=h;a.isPromiseLike=m;a.logOnError=async function(t,w=d.getLogger("esri")){try{return await t}catch(z){u(z)||w.error(z)}};a.onAbort=r;a.onAbortOrThrow=function(t,w){t=g(t);if(null!=t)return e(t),f.once(t,"abort",()=>w(q()))};a.settleWithPromise=function(t,w){w.then(t.resolve,t.reject)};a.signalFromSignalOrOptions=g;a.throwIfAbortError=function(t){if(u(t))throw t;};a.throwIfAborted=
e;a.throwIfNotAbortError=function(t){if(!u(t))throw t;};a.timeout=function(t,w,z,k){const x=z&&"abort"in z?z:null;null!=k||x||(k=z);let y=setTimeout(()=>{y=0;x?.abort()},w);const B=()=>k||new c("promiseUtils:timeout","The wrapped promise did not resolve within "+w+" ms");return t.then(E=>{if(0===y)throw B();clearTimeout(y);return E},E=>{clearTimeout(y);throw 0===y?B():E;})};a.waitTick=async function(t){await Promise.resolve();e(t)};a.when=v;a.whenOrAbort=function(t,w){return null==g(w)?t:new Promise((z,
k)=>{let x=r(w,()=>k(q()));const y=()=>{x=n.removeMaybe(x)};t.then(y,y);t.then(z,k)})};a.whenOrTimeout=function(t,w,z){return Promise.race([t,l(w).then(()=>{throw new c("timeout",`Did not resolve within ${w} milliseconds (${z??"timeout"})`);})])};a.wrapAbortWithTimeout=function(t,w){const z=new AbortController,k=setTimeout(()=>z.abort(),w);r(t,()=>{z.abort();clearTimeout(k)});return{...t,signal:z.signal}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports",
"./handleUtils"],function(a,b){function c(d){return{setTimeout:(n,q)=>{const e=d.setTimeout(n,q);return b.makeHandle(()=>d.clearTimeout(e))}}}const f=c(globalThis);a.clock=f;a.wrap=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports","./handleUtils"],function(a,b){function c(q){return null!=q&&"object"===typeof q&&"on"in q&&"function"===typeof q.on||f(q)}function f(q){return null!=q&&"object"===typeof q&&"addEventListener"in q&&"function"===
typeof q.addEventListener}function d(q,e,g){if(!c(q))throw new TypeError("target is not a Evented or EventTarget object");return f(q)?n(q,e,g):q.on(e,g)}function n(q,e,g,h){if(Array.isArray(e)){const r=e.slice();for(const u of r)q.addEventListener(u,g,h);return b.makeHandle(()=>{for(const u of r)q.removeEventListener(u,g,h)})}q.addEventListener(e,g,h);return b.makeHandle(()=>q.removeEventListener(e,g,h))}a.addEventListener=n;a.isEventedOrEventTarget=c;a.on=d;a.once=function(q,e,g){if(!c(q))throw new TypeError("target is not a Evented or EventTarget object");
if("once"in q)return q.once(e,g);const h=d(q,e,r=>{h.remove();g.call(q,r)});return h};a.pausable=function(q,e,g){let h=!1;const r=d(q,e,u=>{h||g.call(q,u)});return{resume(){h=!1},pause(){h=!0},remove(){r.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.now=function(){return performance.now()};
a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],function(a){function b(n,q){if(!q)return n;for(const e of q)null!=e&&n.add(e);return n}function c(n,q){const e=new Set;b(e,n);b(e,q);return e}function f(n,q){const e=new Set;for(const g of q)n.has(g)&&e.add(g);return e}function d(n,q){n=new Set(n);for(const e of q)n.delete(e);return n}a.addMany=b;a.addMaybe=function(n,q){null!=q&&n.add(q);
return n};a.difference=d;a.equals=function(n,q){if(null==n&&null==q)return!0;if(null==n||null==q||n.size!==q.size)return!1;for(const e of n)if(!q.has(e))return!1;return!0};a.intersection=f;a.isSubsetOf=function(n,q){if(!n||!q)return!1;if(n===q)return!0;for(const e of n)if(!q.has(e))return!1;return!0};a.last=function(n){let q;for(q of n);return q};a.someSet=function(n,q){for(const e of n.values())if(q(e))return!0;return!1};a.symmetricDifference=function(n,q){return d(c(n,q),f(n,q))};a.union=c;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.generateUID=function(){return++b};a.nullUid=0;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,c,f){let d=!1;const n=[];a.autorun=function(q,e){function g(){r=!1;if(p&&!h)if(d)n.includes(g)||n.unshift(g);else for(p.clear(),h=d=!0,
c.runTracked(p,q),d=h=!1;n.length;)n.pop()()}let h=!1,r=!1;const u=!!e?.sync;let p=new f.SimpleTrackingTarget(()=>{h||r||(r=!0,u?g():queueMicrotask(g))});h=!0;c.runTracked(p,q);h=!1;return b.makeHandle(function(){p&&(p.destroy(),p=null)})};a.reaction=function(q,e){function g(){if(h&&!u)if(d)n.includes(g)||n.unshift(g);else{var p=r;h.clear();u=d=!0;r=c.runTracked(h,q);d=u=!1;for(e(r,p);n.length;)n.pop()()}}let h=new f.SimpleTrackingTarget(g),r=null,u=!1;u=!0;r=c.runTracked(h,q);u=!1;return b.makeHandle(function(){h&&
(h.destroy(),r=h=null)})};a.reactionDeferred=function(q,e){function g(){if(!h)return null;h.clear();return r=c.runTracked(h,q)}let h=new f.SimpleTrackingTarget(function(){e(r,g)}),r=null;g();return b.makeHandle(function(){h&&(h.destroy(),h=null);r=null})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports","./TrackingTarget"],function(a,b){function c(){}class f extends b.TrackingTarget{constructor(q){super(new d(q));
this._observer&&n.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&n.unregister(this._observer);this.accessed?.clear();this.clear();this._observer?.destroy()}}class d{constructor(q){this._notify=q;this._invalidCount=0;this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(!this.destroyed){var q=this._invalidCount;1===q?(this._invalidCount=0,this._notify()):this._invalidCount=0<q?q-1:0}}destroy(){this.destroyed=!0;this._notify=c}}const n=new FinalizationRegistry(q=>
{q.deref()?.destroy()});a.SimpleTrackingTarget=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,c,f,d,n){function q(g){let h=0;var r=g;if(c.isLongFormType(g))return c.ensureLongFormType(g);for(;Array.isArray(r)&&1===r.length&&"string"!==typeof r[0]&&"number"!==typeof r[0];)r=r[0],h++;return c.isOneOf(r)?0===h?c.ensureOneOf(r):c.ensureNArrayTyped(c.ensureOneOf(r),
h):1===h?c.ensureArray(r):1<h?c.ensureNArray(r,h):g.from?g.from:c.ensureType(g)}function e(g,h){if(g||h)return g?h?(r,u)=>h(g(r,u),u):g:h}a.composeCasters=e;a.property=function(g={}){return(h,r)=>{if(h===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${h.name}.${r}. Accessor does not support static properties.`);var u=Object.getOwnPropertyDescriptor(h,r);const p=d.getPropertyMetadata(h,r);u&&(u.get||u.set?(p.get=u.get||p.get,p.set=u.set||p.set):"value"in u&&("value"in
g&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${h.constructor.name}" already defined in the metadata`,g),p.value=g.value=u.value));null!=g.readOnly&&(p.readOnly=g.readOnly);if(h=g.aliasOf){const l="string"===typeof h?h:h.source;h="string"===typeof h?null:!0===h.overridable;let m;p.dependsOn=[l];p.get=function(){let v=f.get(this,l);if("function"===typeof v){m||=l.split(".").slice(0,-1).join(".");const A=f.get(this,m);A&&(v=v.bind(A))}return v};
p.readOnly||(p.set=h?function(v){this._override(r,v)}:function(v){n.set(this,l,v)})}h=g.type;u=g.types;if(!p.cast){let l=void 0;h?l=q(h):u&&(l=Array.isArray(u)?c.ensureArrayTyped(c.ensureOneOfType(u[0])):c.ensureOneOfType(u));g.cast=e(g.cast,l)}d.mergeProperty(p,g);g.range&&(p.cast=c.ensureRange(p.cast,g.range))}};a.propertyJSONMeta=function(g,h,r){g=d.getPropertyMetadata(g,r);g.json||(g.json={});g=g.json;void 0!==h&&(g.origins||(g.origins={}),g.origins[h]||(g.origins[h]={}),g=g.origins[h]);return g};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,c,f){function d(L){return null==L?L:new Date(L)}function n(L){return null==L?L:!!L}function q(L){return null==L?L:L.toString()}function e(L,P=0){if(null==L)return L;L=parseFloat(L);return isNaN(L)?P:L}function g(L){return null==L?L:Math.round(parseFloat(L))}function h(L){return null}function r(L){return L?.constructor&&
void 0!==L.constructor.__accessorMetadata__}function u(L,P){return null!=P&&L&&!(P instanceof L)}function p(L){return L?.Type?"function"===typeof L.Type?L.Type:L.Type.base:null}function l(L,P){var X;(X=!P?.constructor)||(X=P.constructor,X=!(X&&"isCollection"in X));if(X)return m(L,P)?P:new L(P);X=p(L.prototype.itemType);const D=p(P.constructor.prototype.itemType);if(!X)return P;if(!D)return new L(P);if(X===D)return P;if(X.prototype.isPrototypeOf(D.prototype))return new L(P);m(L,P);return P}function m(L,
P){return r(P)?(F().error("Accessor#set","Assigning an instance of '"+(P.declaredClass||"unknown")+"' which is not a subclass of '"+A(L)+"'"),!0):!1}function v(L,P){return null==P?P:L&&"isCollection"in L?l(L,P):u(L,P)?m(L,P)?P:new L(P):P}function A(L){return L?.prototype?.declaredClass||"unknown"}function t(L){switch(L){case Number:return P=>e(P);case S:return g;case Boolean:return n;case String:return q;case Date:return d;case W:return h;default:return f.getOrCreateMapValue(N,L,()=>v.bind(null,L))}}
function w(L,P){const X=t(L);return 1===arguments.length?X:X(P)}function z(L,P,X){return 1===arguments.length?z.bind(null,L):P?Array.isArray(P)?P.map(D=>L(D,X)):[L(P,X)]:P}function k(L,P,X){return 0!==P&&Array.isArray(X)?X.map(D=>k(L,P-1,D)):L(X)}function x(L,P,X){if(2===arguments.length)return Y=>x(L,P,Y);if(!X)return X;X=k(L,P,X);let D=P;for(var R=X;0<D&&Array.isArray(R);)D--,R=R[0];if(void 0!==R)for(R=0;R<D;R++)X=[X];return X}function y(L,P){if(2===arguments.length)return y(L).call(null,P);const X=
new Set,D=L.filter(da=>"function"!==typeof da),R=L.filter(da=>"function"===typeof da);for(const da of L)"string"!==typeof da&&"number"!==typeof da||X.add(da);let Y=null,ja=null;return(da,sa)=>{if(null==da)return da;const qa=typeof da,ia="string"===qa||"number"===qa;if(ia&&(X.has(da)||R.some(la=>"string"===qa&&la===String||"number"===qa&&la===Number))||"object"===qa&&R.some(la=>!u(da,la)))return da;ia&&D.length?(Y||=D.map(la=>"string"===typeof la?`'${la}'`:`${la}`).join(", "),F().error("Accessor#set",
`'${da}' is not a valid value for this property, only the following values are valid: ${Y}`)):"object"===typeof da&&R.length?(ja||=R.map(la=>A(la)).join(", "),F().error("Accessor#set",`'${da}' is not a valid value for this property, value must be one of ${ja}`)):F().error("Accessor#set",`'${da}' is not a valid value for this property`);sa&&(sa.valid=!1);return null}}function B(L,P){if(2===arguments.length)return B(L).call(null,P);const X={},D=[],R=[];for(const ja in L.typeMap){const da=L.typeMap[ja];
X[ja]=w(da);D.push(A(da));R.push(ja)}const Y="string"===typeof L.key?ja=>ja[L.key]:L.key;return ja=>{if(L.base&&!u(L.base,ja)||null==ja)return ja;var da=Y(ja)||L.defaultKeyValue;const sa=X[da];if(!sa)return F().error("Accessor#set",`Invalid property value, value needs to be one of ${`'${D.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${R.join("', '")}'`})`),null;if(!u(L.typeMap[da],ja))return ja;if("string"===typeof L.key&&!r(ja)){da={};for(const qa in ja)qa!==L.key&&(da[qa]=
ja[qa]);return sa(da)}return sa(ja)}}function E(L){switch(L.type){case "native":return w(L.value);case "array":return z(E(L.value));case "one-of":return J(L);default:return null}}function J(L){let P=null;return(X,D)=>{if(H(X,L))return X;null==P&&(P=K(L));F().error("Accessor#set",`Invalid property value, value needs to be of type ${P}`);D&&(D.valid=!1);return null}}function K(L){switch(L.type){case "native":switch(L.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";
case S:return"integer";case Date:return"date";case W:return"null";default:return A(L.value)}case "array":return`array of ${K(L.value)}`;case "one-of":return L=L.values.map(P=>K(P)),`one of ${L.slice(0,-1)} or ${L[L.length-1]}`}return"unknown"}function H(L,P){if(null==L)return!0;switch(P.type){case "native":switch(P.value){case Number:case S:return"number"===typeof L;case Boolean:return"boolean"===typeof L;case String:return"string"===typeof L;case W:return null===L}return L instanceof P.value;case "array":return Array.isArray(L)?
!L.some(X=>!H(X,P.value)):!1;case "one-of":return P.values.some(X=>H(L,X))}}const F=()=>c.getLogger("esri.core.accessorSupport.ensureTypes"),N=new WeakMap;class S{}class W{}a.Integer=S;a.Null=W;a.ensureArray=function(L,P){return 1===arguments.length?z(X=>w(L,X)):z(X=>w(L,X),P)};a.ensureArrayTyped=z;a.ensureBoolean=n;a.ensureClass=v;a.ensureDate=d;a.ensureInteger=g;a.ensureLongFormType=E;a.ensureNArray=function(L,P,X){return 2===arguments.length?x(D=>w(L,D),P):x(D=>w(L,D),P,X)};a.ensureNArrayTyped=
x;a.ensureNull=h;a.ensureNumber=e;a.ensureOneOf=y;a.ensureOneOfType=B;a.ensureRange=function(L,P){return X=>{X=L(X);null!=P.step&&(X=Math.round(X/P.step)*P.step);null!=P.min&&(X=Math.max(P.min,X));null!=P.max&&(X=Math.min(P.max,X));return X}};a.ensureString=q;a.ensureType=w;a.isClassedType=r;a.isLongFormType=function(L){if(!(L&&"type"in L))return!1;switch(L.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(L){return Array.isArray(L)?!L.some(P=>{P=typeof P;return!("string"===
P||"number"===P||"function"===P&&1<L.length)}):!1};a.requiresType=u;a.types={native(L){return{type:"native",value:L}},array(L){return{type:"array",value:L}},oneOf(L){return{type:"one-of",values:L}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const f of b.values())if(c(f))return f;return null};a.getOrCreateMapValue=function(b,c,f){const d=b.get(c);if(void 0!==d)return d;f=f();b.set(c,f);
return f};a.memoize=function(b){const c=new Map;return f=>{c.has(f)||c.set(f,b(f));return c.get(f)}};a.someMap=function(b,c){for(const f of b.values())if(c(f))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../has ../../Logger ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,c,f,d,n,q,e){function g(l,m){return null==m.get?
function(){var v=this.__accessor__;const A=v.propertiesByName.get(l);if(void 0!==A)return v.mutable&&q.trackAccess(A),v=v.store,v.has(l)?v.get(l):A.metadata.value}:function(){const v=this.__accessor__,A=v.propertiesByName.get(l);if(void 0!==A)return A.getComputed(v)}}function h(l){const m=n.getPropertiesMetadata(l.prototype),v={};for(const A of Object.getOwnPropertyNames(m)){const t=m[A];e.processPrototypePropertyMetadata(t);v[A]={enumerable:!0,configurable:!0,get:g(A,t),set(w){const z=this.__accessor__;
if(void 0===z)Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:w});else if(z.mutable){if(z.initialized&&t.readOnly)return p("read-only",A);if(z.lifecycle===d.Lifecycle.CONSTRUCTED&&t.constructOnly)return p("construct-only",A);z.set(A,w)}}}}Object.defineProperties(l.prototype,v)}const r=new Set,u=new Set,p=(l,m)=>{c.getLogger("esri.core.Accessor").error(`cannot assign to ${l} property '${m}'`)};a.finalizeClass=h;a.subclass=function(l){return m=>{l??="esri.core.Accessor";
m.prototype.declaredClass=l;h(m);const v=[],A=[];let t=m.prototype;for(;t;)t.hasOwnProperty("initialize")&&!r.has(t.initialize)&&(r.add(t.initialize),v.push(t.initialize)),t.hasOwnProperty("destroy")&&!u.has(t.destroy)&&(u.add(t.destroy),A.push(t.destroy)),t=Object.getPrototypeOf(t);r.clear();u.clear();const w=class extends m{constructor(...z){super(...z);if(this.constructor===w&&"function"===typeof this.postscript){v.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,
value(){for(let k=v.length-1;0<=k;k--)v[k].call(this)}});if(A.length){let k=!1;const x=this[f.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!k){k=!0;x.call(this);for(let y=0;y<A.length;y++)A[y].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}});this.postscript()}}};w.__accessorMetadata__=n.getPropertiesMetadata(m.prototype);w.prototype.declaredClass=l;m=(l||"AccessorSubclass").split(".").slice(-1)[0];
Object.defineProperty(w,"name",{value:m,configurable:!0});return w}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,c,f,d,n){function q(h,r,u){h=h?.json;h?.origins&&u&&(u="link-chart"===u?h.origins[u]&&("any"===r||r in h.origins[u])?
h.origins[u]:h.origins["web-map"]:h.origins[u])&&("any"===r||r in u)&&(h=u);return h}function e(h){if(h.type){var r=0;for(h=h.type;Array.isArray(h)&&!b.isOneOf(h);)h=h[0],r++;return{type:h,ndimArray:r}}}function g(h){if(h.types){var r=0;for(h=h.types;Array.isArray(h);)h=h[0],r++;return{types:h,ndimArray:r}}}a.originSpecificPropertyDefinition=function(h,r){return q(h,"any",r?.origin)};a.originSpecificReadPropertyDefinition=function(h,r){return q(h,"read",r?.origin)};a.originSpecificWritePropertyDefinition=
function(h,r){return q(h,"write",r?.origin)};a.processPrototypePropertyMetadata=function(h){if(d.process(h)){c.process(h);var r=h.json.types?g(h.json):h.type?e(h):g(h);if(h.json.origins)for(const p in h.json.origins){const l=h.json.origins[p];if(l.types){var u=l;u=u.type?e(u):g(u)}else u=r;f.create(u,l,!1);l.types&&!l.write&&h.json.write?.enabled&&(l.write={...h.json.write});n.create(u,l)}f.create(r,h.json,!0);n.create(r,h.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],
function(a){a.process=function(b){if(b.json&&b.json.origins){const c=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const f in b)if(c[f]){const d=c[f];b[f].forEach(n=>{c[n]=d});delete c[f]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,c,f,d,n){function q(t){var w=t.ndimArray??
0;if(1<w)return r(t);if(1===w)return u(t);if("type"in t&&p(t.type)){w=t.type.prototype?.itemType?.Type;const z=u("function"===typeof w?{type:w}:{types:w});return(k,x,y)=>(k=z(k,x,y))?new t.type(k):k}return e(t)}function e(t){return"type"in t?g(t.type):v(t.types)}function g(t){return t.prototype.read?(w,z,k)=>{if(null==w)return w;z=typeof w;if("object"!==z)A().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${z}'`);else return z=new t,z.read(w,
k),z}:t.fromJSON}function h(t,w,z,k){return 0!==k&&Array.isArray(w)?w.map(x=>h(t,x,z,k-1)):t(w,void 0,z)}function r(t){const w=e(t),z=h.bind(null,w),k=t.ndimArray??0;return(x,y,B)=>{if(null==x)return x;x=z(x,B,k);y=k;for(B=x;0<y&&Array.isArray(B);)y--,B=B[0];if(void 0!==B)for(B=0;B<y;B++)x=[x];return x}}function u(t){const w=e(t);return(z,k,x)=>{if(null==z)return z;if(Array.isArray(z)){k=[];for(const y of z)z=w(y,void 0,x),void 0!==z&&k.push(z);return k}x=w(z,void 0,x);return void 0!==x?[x]:void 0}}
function p(t){return n.isCollection(t)?(t=t.prototype.itemType)&&t.Type?"function"===typeof t.Type?l(t.Type):m(t.Type):!1:!1}function l(t){return Array.isArray(t)?!1:!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||p(t))}function m(t){for(const w in t.typeMap)if(!l(t.typeMap[w]))return!1;return!0}function v(t){let w=null;const z=t.errorContext??"type",k=t.validate;return(x,y,B)=>{if(null==x)return x;y=typeof x;if("object"!==y)A().error(`Expected JSON value of type 'object' to deserialize, but got '${y}'`);
else{if(!w){y={};for(var E in t.typeMap){const H=t.typeMap[E];var J=d.getPropertiesMetadata(H.prototype);if("function"===typeof t.key)continue;J=J[t.key];if(!J)continue;if(J.json?.type&&Array.isArray(J.json.type)&&1===J.json.type.length&&"string"===typeof J.json.type[0]){y[J.json.type[0]]=H;continue}J=J.json?.write;if(!J?.writer){y[E]=H;continue}var K=J.target;K="string"===typeof K?K:t.key;const F={};J.writer(E,F,K);F[K]&&(y[F[K]]=H)}w=y}E=t.key;if("string"===typeof E){if(y=(E=x[E])?w[E]:t.defaultKeyValue?
t.typeMap[t.defaultKeyValue]:void 0)return E=new y,E.read(x,B),k?k(E):E;E=`Type '${E||"unknown"}' is not supported`;B?.messages&&x&&B.messages.push(new f(`${z}:unsupported`,E,{definition:x,context:B}));A().error(E)}}}}const A=()=>b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(t,w,z){t&&(z||w.read)&&!w.read?.reader&&!1!==w.read?.enabled&&(z="types"in t?m(t.types):l(t.type),z&&c.setDeepValue("read.reader",q(t),w))};a.createTypeReader=q;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["./Message"],function(a){class b extends a{constructor(c,f,d){super(c,f,d)}}b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&b.prototype?.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],
function(a){function b(d){d.name&&(d.read?"object"===typeof d.read?void 0===d.read.source&&(d.read.source=d.name):d.read={source:d.name}:d.read={source:d.name},d.write?"object"===typeof d.write?void 0===d.write.target&&(d.write.target=d.name):d.write={target:d.name}:d.write={target:d.name})}function c(d){"boolean"===typeof d.read?d.read={enabled:d.read}:"function"===typeof d.read?d.read={enabled:!0,reader:d.read}:d.read&&"object"===typeof d.read&&void 0===d.read.enabled&&(d.read.enabled=!0)}function f(d){"boolean"===
typeof d.write?d.write={enabled:d.write}:"function"===typeof d.write?d.write={enabled:!0,writer:d.write}:d.write&&"object"===typeof d.write&&void 0===d.write.enabled&&(d.write.enabled=!0)}a.process=function(d){d.json||(d.json={});c(d.json);f(d.json);b(d.json);if(d.json.origins)for(const n in d.json.origins)c(d.json.origins[n]),f(d.json.origins[n]),b(d.json.origins[n]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports",
"../../../Error","../../../Logger","../../../object","./type"],function(a,b,c,f,d){function n(m){return(v,A,t,w)=>{if(!v||q(v,m,w))return g(v,A,t,w)}}function q(m,v,A){for(var t in v.typeMap)if(m instanceof v.typeMap[t])return!0;A?.messages&&(t=v.errorContext??"type",v=`Values of type '${("function"!==typeof v.key?m[v.key]:m.declaredClass)??"Unknown"}' cannot be written`,A&&A.messages&&m&&A.messages.push(new b(`${t}:unsupported`,v,{definition:m,context:A})),c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(v));
return!1}function e(m){return(v,A,t,w)=>{if(!v||!Array.isArray(v))return g(v,A,t,w);v=v.filter(z=>q(z,m,w));return g(v,A,t,w)}}function g(m,v,A,t){f.setDeepValue(A,h(m,t),v)}function h(m,v){return m&&"function"===typeof m.write?m.write({},v):m&&"function"===typeof m.toJSON?m.toJSON():"number"===typeof m?r(m):m}function r(m){return-Infinity===m?-Number.MAX_VALUE:Infinity===m?Number.MAX_VALUE:isNaN(m)?null:m}function u(m,v,A,t){null===m?m=null:m&&"function"===typeof m.map?(m=m.map(w=>h(w,t)),"function"===
typeof m.toArray&&(m=m.toArray())):m=[h(m,t)];f.setDeepValue(A,m,v)}function p(m,v,A){return 0!==A&&Array.isArray(m)?m.map(t=>p(t,v,A-1)):h(m,v)}function l(m){return(v,A,t,w)=>{if(null===v)v=null;else{v=p(v,w,m);w=m;for(var z=v;0<w&&Array.isArray(z);)w--,z=z[0];if(void 0!==z)for(z=0;z<w;z++)v=[v]}f.setDeepValue(t,v,A)}}a.create=function(m,v){if(v.write&&!v.write.writer&&(!1!==v.write.enabled||v.write.overridePolicy)){var A=m?.ndimArray??0;m&&(1===A||"type"in m&&d.isCollection(m.type))?v.write.writer=
u:1<A?v.write.writer=l(A):v.types?Array.isArray(v.types)?v.write.writer=e(v.types[0]):v.write.writer=n(v.types):v.write.writer=g}};a.numberToJSON=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){class f{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(n){const q=new f;this._values.forEach((e,g)=>{n&&n.has(g)||q.set(g,b.clone(e.value),e.origin)});
return q}get(n,q){q=this._normalizeOrigin(q);n=this._values.get(n);return null==q||n?.origin===q?n?.value:void 0}originOf(n){return this._values.get(n)?.origin??c.OriginId.USER}keys(n){n=this._normalizeOrigin(n);const q=[...this._values.keys()];return null==n?q:q.filter(e=>this._values.get(e)?.origin===n)}set(n,q,e){e=this._normalizeOrigin(e);if(e===c.OriginId.DEFAULTS){const g=this._values.get(n);if(null!=g?.origin&&g.origin>e)return}this._values.set(n,new d(q,e))}delete(n,q){q=this._normalizeOrigin(q);
null!=q&&this._values.get(n)?.origin!==q||this._values.delete(n)}has(n,q){q=this._normalizeOrigin(q);return null!=q?this._values.get(n)?.origin===q:this._values.has(n)}forEach(n){this._values.forEach(({value:q},e)=>n(q,e))}_normalizeOrigin(n){if(null!=n)return n===c.OriginId.DEFAULTS?n:c.OriginId.USER}}class d{constructor(n,q){this.value=n;this.origin=q}}a.DefaultsStore=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports",
"./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(c,f,d){f.keys().forEach(n=>{d.set(n,f.get(n),b.OriginId.DEFAULTS)});Object.keys(c.metadata).forEach(n=>{c.internalGet(n)&&d.set(n,c.internalGet(n),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,c,f){const d={origin:"service"};a.read=function(n,q,e=d){if(q&&"object"===
typeof q){var g=c.getProperties(n),h=g.metadata,r={};for(const k of Object.getOwnPropertyNames(q)){var u=r,p=h,l=k,m=q,v=e,A=f.originSpecificReadPropertyDefinition(p[l],v);A&&(!A.read||!1!==A.read.enabled&&!A.read.source)&&(u[l]=!0);for(const x of Object.getOwnPropertyNames(p)){A=f.originSpecificReadPropertyDefinition(p[x],v);a:{var t=l;var w=m;if(A?.read&&!1!==A.read.enabled&&A.read.source){A=A.read.source;if("string"===typeof A){if(A===t||A.includes(".")&&0===A.indexOf(t)&&b.exists(A,w)){t=!0;break a}}else for(const y of A)if(y===
t||y.includes(".")&&0===y.indexOf(t)&&b.exists(y,w)){t=!0;break a}t=!1}else t=!1}t&&(u[x]=!0)}}g.setDefaultOrigin(e.origin);for(var z of Object.getOwnPropertyNames(r))u=f.originSpecificReadPropertyDefinition(h[z],e).read,p=(p=u?.source)&&"string"===typeof p?b.valueOf(q,p):q[z],u?.reader&&(p=u.reader.call(n,p,q,e)),void 0!==p&&g.set(z,p);if(!e||!e.ignoreDefaults){g.setDefaultOrigin("defaults");for(const k of Object.getOwnPropertyNames(h))r[k]||(z=n,q=k,h=g,u=e,p=f.originSpecificPropertyDefinition(h.metadata[q],
u)?.default,void 0!==p&&(z="function"===typeof p?p.call(z,q,u):p,void 0!==z&&h.set(q,z)))}g.setDefaultOrigin("user")}};a.readLoadable=function(n,q,e,g=d){q={...g,messages:[]};e(q);q.messages?.forEach(h=>{"warning"!==h.type||n.loaded?g?.messages&&g.messages.push(h):n.loadWarnings.push(h)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./get ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,c,f,d,n,q,e){function g(r,u,p,l,m){const v={};u.write?.writer?.call(r,l,v,p,m);return v}function h(r,u,p,l,m,v){if(!l?.write)return!1;const A=d.get(r,p);if(!m&&l.write.overridePolicy){var t=l.write.overridePolicy.call(r,A,p,v??void 0);void 0!==t&&(m=t)}m||(m=l.write);if(!m||!1===m.enabled||m.layerContainerTypes&&v?.layerContainerType&&!m.layerContainerTypes.includes(v.layerContainerType))return!1;if((null===A&&!m.allowNull&&!m.writerEnsuresNonNull||void 0===A)&&m.isRequired)return(u=
new c("web-document-write:property-required",`Missing value for required property '${p}' on '${r.declaredClass}'`,{propertyName:p,target:r}),v?.messages)?v.messages.push(u):u&&!v&&f.getLogger("esri.core.accessorSupport.write").error(u.name,u.message),!1;if(void 0===A||null===A&&!m.allowNull&&!m.writerEnsuresNonNull)return!1;if(t=!m.alwaysWriteDefaults&&(!u.store.multipleOriginsSupported||u.store.originOf(p)===n.OriginId.DEFAULTS))t=l.default,void 0===t?t=!1:null!=l.defaultEquals?t=l.defaultEquals(A):
"function"===typeof t?Array.isArray(A)?(r=t.call(r,p,v??void 0),t=b.equals(r,A)):t=!1:t=t===A;return t||!m.ignoreOrigin&&v?.origin&&u.store.multipleOriginsSupported&&u.store.originOf(p)<n.nameToId(v.origin)?!1:!0}a.willPropertyWrite=function(r,u,p,l){const m=q.getProperties(r),v=e.originSpecificWritePropertyDefinition(m.metadata[u],l);return v?h(r,m,u,v,p,l):!1};a.write=function(r,u,p){if(r&&"function"===typeof r.toJSON&&(!r.toJSON.isDefaultToJSON||!r.write))return q.merge(u,r.toJSON(p));const l=
q.getProperties(r),m=l.metadata;for(const v in m){const A=e.originSpecificWritePropertyDefinition(m[v],p);if(!h(r,l,v,A,void 0,p))continue;const t=d.get(r,v),w=g(r,A,A.write&&"string"===typeof A.write.target?A.write.target:v,t,p);0<Object.keys(w).length&&(u=q.merge(u,w),p?.resources?.pendingOperations?.length&&p.resources.pendingOperations.push(Promise.all(p.resources.pendingOperations).then(()=>q.merge(u,w,()=>"replace-arrays"))),p?.writtenProperties&&p.writtenProperties.push({target:r,propName:v,
oldOrigin:n.idToReadableName(l.store.originOf(v)),newOrigin:p.origin}))}return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,c={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};
a.isSecureProxyService=function(f){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(f)};a.normalizeArcGISOnlineOrgDomain=function(f){const d=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,q=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;d.test(f)?f=f.replace(d,"https://www.arcgis.com"):n.test(f)?f=f.replace(n,"https://devext.arcgis.com"):q.test(f)&&(f=f.replace(q,"https://qaext.arcgis.com"));return f};a.parseKnownArcGISOnlineDomain=
function(f){f=f?.match(b);if(!f)return null;const [,d,n,q]=f;if(!d)return null;let e=f=null,g=null;const {devext:h,qaext:r,www:u}=c;if(n)if(f=d,q)switch(q.toLowerCase()){case "devext":({customBaseUrl:e,portalHostname:g}=h);break;case "qa":({customBaseUrl:e,portalHostname:g}=r);break;default:return null}else({customBaseUrl:e,portalHostname:g}=u);else switch(d.toLowerCase()){case "devext":({customBaseUrl:e,portalHostname:g}=h);break;case "qaext":({customBaseUrl:e,portalHostname:g}=r);break;case "www":({customBaseUrl:e,
portalHostname:g}=u);break;default:return null}return{customBaseUrl:e,isPortal:!1,portalHostname:g,urlKey:f}};a.reArcGISOnlineDomain=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],function(a){a.arrayBufferToBase64=function(b){b=new Uint8Array(b);let c="";for(let f=0;f<b.length;f++)c+=String.fromCharCode(b[f]);return btoa(c)};a.base64ToArrayBuffer=function(b){b=atob(b);const c=new Uint8Array(b.length);for(let f=0;f<b.length;f++)c[f]=
b.charCodeAt(f);return c.buffer};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20250318";a.commitHash="878eb8750809e56d2a9ea9f1475c9e4e58226dad";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function f(u){if(null==u)return null;u=b.urlToObject(u);
u=u?.path.match(g)||u?.path.match(h);if(!u)return null;const [,p,l,m,v]=u;u=l.indexOf("/");return{title:n(-1!==u?l.slice(u+1):l),serverType:q[m.toLowerCase()],sublayer:null!=v&&""!==v?parseInt(v,10):null,url:{path:p}}}function d(u){return(u=b.urlToObject(u).path.match(r))?{serviceUrl:u[1],sublayerId:Number(u[2])}:null}function n(u){u=u.replaceAll(/\s*[/_]+\s*/g," ");return u[0].toUpperCase()+u.slice(1)}const q={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",
sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},e=Object.values(q),g=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),h=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),r=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=n;a.isArcGISUrl=function(u){return g.test(u)};a.isHostedAgolService=
function(u){u=b.getOrigin(u,!0);if(!u)return!1;u=u.toLowerCase();return u.endsWith(".arcgis.com")&&(u.startsWith("services")||u.startsWith("tiles")||u.startsWith("features"))};a.isServerOrServicesAGOLUrl=function(u){if(!u)return!1;u=(new b.Url(b.makeAbsolute(u))).authority?.toLowerCase();return"server.arcgisonline.com"===u||"services.arcgisonline.com"===u};a.isWmsServer=function(u){if(!u)return!1;var p=u.toLowerCase();u=p.includes("/services/");const l=p.includes("/mapserver/wmsserver"),m=p.includes("/imageserver/wmsserver");
p=p.includes("/wmsserver");return u&&(l||m||p)};a.parse=f;a.parseNonStandardSublayerUrl=d;a.sanitizeUrl=function(u,p){return u?b.removeTrailingSlash(b.removeQueryParameters(u,p)):u};a.sanitizeUrlWithLayerId=function(u){let {url:p}=u;if(!p)return{url:p};p=b.removeQueryParameters(p,u.logger);const l=b.urlToObject(p),m=f(l.path);let v=void 0;null!=m?(null!=m.sublayer&&null==u.layer.layerId&&(v=m.sublayer),p=m.url.path):u.nonStandardUrlAllowed&&(u=d(l.path),null!=u&&(p=u.serviceUrl,v=u.sublayerId));return{url:b.removeTrailingSlash(p),
layerId:v}};a.serverTypes=e;a.titleFromUrlAndName=function(u,p){const l=[];u&&(u=f(u),null!=u&&u.title&&l.push(u.title));p&&(p=n(p),l.push(p));if(2===l.length){if(l[0].toLowerCase().includes(l[1].toLowerCase()))return l[0];if(l[1].toLowerCase().includes(l[0].toLowerCase()))return l[1]}return l.join(" - ")};a.writeUrlWithLayerId=function(u,p,l,m,v){c.write(p,m,"url",v);m.url&&null!=u.layerId&&(m.url=b.join(m.url,l,u.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils","../portal/support/urlUtils"],function(a,b,c,f){function d(t,w){var z=w?.url?.path;t&&z&&(t=c.makeAbsolute(t,z,{preserveProtocolRelative:!0}),w.portalItem&&w.readResourcePaths&&(z=c.makeRelative(t,w.portalItem.itemUrl),null!=z&&v.test(z)&&w.readResourcePaths.push(w.portalItem.resourceFromPath(z).path)));return(t=u(t,w?.portal))&&m.test(t)?p(t):t}function n(t,w,z=a.MarkKeep.YES){t=t&&m.test(t)?l(t):t;if(null==
t)return t;!c.isAbsolute(t)&&w?.blockedRelativeUrls&&w.blockedRelativeUrls.push(t);let k=c.makeAbsolute(t);if(w){var x=w.verifyItemRelativeUrls?.rootPath||w.url?.path;if(x){x=u(x,w.portal);const y=u(k,w.portal);k=c.makeRelative(y,x,x);null!=k&&k!==y&&k!==t&&w.verifyItemRelativeUrls&&w.verifyItemRelativeUrls.writtenUrls.push(k)}}k=r(k,w?.portal);c.isAbsolute(k)&&(k=c.normalize(k));w?.resources&&w?.portalItem&&!c.isAbsolute(k)&&!c.isDataProtocol(k)&&z===a.MarkKeep.YES&&w.resources.toKeep.push({resource:w.portalItem.resourceFromPath(k),
compress:!1});return k}function q(t,w,z){return d(t,z)}function e(t,w,z,k){t=n(t,k);void 0!==t&&(w[z]=t)}function g(t){return(t?.match(m)??null)?.[1]??null}function h(t){t=t?.match(m)??null;if(null==t)return null;t=t[2];const w=t.lastIndexOf("/");if(-1===w){const {path:x,extension:y}=c.splitPathExtension(t);return{prefix:null,filename:x,extension:y}}const {path:z,extension:k}=c.splitPathExtension(t.slice(w+1));return{prefix:t.slice(0,w),filename:z,extension:k}}function r(t,w){return w&&!w.isPortal&&
w.urlKey&&w.customBaseUrl?c.changeDomain(t,`${w.urlKey}.${w.customBaseUrl}`,w.portalHostname):t}function u(t,w){if(!w||w.isPortal||!w.urlKey||!w.customBaseUrl)return t;const z=`${w.urlKey}.${w.customBaseUrl}`,k=c.getAppUrl();return c.hasSameOrigin(k,`${k.scheme}://${z}`)?c.changeDomain(t,w.portalHostname,z):c.changeDomain(t,z,w.portalHostname)}function p(t){if(!t)return t||null;t&&b.id&&!b.id.findCredential(t)&&(t=f.normalizeArcGISOnlineOrgDomain(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),
t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return t}function l(t){if(!t)return t||null;t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com");t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com");(t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"))&&b.id&&!b.id.findCredential(t)&&(t=f.normalizeArcGISOnlineOrgDomain(t));return t}const m=
/\/items\/([^/]+)\/resources\/(.*)/,v=/^\.\/resources\//;a.MarkKeep=void 0;(function(t){t[t.YES=0]="YES";t[t.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const A=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return a.MarkKeep},ensureMainOnlineDomain:r,fromCDNUrl:l,fromJSON:d,itemIdFromResourceUrl:g,prefixAndFilenameFromResourceUrl:h,read:q,toCDNUrl:p,toJSON:n,write:e},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=r;a.fromCDNUrl=l;a.fromJSON=d;a.itemIdFromResourceUrl=
g;a.persistableUrlUtils=A;a.prefixAndFilenameFromResourceUrl=h;a.read=q;a.toCDNUrl=p;a.toJSON=n;a.write=e})},"esri/support/apiKeyUtils":function(){define(["exports","../config","../core/urlUtils"],function(a,b,c){function f(n){const q=c.getOrigin(n,!0);return q?q.endsWith(".arcgis.com")&&!d.has(q)&&!n.endsWith("/sharing/rest/generateToken"):!1}const d=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);a.isApiKey=function(n){return!!n&&4<n.length&&
n.startsWith("AAPK")};a.isApiKeyApplicable=function(n,q){return!(!q&&!b.apiKey||!f(n))};a.supportsApiKey=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils","../core/urlUtils"],function(a,b,c,f,d){function n(){try{return new DOMException("Aborted","AbortError")}catch{const q=Error();q.name="AbortError";return q}}a.createTimeoutError=function(){return Error("Timeout exceeded")};a.isNoCorsRequestRequired=
function(q){const e=b.request.crossOriginNoCorsDomains;return e&&(q=d.getOrigin(q))?(q=q.toLowerCase(),!d.hasSameOrigin(q,d.getAppUrl())&&e[q]<Date.now()-36E5):!1};a.isTimeoutError=function(q){return"object"===typeof q&&!!q&&"message"in q&&"Timeout exceeded"===q.message};a.loadImageAsync=function(q,e,g=!1,h){return new Promise((r,u)=>{if(f.isAborted(h))u(n());else{var p=()=>{v();u(Error(`Unable to load ${e}`))},l=()=>{const A=q;v();r(A)},m=()=>{if(q){var A=q;v();A.src="";u(n())}},v=()=>{c("esri-image-decode")||
(q.removeEventListener("error",p),q.removeEventListener("load",l));q=l=p=null;null!=h&&h.removeEventListener("abort",m);m=null;g&&URL.revokeObjectURL(e)};null!=h&&h.addEventListener("abort",m);c("esri-image-decode")?q.decode().then(l,p):(q.addEventListener("error",p),q.addEventListener("load",l))}})};a.registerNoCorsDomains=function(q){b.request.crossOriginNoCorsDomains||(b.request.crossOriginNoCorsDomains={});const e=b.request.crossOriginNoCorsDomains;for(let g of q)g=g.toLowerCase(),/^https?:\/\//.test(g)?
e[d.getOrigin(g)??""]=0:(e[d.getOrigin("http://"+g)??""]=0,e[d.getOrigin("https://"+g)??""]=0)};a.sendNoCorsRequest=async function(q){var e=d.urlToObject(q);q=e.path;"json"===e.query?.f&&(q+="?f\x3djson");try{await fetch(q,{mode:"no-cors",credentials:"include"})}catch{}e=b.request.crossOriginNoCorsDomains;q=d.getOrigin(q);e&&q&&(e[q.toLowerCase()]=Date.now())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Collection":function(){define("../chunks/tslib.es6 ./ArrayPool ./Evented ./handleUtils ./lang ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){function m(F){F&&"object"===typeof F&&"destroy"in F&&"function"===typeof F.destroy&&F.destroy()}function v(F){return F?F instanceof H?F.toArray():F.length?Array.prototype.slice.apply(F):[]:[]}function A(F){if(F?.length)return F[0]}function t(F,N,S,W){N&&N.forEach((L,P,X)=>{F.push(L);t(F,S.call(W,L,P,X),S,W)})}var w;class z{constructor(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=
!0)}reset(F){this.defaultPrevented=!1;this.item=F}}class k{constructor(F,N,S,W,L){this.target=F;this.added=N;this.removed=S;this.start=W;this.deleteCount=L}}const x=new n(z,void 0,F=>{F.item=null;F.target=null;F.defaultPrevented=!1;F.cancellable=!1}),y=new Set,B=new Set,E=new Set,J=new Map;let K=0,H=w=class extends c.EventedAccessor{static isCollection(F){return null!=F&&F instanceof w}constructor(F){super(F);this._chgListeners=[];this._notifications=null;this._updating=!1;this._timer=null;this._observable=
new l.SimpleObservable;this.length=0;this._items=[];Object.defineProperty(this,"uid",{value:K++})}normalizeCtorArgs(F){return F?Array.isArray(F)||F instanceof w?{items:F}:F:{}}destroy(){this._removeAllRaw();this._timer&&this._timer.remove();this._emitter.destroy();this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){h.trackAccess(this._observable);return this._items}set items(F){this._emitBeforeChanges(q.ObservableChangesType.ADD)||(this._splice(0,this.length,v(F)),this._emitAfterChanges(q.ObservableChangesType.ADD))}hasEventListener(F){return this.destroyed?
!1:"change"===F?0<this._chgListeners.length:this._emitter.hasEventListener(F)}on(F,N){if(this.destroyed)return f.makeHandle();if("change"===F){const S=this._chgListeners,W={removed:!1,callback:N};S.push(W);this._notifications&&this._notifications.push({listeners:S.slice(),items:this._items.slice(),changes:[]});return f.makeHandle(()=>{W.removed=!0;S.splice(S.indexOf(W),1)})}return this._emitter.on(F,N)}once(F,N){const S="deref"in N?()=>N.deref():()=>N,W=this.on(F,L=>{S()?.call(null,L);W.remove()});
return W}add(F,N){h.trackAccess(this._observable);if(this._emitBeforeChanges(q.ObservableChangesType.ADD))return this;N=this.getNextIndex(N??null);this._splice(N,0,[F]);this._emitAfterChanges(q.ObservableChangesType.ADD);return this}addMany(F,N=this._items.length){h.trackAccess(this._observable);if(!F?.length||this._emitBeforeChanges(q.ObservableChangesType.ADD))return this;N=this.getNextIndex(N);this._splice(N,0,v(F));this._emitAfterChanges(q.ObservableChangesType.ADD);return this}at(F){h.trackAccess(this._observable);
F=Math.trunc(F)||0;0>F&&(F+=this.length);if(!(0>F||F>=this.length))return this._items[F]}removeAll(){h.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(q.ObservableChangesType.REMOVE))return[];const F=this._removeAllRaw();this._emitAfterChanges(q.ObservableChangesType.REMOVE);return F}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){h.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(d.clone)})}concat(...F){h.trackAccess(this._observable);
F=F.map(v);return this._createNewInstance({items:this._items.concat(...F)})}drain(F,N){h.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(q.ObservableChangesType.REMOVE)){var S=this._splice(0,this.length),W=S.length;for(let L=0;L<W;L++)F.call(N,S[L],L,S);this._emitAfterChanges(q.ObservableChangesType.REMOVE)}}destroyAll(){this.drain(m)}destroyMany(F){F=this.removeMany(F);F.forEach(m);return F}every(F,N){h.trackAccess(this._observable);return this._items.every(F,N)}filter(F,N){h.trackAccess(this._observable);
const S=2===arguments.length?this._items.filter(F,N):this._items.filter(F);return this._createNewInstance({items:S})}find(F,N){h.trackAccess(this._observable);return this._items.find(F,N)}findIndex(F,N){h.trackAccess(this._observable);return this._items.findIndex(F,N)}flatten(F,N){h.trackAccess(this._observable);const S=[];t(S,this,F,N);return new w(S)}forEach(F,N){h.trackAccess(this._observable);return this._items.forEach(F,N)}getItemAt(F){h.trackAccess(this._observable);return this._items[F]}getNextIndex(F){h.trackAccess(this._observable);
const N=this.length;F=null==F?N:F;0>F?F=0:F>N&&(F=N);return F}includes(F,N=0){h.trackAccess(this._observable);return this._items.includes(F,N)}indexOf(F,N=0){h.trackAccess(this._observable);return this._items.indexOf(F,N)}join(F=","){h.trackAccess(this._observable);return this._items.join(F)}lastIndexOf(F,N=this.length-1){h.trackAccess(this._observable);return this._items.lastIndexOf(F,N)}map(F,N){h.trackAccess(this._observable);F=this._items.map(F,N);return new w({items:F})}reorder(F,N=this.length-
1){h.trackAccess(this._observable);const S=this.indexOf(F);if(-1!==S){0>N?N=0:N>=this.length&&(N=this.length-1);if(S!==N){if(this._emitBeforeChanges(q.ObservableChangesType.MOVE))return F;this._splice(S,1);this._splice(N,0,[F]);this._emitAfterChanges(q.ObservableChangesType.MOVE)}return F}}pop(){h.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(q.ObservableChangesType.REMOVE)){var F=A(this._splice(this.length-1,1));this._emitAfterChanges(q.ObservableChangesType.REMOVE);return F}}push(...F){h.trackAccess(this._observable);
if(this._emitBeforeChanges(q.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,F);this._emitAfterChanges(q.ObservableChangesType.ADD);return this.length}reduce(F,N){h.trackAccess(this._observable);const S=this._items;return 2===arguments.length?S.reduce(F,N):S.reduce(F)}reduceRight(F,N){h.trackAccess(this._observable);const S=this._items;return 2===arguments.length?S.reduceRight(F,N):S.reduceRight(F)}remove(F){h.trackAccess(this._observable);return this.removeAt(this.indexOf(F))}removeAt(F){h.trackAccess(this._observable);
if(!(0>F||F>=this.length||this._emitBeforeChanges(q.ObservableChangesType.REMOVE)))return F=A(this._splice(F,1)),this._emitAfterChanges(q.ObservableChangesType.REMOVE),F}removeMany(F){h.trackAccess(this._observable);if(!F?.length||this._emitBeforeChanges(q.ObservableChangesType.REMOVE))return[];F=F instanceof w?F.toArray():F;const N=this._items,S=[],W=F.length;for(let D=0;D<W;D++){var L=N.indexOf(F[D]);if(-1<L){var P=D+1,X=L+1;const R=Math.min(F.length-P,N.length-X);let Y=0;for(;Y<R&&F[P+Y]===N[X+
Y];)Y++;P=1+Y;(L=this._splice(L,P))&&0<L.length&&S.push.apply(S,L);D+=P-1}}this._emitAfterChanges(q.ObservableChangesType.REMOVE);return S}reverse(){h.trackAccess(this._observable);if(this._emitBeforeChanges(q.ObservableChangesType.MOVE))return this;const F=this._splice(0,this.length);F&&(F.reverse(),this._splice(0,0,F));this._emitAfterChanges(q.ObservableChangesType.MOVE);return this}shift(){h.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(q.ObservableChangesType.REMOVE)){var F=
A(this._splice(0,1));this._emitAfterChanges(q.ObservableChangesType.REMOVE);return F}}slice(F=0,N=this.length){h.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(F,N)})}some(F,N){h.trackAccess(this._observable);return this._items.some(F,N)}sort(F){h.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(q.ObservableChangesType.MOVE)||!this._requiresSort(F))return this;const N=this._splice(0,this.length);arguments.length?N.sort(F):N.sort();this._splice(0,
0,N);this._emitAfterChanges(q.ObservableChangesType.MOVE);return this}_requiresSort(F=(N,S)=>N===S?0:N<S?-1:1){const N=this.length-1;for(let S=0;S<N;S++)if(0<F(this.items[S],this.items[S+1]))return!0;return!1}splice(F,N,...S){h.trackAccess(this._observable);const W=(N?q.ObservableChangesType.REMOVE:0)|(S.length?q.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(W))return[];F=this._splice(F,N,S)||[];this._emitAfterChanges(W);return F}toArray(){h.trackAccess(this._observable);return this._items.slice()}toJSON(){h.trackAccess(this._observable);
return this.toArray()}toLocaleString(){h.trackAccess(this._observable);return this._items.toLocaleString()}toString(){h.trackAccess(this._observable);return this._items.toString()}unshift(...F){h.trackAccess(this._observable);if(!F.length||this._emitBeforeChanges(q.ObservableChangesType.ADD))return this.length;this._splice(0,0,F);this._emitAfterChanges(q.ObservableChangesType.ADD);return this.length}_createNewInstance(F){return new this.constructor(F)}_splice(F,N,S){const W=this._items;var L=this.itemType;
let P=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=e.schedule(()=>this._dispatchChange()));0>F&&(F+=this.length);if(N){P=W.splice(F,N);if(this.hasEventListener("before-remove")){var X=x.acquire();X.target=this;X.cancellable=!0;for(let ja=0,da=P.length;ja<da;ja++){var D=P[ja];X.reset(D);this.emit("before-remove",X);X.defaultPrevented&&
(P.splice(ja,1),W.splice(F,0,D),F+=1,--ja,--da)}x.release(X)}this.length=this._items.length;if(this.hasEventListener("after-remove")){D=x.acquire();D.target=this;D.cancellable=!1;X=P.length;for(let ja=0;ja<X;ja++)D.reset(P[ja]),this.emit("after-remove",D);x.release(D)}}if(S?.length){if(L){D=[];for(var R of S)S=L.ensureType(R),null==S&&null!=R||D.push(S);S=D}L=this.hasEventListener("before-add");R=this.hasEventListener("after-add");D=F===this.length;if(L||R){var Y=x.acquire();Y.target=this;Y.cancellable=
!0;X=x.acquire();X.target=this;X.cancellable=!1;for(const ja of S)L?(Y.reset(ja),this.emit("before-add",Y),Y.defaultPrevented||(D?W.push(ja):W.splice(F++,0,ja),this._set("length",W.length),R&&(X.reset(ja),this.emit("after-add",X)))):(D?W.push(ja):W.splice(F++,0,ja),this._set("length",W.length),X.reset(ja),this.emit("after-add",X));x.release(X);x.release(Y)}else{if(D)for(Y of S)W.push(Y);else W.splice(F,0,...S);this._set("length",W.length)}}(S?.length||P?.length)&&this._notifyChangeEvent(S,P);this.hasEventListener("after-splice")&&
(F=new k(this,S,P,F,N),this.emit("after-splice",F));return P}_emitBeforeChanges(F){let N=!1;if(this.hasEventListener("before-changes")){const S=x.acquire();S.target=this;S.cancellable=!0;S.type=F;this.emit("before-changes",S);N=S.defaultPrevented;x.release(S)}return N}_emitAfterChanges(F){if(this.hasEventListener("after-changes")){const N=x.acquire();N.target=this;N.cancellable=!1;N.type=F;this.emit("after-changes",N);x.release(N)}this._observable.notify()}_notifyChangeEvent(F,N){this.hasEventListener("change")&&
this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:F,removed:N})}get updating(){return this._updating}_dispatchChange(){this._timer&&(this._timer.remove(),this._timer=null);this._updating=!1;if(this._notifications){var F=this._notifications;this._notifications=null;for(const N of F){F=N.changes;y.clear();B.clear();E.clear();for(const {added:D,removed:R}of F){if(D)if(0===E.size&&0===B.size)for(const Y of D)y.add(Y);else for(const Y of D)B.has(Y)?(E.add(Y),B.delete(Y)):
E.has(Y)||y.add(Y);if(R)if(0===E.size&&0===y.size)for(const Y of R)B.add(Y);else for(const Y of R)y.has(Y)?y.delete(Y):(E.delete(Y),B.add(Y))}const S=b.acquire();y.forEach(D=>{S.push(D)});const W=b.acquire();B.forEach(D=>{W.push(D)});const L=this._items,P=N.items,X=b.acquire();E.forEach(D=>{P.indexOf(D)!==L.indexOf(D)&&X.push(D)});if(N.listeners&&(S.length||W.length||X.length)){F={target:this,added:S,removed:W,moved:X};const D=N.listeners.length;for(let R=0;R<D;R++){const Y=N.listeners[R];Y.removed||
Y.callback.call(this,F)}}b.release(S);b.release(W);b.release(X)}y.clear();B.clear();E.clear()}}};H.ofType=F=>{if(!F)return w;if(J.has(F))return J.get(F);let N=null;if("function"===typeof F)N=F.prototype.declaredClass;else if(F.base)N=F.base.prototype.declaredClass;else for(var S in F.typeMap){const W=F.typeMap[S].prototype.declaredClass;N=N?N+` | ${W}`:W}S=class extends w{};a.__decorate([u.shared({Type:F,ensureType:"function"===typeof F?g.ensureType(F):g.ensureOneOfType(F)})],S.prototype,"itemType",
void 0);S=a.__decorate([p.subclass(`esri.core.Collection<${N}>`)],S);J.set(F,S);return S};a.__decorate([r.property()],H.prototype,"_updating",void 0);a.__decorate([r.property()],H.prototype,"length",void 0);a.__decorate([r.property()],H.prototype,"items",null);a.__decorate([r.property({readOnly:!0})],H.prototype,"updating",null);return H=w=a.__decorate([p.subclass("esri.core.Collection")],H)})},"esri/core/Evented":function(){define(["../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],
function(a,b,c,f){class d{constructor(){this._emitter=new d.EventEmitter(this)}emit(n,q){return this._emitter.emit(n,q)}on(n,q){return this._emitter.on(n,q)}once(n,q){return this._emitter.once(n,q)}hasEventListener(n){return this._emitter.hasEventListener(n)}}(function(n){class q{constructor(g=null){this._target=g;this._listenersMap=null}clear(){this._listenersMap?.clear();this._listenersMap=null}destroy(){this.clear()}emit(g,h){let r=this._listenersMap?.get(g);if(!r)return!1;const u=this._target||
this;let p=!1;for(const l of r.slice()){const m="deref"in l?l.deref():l;m?m?.call(u,h):p=!0}p&&(r=r.filter(l=>"deref"in l?null!=l.deref():!0),this._listenersMap.set(g,r));return 0<r.length}on(g,h){if(Array.isArray(g)){var r=g.map(u=>this.on(u,h));return c.handlesGroup(r)}if(g.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);r=this._listenersMap.get(g)||[];r.push(h);this._listenersMap.set(g,
r);return c.makeHandle(()=>{const u=this._listenersMap?.get(g),p=u?.indexOf(h)??-1;0<=p&&u.splice(p,1)})}once(g,h){const r=this.on(g,u=>{r.remove();("deref"in h?h.deref():h)?.call(null,u)});return r}hasEventListener(g){g=this._listenersMap?.get(g);return null!=g&&0<g.length}}n.EventEmitter=q;n.EventedMixin=g=>{g=class extends g{constructor(){super(...arguments);this._emitter=new q}destroy(){this._emitter.clear()}emit(h,r){return this._emitter.emit(h,r)}on(h,r){return this._emitter.on(h,r)}once(h,
r){return this._emitter.once(h,r)}hasEventListener(h){return this._emitter.hasEventListener(h)}};return g=a.__decorate([f.subclass("esri.core.Evented")],g)};let e=class extends b{constructor(){super(...arguments);this._emitter=new d.EventEmitter(this)}destroy(){this._emitter.clear()}emit(g,h){return this._emitter.emit(g,h)}on(g,h){return this._emitter.on(g,h)}once(g,h){return this._emitter.once(g,h)}hasEventListener(g){return this._emitter.hasEventListener(g)}};e=a.__decorate([f.subclass("esri.core.Evented.EventedAccessor")],
e);n.EventedAccessor=e})(d);return d})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(c,f)=>{c[f]=b}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../ObservableBase"],function(a,b){class c extends b.ObservableBase{notify(){var f=this._observers;if(f&&0<f.length){f=f.slice();for(const d of f)d.onInvalidated(),d.onCommitted()}}}a.SimpleObservable=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(c){return c};
a.referenceSetter=function(c,f,d=b){f||=new d;if(f===c)return f;f.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?f.addMany(c):c&&f.add(c);return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e){const g=h=>{h=class extends h{constructor(...r){super(...r);
this.loadError=this._loadController=null;this.loadStatus="not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(u=>{const p=this.load.bind(this);this.load=l=>{const m=new Promise((v,A)=>{const t=d.onAbortOrThrow(l,A);this.destroyed&&A(new b("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(v,A).finally(()=>{t&&t.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");
const v=this._loadController=new AbortController;p({signal:v.signal})}u();return m}}));this.when(()=>{this._set("loadStatus","loaded");this._loadController=null},u=>{this._set("loadStatus","failed");this._set("loadError",u);this._loadController=null})}destroy(){this._loadController&&(this._loadController=c.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;
this._set("loadError",new b("load:cancelled","Cancelled"));this._loadController?.abort();this._promiseProps.abort();return this}};a.__decorate([q.property({readOnly:!0})],h.prototype,"loaded",null);a.__decorate([q.property({readOnly:!0})],h.prototype,"loadError",void 0);a.__decorate([q.property({clonable:!1})],h.prototype,"loadStatus",void 0);a.__decorate([q.property({type:[n],readOnly:!0})],h.prototype,"loadWarnings",null);return h=a.__decorate([e.subclass("esri.core.Loadable")],h)};f=class extends g(f){};
f=a.__decorate([e.subclass("esri.core.Loadable")],f);(function(h){h.LoadableMixin=g;h.isLoadable=function(r){return!(!r||!r.load)}})(f||={});return f})},"esri/core/Promise":function(){define(["../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(a,b,c,f){var d;(function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"})(d||={});class n{constructor(){this._resolver=c.createResolver();this._status=d.PENDING;this._resolvingPromises=
[];this._resolver.promise.then(()=>{this._status=d.RESOLVED;this._cleanUp()},()=>{this._status=d.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e);this._tryResolve()}isResolved(){return this._status===d.RESOLVED}isRejected(){return this._status===d.REJECTED}isFulfilled(){return this._status!==d.PENDING}abort(){this._resolver.reject(c.createAbortError())}_cleanUp(){this._resolvingPromises=this._allPromise=
null}_tryResolve(){if(!this.isFulfilled()){var e=c.createResolver(),g=[...this._resolvingPromises,e.promise],h=this._allPromise=Promise.all(g);h.then(()=>{this.isFulfilled()||this._allPromise!==h||this._resolver.resolve()},r=>{this.isFulfilled()||this._allPromise!==h||c.isAbortError(r)||this._resolver.reject(r)});e.resolve()}}}const q=e=>{e=class extends e{constructor(...g){super(...g);this._promiseProps=new n;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(g,
h){return this._promiseProps.promise.then(()=>this).then(g,h)}catch(g){return this.when(null,g)}addResolvingPromise(g){g&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in g?g.when():g)}};return e=a.__decorate([f.subclass("esri.core.Promise")],e)};b=class extends q(b){};b=a.__decorate([f.subclass("esri.core.Promise")],b);(b||={}).EsriPromiseMixin=q;return b})},"esri/core/loadAll":function(){define(["exports","./asyncUtils","./Collection","./Loadable"],function(a,
b,c,f){async function d(n,q){const e=[],g=(...r)=>{for(const u of r)null!=u&&(Array.isArray(u)?g(...u):c.isCollection(u)?u.forEach(p=>g(p)):f.isLoadable(u)&&e.push(u))};q(g);let h=null;await b.map(e,async r=>{r=await b.result("loadAll"in r&&"function"===typeof r.loadAll?r.loadAll():r.load());!1!==r.ok||h||(h=r)});if(h)throw h.error;return n}a.loadAll=async function(n,q){await n.load();return d(n,q)};a.loadAllChildren=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){function e(p){return{ok:!0,value:p}}function g(p){return{ok:!1,error:p}}function h(p){return null!=p&&!0===p.ok?p.value:null}function r(p){return null!=p&&!1===p.ok?p.error:null}let u=class extends c{get value(){return h(this._result)}get error(){return r(this._result)}get finished(){return null!=this._result}constructor(p,l){super({});this._abortHandle=this._result=null;this.remove=this.abort=()=>{this._abortController=f.abortMaybe(this._abortController)};this._abortController=
new AbortController;const {signal:m}=this._abortController;this.promise=p(m);this.promise.then(v=>{this._result=e(v);this._cleanup()},v=>{this._result=g(v);this._cleanup()});this._abortHandle=d.onAbort(l,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=f.removeMaybe(this._abortHandle);this._abortController=null}};b.__decorate([n.property()],u.prototype,"value",null);b.__decorate([n.property()],u.prototype,"error",null);b.__decorate([n.property()],u.prototype,
"finished",null);b.__decorate([n.property()],u.prototype,"promise",void 0);b.__decorate([n.property()],u.prototype,"_result",void 0);u=b.__decorate([q.subclass("esri.core.asyncUtils.ReactiveTask")],u);a.assertResult=function(p){if(!0===p.ok)return p.value;throw p.error;};a.createTask=function(p,l){return new u(p,l)};a.forEach=function(p,l,m){return d.eachAlways(p.map((v,A)=>l.apply(m,[v,A])))};a.makeResultError=g;a.makeResultOk=e;a.map=async function(p,l,m){return(await d.eachAlways(p.map((v,A)=>
l.apply(m,[v,A])))).map(v=>v.value)};a.result=async function(p){if(null==p)return{ok:!1,error:Error("no promise provided")};try{return e(await p)}catch(l){return g(l)}};a.resultError=r;a.resultOrAbort=async function(p){try{return e(await p)}catch(l){return d.throwIfAbortError(l),g(l)}};a.resultValue=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(c,f,d){let n,
q;void 0===f?(q=c,n=[void 0]):"string"!==typeof f?(q=c,n=[void 0],d=f):(q=f,n=Array.isArray(c)?c:[c]);return(e,g)=>{const h=e.constructor.prototype;for(const r of n){const u=b.propertyJSONMeta(e,r,q);u.write&&"object"===typeof u.write||(u.write={});d&&(u.write.target=d);u.write.writer=h[g]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/SpatialReference":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;c=r=class extends c{static fromJSON(u){if(!u)return null;if(102100===u?.wkid)return r.WebMercator;if(4326===u?.wkid)return r.WGS84;const p=new r;p.read(u);return p}constructor(u){super(u);this.imageCoordinateSystem=this.latestVcsWkid=this.vcsWkid=this.wkt2=this.wkt=this.wkid=this.latestWkid=null}normalizeCtorArgs(u){return u&&"object"===typeof u?u:{["string"===typeof u?"wkt":"wkid"]:u}}get isWGS84(){return h.isWGS84(this)}get isWebMercator(){return h.isWebMercator(this)}get isGeographic(){return h.isGeographic(this)}get isWrappable(){return h.isWrappable(this)}get metersPerUnit(){return d.getMetersPerUnitForSR(this)}get unit(){return d.getUnitString(this)||
(this.isGeographic?"degrees":null)}writeWkt(u,p){this.wkid||(p.wkt=u)}clone(){if(this===r.WGS84)return new r(h.wgs84);if(this===r.WebMercator)return new r(h.webMercator);const u=new r;null!=this.wkid?(u.wkid=this.wkid,null!=this.latestWkid&&(u.latestWkid=this.latestWkid),null!=this.vcsWkid&&(u.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(u.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(u.wkt=this.wkt),null!=this.wkt2&&(u.wkt2=this.wkt2));this.imageCoordinateSystem&&(u.imageCoordinateSystem=
f.clone(this.imageCoordinateSystem));return u}equals(u){if(null==u)return!1;if(this.imageCoordinateSystem||u.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==u.imageCoordinateSystem)return!1;const {id:p,referenceServiceName:l}=u.imageCoordinateSystem,{geodataXform:m}=u.imageCoordinateSystem,v=this.imageCoordinateSystem;return null==p||m?JSON.stringify(v)===JSON.stringify(u.imageCoordinateSystem):l?v.id===p&&v.referenceServiceName===l:v.id===p}return h.equals(this,u)}toJSON(u){return this.write(void 0,
u)}};c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;c.PlateCarree=null;a.__decorate([q.property({readOnly:!0})],c.prototype,"isWGS84",null);a.__decorate([q.property({readOnly:!0})],c.prototype,"isWebMercator",null);a.__decorate([q.property({readOnly:!0})],c.prototype,"isGeographic",null);a.__decorate([q.property({readOnly:!0})],c.prototype,"isWrappable",null);a.__decorate([q.property({type:n.Integer,json:{write:!0}})],c.prototype,"latestWkid",void 0);a.__decorate([q.property({readOnly:!0})],
c.prototype,"metersPerUnit",null);a.__decorate([q.property({readOnly:!0})],c.prototype,"unit",null);a.__decorate([q.property({type:n.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],c.prototype,"wkid",void 0);a.__decorate([q.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],c.prototype,"wkt",void 0);a.__decorate([g.writer("wkt"),g.writer("web-scene","wkt")],c.prototype,
"writeWkt",null);a.__decorate([q.property({type:String,json:{write:!1}})],c.prototype,"wkt2",void 0);a.__decorate([q.property({type:n.Integer,json:{write:!0}})],c.prototype,"vcsWkid",void 0);a.__decorate([q.property({type:n.Integer,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);a.__decorate([q.property()],c.prototype,"imageCoordinateSystem",void 0);c=r=a.__decorate([e.subclass("esri.geometry.SpatialReference")],c);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=b.freeze(new c({wkid:4267,
wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}));c.WGS84=b.freeze(new c(h.wgs84));c.WebMercator=b.freeze(new c(h.webMercator));c.PlateCarree=b.freeze(new c(h.plateCarree));return c})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(a,b,c,f,d,n,q){function e(D){D=L[D];if(!D)throw Error("unknown type");return D}function g(D){return W[D].baseUnit}function h(D,R=null){R=R||e(D);return W[R].baseUnit===D}function r(D,R,Y){if(R===Y)return D;const ja=e(R);if(ja!==e(Y))throw Error("incompatible units");D=h(R,ja)?D:D*W[ja].units[R].inBaseUnits;return h(Y,ja)?D:D/W[ja].units[Y].inBaseUnits}function u(D){switch(D){case "metric":return"meters";case "imperial":return"feet";default:return D}}function p(D,R){D=r(D,R,"meters");return 3E3>
Math.abs(D)?"meters":"kilometers"}function l(D,R){D=r(D,R,"meters");return 1E5>Math.abs(D)?"meters":"kilometers"}function m(D,R){D=r(D,R,"feet");return 1E3>Math.abs(D)?"feet":"miles"}function v(D,R){D=r(D,R,"feet");return 1E5>Math.abs(D)?"feet":"miles"}function A(D,R){D=r(D,R,"square-meters");return 3E6>Math.abs(D)?"square-meters":"square-kilometers"}function t(D,R){D=r(D,R,"square-feet");return 1E6>Math.abs(D)?"square-feet":"square-miles"}function w(D){return S.fromJSON(D.toLowerCase())||null}function z(D){const R=
k(D),Y=f.getReferenceEllipsoid(D).metersPerDegree;return R>=Y?"meters":B(D)}function k(D,R=d.earth.metersPerDegree){return x(D,!0)??R}function x(D,R=!1){const Y=D?.wkid??null;D=D?.wkt2??D?.wkt??null;let ja=null;if(Y){if(n.isWKIDFromMars(Y))return d.mars.metersPerDegree;if(n.isWKIDFromMoon(Y))return d.moon.metersPerDegree;ja=H.values[H[Y]];!ja&&R&&N.has(Y)&&(ja=J)}else D&&(E(D)?ja=y(K.exec(D),ja):/^GEOCCS/i.test(D)&&(ja=y(F.exec(D),ja)));return ja}function y(D,R){return D?.[1]?parseFloat(D[1].split(",")[1]):
R}function B(D){var R=D?.wkid??null,Y=D?.wkt2??D?.wkt??null;D=null;if(R)D=H.units[H[R]];else if(Y&&(R=E(Y)?K:/^GEOCCS/i.test(Y)?F:null)&&(R=R.exec(Y),R?.[1]&&(R=R[1],D=/[\\"']{1}([^\\"']+)/.exec(R)?.[1],!D||!w(D)))){R=parseFloat(R.split(",")[1]);D=null;Y=H.values;for(let ja=0;ja<Y.length;++ja)if(1E-7>Math.abs(R-Y[ja])){D=H.units[ja];break}}return null!=D?w(D):null}function E(D){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(D)}const J=d.earth.radius*Math.PI/200,K=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,
H=q,F=/UNIT\[([^\]]+)]/i,N=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),S=c.strict()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",
link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",
link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",
foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),W={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},
"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1E3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},
"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},
"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},
"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},
"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:3.527777777777778E-4},micrometers:{inBaseUnits:1E-6},nanometers:{inBaseUnits:1E-9},"50-kilometers":{inBaseUnits:5E4},"150-kilometers":{inBaseUnits:15E4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-nautical-miles":{inBaseUnits:3429904},"square-us-feet":{inBaseUnits:(D=>D*D)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*
1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},L=(()=>{const D={};for(const R in W)for(const Y in W[R].units)D[Y]=R;return D})(),
P="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),X=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=c.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",
esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});q=c.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});c=c.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.adaptiveAreaUnit=function(D,R,Y){switch(Y){case "metric":return A(D,
R);case "imperial":return t(D,R);default:return Y}};a.adaptiveImperialAreaUnit=t;a.adaptiveImperialLengthUnit=m;a.adaptiveImperialVerticalLengthUnit=v;a.adaptiveLengthUnit=function(D,R,Y){switch(Y){case "metric":return p(D,R);case "imperial":return m(D,R);default:return Y}};a.adaptiveMetricAreaUnit=A;a.adaptiveMetricLengthUnit=p;a.adaptiveMetricVerticalLengthUnit=l;a.adaptiveVerticalLengthUnit=function(D,R,Y){switch(Y){case "metric":return l(D,R);case "imperial":return v(D,R);default:return Y}};a.angleUnitsJSONMap=
c;a.areaUnitFromSpatialReference=function(D){D=B(D);return null==D?null:X.get(D)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(D){return g(e(D))};a.baseUnitForUnitType=g;a.convertFromSpatialReferenceUnit=function(D,R,Y,ja=!1){if(!ja&&n.isGeographic(R))throw Error("Unable to convert from an angular unit to a linear unit.");ja=B(R);ja!==Y&&(ja?D=r(D,ja,Y):(D*=k(R),D=r(D,"meters",Y)));return D};a.convertToSpatialReferenceUnit=function(D,R,Y,ja=!1){if(!ja&&n.isGeographic(Y))throw Error("Unable to convert from a linear unit to an angular unit.");
ja=B(Y);R!==ja&&(D=ja?r(D,R,ja):r(D,R,"meters")/k(Y));return D};a.convertUnit=r;a.defaultAreaUnit=function(D){switch(D){case "metric":return"square-meters";case "imperial":return"square-feet";default:return D}};a.defaultLengthUnit=u;a.defaultVerticalLengthUnit=function(D){return u(D)};a.getDefaultUnitSystem=function(D){D=B(D);if(null==D)return null;switch(D){case "feet":case "us-feet":case "clarke-feet":case "fathoms":case "nautical-miles":case "us-chains":case "us-links":case "us-miles":case "clarke-yards":case "clarke-chains":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "sears-links":case "benoit-1895-a-yards":case "benoit-1895-a-feet":case "benoit-1895-a-chains":case "benoit-1895-a-links":case "benoit-1895-b-yards":case "benoit-1895-b-feet":case "benoit-1895-b-chains":case "benoit-1895-b-links":case "1865-feet":case "indian-feet":case "indian-1937-feet":case "indian-1962-feet":case "indian-1975-feet":case "indian-yards":case "indian-1937-yards":case "indian-1962-yards":case "indian-1975-yards":case "statute-miles":case "gold-coast-feet":case "british-1936-feet":case "yards":case "chains":case "links":case "sears-1922-truncated-yards":case "sears-1922-truncated-feet":case "sears-1922-truncated-chains":case "sears-1922-truncated-links":case "us-yards":case "inches":case "us-inches":case "rods":case "us-rods":case "us-nautical-miles":case "uk-nautical-miles":case "smoots":case "tx-vara":case "points":return"imperial";
case "millimeters":case "centimeters":case "meters":case "german-meters":case "kilometers":case "decimeters":case "micrometers":case "nanometers":case "50-kilometers":case "150-kilometers":return"metric"}return null};a.getMetersPerCartesianUnitForSR=function(D){return n.isGeographic(D)?1:k(D)};a.getMetersPerUnit=x;a.getMetersPerUnitForSR=k;a.getMetersPerVerticalUnitForSR=function(D){if(null!=D&&!n.isEarth(D))return 1;D=k(D);return 1E5<D?1:D};a.getUnitString=B;a.getVerticalUnitStringForSR=z;a.gradGcsIds=
N;a.inchesPerMeter=39.37;a.isBaseUnit=h;a.isMeasurementSystem=function(D){return"imperial"===D||"metric"===D};a.isProjectedWKT=E;a.lengthToDegrees=function(D,R,Y){return r(D,R,"meters")/(Y*Math.PI/180)};a.lengthUnitFromSpatialReference=function(D){D=B(D);return null!=D&&P.includes(D)?D:null};a.lengthUnitsJSONMap=q;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-nautical-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");
a.measurementLengthUnits=P;a.unitFromRESTJSON=w;a.unitType=e;a.verticalLengthUnitFromSpatialReference=function(D){D=z(D);return null!=D&&P.includes(D)?D:null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){function c(n){const q={};for(const e in n)q[n[e]]=e;return q}function f(n){const q=[];for(const e in n)q.push(e);q.sort();return q}class d{constructor(n,q={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=
n;this._options=q;this.apiValues=[];this.jsonValues=[];this._apiToJSON=c(n);this.apiValues=f(this._apiToJSON);this.jsonValues=f(this._jsonToAPI);this.read=e=>this.fromJSON(e);this.write=(e,g,h)=>{e=this.toJSON(e);void 0!==e&&b.setDeepValue(h,e,g)};this.write.isJSONMapWriter=!0}toJSON(n){return null==n?null:this._apiToJSON.hasOwnProperty(n)?(n=this._apiToJSON[n],this._options.useNumericKeys?+n:n):this._options.ignoreUnknown?null:n}fromJSON(n){return null!=n&&this._jsonToAPI.hasOwnProperty(n)?this._jsonToAPI[n]:
this._options.ignoreUnknown?void 0:n}}a.JSONMap=d;a.strict=function(){return function(n,q){return new d(n,{ignoreUnknown:!0,...q})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,c){function f(u){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${u.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}
function d(u){return c.equals(u,n)}const n=f(b.earth),q=f(b.mars),e=f(b.moon),g={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${b.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},h=q.wkt.toUpperCase(),r=
e.wkt.toUpperCase();a.SphericalECEFSpatialReferenceLike=n;a.SphericalPCPFMarsLike=q;a.SphericalPCPFMoonLike=e;a.WGS84ECEFSpatialReferenceLike=g;a.getReferenceEllipsoid=function(u){if(null!=u&&c.isValid(u)){const p=u.wkid;u=u.wkt2??u.wkt;if(c.isWKIDFromMars(p))return b.mars;const l=u?.toUpperCase();if(u&&l===h)return b.mars;if(c.isWKIDFromMoon(p)||l&&l===r)return b.moon}return b.earth};a.getReferenceEllipsoidFromWKID=function(u){return c.isWKIDFromMars(u)?b.mars:c.isWKIDFromMoon(u)?b.moon:b.earth};
a.isSphericalECEF=d;a.isSphericalPCPF=function(u){return d(u)||c.equals(u,q)||c.equals(u,e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports"],function(a){class b{constructor(n,q,e,g,h,r){this.semiMajorAxis=n;this.flattening=q;this.outerAtmosphereRimWidth=e;this.atmosphereHeight=g;this.scaleHeight=h;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=
Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=r||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const c=new b(6378137,1/298.257223563,3E5,1E5,.085,.006694379990137799),f=new b(3396190,.005886007555525457,23E4,6E4,.111),d=new b(1737400,0,0,0,0);a.Ellipsoid=b;a.earth=c;a.mars=f;a.moon=d;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/string","../../chunks/pe","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,c,f,d){function n(w){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(w)}function q(w){w=w?.wkid;return null!=w&&2E3<=w&&p.includes(w)}function e(w){return w===f.SupportedGCSWkids.GCSMARS2000||w===
f.SupportedGCSWkids.GCSMARS2000_SPHERE}function g(w){return e(w?.wkid)}function h(w){return w===f.SupportedGCSWkids.GCSMOON2000}function r(w){return h(w?.wkid)}function u(w){if(null==w)return!1;const z=w.wkid;return null!=z&&2E3<=z?!0:null!=w.wkt2||null!=w.wkt}const p=[102100,102113,3857,3785,900913],l=[4326,...p,104905,104971],m=[-2.0037508342788905E7,2.0037508342788905E7],v=[-2.0037508342787E7,2.0037508342787E7],A={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:m,origin:v,dx:1E-5},t={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:m,origin:v,dx:1E-5},
102100:A,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:m,origin:v,dx:1E-5},3857:A,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',
altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},900913:A};b={wkid:4326,wkt:b.replace(t[4326].wkTemplate,{Central_Meridian:"0.0"})};a.equals=function(w,z){if(w===z)return!0;if(null==w||null==z)return!1;const k=w.wkid,x=z.wkid;if(null!=k||null!=x){if(k===x||q(w)&&q(z))return!0;
w=w.latestWkid;if(null!=w&&x===w)return!0;z=z.latestWkid;return null!=z&&k===z?!0:!1}let y,B;w.wkt2&&z.wkt2?(y=w.wkt2,B=z.wkt2):w.wkt&&z.wkt&&(y=w.wkt,B=z.wkt);return y&&B?y.toUpperCase()===B.toUpperCase():!1};a.equalsWithProjectionEngine=async function(w,z){if(w===z)return!0;c.isLoaded()||await c.load();const k=x=>{const y=x.wkt2||x.wkt;return y?c.PeFactory.fromString(c.PeDefs.PE_TYPE_COORDSYS,y)?.getCode():(x=x.wkid??x.latestWkid)?c.PeFactory.coordsys(x)?.getCode():null};w=w?k(w):null;z=z?k(z):
null;return null!=w&&null!=z&&w===z};a.getInfo=function(w){w=w?.wkid;return null!=w&&2E3<=w?t[w]||null:null};a.getWktFromWkt=async function(w,z){if(1===z&&!n(w)||2===z&&n(w))return w;c.isLoaded()||await c.load();return c.PeFactory.fromString(c.PeDefs.PE_TYPE_NONE,w)?.toString(1===z?c.PeDefs.PE_STR_FMT_WKT:c.PeDefs.PE_STR_FMT_WKT2)??null};a.isCGCS2000=function(w){return w?.wkid===f.SupportedGCSWkids.CGCS2000};a.isEarth=function(w){return!(g(w)||r(w))};a.isGeographic=function(w){if(!u(w))return!1;const {wkid:z}=
w;return z?null==d[z]:(w=w.wkt2||w.wkt)?/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(w):!1};a.isMars=g;a.isMoon=r;a.isPlateCarree=function(w){return 32662===w?.wkid};a.isValid=u;a.isWGS84=function(w){return 4326===w?.wkid};a.isWKIDFromMars=e;a.isWKIDFromMoon=h;a.isWKT2=n;a.isWebMercator=q;a.isWrappable=function(w){w=w?.wkid;return null!=w&&2E3<=w&&l.includes(w)};a.plateCarree={wkid:32662};a.srToRESTValue=function(w){if(w){var {wkid:z,vcsWkid:k}=w;if(z)return k?JSON.stringify({wkid:z,vcsWkid:k}):String(z);
w=w.wkt||w.wkt2;return JSON.stringify(w?k?{wkt:w,vcsWkid:k}:{wkt:w}:{})}};a.webMercator={wkid:102100,latestWkid:3857};a.webMercatorOrigin=v;a.webMercatorValid=m;a.wgs84=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","../assets","../core/has"],function(a,b,c,f){function d(){return!!b._pe}function n(){return!!f("esri-wasm")}function q(){return p?p:p=(new Promise((m,v)=>a(["./pe-wasm"],m,v))).then(m=>m.peWasm).then(({default:m})=>
m({locateFile:v=>c.getAssetUrl(`esri/geometry/support/${v}`)})).then(m=>{e(m)})}function e(m){function v(w,z,k){w[z]=k(w[z])}b._pe=m;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeDouble=class extends b._pe.PeDouble{constructor(w=NaN){super(w)}destroy(){b._pe.destroy(this)}[Symbol.dispose](){this.destroy()}};b.PeGCSExtent=class extends b._pe.PeGCSExtent{destroy(){b._pe.destroy(this)}[Symbol.dispose](){this.destroy()}};m=[b._pe.PeAngunit,
b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var A of m)v(A.prototype,"getName",w=>function(){return w.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const w of[b._pe.PeGeogtran,b._pe.PeProjcs])v(w.prototype,"getParameters",z=>function(){const k=Array(b.PeDefs.PE_PARM_MAX);let x=z.call(this);for(let y=0;y<k.length;y++){const B=b._pe.getValue(x,"*");k[y]=B?b._pe.wrapPointer(B,b._pe.PeParameter):null;x+=
Int32Array.BYTES_PER_ELEMENT}return k});v(b._pe.PeHorizon.prototype,"getCoord",w=>function(z=!1){const k=this.getSize();if(!k)return null;const x=[],y=w.call(this);u(x,k,y,z);return x});v(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",w=>{const z=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let k=null;var x=w.call(this);if(!b._pe.compare(x,b._pe.NULL)){k=[x];const y=this.getSteps();if(1<y){x=b._pe.getPointer(x);for(let B=1;B<y;B++)k.push(b._pe.wrapPointer(x+z*B,b._pe.PeGTlistExtendedGTs))}}return k}});
const t=b._pe._pe_getPeHorizonSize();A=w=>function(){let z=this._cache;z||(this._cache=z=new Map);if(z.has(w))return z.get(w);let k=null;var x=w.call(this);if(!b._pe.compare(x,b._pe.NULL)){k=[x];const y=x.getNump();if(1<y){x=b._pe.getPointer(x);for(let B=1;B<y;B++)k.push(b._pe.wrapPointer(x+t*B,b._pe.PeHorizon))}}z.set(w,k);return k};v(b._pe.PeProjcs.prototype,"horizonGcsGenerate",A);v(b._pe.PeProjcs.prototype,"horizonPcsGenerate",A);b._pe.PeObject.prototype.toString=function(w=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();
const z=b._pe.getPointer(this),k=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(z,w,k))};b._pe.PeGeogcs.prototype.destroy=function(){this.Delete();g(this);this.ptr=0};b._pe.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()};b._pe.PeProjcs.prototype.destroy=function(){this.Delete();g(this);this.ptr=0};b._pe.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function g(m){if(m){var v=b._pe.getClass(m);v&&(v=b._pe.getCache(v))&&
(m=b._pe.getPointer(m))&&delete v[m]}}function h(m,v){const A=[];v=Array(v);for(let t=0;t<m;t++)A.push(b._pe.ensureInt8(v));return A}function r(m){return ArrayBuffer.isView(m)?m:Array.isArray(m[0])?m.flat():m}function u(m,v,A,t=!1){if(t)for(t=0;t<2*v;t++)m[t]=b._pe.getValue(A+t*Float64Array.BYTES_PER_ELEMENT,"double");else{t=0===m.length;for(let w=0;w<v;w++)t&&(m[w]=Array(2)),m[w][0]=b._pe.getValue(A,"double"),m[w][1]=b._pe.getValue(A+Float64Array.BYTES_PER_ELEMENT,"double"),A+=2*Float64Array.BYTES_PER_ELEMENT}}
let p;b._pe=null;b.PeCSTransformations=void 0;(function(m){function v(w,z,k){b._pe.ensureCache.prepare();var x=r(k);const y=k===x;x=b._pe.ensureFloat64(x);(w=b._pe._pe_geog_to_proj(b._pe.getPointer(w),z,x))&&u(k,z,x,y);return w}function A(w,z,k){return t(w,z,k,0)}function t(w,z,k,x){b._pe.ensureCache.prepare();var y=r(k);const B=k===y;y=b._pe.ensureFloat64(y);(w=b._pe._pe_proj_to_geog_center(b._pe.getPointer(w),z,y,x))&&u(k,z,y,B);return w}m.geogToProj=v;m.projGeog=function(w,z,k,x){switch(x){case b.PeDefs.PE_TRANSFORM_P_TO_G:return A(w,
z,k);case b.PeDefs.PE_TRANSFORM_G_TO_P:return v(w,z,k)}return 0};m.projToGeog=A;m.projToGeogCenter=t})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(m){m.init=function(){m.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;m.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;m.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;m.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;m.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;m.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;m.PE_DMS_MAX=
b._pe.PeDefs.prototype.PE_DMS_MAX;m.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;m.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;m.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;m.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;m.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;m.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;m.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;m.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;m.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;
m.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;m.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;m.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;m.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;m.PE_STR_FMT_WKT=b._pe.PeDefs.prototype.PE_STR_FMT_WKT;m.PE_STR_FMT_WKT2=b._pe.PeDefs.prototype.PE_STR_FMT_WKT2;m.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;m.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;m.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
m.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;m.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;m.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;m.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;m.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;m.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;m.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeDouble=null;b.PeFactory=void 0;(function(m){function v(z,
k){let x=null,y=A[z];y||(y={},A[z]=y);y.hasOwnProperty(String(k))&&(x=y[k],b._pe.compare(x,b._pe.NULL)&&(x=null));x||(z=b._pe.PeFactory.prototype.factoryByType(z,k),b._pe.compare(z,b._pe.NULL)||(x=w(z),y[k]=x));return x}const A={},t={},w=z=>{const k=z.getType();switch(k){case b.PeDefs.PE_TYPE_GEOGCS:z=b._pe.castObject(z,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:z=b._pe.castObject(z,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:z=b._pe.castObject(z,b._pe.PeGeogtran);break;default:k&
b.PeDefs.PE_TYPE_UNIT&&(z=b._pe.castObject(z,b._pe.PeUnit))}return z};m.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};m.coordsys=function(z){return v(b.PeDefs.PE_TYPE_COORDSYS,z)};m.factoryByType=v;m.fromString=function(z,k){let x=null,y=t[z];y||(y={},t[z]=y);y.hasOwnProperty(k)&&(x=y[k],b._pe.compare(x,b._pe.NULL)&&(x=null));x||(z=b._pe.PeFactory.prototype.fromString(z,k),b._pe.compare(z,b._pe.NULL)||(x=w(z),y[k]=x));return x};m.geogcs=function(z){return v(b.PeDefs.PE_TYPE_GEOGCS,
z)};m.geogtran=function(z){return v(b.PeDefs.PE_TYPE_GEOGTRAN,z)};m.getCode=function(z){return b._pe.PeFactory.prototype.getCode(z)};m.projcs=function(z){return v(b.PeDefs.PE_TYPE_PROJCS,z)};m.unit=function(z){return v(b.PeDefs.PE_TYPE_UNIT,z)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(m){let v;m.init=function(){m.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;v=b._pe._pe_getPeGTlistExtendedEntrySize()};m.getGTlist=function(A,
t,w,z,k,x){let y=null;const B=new b._pe.PeInteger(x);try{const E=b._pe.PeGTlistExtended.prototype.getGTlist(A,t,w,z,k,B);if(x=B.val)if(y=[E],1<x){const J=b._pe.getPointer(E);for(A=1;A<x;A++)y.push(b._pe.wrapPointer(J+v*A,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(B)}return y}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(m){m.destroy=function(v){if(v?.length){for(const A of v)g(A),A.getEntries().forEach(t=>{g(t);t=t.getGeogtran();g(t);t.getParameters().forEach(g);
[t.getGeogcs1(),t.getGeogcs2()].forEach(w=>{g(w);const z=w.getDatum();g(z);g(z.getSpheroid());g(w.getPrimem());g(w.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(v[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(m){m.geogToGeog=function(v,A,t,w,z){b._pe.ensureCache.prepare();var k=r(t);const x=t===k;k=b._pe.ensureFloat64(k);let y=0;w&&(y=b._pe.ensureFloat64(w));(v=b._pe._pe_geog_to_geog(b._pe.getPointer(v),A,k,y,z))&&u(t,A,k,x);return v}})(b.PeGTTransformations||
(b.PeGTTransformations={}));b.PeLineType=void 0;(function(m){m.geodesicCoordinate=function(v,A,t,w,z,k,x,y){b._pe.PeLineType.prototype.geodesic_coordinate(v,A,t,w,z,k,x,y)};m.geodeticCoordinate=function(v,A,t,w,z,k,x,y,B){b._pe.PeLineType.prototype.geodetic_coordinate(v,A,t,w,z,k,x,y,B)};m.geodeticDistance=function(v,A,t,w,z,k,x,y,B,E){b._pe.PeLineType.prototype.geodetic_distance(v,A,t,w,z,k,x,y,B,E)};m.greatEllipticDistance=function(v,A,t,w,z,k,x,y,B){b._pe.PeLineType.prototype.great_elliptic_distance(v,
A,t,w,z,k,x,y,B)}})(b.PeLineType||(b.PeLineType={}));b.PeMath=void 0;(function(m){m.phiToEta=function(v,A){return b._pe.PeMath.prototype.phi_to_eta(v,A)};m.etaToPhi=function(v,A){return b._pe.PeMath.prototype.eta_to_phi(v,A)};m.phiToPhig=function(v,A){return b._pe.PeMath.prototype.phi_to_phig(v,A)};m.q=function(v,A,t){return b._pe.PeMath.prototype.q(v,A,t)};m.q90=function(v,A){return b._pe.PeMath.prototype.q90(v,A)}})(b.PeMath||(b.PeMath={}));b.PeNotationDms=void 0;(function(m){const v=(t,w,z,k,x,
y)=>{b._pe.ensureCache.prepare();switch(t){case "dd":var B=b._pe._pe_geog_to_dd;var E=b.PeDefs.PE_DD_MAX;break;case "ddm":B=b._pe._pe_geog_to_ddm;E=b.PeDefs.PE_DDM_MAX;break;case "dms":B=b._pe._pe_geog_to_dms,E=b.PeDefs.PE_DMS_MAX}t=0;w&&(t=b._pe.getPointer(w));w=r(k);w=b._pe.ensureFloat64(w);E=h(z,E);k=b._pe.ensureInt32(E);if(x=B(t,z,w,x,k))for(B=0;B<z;B++)y[B]=b._pe.UTF8ToString(E[B]);return x},A=(t,w,z,k,x)=>{b._pe.ensureCache.prepare();switch(t){case "dd":var y=b._pe._pe_dd_to_geog;break;case "ddm":y=
b._pe._pe_ddm_to_geog;break;case "dms":y=b._pe._pe_dms_to_geog}t=0;w&&(t=b._pe.getPointer(w));w=k.map(B=>b._pe.ensureString(B));k=b._pe.ensureInt32(w);w=b._pe.ensureFloat64(Array(2*z));(y=y(t,z,k,w))&&u(x,z,w);return y};m.geogToDms=function(t,w,z,k,x){return v("dms",t,w,z,k,x)};m.dmsToGeog=function(t,w,z,k){return A("dms",t,w,z,k)};m.geogToDdm=function(t,w,z,k,x){return v("ddm",t,w,z,k,x)};m.ddmToGeog=function(t,w,z,k){return A("ddm",t,w,z,k)};m.geogToDd=function(t,w,z,k,x){return v("dd",t,w,z,k,
x)};m.ddToGeog=function(t,w,z,k){return A("dd",t,w,z,k)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(m){m.init=function(){m.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;m.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;m.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;m.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;m.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};
m.geogToMgrsExtended=function(v,A,t,w,z,k,x){b._pe.ensureCache.prepare();let y=0;v&&(y=b._pe.getPointer(v));v=r(t);t=b._pe.ensureFloat64(v);v=h(A,b.PeDefs.PE_MGRS_MAX);const B=b._pe.ensureInt32(v);if(w=b._pe._pe_geog_to_mgrs_extended(y,A,t,w,z,k,B))for(z=0;z<A;z++)x[z]=b._pe.UTF8ToString(v[z]);return w};m.mgrsToGeogExtended=function(v,A,t,w,z){b._pe.ensureCache.prepare();let k=0;v&&(k=b._pe.getPointer(v));v=t.map(x=>b._pe.ensureString(x));t=b._pe.ensureInt32(v);v=b._pe.ensureFloat64(Array(2*A));(w=
b._pe._pe_mgrs_to_geog_extended(k,A,t,w,v))&&u(z,A,v);return w}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(m){m.geogToUsng=function(v,A,t,w,z,k,x){b._pe.ensureCache.prepare();let y=0;v&&(y=b._pe.getPointer(v));v=r(t);t=b._pe.ensureFloat64(v);v=h(A,b.PeDefs.PE_MGRS_MAX);const B=b._pe.ensureInt32(v);if(w=b._pe._pe_geog_to_usng(y,A,t,w,z,k,B))for(z=0;z<A;z++)x[z]=b._pe.UTF8ToString(v[z]);return w};m.usngToGeog=function(v,A,t,w){b._pe.ensureCache.prepare();var z=0;v&&
(z=b._pe.getPointer(v));v=t.map(k=>b._pe.ensureString(k));t=b._pe.ensureInt32(v);v=b._pe.ensureFloat64(Array(2*A));(z=b._pe._pe_usng_to_geog(z,A,t,v))&&u(w,A,v);return z}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(m){m.init=function(){m.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;m.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;m.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};m.geogToUtm=function(v,A,t,
w,z){b._pe.ensureCache.prepare();var k=0;v&&(k=b._pe.getPointer(v));v=r(t);t=b._pe.ensureFloat64(v);v=h(A,b.PeDefs.PE_UTM_MAX);const x=b._pe.ensureInt32(v);if(w=b._pe._pe_geog_to_utm(k,A,t,w,x))for(k=0;k<A;k++)z[k]=b._pe.UTF8ToString(v[k]);return w};m.utmToGeog=function(v,A,t,w,z){b._pe.ensureCache.prepare();let k=0;v&&(k=b._pe.getPointer(v));v=t.map(x=>b._pe.ensureString(x));t=b._pe.ensureInt32(v);v=b._pe.ensureFloat64(Array(2*A));(w=b._pe._pe_utm_to_geog(k,A,t,w,v))&&u(z,A,v);return w}})(b.PeNotationUtm||
(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(m){const v=new Map;m.init=function(){m.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;m.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;m.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;m.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};m.generate=function(A,t=m.PE_PCSINFO_OPTION_DOMAIN){let w=null,z=null;v.has(A)&&(z=v.get(A),z[t]&&(w=z[t]));w||(w=b._pe.PePCSInfo.prototype.generate(A,
t),z||(z=[],v.set(A,z)),z[t]=w);return w}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(m){m.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const l=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeDouble(){return b.PeDouble},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},
get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeLineType(){return b.PeLineType},get PeMath(){return b.PeMath},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:e,get _pe(){return b._pe},isLoaded:d,isSupported:n,load:q},Symbol.toStringTag,
{value:"Module"}));b._init=e;b.isLoaded=d;b.isSupported=n;b.load=q;b.pe=l})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),function(a,b,c,f,d,n){function q(e){if(!b.assetsPath)throw d.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new f("assets:path-not-set","config.assetsPath is not set");return n.join(b.assetsPath,e)}a.fetchAsset=
function(e,g){return c(q(e),g)};a.getAssetUrl=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;
const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,
2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,
3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,
3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,
3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,
5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,
6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,
6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,
6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,
6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,
7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,
7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,
8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,
8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,
8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,
10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,
24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,
31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,
102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,
103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,
103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,
103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(a=2E3;2045>=a;a++)b[a]=0;for(a=
2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=
0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=
0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=
0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=
0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=
2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5167;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=
0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=
0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=
0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=
2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=10285;10291>=
a;a++)b[a]=0;for(a=10314;10317>=a;a++)b[a]=0;for(a=10448;10465>=a;a++)b[a]=0;for(a=10731;10733>=a;a++)b[a]=0;for(a=11114;11118>=a;a++)b[a]=0;for(a=20004;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=
a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22229;22232>=a;a++)b[a]=0;for(a=22234;22236>=
a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22807;22822>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23301;23333>=
a;a++)b[a]=2;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=
a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=
a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=27700;27707>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=
a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=
a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32401;32460>=a;a++)b[a]=0;for(a=32501;32560>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=
a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=
0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=
2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=
2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=
0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=
0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=
0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=
0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=a;a++)b[a]=0;for(a=112E3;112101>=a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B){function E(S){const W=f.id;return()=>{const L=S.deref();L&&W.findCredential(L.restUrl)&&L.signIn().catch(()=>{})}}const J=S=>Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"}));var K;let H;const F={PortalGroup:()=>Promise.resolve({default:z}),PortalItem:()=>new Promise((S,W)=>a(["./PortalItem"],L=>S(J(L)),W)),PortalUser:()=>Promise.resolve({default:y})};q=K=class extends q.JSONSupportMixin(e){constructor(S){super(S);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.layoutGroupQuery=
this.galleryTemplatesGroupQuery=this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.default3DBasemapQuery=this.customBaseUrl=this.culture=this.created=null;this.hasClassificationSchema=this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=
null;this.isReadOnly=this.isPortal=!1;this.region=this.portalProperties=this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.recycleBinEnabled=!1;this.rotatorPanels=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=c.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=
this.useDefault3dBasemap=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(S){return"string"===typeof S?{url:S}:S}destroy(){N.unregister(this);this.defaultBasemap=g.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=g.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=g.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=g.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(S){if(S)for(const W of S)c.request.trustedServers.includes(W)||
c.request.trustedServers.push(W);return S}readDefaultBasemap(S){return this._readBasemap(S)}readDefaultDevBasemap(S){return this._readBasemap(S)}readDefaultVectorBasemap(S){return this._readBasemap(S)}get extraQuery(){const S=!this.user?.orgId||this.canSearchPublic;return this.id&&!S?` AND orgid:${this.id}`:null}get hasAPIKey(){return B.isApiKeyApplicable(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let S=this.url;
if(S){const W=S.indexOf("/sharing");S=0<W?S.slice(0,W):this.url.replace(/\/+$/,"");S+="/sharing/rest"}return S}get thumbnailUrl(){const S=this.restUrl,W=this.thumbnail;return S&&W?this._normalizeSSL(S+"/portals/self/resources/"+W):null}readUrlKey(S){return S?S.toLowerCase():S}readUser(S){let W=null;S&&(W=y.fromJSON(S),W.portal=this);return W}load(S){const W=(new Promise((L,P)=>a(["../Basemap"],X=>L(J(X)),P))).then(({default:L})=>{h.throwIfAborted(S);H=L}).then(()=>this.sourceJSON?this.sourceJSON:
this.fetchSelf(this.authMode,!1,S)).then(L=>{if(!this.hasAPIKey&&f.id){const P=f.id;this.credential=P.findCredential(this.restUrl);this.credential||this.authMode!==K.AUTH_MODE_AUTO&&this.authMode!==K.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=P.on("credential-create",E(new WeakRef(this))),N.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=L;this.read(L)});this.addResolvingPromise(W);return Promise.resolve(this)}async createElevationLayers(){await this.load();
const S=this._getHelperService("defaultElevationLayers"),W=(await new Promise((L,P)=>a(["../layers/ElevationLayer"],X=>L(J(X)),P))).default;return S?S.map(L=>new W({id:L.id,url:L.url})):[]}async fetchBasemaps(S,W){const L=await this._fetchBasemaps(S,W);!0===W?.include3d&&!1!==this.use3dBasemaps&&(S=await this._fetchBasemaps3D(S,W),L.unshift(...S));return L}async fetchDefault3DBasemap(S){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;const W=
new k;W.query=this.default3DBasemapQuery;W.disableExtraQuery=!0;return(S=(await this.queryItems(W,S)).results.find(L=>"Web Scene"===L.type))?new H({portalItem:S}):null}fetchCategorySchema(S){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",S).then(W=>W.categorySchema):h.isAborted(S)?Promise.reject(h.createAbortError()):Promise.resolve([])}async fetchClassificationSchema(S){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",
S).then(W=>W.classificationSchema):null}fetchFeaturedGroups(S){const W=this.featuredGroups,L=new k({num:100,sortField:"title"});if(W?.length){const P=[];for(const X of W)P.push(`(title:"${X.title}" AND owner:${X.owner})`);L.query=P.join(" OR ");return this.queryGroups(L,S).then(X=>X.results)}return h.isAborted(S)?Promise.reject(h.createAbortError()):Promise.resolve([])}fetchRegions(S){const W=this.user?.culture||this.culture||t.getLocale();return this.request(this.restUrl+"/portals/regions",{...S,
query:{culture:W}})}fetchSettings(S){const W=this.user?.culture||this.culture||t.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...S,query:{culture:W}})}static getDefault(){return w.ensureDefaultPortalInstance(()=>new K)}queryGroups(S,W){return this.queryPortal("/community/groups",S,"PortalGroup",W)}queryItems(S,W){return this.queryPortal("/search",S,"PortalItem",W)}queryUsers(S,W){S.sortField||(S.sortField="username");return this.queryPortal("/community/users",S,"PortalUser",
W)}fetchSelf(S=this.authMode,W=!1,L){const P=this.restUrl+"/portals/self";S={authMode:S,query:{culture:t.getLocale().toLowerCase()},withCredentials:!0,...L};"auto"===S.authMode&&(S.authMode="no-prompt");W&&(S.query.default=!0);return this.request(P,S)}queryPortal(S,W,L,P){const X=u.ensureType(k,W),D=R=>this.request(this.restUrl+S,{...X.toRequestOptions(this),...P}).then(Y=>{const ja=X.clone();ja.start=Y.nextStart;return new x({nextQueryParams:ja,queryParams:X,total:Y.total,results:K._resultsToTypedArray(R,
{portal:this},Y,P)})}).then(Y=>Promise.all(Y.results.map(ja=>"function"===typeof ja.when?ja.when():Y)).then(()=>Y,ja=>{h.throwIfAbortError(ja);return Y}));return L&&F[L]?F[L]().then(({default:R})=>{h.throwIfAborted(P);return D(R)}):D()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new n("portal:not-authenticated","Unable to authenticate user. Portal.user is missing");});if(this.authMode===K.AUTH_MODE_ANONYMOUS||this.authMode===K.AUTH_MODE_NO_PROMPT&&!f.id)return Promise.reject(new n("portal:invalid-auth-mode",
`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const S=W=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return W||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=W;return this.fetchSelf("immediate")});if(this.user&&this.credential===W)return null;this.credential=W;return this.fetchSelf("immediate")}).then(L=>
{L&&(this.sourceJSON=L,this.read(L))});return f.id?f.id.getCredential(this.restUrl,{prompt:this.authMode!==K.AUTH_MODE_NO_PROMPT}).then(W=>S(W)):S(this.credential)}normalizeUrl(S){const W=this.credential?.token;return this._normalizeSSL(W?S+(S.includes("?")?"\x26":"?")+"token\x3d"+W:S)}requestToTypedArray(S,W,L){return this.request(S,W).then(P=>{const X=K._resultsToTypedArray(L,{portal:this},P);return Promise.all(X.map(D=>"function"===typeof D.when?D.when():P)).then(()=>X,()=>X)})}request(S,W={}){var L=
{f:"json",...W.query};const {authMode:P=this.authMode===K.AUTH_MODE_ANONYMOUS||this.authMode===K.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:X=null,cacheBust:D=!1,method:R="auto",responseType:Y="json",signal:ja}=W;L={authMode:P,body:X,cacheBust:D,method:R,query:L,responseType:Y,timeout:0,signal:ja};W.withCredentials&&(L.withCredentials=!0);return d(this._normalizeSSL(S),L).then(da=>da.data)}toJSON(){throw new n("internal:not-yet-implemented","Portal.toJSON is not yet implemented");}static fromJSON(S){if(!S)return null;
if(S.declaredClass)throw Error("JSON object is already hydrated");return new K({sourceJSON:S})}_getHelperService(S){const W=this.helperServices&&this.helperServices[S];if(!W)throw new n("portal:service-not-found",`The \`helperServices\` do not include an entry named "${S}"`);return W}async _fetchBasemaps(S,W){const L=new k;L.query=S||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);L.disableExtraQuery=!0;S=await this.queryGroups(L,
W);if(!S.total)return[];S=S.results[0];L.num=100;L.query='type:"Web Map" -type:"Web Application"';L.sortField=S.sortField||"name";L.sortOrder=S.sortOrder||"desc";W=await S.queryItems(L,W);return W.total?W.results.filter(P=>"Web Map"===P.type).map(P=>new H({portalItem:P})):[]}async _fetchBasemaps3D(S,W){S=S||this.basemapGalleryGroupQuery3D;if(!S||this.hasAPIKey)return[];S=new k({query:S,disableExtraQuery:!0});var L=await this.queryGroups(S,W);if(!L.total)return[];L=L.results[0];S.num=100;S.query='type:"Web Scene"';
S.sortField=L.sortField||"name";S.sortOrder=L.sortOrder||"desc";W=await L.queryItems(S,W);return W.total?W.results.filter(P=>"Web Scene"===P.type).map(P=>new H({portalItem:P})):[]}_normalizeSSL(S){return S.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(S){return S?(S=H.fromJSON(S),S.portalItem={portal:this},S):null}static _resultsToTypedArray(S,W,L,P){if(L){const X=null!=P?P.signal:null;L=L.listings||L.notifications||L.userInvitations||L.tags||L.items||L.groups||L.comments||L.provisions||
L.results||L.relatedItems||L;if(S||W)L=L.map(D=>{D=Object.assign(S?S.fromJSON(D):D,W);"function"===typeof D.load&&D.load(X);return D})}else L=[];return L}};q.AUTH_MODE_ANONYMOUS="anonymous";q.AUTH_MODE_AUTO="auto";q.AUTH_MODE_IMMEDIATE="immediate";q.AUTH_MODE_NO_PROMPT="no-prompt";b.__decorate([r.property()],q.prototype,"access",void 0);b.__decorate([r.property()],q.prototype,"allSSL",void 0);b.__decorate([r.property()],q.prototype,"authMode",void 0);b.__decorate([r.property()],q.prototype,"authorizedCrossOriginDomains",
void 0);b.__decorate([m.reader("authorizedCrossOriginDomains")],q.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([r.property()],q.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([r.property({json:{name:"3DBasemapGalleryGroupQuery"}})],q.prototype,"basemapGalleryGroupQuery3D",void 0);b.__decorate([r.property()],q.prototype,"bingKey",void 0);b.__decorate([r.property()],q.prototype,"canListApps",void 0);b.__decorate([r.property()],q.prototype,"canListData",void 0);b.__decorate([r.property()],
q.prototype,"canListPreProvisionedItems",void 0);b.__decorate([r.property()],q.prototype,"canProvisionDirectPurchase",void 0);b.__decorate([r.property()],q.prototype,"canSearchPublic",void 0);b.__decorate([r.property()],q.prototype,"canShareBingPublic",void 0);b.__decorate([r.property()],q.prototype,"canSharePublic",void 0);b.__decorate([r.property()],q.prototype,"canSignInArcGIS",void 0);b.__decorate([r.property()],q.prototype,"canSignInIDP",void 0);b.__decorate([r.property()],q.prototype,"colorSetsGroupQuery",
void 0);b.__decorate([r.property()],q.prototype,"commentsEnabled",void 0);b.__decorate([r.property({type:Date})],q.prototype,"created",void 0);b.__decorate([r.property()],q.prototype,"credential",void 0);b.__decorate([r.property()],q.prototype,"culture",void 0);b.__decorate([r.property()],q.prototype,"currentVersion",void 0);b.__decorate([r.property()],q.prototype,"customBaseUrl",void 0);b.__decorate([r.property()],q.prototype,"default3DBasemapQuery",void 0);b.__decorate([r.property()],q.prototype,
"defaultBasemap",void 0);b.__decorate([m.reader("defaultBasemap")],q.prototype,"readDefaultBasemap",null);b.__decorate([r.property()],q.prototype,"defaultDevBasemap",void 0);b.__decorate([m.reader("defaultDevBasemap")],q.prototype,"readDefaultDevBasemap",null);b.__decorate([r.property({type:A})],q.prototype,"defaultExtent",void 0);b.__decorate([r.property()],q.prototype,"defaultVectorBasemap",void 0);b.__decorate([m.reader("defaultVectorBasemap")],q.prototype,"readDefaultVectorBasemap",null);b.__decorate([r.property()],
q.prototype,"description",void 0);b.__decorate([r.property()],q.prototype,"devBasemapGalleryGroupQuery",void 0);b.__decorate([r.property()],q.prototype,"eueiEnabled",void 0);b.__decorate([r.property({readOnly:!0})],q.prototype,"extraQuery",null);b.__decorate([r.property()],q.prototype,"featuredGroups",void 0);b.__decorate([r.property()],q.prototype,"featuredItemsGroupQuery",void 0);b.__decorate([r.property()],q.prototype,"galleryTemplatesGroupQuery",void 0);b.__decorate([r.property()],q.prototype,
"layoutGroupQuery",void 0);b.__decorate([r.property()],q.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([r.property({readOnly:!0})],q.prototype,"hasAPIKey",null);b.__decorate([r.property()],q.prototype,"hasCategorySchema",void 0);b.__decorate([r.property()],q.prototype,"hasClassificationSchema",void 0);b.__decorate([r.property()],q.prototype,"helpBase",void 0);b.__decorate([r.property()],q.prototype,"helperServices",void 0);b.__decorate([r.property()],q.prototype,"helpMap",void 0);b.__decorate([r.property()],
q.prototype,"homePageFeaturedContent",void 0);b.__decorate([r.property()],q.prototype,"homePageFeaturedContentCount",void 0);b.__decorate([r.property()],q.prototype,"httpPort",void 0);b.__decorate([r.property()],q.prototype,"httpsPort",void 0);b.__decorate([r.property()],q.prototype,"id",void 0);b.__decorate([r.property()],q.prototype,"ipCntryCode",void 0);b.__decorate([r.property({readOnly:!0})],q.prototype,"isOrganization",null);b.__decorate([r.property()],q.prototype,"isPortal",void 0);b.__decorate([r.property()],
q.prototype,"isReadOnly",void 0);b.__decorate([r.property({readOnly:!0})],q.prototype,"itemPageUrl",null);b.__decorate([r.property()],q.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([r.property()],q.prototype,"maxTokenExpirationMinutes",void 0);b.__decorate([r.property({type:Date})],q.prototype,"modified",void 0);b.__decorate([r.property()],q.prototype,"name",void 0);b.__decorate([r.property()],q.prototype,"portalHostname",void 0);b.__decorate([r.property()],q.prototype,"portalMode",void 0);
b.__decorate([r.property()],q.prototype,"portalProperties",void 0);b.__decorate([r.property()],q.prototype,"region",void 0);b.__decorate([r.property()],q.prototype,"recycleBinEnabled",void 0);b.__decorate([r.property({readOnly:!0})],q.prototype,"restUrl",null);b.__decorate([r.property()],q.prototype,"rotatorPanels",void 0);b.__decorate([r.property()],q.prototype,"showHomePageDescription",void 0);b.__decorate([r.property()],q.prototype,"sourceJSON",void 0);b.__decorate([r.property()],q.prototype,"staticImagesUrl",
void 0);b.__decorate([r.property({json:{name:"2DStylesGroupQuery"}})],q.prototype,"stylesGroupQuery2d",void 0);b.__decorate([r.property({json:{name:"stylesGroupQuery"}})],q.prototype,"stylesGroupQuery3d",void 0);b.__decorate([r.property()],q.prototype,"supportsHostedServices",void 0);b.__decorate([r.property()],q.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([r.property()],q.prototype,"templatesGroupQuery",void 0);b.__decorate([r.property()],q.prototype,"thumbnail",void 0);b.__decorate([r.property({readOnly:!0})],
q.prototype,"thumbnailUrl",null);b.__decorate([r.property()],q.prototype,"units",void 0);b.__decorate([r.property()],q.prototype,"url",void 0);b.__decorate([r.property()],q.prototype,"urlKey",void 0);b.__decorate([m.reader("urlKey")],q.prototype,"readUrlKey",null);b.__decorate([r.property()],q.prototype,"user",void 0);b.__decorate([m.reader("user")],q.prototype,"readUser",null);b.__decorate([r.property()],q.prototype,"use3dBasemaps",void 0);b.__decorate([r.property()],q.prototype,"useDefault3dBasemap",
void 0);b.__decorate([r.property()],q.prototype,"useStandardizedQuery",void 0);b.__decorate([r.property()],q.prototype,"useVectorBasemaps",void 0);b.__decorate([r.property()],q.prototype,"vectorBasemapGalleryGroupQuery",void 0);b=q=K=b.__decorate([v.subclass("esri.portal.Portal")],q);const N=new FinalizationRegistry(S=>{S.remove()});return b})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(c,f,d){let n,q;void 0===f||Array.isArray(f)?
(q=c,d=f,n=[void 0]):(q=f,n=Array.isArray(c)?c:[c]);return(e,g)=>{const h=e.constructor.prototype;n.forEach(r=>{r=b.propertyJSONMeta(e,r,q);r.read&&"object"===typeof r.read||(r.read={});r.read.reader=h[g];d&&(r.read.source=(r.read.source||[]).concat(d))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/tslib.es6 ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){function m(t,w,z){return null==w?z:null==z?w:t(w,z)}function v(t,w){const [z,k]=w.valid;w=2*k;var x=0;t>k?(x=Math.ceil(Math.abs(t-k)/w),t-=x*w):t<z&&(x=Math.ceil(Math.abs(t-z)/w),t+=x*w,x=-x);return{x:t,frameId:x}}var A;f=A=class extends e{constructor(...t){super(...t);this.type="extent";this.ymin=this.xmin=0;this.zmin=this.mmin=void 0;this.ymax=this.xmax=0;this.zmax=this.mmax=void 0}normalizeCtorArgs(t,w,z,k,x){return!t||"esri.geometry.SpatialReference"!==t.declaredClass&&
null==t.wkid?"object"===typeof t?(t.spatialReference=null==t.spatialReference?h.WGS84:t.spatialReference,t):{xmin:t,ymin:w,xmax:z,ymax:k,spatialReference:x??h.WGS84}:{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}}static fromPoint(t){return new A({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");
this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}get center(){const t=new g({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(t.z=.5*(this.zmin+this.zmax));this.hasM&&(t.m=.5*(this.mmin+this.mmax));return t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-
this.xmin)}centerAt(t){const w=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-w.x,t.y-w.y,t.z-w.z):this.offset(t.x-w.x,t.y-w.y)}clone(){const t=new A;t.xmin=this.xmin;t.ymin=this.ymin;t.xmax=this.xmax;t.ymax=this.ymax;t.spatialReference=this.spatialReference;null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax);null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax);return t}contains(t){if(!t)return!1;const w=this.spatialReference,z=t.spatialReference;w&&z&&!w.equals(z)&&l.canProject(w,z)&&(t=
w.isWebMercator?l.geographicToWebMercator(t):l.webMercatorToGeographic(t,!0));return"point"===t.type?r.extentContainsPoint(this,t):"extent"===t.type?r.extentContainsExtent(this,t):!1}equals(t){if(this===t)return!0;if(null==t)return!1;const w=this.spatialReference,z=t.spatialReference;w&&z&&!w.equals(z)&&l.canProject(w,z)&&(t=w.isWebMercator?l.geographicToWebMercator(t):l.webMercatorToGeographic(t,!0));return this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===
t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){t=.5*(1-t);var w=this.width*t;const z=this.height*t;this.xmin+=w;this.ymin+=z;this.xmax-=w;this.ymax-=z;this.hasZ&&(w=(this.zmax-this.zmin)*t,this.zmin+=w,this.zmax-=w);this.hasM&&(t*=this.mmax-this.mmin,this.mmin+=t,this.mmax-=t);return this}intersects(t){if(null==t)return!1;"mesh"===t.type&&(t=t.extent);const w=this.spatialReference,z=t.spatialReference;w&&z&&!p.equals(w,z)&&l.canProject(w,z)&&(t=w.isWebMercator?l.geographicToWebMercator(t):
l.webMercatorToGeographic(t,!0));return u.getFeatureExtentIntersector(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,w,z){this.xmin+=t;this.ymin+=w;this.xmax+=t;this.ymax+=w;null!=z&&(this.zmin+=z,this.zmax+=z);return this}shiftCentralMeridian(){return this._normalize(!0)}union(t){if(this===t)return this;this.xmin=Math.min(this.xmin,t.xmin);this.ymin=Math.min(this.ymin,t.ymin);this.xmax=Math.max(this.xmax,t.xmax);this.ymax=Math.max(this.ymax,t.ymax);
if(this.hasZ||t.hasZ)this.zmin=m(Math.min,this.zmin,t.zmin),this.zmax=m(Math.max,this.zmax,t.zmax);if(this.hasM||t.hasM)this.mmin=m(Math.min,this.mmin,t.mmin),this.mmax=m(Math.max,this.mmax,t.mmax);return this}intersection(t){if(this===t)return this;if(null==t||!this.intersects(t))return null;this.xmin=Math.max(this.xmin,t.xmin);this.ymin=Math.max(this.ymin,t.ymin);this.xmax=Math.min(this.xmax,t.xmax);this.ymax=Math.min(this.ymax,t.ymax);if(this.hasZ||t.hasZ)this.zmin=m(Math.max,this.zmin,t.zmin),
this.zmax=m(Math.min,this.zmax,t.zmax);if(this.hasM||t.hasM)this.mmin=m(Math.max,this.mmin,t.mmin),this.mmax=m(Math.min,this.mmax,t.mmax);return this}toJSON(t){return this.write({},t)}_shiftCM(t=p.getInfo(this.spatialReference)){if(!t||!this.spatialReference)return this;const w=this.spatialReference,z=this._getCM(t);if(z){const k=w.isWebMercator?l.webMercatorToGeographic(z):z;this.xmin-=z.x;this.xmax-=z.x;w.isWebMercator||(k.x=v(k.x,t).x);this.spatialReference=new h(b.replace((w.isWGS84?t.altTemplate:
null)??t.wkTemplate,{Central_Meridian:k.x}))}return this}_getCM(t){let w=null;const [z,k]=t.valid;t=this.xmin;const x=this.xmax;t>=z&&t<=k&&x>=z&&x<=k||(w=this.center);return w}_normalize(t,w,z){const k=this.spatialReference;if(!k)return this;z=z??p.getInfo(k);if(null==z)return this;const x=this._getParts(z).map(E=>E.extent);if(2>x.length)return x[0]||this;if(2<x.length)return t?this._shiftCM(z):this.set({xmin:z.valid[0],xmax:z.valid[1]});if(t)return this._shiftCM(z);if(w)return x;let y=!0,B=!0;x.forEach(E=>
{E.hasZ||(y=!1);E.hasM||(B=!1)});return{rings:x.map(E=>{const J=[[E.xmin,E.ymin],[E.xmin,E.ymax],[E.xmax,E.ymax],[E.xmax,E.ymin],[E.xmin,E.ymin]];if(y){var K=(E.zmax-E.zmin)/2;for(let H=0;H<J.length;H++)J[H].push(K)}if(B)for(E=(E.mmax-E.mmin)/2,K=0;K<J.length;K++)J[K].push(E);return J}),hasZ:y,hasM:B,spatialReference:k}}_getParts(t){let w=this.cache._parts;if(!w){w=[];const {ymin:K,ymax:H,spatialReference:F}=this;var z=this.width,k=this.xmin,x=this.xmax;t=t||p.getInfo(F);const [N,S]=t.valid;var y=
v(this.xmin,t);var B=y.x,E=y.frameId;y=v(this.xmax,t);t=y.x;y=y.frameId;var J=B===t&&0<z;if(z>2*S){z=new A(k<x?B:t,K,S,H,F);k=new A(N,K,k<x?t:B,H,F);x=new A(0,K,S,H,F);B=new A(N,K,0,H,F);t=[];J=[];z.contains(x)&&t.push(E);z.contains(B)&&J.push(E);k.contains(x)&&t.push(y);k.contains(B)&&J.push(y);for(let W=E+1;W<y;W++)t.push(W),J.push(W);w.push({extent:z,frameIds:[E]},{extent:k,frameIds:[y]},{extent:x,frameIds:t},{extent:B,frameIds:J})}else B>t||J?w.push({extent:new A(B,K,S,H,F),frameIds:[E]},{extent:new A(N,
K,t,H,F),frameIds:[y]}):w.push({extent:new A(B,K,t,H,F),frameIds:[E]});this.cache._parts=w}y=this.hasZ;z=this.hasM;if(y||z)for(E={},y&&(E.zmin=this.zmin,E.zmax=this.zmax),z&&(E.mmin=this.mmin,E.mmax=this.mmax),y=0;y<w.length;y++)w[y].extent.set(E);return w}};a.__decorate([c.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([c.property({readOnly:!0})],f.prototype,"center",null);a.__decorate([c.property({readOnly:!0})],f.prototype,"extent",null);a.__decorate([c.property({readOnly:!0,json:{write:{enabled:!1,
overridePolicy:null}}})],f.prototype,"hasM",null);a.__decorate([c.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasZ",null);a.__decorate([c.property({readOnly:!0})],f.prototype,"height",null);a.__decorate([c.property({readOnly:!0})],f.prototype,"width",null);a.__decorate([c.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],f.prototype,"xmin",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"ymin",
void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"mmin",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"zmin",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"xmax",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"ymax",void 0);a.__decorate([c.property({type:Number,
json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"mmax",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"zmax",void 0);f=A=a.__decorate([q.subclass("esri.geometry.Extent")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/Geometry":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),
function(a,b,c,f,d,n,q,e,g){b=class extends b{constructor(...h){super(...h);this.type=null;this.hasZ=this.hasM=!1;this.spatialReference=g.WGS84}get cache(){this.commitProperty("spatialReference");return{}}get extent(){return null}readSpatialReference(h,r){if(h instanceof g)return h;if(null!=h){const u=new g;u.read(h,r);return u}return h}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}clearCache(){this.notifyChange("cache")}getCacheValue(h){return this.cache[h]}setCacheValue(h,
r){this.cache[h]=r}};a.__decorate([c.property()],b.prototype,"type",void 0);a.__decorate([c.property({readOnly:!0})],b.prototype,"cache",null);a.__decorate([c.property({readOnly:!0})],b.prototype,"extent",null);a.__decorate([c.property({type:Boolean,json:{write:{overridePolicy(h){return{enabled:h}}}}})],b.prototype,"hasM",void 0);a.__decorate([c.property({type:Boolean,json:{write:{overridePolicy(h){return{enabled:h}}}}})],b.prototype,"hasZ",void 0);a.__decorate([c.property({type:g,json:{write:!0},
value:g.WGS84})],b.prototype,"spatialReference",void 0);a.__decorate([q.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=a.__decorate([e.subclass("esri.geometry.Geometry")],b)})},"esri/geometry/Point":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v){function A(z){return z&&("esri.geometry.SpatialReference"===z.declaredClass||null!=z.wkid)}var t;const w=[0,0];n=t=class extends u{static copy(z,k){k._set("x",z._get("x"));k._set("y",z._get("y"));k._set("z",z._get("z"));k._set("m",z._get("m"));z=z._get("spatialReference");k._set("spatialReference",b.isFrozen(z)?z:z.clone())}constructor(...z){super(...z);this.y=this.x=0;this.m=this.z=void 0;this.type="point"}normalizeCtorArgs(z,k,x,y,B){let E;if(Array.isArray(z))E=
z,B=k,z=E[0],k=E[1],x=E[2],y=E[3];else if(z&&"object"===typeof z){if(E=z,z=null!=E.x?E.x:E.longitude,k=null!=E.y?E.y:E.latitude,x=E.z,y=E.m,(B=E.spatialReference)&&"esri.geometry.SpatialReference"!==B.declaredClass&&(B=new p(B)),null!=E.longitude||null!=E.latitude)null==E.longitude?c.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==E.latitude?c.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):!E.declaredClass&&B?.isWebMercator&&(k=
v.lngLatToXY(E.longitude,E.latitude,w),z=k[0],k=k[1])}else A(x)?(B=x,x=null):A(y)&&(B=y,y=null);z={x:z,y:k};null==z.x&&null!=z.y?c.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==z.y&&null!=z.x&&c.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=B&&(z.spatialReference=B);null!=x&&(z.z=x);null!=y&&(z.m=y);return z}get cache(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");
this.commitProperty("spatialReference");return{}}get hasM(){return void 0!==this.m}set hasM(z){const k=void 0!==this._get("m");z!==k&&(this._set("m",z?0:void 0),this._set("hasM",z))}get hasZ(){return void 0!==this.z}set hasZ(z){const k=void 0!==this._get("z");z!==k&&(this._set("z",z?0:void 0),this._set("hasZ",z))}get latitude(){return l.getLatitude(this)}set latitude(z){const {spatialReference:k,x}=this;null!=z&&k&&(k.isWebMercator?this._set("y",v.lngLatToXY(x,z,w)[1]):k.isGeographic&&this._set("y",
z),this._set("latitude",z))}get longitude(){return l.getLongitude(this)}set longitude(z){const {y:k,spatialReference:x}=this;null!=z&&x&&(x.isWebMercator?this._set("x",v.lngLatToXY(z,k,w)[0]):x.isGeographic&&this._set("x",z),this._set("longitude",z))}writeX(z,k,x){k[x]=isNaN(z)?"NaN":z}readX(z){return"string"===typeof z?NaN:z}clone(){const z=new t;z.x=this.x;z.y=this.y;z.z=this.z;z.m=this.m;z.spatialReference=this.spatialReference;return z}copy(z){t.copy(z,this);return this}equals(z){if(null==z)return!1;
const {x:k,y:x,z:y,m:B,spatialReference:E}=this,{z:J,m:K}=z;let {x:H,y:F,spatialReference:N}=z;if(!E.equals(N))if(E.isWebMercator&&N.isWGS84)[H,F]=v.lngLatToXY(H,F),N=E;else if(E.isWGS84&&N.isWebMercator)[H,F]=v.xyToLngLat(H,F),N=E;else return!1;return k===H&&x===F&&y===J&&B===K&&E.wkid===N.wkid}offset(z,k,x){this.x+=z;this.y+=k;null!=x&&(this.z=(this.z??0)+x);return this}normalize(){if(!this.spatialReference)return this;var z=m.getInfo(this.spatialReference);if(!z)return this;let k=this.x;const [x,
y]=z.valid;z=2*y;let B;k>y?(B=Math.ceil(Math.abs(k-y)/z),k-=B*z):k<x&&(B=Math.ceil(Math.abs(k-x)/z),k+=B*z);this._set("x",k);return this}distance(z){return l.distance(this,z)}toArray(){const z=this.hasZ,k=this.hasM;return z&&k?[this.x,this.y,this.z,this.m]:z?[this.x,this.y,this.z]:k?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(z){return this.write({},z)}};a.__decorate([f.property({readOnly:!0})],n.prototype,"cache",null);a.__decorate([f.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],
n.prototype,"hasM",null);a.__decorate([f.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],n.prototype,"hasZ",null);a.__decorate([f.property({type:Number})],n.prototype,"latitude",null);a.__decorate([f.property({type:Number})],n.prototype,"longitude",null);a.__decorate([f.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),d.cast(z=>isNaN(z)?z:r.ensureNumber(z))],n.prototype,"x",void 0);a.__decorate([h.writer("x")],n.prototype,"writeX",
null);a.__decorate([e.reader("x")],n.prototype,"readX",null);a.__decorate([f.property({type:Number,json:{write:!0}})],n.prototype,"y",void 0);a.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],n.prototype,"z",void 0);a.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],n.prototype,"m",void 0);n=t=a.__decorate([g.subclass("esri.geometry.Point")],n);n.prototype.toJSON.isDefaultToJSON=!0;return n})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,b,c){function f(e){const g="__accessorMetadata__"in e?b.ensureType(e):e;return function(...h){h.push(g);if("number"===typeof h[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,h)}}function d(e,g,h,r){c.getPropertyMetadata(e,g).cast=r}function n(e){return(g,h)=>{c.getPropertyMetadata(g,e).cast=g[h]}}const q=Object.prototype.toString;a.cast=function(...e){if(3!==e.length||"string"!==typeof e[1]){if(1===e.length&&
"[object Function]"===q.call(e[0]))return f(e[0]);if(1===e.length&&"string"===typeof e[0])return n(e[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports","./spatialReferenceUtils","./webMercatorUtils"],function(a,b,c){function f({x:n,y:q,spatialReference:e},g=[0,0]){if(e){if(b.isWebMercator(e))return c.xyToLngLat(n,q,g);if(b.isGeographic(e))return g[0]=n,g[1]=q,g}return null}const d=[0,0];a.distance=function(n,q){const e=
n.x-q.x,g=n.y-q.y;n=null!=n.z&&null!=q.z?n.z-q.z:0;return Math.sqrt(e*e+g*g+n*n)};a.getLatitude=function(n){return f(n,d)?.[1]??null};a.getLongitude=function(n){return f(n,d)?.[0]??null};a.getLongitudeLatitude=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define("exports ../../core/lang ../asserts ../SpatialReference ./Ellipsoid ./spatialReferenceUtils".split(" "),function(a,b,c,f,d,n){function q(u,p,l,m,v){v.spatialReference=
l;if("x"in u&&"x"in v)[v.x,v.y]=p(u.x,u.y,r,m);else if("xmin"in u&&"xmin"in v)[v.xmin,v.ymin]=p(u.xmin,u.ymin,r,m),[v.xmax,v.ymax]=p(u.xmax,u.ymax,r,m);else if("paths"in u&&"paths"in v||"rings"in u&&"rings"in v){u="paths"in u?u.paths:u.rings;l=[];for(let t=0;t<u.length;t++){const w=u[t];var A=[];l.push(A);for(let z=0;z<w.length;z++)A.push(p(w[z][0],w[z][1],[0,0],m)),2<w[z].length&&A[z].push(w[z][2]),3<w[z].length&&A[z].push(w[z][3])}"paths"in v?v.paths=l:v.rings=l}else if("points"in u&&"points"in
v){u=u.points;l=[];for(A=0;A<u.length;A++)l[A]=p(u[A][0],u[A][1],[0,0],m),2<u[A].length&&l[A].push(u[A][2]),3<u[A].length&&l[A].push(u[A][3]);v.points=l}return v}function e(u,p){const l=u&&(null!=u.wkid||null!=u.wkt?u:u.spatialReference),m=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference);return u&&"type"in u&&"mesh"===u.type||p&&"type"in p&&"mesh"===p.type||!l||!m?!1:n.equals(m,l)?!0:n.isWebMercator(m)&&n.isWGS84(l)||n.isWebMercator(l)&&n.isWGS84(m)}function g(u,p,l=[0,0]){89.99999<p?p=89.99999:
-89.99999>p&&(p=-89.99999);p*=.017453292519943;l[0]=.017453292519943*u*d.earth.radius;l[1]=d.earth.halfSemiMajorAxis*Math.log((1+Math.sin(p))/(1-Math.sin(p)));return l}function h(u,p,l=[0,0],m=!1){u===n.webMercatorValid[0]?l[0]=-180:u===n.webMercatorValid[1]?l[0]=180:(u=u/d.earth.radius*57.29577951308232,l[0]=m?u:u-360*Math.floor((u+180)/360));l[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-p/d.earth.radius)));return l}const r=[0,0];a.canProject=e;a.geographicToWebMercator=function(u,p=!1,
l=b.clone(u)){c.assertNotMesh(u);c.assertNotMesh(l);return q(u,g,f.WebMercator,p,l)};a.lngLatToXY=g;a.project=function(u,p){if(null==u)return null;const l=u.spatialReference;p=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference);return e(l,p)?n.equals(l,p)?b.clone(u):n.isWebMercator(p)?q(u,g,f.WebMercator,!1,b.clone(u)):n.isWGS84(p)?q(u,h,f.WGS84,!1,b.clone(u)):null:null};a.webMercatorToGeographic=function(u,p=!1,l=b.clone(u)){c.assertNotMesh(u);c.assertNotMesh(l);return q(u,h,f.WGS84,p,l)};a.x2lon=
function(u){return u/d.earth.radius};a.xyToLngLat=h;a.y2lat=function(u){return Math.PI/2-2*Math.atan(Math.exp(-u/d.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/asserts":function(){define(["exports","../core/Error"],function(a,b){function c(f){if(f&&"object"===typeof f&&"type"in f&&"mesh"===f.type)throw new b("Mesh geometries are not supported for this operation");}a.assertNotMesh=c;a.assertNotMeshes=function(f){f.forEach(c)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports"],function(a){function b(e,g){return c(e,g[0],g[1])}function c(e,g,h,r){return g>=e.xmin&&g<=e.xmax&&h>=e.ymin&&h<=e.ymax?null!=r&&e.hasZ?r>=e.zmin&&r<=e.zmax:!0:!1}function f(e,g){return d(e.rings,g)}function d(e,g){if(!e)return!1;if(!Array.isArray(e[0][0]))return n(!1,e,g);let h=!1;for(let r=0,u=e.length;r<u;r++)h=n(h,e[r],g);return h}function n(e,g,h){const [r,u]=h;h=0;for(let p=0,l=g.length;p<
l;p++){h++;h===l&&(h=0);const [m,v]=g[p],[A,t]=g[h];(v<u&&t>=u||t<u&&v>=u)&&m+(u-v)/(t-v)*(A-m)<r&&(e=!e)}return e}const q=[0,0];a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(e,g){return c(e,g[0],g[1],g[2])};a.extentContainsExtent=function(e,g){const {xmin:h,ymin:r,zmin:u,xmax:p,ymax:l,zmax:m}=g;return e.hasZ&&g.hasZ?c(e,h,r,u)&&c(e,h,l,u)&&c(e,p,l,u)&&c(e,p,r,u)&&c(e,h,r,m)&&c(e,h,l,m)&&c(e,p,l,m)&&c(e,p,r,m):c(e,h,r)&&c(e,h,l)&&c(e,p,l)&&c(e,p,r)};a.extentContainsMultipoint=function(e,
g){if(!g.points?.length)return!1;for(const h of g.points)if(!b(e,h))return!1;return!0};a.extentContainsPoint=function(e,g){return null!=g?c(e,g.x,g.y,g.z):!1};a.extentContainsXYZ=c;a.polygonContainsCoords=f;a.polygonContainsPoint=function(e,g){q[1]=g.y;q[0]=g.x;return f(e,q)};a.ringsContainsCoords=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function c(t,w){return b.extentContainsPoint(t,
w)}function f(t,w){var z=t.hasZ&&w.hasZ;if(t.xmin<=w.xmin){var k=w.xmin;if(t.xmax<k)return!1}else if(k=t.xmin,w.xmax<k)return!1;if(t.ymin<=w.ymin){if(k=w.ymin,t.ymax<k)return!1}else if(k=t.ymin,w.ymax<k)return!1;if(z&&w.hasZ)if(t.zmin<=w.zmin){if(z=w.zmin,t.zmax<z)return!1}else if(z=t.zmin,w.zmax<z)return!1;return!0}function d(t,w){const {points:z,hasZ:k}=w;w=k?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const x of z)if(w(t,x))return!0;return!1}function n(t,w){return q(t,w.rings)}function q(t,
w){r[0]=t.xmin;r[1]=t.ymax;u[0]=t.xmax;u[1]=t.ymax;p[0]=t.xmin;p[1]=t.ymin;l[0]=t.xmax;l[1]=t.ymin;for(var z of m)if(b.ringsContainsCoords(w,z))return!0;for(const k of w)if(k.length){w=k[0];if(b.extentContainsCoords2D(t,w))return!0;for(z=1;z<k.length;z++){const x=k[z];if(b.extentContainsCoords2D(t,x)||g(w,x,v))return!0;w=x}}return!1}function e(t,w){r[0]=t.xmin;r[1]=t.ymax;u[0]=t.xmax;u[1]=t.ymax;p[0]=t.xmin;p[1]=t.ymin;l[0]=t.xmax;l[1]=t.ymin;w=w.paths;for(const z of w){if(!w.length)continue;let k=
z[0];if(b.extentContainsCoords2D(t,k))return!0;for(let x=1;x<z.length;x++){const y=z[x];if(b.extentContainsCoords2D(t,y)||g(k,y,v))return!0;k=y}}return!1}function g(t,w,z){for(let k=0;k<z.length;k++)if(h(t,w,z[k][0],z[k][1]))return!0;return!1}function h(t,w,z,k,x){const [y,B]=t,[E,J]=w,[K,H]=z,[F,N]=k;var S=F-K;t=y-K;w=E-y;const W=N-H;z=B-H;k=J-B;const L=W*w-S*k;if(0===L)return!1;S=(S*z-W*t)/L;t=(w*z-k*t)/L;return 0<=S&&1>=S&&0<=t&&1>=t?(x&&(x[0]=y+S*(E-y),x[1]=B+S*(J-B)),!0):!1}const r=[0,0],u=[0,
0],p=[0,0],l=[0,0],m=[r,u,p,l],v=[[p,r],[r,u],[u,l],[l,p]],A=[0,0];a.extentIntersectsExtent=f;a.extentIntersectsMultipoint=d;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=n;a.extentIntersectsPolyline=e;a.getFeatureExtentIntersector=function(t){switch(t){case "esriGeometryEnvelope":case "extent":return f;case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return c;case "esriGeometryMultiPatch":case "multipatch":case "esriGeometryPolygon":case "polygon":return n;
case "esriGeometryPolyline":case "polyline":return e}};a.isSelfIntersecting=function(t){for(let J=0;J<t.length;J++){const K=t[J];for(var w=0;w<K.length-1;w++){var z=K[w],k=K[w+1];for(var x=J+1;x<t.length;x++)for(var y=0;y<t[x].length-1;y++){var B=t[x][y],E=t[x][y+1];if(h(z,k,B,E,A)&&!(A[0]===z[0]&&A[1]===z[1]||A[0]===B[0]&&A[1]===B[1]||A[0]===k[0]&&A[1]===k[1]||A[0]===E[0]&&A[1]===E[1]))return!0}}w=K.length;if(!(4>=w))for(z=0;z<w-3;z++)for(k=w-1,0===z&&(k=w-2),x=K[z],y=K[z+1],B=z+2;B<k;B++){E=K[B];
const H=K[B+1];if(h(x,y,E,H,A)&&!(A[0]===x[0]&&A[1]===x[1]||A[0]===E[0]&&A[1]===E[1]||A[0]===y[0]&&A[1]===y[1]||A[0]===H[0]&&A[1]===H[1]))return!0}}return!1};a.segmentIntersects=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports","../core/handleUtils"],function(a,b){function c(){const m=h?.getAttribute("lang"),v=globalThis.navigator?.language;return g??m??v??"en"}function f(){void 0===e&&(e=c());return e}function d(m=f()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(m)?.[1].toLowerCase()}
function n(){const m=q??c();e!==m&&([...l].forEach(v=>v(m)),e=m,[...p].forEach(v=>v(m)))}let q=void 0,e=void 0;const g=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,h=globalThis.document?.documentElement,r=/^(?<language>[a-z]{2,3})(-(?<extlang>[a-z]{3}))?(-(?<script>[A-Z][a-z]{3}))?(-(?<region>[A-Z]{2}|\d{3}))?(-(?<variant>[a-zA-Z0-9]{5,8}|\d[a-zA-Z0-9]{3}))?(-x-(?<privateUse>[a-zA-Z0-9]{1,8}(-[a-zA-Z0-9]{1,8})*))?$/,u={he:!0,ar:!0},p=[],l=[];globalThis.addEventListener?.("languagechange",
n);h&&(new MutationObserver(()=>{n()})).observe(h,{attributeFilter:["lang"]});a.beforeLocaleChange=function(m){l.push(m);return b.makeHandle(()=>l.splice(l.indexOf(m),1))};a.getDefaultLocale=c;a.getLanguage=d;a.getLocale=f;a.getLocaleParts=function(m=f()){return r.exec(m)?.groups};a.onLocaleChange=function(m){p.push(m);return b.makeHandle(()=>p.splice(p.indexOf(m),1))};a.prefersRTL=function(m=f()){m=d(m);return void 0!==m&&(u[m]||!1)};a.setLocale=function(m){q=m||void 0;n()};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/portalDefault":function(){define(["exports"],function(a){let b;a.clearDefaultPortalInstance=function(){b=void 0};a.ensureDefaultPortalInstance=function(c){if(!b||b.destroyed)b=c();return b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;c=h=class extends c{constructor(r){super(r);this.id=this.description=this.created=this.access=null;this.isInvitationOnly=!1;this.title=this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const r=this.url,u=this.thumbnail;return r&&u&&this.portal?this.portal?.normalizeUrl(`${r}/info/${u}?f=json`):null}get url(){const r=this.portal?.restUrl;return r?r+"/community/groups/"+this.id:null}fetchCategorySchema(r){return this.portal.request(this.url+
"/categorySchema",r).then(u=>{u=u.categorySchema||[];return u.some(p=>"contentCategorySetsGroupQuery.LivingAtlas"===p.source)?this._fetchCategorySchemaSet("LivingAtlas",r):u})}fetchMembers(r){return this.portal.request(this.url+"/users",r)}getThumbnailUrl(r){let u=this.thumbnailUrl;u&&r&&(u+=`&w=${r}`);return u}toJSON(){throw new b("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(r){if(!r)return null;if(r.declaredClass)throw Error("JSON object is already hydrated");
const u=new h({sourceJSON:r});u.read(r);return u}queryItems(r,u){r=d.ensureType(g,r);const p=this.portal;if(5<parseFloat(p.currentVersion))return r=r||new g,p.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",u);r=r?r.clone():new g;r.query="group:"+this.id+(r.query?" "+r.query:"");return p.queryItems(r,u)}_fetchCategorySchemaSet(r,u){const p=this.portal;return p.fetchSelf(p.authMode,!0,u).then(l=>{if(l=l.contentCategorySetsGroupQuery)return l=new g({disableExtraQuery:!0,num:1,query:l}),
p.queryGroups(l,u);throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(l=>{if(l.total){l=l.results[0];const m=new g({num:1,query:`typekeywords:"${r}"`});return l.queryItems(m,u)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(l=>l.total?l.results[0].fetchData("json",u).then(m=>{m=m?.categorySchema;return m?.length?m:[]}):[])}};a.__decorate([f.property()],c.prototype,"access",void 0);a.__decorate([f.property({type:Date})],
c.prototype,"created",void 0);a.__decorate([f.property()],c.prototype,"description",void 0);a.__decorate([f.property()],c.prototype,"id",void 0);a.__decorate([f.property()],c.prototype,"isInvitationOnly",void 0);a.__decorate([f.property({type:Date})],c.prototype,"modified",void 0);a.__decorate([f.property()],c.prototype,"owner",void 0);a.__decorate([f.property()],c.prototype,"portal",void 0);a.__decorate([f.property()],c.prototype,"snippet",void 0);a.__decorate([f.property()],c.prototype,"sortField",
void 0);a.__decorate([f.property()],c.prototype,"sortOrder",void 0);a.__decorate([f.property()],c.prototype,"sourceJSON",void 0);a.__decorate([f.property()],c.prototype,"tags",void 0);a.__decorate([f.property()],c.prototype,"thumbnail",void 0);a.__decorate([f.property({readOnly:!0})],c.prototype,"thumbnailUrl",null);a.__decorate([f.property()],c.prototype,"title",void 0);a.__decorate([f.property({readOnly:!0})],c.prototype,"url",null);return c=h=a.__decorate([e.subclass("esri.portal.PortalGroup")],
c)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,c,f,d,n,q,e,g,h,r){var u;const p=new c.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});b=u=class extends b{constructor(l){super(l);
this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(l){"asc"!==l&&"desc"!==l||this._set("sortOrder",l)}clone(){return new u({categories:this.categories?f.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,
start:this.start})}toRequestOptions(l,m){let v=[];this.categories&&(v=this.categories.map(w=>Array.isArray(w)?JSON.stringify(w):w));let A="";if(this.extent){var t=r.project(this.extent,h.WGS84);null!=t&&(A=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}t=this.query;!this.disableExtraQuery&&l.extraQuery&&(t="("+t+")"+l.extraQuery);l={categories:v,bbox:A,q:t,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(l.sortField=this.sortField.split(",").map(w=>p.toJSON(w.trim())).join(","),
l.sortOrder=this.sortOrder);return{query:{...m,...l}}}};a.__decorate([d.property()],b.prototype,"categories",void 0);a.__decorate([d.property()],b.prototype,"disableExtraQuery",void 0);a.__decorate([d.property({type:g})],b.prototype,"extent",void 0);a.__decorate([d.property()],b.prototype,"filter",void 0);a.__decorate([d.property()],b.prototype,"num",void 0);a.__decorate([d.property()],b.prototype,"query",void 0);a.__decorate([d.property()],b.prototype,"sortField",void 0);a.__decorate([d.property()],
b.prototype,"sortOrder",null);a.__decorate([d.property()],b.prototype,"start",void 0);return b=u=a.__decorate([e.subclass("esri.portal.PortalQueryParams")],b)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.total=this.results=this.queryParams=
this.nextQueryParams=null}};a.__decorate([c.property()],b.prototype,"nextQueryParams",void 0);a.__decorate([c.property()],b.prototype,"queryParams",void 0);a.__decorate([c.property()],b.prototype,"results",void 0);a.__decorate([c.property()],b.prototype,"total",void 0);return b=a.__decorate([q.subclass("esri.portal.PortalQueryResult")],b)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;f=u=class extends f{constructor(p){super(p);this.userType=this.userLicenseTypeId=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const p=this.url,l=this.thumbnail;return p&&l?this.portal.normalizeUrl(`${p}/info/${l}?f=json`):null}get userContentUrl(){const p=this.portal?.restUrl;
return p?`${p}/content/users/${this.username}`:null}get url(){const p=this.portal?.restUrl;return p?`${p}/community/users/${this.username}`:null}addItem(p){const l=p&&p.item;var m=p?.data;p=p?.folder;const v={method:"post"};l&&(v.query=l.createPostQuery(),null!=m&&("string"===typeof m?v.query.text=m:"object"===typeof m&&(v.query.text=JSON.stringify(m))));m=this.userContentUrl;p&&(m+="/"+("string"===typeof p?p:p.id));return this.portal.request(m+"/addItem",v).then(A=>{l.id=A.id;l.portal=this.portal;
return l.loaded?l.reload():l.load()})}async deleteItem(p,l=!1){let m=this.userContentUrl;p.ownerFolder&&(m+="/"+p.ownerFolder);await this.portal.request(m+`/items/${p.id}/delete`,{method:"post",query:l?{permanentDelete:!0}:{}});p.id=null;p.portal=null}async deleteItems(p,l=!1){p=p.slice();var m=this.userContentUrl+"/deleteItems";const v=[];var A=p.map(t=>t.id);if(A.length){l={method:"post",query:{items:A.join(","),permanentDelete:l}};m=await this.portal.request(m,l);for(const t of m.results)m=p.find(w=>
t.itemId===w.id),l=t.success,A=null,l?(m.id=null,m.portal=null):t.error&&(A=new c("portal:delete-item-failed",t.error.message,t.error)),v.push({item:m,success:l,error:A})}return v}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(p=>p&&p.folders?p.folders.map(l=>{l=h.fromJSON(l);l.portal=this.portal;return l}):[])}fetchGroups(){return this.portal.request(this.url??"").then(p=>p&&p.groups?p.groups.map(l=>{l=r.fromJSON(l);l.portal=this.portal;return l}):[])}async fetchItems(p){p??=
{};var l=this.userContentUrl??"";p.folder&&(l+="/"+p.folder.id);const {default:m}=await new Promise((v,A)=>a(["./PortalItem"],t=>v(Object.freeze(Object.defineProperty({__proto__:null,default:t},Symbol.toStringTag,{value:"Module"}))),A));p=await this.portal.request(l,{query:{folders:!1,inRecycleBin:p.inRecycleBin?!0:null,foldersContent:!p.folder&&p.includeSubfolderItems?!0:null,num:p.num||10,start:p.start||1,sortField:p.sortField||"created",sortOrder:p.sortOrder||"asc"}});return p?.items?(l=p.items.map(v=>
{v=m.fromJSON(v);v.portal=this.portal;return v}),await Promise.all(l.map(v=>v.load())),{items:l,nextStart:p.nextStart,total:p.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(p=>p.tags)}getThumbnailUrl(p){let l=this.thumbnailUrl;l&&p&&(l+=`&w=${p}`);return l}queryFavorites(p){return this.favGroupId?(this._favGroup||(this._favGroup=new r({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(p)):Promise.reject(new c("internal:unknown",
"Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(p,l){await this.portal.request(this.userContentUrl+`/items/${p.id}/restore`,{method:"post",query:l?{folderID:"string"===typeof l?l:l.id}:null})}toJSON(){throw new c("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(p){if(!p)return null;if(p.declaredClass)throw Error("JSON object is already hydrated");const l=new u({sourceJSON:p});l.read(p);return l}};b.__decorate([d.property()],
f.prototype,"access",void 0);b.__decorate([d.property({type:Date})],f.prototype,"created",void 0);b.__decorate([d.property()],f.prototype,"culture",void 0);b.__decorate([d.property()],f.prototype,"description",void 0);b.__decorate([d.property()],f.prototype,"email",void 0);b.__decorate([d.property()],f.prototype,"favGroupId",void 0);b.__decorate([d.property()],f.prototype,"fullName",void 0);b.__decorate([d.property({type:Date})],f.prototype,"modified",void 0);b.__decorate([d.property()],f.prototype,
"orgId",void 0);b.__decorate([d.property()],f.prototype,"portal",void 0);b.__decorate([d.property()],f.prototype,"preferredView",void 0);b.__decorate([d.property()],f.prototype,"privileges",void 0);b.__decorate([d.property()],f.prototype,"region",void 0);b.__decorate([d.property()],f.prototype,"role",void 0);b.__decorate([d.property()],f.prototype,"roleId",void 0);b.__decorate([d.property()],f.prototype,"sourceJSON",void 0);b.__decorate([d.property()],f.prototype,"thumbnail",void 0);b.__decorate([d.property({readOnly:!0})],
f.prototype,"thumbnailUrl",null);b.__decorate([d.property()],f.prototype,"units",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,"userContentUrl",null);b.__decorate([d.property({readOnly:!0})],f.prototype,"url",null);b.__decorate([d.property()],f.prototype,"username",void 0);b.__decorate([d.property()],f.prototype,"userLicenseTypeId",void 0);b.__decorate([d.property()],f.prototype,"userType",void 0);return f=u=b.__decorate([g.subclass("esri.portal.PortalUser")],f)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){c=class extends c{constructor(g){super(g);this.username=this.title=this.portal=this.id=this.created=null}get url(){const g=this.portal?.restUrl;return g?`${g}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new b("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};a.__decorate([f.property({type:Date})],c.prototype,"created",void 0);a.__decorate([f.property()],c.prototype,"id",void 0);a.__decorate([f.property()],c.prototype,"portal",
void 0);a.__decorate([f.property()],c.prototype,"title",void 0);a.__decorate([f.property({readOnly:!0})],c.prototype,"url",null);a.__decorate([f.property()],c.prototype,"username",void 0);return c=a.__decorate([e.subclass("esri.portal.PortalFolder")],c)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating ../chunks/persistableUrlUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A){var t;const w=new Set("3DTiles Service;CSV;Feature Collection;Feature Service;Feed;GeoJson;Group Layer;Image Service;KML;Map Service;Media Layer;Scene Service;Stream Service;Vector Tile Service;WFS;WMS;WMTS".split(";")),z=new Set(["KML","GeoJson","CSV"]);d=t=class extends d.JSONSupportMixin(q){static from(k){return h.ensureClass(t,k)}constructor(k){super(k);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.classification=
this.categories=this.avgRating=this.applicationProxies=this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const k=this.type,x=this.typeKeywords||
[];let y=k;"Feature Service"===k||"Feature Collection"===k?y=x.includes("Table")?"Table":x.includes("Route Layer")?"Route Layer":x.includes("Markup")?"Markup":"Feature Layer":"Image Service"===k?y=x.includes("Elevation 3D Layer")?"Elevation Layer":x.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===k?y="Scene Layer":"Video Service"===k?y="Video Layer":"Scene Package"===k?y="Scene Layer Package":"Stream Service"===k?y="Feature Layer":"Geoprocessing Service"===k?y=x.includes("Web Tool")?
"Tool":"Geoprocessing Service":"Geoenrichment Service"===k?y="GeoEnrichment Service":"Geocoding Service"===k?y="Locator":"Microsoft Powerpoint"===k?y="Microsoft PowerPoint":"GeoJson"===k?y="GeoJSON":"Globe Service"===k?y="Globe Layer":"Vector Tile Service"===k?y="Tile Layer":"netCDF"===k?y="NetCDF":"Map Service"===k?y=x.includes("Spatiotemporal")||!x.includes("Hosted Service")&&!x.includes("Tiled")||x.includes("Relational")?"Map Image Layer":"Tile Layer":k?.toLowerCase().includes("add in")?y=k.replaceAll(/(add in)/gi,
"Add-In"):"datastore catalog service"===k?y="Big Data File Share":"Compact Tile Package"===k?y="Tile Package (tpkx)":"Raster function template"===k?y="Raster Function Template":"OGCFeatureServer"===k?y="OGC Feature Layer":"web mapping application"===k&&x.includes("configurableApp")?y="Instant App":"Insights Page"===k?y="Insights Report":"Excalibur Imagery Project"===k?y="Excalibur Project":"3DTiles Service"===k?y="3D tiles layer":"3DTiles Package"===k&&(y="3D tiles package");return y}readExtent(k){return k&&
k.length?new p(k[0][0],k[0][1],k[1][0],k[1][1]):null}get iconUrl(){var k=this.type?.toLowerCase()||"";const x=this.typeKeywords||[];var y=!1,B=!1;let E=!1,J=!1,K=!1,H=!1;y=B=!1;0<k.indexOf("service")||"feature collection"===k||"kml"===k||"wms"===k||"wmts"===k||"wfs"===k?(y=x.includes("Hosted Service"),"feature service"===k||"feature collection"===k||"kml"===k||"wfs"===k?(B=x.includes("Table"),E=x.includes("Route Layer"),J=x.includes("Markup"),K=x.includes("Spatiotemporal"),H=x.includes("UtilityNetwork"),
k=K&&B?"spatiotemporaltable":B?"table":E?"routelayer":J?"markup":K?"spatiotemporal":H?"utilitynetwork":y?"featureshosted":"features"):"map service"===k||"wms"===k||"wmts"===k?(K=x.includes("Spatiotemporal"),B=x.includes("Relational"),k=K||B?"mapimages":y||x.includes("Tiled")||"wmts"===k?"maptiles":"mapimages"):k="scene service"===k?x.includes("Line")?"sceneweblayerline":x.includes("3DObject")?"sceneweblayermultipatch":x.includes("Point")?"sceneweblayerpoint":x.includes("IntegratedMesh")?"sceneweblayermesh":
x.includes("PointCloud")?"sceneweblayerpointcloud":x.includes("Polygon")?"sceneweblayerpolygon":x.includes("Building")?"sceneweblayerbuilding":x.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===k?x.includes("Elevation 3D Layer")?"elevationlayer":x.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===k?"streamlayer":"vector tile service"===k?"vectortile":"datastore catalog service"===k?"datastorecollection":"geocoding service"===k?"geocodeservice":"video service"===
k?x.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===k?x.includes("Web Tool")?"tool":"layers":"geodata service"===k?"geodataservice":"3dtiles service"===k?x.includes("3DObject")?"3dobjecttileslayer":x.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):k="web map"===k||"cityengine web scene"===k?"maps":"web scene"===k?x.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===k&&x.includes("configurableApp")?
"instantapps":"web mapping application"===k||"mobile application"===k||"application"===k||"operation view"===k||"desktop application"===k?"apps":"map document"===k||"map package"===k||"published map"===k||"scene document"===k||"globe document"===k||"basemap package"===k||"mobile basemap package"===k||"mobile map package"===k||"project package"===k||"project template"===k||"pro map"===k||"layout"===k||"layer"===k&&x.includes("ArcGIS Pro")||"explorer map"===k&&x.indexOf("Explorer Document")?"mapsgray":
"service definition"===k||"shapefile"===k||"cad drawing"===k||"geojson"===k||"netcdf"===k||"administrative report"===k?"datafiles":"360 vr experience"===k?"360vr":"explorer add in"===k||"desktop add in"===k||"windows viewer add in"===k||"windows viewer configuration"===k?"appsgray":"arcgis pro add in"===k||"arcgis pro configuration"===k?"addindesktop":"pdf"===k?"pdf":"microsoft word"===k?"word":"microsoft excel"===k?"excel":"microsoft powerpoint"===k?"ppt":"rule package"===k||"file geodatabase"===
k||"sqlite geodatabase"===k||"csv collection"===k||"kml collection"===k||"windows mobile package"===k||"map template"===k||"desktop application template"===k||"gml"===k||"arcpad package"===k||"code sample"===k||"document link"===k||"earth configuration"===k||"operations dashboard add in"===k||"rules package"===k||"workflow manager package"===k||"explorer map"===k&&x.includes("Explorer Mapping Application")||x.includes("Document")?"datafilesgray":"network analysis service"===k||"geoprocessing service"===
k||"geodata service"===k||"geometry service"===k||"geoprocessing package"===k||"locator package"===k||"geoprocessing sample"===k||"workflow manager service"===k?"toolsgray":"layer"===k||"layer package"===k||"explorer layer"===k?"layersgray":"analysis model"===k?"analysismodel":"scene package"===k?"scenepackage":"3dtiles package"===k?"3dtileslayerpackage":"3dtiles service"===k?"3dtileslayer":"mobile scene package"===k?"mobilescenepackage":"tile package"===k||"compact tile package"===k?"tilepackage":
"task file"===k?"taskfile":"report template"===k?"report-template":"statistical data collection"===k?"statisticaldatacollection":"insights workbook"===k?"workbook":"insights model"===k?"insightsmodel":"insights page"===k?"insightspage":"insights theme"===k?"insightstheme":"hub initiative"===k?"hubinitiative":"hub page"===k?"hubpage":"hub site application"===k?"hubsite":"hub event"===k?"hubevent":"hub project"===k?"hubproject":"relational database connection"===k?"relationaldatabaseconnection":"big data file share"===
k?"datastorecollection":"image collection"===k?"imagecollection":"desktop style"===k?"desktopstyle":"style"===k?x.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===k?"dashboard":"raster function template"===k?"rasterprocessingtemplate":"vector tile package"===k?"vectortilepackage":"ortho mapping project"===k?"orthomappingproject":"ortho mapping template"===k?"orthomappingtemplate":"solution"===k?"solutions":"geopackage"===k?"geopackage":"deep learning package"===k?"deeplearningpackage":
"real time analytic"===k?"realtimeanalytics":"reality mapping project"===k?"realitymappingproject":"big data analytic"===k?"bigdataanalytics":"feed"===k?"feed":"excalibur imagery project"===k?"excaliburimageryproject":"notebook"===k?"notebook":"storymap"===k?"storymap":"survey123 add in"===k?"survey123addin":"mission"===k?"mission":"mission report"===k?"missionreport":"mission template"===k?"missiontemplate":"quickcapture project"===k?"quickcaptureproject":"pro report"===k?"proreport":"pro report template"===
k?"proreporttemplate":"urban model"===k?"urbanmodel":"urban project"===k?"urbanproject":"web experience"===k?"experiencebuilder":"web experience template"===k?"webexperiencetemplate":"experience builder widget"===k?"experiencebuilderwidget":"experience builder widget package"===k?"experiencebuilderwidgetpackage":"workflow"===k?"workflow":"kernel gateway connection"===k?"kernelgatewayconnection":"insights script"===k?"insightsscript":"hub initiative template"===k?"hubinitiativetemplate":"storymap theme"===
k?"storymaptheme":"knowledge graph"===k?"knowledgegraph":"knowledge graph layer"===k?"knowledgegraphlayer":"knowledge studio project"===k?"knowledgestudio":"native application"===k?"nativeapp":"native application installer"===k?"nativeappinstaller":"web link chart"===k?"linkchart":"knowledge graph web investigation"===k?"investigation":"ogcfeatureserver"===k?"features":"pro presentation"===k?"propresentation":"pro project"===k?"proproject":"insights workbook package"===k?"insightsworkbookpackage":
"apache parquet"===k?"apacheparquet":"notebook code snippet library"===k?"notebookcodesnippets":"suitability model"===k?"suitabilitymodel":"esri classifier definition"===k?"classifierdefinition":"esri classification schema"===k?"classificationschema":"insights data engineering workbook"===k?"dataengineeringworkbook":"insights data engineering model"===k?"dataengineeringmodel":"deep learning studio project"===k?"deeplearningproject":"discussion"===k?"discussion":"allsource project"===k?"allsourceproject":
"api key"===k?"apikey":"data pipeline"===k?"datapipelines":"group layer"===k?(y=x.includes("Map"))?"layergroup2d":"layergroup":"media layer"===k?"onlinemedialayer":"form"===k?x.includes("Survey123")?"survey":"datafilesgray":"csv"===k?"csv":"image"===k?"image":"maps";return k?c.getAssetUrl("esri/images/portal/"+k+"16.png"):null}get isLayer(){return null!=this.type&&w.has(this.type)}get itemCdnUrl(){return A.toCDNUrl(this.itemUrl)}get itemPageUrl(){const k=this.portal?.itemPageUrl;return k&&this.id?
`${k}?id=${this.id}`:null}get itemUrl(){const k=this.portal?.restUrl;return k&&this.id?`${k}/content/items/${this.id}`:null}get thumbnailUrl(){const k=this.itemUrl,x=this.thumbnail;return k&&x?this.portal?.normalizeUrl(`${k}/info/${x}?f=json`)??null:null}get userItemUrl(){const k=this.portal?.restUrl;if(!k)return null;const x=this.owner||this.portal?.user?.username;return x?`${k}/content/users/${this.ownerFolder?`${x}/${this.ownerFolder}`:x}/items/${this.id}`:null}load(k){const x=this.portal??(this.portal=
l.getDefault()),y=x.load(k).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?x.request(this.itemUrl,{signal:null!=k?k.signal:null,query:{token:this.apiKey}}):{}).then(B=>{this.sourceJSON=B;this.read(B)});this.addResolvingPromise(y);return Promise.resolve(this)}async addRating(k){const x={method:"post",query:{}},y=k instanceof v?k.rating:k;null==y||isNaN(y)||"number"!==typeof k||(x.query.rating=y);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",x);return new v({rating:y,
created:new Date})}clone(){var k={access:this.access,accessInformation:this.accessInformation,applicationProxies:n.clone(this.applicationProxies),avgRating:this.avgRating,categories:n.clone(this.categories),classification:n.clone(this.classification),created:n.clone(this.created),culture:this.culture,description:this.description,extent:n.clone(this.extent),groupCategories:n.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:n.clone(this.modified),
name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:n.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:n.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:n.clone(this.typeKeywords),url:this.url};this.loaded&&(k.loadStatus="loaded");k=(new t({sourceJSON:this.sourceJSON})).set(k);
k._set("isOrgItem",this.isOrgItem);return k}createPostQuery(){const k=this.toJSON();for(var x of["tags","typeKeywords","categories"])k[x]=k[x]?.join(", ");for(const y of["extent","classification"])(x=k[y])&&(k[y]=JSON.stringify(x));return k}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(k="json",x){return this.portal.request(this.itemUrl+"/data",{responseType:k,...x,query:{token:this.apiKey}})}async fetchRating(k){k=await this.portal.request(this.itemUrl+
"/rating",{query:{token:this.apiKey},...k});return null!=k.rating?(k.created=new Date(k.created),new v(k)):null}fetchRelatedItems(k,x){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...k,token:this.apiKey},...x},t)}getThumbnailUrl(k){let x=this.thumbnailUrl;x&&k&&(x+=`&w=${k}`);return x}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(k=>{this.applicationProxies&&!Object.hasOwn(k,"appProxies")&&(this.applicationProxies=
null);this.sourceJSON=k;this.read(k);return this})}update(k){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const x=k?.data,y={method:"post"};y.query=this.createPostQuery();for(const B in y.query)null===y.query[B]&&(y.query[B]="");y.query.clearEmptyFields=!0;null!=x&&("string"===typeof x?y.query.text=x:"object"===typeof x&&(y.query.text=JSON.stringify(x)));return this.portal.request(`${this.userItemUrl}/update`,y).then(()=>this.reload())}):Promise.reject(new f("portal:item-does-not-exist",
"The item does not exist yet and cannot be updated"))}async copy(k){if(!this.id)throw new f("portal:item-does-not-exist","The item does not exist yet");await this.load();const {portal:x,itemUrl:y}=this;await x.signIn();const {copyResources:B,folder:E,tags:J,title:K}=k||{};k={method:"post",query:{copyPrivateResources:"all"===B,folder:"string"===typeof E?E:E?.id,includeResources:!!B,tags:J?.join(","),title:K}};({itemId:k}=await x.request(`${y}/copy`,k));return new t({id:k,portal:x})}updateThumbnail(k){return this.id?
this.load().then(()=>this.portal.signIn()).then(()=>{const x=k.thumbnail,y=k.filename,B={method:"post"};if("string"===typeof x)e.isDataProtocol(x)?B.query={data:x}:B.query={url:e.makeAbsolute(x)},null!=y&&(B.query.filename=y);else{const E=new FormData;null!=y?E.append("file",x,y):E.append("file",x);B.body=E}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,B).then(()=>this.reload())}):Promise.reject(new f("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(k=
{},x){const {fetchResources:y}=await new Promise((B,E)=>a(["./support/resourceUtils"],B,E));return y(this,k,x)}async addResource(k,x,y){const {addOrUpdateResources:B}=await new Promise((E,J)=>a(["./support/resourceUtils"],E,J));k.portalItem=this;await B(this,[{resource:k,content:x,compress:y?.compress,access:y?.access}],"add",y);return k}async removeResource(k,x){const {removeResource:y}=await new Promise((B,E)=>a(["./support/resourceUtils"],B,E));if(k.portalItem&&k.portalItem.itemUrl!==this.itemUrl)throw new f("removeresource:portal-item-mismatch",
"The portal item associated with the provided resource does not match the item");return y(this,k,x)}async removeAllResources(k){const {removeAllResources:x}=await new Promise((y,B)=>a(["./support/resourceUtils"],y,B));return x(this,k)}resourceFromPath(k){return new m({portalItem:this,path:k})}toJSON(){var k=this.extent;k={accessInformation:this.accessInformation,categories:n.clone(this.categories),classification:n.clone(this.classification),created:this.created?.getTime(),description:this.description,
extent:k&&[[k.xmin,k.ymin],[k.xmax,k.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:n.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:n.clone(this.typeKeywords),url:this.url};return n.fixJson(k)}static fromJSON(k){if(!k)return null;if(k.declaredClass)throw Error("JSON object is already hydrated");
return new t({sourceJSON:k})}_getPostQuery(){const k=this.toJSON();for(const x in k)"tags"===x&&null!==k[x]&&(k[x]=k[x].join(", ")),"typeKeywords"===x&&null!==k[x]&&(k[x]=k[x].join(", ")),"extent"===x&&k[x]&&(k[x]=JSON.stringify(k[x]));return k}};b.__decorate([g.property({type:["private","shared","org","public"]})],d.prototype,"access",void 0);b.__decorate([g.property()],d.prototype,"accessInformation",void 0);b.__decorate([g.property({type:String})],d.prototype,"apiKey",void 0);b.__decorate([g.property({json:{read:{source:"appProxies"}}})],
d.prototype,"applicationProxies",void 0);b.__decorate([g.property()],d.prototype,"avgRating",void 0);b.__decorate([g.property()],d.prototype,"categories",void 0);b.__decorate([g.property()],d.prototype,"classification",void 0);b.__decorate([g.property({type:Date})],d.prototype,"created",void 0);b.__decorate([g.property()],d.prototype,"culture",void 0);b.__decorate([g.property()],d.prototype,"description",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"displayName",null);b.__decorate([g.property({type:p})],
d.prototype,"extent",void 0);b.__decorate([r.reader("extent")],d.prototype,"readExtent",null);b.__decorate([g.property()],d.prototype,"groupCategories",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"iconUrl",null);b.__decorate([g.property()],d.prototype,"id",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"isLayer",null);b.__decorate([g.property({type:Boolean,readOnly:!0})],d.prototype,"isOrgItem",void 0);b.__decorate([g.property()],d.prototype,"itemControl",void 0);b.__decorate([g.property({readOnly:!0})],
d.prototype,"itemPageUrl",null);b.__decorate([g.property({readOnly:!0})],d.prototype,"itemUrl",null);b.__decorate([g.property()],d.prototype,"licenseInfo",void 0);b.__decorate([g.property({type:Date})],d.prototype,"modified",void 0);b.__decorate([g.property()],d.prototype,"name",void 0);b.__decorate([g.property()],d.prototype,"numComments",void 0);b.__decorate([g.property()],d.prototype,"numRatings",void 0);b.__decorate([g.property()],d.prototype,"numViews",void 0);b.__decorate([g.property()],d.prototype,
"owner",void 0);b.__decorate([g.property()],d.prototype,"ownerFolder",void 0);b.__decorate([g.property({type:l})],d.prototype,"portal",void 0);b.__decorate([g.property()],d.prototype,"screenshots",void 0);b.__decorate([g.property()],d.prototype,"size",void 0);b.__decorate([g.property()],d.prototype,"snippet",void 0);b.__decorate([g.property()],d.prototype,"sourceJSON",void 0);b.__decorate([g.property({type:String})],d.prototype,"sourceUrl",void 0);b.__decorate([g.property({type:String})],d.prototype,
"spatialReference",void 0);b.__decorate([g.property()],d.prototype,"tags",void 0);b.__decorate([g.property()],d.prototype,"thumbnail",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);b.__decorate([g.property()],d.prototype,"title",void 0);b.__decorate([g.property()],d.prototype,"type",void 0);b.__decorate([g.property()],d.prototype,"typeKeywords",void 0);b.__decorate([g.property({type:String,json:{read(k,x){z.has(x.type)&&(x=this.portal?.restUrl,k||=x&&this.id?`${x}/content/items/${this.id}/data`:
null);return k}}})],d.prototype,"url",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"userItemUrl",null);return d=t=b.__decorate([u.subclass("esri.portal.PortalItem")],d)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){function u(p,l){if(null==p)return p;p=p.replace(/^\/+/,"");null!=l&&n.isAbsolute(p)&&(p=n.makeRelative(p,l.itemUrl));return p?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")}c=class extends c{constructor(p){super(p);this.portalItem=null}normalizeCtorArgs(p){return p?.portalItem&&p.path?{...p,path:u(p.path,p.portalItem)}:p}set path(p){null!=p&&n.isAbsolute(p)?d.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):
this._set("path",p)}_castPath(p){return u(p,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(p="json",l){const m=this.cdnUrl;if(null==m)throw new f("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal.request(m,{responseType:p,query:{token:this.portalItem.apiKey,_ts:l?.cacheBust?Date.now():null},signal:l?.signal})}async update(p,l){const {addOrUpdateResources:m}=await new Promise((v,A)=>a(["./support/resourceUtils"],v,A));await m(this.portalItem,[{resource:this,content:p,compress:l?.compress,access:l?.access}],"update",l);return this}hasPath(){return null!=this.path}};b.__decorate([q.property()],c.prototype,"portalItem",void 0);b.__decorate([q.property({type:String,
value:null})],c.prototype,"path",null);b.__decorate([e.cast("path")],c.prototype,"_castPath",null);b.__decorate([q.property({type:String,readOnly:!0})],c.prototype,"url",null);b.__decorate([q.property({type:String,readOnly:!0})],c.prototype,"cdnUrl",null);b.__decorate([q.property({type:String,readOnly:!0})],c.prototype,"itemRelativeUrl",null);return c=b.__decorate([r.subclass("esri.portal.PortalItemResource")],c)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.rating=this.created=null}};a.__decorate([c.property({type:Date})],b.prototype,"created",void 0);a.__decorate([c.property()],b.prototype,"rating",void 0);return b=a.__decorate([q.subclass("esri.portal.PortalRating")],b)})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(a,b,c){a.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},
baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",
showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",
url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},
baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},
{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},
baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},
baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",
styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",
visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",
title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",
layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},
{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",
itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},
{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",
title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",
layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}};a.getBasemapTitle=async function(f){if(f){var d=f.includes("-vector")?f.slice(0,f.indexOf("-vector")):f.includes("-3d")?f.slice(0,f.indexOf("-3d")):f,n=await c.fetchMessageBundle("esri/t9n/basemaps");return n[f]||n[d]}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/handleUtils","../core/promiseUtils","./locale"],function(a,b,c,f,d){function n(v){if(v in r){const A=r[v];return!0===A?v:A}return null}function q(v){for(const A of p.keys())g(v.pattern,A)&&p.delete(A)}async function e(v,A){const t=[];for(const w of u)if(g(w.pattern,v))try{return await w.fetchMessageBundle(v,A)}catch(z){t.push(z)}if(t.length)throw new b("intl:message-bundle-error",`Errors occurred while loading "${v}"`,
{errors:t});throw new b("intl:no-message-bundle-loader",`No loader found for message bundle "${v}"`);}function g(v,A){return"string"===typeof v?A.startsWith(v):v.test(A)}const h=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,r={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,
"zh-TW":!0},u=[],p=new Map;d.beforeLocaleChange(()=>{p.clear()});const l=new class{constructor(){this._numLoading=0;this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(v){this._increase();v.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()}_increase(){this._numLoading++;this._dfd||(this._dfd=f.createResolver())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},m={cache:p,loaders:u};
a.fetchMessageBundle=async function(v){const A=d.getLocale();p.has(v)||p.set(v,e(v,A));(v=p.get(v))&&await l.add(v);return v};a.messageBundlesLocaleMap=r;a.normalizeMessageBundleLocale=function(v){if(!h.test(v))return null;v=h.exec(v);if(null===v)return null;const [,A,t]=v;v=A+(t?"-"+t.toUpperCase():"");return n(v)??n(A)};a.registerMessageBundleLoader=function(v){u.includes(v)||(q(v),u.unshift(v));return c.makeHandle(()=>{const A=u.indexOf(v);-1<A&&(u.splice(A,1),q(v))})};a.test=m;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../intl ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../intl/locale ../intl/messages".split(" "),function(a,b,c,f,d,n,q,e,g,h){b=class extends c{constructor(r){super(r);this.places=this.language=this.id=this.apiKey=null;this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2";
this.worldview=null}get languageParameter(){var r=this.language;r="local"===r||"global"===r?r:h.normalizeMessageBundleLocale(r??g.getLocale())??"global";return"no"===r?"nb":r}};a.__decorate([f.property()],b.prototype,"apiKey",void 0);a.__decorate([f.property()],b.prototype,"id",void 0);a.__decorate([f.property()],b.prototype,"language",void 0);a.__decorate([f.property()],b.prototype,"places",void 0);a.__decorate([f.property()],b.prototype,"serviceUrl",void 0);a.__decorate([f.property()],b.prototype,
"worldview",void 0);return b=a.__decorate([e.subclass("esri.support.BasemapStyle")],b)})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),function(a,b,c,f,d,n,q,e){n.registerMessageBundleLoader(q.createJSONLoader({pattern:"esri/",location:e.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.formatDateOnly=b.formatDateOnly;a.formatTimeOnly=b.formatTimeOnly;
a.formatTimestamp=b.formatTimestamp;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;a.formatNumber=c.formatNumber;a.substitute=f.substitute;a.getLocale=d.getLocale;a.onLocaleChange=d.onLocaleChange;a.prefersRTL=d.prefersRTL;a.setLocale=d.setLocale;a.fetchMessageBundle=n.fetchMessageBundle;a.normalizeMessageBundleLocale=n.normalizeMessageBundleLocale;a.registerMessageBundleLoader=n.registerMessageBundleLoader;a.createJSONLoader=q.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/intl/date":function(){define("exports ../core/jsonMap ./locale ../time/constants ../time/timeZoneUtils ../chunks/datetime".split(" "),function(a,b,c,f,d,n){function q(J){var K=B.get(J);if(!K){K=c.getLocale();K=y[K]||K;const H=g(J.timeZone??f.system);K=new Intl.DateTimeFormat(K,{...J,timeZone:H});B.set(J,K)}return K}function e(J,K=E){return q(K).format(J)}function g(J){switch(J){case f.system:return f.systemTimeZone;case f.unknown:return f.utc;default:return J}}function h(J,
K){const H=c.getLocale();return(new Intl.DateTimeFormat(y[H]??H,K)).formatToParts(J)}const r={year:void 0,month:void 0,day:void 0,weekday:void 0},u={hour:void 0,minute:void 0,second:void 0},p={timeZone:f.utc},l={year:"numeric",month:"numeric",day:"numeric"},m={year:"numeric",month:"long",day:"numeric"},v={year:"numeric",month:"short",day:"numeric"},A={year:"numeric",month:"long",weekday:"long",day:"numeric"},t={hour:"numeric",minute:"numeric"},w={...t,second:"numeric"};var z={hourCycle:"h23"};const k=
{...t,...z};z={...w,...z};const x={"short-date":l,"short-date-short-time":{...l,...t},"short-date-short-time-24":{...l,...k},"short-date-long-time":{...l,...w},"short-date-long-time-24":{...l,...z},"short-date-le":l,"short-date-le-short-time":{...l,...t},"short-date-le-short-time-24":{...l,...k},"short-date-le-long-time":{...l,...w},"short-date-le-long-time-24":{...l,...z},"long-month-day-year":m,"long-month-day-year-short-time":{...m,...t},"long-month-day-year-short-time-24":{...m,...k},"long-month-day-year-long-time":{...m,
...w},"long-month-day-year-long-time-24":{...m,...z},"day-short-month-year":v,"day-short-month-year-short-time":{...v,...t},"day-short-month-year-short-time-24":{...v,...k},"day-short-month-year-long-time":{...v,...w},"day-short-month-year-long-time-24":{...v,...z},"long-date":A,"long-date-short-time":{...A,...t},"long-date-short-time-24":{...A,...k},"long-date-long-time":{...A,...w},"long-date-long-time-24":{...A,...z},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",
year:"numeric"},year:{year:"numeric"},"short-time":t,"long-time":w};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",
longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",
dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const y={ar:"ar-u-nu-latn-ca-gregory"};let B=new WeakMap;const E=x["short-date-short-time"];c.beforeLocaleChange(()=>{B=new WeakMap});a.convertDateFormatToIntlOptions=
function(J){return x[J]};a.dateFormatJSONMap=b;a.formatDate=e;a.formatDateOnly=function(J,K=E){return e(new Date(J),{...K,...p,...u})};a.formatTimeOnly=function(J,K=E){return e(new Date(`1970-01-01T${J}Z`),{...K,...p,...r})};a.formatTimestamp=function(J,K=E){if(K.timeZone)return e(new Date(J),K);J=n.DateTime.fromISO(J,{setZone:!0});const H=c.getLocale();return J.toLocaleString({...K,timeZone:0===J.offset?f.utc:K.timeZone},{locale:y[H]??H})};a.getDateTimeFormatter=q;a.getShortOffsetTimeZoneSuffix=
function(J,K=new Date){return h(K,{timeZone:J,timeZoneName:d.shortTimeZoneName}).find(({type:H})=>"timeZoneName"===H)?.value};a.resolveTimeZone=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/constants":function(){define(["exports"],function(a){const b=Intl.DateTimeFormat().resolvedOptions().timeZone;a.system="system";a.systemTimeZone=b;a.unknown="unknown";a.utc="UTC";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/timeZoneUtils":function(){define(["exports",
"./constants","./legacyTimeZoneMap","../chunks/datetime"],function(a,b,c,f){function d(e,g=b.system){return e?"timeZoneIANA"in e?e.timeZoneIANA:q(e,g):g}function n(e){return{timeZoneIANA:e}}function q(e,g=b.system){if(!e||!c.legacyTimeZoneMap.has(e.timeZone))return g;g=c.legacyTimeZoneMap.get(e.timeZone);if(e.timeZone.startsWith("UTC")||e.respectsDaylightSaving)return g;e=f.DateTime.local().setZone(g);e=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);e=0===e?"Etc/UTC":`Etc/GMT${f.FixedOffsetZone.instance(-e).formatOffset(0,
"narrow")}`;return e}a.convertLegacyTimeZone=q;a.fromTimeReference=d;a.getTimeZoneFormattingOptions=function(e,g,h,r,u){if(g&&"date"===u)return{timeZone:b.utc,timeZoneName:void 0};g=r.timeStyle||r.hour;e="timestamp-offset"===u?void 0:e??b.utc;u=h===b.unknown;return{timeZone:u?e:h,timeZoneName:u&&g?"shortOffset":void 0}};a.isTimeZoneValid=function(e){const g=new Set(["etc/utc","etc/gmt","gmt"]),h=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return e===b.system||e===b.unknown||
g.has(e.toLowerCase())||h.has(e.toLowerCase())};a.shortTimeZoneName="shortOffset";a.timeZoneProperty=function(e,g=!1){return{json:{read:{source:e,reader(h,r){return r[e]?d(r[e]):null}},write:g?{allowNull:!0,writer(h,r){r[e]=h?n(h):null}}:!1}}};a.toTimeReference=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],
["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time",
"Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time",
"Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time",
"Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time",
"Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time",
"Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time",
"America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time",
"Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],
["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time",
"Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time",
"Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14",
"Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time",
"Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],
function(a){function b(C,O={}){const aa=JSON.stringify([C,O]);let pa=yc[aa];pa||(pa=new Intl.ListFormat(C,O),yc[aa]=pa);return pa}function c(C,O={}){const aa=JSON.stringify([C,O]);let pa=bc[aa];pa||(pa=new Intl.DateTimeFormat(C,O),bc[aa]=pa);return pa}function f(C,O={}){const aa=JSON.stringify([C,O]);let pa=vc[aa];pa||(pa=new Intl.NumberFormat(C,O),vc[aa]=pa);return pa}function d(C,O={}){const {base:aa,...pa}=O,Aa=JSON.stringify([C,pa]);let Na=oc[Aa];Na||(Na=new Intl.RelativeTimeFormat(C,O),oc[Aa]=
Na);return Na}function n(C){const O=[];for(let aa=1;12>=aa;aa++){const pa=hb.utc(2009,aa,1);O.push(C(pa))}return O}function q(C){const O=[];for(let aa=1;7>=aa;aa++){const pa=hb.utc(2016,11,13+aa);O.push(C(pa))}return O}function e(C,O,aa,pa){C=C.listingMode();return"error"===C?null:"en"===C?aa(O):pa(O)}function g(C,O){if(y(C)||null===C)return O;if(C instanceof Yb)return C;if("string"===typeof C){const aa=C.toLowerCase();return"default"===aa?O:"local"===aa||"system"===aa?wc.instance:"utc"===aa||"gmt"===
aa?Fb.utcInstance:Fb.parseSpecifier(aa)||cc.create(C)}return B(C)?Fb.instance(C):"object"===typeof C&&"offset"in C&&"function"===typeof C.offset?C:new pc(C)}function h({numberingSystem:C},O=""){C=C||"latn";lc[C]||(lc[C]={});lc[C][O]||(lc[C][O]=new RegExp(`${zc[C]}${O}`));return lc[C][O]}function r(C,O){return new Sa("unit out of range",`you specified ${O} (of type ${typeof O}) as a ${C}, which is invalid`)}function u(C,O,aa){O=new Date(Date.UTC(C,O-1,aa));100>C&&0<=C&&O.setUTCFullYear(O.getUTCFullYear()-
1900);C=O.getUTCDay();return 0===C?7:C}function p(C,O){C=Y(C)?fb:Va;const aa=C.findIndex(pa=>pa<O);return{month:aa+1,day:O-C[aa]}}function l(C,O){return(C-O+7)%7+1}function m(C,O=4,aa=1){const {year:pa,month:Aa,day:Na}=C;var Qa=Na+(Y(pa)?fb:Va)[Aa-1];const Xa=l(u(pa,Aa,Na),aa);Qa=Math.floor((Qa-Xa+14-O)/7);let ab;1>Qa?(ab=pa-1,Qa=sa(ab,O,aa)):Qa>sa(pa,O,aa)?(ab=pa+1,Qa=1):ab=pa;return{weekYear:ab,weekNumber:Qa,weekday:Xa,...ha(C)}}function v(C,O=4,aa=1){const {weekYear:pa,weekNumber:Aa,weekday:Na}=
C,Qa=l(u(pa,1,O),aa);aa=Y(pa)?366:365;O=7*Aa+Na-Qa-7+O;1>O?(aa=pa-1,O+=Y(aa)?366:365):O>aa?(aa=pa+1,O-=Y(pa)?366:365):aa=pa;const {month:Xa,day:ab}=p(aa,O);return{year:aa,month:Xa,day:ab,...ha(C)}}function A(C){const {year:O,month:aa,day:pa}=C;var Aa=pa+(Y(O)?fb:Va)[aa-1];return{year:O,ordinal:Aa,...ha(C)}}function t(C){const {year:O,ordinal:aa}=C,{month:pa,day:Aa}=p(O,aa);return{year:O,month:pa,day:Aa,...ha(C)}}function w(C,O){if(y(C.localWeekday)&&y(C.localWeekNumber)&&y(C.localWeekYear))return{minDaysInFirstWeek:4,
startOfWeek:1};if(!y(C.weekday)||!y(C.weekNumber)||!y(C.weekYear))throw new Za("Cannot mix locale-based week fields with ISO-based week fields");y(C.localWeekday)||(C.weekday=C.localWeekday);y(C.localWeekNumber)||(C.weekNumber=C.localWeekNumber);y(C.localWeekYear)||(C.weekYear=C.localWeekYear);delete C.localWeekday;delete C.localWeekNumber;delete C.localWeekYear;return{minDaysInFirstWeek:O.getMinDaysInFirstWeek(),startOfWeek:O.getStartOfWeek()}}function z(C,O=4,aa=1){const pa=E(C.weekYear);O=W(C.weekNumber,
1,sa(C.weekYear,O,aa));aa=W(C.weekday,1,7);return pa?O?aa?!1:r("weekday",C.weekday):r("week",C.weekNumber):r("weekYear",C.weekYear)}function k(C){const O=E(C.year),aa=W(C.month,1,12),pa=W(C.day,1,ja(C.year,C.month));return O?aa?pa?!1:r("day",C.day):r("month",C.month):r("year",C.year)}function x(C){const {hour:O,minute:aa,second:pa,millisecond:Aa}=C;C=W(O,0,23)||24===O&&0===aa&&0===pa&&0===Aa;const Na=W(aa,0,59),Qa=W(pa,0,59),Xa=W(Aa,0,999);return C?Na?Qa?Xa?!1:r("millisecond",Aa):r("second",pa):r("minute",
aa):r("hour",O)}function y(C){return"undefined"===typeof C}function B(C){return"number"===typeof C}function E(C){return"number"===typeof C&&0===C%1}function J(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(C){return!1}}function K(){try{return"undefined"!==typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(C){return!1}}function H(C,O,aa){if(0!==C.length)return C.reduce((pa,Aa)=>{Aa=[O(Aa),Aa];return pa?aa(pa[0],Aa[0])===
pa[0]?pa:Aa:Aa},null)[1]}function F(C,O){return O.reduce((aa,pa)=>{aa[pa]=C[pa];return aa},{})}function N(C,O){return Object.prototype.hasOwnProperty.call(C,O)}function S(C){if(null==C)return null;if("object"!==typeof C)throw new ka("Week settings must be an object");if(!W(C.firstDay,1,7)||!W(C.minimalDays,1,7)||!Array.isArray(C.weekend)||C.weekend.some(O=>!W(O,1,7)))throw new ka("Invalid week settings");return{firstDay:C.firstDay,minimalDays:C.minimalDays,weekend:Array.from(C.weekend)}}function W(C,
O,aa){return E(C)&&C>=O&&C<=aa}function L(C,O=2){return 0>C?"-"+(""+-C).padStart(O,"0"):(""+C).padStart(O,"0")}function P(C){if(!y(C)&&null!==C&&""!==C)return parseInt(C,10)}function X(C){if(!y(C)&&null!==C&&""!==C)return parseFloat(C)}function D(C){if(!y(C)&&null!==C&&""!==C)return C=1E3*parseFloat("0."+C),Math.floor(C)}function R(C,O,aa=!1){O=10**O;return(aa?Math.trunc:Math.round)(C*O)/O}function Y(C){return 0===C%4&&(0!==C%100||0===C%400)}function ja(C,O){var aa=O-1;aa=aa-12*Math.floor(aa/12)+
1;return 2===aa?Y(C+(O-aa)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][aa-1]}function da(C){let O=Date.UTC(C.year,C.month-1,C.day,C.hour,C.minute,C.second,C.millisecond);100>C.year&&0<=C.year&&(O=new Date(O),O.setUTCFullYear(C.year,C.month-1,C.day));return+O}function sa(C,O=4,aa=1){var pa=-l(u(C,1,O),aa)+O-1;O=-l(u(C+1,1,O),aa)+O-1;return((Y(C)?366:365)-pa+O)/7}function qa(C){return 99<C?C:C>Ka.twoDigitCutoffYear?1900+C:2E3+C}function ia(C,O,aa,pa=null){C=new Date(C);const Aa={hourCycle:"h23",
year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};pa&&(Aa.timeZone=pa);return(O=(new Intl.DateTimeFormat(aa,{timeZoneName:O,...Aa})).formatToParts(C).find(Na=>"timezonename"===Na.type.toLowerCase()))?O.value:null}function la(C,O){C=parseInt(C,10);Number.isNaN(C)&&(C=0);O=parseInt(O,10)||0;O=0>C||Object.is(C,-0)?-O:O;return 60*C+O}function ua(C){const O=Number(C);if("boolean"===typeof C||""===C||Number.isNaN(O))throw new ka(`Invalid unit value ${C}`);return O}function ya(C,
O){const aa={};for(const pa in C)if(N(C,pa)){const Aa=C[pa];void 0!==Aa&&null!==Aa&&(aa[O(pa)]=ua(Aa))}return aa}function V(C,O){const aa=Math.trunc(Math.abs(C/60)),pa=Math.trunc(Math.abs(C%60));C=0<=C?"+":"-";switch(O){case "short":return`${C}${L(aa,2)}:${L(pa,2)}`;case "narrow":return`${C}${aa}${0<pa?`:${pa}`:""}`;case "techie":return`${C}${L(aa,2)}${L(pa,2)}`;default:throw new RangeError(`Value format ${O} is out of range for property format`);}}function ha(C){return F(C,["hour","minute","second",
"millisecond"])}function ma(C){switch(C){case "narrow":return[...Mb];case "short":return[...zb];case "long":return[...ob];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function G(C){switch(C){case "narrow":return[...Zb];case "short":return[...ub];case "long":return[...qb];case "numeric":return"1234567".split("");default:return null}}function Q(C){switch(C){case "narrow":return[...hd];case "short":return[...id];
case "long":return[...qc];default:return null}}function fa(C,O,aa="always",pa=!1){const Aa={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var Na=-1===["hours","minutes","seconds"].indexOf(C);if("auto"===aa&&Na)switch(aa="days"===C,O){case 1:return aa?"tomorrow":`next ${Aa[C][0]}`;case -1:return aa?"yesterday":`last ${Aa[C][0]}`;case 0:return aa?"today":
`this ${Aa[C][0]}`}aa=Object.is(O,-0)||0>O;O=Math.abs(O);Na=1===O;const Qa=Aa[C];C=pa?Na?Qa[1]:Qa[2]||Qa[1]:Na?Aa[C][0]:C;return aa?`${O} ${C} ago`:`in ${O} ${C}`}function ta(C,O){let aa="";for(const pa of C)aa=pa.literal?aa+pa.val:aa+O(pa.val);return aa}function za(...C){C=C.reduce((O,aa)=>O+aa.source,"");return RegExp(`^${C}$`)}function Ea(...C){return O=>C.reduce(([aa,pa,Aa],Na)=>{const [Qa,Xa,ab]=Na(O,Aa);return[{...aa,...Qa},Xa||pa,ab]},[{},null,1]).slice(0,2)}function Ga(C,...O){if(null==C)return[null,
null];for(const [aa,pa]of O)if(O=aa.exec(C))return pa(O);return[null,null]}function Z(...C){return(O,aa)=>{const pa={};let Aa;for(Aa=0;Aa<C.length;Aa++)pa[C[Aa]]=P(O[aa+Aa]);return[pa,null,aa+Aa]}}function T(C,O,aa){C=C[O];return y(C)?aa:P(C)}function I(C,O){return[{hours:T(C,O,0),minutes:T(C,O+1,0),seconds:T(C,O+2,0),milliseconds:D(C[O+3])},null,O+4]}function U(C,O){const aa=!C[O]&&!C[O+1];C=la(C[O+1],C[O+2]);return[{},aa?null:Fb.instance(C),O+3]}function ea(C,O){return[{},C[O]?cc.create(C[O]):null,
O+1]}function ra(C){const [O,aa,pa,Aa,Na,Qa,Xa,ab,jb]=C,gb="-"===O[0];C=ab&&"-"===ab[0];const ib=(tb,Ib=!1)=>void 0!==tb&&(Ib||tb&&gb)?-tb:tb;return[{years:ib(X(aa)),months:ib(X(pa)),weeks:ib(X(Aa)),days:ib(X(Na)),hours:ib(X(Qa)),minutes:ib(X(Xa)),seconds:ib(X(ab),"-0"===ab),milliseconds:ib(D(jb),C)}]}function Ba(C,O,aa,pa,Aa,Na,Qa){O={year:2===O.length?qa(P(O)):P(O),month:zb.indexOf(aa)+1,day:P(pa),hour:P(Aa),minute:P(Na)};Qa&&(O.second=P(Qa));C&&(O.weekday=3<C.length?qb.indexOf(C)+1:ub.indexOf(C)+
1);return O}function La(C){const [,O,aa,pa,Aa,Na,Qa,Xa,ab,jb,gb,ib]=C;C=Ba(O,Aa,pa,aa,Na,Qa,Xa);let tb;tb=ab?jd[ab]:jb?0:la(gb,ib);return[C,new Fb(tb)]}function ca(C){const [,O,aa,pa,Aa,Na,Qa,Xa]=C;return[Ba(O,Aa,pa,aa,Na,Qa,Xa),Fb.utcInstance]}function va(C){const [,O,aa,pa,Aa,Na,Qa,Xa]=C;return[Ba(O,Xa,aa,pa,Aa,Na,Qa),Fb.utcInstance]}function xa(C,O,aa=!1){C={values:aa?O.values:{...C.values,...(O.values||{})},loc:C.loc.clone(O.loc),conversionAccuracy:O.conversionAccuracy||C.conversionAccuracy,matrix:O.matrix||
C.matrix};return new rb(C)}function Da(C,O){let aa=O.milliseconds??0;for(const pa of kd.slice(1))O[pa]&&(aa+=O[pa]*C[pa].milliseconds);return aa}function Ha(C,O){const aa=0>Da(C,O)?-1:1;rc.reduceRight((pa,Aa)=>{if(y(O[Aa]))return pa;if(pa){const Na=C[Aa][pa],Qa=Math.floor(O[pa]*aa/Na);O[Aa]+=Qa*aa;O[pa]-=Qa*Na*aa}return Aa},null);rc.reduce((pa,Aa)=>{if(y(O[Aa]))return pa;if(pa){const Na=O[pa]%1;O[pa]-=Na;O[Aa]+=Na*C[pa][Aa]}return Aa},null)}function na(C,O){C=O.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-
C.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(rb.fromMillis(C).as("days"))}function wa(C,O,aa){const pa=[["years",(ab,jb)=>jb.year-ab.year],["quarters",(ab,jb)=>jb.quarter-ab.quarter+4*(jb.year-ab.year)],["months",(ab,jb)=>jb.month-ab.month+12*(jb.year-ab.year)],["weeks",(ab,jb)=>{ab=na(ab,jb);return(ab-ab%7)/7}],["days",na]],Aa={},Na=C;let Qa,Xa;for(const [ab,jb]of pa)0<=aa.indexOf(ab)&&(Qa=ab,Aa[ab]=jb(C,O),Xa=Na.plus(Aa),Xa>O?(Aa[ab]--,C=Na.plus(Aa),C>O&&(Xa=C,Aa[ab]--,
C=Na.plus(Aa))):C=Xa);return[C,Aa,Xa,Qa]}function Ma(C,O,aa,pa){let [Aa,Na,Qa,Xa]=wa(C,O,aa);C=O-Aa;aa=aa.filter(ab=>0<=["hours","minutes","seconds","milliseconds"].indexOf(ab));0===aa.length&&(Qa<O&&(Qa=Aa.plus({[Xa]:1})),Qa!==Aa&&(Na[Xa]=(Na[Xa]||0)+C/(Qa-Aa)));O=rb.fromObject(Na,pa);return 0<aa.length?rb.fromMillis(C,pa).shiftTo(...aa).plus(O):O}function Ja(C,O=aa=>aa){return{regex:C,deser:([aa])=>{{let pa=parseInt(aa,10);if(isNaN(pa)){pa="";for(let Aa=0;Aa<aa.length;Aa++){const Na=aa.charCodeAt(Aa);
if(-1!==aa[Aa].search(zc.hanidec))pa+=Ac.indexOf(aa[Aa]);else for(const Qa in Ic){const [Xa,ab]=Ic[Qa];Na>=Xa&&Na<=ab&&(pa+=Na-Xa)}}aa=parseInt(pa,10)}else aa=pa}return O(aa)}}}function Ua(C){return C.replace(/\./g,"\\.?").replace(Sc,Yc)}function Ya(C,O){return null===C?null:{regex:RegExp(C.map(Ua).join("|")),deser:([aa])=>C.findIndex(pa=>aa.replace(/\./g,"").replace(Sc," ").toLowerCase()===pa.replace(/\./g,"").replace(Sc," ").toLowerCase())+O}}function cb(C,O){return{regex:C,deser:([,aa,pa])=>la(aa,
pa),groups:O}}function eb(C){return{regex:C,deser:([O])=>O}}function pb(C,O){const aa=h(O),pa=h(O,"{2}"),Aa=h(O,"{3}"),Na=h(O,"{4}"),Qa=h(O,"{6}"),Xa=h(O,"{1,2}"),ab=h(O,"{1,3}"),jb=h(O,"{1,6}"),gb=h(O,"{1,9}"),ib=h(O,"{2,4}"),tb=h(O,"{4,6}"),Ib=ic=>({regex:RegExp(ic.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Bc])=>Bc,literal:!0}),Jb=(ic=>{if(C.literal)return Ib(ic);switch(ic.val){case "G":return Ya(O.eras("short"),0);case "GG":return Ya(O.eras("long"),0);case "y":return Ja(jb);
case "yy":return Ja(ib,qa);case "yyyy":return Ja(Na);case "yyyyy":return Ja(tb);case "yyyyyy":return Ja(Qa);case "M":return Ja(Xa);case "MM":return Ja(pa);case "MMM":return Ya(O.months("short",!0),1);case "MMMM":return Ya(O.months("long",!0),1);case "L":return Ja(Xa);case "LL":return Ja(pa);case "LLL":return Ya(O.months("short",!1),1);case "LLLL":return Ya(O.months("long",!1),1);case "d":return Ja(Xa);case "dd":return Ja(pa);case "o":return Ja(ab);case "ooo":return Ja(Aa);case "HH":return Ja(pa);
case "H":return Ja(Xa);case "hh":return Ja(pa);case "h":return Ja(Xa);case "mm":return Ja(pa);case "m":return Ja(Xa);case "q":return Ja(Xa);case "qq":return Ja(pa);case "s":return Ja(Xa);case "ss":return Ja(pa);case "S":return Ja(ab);case "SSS":return Ja(Aa);case "u":return eb(gb);case "uu":return eb(Xa);case "uuu":return Ja(aa);case "a":return Ya(O.meridiems(),0);case "kkkk":return Ja(Na);case "kk":return Ja(ib,qa);case "W":return Ja(Xa);case "WW":return Ja(pa);case "E":case "c":return Ja(aa);case "EEE":return Ya(O.weekdays("short",
!1),1);case "EEEE":return Ya(O.weekdays("long",!1),1);case "ccc":return Ya(O.weekdays("short",!0),1);case "cccc":return Ya(O.weekdays("long",!0),1);case "Z":case "ZZ":return cb(new RegExp(`([+-]${Xa.source})(?::(${pa.source}))?`),2);case "ZZZ":return cb(new RegExp(`([+-]${Xa.source})(${pa.source})?`),2);case "z":return eb(/[a-z_+-/]{1,256}?/i);case " ":return eb(/[^\S\n\r]/);default:return Ib(ic)}})(C)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Jb.token=C;return Jb}function lb(C){return[`^${C.map(O=>
O.regex).reduce((O,aa)=>`${O}(${aa.source})`,"")}$`,C]}function Xb(C){const O=Aa=>{switch(Aa){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let aa=null,pa;y(C.z)||(aa=cc.create(C.z));y(C.Z)||(aa||=new Fb(C.Z),
pa=C.Z);y(C.q)||(C.M=3*(C.q-1)+1);y(C.h)||(12>C.h&&1===C.a?C.h+=12:12===C.h&&0===C.a&&(C.h=0));0===C.G&&C.y&&(C.y=-C.y);y(C.u)||(C.S=D(C.u));return[Object.keys(C).reduce((Aa,Na)=>{const Qa=O(Na);Qa&&(Aa[Qa]=C[Na]);return Aa},{}),aa,pa]}function Cb(C,O){return Array.prototype.concat(...C.map(aa=>{if(!aa.literal){var pa=Ob.macroTokenToFormatOpts(aa.val);pa=mb(pa,O);aa=null==pa||pa.includes(void 0)?aa:pa}return aa}))}function mb(C,O){if(!C)return null;O=Ob.create(O,C);var aa=O.dtFormatter;Zc||=hb.fromMillis(1555555555555);
O=aa.call(O,Zc);aa=O.formatToParts();const pa=O.resolvedOptions();return aa.map(Aa=>{{const {type:Qa,value:Xa}=Aa;if("literal"===Qa)Aa=/^\s+$/.test(Xa),Aa={literal:!Aa,val:Aa?" ":Xa};else{Aa=C[Qa];var Na=Qa;"hour"===Qa&&(Na=null!=C.hour12?C.hour12?"hour12":"hour24":null!=C.hourCycle?"h11"===C.hourCycle||"h12"===C.hourCycle?"hour12":"hour24":pa.hour12?"hour12":"hour24");Na=ld[Na];"object"===typeof Na&&(Na=Na[Aa]);Aa=Na?{literal:!1,val:Na}:void 0}}return Aa})}function yb(C){return new Sa("unsupported zone",
`the zone "${C.name}" is not supported`)}function Sb(C){null===C.weekData&&(C.weekData=m(C.c));return C.weekData}function vb(C){null===C.localWeekData&&(C.localWeekData=m(C.c,C.loc.getMinDaysInFirstWeek(),C.loc.getStartOfWeek()));return C.localWeekData}function Tb(C,O){C={ts:C.ts,zone:C.zone,c:C.c,o:C.o,loc:C.loc,invalid:C.invalid};return new hb({...C,...O,old:C})}function Vb(C,O,aa){let pa=C-6E4*O;const Aa=aa.offset(pa);if(O===Aa)return[pa,O];pa-=6E4*(Aa-O);O=aa.offset(pa);return Aa===O?[pa,Aa]:
[C-6E4*Math.min(Aa,O),Math.max(Aa,O)]}function Qb(C,O){C=new Date(C+6E4*O);return{year:C.getUTCFullYear(),month:C.getUTCMonth()+1,day:C.getUTCDate(),hour:C.getUTCHours(),minute:C.getUTCMinutes(),second:C.getUTCSeconds(),millisecond:C.getUTCMilliseconds()}}function Pb(C,O,aa){return Vb(da(C),O,aa)}function Wb(C,O){const aa=C.o;var pa=C.c.year+Math.trunc(O.years);const Aa=C.c.month+Math.trunc(O.months)+3*Math.trunc(O.quarters);pa={...C.c,year:pa,month:Aa,day:Math.min(C.c.day,ja(pa,Aa))+Math.trunc(O.days)+
7*Math.trunc(O.weeks)};O=rb.fromObject({years:O.years-Math.trunc(O.years),quarters:O.quarters-Math.trunc(O.quarters),months:O.months-Math.trunc(O.months),weeks:O.weeks-Math.trunc(O.weeks),days:O.days-Math.trunc(O.days),hours:O.hours,minutes:O.minutes,seconds:O.seconds,milliseconds:O.milliseconds}).as("milliseconds");pa=da(pa);let [Na,Qa]=Vb(pa,aa,C.zone);0!==O&&(Na+=O,Qa=C.zone.offset(Na));return{ts:Na,o:Qa}}function Kb(C,O,aa,pa,Aa,Na){const {setZone:Qa,zone:Xa}=aa;return C&&0!==Object.keys(C).length||
O?(C=hb.fromObject(C,{...aa,zone:O||Xa,specificOffset:Na}),Qa?C:C.setZone(Xa)):hb.invalid(new Sa("unparsable",`the input "${Aa}" can't be parsed as ${pa}`))}function Eb(C,O,aa=!0){return C.isValid?Ob.create(sb.create("en-US"),{allowZ:aa,forceSimple:!0}).formatDateTimeFromString(C,O):null}function Rb(C,O){const aa=9999<C.c.year||0>C.c.year;let pa="";aa&&0<=C.c.year&&(pa+="+");pa+=L(C.c.year,aa?6:4);O?(pa=pa+"-"+L(C.c.month),pa=pa+"-"+L(C.c.day)):(pa+=L(C.c.month),pa+=L(C.c.day));return pa}function Lb(C,
O,aa,pa,Aa,Na){let Qa=L(C.c.hour);O?(Qa=Qa+":"+L(C.c.minute),0===C.c.millisecond&&0===C.c.second&&aa||(Qa+=":")):Qa+=L(C.c.minute);0===C.c.millisecond&&0===C.c.second&&aa||(Qa+=L(C.c.second),0===C.c.millisecond&&pa||(Qa=Qa+"."+L(C.c.millisecond,3)));Aa&&(C.isOffsetFixed&&0===C.offset&&!Na?Qa+="Z":0>C.o?(Qa=Qa+"-"+L(Math.trunc(-C.o/60)),Qa=Qa+":"+L(Math.trunc(-C.o%60))):(Qa=Qa+"+"+L(Math.trunc(C.o/60)),Qa=Qa+":"+L(Math.trunc(C.o%60))));Na&&(Qa+="["+C.zone.ianaName+"]");return Qa}function Oa(C){switch(C.toLowerCase()){case "localweekday":case "localweekdays":return"localWeekday";
case "localweeknumber":case "localweeknumbers":return"localWeekNumber";case "localweekyear":case "localweekyears":return"localWeekYear";default:const O={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",
weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[C.toLowerCase()];if(!O)throw new wb(C);return O}}function nb(C,O){const aa=g(O.zone,Ka.defaultZone);if(!aa.isValid)return hb.invalid(yb(aa));O=sb.fromObject(O);var pa;if(y(C.year))C=Ka.now();else{for(const Aa of $c)y(C[Aa])&&(C[Aa]=ad[Aa]);if(pa=k(C)||x(C))return hb.invalid(pa);Jc[aa]||(void 0===Kc&&(Kc=Ka.now()),Jc[aa]=aa.offset(Kc));[C,pa]=Pb(C,Jc[aa],aa)}return new hb({ts:C,zone:aa,loc:O,o:pa})}function Ub(C,O,aa){const pa=y(aa.round)?
!0:aa.round,Aa=(Qa,Xa)=>{Qa=R(Qa,pa||aa.calendary?0:2,!0);return O.loc.clone(aa).relFormatter(aa).format(Qa,Xa)},Na=Qa=>aa.calendary?O.hasSame(C,Qa)?0:O.startOf(Qa).diff(C.startOf(Qa),Qa).get(Qa):O.diff(C,Qa).get(Qa);if(aa.unit)return Aa(Na(aa.unit),aa.unit);for(const Qa of aa.units){const Xa=Na(Qa);if(1<=Math.abs(Xa))return Aa(Xa,Qa)}return Aa(C>O?-0:0,aa.units[aa.units.length-1])}function Bb(C){let O={};0<C.length&&"object"===typeof C[C.length-1]?(O=C[C.length-1],C=Array.from(C).slice(0,C.length-
1)):C=Array.from(C);return[O,C]}function Nb(C){if(hb.isDateTime(C))return C;if(C&&C.valueOf&&B(C.valueOf()))return hb.fromJSDate(C);if(C&&"object"===typeof C)return hb.fromObject(C);throw new ka(`Unknown datetime argument: ${C}, of type ${typeof C}`);}class $a extends Error{}class db extends $a{constructor(C){super(`Invalid DateTime: ${C.toMessage()}`)}}class Fa extends $a{constructor(C){super(`Invalid Interval: ${C.toMessage()}`)}}class Ta extends $a{constructor(C){super(`Invalid Duration: ${C.toMessage()}`)}}
class Za extends $a{}class wb extends $a{constructor(C){super(`Invalid unit ${C}`)}}class ka extends $a{}class Ia extends $a{constructor(){super("Zone is an abstract class")}}const Pa={year:"numeric",month:"numeric",day:"numeric"},Ra={year:"numeric",month:"short",day:"numeric"},Wa={year:"numeric",month:"short",day:"numeric",weekday:"short"},bb={year:"numeric",month:"long",day:"numeric"},kb={year:"numeric",month:"long",day:"numeric",weekday:"long"},Db={hour:"numeric",minute:"numeric"},ac={hour:"numeric",
minute:"numeric",second:"numeric"},fc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Gb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},kc={hour:"numeric",minute:"numeric",hourCycle:"h23"},Hb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},gc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},hc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},dc={year:"numeric",
month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},nc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},$b={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},xb={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Lc={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},ec={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",
timeZoneName:"short"},Cc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},sc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},Dc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class Yb{get type(){throw new Ia;}get name(){throw new Ia;}get ianaName(){return this.name}get isUniversal(){throw new Ia;
}offsetName(C,O){throw new Ia;}formatOffset(C,O){throw new Ia;}offset(C){throw new Ia;}equals(C){throw new Ia;}get isValid(){throw new Ia;}}let jc=null;class wc extends Yb{static get instance(){null===jc&&(jc=new wc);return jc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(C,{format:O,locale:aa}){return ia(C,O,aa)}formatOffset(C,O){return V(this.offset(C),O)}offset(C){return-(new Date(C)).getTimezoneOffset()}equals(C){return"system"===
C.type}get isValid(){return!0}}let tc={};const Mc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let uc={};class cc extends Yb{static create(C){uc[C]||(uc[C]=new cc(C));return uc[C]}static resetCache(){uc={};tc={}}static isValidSpecifier(C){return this.isValidZone(C)}static isValidZone(C){if(!C)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:C})).format(),!0}catch(O){return!1}}constructor(C){super();this.zoneName=C;this.valid=cc.isValidZone(C)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(C,
{format:O,locale:aa}){return ia(C,O,aa,this.name)}formatOffset(C,O){return V(this.offset(C),O)}offset(C){C=new Date(C);if(isNaN(C))return NaN;var O=this.name;tc[O]||(tc[O]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:O,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));O=tc[O];if(O.formatToParts){O=O.formatToParts(C);var aa=[];for(let gb=0;gb<O.length;gb++){const {type:ib,value:tb}=O[gb],Ib=Mc[ib];"era"===ib?aa[Ib]=tb:y(Ib)||(aa[Ib]=
parseInt(tb,10))}O=aa}else{O=O.format(C).replace(/\u200E/g,"");O=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(O);const [,gb,ib,tb,Ib,Jb,ic,Bc]=O;O=[tb,gb,ib,Ib,Jb,ic,Bc]}let [pa,Aa,Na,Qa,Xa,ab,jb]=O;"BC"===Qa&&(pa=-Math.abs(pa)+1);O=da({year:pa,month:Aa,day:Na,hour:24===Xa?0:Xa,minute:ab,second:jb,millisecond:0});C=+C;aa=C%1E3;return(O-(C-(0<=aa?aa:1E3+aa)))/6E4}equals(C){return"iana"===C.type&&C.name===this.name}get isValid(){return this.valid}}let yc={},bc={},vc={},oc={},mc=null,xc={};
class Tc{constructor(C,O,aa){this.padTo=aa.padTo||0;this.floor=aa.floor||!1;const {padTo:pa,floor:Aa,...Na}=aa;if(!O||0<Object.keys(Na).length)O={useGrouping:!1,...aa},0<aa.padTo&&(O.minimumIntegerDigits=aa.padTo),this.inf=f(C,O)}format(C){if(this.inf)return this.inf.format(this.floor?Math.floor(C):C);C=this.floor?Math.floor(C):R(C,3);return L(C,this.padTo)}}class Uc{constructor(C,O,aa){this.opts=aa;aa=this.originalZone=void 0;this.opts.timeZone?this.dt=C:"fixed"===C.zone.type?(aa=C.offset/60*-1,
aa=0<=aa?`Etc/GMT+${aa}`:`Etc/GMT${aa}`,0!==C.offset&&cc.create(aa).valid?this.dt=C:(aa="UTC",this.dt=0===C.offset?C:C.setZone("UTC").plus({minutes:C.offset}),this.originalZone=C.zone)):"system"===C.zone.type?this.dt=C:"iana"===C.zone.type?(this.dt=C,aa=C.zone.name):(aa="UTC",this.dt=C.setZone("UTC").plus({minutes:C.offset}),this.originalZone=C.zone);C={...this.opts};C.timeZone=C.timeZone||aa;this.dtf=c(O,C)}format(){return this.originalZone?this.formatToParts().map(({value:C})=>C).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const C=
this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?C.map(O=>{if("timeZoneName"===O.type){const aa=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...O,value:aa}}return O}):C}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ec{constructor(C,O,aa){this.opts={style:"long",...aa};!O&&J()&&(this.rtf=d(C,aa))}format(C,O){return this.rtf?this.rtf.format(C,O):fa(O,C,this.opts.numeric,"long"!==this.opts.style)}formatToParts(C,
O){return this.rtf?this.rtf.formatToParts(C,O):[]}}const Nc={firstDay:1,minimalDays:4,weekend:[6,7]};class sb{static fromOpts(C){return sb.create(C.locale,C.numberingSystem,C.outputCalendar,C.weekSettings,C.defaultToEN)}static create(C,O,aa,pa,Aa=!1){C=C||Ka.defaultLocale;var Na;(Na=C)||(Aa?Aa="en-US":(mc||(mc=(new Intl.DateTimeFormat).resolvedOptions().locale),Aa=mc),Na=Aa);Aa=Na;O=O||Ka.defaultNumberingSystem;aa=aa||Ka.defaultOutputCalendar;pa=S(pa)||Ka.defaultWeekSettings;return new sb(Aa,O,aa,
pa,C)}static resetCache(){mc=null;bc={};vc={};oc={}}static fromObject({locale:C,numberingSystem:O,outputCalendar:aa,weekSettings:pa}={}){return sb.create(C,O,aa,pa)}constructor(C,O,aa,pa,Aa){var Na=C.indexOf("-x-");-1!==Na&&(C=C.substring(0,Na));Na=C.indexOf("-u-");if(-1===Na)var Qa=[C];else{try{Qa=c(C).resolvedOptions();var Xa=C}catch(Ib){Xa=C.substring(0,Na),Qa=c(Xa).resolvedOptions()}const {numberingSystem:ib,calendar:tb}=Qa;Qa=[Xa,ib,tb]}const [ab,jb,gb]=Qa;this.locale=ab;this.numberingSystem=
O||jb||null;this.outputCalendar=aa||gb||null;this.weekSettings=pa;O=this.locale;aa=this.numberingSystem;if((pa=this.outputCalendar)||aa)O.includes("-u-")||(O+="-u"),pa&&(O+=`-ca-${pa}`),aa&&(O+=`-nu-${aa}`);this.intl=O;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=Aa;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var C=this.numberingSystem&&"latn"!==this.numberingSystem?
!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=C}return this.fastNumbersCached}listingMode(){const C=this.isEnglish(),O=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return C&&O?"en":"intl"}clone(C){return C&&0!==Object.getOwnPropertyNames(C).length?sb.create(C.locale||this.specifiedLocale,
C.numberingSystem||this.numberingSystem,C.outputCalendar||this.outputCalendar,S(C.weekSettings)||this.weekSettings,C.defaultToEN||!1):this}redefaultToEN(C={}){return this.clone({...C,defaultToEN:!0})}redefaultToSystem(C={}){return this.clone({...C,defaultToEN:!1})}months(C,O=!1){return e(this,C,ma,()=>{const aa=O?{month:C,day:"numeric"}:{month:C},pa=O?"format":"standalone";this.monthsCache[pa][C]||(this.monthsCache[pa][C]=n(Aa=>this.extract(Aa,aa,"month")));return this.monthsCache[pa][C]})}weekdays(C,
O=!1){return e(this,C,G,()=>{const aa=O?{weekday:C,year:"numeric",month:"long",day:"numeric"}:{weekday:C},pa=O?"format":"standalone";this.weekdaysCache[pa][C]||(this.weekdaysCache[pa][C]=q(Aa=>this.extract(Aa,aa,"weekday")));return this.weekdaysCache[pa][C]})}meridiems(){return e(this,void 0,()=>Fc,()=>{if(!this.meridiemCache){const C={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[hb.utc(2016,11,13,9),hb.utc(2016,11,13,19)].map(O=>this.extract(O,C,"dayperiod"))}return this.meridiemCache})}eras(C){return e(this,
C,Q,()=>{const O={era:C};this.eraCache[C]||(this.eraCache[C]=[hb.utc(-40,1,1),hb.utc(2017,1,1)].map(aa=>this.extract(aa,O,"era")));return this.eraCache[C]})}extract(C,O,aa){return(C=this.dtFormatter(C,O).formatToParts().find(pa=>pa.type.toLowerCase()===aa))?C.value:null}numberFormatter(C={}){return new Tc(this.intl,C.forceSimple||this.fastNumbers,C)}dtFormatter(C,O={}){return new Uc(C,this.intl,O)}relFormatter(C={}){return new Ec(this.intl,this.isEnglish(),C)}listFormatter(C={}){return b(this.intl,
C)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){if(this.weekSettings)return this.weekSettings;if(K()){var C=this.locale,O=xc[C];O||(O=new Intl.Locale(C),O="getWeekInfo"in O?O.getWeekInfo():O.weekInfo,xc[C]=O);return O}return Nc}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(C){return this.locale===
C.locale&&this.numberingSystem===C.numberingSystem&&this.outputCalendar===C.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Gc=null;class Fb extends Yb{static get utcInstance(){null===Gc&&(Gc=new Fb(0));return Gc}static instance(C){return 0===C?Fb.utcInstance:new Fb(C)}static parseSpecifier(C){return C&&(C=C.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Fb(la(C[1],C[2])):null}constructor(C){super();this.fixed=C}get type(){return"fixed"}get name(){return 0===
this.fixed?"UTC":`UTC${V(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${V(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(C,O){return V(this.fixed,O)}get isUniversal(){return!0}offset(){return this.fixed}equals(C){return"fixed"===C.type&&C.fixed===this.fixed}get isValid(){return!0}}class pc extends Yb{constructor(C){super();this.zoneName=C}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}
const zc={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",
tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ic={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ac=zc.hanidec.replace(/[\[|\]]/g,"").split("");let lc={},Oc=()=>Date.now(),Pc="system",Qc=null,Hc=null,M=null,ba=60,oa,Ca=null;
class Ka{static get now(){return Oc}static set now(C){Oc=C}static set defaultZone(C){Pc=C}static get defaultZone(){return g(Pc,wc.instance)}static get defaultLocale(){return Qc}static set defaultLocale(C){Qc=C}static get defaultNumberingSystem(){return Hc}static set defaultNumberingSystem(C){Hc=C}static get defaultOutputCalendar(){return M}static set defaultOutputCalendar(C){M=C}static get defaultWeekSettings(){return Ca}static set defaultWeekSettings(C){Ca=S(C)}static get twoDigitCutoffYear(){return ba}static set twoDigitCutoffYear(C){ba=
C%100}static get throwOnInvalid(){return oa}static set throwOnInvalid(C){oa=C}static resetCaches(){sb.resetCache();cc.resetCache();hb.resetCache();lc={}}}class Sa{constructor(C,O){this.reason=C;this.explanation=O}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Va=[0,31,59,90,120,151,181,212,243,273,304,334],fb=[0,31,60,91,121,152,182,213,244,274,305,335],ob="January February March April May June July August September October November December".split(" "),
zb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Mb="JFMAMJJASOND".split(""),qb="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ub="Mon Tue Wed Thu Fri Sat Sun".split(" "),Zb="MTWTFSS".split(""),Fc=["AM","PM"],qc=["Before Christ","Anno Domini"],id=["BC","AD"],hd=["B","A"],md={D:Pa,DD:Ra,DDD:bb,DDDD:kb,t:Db,tt:ac,ttt:fc,tttt:Gb,T:kc,TT:Hb,TTT:gc,TTTT:hc,f:dc,ff:$b,fff:ec,ffff:sc,F:nc,FF:xb,FFF:Cc,FFFF:Dc};class Ob{static create(C,O={}){return new Ob(C,O)}static parseFormat(C){let O=
null,aa="",pa=!1;const Aa=[];for(let Na=0;Na<C.length;Na++){const Qa=C.charAt(Na);"'"===Qa?(0<aa.length&&Aa.push({literal:pa||/^\s+$/.test(aa),val:aa}),O=null,aa="",pa=!pa):pa?aa+=Qa:Qa===O?aa+=Qa:(0<aa.length&&Aa.push({literal:/^\s+$/.test(aa),val:aa}),O=aa=Qa)}0<aa.length&&Aa.push({literal:pa||/^\s+$/.test(aa),val:aa});return Aa}static macroTokenToFormatOpts(C){return md[C]}constructor(C,O){this.opts=O;this.loc=C;this.systemLoc=null}formatWithSystemDefault(C,O){null===this.systemLoc&&(this.systemLoc=
this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(C,{...this.opts,...O}).format()}dtFormatter(C,O={}){return this.loc.dtFormatter(C,{...this.opts,...O})}formatDateTime(C,O){return this.dtFormatter(C,O).format()}formatDateTimeParts(C,O){return this.dtFormatter(C,O).formatToParts()}formatInterval(C,O){return this.dtFormatter(C.start,O).dtf.formatRange(C.start.toJSDate(),C.end.toJSDate())}resolvedOptions(C,O){return this.dtFormatter(C,O).resolvedOptions()}num(C,O=0){if(this.opts.forceSimple)return L(C,
O);const aa={...this.opts};0<O&&(aa.padTo=O);return this.loc.numberFormatter(aa).format(C)}formatDateTimeFromString(C,O){const aa="en"===this.loc.listingMode(),pa=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Aa=(gb,ib)=>this.loc.extract(C,gb,ib),Na=gb=>C.isOffsetFixed&&0===C.offset&&gb.allowZ?"Z":C.isValid?C.zone.formatOffset(C.ts,gb.format):"",Qa=(gb,ib)=>aa?ma(gb)[C.month-1]:Aa(ib?{month:gb}:{month:gb,day:"numeric"},"month"),Xa=(gb,ib)=>aa?G(gb)[C.weekday-1]:Aa(ib?{weekday:gb}:{weekday:gb,
month:"long",day:"numeric"},"weekday"),ab=gb=>{const ib=Ob.macroTokenToFormatOpts(gb);return ib?this.formatWithSystemDefault(C,ib):gb},jb=gb=>aa?Q(gb)[0>C.year?0:1]:Aa({era:gb},"era");return ta(Ob.parseFormat(O),gb=>{switch(gb){case "S":return this.num(C.millisecond);case "u":case "SSS":return this.num(C.millisecond,3);case "s":return this.num(C.second);case "ss":return this.num(C.second,2);case "uu":return this.num(Math.floor(C.millisecond/10),2);case "uuu":return this.num(Math.floor(C.millisecond/
100));case "m":return this.num(C.minute);case "mm":return this.num(C.minute,2);case "h":return this.num(0===C.hour%12?12:C.hour%12);case "hh":return this.num(0===C.hour%12?12:C.hour%12,2);case "H":return this.num(C.hour);case "HH":return this.num(C.hour,2);case "Z":return Na({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return Na({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return Na({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return C.zone.offsetName(C.ts,{format:"short",
locale:this.loc.locale});case "ZZZZZ":return C.zone.offsetName(C.ts,{format:"long",locale:this.loc.locale});case "z":return C.zoneName;case "a":return aa?Fc[12>C.hour?0:1]:Aa({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return pa?Aa({day:"numeric"},"day"):this.num(C.day);case "dd":return pa?Aa({day:"2-digit"},"day"):this.num(C.day,2);case "c":return this.num(C.weekday);case "ccc":return Xa("short",!0);case "cccc":return Xa("long",!0);case "ccccc":return Xa("narrow",!0);case "E":return this.num(C.weekday);
case "EEE":return Xa("short",!1);case "EEEE":return Xa("long",!1);case "EEEEE":return Xa("narrow",!1);case "L":return pa?Aa({month:"numeric",day:"numeric"},"month"):this.num(C.month);case "LL":return pa?Aa({month:"2-digit",day:"numeric"},"month"):this.num(C.month,2);case "LLL":return Qa("short",!0);case "LLLL":return Qa("long",!0);case "LLLLL":return Qa("narrow",!0);case "M":return pa?Aa({month:"numeric"},"month"):this.num(C.month);case "MM":return pa?Aa({month:"2-digit"},"month"):this.num(C.month,
2);case "MMM":return Qa("short",!1);case "MMMM":return Qa("long",!1);case "MMMMM":return Qa("narrow",!1);case "y":return pa?Aa({year:"numeric"},"year"):this.num(C.year);case "yy":return pa?Aa({year:"2-digit"},"year"):this.num(C.year.toString().slice(-2),2);case "yyyy":return pa?Aa({year:"numeric"},"year"):this.num(C.year,4);case "yyyyyy":return pa?Aa({year:"numeric"},"year"):this.num(C.year,6);case "G":return jb("short");case "GG":return jb("long");case "GGGGG":return jb("narrow");case "kk":return this.num(C.weekYear.toString().slice(-2),
2);case "kkkk":return this.num(C.weekYear,4);case "W":return this.num(C.weekNumber);case "WW":return this.num(C.weekNumber,2);case "n":return this.num(C.localWeekNumber);case "nn":return this.num(C.localWeekNumber,2);case "ii":return this.num(C.localWeekYear.toString().slice(-2),2);case "iiii":return this.num(C.localWeekYear,4);case "o":return this.num(C.ordinal);case "ooo":return this.num(C.ordinal,3);case "q":return this.num(C.quarter);case "qq":return this.num(C.quarter,2);case "X":return this.num(Math.floor(C.ts/
1E3));case "x":return this.num(C.ts);default:return ab(gb)}})}formatDurationFromString(C,O){const aa=Aa=>{switch(Aa[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};O=Ob.parseFormat(O);const pa=O.reduce((Aa,{literal:Na,val:Qa})=>Na?Aa:Aa.concat(Qa),[]);C=C.shiftTo(...pa.map(aa).filter(Aa=>Aa));return ta(O,(Aa=>Na=>{const Qa=aa(Na);return Qa?
this.num(Aa.get(Qa),Na.length):Na})(C))}}const bd=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,cd=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Vc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,dd=RegExp(`${Vc.source}${`(?:${cd.source}?(?:\\[(${bd.source})\\])?)?`}`),Wc=RegExp(`(?:T${dd.source})?`),nd=Z("weekYear","weekNumber","weekDay"),od=Z("year","ordinal"),ed=RegExp(`${Vc.source} ?(?:${cd.source}|(${bd.source}))?`),pd=RegExp(`(?: ${ed.source})?`),qd=RegExp(`^T?${Vc.source}$`),
rd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,jd={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},sd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,
td=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ud=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,vd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,wd=za(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Wc),xd=za(/(\d{4})-?W(\d\d)(?:-?(\d))?/,
Wc),yd=za(/(\d{4})-?(\d{3})/,Wc),zd=za(dd),fd=Ea(function(C,O){return[{year:T(C,O),month:T(C,O+1,1),day:T(C,O+2,1)},null,O+3]},I,U,ea),Ad=Ea(nd,I,U,ea),Bd=Ea(od,I,U,ea),Cd=Ea(I,U,ea),Dd=Ea(I),Ed=za(/(\d{4})-(\d\d)-(\d\d)/,pd),Fd=za(ed),Gd=Ea(I,U,ea),gd={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},
Hd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},...gd},Id={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,
minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...gd},rc="years quarters months weeks days hours minutes seconds milliseconds".split(" "),kd=rc.slice(0).reverse();class rb{constructor(C){const O="longterm"===C.conversionAccuracy||!1;let aa=O?Id:Hd;C.matrix&&(aa=C.matrix);this.values=C.values;this.loc=C.loc||sb.create();this.conversionAccuracy=O?"longterm":"casual";this.invalid=
C.invalid||null;this.matrix=aa;this.isLuxonDuration=!0}static fromMillis(C,O){return rb.fromObject({milliseconds:C},O)}static fromObject(C,O={}){if(null==C||"object"!==typeof C)throw new ka(`Duration.fromObject: argument expected to be an object, got ${null===C?"null":typeof C}`);return new rb({values:ya(C,rb.normalizeUnit),loc:sb.fromObject(O),conversionAccuracy:O.conversionAccuracy,matrix:O.matrix})}static fromDurationLike(C){if(B(C))return rb.fromMillis(C);if(rb.isDuration(C))return C;if("object"===
typeof C)return rb.fromObject(C);throw new ka(`Unknown duration argument ${C} of type ${typeof C}`);}static fromISO(C,O){const [aa]=Ga(C,[rd,ra]);return aa?rb.fromObject(aa,O):rb.invalid("unparsable",`the input "${C}" can't be parsed as ISO 8601`)}static fromISOTime(C,O){const [aa]=Ga(C,[qd,Dd]);return aa?rb.fromObject(aa,O):rb.invalid("unparsable",`the input "${C}" can't be parsed as ISO 8601`)}static invalid(C,O=null){if(!C)throw new ka("need to specify a reason the Duration is invalid");C=C instanceof
Sa?C:new Sa(C,O);if(Ka.throwOnInvalid)throw new Ta(C);return new rb({invalid:C})}static normalizeUnit(C){const O={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[C?C.toLowerCase():C];if(!O)throw new wb(C);return O}static isDuration(C){return C&&C.isLuxonDuration||
!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(C,O={}){O={...O,floor:!1!==O.round&&!1!==O.floor};return this.isValid?Ob.create(this.loc,O).formatDurationFromString(this,C):"Invalid Duration"}toHuman(C={}){if(!this.isValid)return"Invalid Duration";const O=rc.map(aa=>{const pa=this.values[aa];return y(pa)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...C,unit:aa.slice(0,-1)}).format(pa)}).filter(aa=>
aa);return this.loc.listFormatter({type:"conjunction",style:C.listStyle||"narrow",...C}).format(O)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let C="P";0!==this.years&&(C+=this.years+"Y");if(0!==this.months||0!==this.quarters)C+=this.months+3*this.quarters+"M";0!==this.weeks&&(C+=this.weeks+"W");0!==this.days&&(C+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)C+="T";0!==this.hours&&(C+=this.hours+"H");0!==this.minutes&&
(C+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)C+=R(this.seconds+this.milliseconds/1E3,3)+"S";"P"===C&&(C+="T0S");return C}toISOTime(C={}){if(!this.isValid)return null;const O=this.toMillis();if(0>O||864E5<=O)return null;C={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...C,includeOffset:!1};return hb.fromMillis(O,{zone:"UTC"}).toISOTime(C)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?
`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Da(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(C){if(!this.isValid)return this;C=rb.fromDurationLike(C);const O={};for(const aa of rc)if(N(C.values,aa)||N(this.values,aa))O[aa]=C.get(aa)+this.get(aa);return xa(this,{values:O},!0)}minus(C){if(!this.isValid)return this;C=rb.fromDurationLike(C);return this.plus(C.negate())}mapUnits(C){if(!this.isValid)return this;
const O={};for(const aa of Object.keys(this.values))O[aa]=ua(C(this.values[aa],aa));return xa(this,{values:O},!0)}get(C){return this[rb.normalizeUnit(C)]}set(C){if(!this.isValid)return this;C={...this.values,...ya(C,rb.normalizeUnit)};return xa(this,{values:C})}reconfigure({locale:C,numberingSystem:O,conversionAccuracy:aa,matrix:pa}={}){C={loc:this.loc.clone({locale:C,numberingSystem:O}),matrix:pa,conversionAccuracy:aa};return xa(this,C)}as(C){return this.isValid?this.shiftTo(C).get(C):NaN}normalize(){if(!this.isValid)return this;
const C=this.toObject();Ha(this.matrix,C);return xa(this,{values:C},!0)}rescale(){if(!this.isValid)return this;var C=this.normalize().shiftToAll().toObject();const O={};for(const [aa,pa]of Object.entries(C))0!==pa&&(O[aa]=pa);return xa(this,{values:O},!0)}shiftTo(...C){if(!this.isValid||0===C.length)return this;C=C.map(Na=>rb.normalizeUnit(Na));const O={},aa={},pa=this.toObject();let Aa;for(const Na of rc)if(0<=C.indexOf(Na)){Aa=Na;let Qa=0;for(const ab in aa)Qa+=this.matrix[ab][Na]*aa[ab],aa[ab]=
0;B(pa[Na])&&(Qa+=pa[Na]);const Xa=Math.trunc(Qa);O[Na]=Xa;aa[Na]=(1E3*Qa-1E3*Xa)/1E3}else B(pa[Na])&&(aa[Na]=pa[Na]);for(const Na in aa)0!==aa[Na]&&(O[Aa]+=Na===Aa?aa[Na]:aa[Na]/this.matrix[Aa][Na]);Ha(this.matrix,O);return xa(this,{values:O},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const C={};for(const O of Object.keys(this.values))C[O]=0===this.values[O]?0:-this.values[O];
return xa(this,{values:C},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?
this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(C){if(!this.isValid||!C.isValid||!this.loc.equals(C.loc))return!1;for(const pa of rc){var O=this.values[pa];var aa=C.values[pa];O=void 0===O||0===O?void 0===aa||0===aa:O===aa;if(!O)return!1}return!0}}class Ab{constructor(C){this.s=C.start;this.e=C.end;this.invalid=C.invalid||null;
this.isLuxonInterval=!0}static invalid(C,O=null){if(!C)throw new ka("need to specify a reason the Interval is invalid");C=C instanceof Sa?C:new Sa(C,O);if(Ka.throwOnInvalid)throw new Fa(C);return new Ab({invalid:C})}static fromDateTimes(C,O){C=Nb(C);O=Nb(O);var aa=C&&C.isValid?O&&O.isValid?O<C?Ab.invalid("end before start",`The end of an interval must be after its start, but you had start=${C.toISO()} and end=${O.toISO()}`):null:Ab.invalid("missing or invalid end"):Ab.invalid("missing or invalid start");
return null==aa?new Ab({start:C,end:O}):aa}static after(C,O){O=rb.fromDurationLike(O);C=Nb(C);return Ab.fromDateTimes(C,C.plus(O))}static before(C,O){O=rb.fromDurationLike(O);C=Nb(C);return Ab.fromDateTimes(C.minus(O),C)}static fromISO(C,O){const [aa,pa]=(C||"").split("/",2);if(aa&&pa){let Qa;try{var Aa=hb.fromISO(aa,O);Qa=Aa.isValid}catch(ab){Qa=!1}let Xa;try{var Na=hb.fromISO(pa,O);Xa=Na.isValid}catch(ab){Xa=!1}if(Qa&&Xa)return Ab.fromDateTimes(Aa,Na);if(Qa){if(Na=rb.fromISO(pa,O),Na.isValid)return Ab.after(Aa,
Na)}else if(Xa&&(Aa=rb.fromISO(aa,O),Aa.isValid))return Ab.before(Na,Aa)}return Ab.invalid("unparsable",`the input "${C}" can't be parsed as ISO 8601`)}static isInterval(C){return C&&C.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(C="milliseconds"){return this.isValid?
this.toDuration(...[C]).get(C):NaN}count(C="milliseconds",O){if(!this.isValid)return NaN;const aa=this.start.startOf(C,O);let pa;pa=O?.useLocaleWeeks?this.end.reconfigure({locale:aa.locale}):this.end;pa=pa.startOf(C,O);return Math.floor(pa.diff(aa,C).get(C))+(pa.valueOf()!==this.end.valueOf())}hasSame(C){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,C):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(C){return this.isValid?this.s>C:!1}isBefore(C){return this.isValid?
this.e<=C:!1}contains(C){return this.isValid?this.s<=C&&this.e>C:!1}set({start:C,end:O}={}){return this.isValid?Ab.fromDateTimes(C||this.s,O||this.e):this}splitAt(...C){if(!this.isValid)return[];C=C.map(Nb).filter(Na=>this.contains(Na)).sort((Na,Qa)=>Na.toMillis()-Qa.toMillis());const O=[];let {s:aa}=this,pa=0;for(;aa<this.e;){var Aa=C[pa]||this.e;Aa=+Aa>+this.e?this.e:Aa;O.push(Ab.fromDateTimes(aa,Aa));aa=Aa;pa+=1}return O}splitBy(C){C=rb.fromDurationLike(C);if(!this.isValid||!C.isValid||0===C.as("milliseconds"))return[];
let {s:O}=this,aa=1;const pa=[];for(;O<this.e;){var Aa=this.start.plus(C.mapUnits(Na=>Na*aa));Aa=+Aa>+this.e?this.e:Aa;pa.push(Ab.fromDateTimes(O,Aa));O=Aa;aa+=1}return pa}divideEqually(C){return this.isValid?this.splitBy(this.length()/C).slice(0,C):[]}overlaps(C){return this.e>C.s&&this.s<C.e}abutsStart(C){return this.isValid?+this.e===+C.s:!1}abutsEnd(C){return this.isValid?+C.e===+this.s:!1}engulfs(C){return this.isValid?this.s<=C.s&&this.e>=C.e:!1}equals(C){return this.isValid&&C.isValid?this.s.equals(C.s)&&
this.e.equals(C.e):!1}intersection(C){if(!this.isValid)return this;const O=this.s>C.s?this.s:C.s;C=this.e<C.e?this.e:C.e;return O>=C?null:Ab.fromDateTimes(O,C)}union(C){return this.isValid?Ab.fromDateTimes(this.s<C.s?this.s:C.s,this.e>C.e?this.e:C.e):this}static merge(C){const [O,aa]=C.sort((pa,Aa)=>pa.s-Aa.s).reduce(([pa,Aa],Na)=>Aa?Aa.overlaps(Na)||Aa.abutsStart(Na)?[pa,Aa.union(Na)]:[pa.concat([Aa]),Na]:[pa,Na],[[],null]);aa&&O.push(aa);return O}static xor(C){let O=null,aa=0;const pa=[];C=C.map(Aa=>
[{time:Aa.s,type:"s"},{time:Aa.e,type:"e"}]);C=Array.prototype.concat(...C).sort((Aa,Na)=>Aa.time-Na.time);for(const Aa of C)aa+="s"===Aa.type?1:-1,1===aa?O=Aa.time:(O&&+O!==+Aa.time&&pa.push(Ab.fromDateTimes(O,Aa.time)),O=null);return Ab.merge(pa)}difference(...C){return Ab.xor([this].concat(C)).map(O=>this.intersection(O)).filter(O=>O&&!O.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?
`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(C=Pa,O={}){return this.isValid?Ob.create(this.s.loc.clone(O),C).formatInterval(this):"Invalid Interval"}toISO(C){return this.isValid?`${this.s.toISO(C)}/${this.e.toISO(C)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(C){return this.isValid?`${this.s.toISOTime(C)}/${this.e.toISOTime(C)}`:
"Invalid Interval"}toFormat(C,{separator:O=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(C)}${O}${this.e.toFormat(C)}`:"Invalid Interval"}toDuration(C,O){return this.isValid?this.e.diff(this.s,C,O):rb.invalid(this.invalidReason)}mapEndpoints(C){return Ab.fromDateTimes(C(this.s),C(this.e))}}class Rc{static hasDST(C=Ka.defaultZone){const O=hb.now().setZone(C).set({month:12});return!C.isUniversal&&O.offset!==O.set({month:6}).offset}static isValidIANAZone(C){return cc.isValidZone(C)}static normalizeZone(C){return g(C,
Ka.defaultZone)}static getStartOfWeek({locale:C=null,locObj:O=null}={}){return(O||sb.create(C)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:C=null,locObj:O=null}={}){return(O||sb.create(C)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:C=null,locObj:O=null}={}){return(O||sb.create(C)).getWeekendDays().slice()}static months(C="long",{locale:O=null,numberingSystem:aa=null,locObj:pa=null,outputCalendar:Aa="gregory"}={}){return(pa||sb.create(O,aa,Aa)).months(C)}static monthsFormat(C=
"long",{locale:O=null,numberingSystem:aa=null,locObj:pa=null,outputCalendar:Aa="gregory"}={}){return(pa||sb.create(O,aa,Aa)).months(C,!0)}static weekdays(C="long",{locale:O=null,numberingSystem:aa=null,locObj:pa=null}={}){return(pa||sb.create(O,aa,null)).weekdays(C)}static weekdaysFormat(C="long",{locale:O=null,numberingSystem:aa=null,locObj:pa=null}={}){return(pa||sb.create(O,aa,null)).weekdays(C,!0)}static meridiems({locale:C=null}={}){return sb.create(C).meridiems()}static eras(C="short",{locale:O=
null}={}){return sb.create(O,null,"gregory").eras(C)}static features(){return{relative:J(),localeWeek:K()}}}const Yc=`[ ${String.fromCharCode(160)}]`,Sc=new RegExp(Yc,"g"),ld={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},
timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Zc=null;class Xc{constructor(C,O){this.locale=C;this.format=O;this.tokens=Cb(Ob.parseFormat(O),C);this.units=this.tokens.map(aa=>pb(aa,C));this.disqualifyingUnit=this.units.find(aa=>aa.invalidReason);if(!this.disqualifyingUnit){const [aa,pa]=lb(this.units);this.regex=RegExp(aa,"i");this.handlers=pa}}explainFromTokens(C){if(this.isValid){{var O=this.handlers;const Xa=C.match(this.regex);if(Xa){const ab={};let jb=1;for(const gb in O)if(N(O,gb)){const ib=
O[gb],tb=ib.groups?ib.groups+1:1;!ib.literal&&ib.token&&(ab[ib.token.val[0]]=ib.deser(Xa.slice(jb,jb+tb)));jb+=tb}O=[Xa,ab]}else O=[Xa,{}]}const [aa,pa]=O,[Aa,Na,Qa]=pa?Xb(pa):[null,null,void 0];if(N(pa,"a")&&N(pa,"H"))throw new Za("Can't include meridiem when specifying 24-hour format");return{input:C,tokens:this.tokens,regex:this.regex,rawMatches:aa,matches:pa,result:Aa,zone:Na,specificOffset:Qa}}return{input:C,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?
this.disqualifyingUnit.invalidReason:null}}const ad={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Jd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Kd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},$c="year month day hour minute second millisecond".split(" "),Ld="weekYear weekNumber weekday hour minute second millisecond".split(" "),Md="year ordinal hour minute second millisecond".split(" ");let Kc,Jc={};class hb{constructor(C){const O=C.zone||Ka.defaultZone;let aa=C.invalid||
(Number.isNaN(C.ts)?new Sa("invalid input"):null)||(O.isValid?null:yb(O));this.ts=y(C.ts)?Ka.now():C.ts;let pa=null;var Aa=null;aa||(C.old&&C.old.ts===this.ts&&C.old.zone.equals(O)?[pa,Aa]=[C.old.c,C.old.o]:(Aa=B(C.o)&&!C.old?C.o:O.offset(this.ts),pa=Qb(this.ts,Aa),pa=(aa=Number.isNaN(pa.year)?new Sa("invalid input"):null)?null:pa,Aa=aa?null:Aa));this._zone=O;this.loc=C.loc||sb.create();this.invalid=aa;this.localWeekData=this.weekData=null;this.c=pa;this.o=Aa;this.isLuxonDateTime=!0}static now(){return new hb({})}static local(){const [C,
O]=Bb(arguments),[aa,pa,Aa,Na,Qa,Xa,ab]=O;return nb({year:aa,month:pa,day:Aa,hour:Na,minute:Qa,second:Xa,millisecond:ab},C)}static utc(){const [C,O]=Bb(arguments),[aa,pa,Aa,Na,Qa,Xa,ab]=O;C.zone=Fb.utcInstance;return nb({year:aa,month:pa,day:Aa,hour:Na,minute:Qa,second:Xa,millisecond:ab},C)}static fromJSDate(C,O={}){C="[object Date]"===Object.prototype.toString.call(C)?C.valueOf():NaN;if(Number.isNaN(C))return hb.invalid("invalid input");const aa=g(O.zone,Ka.defaultZone);return aa.isValid?new hb({ts:C,
zone:aa,loc:sb.fromObject(O)}):hb.invalid(yb(aa))}static fromMillis(C,O={}){if(B(C))return-864E13>C||864E13<C?hb.invalid("Timestamp out of range"):new hb({ts:C,zone:g(O.zone,Ka.defaultZone),loc:sb.fromObject(O)});throw new ka(`fromMillis requires a numerical input, but received a ${typeof C} with value ${C}`);}static fromSeconds(C,O={}){if(B(C))return new hb({ts:1E3*C,zone:g(O.zone,Ka.defaultZone),loc:sb.fromObject(O)});throw new ka("fromSeconds requires a numerical input");}static fromObject(C,O=
{}){C=C||{};var aa=g(O.zone,Ka.defaultZone);if(!aa.isValid)return hb.invalid(yb(aa));const pa=sb.fromObject(O),Aa=ya(C,Oa),{minDaysInFirstWeek:Na,startOfWeek:Qa}=w(Aa,pa);var Xa=Ka.now();O=y(O.specificOffset)?aa.offset(Xa):O.specificOffset;var ab=!y(Aa.ordinal),jb=!y(Aa.year),gb=!y(Aa.month)||!y(Aa.day);jb=jb||gb;var ib=Aa.weekYear||Aa.weekNumber;if((jb||ab)&&ib)throw new Za("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(gb&&ab)throw new Za("Can't mix ordinal dates with month/day");
gb=ib||Aa.weekday&&!jb;let tb=Qb(Xa,O);gb?(Xa=Ld,ib=Jd,tb=m(tb,Na,Qa)):ab?(Xa=Md,ib=Kd,tb=A(tb)):(Xa=$c,ib=ad);let Ib=!1;for(var Jb of Xa)y(Aa[Jb])?Aa[Jb]=Ib?ib[Jb]:tb[Jb]:Ib=!0;gb?Jb=z(Aa,Na,Qa):ab?(Jb=E(Aa.year),Xa=W(Aa.ordinal,1,Y(Aa.year)?366:365),Jb=Jb?Xa?!1:r("ordinal",Aa.ordinal):r("year",Aa.year)):Jb=k(Aa);if(Jb=Jb||x(Aa))return hb.invalid(Jb);ab=gb?v(Aa,Na,Qa):ab?t(Aa):Aa;const [ic,Bc]=Pb(ab,O,aa);aa=new hb({ts:ic,zone:aa,o:Bc,loc:pa});return Aa.weekday&&jb&&C.weekday!==aa.weekday?hb.invalid("mismatched weekday",
`you can't specify both a weekday of ${Aa.weekday} and a date of ${aa.toISO()}`):aa.isValid?aa:hb.invalid(aa.invalid)}static fromISO(C,O={}){const [aa,pa]=Ga(C,[wd,fd],[xd,Ad],[yd,Bd],[zd,Cd]);return Kb(aa,pa,O,"ISO 8601",C)}static fromRFC2822(C,O={}){const [aa,pa]=Ga(C.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[sd,La]);return Kb(aa,pa,O,"RFC 2822",C)}static fromHTTP(C,O={}){const [aa,pa]=Ga(C,[td,ca],[ud,ca],[vd,va]);return Kb(aa,pa,O,"HTTP",O)}static fromFormat(C,O,aa={}){if(y(C)||
y(O))throw new ka("fromFormat requires an input string and a format");const {locale:pa=null,numberingSystem:Aa=null}=aa;var Na=sb.fromOpts({locale:pa,numberingSystem:Aa,defaultToEN:!0});Na=(new Xc(Na,O)).explainFromTokens(C);const {result:Qa,zone:Xa,specificOffset:ab,invalidReason:jb}=Na,[gb,ib,tb,Ib]=[Qa,Xa,ab,jb];return Ib?hb.invalid(Ib):Kb(gb,ib,aa,`format ${O}`,C,tb)}static fromString(C,O,aa={}){return hb.fromFormat(C,O,aa)}static fromSQL(C,O={}){const [aa,pa]=Ga(C,[Ed,fd],[Fd,Gd]);return Kb(aa,
pa,O,"SQL",C)}static invalid(C,O=null){if(!C)throw new ka("need to specify a reason the DateTime is invalid");C=C instanceof Sa?C:new Sa(C,O);if(Ka.throwOnInvalid)throw new db(C);return new hb({invalid:C})}static isDateTime(C){return C&&C.isLuxonDateTime||!1}static parseFormatForOpts(C,O={}){return(C=mb(C,sb.fromObject(O)))?C.map(aa=>aa?aa.val:null).join(""):null}static expandFormat(C,O={}){return Cb(Ob.parseFormat(C),sb.fromObject(O)).map(aa=>aa.val).join("")}static resetCache(){Kc=void 0;Jc={}}get(C){return this[C]}get isValid(){return null===
this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?
Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Sb(this).weekYear:NaN}get weekNumber(){return this.isValid?Sb(this).weekNumber:NaN}get weekday(){return this.isValid?Sb(this).weekday:
NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?vb(this).weekday:NaN}get localWeekNumber(){return this.isValid?vb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?vb(this).weekYear:NaN}get ordinal(){return this.isValid?A(this.c).ordinal:NaN}get monthShort(){return this.isValid?Rc.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Rc.months("long",{locObj:this.loc})[this.month-
1]:null}get weekdayShort(){return this.isValid?Rc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Rc.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?
this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];var C=da(this.c),O=this.zone.offset(C-864E5),aa=this.zone.offset(C+864E5);O=this.zone.offset(C-6E4*O);var pa=this.zone.offset(C-6E4*aa);if(O===pa)return[this];aa=C-6E4*O;C-=6E4*pa;O=Qb(aa,O);pa=Qb(C,pa);return O.hour===pa.hour&&O.minute===pa.minute&&O.second===pa.second&&O.millisecond===
pa.millisecond?[Tb(this,{ts:aa}),Tb(this,{ts:C})]:[this]}get isInLeapYear(){return Y(this.year)}get daysInMonth(){return ja(this.year,this.month)}get daysInYear(){return this.isValid?Y(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?sa(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?sa(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(C={}){const {locale:O,numberingSystem:aa,calendar:pa}=Ob.create(this.loc.clone(C),
C).resolvedOptions(this);return{locale:O,numberingSystem:aa,outputCalendar:pa}}toUTC(C=0,O={}){return this.setZone(Fb.instance(C),O)}toLocal(){return this.setZone(Ka.defaultZone)}setZone(C,{keepLocalTime:O=!1,keepCalendarTime:aa=!1}={}){C=g(C,Ka.defaultZone);if(C.equals(this.zone))return this;if(C.isValid){let pa=this.ts;if(O||aa)O=C.offset(this.ts),aa=this.toObject(),[pa]=Pb(aa,O,C);return Tb(this,{ts:pa,zone:C})}return hb.invalid(yb(C))}reconfigure({locale:C,numberingSystem:O,outputCalendar:aa}=
{}){C=this.loc.clone({locale:C,numberingSystem:O,outputCalendar:aa});return Tb(this,{loc:C})}setLocale(C){return this.reconfigure({locale:C})}set(C){if(!this.isValid)return this;C=ya(C,Oa);const {minDaysInFirstWeek:O,startOfWeek:aa}=w(C,this.loc);var pa=!y(C.weekYear)||!y(C.weekNumber)||!y(C.weekday);const Aa=!y(C.ordinal),Na=!y(C.year),Qa=!y(C.month)||!y(C.day),Xa=C.weekYear||C.weekNumber;if((Na||Qa||Aa)&&Xa)throw new Za("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Qa&&
Aa)throw new Za("Can't mix ordinal dates with month/day");pa?pa=v({...m(this.c,O,aa),...C},O,aa):y(C.ordinal)?(pa={...this.toObject(),...C},y(C.day)&&(pa.day=Math.min(ja(pa.year,pa.month),pa.day))):pa=t({...A(this.c),...C});const [ab,jb]=Pb(pa,this.o,this.zone);return Tb(this,{ts:ab,o:jb})}plus(C){if(!this.isValid)return this;C=rb.fromDurationLike(C);return Tb(this,Wb(this,C))}minus(C){if(!this.isValid)return this;C=rb.fromDurationLike(C).negate();return Tb(this,Wb(this,C))}startOf(C,{useLocaleWeeks:O=
!1}={}){if(!this.isValid)return this;const aa={};C=rb.normalizeUnit(C);switch(C){case "years":aa.month=1;case "quarters":case "months":aa.day=1;case "weeks":case "days":aa.hour=0;case "hours":aa.minute=0;case "minutes":aa.second=0;case "seconds":aa.millisecond=0}if("weeks"===C)if(O){O=this.loc.getStartOfWeek();const {weekday:pa}=this;pa<O&&(aa.weekNumber=this.weekNumber-1);aa.weekday=O}else aa.weekday=1;"quarters"===C&&(aa.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(aa)}endOf(C,O){return this.isValid?
this.plus({[C]:1}).startOf(C,O).minus(1):this}toFormat(C,O={}){return this.isValid?Ob.create(this.loc.redefaultToEN(O)).formatDateTimeFromString(this,C):"Invalid DateTime"}toLocaleString(C=Pa,O={}){return this.isValid?Ob.create(this.loc.clone(O),C).formatDateTime(this):"Invalid DateTime"}toLocaleParts(C={}){return this.isValid?Ob.create(this.loc.clone(C),C).formatDateTimeParts(this):[]}toISO({format:C="extended",suppressSeconds:O=!1,suppressMilliseconds:aa=!1,includeOffset:pa=!0,extendedZone:Aa=!1}=
{}){if(!this.isValid)return null;C="extended"===C;let Na=Rb(this,C);return Na=Na+"T"+Lb(this,C,O,aa,pa,Aa)}toISODate({format:C="extended"}={}){return this.isValid?Rb(this,"extended"===C):null}toISOWeekDate(){return Eb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:C=!1,suppressSeconds:O=!1,includeOffset:aa=!0,includePrefix:pa=!1,extendedZone:Aa=!1,format:Na="extended"}={}){return this.isValid?(pa?"T":"")+Lb(this,"extended"===Na,O,C,aa,Aa):null}toRFC2822(){return Eb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",
!1)}toHTTP(){return Eb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Rb(this,!0):null}toSQLTime({includeOffset:C=!0,includeZone:O=!1,includeOffsetSpace:aa=!0}={}){let pa="HH:mm:ss.SSS";if(O||C)aa&&(pa+=" "),O?pa+="z":C&&(pa+="ZZ");return Eb(this,pa,!0)}toSQL(C={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(C)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:
`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(C={}){if(!this.isValid)return{};const O={...this.c};C.includeConfig&&(O.outputCalendar=this.outputCalendar,O.numberingSystem=this.loc.numberingSystem,O.locale=this.loc.locale);return O}toJSDate(){return new Date(this.isValid?
this.ts:NaN)}diff(C,O="milliseconds",aa={}){if(!this.isValid||!C.isValid)return rb.invalid("created by diffing an invalid DateTime");aa={locale:this.locale,numberingSystem:this.numberingSystem,...aa};const pa=(Array.isArray(O)?O:[O]).map(rb.normalizeUnit);O=C.valueOf()>this.valueOf();C=Ma(O?this:C,O?C:this,pa,aa);return O?C.negate():C}diffNow(C="milliseconds",O={}){return this.diff(hb.now(),C,O)}until(C){return this.isValid?Ab.fromDateTimes(this,C):this}hasSame(C,O,aa){if(!this.isValid)return!1;const pa=
C.valueOf();C=this.setZone(C.zone,{keepLocalTime:!0});return C.startOf(O,aa)<=pa&&pa<=C.endOf(O,aa)}equals(C){return this.isValid&&C.isValid&&this.valueOf()===C.valueOf()&&this.zone.equals(C.zone)&&this.loc.equals(C.loc)}toRelative(C={}){if(!this.isValid)return null;const O=C.base||hb.fromObject({},{zone:this.zone}),aa=C.padding?this<O?-C.padding:C.padding:0;let pa="years months days hours minutes seconds".split(" "),Aa=C.unit;Array.isArray(C.unit)&&(pa=C.unit,Aa=void 0);return Ub(O,this.plus(aa),
{...C,numeric:"always",units:pa,unit:Aa})}toRelativeCalendar(C={}){return this.isValid?Ub(C.base||hb.fromObject({},{zone:this.zone}),this,{...C,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...C){if(!C.every(hb.isDateTime))throw new ka("min requires all arguments be DateTimes");return H(C,O=>O.valueOf(),Math.min)}static max(...C){if(!C.every(hb.isDateTime))throw new ka("max requires all arguments be DateTimes");return H(C,O=>O.valueOf(),Math.max)}static fromFormatExplain(C,
O,aa={}){const {locale:pa=null,numberingSystem:Aa=null}=aa;aa=sb.fromOpts({locale:pa,numberingSystem:Aa,defaultToEN:!0});return(new Xc(aa,O)).explainFromTokens(C)}static fromStringExplain(C,O,aa={}){return hb.fromFormatExplain(C,O,aa)}static buildFormatParser(C,O={}){const {locale:aa=null,numberingSystem:pa=null}=O;O=sb.fromOpts({locale:aa,numberingSystem:pa,defaultToEN:!0});return new Xc(O,C)}static fromFormatParser(C,O,aa={}){if(y(C)||y(O))throw new ka("fromFormatParser requires an input string and a format parser");
const {locale:pa=null,numberingSystem:Aa=null}=aa,Na=sb.fromOpts({locale:pa,numberingSystem:Aa,defaultToEN:!0});if(!Na.equals(O.locale))throw new ka(`fromFormatParser called with a locale of ${Na}, `+`but the format parser was created for ${O.locale}`);const {result:Qa,zone:Xa,specificOffset:ab,invalidReason:jb}=O.explainFromTokens(C);return jb?hb.invalid(jb):Kb(Qa,Xa,aa,`format ${O.format}`,C,ab)}static get DATE_SHORT(){return Pa}static get DATE_MED(){return Ra}static get DATE_MED_WITH_WEEKDAY(){return Wa}static get DATE_FULL(){return bb}static get DATE_HUGE(){return kb}static get TIME_SIMPLE(){return Db}static get TIME_WITH_SECONDS(){return ac}static get TIME_WITH_SHORT_OFFSET(){return fc}static get TIME_WITH_LONG_OFFSET(){return Gb}static get TIME_24_SIMPLE(){return kc}static get TIME_24_WITH_SECONDS(){return Hb}static get TIME_24_WITH_SHORT_OFFSET(){return gc}static get TIME_24_WITH_LONG_OFFSET(){return hc}static get DATETIME_SHORT(){return dc}static get DATETIME_SHORT_WITH_SECONDS(){return nc}static get DATETIME_MED(){return $b}static get DATETIME_MED_WITH_SECONDS(){return xb}static get DATETIME_MED_WITH_WEEKDAY(){return Lc}static get DATETIME_FULL(){return ec}static get DATETIME_FULL_WITH_SECONDS(){return Cc}static get DATETIME_HUGE(){return sc}static get DATETIME_HUGE_WITH_SECONDS(){return Dc}}
a.DateTime=hb;a.Duration=rb;a.FixedOffsetZone=Fb;a.IANAZone=cc;a.Zone=Yb})},"esri/intl/number":function(){define(["exports","./locale"],function(a,b){function c(e){const g=e||n;if(!d.has(g)){var h=b.getLocale();h=f[b.getLocale()]||h;d.set(g,new Intl.NumberFormat(h,e))}return d.get(g)}const f={ar:"ar-u-nu-latn"};let d=new WeakMap,n={};b.beforeLocaleChange(()=>{d=new WeakMap;n={}});const q=new Map;a.convertNumberFormatToIntlOptions=function(e={}){const g={};null!=e.digitSeparator&&(g.useGrouping=e.digitSeparator);
null!=e.places&&(g.minimumFractionDigits=g.maximumFractionDigits=e.places);return g};a.formatNumber=function(e,g){Object.is(e,-0)&&(e=0);return c(g).format(e)};a.getFormatter=c;a.parseNumber=function(e,g=b.getLocale()){if(!e)return null;var h=q.get(g);if(!h){h=c().formatToParts(12345.6);const r=[...c({useGrouping:!1}).format(9876543210)].reverse(),u=new Map(r.map((t,w)=>[t,w])),p=new RegExp(`[${h.find(t=>"group"===t.type)?.value}]`,"g"),l=new RegExp(`[${h.find(t=>"decimal"===t.type)?.value}]`),m=
new RegExp(`[${r.join("")}]`,"g"),v=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,A=/[-\u2212\u2013\u2014\u2015]/g;h=t=>{t=t.trim().replaceAll(p,"").replace(l,".").replace(m,w=>String(u.get(w))).replaceAll(v,"").replaceAll(A,"-");if(""===t)return null;t=Number(t);return isNaN(t)?null:t};q.set(g,h)}return h(e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(a,b,c,f,d,n){function q(e){switch(typeof e){case "string":return e;case "number":return n.formatNumber(e);case "boolean":return""+e;default:return e instanceof Date?d.formatDate(e):""}}a.substitute=function(e,g,h={}){const {format:r={}}=h;return f.replace(e,u=>{{const m=u.indexOf(":");if(-1===m)var p=u.trim();else{p=u.slice(0,m).trim();var l=u.slice(m+1).trim()}if(p)if(u=c.getDeepValue(p,g),null==u)l="";else if(p=(l?r?.[l]:null)??r?.[p])b:switch(p.type){case "date":l=d.formatDate(u,p.intlOptions);
break b;case "number":l=n.formatNumber(u,p.intlOptions);break b;default:b.getLogger("esri.intl.substitute").warn("missing format descriptor for key {key}"),l=q(u)}else if(l)b:switch(l.toLowerCase()){case "dateformat":l=d.formatDate(u);break b;case "numberformat":l=n.formatNumber(u);break b;default:b.getLogger("esri.intl.substitute").warn(`inline format is unsupported since 4.12: ${l}`),l=/^(dateformat|datestring)/i.test(l)?d.formatDate(u):/^numberformat/i.test(l)?n.formatNumber(u):q(u)}else l=q(u);
else l=""}return l})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define(["exports","../request","../core/Error","./messages"],function(a,b,c,f){async function d(g,h,r,u){var p=h.exec(r);if(!p)throw new c("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${h}"`);h=p[1]?`${p[1]}/`:"";p=p[2];const l=f.normalizeMessageBundleLocale(u);u=`${h}${p}.json`;h=l?`${h}${p}_${l}.json`:u;let m;try{m=await n(g(h))}catch(v){if(h===u)throw new c("intl:unknown-bundle",
`Bundle "${r}" cannot be loaded`,{error:v});try{m=await n(g(u))}catch(A){throw new c("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:A});}}return m}async function n(g){if(null!=e.fetchBundleAsset)return e.fetchBundleAsset(g);g=await b(g,{responseType:"text"});return JSON.parse(g.data)}class q{constructor({base:g="",pattern:h,location:r=new URL(window.location.href)}){let u;u="string"===typeof r?p=>(new URL(p,new URL(r,window.location.href))).href:r instanceof URL?p=>(new URL(p,r)).href:
r;this.pattern="string"===typeof h?new RegExp(`^${h}`):h;this.getAssetUrl=u;g=g?g.endsWith("/")?g:g+"/":"";this.matcher=new RegExp(`^${g}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(g,h){return d(this.getAssetUrl,this.matcher,g,h)}}const e={};a.JSONLoader=q;a.createJSONLoader=function(g){return new q(g)};a.test=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),
function(a,b,c,f,d,n){function q(r,u){"maxScale"in r&&(u.maxScale=d.numberToJSON(r.maxScale)??void 0);"minScale"in r&&(u.minScale=d.numberToJSON(r.minScale)??void 0)}const e=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wcs wms wmts".split(" ")),g=new Set("catalog csv feature geo-rss geojson group imagery imagery-tile kml knowledge-graph map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wcs wfs wms wmts".split(" ")),
h=new Set([...g,"link-chart"]);a.disableRestrictedWriting=function(r){e.add(r);g.add(r)};a.enableRestrictedWriting=function(r){e.delete(r);g.delete(r)};a.getLayerJSON=function(r,u,p){if(!r.persistenceEnabled)return null;if(!("write"in r&&r.write))return p?.messages&&p.messages.push(new b("layer:unsupported",`Layers (${r.title}, ${r.id}) of type '${r.declaredClass}' cannot be persisted`,{layer:r})),null;if(n.isFeatureCollectionLayer(r)&&!r.isTable)u=r.resourceInfo;else{if(p.restrictedWebMapWriting){b:switch(p.layerContainerType){case "basemap":var l=
e;break b;case "operational-layers":l="link-chart"===p.origin?h:g;break b;default:l=null}l=null!=l?l.has(r.type)&&!n.isFeatureCollectionLayer(r):!0}else l=!0;if(l)return u={},r.write(u,p)?u:null}if(null!=u){u=c.clone(u);if(p=u)n.isFeatureCollectionLayer(r)?(l=f.getDeepValue("featureCollection.layers",p)?.[0]?.layerDefinition)&&q(r,l):"group"!==r.type&&q(r,p);if(p&&(p.id=r.id,"blendMode"in r&&(p.blendMode=r.blendMode,"normal"===p.blendMode&&delete p.blendMode),p.opacity=d.numberToJSON(r.opacity)??
void 0,p.title=r.title||"Layer",p.visibility=r.visible,"legendEnabled"in r&&"wmts"!==r.type))if(n.isFeatureCollectionLayer(r)){if(p=p.featureCollection)p.showLegend=r.legendEnabled}else p.showLegend=r.legendEnabled}return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(a,b,c){function f(e){return"scene"===e?.type}function d(e){return null!=e&&"object"===typeof e&&"type"in e&&"subtype-group"===
e.type&&"sublayers"in e}function n(e){e=e?.type;return"imagery-tile"===e||"tile"===e||"open-street-map"===e||"vector-tile"===e||"web-tile"===e||"wmts"===e}function q(e){if(!("capabilities"in e))return!1;switch(e.type){case "catalog":case "catalog-footprint":case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "sublayer":case "subtype-group":case "subtype-sublayer":case "wfs":return!0;default:return!1}}
a.getEffectiveEditingEnabled=function(e){a:if("editingEnabled"in e)switch(e.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var g=!0;break a;default:g=!1}else g=!1;return g?"effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled:!1};a.getEffectiveLayerCapabilities=function(e){return q(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null};a.getOwningPortalUrl=async function(e,g){var h=
b.id?.findServerInfo(e);if(null!=h?.currentVersion)return h.owningSystemUrl||null;h=e.toLowerCase().indexOf("/rest/services");if(-1===h)return null;e=`${e.slice(0,h)}/rest/info`;({data:g}=await c(e,{query:{f:"json"},responseType:"json",signal:null!=g?g.signal:null}));return g?.owningSystemUrl||null};a.getSubtypesFromLayer=function(e){return e?("subtypes"in e?e.subtypes:d(e.parent)?e.parent.subtypes:[])??[]:[]};a.getTileMaxtrixSetFromActiveLayer=function(e){if(e.activeLayer){const g=e.activeLayer.tileMatrixSet;
if(g)return g;if(e=e.activeLayer.tileMatrixSets)return e}return null};a.isBaseLayer=function(e){return null!=e?.parent&&"declaredClass"in e.parent&&"esri.Basemap"===e.parent.declaredClass&&e.parent.baseLayers.includes(e)};a.isBasemap3DSupportedLayer=function(e){return n(e)||f(e)};a.isBasemapSupportedTiledLayer=n;a.isFeatureCollectionLayer=function(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type};a.isFeatureLayer=function(e){return null!=e&&"object"===typeof e&&"type"in e&&"feature"===
e.type};a.isFeatureServiceLayer=function(e){return"feature"===e?.type&&"feature-layer"===e.source?.type};a.isGraphicsLayer=function(e){return null!=e&&"object"===typeof e&&"type"in e&&"graphics"===e.type};a.isGroupLayer=function(e){return null!=e&&"type"in e&&"group"===e.type};a.isImageryTileLayer=function(e){return"imagery-tile"===e?.type};a.isIntegratedMeshLayer=function(e){return"integrated-mesh"===e||"integrated-mesh-3dtiles"===e};a.isIntegratedMeshOperationalLayer=function(e){return"IntegratedMeshLayer"===
e||"IntegratedMesh3DTilesLayer"===e};a.isKnowledgeGraphLayer=function(e){return null!=e&&"object"===typeof e&&"type"in e&&"knowledge-graph"===e.type&&"layers"in e};a.isLayerWithFeatureCapabilities=q;a.isLayerWithFeatureLayerSource=function(e){const g=e?.type;return("feature"===g||"subtype-group"===g||"oriented-imagery"===g)&&"feature-layer"===e?.source?.type};a.isLinkChartLayer=function(e){return null!=e&&"object"===typeof e&&"type"in e&&"link-chart"===e.type&&"layers"in e};a.isMapNotesLayer=function(e){return null!=
e&&"object"===typeof e&&"type"in e&&"map-notes"===e.type&&"sublayers"in e};a.isSceneLayer=f;a.isSceneServiceLayer=function(e){e=e?.type;return"building-scene"===e||"integrated-mesh"===e||"point-cloud"===e||"scene"===e};a.isSubtypeGroupLayer=d;a.isSubtypeSublayer=function(e){return"subtype-sublayer"===e?.type};a.isTable=function(e){return null!=e&&"object"===typeof e&&"isTable"in e&&!!e.isTable};a.isTiledLayer=function(e){e=e?.type;return"base-tile"===e||"tile"===e||"elevation"===e||"imagery-tile"===
e||"base-elevation"===e||"open-street-map"===e||"wcs"===e||"web-tile"===e||"wmts"===e||"vector-tile"===e};a.isVoxelLayer=function(e){return"voxel"===e?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=function(e){const g=/[:;]/,h=[];let r=!1;if(e&&(e.forEach((u,p)=>{h.push([p,u]);!r&&g.test(u)&&(r=!0)}),0<h.length)){if(r){const u={};h.forEach(p=>
{u[p[0]]=p[1]});e=JSON.stringify(u)}else{const u=[];h.forEach(p=>{u.push(p[0]+":"+p[1])});e=u.join(";")}return e}return null};a.serializeTimeOptions=function(e){if(e){var g=[];e.forEach((h,r)=>{g.push('"'+r+'":'+JSON.stringify(h))});if(g.length)return"{"+g.join(",")+"}"}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./support/groundInstanceUtils ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k){function x(E){return"elevation"===E.type||E&&"createElevationSampler"in E}var y;e=y=class extends e.JSONSupportMixin(h){constructor(E){super(E);this[B]=!0;this.opacity=1;this.navigationConstraint=this.surfaceColor=null;this.layers=new f;const J=K=>{K.parent&&K.parent!==this&&"remove"in K.parent&&K.parent.remove(K);K.parent=this;"elevation"!==K.type&&"base-elevation"!==K.type&&u.getLogger(this).error(`Layer '${K.title}, id:${K.id}' of type '${K.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};
this.addHandles([this.layers.on("after-add",K=>J(K.item)),this.layers.on("after-remove",K=>{K.item.parent=null})])}initialize(){this.when().catch(E=>{l.isAbortError(E)||u.getLogger(this).error("#load()","Failed to load ground",E)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const E=this.layers.removeAll();for(const J of E)p.destroyMaybe(J);this.layers.destroy()}normalizeCtorArgs(E){E&&"resourceInfo"in E&&(this._set("resourceInfo",E.resourceInfo),E={...E},
delete E.resourceInfo);return E}get layers(){return this._get("layers")}set layers(E){this._set("layers",d.referenceSetter(E,this._get("layers")))}writeLayers(E,J,K,H){const F=[];E&&(H={...H,layerContainerType:"ground"},E.forEach(N=>{if("write"in N){const S={};n.typeCast(N)().write(S,H)&&F.push(S)}else H?.messages&&H.messages.push(new q("layer:unsupported",`Layers (${N.title}, ${N.id}) of type '${N.declaredClass}' cannot be persisted in the ground`,{layer:N}))}));J.layers=F}load(E){this.addResolvingPromise(this._loadFromSource(E));
return Promise.resolve(this)}loadAll(){return r.loadAll(this,E=>{E(this.layers)})}async queryElevation(E,J){await this.load({signal:J?.signal});var {ElevationQuery:K}=await new Promise((F,N)=>a(["./layers/support/ElevationQuery"],F,N));l.throwIfAborted(J);K=new K;const H=this.layers.filter(x).toArray();return K.queryAll(H,E,J)}async createElevationSampler(E,J){await this.load({signal:J?.signal});var {ElevationQuery:K}=await new Promise((F,N)=>a(["./layers/support/ElevationQuery"],F,N));l.throwIfAborted(J);
K=new K;const H=this.layers.filter(x).toArray();return K.createSamplerAll(H,E,J)}clone(){const E={opacity:this.opacity,surfaceColor:g.clone(this.surfaceColor),navigationConstraint:g.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(E.loadStatus="loaded");return(new y({resourceInfo:this.resourceInfo})).set(E)}read(E,J){this.resourceInfo||this._set("resourceInfo",{data:E,context:J});super.read(E,J)}_loadFromSource(E){const J=this.resourceInfo;return J?this._loadLayersFromJSON(J.data,
J.context,E):Promise.resolve()}async _loadLayersFromJSON(E,J,K){const H=J?.origin||"web-scene",F=J?.portal||null;J=J?.url||null;const {populateOperationalLayers:N}=await new Promise((S,W)=>a(["./layers/support/layersCreator"],S,W));l.throwIfAborted(K);K=[];E.layers&&Array.isArray(E.layers)&&K.push(N(this.layers,E.layers,{context:{origin:H,url:J,portal:F,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));await Promise.allSettled(K)}};var B=z.GroundSymbol;b.__decorate([m.property({json:{read:!1,
write:{isRequired:!0}}})],e.prototype,"layers",null);b.__decorate([t.writer("layers")],e.prototype,"writeLayers",null);b.__decorate([m.property({readOnly:!0})],e.prototype,"resourceInfo",void 0);b.__decorate([m.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:v.Integer,read:{reader:k.transparencyToOpacity,source:"transparency"},write:{writer:(E,J)=>{J.transparency=k.opacityToTransparency(E)},target:"transparency"}}})],e.prototype,"opacity",void 0);b.__decorate([m.property({type:c,
json:{type:[v.Integer],write:(E,J)=>{J.surfaceColor=E.toJSON().slice(0,3)}}})],e.prototype,"surfaceColor",void 0);b.__decorate([m.property({type:w.NavigationConstraint,json:{write:!0}})],e.prototype,"navigationConstraint",void 0);return e=y=b.__decorate([A.subclass("esri.Ground")],e)})},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,c){function f(e){return b.clamp(c.ensureInteger(e),0,255)}function d(e,g,h){e=Number(e);return isNaN(e)?
h:e<g?g:e>h?h:e}function n(e,g){e=e.toString(16).padStart(2,"0");return g?e.slice(0,1):e}class q{static blendColors(e,g,h,r=new q){r.r=Math.round(e.r+(g.r-e.r)*h);r.g=Math.round(e.g+(g.g-e.g)*h);r.b=Math.round(e.b+(g.b-e.b)*h);r.a=e.a+(g.a-e.a)*h;return r._sanitize()}static fromRgb(e,g){var h=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(h){e=h[2].split(/\s*,\s*/);h=h[1];if("rgb"===h&&3===e.length||"rgba"===h&&4===e.length)return h=e[0],"%"===h.charAt(h.length-1)?(h=e.map(r=>2.56*
parseFloat(r)),4===e.length&&(h[3]=parseFloat(e[3])),q.fromArray(h,g)):q.fromArray(e.map(r=>parseFloat(r)),g);if("hsl"===h&&3===e.length||"hsla"===h&&4===e.length)return q.fromArray(a.hsla2rgba(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),g)}return null}static fromHex(e,g=new q){if("#"!==e[0]||isNaN(Number(`0x${e.slice(1)}`)))return null;switch(e.length){case 4:case 5:var h=parseInt(e.slice(1,2),16),r=parseInt(e.slice(2,3),16),u=parseInt(e.slice(3,4),16);e=5===e.length?
15:parseInt(e.slice(4),16);return q.fromArray([h+16*h,r+16*r,u+16*u,(e+16*e)/255],g);case 7:case 9:return h=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),u=parseInt(e.slice(5,7),16),e=7===e.length?255:parseInt(e.slice(7),16),q.fromArray([h,r,u,e/255],g);default:return null}}static fromArray(e,g=new q){g._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]));isNaN(g.a)&&(g.a=1);return g._sanitize()}static fromString(e,g){const h=a.isNamedColor(e)?a.getNamedColor(e):null;return h&&q.fromArray(h,
g)||q.fromRgb(e,g)||q.fromHex(e,g)}static fromJSON(e){return null!=e?new q([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.b=this.g=this.r=255;this.a=1;e&&this.setColor(e)}get isBright(){return 127<=.299*this.r+.587*this.g+.114*this.b}setColor(e){"string"===typeof e?q.fromString(e,this):Array.isArray(e)?q.fromArray(e,this):(this._set(e.r??
0,e.g??0,e.b??0,e.a??1),e instanceof q||this._sanitize());return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const g=e?.capitalize??!1;var h=e?.digits??6;e=3===h||4===h;const r=4===h||8===h;h=n(this.r,e);const u=n(this.g,e),p=n(this.b,e);e=r?n(Math.round(255*this.a),e):"";e=`#${h}${u}${p}${e}`;return g?e.toUpperCase():e}toCss(e=!1){const g=this.r+", "+this.g+", "+this.b;return e?`rgba(${g}, ${this.a})`:`rgb(${g})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=
q.AlphaMode.ALWAYS){const g=f(this.r),h=f(this.g),r=f(this.b);return e===q.AlphaMode.ALWAYS||1!==this.a?[g,h,r,f(255*this.a)]:[g,h,r]}clone(){return new q(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){this.r=Math.round(d(this.r,0,255));this.g=Math.round(d(this.g,0,255));this.b=Math.round(d(this.b,0,255));this.a=d(this.a,0,1);return this}_set(e,g,h,r){this.r=e;this.g=g;this.b=h;this.a=
r}}q.prototype.declaredClass="esri.Color";(function(e){e=e.AlphaMode||(e.AlphaMode={});e[e.ALWAYS=0]="ALWAYS";e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(q);return q})},"esri/colorUtils":function(){define(["exports"],function(a){function b(d){return f[d]??f[d.toLowerCase()]}function c(d,n,q){0>q&&++q;1<q&&--q;const e=6*q;return 1>e?d+(n-d)*e:1>2*q?n:2>3*q?d+(n-d)*(2/3-q)*6:d}const f={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,
1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,
255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,
1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,
240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,
1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,
25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,
51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,
222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.colorGamma=2.2;a.getNamedColor=b;a.getNamedColorCopy=function(d){return[...b(d)]};a.hex2rgba=function(d){var n=5<d.length;const q=n?8:4,e=(1<<q)-1,g=n?1:17;n=n?9===d.length:5===d.length;d=Number("0x"+d.slice(1));if(isNaN(d))return null;const h=[0,0,0,1];n&&(n=d&e,d>>=q,h[3]=g*n/255);n=d&e;d>>=q;h[2]=g*n;n=d&e;d>>=q;h[1]=g*n;n=d&e;d>>=q;h[0]=g*n;return h};a.hsla2rgba=function(d,n,q,e=1){d=(d%360+360)%360/360;n=.5>=q?q*(n+1):q+n-q*
n;q=2*q-n;return[Math.round(255*c(q,n,d+1/3)),Math.round(255*c(q,n,d)),Math.round(255*c(q,n,d-1/3)),e]};a.isNamedColor=function(d){return!!f[d]||!!f[d.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports"],function(a){function b(l,m,v){return Math.min(Math.max(l,m),v)}function c(l,m,v){return l+(m-l)*v}function f(l,m,v=1E-6){return l===m?!0:Number.isFinite(l)&&Number.isFinite(m)?(l>m?l-m:m-l)<=v:!1}function d(l){h.setFloat64(0,
l);return h.getBigInt64(0)}function n(l){h.setBigInt64(0,l);return h.getFloat64(0)}function q(l){l=Math.abs(l);var m=d(l);m=m<=r?n(r):n(m-r);return Math.abs(l-m)}function e(l){g[0]=l;return g[0]}const g=new Float32Array(1),h=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),r=BigInt("1000000"),u=q(1),p=e(3.4028234663852886E38);a.acosClamped=function(l){return Math.acos(b(l,-1,1))};a.asinClamped=function(l){return Math.asin(b(l,-1,1))};a.clamp=b;a.clampFloat32=function(l){return e(Math.max(-p,
Math.min(l,p)))};a.decimalAdjust=function(l,m,v){if(void 0===v||0===+v)return Math[l](m);m=+m;v=+v;if(isNaN(m)||"number"!==typeof v||0!==v%1)return NaN;m=m.toString().split("e");m=Math[l](+(m[0]+"e"+(m[1]?+m[1]-v:-v)));m=m.toString().split("e");return+(m[0]+"e"+(m[1]?+m[1]+v:v))};a.deg2rad=function(l){return l*Math.PI/180};a.floatEqualAbsolute=f;a.floatEqualRelative=function(l,m,v=1E-6){if(l===m)return!0;if(!Number.isFinite(l)||!Number.isFinite(m))return!1;const A=Math.abs(l-m),t=Math.abs(l),w=Math.abs(m);
if(0===l||0===m||1E-12>t&&1E-12>w){if(A>.01*v)return!1}else if(A/(t+w)>v)return!1;return!0};a.floatEqualUlp=function(l,m,v=u){if(l===m)return!0;if(!Number.isFinite(l)||!Number.isFinite(m))return!1;if(null!=v&&q(Math.min(Math.abs(l),Math.abs(m)))<v)return Math.abs(l-m)<=v;l=d(l);m=d(m);return 0>l!==0>m||(l<m?m-l:l-m)>r?!1:!0};a.floatGreaterThan=function(l,m,v=1E-6){return!f(l,m,v)&&l>m};a.floatGreaterThanOrEqual=function(l,m,v=1E-6){return f(l,m,v)||l>m};a.floatLessThan=function(l,m,v=1E-6){return!f(l,
m,v)&&l<m};a.floatLessThanOrEqual=function(l,m,v=1E-6){return f(l,m,v)||l<m};a.gauss=function(l,m){return 1/Math.sqrt(2*Math.PI*m)*Math.exp(-(l*l/(2*m)))};a.hasScaling=function(l){const m=l[3]*l[3]+l[4]*l[4]+l[5]*l[5],v=l[6]*l[6]+l[7]*l[7]+l[8]*l[8];return!(f(l[0]*l[0]+l[1]*l[1]+l[2]*l[2],1)&&f(m,1)&&f(v,1))};a.isPowerOfTwo=function(l){return 0===(l&l-1)};a.lerp=c;a.moduloPositive=function(l,m){return(l%m+m)%m};a.nextHighestPowerOfTen=function(l){return 10**Math.ceil(Math.LOG10E*Math.log(l))};a.nextHighestPowerOfTwo=
function(l){--l;for(let m=1;32>m;m<<=1)l|=l>>m;return l+1};a.nextPowerOfTwo=function(l){l--;l|=l>>1;l|=l>>2;l|=l>>4;l|=l>>8;l|=l>>16;l++;return l};a.numberMaxFloat32=p;a.rad2deg=function(l){return 180*l/Math.PI};a.reciprocalClamped=function(l,m=1E-6){return(0>l?-1:1)/Math.max(Math.abs(l),m)};a.roundToNearest=function(l,m){return 0===m?0:Math.round(l/m)*m};a.scale=function(l,m,v,A,t){return c(A,t,(l-m)/(v-m))};a.smoothstep=function(l,m,v){l=b((v-l)/(m-l),0,1);return l*l*(3-2*l)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){var h;a.NavigationConstraint=h=class extends c{constructor(r){super(r);this.type="none"}clone(){return new h({type:this.type})}};b.__decorate([e.enumeration({none:"none",
stayAbove:"stay-above"}),f.property({json:{write:{isRequired:!0}}})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=h=b.__decorate([g.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(a,b,c){a.enumeration=function(f,d={}){f=f instanceof b.JSONMap?f:new b.JSONMap(f,d);const {alwaysWriteDefaults:n,
default:q,ignoreUnknown:e=!0,name:g,nonNullable:h,readOnly:r=!1}=d;return c.property({type:e?f.apiValues:String,json:{type:f.jsonValues,default:q,name:g,read:r?!1:{reader:f.read},write:{writer:f.write,alwaysWriteDefaults:n}},nonNullable:h,readOnly:r})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundInstanceUtils":function(){define(["exports"],function(a){const b=Symbol("GroundInstance");a.GroundSymbol=b;a.isGround=function(c){return null!=c&&"object"===typeof c&&
b in c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/CollectionFlattener":function(){define("../chunks/tslib.es6 ./Collection ./reactiveUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./accessorSupport/trackingUtils".split(" "),
function(a,b,c,f,d,n){let q=class extends b{constructor(e){super(e);this.getCollections=null}initialize(){this.addHandles(n.autorun(()=>this._refresh(),c.sync))}destroy(){this.getCollections=null}_refresh(){const e=null!=this.getCollections?this.getCollections():null;if(null==e)this.removeAll();else{var g=0;for(const h of e)null!=h&&(g=this._processCollection(g,h));this.splice(g,this.length)}}_createNewInstance(e){return new b(e)}_processCollection(e,g){if(!g)return e;const h=this.itemFilterFunction??
(r=>!!r);for(const r of g)if(r&&(h(r)&&(g=this.indexOf(r,e),0<=g?g!==e&&this.reorder(r,e):this.add(r,e),++e),this.getChildrenFunction))if(g=this.getChildrenFunction(r),Array.isArray(g))for(const u of g)e=this._processCollection(e,u);else e=this._processCollection(e,g);return e}};a.__decorate([f.property()],q.prototype,"getCollections",void 0);a.__decorate([f.property()],q.prototype,"getChildrenFunction",void 0);a.__decorate([f.property()],q.prototype,"itemFilterFunction",void 0);return q=a.__decorate([d.subclass("esri.core.CollectionFlattener")],
q)})},"esri/core/reactiveUtils":function(){define("exports ./asyncUtils ./Collection ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,f,d,n,q,e,g){function h(A,t,w={}){return r(A,t,w,l)}function r(A,t,w={},z){let k=null;const x=w.once?(y,B)=>{z(y)&&(n.removeMaybe(k),t(y,B))}:(y,B)=>{z(y)&&t(y,B)};k=e.watchTracked(A,x,w.sync,w.equals);w.initial&&(A=A(),x(A,A));return k}function u(A,t,w,z={}){function k(){y&&B&&(B.remove(),
z.onListenerRemove?.(y),B=y=null)}function x(K){z.once&&z.once&&n.removeMaybe(E);w(K)}let y=null,B=null,E=null;const J=h(A,(K,H)=>{k();f.isEventedOrEventTarget(K)&&(y=K,B=f.on(K,t,x),z.onListenerAdd?.(K))},{sync:z.sync,initial:!0});return E=d.makeHandle(()=>{J.remove();k()})}function p(A,t,w){if(q.isAborted(w))return Promise.reject(q.createAbortError());const z=A();if(t?.(z))return Promise.resolve(z);let k=null;return new Promise((x,y)=>{k=d.handlesGroup([q.onAbort(w,()=>{k=n.removeMaybe(k);y(q.createAbortError())}),
r(A,B=>{k=n.removeMaybe(k);x(B)},{sync:!1,once:!0},t??l)])})}function l(A){return!0}function m(A){return!!A}function v(A,t){const w=new c;A=u(A,"after-splice",({added:z,start:k,deleteCount:x})=>{x=w.splice(k,x);for(const y of x)y.remove();z?.length&&(z=z.map(t),w.addMany(z,k))},{sync:!0,onListenerRemove:()=>w.drain(z=>z.remove()),onListenerAdd:z=>w.addMany(z.items.map(t))});w.addHandles(A);return w}a.autorun=g.autorun;a.initial={initial:!0};a.mapCollection=v;a.mapCollectionAsync=function(A,t){const w=
new c,z=v(A,y=>b.createTask(async B=>{const E=await t(y,B);if(q.isAborted(B))throw E.remove(),q.createAbortError();return E})),k=()=>null,x=async y=>{const B=await y.promise;y=z.indexOf(y);0>y||w.splice(y,1,B)};w.addMany(z.items.map(k));for(const y of z)q.ignoreAbortErrors(x(y));A=z.on("after-splice",({added:y,start:B,deleteCount:E})=>{E=w.splice(B,E);for(const J of E)J?.remove();if(y?.length){w.addMany(y.map(k),B);for(const J of y)q.ignoreAbortErrors(x(J))}});w.addHandles([d.destroyHandle(z),A]);
return w};a.on=u;a.once=function(A,t){return p(A,null,t)};a.pausable=function(A,t,w={}){let z=!1;const k=h(A,(x,y)=>{z||t(x,y)},w);return{remove(){k.remove()},pause(){z=!0},resume(){z=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=h;a.when=function(A,t,w={}){return r(A,t,w,m)};a.whenOnce=function(A,t){return p(A,m,t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/editableLayers":function(){define(["exports","../catalog/catalogUtils","./layerUtils"],
function(a,b,c){a.isEditableLayer=function(f){return!(!("object"===typeof f&&null!=f&&"loaded"in f&&!0===f.loaded&&"type"in f&&c.getEffectiveLayerCapabilities(f)?.operations?.supportsEditing)||"editingEnabled"in f&&!c.getEffectiveEditingEnabled(f)||b.isLayerFromCatalog(f))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/catalog/catalogUtils":function(){define(["exports","../../core/handleUtils","../../core/reactiveUtils"],function(a,b,c){function f(n){if(n.destroyed)return!1;
d.has(n)||n.addHandles([c.watch(()=>{const q=n.parent;return q&&"type"in q?"catalog-dynamic-group"===q.type||f(q):!1},q=>d.set(n,q),c.syncAndInitial),b.makeHandle(()=>d.delete(n))]);return d.get(n)}const d=new WeakMap;a.getCatalogLayerForLayer=function(n){return n.parent&&"type"in n.parent&&"catalog-dynamic-group"===n.parent.type?n.parent.parent:null};a.isCatalogSublayer=function(n,q){const e=n.parent;var g=n.layer;return"map-image"===g?.type&&g.sourceJSON&&e?(g=g.sourceJSON.layers)?g.find(h=>n.id===
h.id)?.type!==("footprints"===q?"Feature Layer":"Catalog Dynamic Group Layer")?!1:"Catalog Layer"===g.find(h=>h.id===e.id)?.type:!1:!1};a.isLayerFromCatalog=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapEnsureType":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/accessorSupport/ensureType ./basemapDefinitions ./basemapUtils".split(" "),function(a,b,c,f,d,n,q,e,g){function h(p,l){let m;if("string"===typeof p){const v=
p in e.esriBasemapDefinitions,A=!v&&p.includes("/");if(!v&&!A)return c.apiKey?u().warn(`Unable to find basemap definition for: ${p}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`):(l=Object.entries(e.esriBasemapDefinitions).filter(([,t])=>t.classic||t.is3d).map(([t])=>`"${t}"`).sort().join(", "),u().warn(`Unable to find basemap definition for: ${p}. Try one of these: ${l}`)),null;l&&(m=l[p]);m||(m=v?b.fromId(p):new b({style:{id:p}}),l&&(l[p]=m))}else m=q.ensureType(b,
p);m?.destroyed&&(u().warn("The provided basemap is already destroyed",{basemap:m}),m=null);return m}function r(p,l){const m=new f;p.forEach(v=>{const A=l.find(t=>"scene"!==t.type&&g.layerDefinitionEquals(g.layerToDefinition(v),g.layerToDefinition(t)))||v;m.includes(A)?m.push(v):m.push(A)});return m}const u=()=>d.getLogger("esri.support.basemapUtils");a.basemapEnsureType=h;a.clonePreservingTiledLayers=function(p,l=null){p=h(p);if(!p)return null;p=p.clone();l&&(p.baseLayers=r(p.baseLayers,l.baseLayers),
p.referenceLayers=r(p.referenceLayers,l.referenceLayers));return p};a.createCache=function(){return{}};a.destroyCache=function(p){for(const l in p)n.destroyMaybe(p[l]),delete p[l]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../core/Collection ../core/maybe ../core/urlUtils ../layers/effects/utils ./basemapDefinitions".split(" "),function(a,b,c,f,d,n){function q(y){if(k)return k(y);let B=null;y=h(y);const E=!y?.baseLayers.length;
for(const K in n.esriBasemapDefinitions){var J=l(n.esriBasemapDefinitions[K]);J=v(y,J,{mustMatchReferences:E});if("equal"===J){B=K;break}"base-layers-equal"===J&&(B=K)}return B}function e(y){if(g(y.url))return!0;if("vector-tile"===y.type)for(const B in y.sourceNameToSource)if(g(y.sourceNameToSource[B]?.sourceUrl))return!0;return!1}function g(y){if(!y)return!1;y=new f.Url(f.makeAbsolute(y));return!!y.authority&&x.test(y.authority)}function h(y){return y?!y.loaded&&y.resourceInfo?l(y.resourceInfo.data):
{baseLayers:r(y.baseLayers),referenceLayers:r(y.referenceLayers)}:null}function r(y){return(b.isCollection(y)?y.toArray():y).map(u)}function u(y){return{type:y.type,effect:"effect"in y?y.effect:void 0,url:w("urlTemplate"in y&&y.urlTemplate||y.url||"styleUrl"in y&&y.styleUrl||""),minScale:"minScale"in y&&null!=y.minScale?y.minScale:0,maxScale:"maxScale"in y&&null!=y.maxScale?y.maxScale:0,opacity:null!=y.opacity?y.opacity:1,visible:null!=y.visible?!!y.visible:!0,sublayers:"map-image"!==y.type&&"wms"!==
y.type||null==y.sublayers?void 0:y.sublayers?.map(B=>({id:B.id,visible:B.visible})),activeLayerId:"wmts"===y.type?y.activeLayer?.id:void 0}}function p(y){return y.isReference||"ArcGISSceneServiceLayer"===y.layerType}function l(y){return y?{baseLayers:m((y.baseMapLayers??[]).filter(B=>!p(B))),referenceLayers:m((y.baseMapLayers??[]).filter(B=>p(B)))}:null}function m(y){return y.map(B=>{let E;switch(B.layerType){case "VectorTileLayer":E="vector-tile";break;case "ArcGISTiledMapServiceLayer":E="tile";
break;case "ArcGISSceneServiceLayer":E="scene";break;default:E="unknown"}return{type:E,effect:B.effect,url:w(B.templateUrl||B.urlTemplate||B.styleUrl||B.url),minScale:B.minScale??0,maxScale:B.maxScale??0,opacity:B.opacity??1,visible:null!=B.visibility?!!B.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function v(y,B,E){return null!=y!==(null!=B)?"not-equal":y&&B?A(y.baseLayers,B.baseLayers)?A(y.referenceLayers,B.referenceLayers)?"equal":E.mustMatchReferences?"not-equal":"base-layers-equal":
"not-equal":"equal"}function A(y,B){if(y.length!==B.length)return!1;for(let E=0;E<y.length;E++)if(!t(y[E],B[E]))return!1;return!0}function t(y,B){if(y.type!==B.type||y.url!==B.url||y.minScale!==B.minScale||y.maxScale!==B.maxScale||y.visible!==B.visible||y.opacity!==B.opacity||!d.effectEquals(y.effect,B.effect))return!1;if(null!=y.activeLayerId||null!=B.activeLayerId)return y.activeLayerId===B.activeLayerId;if(null!=y.sublayers||null!=B.sublayers){if(null==y.sublayers||null==B.sublayers||y.sublayers.length!==
B.sublayers.length)return!1;for(let E=0;E<y.sublayers.length;E++){const J=y.sublayers.at(E),K=B.sublayers.at(E);if(J?.id!==K?.id||J?.visible!==K?.visible)return!1}}return!0}function w(y){return y?f.normalize(y).replace(/^\s*https?:/i,"").toLowerCase():""}function z(y){return"portalItem"in y?y.portalItem?.thumbnailUrl:void 0}let k;const x=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.contentEquals=function(y,B){if(y===B||null!=y?.portalItem?.id&&y.portalItem.id===B?.portalItem?.id)return!0;y=h(y);
B=h(B);return"equal"===v(y,B,{mustMatchReferences:!0})};a.findSpatialReference=function(y,B){if(null==B||null==y)return{spatialReference:null,updating:!1};if("not-loaded"===B.loadStatus)return B.load(),{spatialReference:null,updating:!0};if(B.spatialReference)return{spatialReference:B.spatialReference,updating:!1};if(0===B.baseLayers.length)return{spatialReference:null,updating:!1};B=B.baseLayers.at(0);switch(B.loadStatus){case "not-loaded":B.load();case "loading":return{spatialReference:null,updating:!0};
case "failed":return{spatialReference:null,updating:!1}}B=(("supportedSpatialReferences"in B?B.supportedSpatialReferences:null)||["tileInfo"in B?B.tileInfo?.spatialReference:B.spatialReference]).filter(Boolean);const E=y.spatialReference;return E?{spatialReference:B.find(J=>E.equals(J))??B[0]??null,updating:!1}:{spatialReference:B[0],updating:!1}};a.getBasemapThumbnailUrl=function(y){if(!y)return null;var {thumbnailUrl:B}=y;return B?B:(B=q(y))?n.esriBasemapDefinitions[B].thumbnailUrl:c.mappedFind(y.baseLayers,
z)};a.getWellKnownBasemapId=q;a.hasDeveloperBasemapLayer=function(y){return!!y?.baseLayers.concat(y.referenceLayers).some(e)};a.isBasemap3D=function(y){return"Web Scene"===y.portalItem?.type||y.referenceLayers.some(B=>"scene"===B.type)};a.isBasemapInBeta=function(y){return!!y?.portalItem?.tags?.some(B=>"beta"===B.toLowerCase())};a.isBasemapLayer=function(y,B){return!(!y.basemap?.referenceLayers?.some(E=>E.uid===B)&&!y.basemap?.baseLayers?.some(E=>E.uid===B))};a.isDeveloperBasemapLayer=e;a.layerDefinitionEquals=
t;a.layerToDefinition=u;a.overrideGetWellKnownBasemapId=function(y){k=y};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(c,f){const d=c.length>f.length?c:f;return(c.length>f.length?f:c).every((n,q)=>n.type===d[q].type)};a.effectEquals=function(c,f){c=JSON.stringify(c??null);f=JSON.stringify(f??null);return c===f};a.isEffectFunctions=function(c){return(c=c[0])?"type"in
c:!1};a.normalizeEffects=function(c,f){const d=c.length>f.length?c:f;c=c.length>f.length?f:c;for(f=c.length;f<d.length;f++)c.push(b.createEffectWithInitialValues(d[f]))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../core/libs/gl-matrix-2/factories/mat4f32","./colorMatrixFunctions"],function(a,b,c,f,d){function n(l,m,v){return l+(m-l)*v}function q(l){return Math.round(1E3*
c.px2pt(l))/1E3}class e{constructor(l,m,v){this.strength=l;this.radius=m;this.threshold=v;this.type="bloom"}interpolate(l,m,v){this.strength=n(l.strength,m.strength,v);this.radius=n(l.radius,m.radius,v);this.threshold=n(l.threshold,m.threshold,v)}clone(){return new e(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:q(this.radius),strength:this.strength,threshold:this.threshold}}}class g{constructor(l){this.radius=l;this.type="blur"}interpolate(l,m,v){this.radius=Math.round(n(l.radius,
m.radius,v))}clone(){return new g(this.radius)}toJSON(){return{type:"blur",radius:q(this.radius)}}}class h{constructor(l,m){this.type=l;this.amount=m;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(l,m,v){this.amount=n(l.amount,m.amount,v);this._updateMatrix()}clone(){return new h(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const l=
this._colorMatrix||f.create();switch(this.type){case "brightness":this._colorMatrix=d.brightness(l,this.amount);break;case "contrast":this._colorMatrix=d.contrast(l,this.amount);break;case "grayscale":this._colorMatrix=d.grayscale(l,this.amount);break;case "invert":this._colorMatrix=d.invert(l,this.amount);break;case "saturate":this._colorMatrix=d.saturate(l,this.amount);break;case "sepia":this._colorMatrix=d.sepia(l,this.amount)}}}class r{constructor(l,m,v,A){this.offsetX=l;this.offsetY=m;this.blurRadius=
v;this.color=A;this.type="drop-shadow"}interpolate(l,m,v){this.offsetX=n(l.offsetX,m.offsetX,v);this.offsetY=n(l.offsetY,m.offsetY,v);this.blurRadius=n(l.blurRadius,m.blurRadius,v);this.color[0]=Math.round(n(l.color[0],m.color[0],v));this.color[1]=Math.round(n(l.color[1],m.color[1],v));this.color[2]=Math.round(n(l.color[2],m.color[2],v));this.color[3]=n(l.color[3],m.color[3],v)}clone(){return new r(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const l=[...this.color];l[3]*=255;
return{type:"drop-shadow",xoffset:q(this.offsetX),yoffset:q(this.offsetY),blurRadius:q(this.blurRadius),color:l}}}class u{constructor(l){this.angle=l;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(l,m,v){this.angle=n(l.angle,m.angle,v);this._updateMatrix()}clone(){return new u(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const l=this._colorMatrix||f.create();this._colorMatrix=d.rotateHue(l,this.angle)}}
class p{constructor(l){this.amount=l;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(l,m,v){this.amount=n(l.amount,m.amount,v)}clone(){return new p(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}a.BloomEffect=e;a.BlurEffect=g;a.ColorMatrixEffect=h;a.DropShadowEffect=r;a.HueRotateEffect=u;a.OpacityEffect=p;a.createEffectWithInitialValues=function(l){switch(l.type){case "grayscale":case "sepia":case "invert":return new h(l.type,0);case "saturate":case "brightness":case "contrast":return new h(l.type,
1);case "opacity":return new p(1);case "hue-rotate":return new u(0);case "blur":return new g(0);case "drop-shadow":return new r(0,0,0,[...b.getNamedColor("transparent")]);case "bloom":return new e(0,0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(d){return d?72*d/96:0}function c(d=0,n=0){return{x:d,y:n}}const f=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(d){return d};a.castRenderScreenPointArray3=
function(d){return d};a.castScreenPointArray=function(d){return d};a.cloneScreenPoint=function(d){return d?c(d.x,d.y):null};a.createRenderScreenPoint=function(d=0,n=0){return{x:d,y:n}};a.createRenderScreenPointArray=function(d=0,n=0){return[d,n]};a.createRenderScreenPointArray3=function(d=0,n=0,q=0){return[d,n,q]};a.createScreenPoint=c;a.createScreenPointArray=function(d=0,n=0){return[d,n]};a.pt2px=function(d){return d?d/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(d,n){return n?(n.x=d[0],
n.y=d[1],n):{x:d[0],y:d[1]}};a.screenPointObjectToArray=function(d,n){return n?(n[0]=d.x,n[1]=d.y,2<n.length&&(n[2]=0),n):[d.x,d.y]};a.toPt=function(d){if("string"===typeof d){var n=d.match(f);if(n){var q=Number(n[1]);n=n[3]&&n[3].toLowerCase();d="-"===d.charAt(0);q="px"===n?b(q):q;return d?-q:q}console.warn("screenUtils.toPt: input not recognized!");return null}return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f32":function(){define(["exports"],
function(a){function b(){const e=new Float32Array(16);e[0]=1;e[5]=1;e[10]=1;e[15]=1;return e}function c(e){const g=new Float32Array(16);g[0]=e[0];g[1]=e[1];g[2]=e[2];g[3]=e[3];g[4]=e[4];g[5]=e[5];g[6]=e[6];g[7]=e[7];g[8]=e[8];g[9]=e[9];g[10]=e[10];g[11]=e[11];g[12]=e[12];g[13]=e[13];g[14]=e[14];g[15]=e[15];return g}function f(e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y){const B=new Float32Array(16);B[0]=e;B[1]=g;B[2]=h;B[3]=r;B[4]=u;B[5]=p;B[6]=l;B[7]=m;B[8]=v;B[9]=A;B[10]=t;B[11]=w;B[12]=z;B[13]=k;B[14]=x;B[15]=
y;return B}function d(e,g){return new Float32Array(e,g,16)}const n=b(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,create:b,createView:d,fromValues:f},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=f;a.mat4f32=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(a,b){a.brightness=(c,
f)=>{c=b.set(c,f,0,0,0,0,f,0,0,0,0,f,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,f)=>{c=b.set(c,f,0,0,.5-.5*f,0,f,0,.5-.5*f,0,0,f,.5-.5*f,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,f)=>{f=1-f;c=b.set(c,.2126+.7874*f,.7152-.7152*f,.0722-.0722*f,0,.2126-.2126*f,.7152+.2848*f,.0722-.0722*f,0,.2126-.2126*f,.7152-.7152*f,.0722+.9278*f,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,f)=>{const d=1-2*f;c=b.set(c,d,0,0,f,0,d,0,f,0,0,d,f,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,f)=>{const d=
Math.sin(f*Math.PI/180);f=Math.cos(f*Math.PI/180);c=b.set(c,.213+.787*f-.213*d,.715-.715*f-.715*d,.072-.072*f+.928*d,0,.213-.213*f+.143*d,.715+.285*f+.14*d,.072-.072*f-.283*d,0,.213-.213*f-.787*d,.715-.715*f+.715*d,.072+.928*f+.072*d,0,0,0,0,1);return b.transpose(c,c)};a.saturate=(c,f)=>{c=b.set(c,.213+.787*f,.715-.715*f,.072-.072*f,0,.213-.213*f,.715+.285*f,.072-.072*f,0,.213-.213*f,.715-.715*f,.072+.928*f,0,0,0,0,1);return b.transpose(c,c)};a.sepia=(c,f)=>{f=1-f;c=b.set(c,.393+.607*f,.769-.769*
f,.189-.189*f,0,.349-.349*f,.686+.314*f,.168-.168*f,0,.272-.272*f,.534-.534*f,.131+.869*f,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(a,b,c){function f(G,Q){G[0]=Q[0];G[1]=Q[1];G[2]=Q[2];G[3]=Q[3];G[4]=Q[4];G[5]=Q[5];G[6]=Q[6];G[7]=Q[7];G[8]=Q[8];G[9]=Q[9];G[10]=Q[10];G[11]=Q[11];G[12]=Q[12];G[13]=Q[13];G[14]=Q[14];G[15]=Q[15];return G}
function d(G,Q,fa,ta,za,Ea,Ga,Z,T,I,U,ea,ra,Ba,La,ca,va){G[0]=Q;G[1]=fa;G[2]=ta;G[3]=za;G[4]=Ea;G[5]=Ga;G[6]=Z;G[7]=T;G[8]=I;G[9]=U;G[10]=ea;G[11]=ra;G[12]=Ba;G[13]=La;G[14]=ca;G[15]=va;return G}function n(G){G[0]=1;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=1;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[10]=1;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function q(G,Q){if(G===Q){const fa=Q[1],ta=Q[2],za=Q[3],Ea=Q[6],Ga=Q[7],Z=Q[11];G[1]=Q[4];G[2]=Q[8];G[3]=Q[12];G[4]=fa;G[6]=Q[9];G[7]=Q[13];G[8]=ta;G[9]=Ea;G[11]=Q[14];
G[12]=za;G[13]=Ga;G[14]=Z}else G[0]=Q[0],G[1]=Q[4],G[2]=Q[8],G[3]=Q[12],G[4]=Q[1],G[5]=Q[5],G[6]=Q[9],G[7]=Q[13],G[8]=Q[2],G[9]=Q[6],G[10]=Q[10],G[11]=Q[14],G[12]=Q[3],G[13]=Q[7],G[14]=Q[11],G[15]=Q[15];return G}function e(G,Q){g(G,Q)||n(G);return G}function g(G,Q){const fa=Q[0],ta=Q[1],za=Q[2],Ea=Q[3],Ga=Q[4],Z=Q[5],T=Q[6],I=Q[7],U=Q[8],ea=Q[9],ra=Q[10],Ba=Q[11],La=Q[12],ca=Q[13],va=Q[14];Q=Q[15];const xa=fa*Z-ta*Ga,Da=fa*T-za*Ga,Ha=fa*I-Ea*Ga,na=ta*T-za*Z,wa=ta*I-Ea*Z,Ma=za*I-Ea*T,Ja=U*ca-ea*La,
Ua=U*va-ra*La,Ya=U*Q-Ba*La,cb=ea*va-ra*ca,eb=ea*Q-Ba*ca,pb=ra*Q-Ba*va;let lb=xa*pb-Da*eb+Ha*cb+na*Ya-wa*Ua+Ma*Ja;if(!lb)return null;lb=1/lb;G[0]=(Z*pb-T*eb+I*cb)*lb;G[1]=(za*eb-ta*pb-Ea*cb)*lb;G[2]=(ca*Ma-va*wa+Q*na)*lb;G[3]=(ra*wa-ea*Ma-Ba*na)*lb;G[4]=(T*Ya-Ga*pb-I*Ua)*lb;G[5]=(fa*pb-za*Ya+Ea*Ua)*lb;G[6]=(va*Ha-La*Ma-Q*Da)*lb;G[7]=(U*Ma-ra*Ha+Ba*Da)*lb;G[8]=(Ga*eb-Z*Ya+I*Ja)*lb;G[9]=(ta*Ya-fa*eb-Ea*Ja)*lb;G[10]=(La*wa-ca*Ha+Q*xa)*lb;G[11]=(ea*Ha-U*wa-Ba*xa)*lb;G[12]=(Z*Ua-Ga*cb-T*Ja)*lb;G[13]=(fa*
cb-ta*Ua+za*Ja)*lb;G[14]=(ca*Da-La*na-va*xa)*lb;G[15]=(U*na-ea*Da+ra*xa)*lb;return G}function h(G,Q){const fa=Q[0],ta=Q[1],za=Q[2],Ea=Q[3],Ga=Q[4],Z=Q[5],T=Q[6],I=Q[7],U=Q[8],ea=Q[9],ra=Q[10],Ba=Q[11],La=Q[12],ca=Q[13],va=Q[14];Q=Q[15];G[0]=Z*(ra*Q-Ba*va)-ea*(T*Q-I*va)+ca*(T*Ba-I*ra);G[1]=-(ta*(ra*Q-Ba*va)-ea*(za*Q-Ea*va)+ca*(za*Ba-Ea*ra));G[2]=ta*(T*Q-I*va)-Z*(za*Q-Ea*va)+ca*(za*I-Ea*T);G[3]=-(ta*(T*Ba-I*ra)-Z*(za*Ba-Ea*ra)+ea*(za*I-Ea*T));G[4]=-(Ga*(ra*Q-Ba*va)-U*(T*Q-I*va)+La*(T*Ba-I*ra));G[5]=
fa*(ra*Q-Ba*va)-U*(za*Q-Ea*va)+La*(za*Ba-Ea*ra);G[6]=-(fa*(T*Q-I*va)-Ga*(za*Q-Ea*va)+La*(za*I-Ea*T));G[7]=fa*(T*Ba-I*ra)-Ga*(za*Ba-Ea*ra)+U*(za*I-Ea*T);G[8]=Ga*(ea*Q-Ba*ca)-U*(Z*Q-I*ca)+La*(Z*Ba-I*ea);G[9]=-(fa*(ea*Q-Ba*ca)-U*(ta*Q-Ea*ca)+La*(ta*Ba-Ea*ea));G[10]=fa*(Z*Q-I*ca)-Ga*(ta*Q-Ea*ca)+La*(ta*I-Ea*Z);G[11]=-(fa*(Z*Ba-I*ea)-Ga*(ta*Ba-Ea*ea)+U*(ta*I-Ea*Z));G[12]=-(Ga*(ea*va-ra*ca)-U*(Z*va-T*ca)+La*(Z*ra-T*ea));G[13]=fa*(ea*va-ra*ca)-U*(ta*va-za*ca)+La*(ta*ra-za*ea);G[14]=-(fa*(Z*va-T*ca)-Ga*(ta*
va-za*ca)+La*(ta*T-za*Z));G[15]=fa*(Z*ra-T*ea)-Ga*(ta*ra-za*ea)+U*(ta*T-za*Z);return G}function r(G){const Q=G[0],fa=G[1],ta=G[2],za=G[3],Ea=G[4],Ga=G[5],Z=G[6],T=G[7],I=G[8],U=G[9],ea=G[10],ra=G[11],Ba=G[12],La=G[13],ca=G[14];G=G[15];return(Q*Ga-fa*Ea)*(ea*G-ra*ca)-(Q*Z-ta*Ea)*(U*G-ra*La)+(Q*T-za*Ea)*(U*ca-ea*La)+(fa*Z-ta*Ga)*(I*G-ra*Ba)-(fa*T-za*Ga)*(I*ca-ea*Ba)+(ta*T-za*Z)*(I*La-U*Ba)}function u(G,Q,fa){const ta=Q[0],za=Q[1],Ea=Q[2],Ga=Q[3],Z=Q[4],T=Q[5],I=Q[6],U=Q[7],ea=Q[8],ra=Q[9],Ba=Q[10],
La=Q[11],ca=Q[12],va=Q[13],xa=Q[14];Q=Q[15];let Da=fa[0],Ha=fa[1],na=fa[2],wa=fa[3];G[0]=Da*ta+Ha*Z+na*ea+wa*ca;G[1]=Da*za+Ha*T+na*ra+wa*va;G[2]=Da*Ea+Ha*I+na*Ba+wa*xa;G[3]=Da*Ga+Ha*U+na*La+wa*Q;Da=fa[4];Ha=fa[5];na=fa[6];wa=fa[7];G[4]=Da*ta+Ha*Z+na*ea+wa*ca;G[5]=Da*za+Ha*T+na*ra+wa*va;G[6]=Da*Ea+Ha*I+na*Ba+wa*xa;G[7]=Da*Ga+Ha*U+na*La+wa*Q;Da=fa[8];Ha=fa[9];na=fa[10];wa=fa[11];G[8]=Da*ta+Ha*Z+na*ea+wa*ca;G[9]=Da*za+Ha*T+na*ra+wa*va;G[10]=Da*Ea+Ha*I+na*Ba+wa*xa;G[11]=Da*Ga+Ha*U+na*La+wa*Q;Da=fa[12];
Ha=fa[13];na=fa[14];wa=fa[15];G[12]=Da*ta+Ha*Z+na*ea+wa*ca;G[13]=Da*za+Ha*T+na*ra+wa*va;G[14]=Da*Ea+Ha*I+na*Ba+wa*xa;G[15]=Da*Ga+Ha*U+na*La+wa*Q;return G}function p(G,Q,fa){const ta=fa[0],za=fa[1];fa=fa[2];if(Q===G)G[12]=Q[0]*ta+Q[4]*za+Q[8]*fa+Q[12],G[13]=Q[1]*ta+Q[5]*za+Q[9]*fa+Q[13],G[14]=Q[2]*ta+Q[6]*za+Q[10]*fa+Q[14],G[15]=Q[3]*ta+Q[7]*za+Q[11]*fa+Q[15];else{const Ea=Q[0],Ga=Q[1],Z=Q[2],T=Q[3],I=Q[4],U=Q[5],ea=Q[6],ra=Q[7],Ba=Q[8],La=Q[9],ca=Q[10],va=Q[11];G[0]=Ea;G[1]=Ga;G[2]=Z;G[3]=T;G[4]=
I;G[5]=U;G[6]=ea;G[7]=ra;G[8]=Ba;G[9]=La;G[10]=ca;G[11]=va;G[12]=Ea*ta+I*za+Ba*fa+Q[12];G[13]=Ga*ta+U*za+La*fa+Q[13];G[14]=Z*ta+ea*za+ca*fa+Q[14];G[15]=T*ta+ra*za+va*fa+Q[15]}return G}function l(G,Q,fa){const ta=fa[0],za=fa[1];fa=fa[2];G[0]=Q[0]*ta;G[1]=Q[1]*ta;G[2]=Q[2]*ta;G[3]=Q[3]*ta;G[4]=Q[4]*za;G[5]=Q[5]*za;G[6]=Q[6]*za;G[7]=Q[7]*za;G[8]=Q[8]*fa;G[9]=Q[9]*fa;G[10]=Q[10]*fa;G[11]=Q[11]*fa;G[12]=Q[12];G[13]=Q[13];G[14]=Q[14];G[15]=Q[15];return G}function m(G,Q,fa,ta){var za=ta[0],Ea=ta[1];ta=ta[2];
var Ga=Math.sqrt(za*za+Ea*Ea+ta*ta);if(Ga<=c.getEpsilon())f(G,Q);else{Ga=1/Ga;za*=Ga;Ea*=Ga;ta*=Ga;var Z=Math.sin(fa),T=Math.cos(fa),I=1-T;fa=Q[0];Ga=Q[1];var U=Q[2],ea=Q[3],ra=Q[4],Ba=Q[5],La=Q[6],ca=Q[7],va=Q[8],xa=Q[9],Da=Q[10],Ha=Q[11],na=za*za*I+T,wa=Ea*za*I+ta*Z,Ma=ta*za*I-Ea*Z,Ja=za*Ea*I-ta*Z,Ua=Ea*Ea*I+T,Ya=ta*Ea*I+za*Z,cb=za*ta*I+Ea*Z;za=Ea*ta*I-za*Z;Ea=ta*ta*I+T;G[0]=fa*na+ra*wa+va*Ma;G[1]=Ga*na+Ba*wa+xa*Ma;G[2]=U*na+La*wa+Da*Ma;G[3]=ea*na+ca*wa+Ha*Ma;G[4]=fa*Ja+ra*Ua+va*Ya;G[5]=Ga*Ja+Ba*
Ua+xa*Ya;G[6]=U*Ja+La*Ua+Da*Ya;G[7]=ea*Ja+ca*Ua+Ha*Ya;G[8]=fa*cb+ra*za+va*Ea;G[9]=Ga*cb+Ba*za+xa*Ea;G[10]=U*cb+La*za+Da*Ea;G[11]=ea*cb+ca*za+Ha*Ea;Q!==G&&(G[12]=Q[12],G[13]=Q[13],G[14]=Q[14],G[15]=Q[15])}}function v(G,Q,fa){const ta=Math.sin(fa);fa=Math.cos(fa);const za=Q[4],Ea=Q[5],Ga=Q[6],Z=Q[7],T=Q[8],I=Q[9],U=Q[10],ea=Q[11];Q!==G&&(G[0]=Q[0],G[1]=Q[1],G[2]=Q[2],G[3]=Q[3],G[12]=Q[12],G[13]=Q[13],G[14]=Q[14],G[15]=Q[15]);G[4]=za*fa+T*ta;G[5]=Ea*fa+I*ta;G[6]=Ga*fa+U*ta;G[7]=Z*fa+ea*ta;G[8]=T*fa-
za*ta;G[9]=I*fa-Ea*ta;G[10]=U*fa-Ga*ta;G[11]=ea*fa-Z*ta;return G}function A(G,Q,fa){const ta=Math.sin(fa);fa=Math.cos(fa);const za=Q[0],Ea=Q[1],Ga=Q[2],Z=Q[3],T=Q[8],I=Q[9],U=Q[10],ea=Q[11];Q!==G&&(G[4]=Q[4],G[5]=Q[5],G[6]=Q[6],G[7]=Q[7],G[12]=Q[12],G[13]=Q[13],G[14]=Q[14],G[15]=Q[15]);G[0]=za*fa-T*ta;G[1]=Ea*fa-I*ta;G[2]=Ga*fa-U*ta;G[3]=Z*fa-ea*ta;G[8]=za*ta+T*fa;G[9]=Ea*ta+I*fa;G[10]=Ga*ta+U*fa;G[11]=Z*ta+ea*fa;return G}function t(G,Q,fa){const ta=Math.sin(fa);fa=Math.cos(fa);const za=Q[0],Ea=Q[1],
Ga=Q[2],Z=Q[3],T=Q[4],I=Q[5],U=Q[6],ea=Q[7];Q!==G&&(G[8]=Q[8],G[9]=Q[9],G[10]=Q[10],G[11]=Q[11],G[12]=Q[12],G[13]=Q[13],G[14]=Q[14],G[15]=Q[15]);G[0]=za*fa+T*ta;G[1]=Ea*fa+I*ta;G[2]=Ga*fa+U*ta;G[3]=Z*fa+ea*ta;G[4]=T*fa-za*ta;G[5]=I*fa-Ea*ta;G[6]=U*fa-Ga*ta;G[7]=ea*fa-Z*ta;return G}function w(G,Q){G[0]=1;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=1;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[10]=1;G[11]=0;G[12]=Q[0];G[13]=Q[1];G[14]=Q[2];G[15]=1;return G}function z(G,Q){G[0]=Q[0];G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=Q[1];G[6]=
0;G[7]=0;G[8]=0;G[9]=0;G[10]=Q[2];G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function k(G,Q,fa){if(0===Q)return n(G);let ta=fa[0],za=fa[1];fa=fa[2];var Ea=Math.sqrt(ta*ta+za*za+fa*fa);if(Ea<=c.getEpsilon())return null;Ea=1/Ea;ta*=Ea;za*=Ea;fa*=Ea;Ea=Math.sin(Q);Q=Math.cos(Q);const Ga=1-Q;G[0]=ta*ta*Ga+Q;G[1]=za*ta*Ga+fa*Ea;G[2]=fa*ta*Ga-za*Ea;G[3]=0;G[4]=ta*za*Ga-fa*Ea;G[5]=za*za*Ga+Q;G[6]=fa*za*Ga+ta*Ea;G[7]=0;G[8]=ta*fa*Ga+za*Ea;G[9]=za*fa*Ga-ta*Ea;G[10]=fa*fa*Ga+Q;G[11]=0;G[12]=0;G[13]=0;
G[14]=0;G[15]=1;return G}function x(G,Q){const fa=Math.sin(Q);Q=Math.cos(Q);G[0]=1;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=Q;G[6]=fa;G[7]=0;G[8]=0;G[9]=-fa;G[10]=Q;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function y(G,Q){const fa=Math.sin(Q);Q=Math.cos(Q);G[0]=Q;G[1]=0;G[2]=-fa;G[3]=0;G[4]=0;G[5]=1;G[6]=0;G[7]=0;G[8]=fa;G[9]=0;G[10]=Q;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function B(G,Q){const fa=Math.sin(Q);Q=Math.cos(Q);G[0]=Q;G[1]=fa;G[2]=0;G[3]=0;G[4]=-fa;G[5]=Q;G[6]=0;G[7]=0;G[8]=
0;G[9]=0;G[10]=1;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function E(G,Q,fa){var ta=Q[0],za=Q[1],Ea=Q[2],Ga=Q[3],Z=ta+ta,T=za+za;const I=Ea+Ea;Q=ta*Z;const U=ta*T;ta*=I;const ea=za*T;za*=I;Ea*=I;Z*=Ga;T*=Ga;Ga*=I;G[0]=1-(ea+Ea);G[1]=U+Ga;G[2]=ta-T;G[3]=0;G[4]=U-Ga;G[5]=1-(Q+Ea);G[6]=za+Z;G[7]=0;G[8]=ta+T;G[9]=za-Z;G[10]=1-(Q+ea);G[11]=0;G[12]=fa[0];G[13]=fa[1];G[14]=fa[2];G[15]=1;return G}function J(G,Q){const fa=ma,ta=-Q[0],za=-Q[1],Ea=-Q[2],Ga=Q[3],Z=Q[4],T=Q[5],I=Q[6],U=Q[7],ea=ta*ta+za*
za+Ea*Ea+Ga*Ga;0<ea?(fa[0]=2*(Z*Ga+U*ta+T*Ea-I*za)/ea,fa[1]=2*(T*Ga+U*za+I*ta-Z*Ea)/ea,fa[2]=2*(I*Ga+U*Ea+Z*za-T*ta)/ea):(fa[0]=2*(Z*Ga+U*ta+T*Ea-I*za),fa[1]=2*(T*Ga+U*za+I*ta-Z*Ea),fa[2]=2*(I*Ga+U*Ea+Z*za-T*ta));E(G,Q,fa);return G}function K(G,Q){G[0]=Q[12];G[1]=Q[13];G[2]=Q[14];return G}function H(G,Q){const fa=Q[0],ta=Q[1],za=Q[2],Ea=Q[4],Ga=Q[5],Z=Q[6],T=Q[8],I=Q[9];Q=Q[10];G[0]=Math.sqrt(fa*fa+ta*ta+za*za);G[1]=Math.sqrt(Ea*Ea+Ga*Ga+Z*Z);G[2]=Math.sqrt(T*T+I*I+Q*Q);return G}function F(G,Q){const fa=
Q[0]+Q[5]+Q[10];let ta=0;0<fa?(ta=2*Math.sqrt(fa+1),G[3]=.25*ta,G[0]=(Q[6]-Q[9])/ta,G[1]=(Q[8]-Q[2])/ta,G[2]=(Q[1]-Q[4])/ta):Q[0]>Q[5]&&Q[0]>Q[10]?(ta=2*Math.sqrt(1+Q[0]-Q[5]-Q[10]),G[3]=(Q[6]-Q[9])/ta,G[0]=.25*ta,G[1]=(Q[1]+Q[4])/ta,G[2]=(Q[8]+Q[2])/ta):Q[5]>Q[10]?(ta=2*Math.sqrt(1+Q[5]-Q[0]-Q[10]),G[3]=(Q[8]-Q[2])/ta,G[0]=(Q[1]+Q[4])/ta,G[1]=.25*ta,G[2]=(Q[6]+Q[9])/ta):(ta=2*Math.sqrt(1+Q[10]-Q[0]-Q[5]),G[3]=(Q[1]-Q[4])/ta,G[0]=(Q[8]+Q[2])/ta,G[1]=(Q[6]+Q[9])/ta,G[2]=.25*ta);return G}function N(G,
Q,fa,ta){var za=Q[0],Ea=Q[1],Ga=Q[2],Z=Q[3],T=za+za,I=Ea+Ea,U=Ga+Ga;Q=za*T;const ea=za*I;za*=U;const ra=Ea*I;Ea*=U;Ga*=U;T*=Z;I*=Z;Z*=U;U=ta[0];const Ba=ta[1];ta=ta[2];G[0]=(1-(ra+Ga))*U;G[1]=(ea+Z)*U;G[2]=(za-I)*U;G[3]=0;G[4]=(ea-Z)*Ba;G[5]=(1-(Q+Ga))*Ba;G[6]=(Ea+T)*Ba;G[7]=0;G[8]=(za+I)*ta;G[9]=(Ea-T)*ta;G[10]=(1-(Q+ra))*ta;G[11]=0;G[12]=fa[0];G[13]=fa[1];G[14]=fa[2];G[15]=1;return G}function S(G,Q,fa,ta,za){var Ea=Q[0],Ga=Q[1],Z=Q[2],T=Q[3],I=Ea+Ea,U=Ga+Ga,ea=Z+Z;Q=Ea*I;var ra=Ea*U,Ba=Ea*ea;Ea=
Ga*U;Ga*=ea;var La=Z*ea;Z=T*I;U*=T;const ca=T*ea;var va=ta[0],xa=ta[1];ea=ta[2];ta=za[0];T=za[1];za=za[2];I=(1-(Ea+La))*va;const Da=(ra+ca)*va;va*=Ba-U;ra=(ra-ca)*xa;La=(1-(Q+La))*xa;xa*=Ga+Z;Ba=(Ba+U)*ea;Ga=(Ga-Z)*ea;Q=(1-(Q+Ea))*ea;G[0]=I;G[1]=Da;G[2]=va;G[3]=0;G[4]=ra;G[5]=La;G[6]=xa;G[7]=0;G[8]=Ba;G[9]=Ga;G[10]=Q;G[11]=0;G[12]=fa[0]+ta-(I*ta+ra*T+Ba*za);G[13]=fa[1]+T-(Da*ta+La*T+Ga*za);G[14]=fa[2]+za-(va*ta+xa*T+Q*za);G[15]=1;return G}function W(G,Q){var fa=Q[0],ta=Q[1],za=Q[2];Q=Q[3];var Ea=
fa+fa,Ga=ta+ta;const Z=za+za;fa*=Ea;const T=ta*Ea;ta*=Ga;const I=za*Ea,U=za*Ga;za*=Z;Ea*=Q;Ga*=Q;Q*=Z;G[0]=1-ta-za;G[1]=T+Q;G[2]=I-Ga;G[3]=0;G[4]=T-Q;G[5]=1-fa-za;G[6]=U+Ea;G[7]=0;G[8]=I+Ga;G[9]=U-Ea;G[10]=1-fa-ta;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function L(G,Q,fa,ta,za,Ea,Ga){const Z=1/(fa-Q),T=1/(za-ta),I=1/(Ea-Ga);G[0]=2*Ea*Z;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=2*Ea*T;G[6]=0;G[7]=0;G[8]=(fa+Q)*Z;G[9]=(za+ta)*T;G[10]=(Ga+Ea)*I;G[11]=-1;G[12]=0;G[13]=0;G[14]=Ga*Ea*2*I;G[15]=0;return G}
function P(G,Q,fa,ta,za){Q=1/Math.tan(Q/2);let Ea=void 0;G[0]=Q/fa;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=Q;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[11]=-1;G[12]=0;G[13]=0;G[15]=0;null!=za&&Infinity!==za?(Ea=1/(ta-za),G[10]=(za+ta)*Ea,G[14]=2*za*ta*Ea):(G[10]=-1,G[14]=-2*ta);return G}function X(G,Q,fa,ta){const za=Math.tan(Q.upDegrees*Math.PI/180),Ea=Math.tan(Q.downDegrees*Math.PI/180),Ga=Math.tan(Q.leftDegrees*Math.PI/180);Q=Math.tan(Q.rightDegrees*Math.PI/180);const Z=2/(Ga+Q),T=2/(za+Ea);G[0]=Z;G[1]=0;G[2]=0;G[3]=
0;G[4]=0;G[5]=T;G[6]=0;G[7]=0;G[8]=-((Ga-Q)*Z*.5);G[9]=(za-Ea)*T*.5;G[10]=ta/(fa-ta);G[11]=-1;G[12]=0;G[13]=0;G[14]=ta*fa/(fa-ta);G[15]=0;return G}function D(G,Q,fa,ta,za,Ea,Ga){const Z=1/(Q-fa),T=1/(ta-za),I=1/(Ea-Ga);G[0]=-2*Z;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=-2*T;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[10]=2*I;G[11]=0;G[12]=(Q+fa)*Z;G[13]=(za+ta)*T;G[14]=(Ga+Ea)*I;G[15]=1;return G}function R(G,Q,fa,ta){const za=Q[0],Ea=Q[1];Q=Q[2];let Ga=za-fa[0],Z=Ea-fa[1];fa=Q-fa[2];var T=c.getEpsilon();if(Math.abs(Ga)<
T&&Math.abs(Z)<T&&Math.abs(fa)<T)n(G);else{var I=1/Math.sqrt(Ga*Ga+Z*Z+fa*fa);Ga*=I;Z*=I;fa*=I;I=ta[0];var U=ta[1];T=ta[2];ta=U*fa-T*Z;T=T*Ga-I*fa;U=I*Z-U*Ga;(I=Math.sqrt(ta*ta+T*T+U*U))?(I=1/I,ta*=I,T*=I,U*=I):U=T=ta=0;var ea=Z*U-fa*T,ra=fa*ta-Ga*U,Ba=Ga*T-Z*ta;(I=Math.sqrt(ea*ea+ra*ra+Ba*Ba))?(I=1/I,ea*=I,ra*=I,Ba*=I):Ba=ra=ea=0;G[0]=ta;G[1]=ea;G[2]=Ga;G[3]=0;G[4]=T;G[5]=ra;G[6]=Z;G[7]=0;G[8]=U;G[9]=Ba;G[10]=fa;G[11]=0;G[12]=-(ta*za+T*Ea+U*Q);G[13]=-(ea*za+ra*Ea+Ba*Q);G[14]=-(Ga*za+Z*Ea+fa*Q);G[15]=
1}}function Y(G,Q,fa,ta){const za=Q[0],Ea=Q[1];Q=Q[2];var Ga=ta[0];const Z=ta[1];var T=ta[2];ta=za-fa[0];let I=Ea-fa[1];fa=Q-fa[2];let U=ta*ta+I*I+fa*fa;0<U&&(U=1/Math.sqrt(U),ta*=U,I*=U,fa*=U);let ea=Z*fa-T*I;T=T*ta-Ga*fa;Ga=Ga*I-Z*ta;U=ea*ea+T*T+Ga*Ga;0<U&&(U=1/Math.sqrt(U),ea*=U,T*=U,Ga*=U);G[0]=ea;G[1]=T;G[2]=Ga;G[3]=0;G[4]=I*Ga-fa*T;G[5]=fa*ea-ta*Ga;G[6]=ta*T-I*ea;G[7]=0;G[8]=ta;G[9]=I;G[10]=fa;G[11]=0;G[12]=za;G[13]=Ea;G[14]=Q;G[15]=1;return G}function ja(G){return"mat4("+G[0]+", "+G[1]+", "+
G[2]+", "+G[3]+", "+G[4]+", "+G[5]+", "+G[6]+", "+G[7]+", "+G[8]+", "+G[9]+", "+G[10]+", "+G[11]+", "+G[12]+", "+G[13]+", "+G[14]+", "+G[15]+")"}function da(G){return Math.sqrt(G[0]**2+G[1]**2+G[2]**2+G[3]**2+G[4]**2+G[5]**2+G[6]**2+G[7]**2+G[8]**2+G[9]**2+G[10]**2+G[11]**2+G[12]**2+G[13]**2+G[14]**2+G[15]**2)}function sa(G,Q,fa){G[0]=Q[0]+fa[0];G[1]=Q[1]+fa[1];G[2]=Q[2]+fa[2];G[3]=Q[3]+fa[3];G[4]=Q[4]+fa[4];G[5]=Q[5]+fa[5];G[6]=Q[6]+fa[6];G[7]=Q[7]+fa[7];G[8]=Q[8]+fa[8];G[9]=Q[9]+fa[9];G[10]=Q[10]+
fa[10];G[11]=Q[11]+fa[11];G[12]=Q[12]+fa[12];G[13]=Q[13]+fa[13];G[14]=Q[14]+fa[14];G[15]=Q[15]+fa[15];return G}function qa(G,Q,fa){G[0]=Q[0]-fa[0];G[1]=Q[1]-fa[1];G[2]=Q[2]-fa[2];G[3]=Q[3]-fa[3];G[4]=Q[4]-fa[4];G[5]=Q[5]-fa[5];G[6]=Q[6]-fa[6];G[7]=Q[7]-fa[7];G[8]=Q[8]-fa[8];G[9]=Q[9]-fa[9];G[10]=Q[10]-fa[10];G[11]=Q[11]-fa[11];G[12]=Q[12]-fa[12];G[13]=Q[13]-fa[13];G[14]=Q[14]-fa[14];G[15]=Q[15]-fa[15];return G}function ia(G,Q,fa){G[0]=Q[0]*fa;G[1]=Q[1]*fa;G[2]=Q[2]*fa;G[3]=Q[3]*fa;G[4]=Q[4]*fa;G[5]=
Q[5]*fa;G[6]=Q[6]*fa;G[7]=Q[7]*fa;G[8]=Q[8]*fa;G[9]=Q[9]*fa;G[10]=Q[10]*fa;G[11]=Q[11]*fa;G[12]=Q[12]*fa;G[13]=Q[13]*fa;G[14]=Q[14]*fa;G[15]=Q[15]*fa;return G}function la(G,Q,fa,ta){G[0]=Q[0]+fa[0]*ta;G[1]=Q[1]+fa[1]*ta;G[2]=Q[2]+fa[2]*ta;G[3]=Q[3]+fa[3]*ta;G[4]=Q[4]+fa[4]*ta;G[5]=Q[5]+fa[5]*ta;G[6]=Q[6]+fa[6]*ta;G[7]=Q[7]+fa[7]*ta;G[8]=Q[8]+fa[8]*ta;G[9]=Q[9]+fa[9]*ta;G[10]=Q[10]+fa[10]*ta;G[11]=Q[11]+fa[11]*ta;G[12]=Q[12]+fa[12]*ta;G[13]=Q[13]+fa[13]*ta;G[14]=Q[14]+fa[14]*ta;G[15]=Q[15]+fa[15]*
ta;return G}function ua(G,Q){return G[0]===Q[0]&&G[1]===Q[1]&&G[2]===Q[2]&&G[3]===Q[3]&&G[4]===Q[4]&&G[5]===Q[5]&&G[6]===Q[6]&&G[7]===Q[7]&&G[8]===Q[8]&&G[9]===Q[9]&&G[10]===Q[10]&&G[11]===Q[11]&&G[12]===Q[12]&&G[13]===Q[13]&&G[14]===Q[14]&&G[15]===Q[15]}function ya(G,Q){if(G===Q)return!0;const fa=G[0],ta=G[1],za=G[2],Ea=G[3],Ga=G[4],Z=G[5],T=G[6],I=G[7],U=G[8],ea=G[9],ra=G[10],Ba=G[11],La=G[12],ca=G[13],va=G[14];G=G[15];const xa=Q[0],Da=Q[1],Ha=Q[2],na=Q[3],wa=Q[4],Ma=Q[5],Ja=Q[6],Ua=Q[7],Ya=Q[8],
cb=Q[9],eb=Q[10],pb=Q[11],lb=Q[12],Xb=Q[13],Cb=Q[14];Q=Q[15];const mb=c.getEpsilon();return Math.abs(fa-xa)<=mb*Math.max(1,Math.abs(fa),Math.abs(xa))&&Math.abs(ta-Da)<=mb*Math.max(1,Math.abs(ta),Math.abs(Da))&&Math.abs(za-Ha)<=mb*Math.max(1,Math.abs(za),Math.abs(Ha))&&Math.abs(Ea-na)<=mb*Math.max(1,Math.abs(Ea),Math.abs(na))&&Math.abs(Ga-wa)<=mb*Math.max(1,Math.abs(Ga),Math.abs(wa))&&Math.abs(Z-Ma)<=mb*Math.max(1,Math.abs(Z),Math.abs(Ma))&&Math.abs(T-Ja)<=mb*Math.max(1,Math.abs(T),Math.abs(Ja))&&
Math.abs(I-Ua)<=mb*Math.max(1,Math.abs(I),Math.abs(Ua))&&Math.abs(U-Ya)<=mb*Math.max(1,Math.abs(U),Math.abs(Ya))&&Math.abs(ea-cb)<=mb*Math.max(1,Math.abs(ea),Math.abs(cb))&&Math.abs(ra-eb)<=mb*Math.max(1,Math.abs(ra),Math.abs(eb))&&Math.abs(Ba-pb)<=mb*Math.max(1,Math.abs(Ba),Math.abs(pb))&&Math.abs(La-lb)<=mb*Math.max(1,Math.abs(La),Math.abs(lb))&&Math.abs(ca-Xb)<=mb*Math.max(1,Math.abs(ca),Math.abs(Xb))&&Math.abs(va-Cb)<=mb*Math.max(1,Math.abs(va),Math.abs(Cb))&&Math.abs(G-Q)<=mb*Math.max(1,Math.abs(G),
Math.abs(Q))}function V(G){const Q=c.getEpsilon(),fa=G[0],ta=G[1],za=G[2],Ea=G[4],Ga=G[5],Z=G[6],T=G[8],I=G[9];G=G[10];return Math.abs(1-(fa*fa+Ea*Ea+T*T))<=Q&&Math.abs(1-(ta*ta+Ga*Ga+I*I))<=Q&&Math.abs(1-(za*za+Z*Z+G*G))<=Q}function ha(G){return 1===G[0]&&0===G[1]&&0===G[2]&&0===G[4]&&1===G[5]&&0===G[6]&&0===G[8]&&0===G[9]&&1===G[10]}const ma=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:sa,adjoint:h,copy:f,determinant:r,equals:ya,exactEquals:ua,frob:da,fromQuat:W,fromQuat2:J,
fromRotation:k,fromRotationTranslation:E,fromRotationTranslationScale:N,fromRotationTranslationScaleOrigin:S,fromScaling:z,fromTranslation:w,fromXRotation:x,fromYRotation:y,fromZRotation:B,frustum:L,getRotation:F,getScaling:H,getTranslation:K,hasIdentityRotation:ha,identity:n,invert:g,invertOrIdentity:e,isOrthoNormal:V,lookAt:R,mul:u,multiply:u,multiplyScalar:ia,multiplyScalarAndAdd:la,ortho:D,perspective:P,perspectiveFromFieldOfView:X,rotate:m,rotateX:v,rotateY:A,rotateZ:t,scale:l,set:d,str:ja,sub:qa,
subtract:qa,targetTo:Y,translate:p,transpose:q},Symbol.toStringTag,{value:"Module"}));a.add=sa;a.adjoint=h;a.copy=f;a.determinant=r;a.equals=ya;a.exactEquals=ua;a.frob=da;a.fromQuat=W;a.fromQuat2=J;a.fromRotation=k;a.fromRotationTranslation=E;a.fromRotationTranslationScale=N;a.fromRotationTranslationScaleOrigin=S;a.fromScaling=z;a.fromTranslation=w;a.fromXRotation=x;a.fromYRotation=y;a.fromZRotation=B;a.frustum=L;a.getRotation=F;a.getScaling=H;a.getTranslation=K;a.hasIdentityRotation=ha;a.identity=
n;a.invert=g;a.invertOrIdentity=e;a.isOrthoNormal=V;a.lookAt=R;a.mat4=b;a.mul=u;a.multiply=u;a.multiplyScalar=ia;a.multiplyScalarAndAdd=la;a.ortho=D;a.perspective=P;a.perspectiveFromFieldOfView=X;a.rotate=m;a.rotateX=v;a.rotateY=A;a.rotateZ=t;a.scale=l;a.set=d;a.str=ja;a.sub=qa;a.subtract=qa;a.targetTo=Y;a.translate=p;a.transpose=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["exports"],function(a){function b(){return[0,
0,0]}function c(w){return[w[0],w[1],w[2]]}function f(w,z,k){return[w,z,k]}function d(w,z,k){return[w,z,k]}function n(w,z=b()){const k=Math.min(3,w.length);for(let x=0;x<k;++x)z[x]=w[x];return z}function q(w,z){return new Float64Array(w,z,3)}function e(){return b()}function g(){return[1,1,1]}function h(){return[1,0,0]}function r(){return[0,1,0]}function u(){return[0,0,1]}const p=b(),l=g(),m=h(),v=r(),A=u(),t=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:m,UNIT_Y:v,UNIT_Z:A,ZEROS:p,
clone:c,create:b,createView:q,freeze:d,fromArray:n,fromValues:f,ones:g,unitX:h,unitY:r,unitZ:u,zeros:e},Symbol.toStringTag,{value:"Module"}));a.ONES=l;a.UNIT_X=m;a.UNIT_Y=v;a.UNIT_Z=A;a.ZEROS=p;a.clone=c;a.create=b;a.createView=q;a.freeze=d;a.fromArray=n;a.fromValues=f;a.ones=g;a.unitX=h;a.unitY=r;a.unitZ=u;a.vec3f64=t;a.zeros=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["exports"],function(a){function b(){return q}function c(u){q=
u}function f(u){return u*g}function d(u){return u*h}function n(u,p){return Math.abs(u-p)<=q*Math.max(1,Math.abs(u),Math.abs(p))}let q=1E-6;const e=Math.random,g=Math.PI/180,h=180/Math.PI,r=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:e,equals:n,getEpsilon:b,setEpsilon:c,toDegree:d,toRadian:f},Symbol.toStringTag,{value:"Module"}));a.RANDOM=e;a.common=r;a.equals=n;a.getEpsilon=b;a.setEpsilon=c;a.toDegree=d;a.toRadian=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/collectionUtils":function(){define(["exports",
"../core/CollectionFlattener"],function(a,b){a.createFlattenedTablesCollection=function(c){return new b({getCollections:()=>[c.tables,c.layers],getChildrenFunction:f=>{const d=[];"tables"in f&&d.push(f.tables);"layers"in f&&d.push(f.layers);return d},itemFilterFunction:f=>{const d=f.parent;return!!d&&"tables"in d&&d.tables.includes(f)}})};a.destroyMap=function(c){for(const f of c.values())f?.destroy();c.clear()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports",
"../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,f){const d={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(n){let q=null;"string"===
typeof n?n in d?q=new b({resourceInfo:{data:{layers:[d[n]]}}}):c.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${n}. Try "world-elevation"`):q=f.ensureType(b,n);return q};a.groundElevationLayers=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){function u(p,l,m){if(p)for(let A=0,t=p.length;A<t;A++){var v=p.at(A);if(v?.[l]===m||"group"===v?.type&&(v=u(v.layers,l,m)))return v}}a.LayersMixin=p=>{p=class extends p{constructor(...l){super(...l);this.layers=new c;const m=A=>{A.parent=this;this.layerAdded(A);"elevation"!==A.type&&"base-elevation"!==A.type||d.getLogger(this).error(`Layer 'title:${A.title}, id:${A.id}' of type '${A.type}' is not supported as an operational layer and will therefore be ignored.`)},v=
A=>{A.parent=null;this.layerRemoved(A)};this.addHandles([this.layers.on("before-add",A=>{A.item===this?(A.preventDefault(),d.getLogger(this).error("#add()","Cannot add layer to itself.")):(A=A.item,A.parent&&"remove"in A.parent&&A.parent.remove(A))}),this.layers.on("after-add",A=>m(A.item)),this.layers.on("after-remove",A=>v(A.item))])}destroy(){const l=this.layers.toArray();for(const m of l)m.destroy();this.layers.destroy()}set layers(l){this._set("layers",f.referenceSetter(l,this._get("layers")))}add(l,
m){const v=this.layers;m=v.getNextIndex(m);l instanceof r?l.parent===this?this.reorder(l,m):v.add(l,m):n.isPromiseLike(l)?l.then(A=>{this.destroyed||this.add(A,m)}):d.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(l,m){const v=this.layers;let A=v.getNextIndex(m);l.slice().forEach(t=>{t.parent===this?this.reorder(t,A):(v.add(t,A),A+=1)})}findLayerById(l){return u(this.layers,"id",l)}findLayerByUid(l){return u(this.layers,"uid",l)}remove(l){return this.layers.remove(l)}removeMany(l){return this.layers.removeMany(l)}removeAll(){return this.layers.removeAll()}reorder(l,
m){return this.layers.reorder(l,m)}layerAdded(l){}layerRemoved(l){}};b.__decorate([q.property()],p.prototype,"layers",null);return p=b.__decorate([h.subclass("esri.support.LayersMixin")],p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/tslib.es6 ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ./support/fromPortalItem ../time/TimeExtent".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t){let w=0;d=class extends d.EventedMixin(n.IdentifiableMixin(q)){constructor(){super(...arguments);this.attributionDataUrl=null;this.fullExtent=new m(-180,-90,180,90,v.WGS84);this.id=Date.now().toString(16)+"-layer-"+w++;this.legendEnabled=!0;this.listMode="show";this.opacity=1;this.parent=null;this.persistenceEnabled=!1;this.attributionVisible=this.popupEnabled=!0;this.spatialReference=v.WGS84;this.visibilityTimeExtent=this.url=this.type=this.title=null;
this.visible=!0}static async fromArcGISServerUrl(z){z="string"===typeof z?{url:z}:z;return(await new Promise((k,x)=>a(["./support/arcgisLayers"],k,x))).fromUrl(z)}static fromPortalItem(z){return A.fromPortalItem(z)}initialize(){this.when().catch(z=>{g.isAbortError(z)||e.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:z})})}destroy(){const z=this.parent;z&&("layers"in z&&z.layers.includes(this)?z.layers.remove(this):"tables"in
z&&z.tables.includes(this)?z.tables.remove(this):"baseLayers"in z&&z.baseLayers.includes(this)?z.baseLayers.remove(this):"referenceLayers"in z&&z.referenceLayers.includes(this)&&z.referenceLayers.remove(this),this._set("parent",null))}get effectiveVisible(){let z=this.visible;const k=this.parent;z&&k&&"effectiveVisible"in k&&(z&&=k.effectiveVisible);return z}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return h.urlToObject(this.url)}createLayerView(z,k){return Promise.reject(new f("layer:create-layer-view",
"Layer does not support creating a layer view"))}async fetchAttributionData(){const z=this.attributionDataUrl;if(this.hasAttributionData&&z)return(await c(z,{query:{f:"json"},responseType:"json"})).data;throw new f("layer:no-attribution-data","Layer does not have attribution data");}};b.__decorate([r.property({type:String})],d.prototype,"attributionDataUrl",void 0);b.__decorate([r.property({readOnly:!0})],d.prototype,"effectiveVisible",null);b.__decorate([r.property({type:m})],d.prototype,"fullExtent",
void 0);b.__decorate([r.property({readOnly:!0})],d.prototype,"hasAttributionData",null);b.__decorate([r.property({type:String,clonable:!1})],d.prototype,"id",void 0);b.__decorate([r.property({type:Boolean,nonNullable:!0})],d.prototype,"legendEnabled",void 0);b.__decorate([r.property({type:["show","hide","hide-children"]})],d.prototype,"listMode",void 0);b.__decorate([r.property({type:Number,range:{min:0,max:1},nonNullable:!0})],d.prototype,"opacity",void 0);b.__decorate([r.property({clonable:!1})],
d.prototype,"parent",void 0);b.__decorate([r.property({readOnly:!0})],d.prototype,"parsedUrl",null);b.__decorate([r.property({type:Boolean,readOnly:!0})],d.prototype,"persistenceEnabled",void 0);b.__decorate([r.property({type:Boolean})],d.prototype,"popupEnabled",void 0);b.__decorate([r.property({type:Boolean})],d.prototype,"attributionVisible",void 0);b.__decorate([r.property({type:v})],d.prototype,"spatialReference",void 0);b.__decorate([r.property({type:String})],d.prototype,"title",void 0);b.__decorate([r.property({readOnly:!0,
json:{read:!1}})],d.prototype,"type",void 0);b.__decorate([r.property()],d.prototype,"url",void 0);b.__decorate([r.property({type:t})],d.prototype,"visibilityTimeExtent",void 0);b.__decorate([r.property({type:Boolean,nonNullable:!0})],d.prototype,"visible",void 0);return d=b.__decorate([l.subclass("esri.layers.Layer")],d)})},"esri/core/Identifiable":function(){define(["../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b){let c=0;const f=q=>{q=class extends q{constructor(...e){super(...e);
Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+c++})}};return q=a.__decorate([b.subclass("esri.core.Identifiable")],q)},d=q=>{q=class extends q{constructor(...e){super(...e);Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:c++})}};return q=a.__decorate([b.subclass("esri.core.Identifiable.NumericIdentifiable")],q)};let n=class extends f(class{}){};n=a.__decorate([b.subclass("esri.core.Identifiable")],n);(function(q){q.IdentifiableMixin=
f;q.NumericIdentifiableMixin=d})(n||={});return n})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../config","../../core/Logger"],function(a,b,c,f){b.fromPortalItem=async function(d){d="portalItem"in d?d:{portalItem:d};var {fromItem:n}=await new Promise((q,e)=>a(["../../portal/support/portalLayers"],q,e));try{return await n(d)}catch(q){throw n=d?.portalItem,d=n?.id||"unset",n=n?.portal?.url||c.portalUrl,f.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()",
"Failed to create layer from portal item (portal: '"+n+"', id: '"+d+"')",q),q;}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/time/TimeExtent":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/timeUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./constants".split(" "),function(a,b,c,
f,d,n,q,e,g,h,r){var u;b=u=class extends b{static get allTime(){return p}static get empty(){return l}static fromArray(m){return new u({start:null!=m[0]?new Date(m[0]):m[0],end:null!=m[1]?new Date(m[1]):m[1]})}constructor(m){super(m);this.start=this.end=null}readEnd(m,v){return null!=v.end?new Date(v.end):null}writeEnd(m,v){v.end=m?.getTime()??null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(m,v){return null!=v.start?new Date(v.start):null}writeStart(m,
v){v.start=m?.getTime()??null}clone(){return new u({end:this.end,start:this.start})}equals(m){if(!m)return!1;const v=this.start?.getTime()??this.start,A=this.end?.getTime()??this.end,t=m.start?.getTime()??m.start;m=m.end?.getTime()??m.end;return v===t&&A===m}expandTo(m,v=r.system){if(this.isEmpty||this.isAllTime)return this.clone();let A=this.start;A&&=c.truncateDate(A,m,v);let t=this.end;if(t){const w=c.truncateDate(t,m,v);t=t.getTime()===w.getTime()?w:c.offsetDate(w,1,m,v)}return new u({start:A,
end:t})}intersection(m){if(!m)return this.clone();if(this.isEmpty||m.isEmpty)return u.empty;if(this.isAllTime)return m.clone();if(m.isAllTime)return this.clone();const v=this.start?.getTime()??-Infinity,A=this.end?.getTime()??Infinity,t=m.start?.getTime()??-Infinity;m=m.end?.getTime()??Infinity;let w,z;t>=v&&t<=A?w=t:v>=t&&v<=m&&(w=v);A>=t&&A<=m?z=A:m>=v&&m<=A&&(z=m);return null==w||null==z||isNaN(w)||isNaN(z)?u.empty:new u({start:-Infinity===w?null:new Date(w),end:Infinity===z?null:new Date(z)})}offset(m,
v,A=r.system){if(this.isEmpty||this.isAllTime)return this.clone();const t=new u,{start:w,end:z}=this;null!=w&&(t.start=c.offsetDate(w,m,v,A));null!=z&&(t.end=c.offsetDate(z,m,v,A));return t}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(m){if(!m||m.isEmpty)return this.clone();if(this.isEmpty)return m.clone();if(this.isAllTime||m.isAllTime)return p.clone();const v=null!=this.start&&null!=m.start?new Date(Math.min(this.start.getTime(),m.start.getTime())):
null;m=null!=this.end&&null!=m.end?new Date(Math.max(this.end.getTime(),m.end.getTime())):null;return new u({start:v,end:m})}};a.__decorate([f.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"end",void 0);a.__decorate([e.reader("end")],b.prototype,"readEnd",null);a.__decorate([h.writer("end")],b.prototype,"writeEnd",null);a.__decorate([f.property({readOnly:!0,json:{read:!1}})],b.prototype,"isAllTime",null);a.__decorate([f.property({readOnly:!0,json:{read:!1}})],b.prototype,"isEmpty",
null);a.__decorate([f.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);a.__decorate([e.reader("start")],b.prototype,"readStart",null);a.__decorate([h.writer("start")],b.prototype,"writeStart",null);a=b=u=a.__decorate([g.subclass("esri.time.TimeExtent")],b);const p=new b,l=new b({start:void 0,end:void 0});return a})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/constants","../chunks/datetime"],function(a,b,c,f){function d(e,g,h){return 0===
e?0:e*q[g]/q[h]}function n(e){switch(e){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";case "months":return"month";case "years":return"year"}}const q={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.convertTime=d;a.isValidDate=function(e){return e instanceof Date&&!isNaN(e.getTime())};
a.makeUTCTime=function(e,g,h="milliseconds"){g=new Date(d(g,h,"milliseconds"));g.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return g};a.mergeTimeExtents=function(e,g){return e&&g?e.intersection(g):e||g};a.millisecondsPerTimeUnit=q;a.offsetDate=function(e,g,h,r=c.system){r=new f.IANAZone(b.resolveTimeZone(r));e=f.DateTime.fromJSDate(e,{zone:r});r="decades"===h||"centuries"===h?"year":n(h);"decades"===h&&(g*=10);"centuries"===h&&(g*=100);return e.plus({[r]:g}).toJSDate()};a.offsetDateUTC=
function(e,g,h="milliseconds"){e=e.getTime();g=d(g,h,"milliseconds");return new Date(e+g)};a.resetUTCDate=function(e,g){e=new Date(e.getTime());e.setUTCFullYear(g.getFullYear(),g.getMonth(),g.getDate());return e};a.timeSinceUTCMidnight=function(e,g="milliseconds"){const h=d(e.getUTCHours(),"hours","milliseconds"),r=d(e.getUTCMinutes(),"minutes","milliseconds"),u=d(e.getUTCSeconds(),"seconds","milliseconds");e=e.getUTCMilliseconds();return d(h+r+u+e,"milliseconds",g)};a.truncateDate=function(e,g,h=
c.system){h=new f.IANAZone(b.resolveTimeZone(h));e=f.DateTime.fromJSDate(e,{zone:h});if("decades"===g||"centuries"===g)return e=e.startOf("year"),{year:h}=e,e.set({year:h-h%("decades"===g?10:100)}).toJSDate();g=n(g);return e.startOf(g).toJSDate()};a.truncateLocalTime=function(e){const g=new Date(0);g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0);g.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/support/TablesMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){function h(u,p,l){if(u)for(let v=0,A=u.length;v<A;v++){var m=u.at(v);if(m[p]===l||"group"===m?.type&&(m=h(m.tables,p,l)))return m}}const r=new Set(["feature","subtype-group"]);a.TablesMixin=u=>{u=class extends u{constructor(...p){super(...p);
this.tables=new c;this.addHandles([this.tables.on("after-add",l=>{l=l.item;l.parent&&l.parent!==this&&"tables"in l.parent&&l.parent.tables.remove(l);l.parent=this;r.has(l.type)||d.getLogger(this).error(`Layer 'title:${l.title}, id:${l.id}' of type '${l.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",l=>{l.item.parent=null})])}destroy(){const p=this.tables.toArray();for(const l of p)l.destroy();this.tables.destroy()}set tables(p){this._set("tables",
f.referenceSetter(p,this._get("tables")))}findTableById(p){return h(this.tables,"id",p)}findTableByUid(p){return h(this.tables,"uid",p)}};b.__decorate([n.property()],u.prototype,"tables",null);return u=b.__decorate([g.subclass("esri.support.TablesMixin")],u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry":function(){define("exports ./geometry/Extent ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference".split(" "),
function(a,b,c,f,d,n,q){a.Extent=b;a.Multipoint=c;a.Point=f;a.Polygon=d;a.Polyline=n;a.SpatialReference=q;a.__exported__=function(){};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,
b,c,f,d,n,q,e,g,h,r){function u(l){return(m,v)=>null==m?v:null==v?m:l(m,v)}var p;f=p=class extends g{constructor(...l){super(...l);this.points=[];this.type="multipoint"}normalizeCtorArgs(l,m){if(!l&&!m)return{};const v={};Array.isArray(l)?(v.points=l,v.spatialReference=m):!l||"esri.geometry.SpatialReference"!==l.declaredClass&&null==l.wkid?(l.points&&(v.points=l.points),l.spatialReference&&(v.spatialReference=l.spatialReference),l.hasZ&&(v.hasZ=l.hasZ),l.hasM&&(v.hasM=l.hasM)):v.spatialReference=
l;if(l=v.points?.[0])void 0===v.hasZ&&void 0===v.hasM?(v.hasZ=2<l.length,v.hasM=!1):void 0===v.hasZ?v.hasZ=3<l.length:void 0===v.hasM&&(v.hasM=3<l.length);return v}get cache(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const l=this.points;if(!l.length)return null;const m=new e,v=this.hasZ,A=this.hasM,t=v?3:2;var w=l[0];const z=u(Math.min),k=u(Math.max);let [x,y]=w,[B,E]=w,J,K,H,F;for(let N=0,S=
l.length;N<S;N++){w=l[N];const [W,L]=w;x=z(x,W);y=z(y,L);B=k(B,W);E=k(E,L);if(v&&2<w.length){const P=w[2];J=z(J,P);H=k(H,P)}A&&w.length>t&&(w=w[t],K=z(K,w),F=k(F,w))}m.xmin=x;m.ymin=y;m.xmax=B;m.ymax=E;m.spatialReference=this.spatialReference;v?(m.zmin=J,m.zmax=H):(m.zmin=void 0,m.zmax=void 0);A?(m.mmin=K,m.mmax=F):(m.mmin=void 0,m.mmax=void 0);return m}writePoints(l,m){m.points=b.clone(this.points)}addPoint(l){r.updateSupportFromPoint(this,l);Array.isArray(l)?this.points.push(l):this.points.push(l.toArray());
this.notifyChange("points");return this}clone(){const l={points:b.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(l.hasZ=!0);this.hasM&&(l.hasM=!0);return new p(l)}getPoint(l){if(!this._validateInputs(l))return null;l=this.points[l];const m={x:l[0],y:l[1],spatialReference:this.spatialReference};let v=2;this.hasZ&&(m.z=l[2],v=3);this.hasM&&(m.m=l[v]);return new h(m)}removePoint(l){if(!this._validateInputs(l))return null;l=new h(this.points.splice(l,1)[0],this.spatialReference);
this.notifyChange("points");return l}setPoint(l,m){if(!this._validateInputs(l))return this;r.updateSupportFromPoint(this,m);Array.isArray(m)||(m=m.toArray());this.points[l]=m;this.notifyChange("points");return this}toJSON(l){return this.write({},l)}_validateInputs(l){return null!=l&&0<=l&&l<this.points.length}};a.__decorate([c.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([c.property()],f.prototype,"extent",null);a.__decorate([c.property({type:[[Number]],json:{write:{isRequired:!0}}})],
f.prototype,"points",void 0);a.__decorate([q.writer("points")],f.prototype,"writePoints",null);f=p=a.__decorate([n.subclass("esri.geometry.Multipoint")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(b,c,f=!1){let {hasM:d,hasZ:n}=b;Array.isArray(c)?4!==c.length||d||n?3===c.length&&f&&!d?(n=!0,d=!1):3===c.length&&d&&n&&(n=d=!1):n=d=!0:(n=!n&&c.hasZ&&(!d||c.hasM),d=!d&&c.hasM&&(!n||c.hasZ));
b.hasZ=n;b.hasM=d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w){var z;d=z=class extends h{static fromExtent(k){var x=k.clone().normalize();({spatialReference:k}=k);let y=!1,B=!1;for(const E of x)E.hasZ&&(y=!0),E.hasM&&(B=!0);x={rings:x.map(E=>{const J=[[E.xmin,E.ymin],[E.xmin,E.ymax],[E.xmax,E.ymax],[E.xmax,E.ymin],[E.xmin,E.ymin]];if(y&&E.hasZ){var K=E.zmin+.5*(E.zmax-E.zmin);for(let H=0;H<J.length;H++)J[H].push(K)}if(B&&E.hasM)for(E=E.mmin+.5*(E.mmax-E.mmin),K=0;K<J.length;K++)J[K].push(E);return J}),spatialReference:k};
y&&(x.hasZ=!0);B&&(x.hasM=!0);return new z(x)}constructor(k){if(k){var {rings:x,hasM:y,hasZ:B,spatialReference:E}=k;x??=[];"number"===typeof x[0]?.[0]&&(x=[x]);switch(x[0]?.[0]?.length){case 4:B??=!0;y??=!0;break;case 3:B??=!0!==y;y??=!B;break;default:B??=!1,y??=!1}E??=u.WGS84;k={...k,hasM:y,hasZ:B,rings:x,spatialReference:E}}else k=void 0;super(k);this.curveRings=void 0;this.rings=[];this.type="polygon"}get cache(){this.commitProperty("curveRings");this.commitProperty("hasM");this.commitProperty("hasZ");
this.commitProperty("rings");this.commitProperty("spatialReference");return{}}get centroid(){const k=p.polygonCentroid(this);if(!k||isNaN(k[0])||isNaN(k[1])||this.hasZ&&isNaN(k[2]))return null;const x=new r;x.x=k[0];x.y=k[1];x.spatialReference=this.spatialReference;this.hasZ&&(x.z=k[2]);return x}writeCurveRings(k,x){x.curveRings=c.clone(k)}get extent(){const k=v.getPolygonExtent(this),{spatialReference:x}=this;return k?new g({...k,spatialReference:x}):null}get isSelfIntersecting(){return A.isSelfIntersecting(this.rings)}writeRings(k,
x){x.rings=c.clone(this.rings)}addRing(k){if(k){var x=this.rings,y=x.length;if(Array.isArray(k[0]))x[y]=k.slice();else{const B=[];for(let E=0,J=k.length;E<J;E++)B[E]=k[E].toArray();x[y]=B}this.notifyChange("rings");return this}}clone(){const k=new z;k.spatialReference=this.spatialReference;k.rings=c.clone(this.rings);k.curveRings=c.clone(this.curveRings);k.hasZ=this.hasZ;k.hasM=this.hasM;return k}equals(k){if(this===k)return!0;if(null==k)return!1;var x=this.spatialReference,y=k.spatialReference;if(null!=
x!==(null!=y)||null!=x&&null!=y&&!x.equals(y)||this.rings.length!==k.rings.length)return!1;x=([B,E,J,K],[H,F,N,S])=>B===H&&E===F&&(null==J&&null==N||J===N)&&(null==K&&null==S||K===S);for(y=0;y<this.rings.length;y++)if(!b.equals(this.rings[y],k.rings[y],x))return!1;return!0}contains(k){if(!k)return!1;const x=t.project(k,this.spatialReference);return l.polygonContainsPoint(this,null!=x?x:k)}isClockwise(k){k=Array.isArray(k[0])?k:k.map(x=>this.hasZ?this.hasM?[x.x,x.y,x.z,x.m]:[x.x,x.y,x.z]:[x.x,x.y]);
return m.isClockwise(k)}getPoint(k,x){if(!this._validateInputs(k,x))return null;k=this.rings[k][x];x=this.hasZ;const y=this.hasM;return x&&!y?new r(k[0],k[1],k[2],void 0,this.spatialReference):y&&!x?new r(k[0],k[1],void 0,k[2],this.spatialReference):x&&y?new r(k[0],k[1],k[2],k[3],this.spatialReference):new r(k[0],k[1],this.spatialReference)}insertPoint(k,x,y){if(!this._validateInputs(k,x,!0))return this;w.updateSupportFromPoint(this,y);Array.isArray(y)||(y=y.toArray());this.rings[k].splice(x,0,y);
this.notifyChange("rings");return this}removePoint(k,x){if(!this._validateInputs(k,x))return null;k=new r(this.rings[k].splice(x,1)[0],this.spatialReference);this.notifyChange("rings");return k}removeRing(k){if(!this._validateInputs(k,null))return null;k=this.rings.splice(k,1)[0];const x=this.spatialReference;k=k.map(y=>new r(y,x));this.notifyChange("rings");return k}setPoint(k,x,y){if(!this._validateInputs(k,x))return this;w.updateSupportFromPoint(this,y);Array.isArray(y)||(y=y.toArray());this.rings[k][x]=
y;this.notifyChange("rings");return this}_validateInputs(k,x,y=!1){return null==k||0>k||k>=this.rings.length||null!=x&&(k=this.rings[k],y&&(0>x||x>k.length)||!y&&(0>x||x>=k.length))?!1:!0}toJSON(k){return this.write({},k)}};a.__decorate([f.property({readOnly:!0})],d.prototype,"cache",null);a.__decorate([f.property({readOnly:!0})],d.prototype,"centroid",null);a.__decorate([f.property({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],d.prototype,"curveRings",
void 0);a.__decorate([e.writer("curveRings")],d.prototype,"writeCurveRings",null);a.__decorate([f.property({readOnly:!0})],d.prototype,"extent",null);a.__decorate([f.property({readOnly:!0})],d.prototype,"isSelfIntersecting",null);a.__decorate([f.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"rings",void 0);a.__decorate([e.writer("rings")],d.prototype,"writeRings",null);d=z=a.__decorate([q.subclass("esri.geometry.Polygon")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},
"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,c){function f(h,r){if(!h?.length)return null;const u=[],p=[],l=r?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let m=0,v=h.length;m<v;m++){const A=d(h[m],r,l);A&&p.push(A)}p.sort((m,v)=>{let A=m[2]-v[2];0===A&&r&&(A=m[4]-v[4]);return A});p.length&&(u[0]=p[0][0],u[1]=p[0][1],r&&(u[2]=p[0][3]),u[0]<l[0]||u[0]>l[1]||u[1]<
l[2]||u[1]>l[3]||r&&(u[2]<l[4]||u[2]>l[5]))&&(u.length=0);if(!u.length)if(h=h[0]&&h[0].length?n(h[0],r):null)u[0]=h[0],u[1]=h[1],r&&2<h.length&&(u[2]=h[2]);else return null;return u}function d(h,r,u){let p=0,l=0,m=0,v=0,A=0;const t=h.length?h[0][0]:0,w=h.length?h[0][1]:0,z=h.length&&r?h[0][2]:0;for(let B=0;B<h.length;B++){var k=h[B],x=h[(B+1)%h.length];const [E,J,K]=k;var y=E-t;const H=J-w,[F,N,S]=x,W=F-t,L=N-w,P=y*L-W*H;v+=P;p+=(y+W)*P;l+=(H+L)*P;r&&2<k.length&&2<x.length&&(k=K-z,x=S-z,y=y*x-W*k,
m+=(k+x)*y,A+=y);E<u[0]&&(u[0]=E);E>u[1]&&(u[1]=E);J<u[2]&&(u[2]=J);J>u[3]&&(u[3]=J);r&&(K<u[4]&&(u[4]=K),K>u[5]&&(u[5]=K))}0<v&&(v*=-1);0<A&&(A*=-1);if(!v)return null;v*=.5;A*=.5;h=[p/(6*v)+t,l/(6*v)+w,v];r&&(u[4]===u[5]||0===A?(h[3]=(u[4]+u[5])/2,h[4]=0):(h[3]=m/(6*A)+z,h[4]=A));return h}function n(h,r){const u=r?[0,0,0]:[0,0],p=r?[0,0,0]:[0,0];let l=0,m=0,v=0,A=0;for(let w=0,z=h.length;w<z-1;w++){var t=h[w];const k=h[w+1];if(t&&k){u[0]=t[0];u[1]=t[1];p[0]=k[0];p[1]=k[1];r&&2<t.length&&2<k.length&&
(u[2]=t[2],p[2]=k[2]);const x=c.getLength(u,p);x&&(l+=x,t=c.getMidpoint(t,k),m+=x*t[0],v+=x*t[1],r&&2<t.length&&(A+=x*t[2]))}}return 0<l?r?[m/l,v/l,A/l]:[m/l,v/l]:h.length?h[0]:null}function q(h){const {hasZ:r,totalSize:u}=h;if(0===u)return null;const p=[],l=[],m=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];
for(h.reset();h.nextPath();){const v=d(b.collectPath(h),h.hasZ,m);v&&l.push(v)}l.sort((v,A)=>{let t=v[2]-A[2];0===t&&r&&(t=v[4]-A[4]);return t});l.length&&(p[0]=l[0][0],p[1]=l[0][1],r&&(p[2]=l[0][3]),p[0]<m[0]||p[0]>m[1]||p[1]<m[2]||p[1]>m[3]||r&&(p[2]<m[4]||p[2]>m[5]))&&(p.length=0);if(!p.length)if(h.reset(),h.nextPath(),h=h.pathSize?e(h):null)p[0]=h[0],p[1]=h[1],r&&2<h.length&&(p[2]=h[2]);else return null;return p}function e(h){const {hasZ:r}=h,u=r?[0,0,0]:[0,0],p=r?[0,0,0]:[0,0];let l=0,m=0,v=
0,A=0;if(h.nextPoint()){var t=h.x,w=h.y;let z=h.z;for(;h.nextPoint();){const k=h.x,x=h.y,y=h.z;u[0]=t;u[1]=w;p[0]=k;p[1]=x;r&&(u[2]=z,p[2]=y);if(t=c.getLength(u,p))l+=t,w=c.getMidpoint(u,p),m+=t*w[0],v+=t*w[1],r&&2<w.length&&(A+=t*w[2]);t=k;w=x;z=y}}return 0<l?r?[m/l,v/l,A/l]:[m/l,v/l]:h.pathSize?(h.seekPathStart(),h.nextPoint(),[h.x,h.y]):null}const g=1/3;a.extentCentroid=function(h){return h?h.hasZ?[h.xmax-h.xmin/2,h.ymax-h.ymin/2,h.zmax-h.zmin/2]:[h.xmax-h.xmin/2,h.ymax-h.ymin/2]:null};a.lineCentroid=
n;a.lineCentroidCursor=e;a.polygonCentroid=function(h){return h?f(h.rings,h.hasZ??!1):null};a.ringCentroid=d;a.ringCentroidCursorXY=function(h,r){let u=0,p=0,l=0;h.nextPoint();const m=h.pathSize?h.x:0,v=h.pathSize?h.y:0;for(let w=0;w<h.pathSize;w++){h.seekInPath(w);var A=[h.x,h.y];h.seekInPath((w+1)%h.pathSize);var t=[h.x,h.y];const [z,k]=A;A=z-m;const x=k-v,[y,B]=t;t=y-m;const E=B-v,J=A*E-t*x;l+=J;u+=(A+t)*J;p+=(x+E)*J;z<r[0]&&(r[0]=z);z>r[1]&&(r[1]=z);k<r[2]&&(r[2]=k);k>r[3]&&(r[3]=k)}0<l&&(l*=
-1);if(!l)return null;l*=.5;return[u/(6*l)+m,p/(6*l)+v,l]};a.ringsCentroid=f;a.ringsCentroidCursor=q;a.weightedAreaCentroid=function(h){let r=0;for(h.reset();h.nextPath();)r+=h.getCurrentRingArea();if(1E-6>r)return(h=q(h))?[h[0],h[1]]:null;const u=[0,0];h.reset();if(!h.nextPath()||!h.nextPoint())return null;const p=[h.x,h.y];for(h.reset();h.nextPath();)a:{let t=void 0;var l=u,m=p,v=h;if(!v||3>v.pathSize)break a;v.nextPoint();var A=v.x;const w=v.y;v.nextPoint();let z=v.x-A,k=v.y-w,x=0,y=0;for(;v.nextPoint();)x=
v.x-A,y=v.y-w,t=.5*g*(x*k-y*z),l[0]+=t*(z+x),l[1]+=t*(k+y),z=x,k=y;v=v.getCurrentRingArea();A=[A,w];A[0]-=m[0];A[1]-=m[1];A[0]*=v;A[1]*=v;l[0]+=A[0];l[1]+=A[1]}u[0]*=1/r;u[1]*=1/r;u[0]+=p[0];u[1]+=p[1];return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(a){a.collectMultipath=function(b){const c=[];for(b.reset();b.nextPath();){const f=[];for(;b.nextPoint();)f.push([b.x,b.y]);c.push(f)}b.reset();
return c};a.collectPath=function(b){const c=[];for(;b.nextPoint();)c.push([b.x,b.y]);b.seekPathStart();return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports","../../core/arrayUtils","./Axis","./spatialReferenceUtils"],function(a,b,c,f){function d(m,v){const A=v[0]-m[0],t=v[1]-m[1];return 2<m.length&&2<v.length?(m=m[2]-v[2],Math.sqrt(A*A+t*t+m*m)):Math.sqrt(A*A+t*t)}function n(m,v,A){const t=m[0]+A*(v[0]-m[0]),w=m[1]+
A*(v[1]-m[1]);return 2<m.length&&2<v.length?[t,w,m[2]+A*(v[2]-m[2])]:[t,w]}function q(m,v,A,t){const [w,z]=v,[k,x]=A,[y,B]=t;v=y-k;A=B-x;t=Math.min(1,Math.max(0,((w-k)*v+(z-x)*A)/(v*v+A*A)));m[0]=k+v*t;m[1]=x+A*t;return m}function e(m,v,A,t,w,z){let k=w-A,x=z-t;if(0!==k||0!==x){const y=((m-A)*k+(v-t)*x)/(k*k+x*x);1<y?(A=w,t=z):0<y&&(A+=k*y,t+=x*y)}k=m-A;x=v-t;return k*k+x*x}function g(m,v=c.Axis.X,A=c.Axis.Y){let t=0;const w=m.length;let z=m[0];for(let k=1;k<w;k++){const x=m[k];t+=(x[v]-z[v])*(x[A]+
z[A]);z=x}h(m)||(m=m[0],t+=(m[v]-z[v])*(m[A]+z[A]));return 0<=t}function h(m){const v=m.length;return 3>v||b.equals(m[0],m[v-1])}function r(m){if(!("rings"in m))return!1;let v=!1;for(const A of m.rings)h(A)||(A.push(A[0].slice()),v=!0);return v}function u(m){if(!("rings"in m)||0===m.rings.length||g(m.rings[0]))return!1;for(const v of m.rings)v.reverse();return!0}function p(m,v){var A=f.getInfo(v);if(A){v=A.valid[0];A=A.valid[1];var t=A-v;for(const w of m){m=Infinity;let z=-Infinity;for(const k of w){const x=
l(k[0],v,A);m=Math.min(m,x);z=Math.max(z,x);k[0]=x}m=z-m;t-m<m&&w.forEach(k=>{0>k[0]&&(k[0]+=t)})}}}function l(m,v,A){const t=A-v;return m<v?A-(v-m)%t:m>A?v+(m-v)%t:m}a.closeRings=r;a.closeRingsAndFixWinding=function(m){"rings"in m&&(r(m),u(m))};a.distanceFromPointToPolygon=function(m,v,A){let t=!1,w=Infinity,z,k,x,y;for(A.reset();A.nextPath();)if(A.nextPoint())for(z=A.x,k=A.y;A.nextPoint();)x=A.x,y=A.y,k>v!==y>v&&m<(x-z)*(v-k)/(y-k)+z&&(t=!t),w=Math.min(w,e(m,v,z,k,x,y)),z=x,k=y;return 0===w?0:(t?
1:-1)*Math.sqrt(w)};a.distanceToSegmentSquared=e;a.fixWinding=u;a.geometryToCoordinates=function(m){if(!m)return null;if(Array.isArray(m))return m;const v=m.hasZ,A=m.hasM;if("point"===m.type)return A&&v?[m.x,m.y,m.z,m.m]:v?[m.x,m.y,m.z]:A?[m.x,m.y,m.m]:[m.x,m.y];if("polygon"===m.type)return m.rings.slice();if("polyline"===m.type)return m.paths.slice();if("multipoint"===m.type)return m.points.slice();if("extent"===m.type){m=m.clone().normalize();if(!m)return null;let t=!1,w=!1;m.forEach(z=>{z.hasZ&&
(t=!0);z.hasM&&(w=!0)});return m.map(z=>{const k=[[z.xmin,z.ymin],[z.xmin,z.ymax],[z.xmax,z.ymax],[z.xmax,z.ymin],[z.xmin,z.ymin]];if(t&&z.hasZ){var x=.5*(z.zmax-z.zmin);for(let y=0;y<k.length;y++)k[y].push(x)}if(w&&z.hasM)for(z=.5*(z.mmax-z.mmin),x=0;x<k.length;x++)k[x].push(z);return k})}return null};a.getLength=d;a.getMidpoint=function(m,v){return n(m,v,.5)};a.getPathLength=function(m){const v=m.length;let A=0;for(let t=0;t<v-1;++t)A+=d(m[t],m[t+1]);return A};a.getPointOnPath=function(m,v){if(0>=
v)return m[0];const A=m.length;let t=0;for(let w=0;w<A-1;++w){const z=d(m[w],m[w+1]);if(v-t<z)return n(m[w],m[w+1],(v-t)/z);t+=z}return m[A-1]};a.hasCompatibleTopology=function(m,v){if(m===v)return!0;if(m.type!==v.type)return!1;if("point"===m.type||"mesh"===m.type||"extent"===m.type)return!0;if("multipoint"===m.type)return m.points.length===v.points.length;const [A,t]="polyline"===m.type?[m.paths,v.paths]:[m.rings,v.rings];return A.length===t.length&&A.every((w,z)=>w.length===t[z].length)};a.isClockwise=
g;a.isClosed=h;a.projectPointOnLine=function(m,v,A,t){return q(m,v,A[t],A[t+1])};a.projectPointOnLineSeg=q;a.unnormalizeGeometryOnDatelineCrossing=function(m){if("polygon"!==m.type&&"polyline"!==m.type)return m;p("polygon"===m.type?m.rings:m.paths,m.spatialReference);return m};a.unnormalizeVerticesOnDatelineCrossing=p;a.unnormalizedCoordinate=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Axis":function(){define(["exports"],function(a){a.Axis=void 0;var b=
a.Axis||(a.Axis={});b[b.X=0]="X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function c(g,h=!1,r=!1){return h?r?{xmin:g[0],ymin:g[1],zmin:g[2],mmin:g[3],xmax:g[4],ymax:g[5],zmax:g[6],mmax:g[7]}:{xmin:g[0],ymin:g[1],zmin:g[2],xmax:g[3],ymax:g[4],zmax:g[5]}:r?{xmin:g[0],ymin:g[1],mmin:g[2],xmax:g[3],ymax:g[4],mmax:g[5]}:{xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3]}}
function f(g){const {hasZ:h,hasM:r,points:u}=g;return c(b.getPointsBounds(e,u,h??!1,r??!1),h,r)}function d(g){const {x:h,y:r,z:u,m:p}=g;g=null!=p;return null!=u?g?{xmin:h,ymin:r,zmin:u,mmin:p,xmax:h,ymax:r,zmax:u,mmax:p}:{xmin:h,ymin:r,zmin:u,xmax:h,ymax:r,zmax:u}:g?{xmin:h,ymin:r,mmin:p,xmax:h,ymax:r,mmax:p}:{xmin:h,ymin:r,xmax:h,ymax:r}}function n(g){const {hasZ:h,hasM:r,rings:u}=g;return(g=b.getRingsOrPathsBounds(e,u,h??!1,r??!1))?c(g,h,r):null}function q(g){const {hasZ:h,hasM:r,paths:u}=g;return(g=
b.getRingsOrPathsBounds(e,u,h??!1,r??!1))?c(g,h,r):null}const e=[];a.getGeometryExtent=function(g){return g?void 0!==g.xmin&&void 0!==g.ymin&&void 0!==g.xmax&&void 0!==g.ymax?g:void 0!==g.x&&void 0!==g.y?d(g):void 0!==g.rings?n(g):void 0!==g.paths?q(g):void 0!==g.points?f(g):null:null};a.getMultipointExtent=f;a.getPointExtent=d;a.getPolygonExtent=n;a.getPolylineExtent=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports",
"./aaBoundingRect"],function(a,b){function c(r){return void 0!==r.xmin&&void 0!==r.ymin&&void 0!==r.xmax&&void 0!==r.ymax}function f(r){return function(u,p){return null==u?p:null==p?u:r(u,p)}}function d(r){let u,p,l,m;u=l=Infinity;for(p=m=-Infinity;r.nextPoint();)u=Math.min(r.x,u),l=Math.min(r.y,l),p=Math.max(r.x,p),m=Math.max(r.y,m);return b.create([u,l,p,m])}function n(r,u,p,l){const m=p?3:2;if(!u.length||!u[0].length)return null;let [v,A]=u[0][0],[t,w]=u[0][0],z=void 0,k=void 0,x=void 0;var y=
void 0;for(let B=0;B<u.length;B++){const E=u[B];for(let J=0;J<E.length;J++){const K=E[J],[H,F]=K;v=g(v,H);A=g(A,F);t=h(t,H);w=h(w,F);if(p&&2<K.length){const N=K[2];z=g(z,N);k=h(k,N)}l&&K.length>m&&(y=K[m],x=g(z,y),y=h(k,y))}}if(p){if(l)return r[0]=v,r[1]=A,r[2]=z,r[3]=x,r[4]=t,r[5]=w,r[6]=k,r[7]=y,r.length=8,r;r[0]=v;r[1]=A;r[2]=z;r[3]=t;r[4]=w;r[5]=k;r.length=6;return r}if(l)return r[0]=v,r[1]=A,r[2]=x,r[3]=t,r[4]=w,r[5]=y,r.length=6,r;r[0]=v;r[1]=A;r[2]=t;r[3]=w;r.length=4;return r}function q(r,
u,p,l,m,v){p=u.xmin;l=u.xmax;const A=u.ymin,t=u.ymax;let w=u.zmin,z=u.zmax,k=u.mmin;u=u.mmax;if(m){w=w||0;z=z||0;if(v)return r[0]=p,r[1]=A,r[2]=w,r[3]=k||0,r[4]=l,r[5]=t,r[6]=z,r[7]=u||0,r;r[0]=p;r[1]=A;r[2]=w;r[3]=l;r[4]=t;r[5]=z;return r}if(v)return r[0]=p,r[1]=A,r[2]=k||0,r[3]=l,r[4]=t,r[5]=u||0,r;r[0]=p;r[1]=A;r[2]=l;r[3]=t;return r}function e(r,u,p,l,m,v){const A=p?3:2;l=l&&v;p=p&&m;if(!u.length||!u[0].length)return null;let [t,w]=u[0],[z,k]=u[0],x=void 0,y=void 0,B=void 0;var E=void 0;for(let J=
0;J<u.length;J++){const K=u[J],[H,F]=K;t=g(t,H);w=g(w,F);z=h(z,H);k=h(k,F);if(p&&2<K.length){const N=K[2];x=g(x,N);y=h(y,N)}l&&K.length>A&&(E=K[A],B=g(x,E),E=h(y,E))}if(m){x=x||0;y=y||0;if(v)return r[0]=t,r[1]=w,r[2]=x,r[3]=B||0,r[4]=z,r[5]=k,r[6]=y,r[7]=E||0,r;r[0]=t;r[1]=w;r[2]=x;r[3]=z;r[4]=k;r[5]=y;return r}if(v)return r[0]=t,r[1]=w,r[2]=B||0,r[3]=z,r[4]=k,r[5]=E||0,r;r[0]=t;r[1]=w;r[2]=z;r[3]=k;return r}const g=f(Math.min),h=f(Math.max);a.getBoundsXY=function(r,u){if(void 0!==u.paths)return n(r,
u.paths,!1,!1);if(void 0!==u.rings)return n(r,u.rings,!1,!1);if(void 0!==u.points)return e(r,u.points,!1,!1,!1,!1);if(c(u))return q(r,u);void 0!==u.x&&void 0!==u.y&&(r[0]=u.x,r[1]=u.y,r[2]=u.x,r[3]=u.y);return r};a.getBoundsXYZ=function(r,u){if(void 0!==u.paths)return n(r,u.paths,!0,!1);if(void 0!==u.rings)return n(r,u.rings,!0,!1);if(void 0!==u.points)return e(r,u.points,!0,!1,!0,!1);if(c(u))return q(r,u,!0,!1,!0,!1);void 0!==u.x&&void 0!==u.y&&(r[0]=u.x,r[1]=u.y,r[2]=u.z,r[3]=u.x,r[4]=u.y,r[5]=
u.z);return r};a.getCursorBoundsXY=function(r){r.reset();let u,p,l,m;u=l=Infinity;for(p=m=-Infinity;r.nextPath();){const v=d(r);u=Math.min(v[0],u);l=Math.min(v[1],l);p=Math.max(v[2],p);m=Math.max(v[3],m)}return b.create([u,l,p,m])};a.getCursorPathBounds=d;a.getExtentBounds=q;a.getPointsBounds=e;a.getRingsOrPathsBounds=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../Extent"],
function(a,b,c,f){function d(p=u){return[p[0],p[1],p[2],p[3]]}function n(p,l){p!==l&&(p[0]=l[0],p[1]=l[1],p[2]=l[2],p[3]=l[3]);return p}function q(p){return null==p||p[0]>=p[2]?0:p[2]-p[0]}function e(p){return null==p||p[1]>=p[3]?0:p[3]-p[1]}function g(p,l,m){return l>=p[0]&&m>=p[1]&&l<=p[2]&&m<=p[3]}function h(p){return null!=p&&4===p.length}const r=[Infinity,Infinity,-Infinity,-Infinity],u=[0,0,0,0];a.allFinite=function(p){for(let l=0;4>l;l++)if(!isFinite(p[l]))return!1;return!0};a.area=function(p){return q(p)*
e(p)};a.center=function(p,l=[0,0]){l[0]=(p[0]+p[2])/2;l[1]=(p[1]+p[3])/2;return l};a.clone=function(p){return[p[0],p[1],p[2],p[3]]};a.contains=function(p,l){return l[0]>=p[0]&&l[2]<=p[2]&&l[1]>=p[1]&&l[3]<=p[3]};a.containsPoint=function(p,l){return g(p,l[0],l[1])};a.containsPointObject=function(p,l){return g(p,l.x,l.y)};a.containsPointWithMargin=function(p,l,m){return l[0]>=p[0]-m&&l[1]>=p[1]-m&&l[0]<=p[2]+m&&l[1]<=p[3]+m};a.containsXY=g;a.containsXYWithMargin=function(p,l,m,v){return l>=p[0]-v&&
m>=p[1]-v&&l<=p[2]+v&&m<=p[3]+v};a.copy=n;a.create=d;a.diagonal=function(p){const l=q(p);p=e(p);return Math.sqrt(l*l+p*p)};a.distance=function(p,l){const m=(p[1]+p[3])/2,v=Math.max(Math.abs(l[0]-(p[0]+p[2])/2)-q(p)/2,0);p=Math.max(Math.abs(l[1]-m)-e(p)/2,0);return Math.sqrt(v*v+p*p)};a.empty=function(p){return p?n(p,r):d(r)};a.equals=function(p,l){return h(p)&&h(l)?p[0]===l[0]&&p[1]===l[1]&&p[2]===l[2]&&p[3]===l[3]:p===l};a.expand=function(p,l,m){if(null==l)n(m,p);else if("length"in l)if(h(l))m[0]=
Math.min(p[0],l[0]),m[1]=Math.min(p[1],l[1]),m[2]=Math.max(p[2],l[2]),m[3]=Math.max(p[3],l[3]);else{if(2===l.length||3===l.length)m[0]=Math.min(p[0],l[0]),m[1]=Math.min(p[1],l[1]),m[2]=Math.max(p[2],l[0]),m[3]=Math.max(p[3],l[1])}else switch(l.type){case "extent":m[0]=Math.min(p[0],l.xmin);m[1]=Math.min(p[1],l.ymin);m[2]=Math.max(p[2],l.xmax);m[3]=Math.max(p[3],l.ymax);break;case "point":m[0]=Math.min(p[0],l.x),m[1]=Math.min(p[1],l.y),m[2]=Math.max(p[2],l.x),m[3]=Math.max(p[3],l.y)}};a.expandPointInPlace=
function(p,l){l[0]<p[0]&&(p[0]=l[0]);l[0]>p[2]&&(p[2]=l[0]);l[1]<p[1]&&(p[1]=l[1]);l[1]>p[3]&&(p[3]=l[1])};a.expandWithNestedArray=function(p,l,m=p){const v=l.length;let A=p[0],t=p[1],w=p[2];p=p[3];for(let z=0;z<v;z++){const k=l[z];A=Math.min(A,k[0]);t=Math.min(t,k[1]);w=Math.max(w,k[0]);p=Math.max(p,k[1])}m[0]=A;m[1]=t;m[2]=w;m[3]=p;return m};a.fromExtent=function(p,l=d()){l[0]=p.xmin;l[1]=p.ymin;l[2]=p.xmax;l[3]=p.ymax;return l};a.fromValues=function(p,l,m,v,A=d()){A[0]=p;A[1]=l;A[2]=m;A[3]=v;return A};
a.hasArea=function(p){return 0<q(p)&&0<e(p)};a.height=e;a.intersection=function(p,l,m){if(null==l)return n(m,p);const v=l[0],A=l[1],t=l[2];l=l[3];m[0]=c.clamp(p[0],v,t);m[1]=c.clamp(p[1],A,l);m[2]=c.clamp(p[2],v,t);m[3]=c.clamp(p[3],A,l);return m};a.intersects=function(p,l){return Math.max(l[0],p[0])<=Math.min(l[2],p[2])&&Math.max(l[1],p[1])<=Math.min(l[3],p[3])};a.intersectsSegment=function(p,l,m){const v=p[0],A=p[1],t=p[2];p=p[3];const {x:w,y:z}=l,{x:k,y:x}=m;var y=(E,J)=>0>(x-z)*E+(w-k)*J+(k*z-
w*x);l=y(v,p);m=y(t,p);const B=y(t,A);y=y(v,A);return l===m&&m===B&&B===y&&y===l||w<v&&k<v||w>t&&k>t||z>p&&x>p||z<A&&x<A?!1:!0};a.intersectsSphere=function(p,l){const m=l[3];var v=Math.abs(l[0]-.5*(p[0]+p[2]));const A=.5*(p[2]-p[0]);if(v>m+A)return!1;var t=.5*(p[3]-p[1]);p=Math.abs(l[1]-.5*(p[1]+p[3]));if(p>m+t)return!1;if(v<A||p<t)return!0;v-=A;t=p-t;return v*v+t*t<=m*m};a.intersectsWithMargin=function(p,l,m){return Math.max(l[0],p[0])-m<=Math.min(l[2],p[2])&&Math.max(l[1],p[1])-m<=Math.min(l[3],
p[3])};a.is=h;a.isPoint=function(p){return(0===q(p)||!isFinite(p[0]))&&(0===e(p)||!isFinite(p[1]))};a.negativeInfinity=r;a.offset=function(p,l,m,v=p){v[0]=p[0]+l;v[1]=p[1]+m;v[2]=p[2]+l;v[3]=p[3]+m;return v};a.pad=function(p,l,m=p){m[0]=p[0]-l;m[1]=p[1]-l;m[2]=p[2]+l;m[3]=p[3]+l;return m};a.positiveInfinity=[-Infinity,-Infinity,Infinity,Infinity];a.setMax=function(p,l,m=p){m[2]=l[0];m[3]=l[1];m!==p&&(m[0]=p[0],m[1]=p[1]);return p};a.setMin=function(p,l,m=p){m[0]=l[0];m[1]=l[1];m!==p&&(m[2]=p[2],m[3]=
p[3]);return m};a.size=function(p,l){l[0]=p[2]-p[0];l[1]=p[3]-p[1]};a.toExtent=function(p,l,m=new f){m.xmin=p[0];m.ymin=p[1];m.xmax=p[2];m.ymax=p[3];m.spatialReference=l;return m};a.unit=[0,0,1,1];a.width=q;a.zero=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p){var l;f=l=class extends g{constructor(m){if(m){var {paths:v,hasM:A,hasZ:t,spatialReference:w}=m;v??=[];"number"===typeof v[0]?.[0]&&(v=[v]);switch(v[0]?.[0]?.length){case 4:t??=!0;A??=!0;break;case 3:t??=!0!==A;A??=!t;break;default:t??=!1,A??=!1}w??=r.WGS84;m={...m,hasM:A,hasZ:t,paths:v,spatialReference:w}}else m=void 0;super(m);this.curvePaths=void 0;this.paths=[];this.type="polyline"}get cache(){this.commitProperty("curvePaths");this.commitProperty("hasM");this.commitProperty("hasZ");
this.commitProperty("paths");this.commitProperty("spatialReference");return{}}writeCurvePaths(m,v){v.curvePaths=b.clone(m)}get extent(){const m=u.getPolylineExtent(this),{spatialReference:v}=this;return m?new e({...m,spatialReference:v}):null}writePaths(m,v){v.paths=b.clone(this.paths)}addPath(m){if(m){var v=this.paths,A=v.length;if(Array.isArray(m[0]))v[A]=m.slice();else{const t=[];for(let w=0,z=m.length;w<z;w++)t[w]=m[w].toArray();v[A]=t}this.notifyChange("paths");return this}}clone(){const m=new l;
m.spatialReference=this.spatialReference;m.paths=b.clone(this.paths);m.curvePaths=b.clone(this.curvePaths);m.hasZ=this.hasZ;m.hasM=this.hasM;return m}getPoint(m,v){if(!this._validateInputs(m,v))return null;m=this.paths[m][v];v=this.hasZ;const A=this.hasM;return v&&!A?new h(m[0],m[1],m[2],void 0,this.spatialReference):A&&!v?new h(m[0],m[1],void 0,m[2],this.spatialReference):v&&A?new h(m[0],m[1],m[2],m[3],this.spatialReference):new h(m[0],m[1],this.spatialReference)}insertPoint(m,v,A){if(!this._validateInputs(m,
v,!0))return this;p.updateSupportFromPoint(this,A);Array.isArray(A)||(A=A.toArray());this.paths[m].splice(v,0,A);this.notifyChange("paths");return this}removePath(m){if(!this._validateInputs(m,null))return null;m=this.paths.splice(m,1)[0];const v=this.spatialReference;m=m.map(A=>new h(A,v));this.notifyChange("paths");return m}removePoint(m,v){if(!this._validateInputs(m,v))return null;m=new h(this.paths[m].splice(v,1)[0],this.spatialReference);this.notifyChange("paths");return m}setPoint(m,v,A){if(!this._validateInputs(m,
v))return this;p.updateSupportFromPoint(this,A);Array.isArray(A)||(A=A.toArray());this.paths[m][v]=A;this.notifyChange("paths");return this}_validateInputs(m,v,A=!1){return null==m||0>m||m>=this.paths.length||null!=v&&(m=this.paths[m],A&&(0>v||v>m.length)||!A&&(0>v||v>=m.length))?!1:!0}toJSON(m){return this.write({},m)}};a.__decorate([c.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([c.property({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],
f.prototype,"curvePaths",void 0);a.__decorate([q.writer("curvePaths")],f.prototype,"writeCurvePaths",null);a.__decorate([c.property({readOnly:!0})],f.prototype,"extent",null);a.__decorate([c.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],f.prototype,"paths",void 0);a.__decorate([q.writer("paths")],f.prototype,"writePaths",null);f=l=a.__decorate([n.subclass("esri.geometry.Polyline")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/Viewpoint":function(){define("./chunks/tslib.es6 ./Camera ./core/JSONSupport ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/has ./core/RandomLCG ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils ./geometry/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){function r(){return{enabled:!this.camera}}var u;c=u=class extends c{constructor(p){super(p);this.scale=this.rotation=0;this.camera=this.targetGeometry=null}castRotation(p){p%=360;0>p&&(p+=360);return p}clone(){return new u({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};a.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,
write:!0},"web-scene":{write:{overridePolicy:r}}}}})],c.prototype,"rotation",void 0);a.__decorate([d.cast("rotation")],c.prototype,"castRotation",null);a.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:r}}}}})],c.prototype,"scale",void 0);a.__decorate([f.property({types:h.geometryTypes,json:{read:g.fromJSON,write:!0,origins:{"web-scene":{read:g.fromJSON,write:{overridePolicy:r}}}}})],c.prototype,"targetGeometry",void 0);
a.__decorate([f.property({type:b,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],c.prototype,"camera",void 0);return c=u=a.__decorate([e.subclass("esri.Viewpoint")],c)})},"esri/Camera":function(){define("./chunks/tslib.es6 ./CameraLayout ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/has ./core/RandomLCG ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){c=class extends c.ClonableMixin(d){constructor(...v){super(...v);this.position=new m([0,0,0]);this.tilt=this.heading=0;this.fov=55;this.layout=new b}normalizeCtorArgs(v,A,t,w){return v&&"object"===typeof v&&("x"in v||Array.isArray(v))?(v={position:v},null!=A&&(v.heading=A),null!=t&&(v.tilt=t),null!=w&&(v.fov=w),v):v}writePosition(v,A,t,w){const z=v.clone();z.x=l.ensureNumber(v.x||0);z.y=l.ensureNumber(v.y||0);z.z=v.hasZ?l.ensureNumber(v.z||0):v.z;A[t]=z.write({},
w)}readPosition(v,A){const t=new m;t.read(v,A);t.x=l.ensureNumber(t.x||0);t.y=l.ensureNumber(t.y||0);t.z=t.hasZ?l.ensureNumber(t.z||0):t.z;return t}equals(v){return null==v?!1:this.tilt===v.tilt&&this.heading===v.heading&&this.fov===v.fov&&this.position.equals(v.position)&&this.layout.equals(v.layout)}};a.__decorate([q.property({type:m,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);a.__decorate([p.writer("position")],c.prototype,"writePosition",null);a.__decorate([r.reader("position")],
c.prototype,"readPosition",null);a.__decorate([q.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),e.cast(v=>f.cyclicalDegrees.normalize(l.ensureNumber(v)))],c.prototype,"heading",void 0);a.__decorate([q.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),e.cast(v=>n.clamp(l.ensureNumber(v),-180,180))],c.prototype,"tilt",void 0);a.__decorate([q.property({type:Number,nonNullable:!0,json:{default:55,write:!0}}),e.cast(v=>n.clamp(l.ensureNumber(v,55),1,170))],c.prototype,
"fov",void 0);a.__decorate([q.property({type:b,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"layout",void 0);return c=a.__decorate([u.subclass("esri.Camera")],c)})},"esri/CameraLayout":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.column=this.row=0;this.columns=this.rows=1}equals(e){return null==
e?!1:this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"row",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"column",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"rows",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,
"columns",void 0);return b=a.__decorate([q.subclass("esri.CameraLayout")],b)})},"esri/core/Clonable":function(){define("../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){c=h=>{h=class extends h{clone(){var r=e.getProperties(this);n.assertIsSome(r,"unable to clone instance of non-accessor class");var u=r.metadata;const p=r.store,l={};r=new Map;for(var m in u){var v=
u[m];const A=p?.originOf(m),t=v.clonable;if(v.readOnly||!1===t||A!==q.OriginId.USER&&A!==q.OriginId.DEFAULTS&&A!==q.OriginId.WEB_MAP&&A!==q.OriginId.WEB_SCENE)continue;v=this[m];let w=null;w="function"===typeof t?t(v):"reference"===t?v:f.tryClone(v);if(null==v||null!=w)A===q.OriginId.DEFAULTS?r.set(m,w):l[m]=w}u=new (Object.getPrototypeOf(this).constructor)(l);if(r.size&&(m=e.getProperties(u)?.store))for(const [A,t]of r)m.set(A,t,q.OriginId.DEFAULTS);return u}};return h=a.__decorate([g.subclass("esri.core.Clonable")],
h)};b=class extends c(b){};b=a.__decorate([g.subclass("esri.core.Clonable")],b);(b||={}).ClonableMixin=c;return b})},"esri/core/Cyclical":function(){define(["exports","./mathUtils"],function(a,b){function c(g,h,r,u,p=0,l=!1){u-=p;u<h?u+=f(g,h-u):u>r&&(u-=f(g,u-r));l&&u===r&&(u=h);return u+p}function f(g,h,r=0){return Math.ceil((h-r)/g)*g+r}class d{constructor(g,h){this.min=g;this.max=h;this.range=h-g}normalize(g,h=0,r=!1){return c(this.range,this.min,this.max,g,h,r)}clamp(g,h=0){return b.clamp(g-
h,this.min,this.max)+h}monotonic(g,h,r){return g<h?h:h+f(this.range,g-h,r)}minimalMonotonic(g,h,r){return c(this.range,g,g+this.range,h,r)}center(g,h,r){h=this.monotonic(g,h,r);return this.normalize((g+h)/2,r)}diff(g,h,r){return this.monotonic(g,h,r)-g}shortestSignedDiff(g,h){g=this.normalize(g);h=this.normalize(h);const r=h-g;g=h<g?this.minimalMonotonic(g,h)-g:h-this.minimalMonotonic(h,g);return Math.abs(r)<Math.abs(g)?r:g}contains(g,h,r){h=this.minimalMonotonic(g,h);r=this.minimalMonotonic(g,r);
return r>g&&r<h}}const n=new d(0,2*Math.PI),q=new d(-Math.PI,Math.PI),e=new d(0,360);a.Cyclical=d;a.cyclical2PI=n;a.cyclicalDegrees=e;a.cyclicalPI=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,f,d,n,q){function e(l){return void 0!==l.xmin&&void 0!==l.ymin&&void 0!==l.xmax&&void 0!==l.ymax}function g(l){return void 0!==l.points}
function h(l){return void 0!==l.x&&void 0!==l.y}function r(l){return void 0!==l.paths||void 0!==l.curvePaths}function u(l){return void 0!==l.rings||void 0!==l.curveRings}const p={esriGeometryPoint:d,esriGeometryPolyline:q,esriGeometryPolygon:n,esriGeometryEnvelope:b,esriGeometryMultipoint:f,esriGeometryMultiPatch:n};a.fromJSON=function(l){return null==l?null:l instanceof c?l:h(l)?d.fromJSON(l):r(l)?q.fromJSON(l):u(l)?n.fromJSON(l):g(l)?f.fromJSON(l):e(l)?b.fromJSON(l):null};a.getGeometryType=function(l){return l&&
p[l]||null};a.getJsonType=function(l){return l?h(l)?"esriGeometryPoint":r(l)?"esriGeometryPolyline":u(l)?"esriGeometryPolygon":e(l)?"esriGeometryEnvelope":g(l)?"esriGeometryMultipoint":null:null};a.isExtent=e;a.isMultipoint=g;a.isPoint=h;a.isPolygon=u;a.isPolyline=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/typeUtils":function(){define("exports ../../core/jsonMap ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,
b,c,f,d,n,q,e){const g=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});c={base:f,key:"type",typeMap:{extent:c,multipoint:d,point:n,polyline:e,polygon:q}};a.featureGeometryTypeKebabDictionary=g;a.geometryTypes=c;a.isMultipoint=function(h){return"multipoint"===
h.type};a.isPoint=function(h){return"point"===h.type};a.isPolygon=function(h){return"polygon"===h.type};a.isPolyline=function(h){return"polyline"===h.type};a.typeKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties ../../time/TimeExtent".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A){a.OperationalLayer=t=>{t=class extends t{constructor(){super(...arguments);this.persistenceEnabled=!0;this.title=null}readId(w,z,k){return"Group Layer"===k?.portalItem?.type?void 0:w}writeListMode(w,z,k,x){x&&"ground"===x.layerContainerType?z[k]=w:w&&l.willPropertyWrite(this,k,{},x)&&(z[k]=w)}writeOperationalLayerType(w,z,k){w&&(z[k]=w)}writeTitle(w,z){z.title=w??"Layer"}readVisibilityTimeExtent(w){return w?A.fromArray(w):null}writeVisibilityTimeExtent(w,
z,k,x){w&&"tables"!==x.layerContainerType&&(w.isEmpty?x?.messages&&x.messages.push(new c("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):z[k]=w.toArray())}read(w,z){z&&(z.layer=this);p.readLoadable(this,w,k=>super.read(w,k),z)}write(w,z){if(!this.persistenceEnabled&&!z?.ignorePersistenceEnabled)return null;if(z?.origin){var k=`${z.origin}/${z.layerContainerType||"operational-layers"}`;let x=!!m.supportedTypes[k]?.[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===
this.operationalLayerType&&"web-scene/operational-layers"===k&&(x=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===k&&(x=!1);if(!x)return z.messages?.push(new c("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${k}'`,{layer:this})),null}w=super.write(w,{...z,layer:this});k=!!z&&!!z.messages&&!!z.messages.filter(x=>x instanceof c&&"web-document-write:property-required"===x.name).length;
return f.isBlobProtocol(w?.url)?(z?.messages?.push(new c("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&k?null:w}beforeSave(){}};b.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0);b.__decorate([g.reader("id",["id"])],t.prototype,"readId",
null);b.__decorate([d.property(v.listMode)],t.prototype,"listMode",void 0);b.__decorate([r.writer("listMode")],t.prototype,"writeListMode",null);b.__decorate([d.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:u.excludeTables,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0);b.__decorate([r.writer("operationalLayerType")],
t.prototype,"writeOperationalLayerType",null);b.__decorate([d.property(v.opacity)],t.prototype,"opacity",void 0);b.__decorate([d.property({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0);b.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0);b.__decorate([r.writer("title"),r.writer(["web-scene"],
"title")],t.prototype,"writeTitle",null);b.__decorate([d.property({type:A,json:{origins:{"web-scene":{write:{layerContainerTypes:u.excludeTables}}}}})],t.prototype,"visibilityTimeExtent",void 0);b.__decorate([g.reader("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null);b.__decorate([r.writer(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[n.Integer,n.Null]]}})],t.prototype,"writeVisibilityTimeExtent",null);b.__decorate([d.property({type:Boolean,
json:{name:"visibility",write:{layerContainerTypes:u.excludeTables}}})],t.prototype,"visible",void 0);return t=b.__decorate([h.subclass("esri.layers.mixins.OperationalLayer")],t)};a.isOperationalLayer=function(t){return"operationalLayerType"in t};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/layerContainerType":function(){define(["exports"],function(a){a.excludeTables=["operational-layers","basemap","ground"];Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){const b={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,
OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},c={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},f={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0};a.supportedTypes={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,
ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,
Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":b,"web-map/basemap":c,"web-map/tables":f,"link-chart/operational-layers":{...b,
LinkChartLayer:!0},"link-chart/basemap":c,"link-chart/tables":f,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/commonProperties":function(){define("exports ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../symbols/support/ElevationInfo ../../tables/AttributeTableTemplate ../../webdoc/support/opacityUtils".split(" "),function(a,b,c,f,d,n,q,e){const g={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:b.excludeTables}}},
h={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(w,z){return!z.disablePopup}},write:{enabled:!0,writer(w,z,k){z[k]=!w}}}},r={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:d.write}}};const u={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};
n={value:null,type:n,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};var p={write:{enabled:!0,layerContainerTypes:b.excludeTables},read:!0};const l={type:Number,json:{origins:{"web-document":p,"portal-item":{write:{layerContainerTypes:b.excludeTables}}}}};p={...l,json:{...l.json,origins:{"web-document":{...p,write:{enabled:!0,layerContainerTypes:b.excludeTables,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},
read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(w,z,k){if((!k||"service"===k.origin)&&z.drawingInfo&&void 0!==z.drawingInfo.transparency)return e.transparencyToOpacity(z.drawingInfo.transparency);if(z.layerDefinition?.drawingInfo&&void 0!==z.layerDefinition.drawingInfo.transparency)return e.transparencyToOpacity(z.layerDefinition.drawingInfo.transparency)}}}};const m={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],
reader:(w,z)=>{w=c.fromJSON(w);null!=z.spatialReference&&"object"===typeof z.spatialReference&&(w.spatialReference=f.fromJSON(z.spatialReference));return w}}}},read:!1}},v={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},A={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:b.excludeTables}}},t={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:b.excludeTables}}};
b={json:{write:{ignoreOrigin:!0,layerContainerTypes:b.excludeTables},origins:{"web-map":{read:!1,write:!1}}}};a.attributeTableTemplate={type:q,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}};a.elevationInfo=n;a.id=v;a.labelsVisible=r;a.legendEnabled=u;a.listMode=b;a.maxScale=t;a.minScale=A;a.opacity=l;a.opacityDrawingInfo=p;a.popupEnabled=h;a.readOnlyService=function(w){return{type:w,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=
m;a.screenSizePerspectiveEnabled=g;a.url=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p){var l;n=b.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});b=new b.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});c=l=class extends c{constructor(m){super(m);this.featureExpressionInfo=void 0;this.offset=null}readFeatureExpressionInfo(m,v){if(null!=m)return m;if(v.featureExpression&&0===v.featureExpression.value)return{expression:"0"}}writeFeatureExpressionInfo(m,
v,A,t){v[A]=m.write({},t);"0"===m.expression&&(v.featureExpression={value:0})}get mode(){const {offset:m,featureExpressionInfo:v}=this;return this._isOverridden("mode")?this._get("mode"):null!=m||v?"relative-to-ground":"on-the-ground"}set mode(m){this._override("mode",m)}set unit(m){this._set("unit",m)}write(m,v){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(m,v):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?
this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(m){return this.mode===m.mode&&this.offset===m.offset&&this.unit===m.unit&&f.equalsMaybe(this.featureExpressionInfo,m.featureExpressionInfo)}};a.__decorate([d.property({type:u,json:{write:!0}})],c.prototype,"featureExpressionInfo",void 0);a.__decorate([g.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],c.prototype,"readFeatureExpressionInfo",null);a.__decorate([r.writer("featureExpressionInfo",{featureExpressionInfo:{type:u},
"featureExpression.value":{type:[0]}})],c.prototype,"writeFeatureExpressionInfo",null);a.__decorate([d.property({type:n.apiValues,nonNullable:!0,json:{type:n.jsonValues,read:n.read,write:{writer:n.write,isRequired:!0}}})],c.prototype,"mode",null);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"offset",void 0);a.__decorate([d.property({type:p.supportedUnits,json:{type:String,read:b.read,write:b.write}})],c.prototype,"unit",null);return c=l=a.__decorate([h.subclass("esri.symbols.support.ElevationInfo")],
c)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),function(a,b,c,f,d,n,q,e){var g;b=g=class extends b{constructor(h){super(h)}async collectRequiredFields(h,r){return e.collectArcadeFieldNames(h,r,this.expression)}clone(){return new g({expression:this.expression,
title:this.title})}equals(h){return this.expression===h.expression&&this.title===h.title}};a.__decorate([c.property({type:String,json:{write:{isRequired:!0}}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=g=a.__decorate([q.subclass("esri.symbols.support.FeatureExpressionInfo")],b)})},"esri/layers/support/fieldUtils":function(){define("exports ../../core/Error ../../core/object ../../core/SetUtils ../../core/sql ./domainUtils ../../support/arcadeExpressionUtils ../../support/arcadeOnDemand ../../support/guards".split(" "),
function(a,b,c,f,d,n,q,e,g){function h(T,I,U){if(T)for(const ea of T)(T=(T=c.getDeepValue(ea,I))&&"function"!==typeof T&&U.get(T))&&c.setDeepValue(ea,T.name,I)}function r(T,I){if(!T||!I)return[];sa.clear();u(sa,T,I);return Array.from(sa).sort()}function u(T,I,U){if(U)if(I?.fields?.length)if(U.includes("*"))for(const {name:ea}of I.fields)T.add(ea);else for(const ea of U)p(T,I,ea);else if(U.includes("*"))T.clear(),T.add("*");else for(const ea of U)null!=ea&&T.add(ea)}function p(T,I,U){"string"===typeof U&&
(I?(I=I.get(U))&&T.add(I.name):T.add(U))}async function l(T,I,U){if(U){var ea=q.getFieldNameFromSimpleExpression(U);ea?U=[ea]:({arcadeUtils:ea}=await e.loadArcade(),U=ea.extractFieldNames(U,I?.fields?.map(ra=>ra.name)));for(const ra of U)p(T,I,ra)}}async function m(T,I,U){if(U&&"1\x3d1"!==U){const ea=await d.parseWhereClause(U,I);if(!ea.isStandardized)throw new b("fieldUtils:collectFilterFields","Where clause is not standardized",{where:U});u(T,I,ea.fieldNames)}}function v(T,I){for(const U of T)if(U?.valueType&&
U.valueType===I)return U.name;return null}async function A(T,I){if(I){var U=I.elevationInfo?.featureExpressionInfo;if(U)return U.collectRequiredFields(T,I.fieldsIndex)}}async function t(T,I,U){const ea=[];U?.expressionInfos&&ea.push(...U.expressionInfos.map(ra=>l(T,I.fieldsIndex,ra.expression)));U=U?.content;if(Array.isArray(U))for(const ra of U)"expression"===ra.type&&ra.expressionInfo&&ea.push(l(T,I.fieldsIndex,ra.expressionInfo.expression));await Promise.all(ea)}async function w(T,I,U){I&&U&&(U.valueExpression?
await l(T,I.fieldsIndex,U.valueExpression):U.field&&p(T,I.fieldsIndex,U.field))}function z(T){if(!T)return[];const I=T.geometryFieldsInfo;return I?r(T.fieldsIndex,[I.shapeAreaField,I.shapeLengthField]):[]}function k(T){const I=new Set;y(T).forEach(U=>I.add(U));z(T).forEach(U=>I.add(U.toLowerCase()));if(T=T&&"infoFor3D"in T?T.infoFor3D:void 0)Object.values(T.assetMapFieldRoles).forEach(U=>I.add(U.toLowerCase())),Object.values(T.transformFieldRoles).forEach(U=>I.add(U.toLowerCase()));return Array.from(I)}
function x(T){if(!T)return[];T="editFieldsInfo"in T&&T.editFieldsInfo;if(!T)return[];const {creationDateField:I,creatorField:U,editDateField:ea,editorField:ra}=T;return[I,U,ea,ra].filter(Boolean)}function y(T){return x(T).map(I=>I.toLowerCase())}async function B(T,I){const {labelingInfo:U,fieldsIndex:ea}=I;U?.length&&await Promise.all(U.map(ra=>E(T,ea,ra)))}async function E(T,I,U){if(U){var ea=U.getLabelExpression();U=U.where;"arcade"===ea.type?await l(T,I,ea.expression):(ea=ea.expression.match(/{[^}]*}/g))&&
ea.forEach(ra=>{p(T,I,ra.slice(1,-1))});await m(T,I,U)}}function J(T){return"number"===typeof T&&!isNaN(T)&&isFinite(T)}function K(T){return null===T||J(T)}function H(T){return null===T||Number.isInteger(T)}function F(){return!0}function N(T,I){let U;switch(T.type){case "date":case "integer":case "long":case "small-integer":case "big-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":case "esriFieldTypeBigInteger":U=T.nullable?H:
Number.isInteger;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":U=T.nullable?K:J;break;case "string":case "esriFieldTypeString":U=T.nullable?g.isStringOrNull:g.isString;break;default:U=F}return 1===arguments.length?U:U(I)}function S(T){return null!=T&&fa.has(T.type)}function W(T){return null!=T&&("string"===T.type||"esriFieldTypeString"===T.type)}function L(T,I){return null==T||T.nullable&&null===I?null:N(T,I)?S(T)&&!P(T.type,Number(I))?a.NumericRangeValidationError.OUT_OF_RANGE:
null:a.TypeValidationError.INVALID_TYPE}function P(T,I){T="string"===typeof T?X(T):T;if(!T)return!1;const U=T.min,ea=T.max;return T.isInteger?Number.isInteger(I)&&I>=U&&I<=ea:I>=U&&I<=ea}function X(T){switch(T){case "esriFieldTypeSmallInteger":case "small-integer":return ta;case "esriFieldTypeInteger":case "integer":return za;case "esriFieldTypeBigInteger":case "big-integer":return Ea;case "esriFieldTypeSingle":case "single":return Ga;case "esriFieldTypeDouble":case "double":return Z}}function D(T,
I,U){if(!I?.attributes||!T){if(null!=U)for(var ea of T??[])U.add(ea);return!0}I=new Set(Object.keys(I.attributes));ea=!1;for(const ra of T)if(!I.has(ra))if(ea=!0,null!=U)U.add(ra);else break;return ea}const R=/^([0-9_])/,Y=/[^a-z0-9_\u0080-\uffff]+/gi,ja="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),da=["field","normalizationField"],sa=new Set,qa=new Set(["oid",
"global-id","guid"]),ia=new Set(["oid","global-id"]),la=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i],ua=["integer","small-integer","big-integer"],ya=["single","double"],V=[...ua,...ya],ha=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],ma=["esriFieldTypeSingle","esriFieldTypeDouble"],G=new Set([...ua,...ha]),Q=new Set([...ya,...ma]),fa=f.union(G,
Q);a.NumericRangeValidationError=void 0;(a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";a.TypeValidationError=void 0;(a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const ta={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},za={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Ea={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,
isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Ga={min:-3.4E38,max:1.2E38,isInteger:!1,rawMin:-3.4E38,rawMax:1.2E38},Z={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};a.bigIntegerRange=Ea;a.collectArcadeFieldNames=l;a.collectDisplayFilterFields=async function(T,I,U){if(I&&U){var ea=I.fieldsIndex;await Promise.all(U.filters.map(ra=>m(T,ea,ra.where)))}};a.collectElevationFields=A;a.collectFeatureReductionFields=
async function(T,I,U){if(I&&U&&"fields"in U){var ea=[];ea.push(t(T,I,U.popupTemplate));U.fields&&ea.push(...U.fields.map(async ra=>{ra.onStatisticExpression?l(T,I.fieldsIndex,ra.onStatisticExpression.expression):T.add(ra.onStatisticField)}));await Promise.all(ea)}};a.collectField=p;a.collectFields=u;a.collectFilterFields=async function(T,I,U){I&&(I.timeInfo&&U?.timeExtent&&u(T,I.fieldsIndex,[I.timeInfo.startField,I.timeInfo.endField]),I.floorInfo&&u(T,I.fieldsIndex,[I.floorInfo.floorField]),null!=
U?.where&&await m(T,I.fieldsIndex,U.where))};a.collectLabelingFields=B;a.collectOrderByInfos=async function(T,I,U){I&&U&&await Promise.all(U.map(ea=>w(T,I,ea)))};a.collectPopupTemplateFields=t;a.collectTrackInfoFields=async function(T,I){const {fieldsIndex:U,trackInfo:ea}=I;if(I&&ea&&U){var ra=[ea.latestObservations.renderer?.collectRequiredFields(T,U),ea.previousObservations.renderer?.collectRequiredFields(T,U),ea.trackLines.renderer?.collectRequiredFields(T,U)];ea.popupTemplate&&ra.push(t(T,I,ea.popupTemplate));
for(const Ba of[ea.latestObservations.labelingInfo,ea.previousObservations.labelingInfo,ea.trackLines.labelingInfo])if(Ba)for(const La of Ba)ra.push(E(T,U,La));await Promise.all(ra)}};a.doubleRange=Z;a.extractSubstitutionTemplatesFromString=function(T){return(T=T?.match(/{[^}]+}/g))?T.map(I=>I.slice(1,-1).split(":")[0].trim()):[]};a.featureHasFields=function(T,I){return!D(T,I,null)};a.fixFields=r;a.fixRendererFields=function(T,I){if(null!=T&&null!=I)for(const U of Array.isArray(T)?T:[T])if(h(ja,U,
I),"visualVariables"in U&&U.visualVariables)for(const ea of U.visualVariables)h(da,ea,I)};a.fixTimeInfoFields=function(T,I){if(null!=T&&I?.fields?.length)if("startField"in T){var U=I.get(T.startField);I=I.get(T.endField);T.startField=U?.name??null;T.endField=I?.name??null}else U=I.get(T.startTimeField),I=I.get(T.endTimeField),T.startTimeField=U?.name??null,T.endTimeField=I?.name??null};a.floatJSONTypes=ma;a.floatTypes=ya;a.getDisplayFieldName=function({displayField:T,fields:I}){if(T)return T;if(!I?.length)return null;
if(!(T=v(I,"name-or-title")||v(I,"unique-identifier")||v(I,"type-or-category")))a:{for(const U of I)if(U?.name&&(I=U.name.toLowerCase(),I.includes("name")||I.includes("title"))){T=U.name;break a}T=null}return T};a.getEditTrackingFields=x;a.getElevationFields=async function(T){if(!T)return[];const I=new Set;await A(I,T);return Array.from(I).sort()};a.getExpressionFields=async function(T,I){const U=new Set;for(const ea of I)await l(U,T.fieldsIndex,ea);return Array.from(U).sort()};a.getFeatureEditFields=
function(T){return T?r(T.fieldsIndex,x(T)):[]};a.getFeatureGeometryFields=z;a.getFieldDefaultLength=function(T){T="string"===typeof T?{type:T}:T;if(W(T))return 255;if("esriFieldTypeDate"===T.type||"date"===T.type)return 8};a.getFieldDefaultValue=function(T){const I=T.defaultValue;if(void 0!==I&&N(T,I))return I;if(T.nullable)return null};a.getFieldRange=function(T,I){if(I=n.getDomainRange(T,I))return I;if(S(T))return X(T.type)};a.getLabelingFields=async function(T){if(!T)return[];const I=new Set;await B(I,
T);return Array.from(I).sort()};a.getLowerCaseDefaultHiddenFields=k;a.getLowerCaseEditTrackingFields=y;a.getNumericTypeForValue=function(T){if(!J(T))return null;if(Number.isInteger(T)){if(T>=ta.min&&T<=ta.max)return"esriFieldTypeSmallInteger";if(T>=za.min&&T<=za.max)return"esriFieldTypeInteger";if(T>=Ea.min&&T<=Ea.max)return"esriFieldTypeBigInteger"}return T>=Ga.min&&T<=Ga.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.getRendererFields=async function(T,I){const U=new Set;T?.collectRequiredFields&&
await T.collectRequiredFields(U,I);return Array.from(U).sort()};a.getTimeFields=async function(T){if(!T)return[];const I="timeInfo"in T&&T.timeInfo;return I?r(T.fieldsIndex,[T.trackIdField,I.startField,I.endField]):[]};a.integerJSONTypes=ha;a.integerRange=za;a.integerTypes=ua;a.isDateField=function(T){return null!=T&&("date"===T.type||"esriFieldTypeDate"===T.type)};a.isDateOnlyField=function(T){return null!=T&&("date-only"===T.type||"esriFieldTypeDateOnly"===T.type)};a.isFieldEditable=function(T,
I){return T.editable&&!qa.has(T.type)&&!y(I).includes(T.name?.toLowerCase()??"")};a.isFieldVisibleByDefault=function(T,I){const U=T.name?.toLowerCase()??"";return!(null!=I?.objectIdField&&U===I.objectIdField.toLowerCase())&&!(null!=I?.globalIdField&&U===I.globalIdField.toLowerCase())&&!k(I).includes(U)&&!ia.has(T.type)&&!la.some(ea=>ea.test(U))};a.isGlobalIDField=function(T){return null!=T&&("global-id"===T.type||"esriFieldTypeGlobalID"===T.type)};a.isIntegerField=function(T){return null!=T&&G.has(T.type)};
a.isNumberInRange=P;a.isNumericField=S;a.isObjectIDField=function(T){return null!=T&&("oid"===T.type||"esriFieldTypeOID"===T.type)};a.isRasterPixelValueField=function(T){return T?["raster.itempixelvalue","raster.servicepixelvalue"].some(I=>T.toLowerCase().startsWith(I)):!1};a.isStringField=W;a.isTimeOnlyField=function(T){return null!=T&&("time-only"===T.type||"esriFieldTypeTimeOnly"===T.type)};a.isTimestampOffsetField=function(T){return null!=T&&("timestamp-offset"===T.type||"esriFieldTypeTimestampOffset"===
T.type)};a.isValidFieldValue=function(T,I){return null===L(T,I)};a.isValueMatchingFieldType=N;a.normalizeFieldName=function(T){return null==T?null:T.trim().replaceAll(Y,"_").replace(R,"F$1")||null};a.numericTypes=V;a.packFields=function(T,I,U=1){if(!I||!T)return[];if(I.includes("*"))return["*"];I=r(T,I);return I.length/T.fields.length>=U?["*"]:I};a.populateMissingFields=D;a.rendererFields=ja;a.sanitizeNullFieldValue=function(T){return null==T||"number"===typeof T&&isNaN(T)?null:T};a.singleRange=Ga;
a.smallIntegerRange=ta;a.unpackFieldNames=function(T,I){return null==I||null==T?[]:I.includes("*")?(T.fields??[]).map(U=>U.name):I};a.validateFieldValue=L;a.validationErrorToString=function(T,I,U){switch(T){case n.DomainValidationError.INVALID_CODED_VALUE:return`Value ${U} is not in the coded domain - field: ${I.name}, domain: ${JSON.stringify(I.domain)}`;case n.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${U} is out of the range of valid values - field: ${I.name}, domain: ${JSON.stringify(I.domain)}`;
case a.TypeValidationError.INVALID_TYPE:return`Value ${U} is not a valid value for the field type - field: ${I.name}, type: ${I.type}, nullable: ${I.nullable}`;case a.NumericRangeValidationError.OUT_OF_RANGE:const {min:ea,max:ra}=X(I.type);return`Value ${U} is out of range for the number type - field: ${I.name}, type: ${I.type}, value range is ${ea} to ${ra}`}};a.visualVariableFields=da;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql":function(){define(["require","exports"],
function(a,b){async function c(){null==d&&(d=(new Promise((n,q)=>a(["./sql/WhereClauseCache"],n,q))).then(n=>new n.WhereClauseCache(500,500)));return d}function f(n){return n.map(q=>"string"===typeof q?`'${q.replaceAll("'","''")}'`:q).join(",")}let d;b.parseWhereClause=async function(n,q){const e=await c(),g=e.get(n,q);if(null==g)throw e.getError(n,q);return g};b.sqlAnd=function(n,q){n||=null;q||=null;return"1\x3d1"===n?q??n:"1\x3d1"===q?n??q:n&&q?`(${n}) AND (${q})`:n??q};b.sqlIn=function(n,q){return 0===
q.length?null:`${n} IN (${f(q)})`};b.sqlOr=function(n,q){n||=null;q||=null;return"1\x3d1"===n||"1\x3d1"===q||n===q?"1\x3d1"===n?n:q:n&&q?`(${n}) OR (${q})`:n??q};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports","../../core/SetUtils","../../support/dateUtils"],function(a,b,c){function f(u){return null!=u&&("date-only"===u.type||"esriFieldTypeDateOnly"===u.type)}function d(u){return null!=u&&("timestamp-offset"===u.type||
"esriFieldTypeTimestampOffset"===u.type)}function n(u){return null!=u&&("time-only"===u.type||"esriFieldTypeTimeOnly"===u.type)}function q(u,p){var l=p??u?.domain;if(l&&"range"===l.type){p="range"in l?l.range[0]:l.minValue;l="range"in l?l.range[1]:l.maxValue;var m=null!=u&&g.has(u.type);return f(u)||n(u)||d(u)?{...e(u,l,p),isInteger:m}:{min:null!=p&&"number"===typeof p?p:null,max:null!=l&&"number"===typeof l?l:null,rawMin:p,rawMax:l,isInteger:m}}}function e(u,p,l){return f(u)?{min:c.dateOnlyToDateTime(l)?.toMillis(),
max:c.dateOnlyToDateTime(p)?.toMillis(),rawMin:l,rawMax:p}:n(u)?{min:c.timeOnlyToDateTime(l)?.toMillis(),max:c.timeOnlyToDateTime(p)?.toMillis(),rawMin:l,rawMax:p}:d(u)?{min:c.timestampOffsetToDateTime(l)?.toMillis(),max:c.timestampOffsetToDateTime(p)?.toMillis(),rawMin:l,rawMax:p}:{max:null,min:null}}a.DomainValidationError=void 0;(function(u){u.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";u.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||
(a.DomainValidationError={}));const g=new Set("integer small-integer big-integer esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeBigInteger".split(" ")),h=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]),r=b.union(g,h);a.dateTimeFieldValuesToNumericRange=e;a.getDomainRange=q;a.isDomainValidForField=function(u,p){switch(p.type){case "range":const {min:l,max:m}=q(u,p);return f(u)||n(u)||d(u)?!!l&&!!m:"number"===typeof l&&Number.isFinite(l)&&"number"===typeof m&&Number.isFinite(m);
case "codedValue":case "coded-value":if(p=typeof p.codedValues[0].code,"string"===p&&null!=u&&("string"===u.type||"esriFieldTypeString"===u.type)||"number"===p&&null!=u&&r.has(u.type))return!0}return!1};a.validateDomainValue=function(u,p,l){l=l??u?.domain;if(!l)return null;switch(l.type){case "range":const {min:m,max:v}=q(u,l);if(null!=m&&+p<m||null!=v&&+p>v)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==l.codedValues||l.codedValues.every(A=>
null==A||A.code!==p))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/dateUtils":function(){define(["exports","../core/maybe","./guards","../chunks/datetime"],function(a,b,c,f){const d=["HH:mm:ss.SSS","HH:mm:ss","HH:mm","TT"];a.TimeStampOffsetPattern={HM:"HH:mm",HMS:"HH:mm:ss",HMS_MS:"HH:mm:ss.SSS"};a.dateOnlyToDateTime=function(n){if(!n||!c.isString(n))return null;n=f.DateTime.fromFormat(n,"yyyy-MM-dd");
return n.isValid?n:null};a.defaultDatePattern="yyyy-MM-dd";a.defaultTimePattern="HH:mm:ss";a.timeOnlyToDateTime=function(n){return n&&c.isString(n)?b.mappedFind(d,q=>{q=f.DateTime.fromFormat(n,q);return q.isValid?q:null})??null:null};a.timestampOffsetToDateTime=function(n){if(!n||!c.isString(n))return null;n=f.DateTime.fromISO(n);return n.isValid?n:null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/guards":function(){define(["exports"],function(a){function b(c){return"string"===
typeof c||c instanceof String}a.isArray=function(c){return Array.isArray(c)};a.isBoolean=function(c){return"boolean"===typeof c};a.isDate=function(c){return c instanceof Date};a.isGraphic=function(c){return"esri.Graphic"===c?.declaredClass};a.isInteger=function(c){return"number"===typeof c&&isFinite(c)&&Math.floor(c)===c};a.isNumber=function(c){return"number"===typeof c};a.isQuery=function(c){return"esri.rest.support.Query"===c?.declaredClass};a.isString=b;a.isStringOrNull=function(c){return null==
c||b(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeExpressionUtils":function(){define(["exports"],function(a){const b=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i,c=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;a.getFieldNameFromSimpleExpression=function(f){if(f&&(f=f.match(b),f?.groups))return f.groups.doubleQuoted??f.groups.singleQuoted??f.groups.dotNotation};a.matchRandomRotationExpression=
function(f){return f.match(c)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../arcade/ArcadeDate ../core/Error ../core/Logger ../geometry/SpatialReference".split(" "),function(a,b,c,f,d,n){function q(){g||=(async()=>{const r=await new Promise((u,p)=>a(["./arcadeUtils"],u,p));return{arcade:r.arcade,arcadeUtils:r,Dictionary:r.Dictionary,Feature:r.arcadeFeature,Voxel:r.Voxel}})();return g}
const e=["geometry","scale","timeProperties"];let g;class h{constructor(r,u,p,l,m,v,A){this._dependencies=new Map;this.services=null;this.script=r;this.evaluate=l;this.fields=(Array.isArray(v)?v:v?.fields)??[];this._syntaxTree=p;this._arcade=u;this._arcadeFeature=m;this._spatialReference=A;this._dependencies.set("geometry",u.scriptTouchesGeometry(this._syntaxTree));this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale"));this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,
["timeProperties"]))}static async create(r,u,p,l,m,v){const {arcade:A,Feature:t,Dictionary:w}=await q(),z=u instanceof n?u:n.fromJSON(u);let k;try{k=A.parseScript(r,v)}catch(K){return d.getLogger("esri.support.arcadeOnDemand").error(new f("arcade-bad-expression","Failed to parse arcade script",{script:r,error:K})),null}m=m.reduce((K,H)=>({...K,[H]:null}),{});let x=null;null!=l&&(x=new w(l),x.immutable=!0,m.$config=null);v=(l=A.scriptUsesGeometryEngine(k))&&A.enableGeometrySupport();const y=A.scriptUsesFeatureSet(k)&&
A.enableFeatureSetSupport(),B=(u=A.scriptIsAsync(k))&&A.enableAsyncSupport();m={vars:m,spatialReference:z,useAsync:!!B};await Promise.all([v,y,B]);v=new Set;await A.loadDependentModules(v,k,null,u,l);const E=new w;E.immutable=!1;E.setField("scale",0);const J=A.compileScript(k,m);return new h(r,A,k,(K,H)=>{const F=K.$view?.timeZone;if("$view"in K&&K.$view){E.setField("scale","object"===typeof K.$view&&"scale"in K.$view?K.$view.scale:void 0);let N;if("object"===typeof K.$view&&"timeProperties"in K.$view&&
null!=K.$view.timeProperties){const {currentStart:S,currentEnd:W}=K.$view.timeProperties;N=new w({currentStart:null!=S?null!=F?c.ArcadeDate.epochToArcadeDate(S,F):c.ArcadeDate.unknownEpochToArcadeDate(S):void 0,currentEnd:null!=W?null!=F?c.ArcadeDate.epochToArcadeDate(W,F):c.ArcadeDate.unknownEpochToArcadeDate(W):void 0,startIncluded:!0,endIncluded:!0})}E.setField("timeProperties",N);K.$view=E}x&&(K.$config=x);return J({vars:K,spatialReference:z,services:H,timeZone:F})},new t,p,z)}repurposeFeature(r){r.geometry&&
!r.geometry.spatialReference&&(r.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(r.geometry,r.attributes,{fields:this.fields});return this._arcadeFeature}references(r){return this._dependencies.get(r)??!1}}b.ArcadeExpression=h;b.collectExpressionDependencies=function(r,u){if(null!=u)for(const p of e)u.hasArcadeDependency(p)&&r.add(p);return r};b.createDictionaryExpression=(r,u,p,l)=>h.create(r,u,p,l,["$feature","$view"],[]);b.createLabelExpression=
(r,u,p)=>h.create(r,u,p,null,["$feature","$view"],[]);b.createRendererExpression=(r,u,p)=>h.create(r,u,p,null,["$feature","$view"],[]);b.loadArcade=q;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/arcade/ArcadeDate":function(){define(["exports","../core/string","../core/sql/UnknownTimeZone","../chunks/datetime"],function(a,b,c,f){function d(h,r,u){return h<r?h-r:h>u?h-u:0}function n(h,r=!0){if(h instanceof f.Zone)return h;if("system"===h.toLowerCase())return"system";if("utc"===
h.toLowerCase())return"UTC";if("unknown"===h.toLowerCase())return c.UnknownTimeZone.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(h)){const u=f.FixedOffsetZone.parseSpecifier("UTC"+(h.startsWith("+")||h.startsWith("-")?"":"+")+h);if(u)return u}h=f.IANAZone.create(h);if(!h.isValid){if(r)throw new e(a.ArcadeDateErrorCodes.TimeZoneNotRecognized);return null}return h}a.ArcadeDateErrorCodes=void 0;(a.ArcadeDateErrorCodes||(a.ArcadeDateErrorCodes={})).TimeZoneNotRecognized="TimeZoneNotRecognized";
const q={[a.ArcadeDateErrorCodes.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class e extends Error{constructor(h,r){super(b.replace(q[h],r));this.declaredRootClass="esri.arcade.arcadedate.dateerror";Error.captureStackTrace&&Error.captureStackTrace(this,e)}}class g{constructor(h){this._date=h;this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(h=0,r=1,u=1,p=0,l=0,m=0,v=0,A){if(isNaN(h)||isNaN(r)||isNaN(u)||isNaN(p)||isNaN(l)||isNaN(m)||isNaN(v))return null;const t=
f.DateTime.local(h,r).daysInMonth;h=f.DateTime.fromObject({day:1>u?1:u>t?t:u,year:h,month:1>r?1:12<r?12:r,hour:0>p?0:23<p?23:p,minute:0>l?0:59<l?59:l,second:0>m?0:59<m?59:m,millisecond:0>v?0:999<v?999:v},{zone:n(A)});h=h.plus({months:d(r,1,12),days:d(u,1,t),hours:d(p,0,23),minutes:d(l,0,59),seconds:d(m,0,59),milliseconds:d(v,0,999)});return new g(h)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(h,r){r=
n(r);return h.isUnknownTimeZone||r===c.UnknownTimeZone.instance?g.fromParts(h.year,h.monthJS+1,h.day,h.hour,h.minute,h.second,h.millisecond,r):new g(h._date.setZone(r))}static dateJSToArcadeDate(h){return new g(f.DateTime.fromJSDate(h,{zone:"system"}))}static dateJSAndZoneToArcadeDate(h,r="system"){r=n(r);return new g(f.DateTime.fromJSDate(h,{zone:r}))}static unknownEpochToArcadeDate(h){return new g(f.DateTime.fromMillis(h,{zone:c.UnknownTimeZone.instance}))}static unknownDateJSToArcadeDate(h){return new g(f.DateTime.fromMillis(h.getTime(),
{zone:c.UnknownTimeZone.instance}))}static epochToArcadeDate(h,r="system"){r=n(r);return new g(f.DateTime.fromMillis(h,{zone:r}))}static dateTimeToArcadeDate(h){return new g(h)}clone(){return new g(this._date)}changeTimeZone(h){h=n(h);return g.dateTimeToArcadeDate(this._date.setZone(h))}static dateTimeAndZoneToArcadeDate(h,r){r=n(r);return h.zone===c.UnknownTimeZone.instance||r===c.UnknownTimeZone.instance?g.fromParts(h.year,h.month,h.day,h.hour,h.minute,h.second,h.millisecond,r):new g(h.setZone(r))}static nowToArcadeDate(h){h=
n(h);return new g(f.DateTime.fromJSDate(new Date,{zone:h}))}static nowUTCToArcadeDate(){return new g(f.DateTime.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===g.systemTimeZoneCanonicalName}equals(h){return this.isSystem&&h.isSystem?this.toNumber()===h.toNumber():this.isUnknownTimeZone!==h.isUnknownTimeZone?!1:this._date.equals(h._date)}get isUnknownTimeZone(){return this._date.zone===c.UnknownTimeZone.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let h=
this._date.weekday;6<h&&(h=0);return h}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";
const h=this.zone;return"fixed"===h.type?0===h.fixed?"UTC":h.formatOffset(0,"short"):h.name}stringify(){return JSON.stringify(this.toJSDate())}plus(h){return new g(this._date.plus(h))}diff(h,r="milliseconds"){return this._date.diff(h._date,r)[r]}toISODate(){return this._date.toISODate()}toISOString(h){return h?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(h,r){return this._date.toISOTime({suppressMilliseconds:h,
includeOffset:r&&!this.isUnknownTimeZone})}toFormat(h,r){this.isUnknownTimeZone&&(h=h.replaceAll("Z",""));return this._date.toFormat(h,r)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new g(this._date.toUTC())}toLocal(){return new g(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(h){if(!h)return null;
h=f.DateTime.fromISO(h,{setZone:!0});return new g(h)}}a.ArcadeDate=g;a.ArcadeDateError=e;a.arcadeDateErrorMessages=q;a.createDateTimeZone=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/UnknownTimeZone":function(){define(["exports","../../chunks/datetime"],function(a,b){function c(d){return d instanceof b.Zone?d===f.instance:"unknown"===d?.toString().toLowerCase()}class f{}f.instance=new b.IANAZone("Etc/UTC");a.UnknownTimeZone=f;a.isUnknownTimeZone=c;a.substituteUnknownTimezone=
function(d){return c(d)?f.instance:d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../core/arrayUtils","../../renderers/support/lengthUtils"],function(a,b,c){const f=function(){const d=Object.keys(c.meterIn);b.remove(d,"decimal-degrees");d.sort();return d}();a.getMetersPerUnit=function(d){return 1/(c.meterIn[d]||1)};a.supportedUnits=f;a.supportsUnit=function(d){return!!d&&null!=c.meterIn[d]};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,c){b={unknown:1,inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),
centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/tables/AttributeTableTemplate":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./elements/AttributeTableGroupElement ./support/tablesUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;const u=h.buildTypeMaps(g);b=r=class extends b{constructor(p){super(p);this.orderByFields=this.elements=null}castElements(p){return h.ensureType(p,u)}readElements(p,l){return h.fromJSON(l.attributeTableElements,u)}writeElements(p,l){l.attributeTableElements=h.toJSON(p,u)}clone(){return new r({elements:c.clone(this.elements),orderByFields:this.orderByFields})}};a.__decorate([f.property({json:{write:!0}})],b.prototype,"elements",void 0);a.__decorate([d.cast("elements")],
b.prototype,"castElements",null);a.__decorate([n.reader("elements",["attributeTableElements"])],b.prototype,"readElements",null);a.__decorate([e.writer("elements")],b.prototype,"writeElements",null);a.__decorate([f.property({type:[Object],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=r=a.__decorate([q.subclass("esri.tables.AttributeTableTemplate")],b)})},"esri/tables/elements/AttributeTableGroupElement":function(){define("./AttributeTableAttachmentElement ./AttributeTableFieldElement ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AttributeTableElement ../support/tablesUtils ./AttributeTableRelationshipElement".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u){var p;a=p=class extends h{constructor(m){super(m);this.elements=null;this.type="group"}castElements(m){return r.ensureType(m,l,!1)}readElements(m,v){return r.fromJSON(v.attributeTableElements,l,!1)}writeElements(m,v){v.attributeTableElements=r.toJSON(m,l,!1)}clone(){return new p({description:this.description,elements:f.clone(this.elements),label:this.label})}};c.__decorate([d.property({json:{write:!0}})],a.prototype,"elements",void 0);c.__decorate([n.cast("elements")],
a.prototype,"castElements",null);c.__decorate([q.reader("elements",["attributeTableElements"])],a.prototype,"readElements",null);c.__decorate([g.writer("elements")],a.prototype,"writeElements",null);c.__decorate([d.property({type:String,json:{read:!1,write:!0}})],a.prototype,"type",void 0);a=p=c.__decorate([e.subclass("esri.tables.elements.AttributeTableGroupElement")],a);const l=r.buildTypeMaps(a);return a})},"esri/tables/elements/AttributeTableAttachmentElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./AttributeTableElement".split(" "),
function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.displayType="auto";this.type="attachment"}clone(){return new e({description:this.description,displayType:this.displayType,label:this.label})}};a.__decorate([b.property({type:["auto"],json:{write:!0}})],c.prototype,"displayType",void 0);a.__decorate([b.property({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.tables.elements.AttributeTableAttachmentElement")],
c)})},"esri/tables/elements/AttributeTableElement":function(){define(["../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,f){b=class extends b{constructor(d){super(d);this.type=this.label=this.description=null}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property()],
b.prototype,"type",void 0);return b=a.__decorate([f.subclass("esri.tables.elements.AttributeTableElement")],b)})},"esri/tables/elements/AttributeTableFieldElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./AttributeTableElement".split(" "),function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.fieldName=null;this.type="field"}clone(){return new e({description:this.description,
fieldName:this.fieldName,label:this.label})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);a.__decorate([b.property({type:String,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.tables.elements.AttributeTableFieldElement")],c)})},"esri/tables/support/tablesUtils":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttributeTableAttachmentElement ../elements/AttributeTableElement ../elements/AttributeTableFieldElement ../elements/AttributeTableRelationshipElement".split(" "),
function(a,b,c,f,d,n){a.buildTypeMaps=function(q){return{typesWithGroup:{base:f,key:"type",typeMap:{attachment:c,field:d,group:q,relationship:n}},typesWithoutGroup:{base:f,key:"type",typeMap:{attachment:c,field:d,relationship:n}}}};a.ensureType=function(q,e,g=!0){return q?q.map(h=>b.ensureOneOfType(g?e.typesWithGroup:e.typesWithoutGroup,h)):null};a.fromJSON=function(q,e,g=!0){if(!q)return null;const h=g?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return q.filter(r=>h[r.type]).map(r=>h[r.type].fromJSON(r))};
a.toJSON=function(q,e,g=!0){if(!q)return null;const h=g?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return q.filter(r=>h[r.type]).map(r=>r.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/tables/elements/AttributeTableRelationshipElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./AttributeTableElement".split(" "),
function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.relationshipId=null;this.type="relationship"}clone(){return new e({description:this.description,label:this.label,relationshipId:this.relationshipId})}};a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"relationshipId",void 0);a.__decorate([b.property({type:["relationship"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.tables.elements.AttributeTableRelationshipElement")],
c)})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y){var B=null,E=null;b.PortalLayer=J=>{J=class extends J{constructor(){super(...arguments);this.resourceReferences={portalItem:null,paths:[]};this.userHasEditingPrivileges=!0;this.userHasUpdateItemPrivileges=this.userHasFullEditingPrivileges=!1}destroy(){this.portalItem=h.destroyMaybe(this.portalItem);this.resourceReferences.portalItem=null;this.resourceReferences.paths.length=0}set portalItem(K){K!==this._get("portalItem")&&(this.removeOrigin("portal-item"),
this._set("portalItem",K))}readPortalItem(K,H,F){if(H.itemId)return new k({id:H.itemId,portal:F?.portal})}writePortalItem(K,H){K?.id&&(H.itemId=K.id)}async loadFromPortal(K,H){if(this.portalItem?.id)try{const {load:F}=await new Promise((N,S)=>a(["../../portal/support/layersLoader"],N,S));r.throwIfAborted(H);return await F({instance:this,supportedTypes:K.supportedTypes,validateItem:K.validateItem,supportsData:K.supportsData,layerModuleTypeMap:K.layerModuleTypeMap,populateGroupLayer:K.populateGroupLayer},
H)}catch(F){throw r.isAbortError(F)||g.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${F}`),F;}}async finishLoadEditablePortalLayer(K){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(K).catch(H=>{r.throwIfAbortError(H);return!0}))}async setUserPrivileges(K,H){if(!f.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(H);if(this.url)try{const {features:{edit:F,fullEdit:N},content:{updateItem:S}}=
await this._fetchUserPrivileges(K,H);this._set("userHasEditingPrivileges",F);this._set("userHasFullEditingPrivileges",N);this._set("userHasUpdateItemPrivileges",S)}catch(F){r.throwIfAbortError(F)}}async _fetchUserPrivileges(K,H){let F=this.portalItem;if(!K||!F||!F.loaded||F.sourceUrl)return this._fetchFallbackUserPrivileges(H);const N=!d.id?.findCredential(this.url),S=K===F.id;if(S&&F.portal.user)return this._getUserPrivileges(F,N);let W;if(S)W=F.portal.url;else try{W=await w.getOwningPortalUrl(this.url,
H)}catch(P){r.throwIfAbortError(P)}if(!W||!u.hasSameCanonicalPortal(W,F.portal.url))return this._fetchFallbackUserPrivileges(H);let L;try{const P=null!=H?H.signal:null;L=await d.id?.getCredential(`${W}/sharing`,{prompt:!1,signal:P})}catch(P){r.throwIfAbortError(P)}if(!L)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(S?await F.reload():(F=new k({id:K,portal:{url:W}}),await F.load(H)),F.portal.user)return this._getUserPrivileges(F,N)}catch(P){r.throwIfAbortError(P)}return{features:{edit:!0,
fullEdit:!1},content:{updateItem:!1}}}_getUserPrivileges(K,H){K=y.getUserPrivileges(K);H&&(K.features.edit=!0);return K}async _fetchFallbackUserPrivileges(K){let H=!0;try{H=await this._fetchUserHasEditingPrivileges(K)}catch(F){r.throwIfAbortError(F)}return{features:{edit:H,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(K){const H=this.url?d.id?.findCredential(this.url):null;if(!H)return!0;K=B===H?E:await this._fetchEditingUser(K);B=H;E=K;return null==K?.privileges||K.privileges.includes("features:user:edit")}async _fetchEditingUser(K){var H=
this.portalItem?.portal?.user;if(H)return H;H=d.id?.findServerInfo(this.url??"");if(!H?.owningSystemUrl)return null;H=`${H.owningSystemUrl}/sharing/rest`;const F=z.getDefault();if(F&&F.loaded&&u.normalize(F.restUrl)===u.normalize(H))return F.user;K=await q.result(n(`${H}/community/self`,{authMode:"no-prompt",query:{f:"json"},signal:null!=K?K.signal:null}));return K.ok?x.fromJSON(K.value.data):null}read(K,H){H&&(H.layer=this);super.read(K,H)}write(K,H){const F=H?.portal,N=this.portalItem?.id&&(this.portalItem.portal||
z.getDefault());return F&&N&&!u.hasSamePortal(N.restUrl,F.restUrl)?(H.messages&&H.messages.push(new e("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(K,{...H,layer:this})}};c.__decorate([p.property({type:k})],J.prototype,"portalItem",null);c.__decorate([v.reader("web-document",
"portalItem",["itemId"])],J.prototype,"readPortalItem",null);c.__decorate([t.writer("web-document","portalItem",{itemId:{type:String}})],J.prototype,"writePortalItem",null);c.__decorate([p.property({clonable:!1})],J.prototype,"resourceReferences",void 0);c.__decorate([p.property({type:Boolean,readOnly:!0})],J.prototype,"userHasEditingPrivileges",void 0);c.__decorate([p.property({type:Boolean,readOnly:!0})],J.prototype,"userHasFullEditingPrivileges",void 0);c.__decorate([p.property({type:Boolean,readOnly:!0})],
J.prototype,"userHasUpdateItemPrivileges",void 0);return J=c.__decorate([A.subclass("esri.layers.mixins.PortalLayer")],J)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,c,f){async function d(h){const r=h.spatialReference;if(r.isWGS84)return h.clone();if(r.isWebMercator)return f.webMercatorToGeographic(h);
const u=c.WGS84;await b.initializeProjection(r,u);return b.project(h,u)}function n(h,r){if(!q(h,r)){const u=h.typeKeywords;u?u.push(r):h.typeKeywords=[r]}}function q(h,r){return!!h.typeKeywords?.includes(r)}function e(h,r){if(h=h.typeKeywords)r=h.indexOf(r),-1<r&&h.splice(r,1)}const g={DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",
SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};a.addTypeKeyword=n;a.getUserPrivileges=function(h){const {portal:r,isOrgItem:u,itemControl:p}=h;var l=r.user?.privileges;h=l?l.includes("features:user:edit"):!0;l=u?!!l?.includes("features:user:fullEdit"):!1;const m="update"===p||"admin"===p;m?l=h=!0:l&&(h=!0);return{features:{edit:h,fullEdit:l},content:{updateItem:m}}};a.getWGS84ExtentForItem=async function(h){h=
h.clone().normalize();let r;if(1<h.length)for(const u of h)r?u.width>r.width&&(r=u):r=u;else r=h[0];return d(r)};a.hasTypeKeyword=q;a.isHostedLayer=function(h){return q(h,g.HOSTED_SERVICE)};a.removeTypeKeyword=e;a.toggleTypeKeyword=function(h,r,u){u?n(h,r):e(h,r)};a.typeKeyword=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../core/Error ../core/promiseUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../core/libs/gl-matrix-2/factories/vec3f64 ./asserts ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./SpatialReference ./projection/projectBuffer ./projection/projectors ./projection/projectXYZToVector ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/zscale".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x){function y(){return!!da&&u.isLoaded()}function B(){if(y())return!0;d.trackAccess(la);E();return!1}function E(V){null==qa&&(qa=Promise.all([u.load(),(new Promise((ha,ma)=>a(["../chunks/geometryEngineBase"],ha,ma))).then(ha=>ha.geometryEngineBase),new Promise((ha,ma)=>a(["./geometryAdapters/hydrated"],ha,ma))]));return qa.then(([,ha,{hydratedAdapter:ma}])=>{f.throwIfAborted(V);sa=ma;da=ha.default;da._enableProjection(u.pe);la.notify()})}function J(V,
ha,ma=null,G=null){if(Array.isArray(V)){if(0===V.length)return[];e.assertNotMeshes(V);return K(sa,V,V[0].spatialReference,ha,ma,G)}e.assertNotMesh(V);return K(sa,[V],V.spatialReference,ha,ma,G)[0]}function K(V,ha,ma,G,Q=null,fa=null){if(null==ma||null==G)return ha;if(S(ma,G,Q))return ha.map(ta=>L(ta,ma,G));if(null==Q&&g.isSphericalECEF(ma))return ha.map(ta=>L(ta,ma,v.WGS84)).map(ta=>N(ta,G));if(null==Q&&g.isSphericalECEF(G))return ha.map(ta=>N(ta,v.WGS84)).map(ta=>L(ta,v.WGS84,G));if(null==Q){const ta=
z.cacheKey(ma,G);void 0!==ia[ta]?Q=ia[ta]:(Q=F(ma,G,void 0),null==Q&&(Q=new z),ia[ta]=Q)}if(null==da||null==V)throw new ua;return null!=fa?da._project(V,ha,ma,G,Q,fa):da._project(V,ha,ma,G,Q)}function H(V,ha){if(!y())for(const ma of V)if(null!=ma&&!k.equals(ma.spatialReference,ha)&&k.isValid(ma.spatialReference)&&k.isValid(ha)&&!S(ma.spatialReference,ha))return d.trackAccess(la),{pending:E(),geometries:null};return{pending:null,geometries:V.map(ma=>null==ma?null:k.equals(ma.spatialReference,ha)?ma:
k.isValid(ma.spatialReference)&&k.isValid(ha)?N(ma,ha):null)}}function F(V,ha,ma=null){if(null==V||null==ha)return null;if(null==da||null==sa)throw new ua;V=da._getTransformation(sa,V,ha,ma,ma?.spatialReference);return null!==V?z.fromGE(V):null}function N(V,ha){try{const ma=J(V,ha);if(null==ma)return null;"xmin"in V&&"xmin"in ma&&(ma.zmin=V.zmin,ma.zmax=V.zmax);const G=x.getGeometryZScaler(ma.type,V.spatialReference,ha);null!=G&&G(ma);return ma}catch(ma){if(!(ma instanceof ua))throw ma;return null}}
function S(V,ha,ma){return ma?!1:k.equals(V,ha)?!0:k.isValid(V)&&k.isValid(ha)&&!!t.getProjector(V,ha)}async function W(V,ha,ma,G){if(y())return f.waitTick(G);if(Array.isArray(V))for(const {source:Q,dest:fa,geographicTransformation:ta}of V){if(Q&&fa&&!S(Q,fa,ta))return E(G)}else if(V&&ha&&!S(V,ha,ma))return E(G);return f.waitTick(G)}function L(V,ha,ma){return V?"x"in V?P(V,ha,new p,ma,0):"xmin"in V?Y(V,ha,new h,ma,0):"rings"in V?R(V,ha,new l,ma,0):"paths"in V?D(V,ha,new m,ma,0):"points"in V?X(V,ha,
new r,ma,0):null:null}function P(V,ha,ma,G,Q){ya[0]=V.x;ya[1]=V.y;const fa=V.z;ya[2]=void 0!==fa?fa:Q;if(!A.projectBuffer(ya,ha,0,ya,G,0))return null;ma.x=ya[0];ma.y=ya[1];ma.spatialReference=G;void 0!==fa||g.isSphericalPCPF(G)?(ma.z=ya[2],ma.hasZ=!0):(ma.z=void 0,ma.hasZ=!1);void 0===V.m?(ma.m=void 0,ma.hasM=!1):(ma.m=V.m,ma.hasM=!0);return ma}function X(V,ha,ma,G,Q){const {points:fa,hasZ:ta,hasM:za}=V;V=[];const Ea=fa.length,Ga=[];for(var Z of fa)Ga.push(Z[0],Z[1],ta?Z[2]:Q);if(!A.projectBuffer(Ga,
ha,0,Ga,G,0,Ea))return null;ha=ta||g.isSphericalPCPF(G);for(Q=0;Q<Ea;++Q){Z=3*Q;const T=Ga[Z],I=Ga[Z+1];ha&&za?V.push([T,I,Ga[Z+2],fa[Q][3]]):ha?V.push([T,I,Ga[Z+2]]):za?V.push([T,I,fa[Q][2]]):V.push([T,I])}ma.points=V;ma.spatialReference=G;ma.hasZ=ta;ma.hasM=za;return ma}function D(V,ha,ma,G,Q){const {paths:fa,hasZ:ta,hasM:za}=V;V=[];if(!ja(fa,ta??!1,za??!1,ha,V,G,Q))return null;ha=ta||g.isSphericalPCPF(G);ma.paths=V;ma.spatialReference=G;ma.hasZ=ha;ma.hasM=za;return ma}function R(V,ha,ma,G,Q){const {rings:fa,
hasZ:ta,hasM:za}=V;V=[];if(!ja(fa,ta??!1,za??!1,ha,V,G,Q))return null;ha=ta||g.isSphericalPCPF(G);ma.rings=V;ma.spatialReference=G;ma.hasZ=ha;ma.hasM=za;return ma}function Y(V,ha,ma,G,Q){const {xmin:fa,ymin:ta,xmax:za,ymax:Ea,hasZ:Ga,hasM:Z}=V;if(!w.projectXYZToVector(fa,ta,Ga?V.zmin:Q,ha,ya,G))return null;const T=Ga||g.isSphericalPCPF(G);ma.xmin=ya[0];ma.ymin=ya[1];T&&(ma.zmin=ya[2]);if(!w.projectXYZToVector(za,Ea,Ga?V.zmax:Q,ha,ya,G))return null;ma.xmax=ya[0];ma.ymax=ya[1];T&&(ma.zmax=ya[2]);Z&&
(ma.mmin=V.mmin,ma.mmax=V.mmax);ma.spatialReference=G;return ma}function ja(V,ha,ma,G,Q,fa,ta=0){const za=[];for(const Ea of V)for(const Ga of Ea)za.push(Ga[0],Ga[1],ha?Ga[2]:ta);if(!A.projectBuffer(za,G,0,za,fa,0))return!1;G=0;Q.length=0;ha=ha||g.isSphericalPCPF(fa);for(const Ea of V){V=[];for(const Ga of Ea)ha&&ma?V.push([za[G++],za[G++],za[G++],Ga[3]]):ha?V.push([za[G++],za[G++],za[G++]]):(ma?V.push([za[G++],za[G++],Ga[2]]):V.push([za[G++],za[G++]]),G++);Q.push(V)}return!0}let da=null,sa=null,
qa=null,ia={};const la=new n.SimpleObservable;class ua extends c{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}const ya=q.create();b.canProjectWithoutEngine=S;b.getTransformation=F;b.getTransformations=function(V,ha,ma=null){if(null==da||null==sa)throw new ua;V=da._getTransformationBySuitability(sa,V,ha,ma,ma?.spatialReference);if(null!==V){ha=[];for(const G of V)ha.push(z.fromGE(G));return ha}return[]};b.initializeProjection=W;b.isEqualBaseGCS=
function(V,ha){if(k.equals(V,ha))return!0;if(!k.isValid(V)||!k.isValid(ha))return!1;V=k.isWGS84(V)||k.isWebMercator(V)||k.isCGCS2000(V);ha=k.isWGS84(ha)||k.isWebMercator(ha)||k.isCGCS2000(ha);return V&&ha};b.isLoaded=y;b.isLoadedOrLoad=B;b.isLoadedOrLoadFor=function(V,ha){return V&&ha?S(V,ha)||B():!0};b.load=E;b.project=J;b.projectExtent=function(V,ha,ma=ha.spatialReference,G=0){return null!=V.spatialReference&&null!=ma&&null!=Y(V,V.spatialReference,ha,ma,G)};b.projectMany=K;b.projectMultipoint=function(V,
ha,ma=ha.spatialReference,G=0){return null!=V.spatialReference&&null!=ma&&null!=X(V,V.spatialReference,ha,ma,G)};b.projectOrLoad=function(V,ha){V=H([V],ha);return null!=V.pending?{pending:V.pending,geometry:null}:null!=V.geometries?{pending:null,geometry:V.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=H;b.projectPoint=function(V,ha,ma=ha.spatialReference,G=0){return null!=ma&&null!=V.spatialReference&&null!=P(V,V.spatialReference,ha,ma,G)};b.projectPolygon=function(V,ha,ma=ha.spatialReference,
G=0){return null!=V.spatialReference&&null!=ma&&null!=R(V,V.spatialReference,ha,ma,G)};b.projectPolyline=function(V,ha,ma=ha.spatialReference,G=0){return null!=V.spatialReference&&null!=ma&&null!=D(V,V.spatialReference,ha,ma,G)};b.projectWithZConversion=async function(V,ha,ma){const G=V.spatialReference;null!=G&&null!=ha&&await W(G,ha,null,ma);return N(V,ha)};b.projectWithoutEngine=L;b.requiresLoad=function(V,ha){return!S(V,ha)&&!y()};b.test={get loadPromise(){return qa}};b.tryProjectWithZConversion=
N;b.unload=function(){qa=sa=da=null;ia={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectBuffer":function(){define(["exports","./projectors"],function(a,b){a.projectBuffer=function(c,f,d,n,q,e,g=Math.floor(c.length/3)){f=b.getProjector(f,q);if(null==f)return!1;if(f===b.copy3){if(c===n&&d===e)return!0;g=d+3*g;for(let h=d,r=e;h<g;h++,r++)n[r]=c[h];return!0}g=d+3*g;for(let h=d,r=e;h<g;h+=3,r+=3)f(c,h,n,r);return!0};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/projection/projectors":function(){define("exports ../../core/mathUtils ../../core/unitUtils ../ellipsoidUtils ../support/Ellipsoid ../support/geodesicConstants ../support/spatialReferenceUtils ../support/SupportedGCSWkids".split(" "),function(a,b,c,f,d,n,q,e){function g(ia,la){return h(ia,la)?.projector}function h(ia,la){if(null==ia||null==la)return null;if(D.source.spatialReference===ia&&D.dest.spatialReference===la)return D;const ua=r(ia,D.source),ya=r(la,D.dest);
ua===a.ProjectionID.UNKNOWN&&ya===a.ProjectionID.UNKNOWN?q.equals(ia,la)?D.projector=u:D.projector=null:D.projector=X[ua][ya];return D}function r(ia,la){if(!ia)return a.ProjectionID.UNKNOWN;if(la.spatialReference===ia)return la.spatialReferenceId;la.spatialReference=ia;"metersPerUnit"in la&&(la.metersPerUnit=c.getMetersPerUnitForSR(ia,1));return f.isSphericalECEF(ia)?la.spatialReferenceId=a.ProjectionID.SPHERICAL_ECEF:q.isWGS84(ia)?la.spatialReferenceId=a.ProjectionID.WGS84:q.isWebMercator(ia)?la.spatialReferenceId=
a.ProjectionID.WEB_MERCATOR:q.isPlateCarree(ia)?la.spatialReferenceId=a.ProjectionID.PLATE_CARREE:ia.wkt===f.WGS84ECEFSpatialReferenceLike.wkt?la.spatialReferenceId=a.ProjectionID.WGS84_ECEF:ia.wkid===e.SupportedGCSWkids.CGCS2000?la.spatialReferenceId=a.ProjectionID.CGCS2000:ia.wkt===f.SphericalPCPFMarsLike.wkt?la.spatialReferenceId=a.ProjectionID.SPHERICAL_MARS_PCPF:ia.wkt===f.SphericalPCPFMoonLike.wkt?la.spatialReferenceId=a.ProjectionID.SPHERICAL_MOON_PCPF:q.isMars(ia)?la.spatialReferenceId=a.ProjectionID.GCSMARS2000:
q.isMoon(ia)?la.spatialReferenceId=a.ProjectionID.GCSMOON2000:la.spatialReferenceId=a.ProjectionID.UNKNOWN}function u(ia,la,ua,ya){ia!==ua&&(ua[ya++]=ia[la++],ua[ya++]=ia[la++],ua[ya]=ia[la])}function p(ia,la,ua,ya){ua[ya]=ia[la]/da*Y;ua[ya+1]=Y*(ja-2*Math.atan(Math.exp(-ia[la+1]/da)));ua[ya+2]=ia[la+2]}function l(ia,la,ua,ya){const V=ia[la]/da,ha=ja-2*Math.atan(Math.exp(-ia[la+1]/da));ia=da+ia[la+2];la=Math.cos(ha)*ia;ua[ya]=Math.cos(V)*la;ua[ya+1]=Math.sin(V)*la;ua[ya+2]=Math.sin(ha)*ia}function m(ia,
la,ua,ya){p(ia,la,ua,ya);S(ua,ya,ua,ya)}function v(ia,la,ua,ya,V){var ha=.4999999*Math.PI;ha=b.clamp(R*ia[la+1],-ha,ha);ha=Math.sin(ha);ua[ya++]=R*ia[la]*V.radius;ua[ya++]=V.halfSemiMajorAxis*Math.log((1+ha)/(1-ha));ua[ya]=ia[la+2]}function A(ia,la,ua,ya){v(ia,la,ua,ya,d.earth)}function t(ia,la,ua,ya){ua[ya]=ia[la]*sa;ua[ya+1]=ia[la+1]*sa;ua[ya+2]=ia[la+2]}function w(ia,la,ua,ya){ua[ya]=ia[la]*qa;ua[ya+1]=ia[la+1]*qa;ua[ya+2]=ia[la+2]}function z(ia,la,ua,ya){p(ia,la,ua,ya);t(ua,ya,ua,ya)}function k(ia,
la,ua,ya,V){V+=ia[la+2];const ha=R*ia[la+1];ia=R*ia[la];la=Math.cos(ha)*V;ua[ya]=Math.cos(ia)*la;ua[ya+1]=Math.sin(ia)*la;ua[ya+2]=Math.sin(ha)*V}function x(ia,la,ua,ya){k(ia,la,ua,ya,d.moon.radius)}function y(ia,la,ua,ya){k(ia,la,ua,ya,d.mars.radius)}function B(ia,la,ua,ya){k(ia,la,ua,ya,d.earth.radius)}function E(ia,la,ua,ya,V){var ha=ia[la];const ma=ia[la+1];la=ia[la+2];ia=Math.sqrt(ha*ha+ma*ma+la*la);la=b.asinClamped(la/(0===ia?1:ia));ha=Math.atan2(ma,ha);ua[ya++]=Y*ha;ua[ya++]=Y*la;ua[ya]=ia-
V}function J(ia,la,ua,ya){E(ia,la,ua,ya,d.moon.radius)}function K(ia,la,ua,ya){E(ia,la,ua,ya,d.mars.radius)}function H(ia,la,ua,ya){E(ia,la,ua,ya,d.earth.radius)}function F(ia,la,ua,ya){H(ia,la,ua,ya);A(ua,ya,ua,ya)}function N(ia,la,ua,ya){H(ia,la,ua,ya);S(ua,ya,ua,ya)}function S(ia,la,ua,ya){var V=d.earth;const ha=R*ia[la];var ma=R*ia[la+1];ia=ia[la+2];la=Math.sin(ma);ma=Math.cos(ma);const G=V.radius/Math.sqrt(1-V.eccentricitySquared*la*la);ua[ya++]=(G+ia)*ma*Math.cos(ha);ua[ya++]=(G+ia)*ma*Math.sin(ha);
ua[ya++]=(G*(1-V.eccentricitySquared)+ia)*la}function W(ia,la,ua,ya){var V=n.earthEllipsoidConstants,ha=ia[la],ma=ia[la+1];ia=ia[la+2];let G;la=Math.abs(ia);var Q=ha*ha+ma*ma;var fa=Math.sqrt(Q);var ta=Q+ia*ia;var za=Math.sqrt(ta);ha=Math.atan2(ma,ha);var Ea=ia*ia/ta;ta=Q/ta;ma=V.a2/za;Q=V.a3-V.a4/za;.3<ta?(Ea=la/za*(1+ta*(V.a1+ma+Ea*Q)/za),za=Math.asin(Ea),ma=Ea*Ea,ta=Math.sqrt(1-ma)):(ta=fa/za*(1-Ea*(V.a5-ma-ta*Q)/za),za=Math.acos(ta),ma=1-ta*ta,Ea=Math.sqrt(ma));G=1-d.earth.eccentricitySquared*
ma;ma=d.earth.radius/Math.sqrt(G);V=V.a6*ma;ma=fa-ma*ta;Q=la-V*Ea;la=ta*ma+Ea*Q;fa=ta*Q-Ea*ma;V=fa/(V/G+la);za+=V;0>ia&&(za=-za);ua[ya++]=Y*ha;ua[ya++]=Y*za;ua[ya]=la+fa*V/2}function L(ia,la,ua,ya){W(ia,la,ua,ya);B(ua,ya,ua,ya)}function P(ia,la,ua,ya){W(ia,la,ua,ya);A(ua,ya,ua,ya)}a.ProjectionID=void 0;(function(ia){ia[ia.UNKNOWN=0]="UNKNOWN";ia[ia.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";ia[ia.WGS84=2]="WGS84";ia[ia.WEB_MERCATOR=3]="WEB_MERCATOR";ia[ia.WGS84_ECEF=4]="WGS84_ECEF";ia[ia.CGCS2000=5]="CGCS2000";
ia[ia.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF";ia[ia.GCSMARS2000=7]="GCSMARS2000";ia[ia.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF";ia[ia.GCSMOON2000=9]="GCSMOON2000";ia[ia.LON_LAT=10]="LON_LAT";ia[ia.PLATE_CARREE=11]="PLATE_CARREE"})(a.ProjectionID||(a.ProjectionID={}));const X={[a.ProjectionID.WGS84]:{[a.ProjectionID.CGCS2000]:u,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:A,[a.ProjectionID.PLATE_CARREE]:t,[a.ProjectionID.WGS84]:u,[a.ProjectionID.WGS84_ECEF]:S},[a.ProjectionID.CGCS2000]:{[a.ProjectionID.CGCS2000]:u,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:A,
[a.ProjectionID.PLATE_CARREE]:t,[a.ProjectionID.WGS84]:u,[a.ProjectionID.WGS84_ECEF]:S},[a.ProjectionID.GCSMARS2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:u,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:y,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},
[a.ProjectionID.GCSMOON2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:u,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:x,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.WEB_MERCATOR]:{[a.ProjectionID.CGCS2000]:p,[a.ProjectionID.GCSMARS2000]:null,
[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:p,[a.ProjectionID.SPHERICAL_ECEF]:l,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:u,[a.ProjectionID.PLATE_CARREE]:z,[a.ProjectionID.WGS84]:p,[a.ProjectionID.WGS84_ECEF]:m},[a.ProjectionID.WGS84_ECEF]:{[a.ProjectionID.CGCS2000]:W,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:W,[a.ProjectionID.SPHERICAL_ECEF]:L,
[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:P,[a.ProjectionID.PLATE_CARREE]:function(ia,la,ua,ya){W(ia,la,ua,ya);t(ua,ya,ua,ya)},[a.ProjectionID.WGS84]:W,[a.ProjectionID.WGS84_ECEF]:u},[a.ProjectionID.SPHERICAL_ECEF]:{[a.ProjectionID.CGCS2000]:H,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:H,[a.ProjectionID.SPHERICAL_ECEF]:u,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:F,[a.ProjectionID.PLATE_CARREE]:function(ia,la,ua,ya){H(ia,la,ua,ya);t(ua,ya,ua,ya)},[a.ProjectionID.WGS84]:H,[a.ProjectionID.WGS84_ECEF]:N},[a.ProjectionID.SPHERICAL_MARS_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:K,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:K,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:u,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,
[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.SPHERICAL_MOON_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:J,[a.ProjectionID.LON_LAT]:J,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:u,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,
[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.UNKNOWN]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:u,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},
[a.ProjectionID.LON_LAT]:{[a.ProjectionID.CGCS2000]:u,[a.ProjectionID.GCSMARS2000]:u,[a.ProjectionID.GCSMOON2000]:u,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:y,[a.ProjectionID.SPHERICAL_MOON_PCPF]:x,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:A,[a.ProjectionID.PLATE_CARREE]:t,[a.ProjectionID.WGS84]:u,[a.ProjectionID.WGS84_ECEF]:S},[a.ProjectionID.PLATE_CARREE]:{[a.ProjectionID.CGCS2000]:w,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:w,[a.ProjectionID.SPHERICAL_ECEF]:function(ia,la,ua,ya){w(ia,la,ua,ya);B(ua,ya,ua,ya)},[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:function(ia,la,ua,ya){w(ia,la,ua,ya);A(ua,ya,ua,ya)},[a.ProjectionID.PLATE_CARREE]:u,[a.ProjectionID.WGS84]:w,[a.ProjectionID.WGS84_ECEF]:function(ia,la,ua,ya){w(ia,la,ua,ya);S(ua,ya,ua,ya)}}},D={source:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,
metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},projector:u},R=b.deg2rad(1),Y=b.rad2deg(1),ja=.5*Math.PI,da=d.earth.radius,sa=da*Math.PI/180,qa=180/(da*Math.PI);a.copy3=u;a.getProjector=g;a.getProjectorClassification=h;a.getProjectorName=function(ia,la){switch(g(ia,la)){case u:return"copy3";case B:return"wgs84ToSphericalECEF";case A:return"wgs84ToWebMercator";case t:return"wgs84ToPlateCarree";case S:return"wgs84ToWGS84ECEF";case p:return"webMercatorToWGS84";
case l:return"webMercatorToSphericalECEF";case m:return"webMercatorToWGS84ECEF";case z:return"webMercatorToPlateCarree";case W:return"wgs84ECEFToWGS84";case L:return"wgs84ECEFToSphericalECEF";case P:return"wgs84ECEFToWebMercator";case H:return"sphericalECEFToWGS84";case F:return"sphericalECEFToWebMercator";case K:return"sphericalMarsPCPFToMars2000";case J:return"sphericalMoonPCPFToMoon2000";case N:return"sphericalECEFToWGS84ECEF";case y:return"mars2000ToSphericalPCPF";case x:return"moon2000ToSphericalPCPF";
default:return null}};a.invPlateCarreeScale=qa;a.lonLatToWebMercatorComparable=v;a.projectionTable=X;a.sphericalPCPFtoLonLatElevation=E;a.wgs84ToWebMercator=A;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const c=Math.PI/180,f=b.earth.radius,d=b.earth.eccentricitySquared;b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},
4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},
104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,
f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},
104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.earthEllipsoidConstants={a1:f*d,a2:f*d*f*d,a3:f*d*d/2,a4:f*d*f*d*2.5,a5:f*d+f*d*d/2,a6:1-d};a.spheroids=b;a.toRadians=c;a.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectXYZToVector":function(){define(["exports",
"../../core/libs/gl-matrix-2/factories/vec3f64","./projectBuffer"],function(a,b,c){const f=b.create();a.projectXYZToVector=function(d,n,q,e,g,h){f[0]=d;f[1]=n;f[2]=q;return c.projectBuffer(f,e,0,g,h,0)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){class b{static cacheKey(c,f){return[c.wkid?.toString()??"-1",c.wkt?.toString()??"",c.wkt2?.toString()??"",f.wkid?.toString()??
"-1",f.wkt?.toString()??"",f.wkt2?.toString()??""].join()}static fromGE(c){const f=new b;let d="";for(const n of c.steps)c=a.fromGE(n),f.steps.push(c),d+=c.uid.toString()+",";f._cachedProjection={};f._gtlistentry=null;f._chain=d;return f}constructor(c){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(c?.steps)for(const f of c.steps)f instanceof a?this.steps.push(f):this.steps.push(new a({wkid:f.wkid,wkt:f.wkt,isInverse:f.isInverse}))}getInverse(){const c=new b;c.steps=
[];for(let f=this.steps.length-1;0<=f;f--)c.steps.push(this.steps[f].getInverse());return c}getGTListEntry(){let c="";for(const f of this.steps)c+=f.uid.toString()+",";c!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=c);return this._gtlistentry}assignCachedGe(c,f,d){this._cachedProjection[b.cacheKey(c,f)]=d}getCachedGeTransformation(c,f){let d="";for(const n of this.steps)d+=n.uid.toString()+",";d!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=
d);c=this._cachedProjection[b.cacheKey(c,f)];return void 0===c?null:c}}return b})},"esri/geometry/support/GeographicTransformationStep":function(){define(function(){let a=0;class b{static fromGE(c){const f=new b;f._wkt=c.wkt;f._wkid=c.wkid;f._isInverse=c.isInverse;return f}constructor(c){this.uid=a++;c?(this._wkt=null!=c.wkt?c.wkt:null,this._wkid=null!=c.wkid?c.wkid:-1,this._isInverse=null!=c.isInverse?!0===c.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(c){this._wkt=
c;this.uid=a++}get wkid(){return this._wkid}set wkid(c){this._wkid=c;this.uid=a++}get isInverse(){return this._isInverse}set isInverse(c){this._isInverse=c;this.uid=a++}getInverse(){const c=new b;c._wkt=this.wkt;c._wkid=this._wkid;c._isInverse=!this.isInverse;return c}}return b})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],function(a,b,c,f){a.getGeometryZScaler=function(d,n,q){if(null==n||null==q||q.vcsWkid||f.equals(n,
q)||c.isSphericalPCPF(n)||c.isSphericalPCPF(q))return null;n=b.getMetersPerVerticalUnitForSR(n);q=b.getMetersPerVerticalUnitForSR(q);const e=n/q;if(1===e)return null;switch(d){case "point":case "esriGeometryPoint":return g=>{null!=g?.z&&(g.z*=e)};case "polyline":case "esriGeometryPolyline":return g=>{if(g)for(const h of g.paths)for(const r of h)2<r.length&&(r[2]*=e)};case "polygon":case "esriGeometryPolygon":return g=>{if(g)for(const h of g.rings)for(const r of h)2<r.length&&(r[2]*=e)};case "multipoint":case "esriGeometryMultipoint":return g=>
{if(g)for(const h of g.points)2<h.length&&(h[2]*=e)};case "extent":case "esriGeometryEnvelope":return g=>{g&&null!=g.zmin&&null!=g.zmax&&(g.zmin*=e,g.zmax*=e)};default:return null}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,f,d,n,q){a.ScaleRangeLayer=e=>{e=class extends e{constructor(){super(...arguments);this.maxScale=this.minScale=0}get effectiveScaleRange(){const g={minScale:this.minScale,maxScale:this.maxScale};var h=this.parent;h&&"effectiveScaleRange"in h&&(h=h.effectiveScaleRange,g.minScale=0<g.minScale?0<h.minScale?Math.min(g.minScale,h.minScale):g.minScale:h.minScale,g.maxScale=0<g.maxScale?0<h.maxScale?Math.max(g.maxScale,h.maxScale):g.maxScale:h.maxScale);return(h=this._get("effectiveScaleRange"))&&h.minScale===
g.minScale&&h.maxScale===g.maxScale?h:g}};b.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0);b.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0);b.__decorate([c.property({readOnly:!0})],e.prototype,"effectiveScaleRange",null);return e=b.__decorate([q.subclass("esri.layers.mixins.ScaleRangeLayer")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ./refresh".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){a.RefreshableLayer=u=>{u=class extends u{constructor(...p){super(...p);this.refreshTimestamp=this.refreshInterval=0;this._debounceHasDataChanged=d.debounce(()=>this.hasDataChanged());this.when().then(()=>{this.destroyed||r.registerLayer(this)},()=>{})}destroy(){r.unregisterLayer(this)}castRefreshInterval(p){return.1<=p?p:0>=p?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(p=Date.now()){d.ignoreAbortErrors(this._debounceHasDataChanged()).then(l=>
{l&&this._set("refreshTimestamp",p);this.emit("refresh",{dataChanged:l})},l=>{f.getLogger(this).error(l);this.emit("refresh",{dataChanged:!1,error:l})})}async hasDataChanged(){return!0}get test(){}};b.__decorate([n.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:h.excludeTables}}}}})],u.prototype,"refreshInterval",void 0);b.__decorate([q.cast("refreshInterval")],u.prototype,"castRefreshInterval",null);b.__decorate([n.property({readOnly:!0})],u.prototype,
"refreshTimestamp",void 0);b.__decorate([n.property({readOnly:!0})],u.prototype,"refreshParameters",null);return u=b.__decorate([g.subclass("esri.layers.mixins.RefreshableLayer")],u)};a.isRefreshableLayer=function(u){return null!=u&&"object"===typeof u&&"refreshTimestamp"in u&&"refresh"in u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define(["exports","../../core/Collection","../../core/reactiveUtils","../../core/accessorSupport/trackingUtils"],
function(a,b,c,f){function d(u){return null!=u&&"object"===typeof u&&"refreshInterval"in u&&"refresh"in u}function n(u,p){return Number.isFinite(u)&&Number.isFinite(p)?0>=p?u:n(p,u%p):0}function q(){var u=Date.now();let p=!1;for(const l of e){const m=l.deref();if(!m)p=!0;else if(m.refreshInterval){const v=g.get(m)??0;u-v+5>=6E4*m.refreshInterval&&(g.set(m,u),m.refresh(u))}}if(p)for(u=e.length-1;0<=u;u--)e.at(u).deref()||e.removeAt(u)}const e=new b,g=new WeakMap;let h=0,r=0;f.autorun(()=>{const u=
Date.now();let p=0;for(const l of e){const m=l.deref();m&&(p=n(Math.round(6E4*m.refreshInterval),p),m.refreshInterval?g.get(m)||g.set(m,u):g.delete(m))}p!==r&&(r=p,clearInterval(h),h=0===r?0:setInterval(q,r))},c.sync);a.registerLayer=function(u){d(u)&&e.push(new WeakRef(u))};a.test={get hasRefreshTimer(){return 0<h},get tickInterval(){return r},forceRefresh(){q()},hasLayer(u){return d(u)&&e.some(p=>p.deref()===u)},clear(){for(const u of e){const p=u.deref();p&&g.delete(p)}e.removeAll()}};a.unregisterLayer=
function(u){const p=e.find(l=>l.deref()===u);p&&e.remove(p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/Collection ../../core/has ./LayerLoadContext ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),function(a,b,c,f,d,n,q,e,g){async function h(N,S,W){if(S){S=S.map(L=>r(L,W));S=await Promise.allSettled(S);
for(const L of S)"rejected"!==L.status&&L.value&&N.add(L.value)}}async function r(N,S){const W=await p(N,S);return u(W,N,S)}async function u(N,S,W){N=new N;N.read(S,W.context);"group"===N.type&&("GroupLayer"===S.layerType?await v(N,S,W):m(S)?A(N,S,W.context):l(S)&&await t(N,S,W.context));await g.loadStyleRenderer(N,W.context);return N}async function p(N,S){var W=S.context;let L;switch(W.origin){case "web-scene":switch(W.layerContainerType){case "basemap":L=y;break;case "ground":L=k;break;case "tables":L=
x;break;default:L=z}break;case "link-chart":switch(W.layerContainerType){case "basemap":L=F;break;case "tables":L=H;break;default:L=K}break;default:switch(W.layerContainerType){case "basemap":L=J;break;case "tables":L=E;break;default:L=B}}let P=N.layerType||N.type;!P&&S?.defaultLayerType&&(P=S.defaultLayerType);S=(S=L[P])?d.layerLookupMap[S]:d.layerLookupMap.UnknownLayer;m(N)?(W=W?.portal,N.itemId&&(N=new n({id:N.itemId,portal:W}),await N.load(),N=(await e.selectLayerClassPath(N,new f.LayerLoadContext)).className||
"UnknownLayer",S=d.layerLookupMap[N])):"ArcGISFeatureLayer"===P?q.isMapNotesLayer(N)||q.isMarkupLayer(N)?S=d.layerLookupMap.MapNotesLayer:q.isRouteLayer(N)?S=d.layerLookupMap.RouteLayer:l(N)&&(S=d.layerLookupMap.GroupLayer):N.wmtsInfo?.url&&N.wmtsInfo.layerIdentifier?S=d.layerLookupMap.WMTSLayer:"WFS"===P&&"2.0.0"!==N.wfsInfo?.version&&(S=d.layerLookupMap.UnsupportedLayer);return S()}function l(N){return"ArcGISFeatureLayer"!==N.layerType||m(N)?!1:1<(N.featureCollection?.layers?.length??0)}function m(N){return"Feature Collection"===
N.type}async function v(N,S,W){const L=new b;S=h(L,Array.isArray(S.layers)?S.layers:[],W);try{try{if(await S,"group"===N.type)return N.layers.addMany(L),N}catch(P){N.destroy();for(const X of L)X.destroy();throw P;}}catch(P){throw P;}}function A(N,S,W){S.itemId&&(N.portalItem=new n({id:S.itemId,portal:W?.portal}),N.when(()=>{const L=P=>{var X=P.layerId;w(P,N,S,X,W);(X=S.featureCollection?.layers?.[X])&&P.read(X,W)};N.layers?.forEach(L);N.tables?.forEach(L)}))}async function t(N,S,W){const L=await (0,d.layerLookupMap.FeatureLayer)();
var P=S.featureCollection;const X=P?.showLegend;P=P?.layers?.map((D,R)=>{const Y=new L;Y.read(D,W);D={...W,ignoreDefaults:!0};w(Y,N,S,R,D);null!=X&&Y.read({showLegend:X},D);return Y});N.layers.addMany(P??[])}function w(N,S,W,L,P){N.read({id:`${S.id}-sublayer-${L}`,visibility:W.visibleLayers?.includes(L)??!0},P)}const z={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISSceneServiceLayer:"SceneLayer",
ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BuildingSceneLayer:"BuildingSceneLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",Object3DTilesLayer:"UnsupportedLayer",IntegratedMeshLayer:"IntegratedMeshLayer",KML:"KMLLayer",LineOfSightLayer:"LineOfSightLayer",MediaLayer:"MediaLayer",
OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",PointCloudLayer:"PointCloudLayer",RasterDataLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",ViewshedLayer:"ViewshedLayer",Voxel:"VoxelLayer",WCS:"WCSLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},k={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},x={ArcGISFeatureLayer:"FeatureLayer"},y={ArcGISImageServiceLayer:"UnsupportedLayer",
ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WCS:"UnsupportedLayer",WMS:"UnsupportedLayer",WebTiledLayer:"WebTileLayer"},B={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",
ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GeoRSS:"GeoRSSLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"KnowledgeGraphLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",
OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WCS:"WCSLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},E={ArcGISFeatureLayer:"FeatureLayer",SubtypeGroupTable:"SubtypeGroupLayer"},J={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",
BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WCS:"WCSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},K={...B,LinkChartLayer:"LinkChartLayer"},H={...E},F={...J};a.populateGroupLayer=v;a.populateOperationalLayers=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/LayerLoadContext":function(){define(["exports","../../support/requestPresets"],function(a,
b){class c{constructor(){this._serviceMetadatas=new Map;this._itemDatas=new Map}async fetchServiceMetadata(f,d){const n=this._serviceMetadatas.get(f);if(n)return n;d=await b.fetchArcGISServiceJSON(f,d);this._serviceMetadatas.set(f,d);return d}async fetchItemData(f){const {id:d}=f;if(!d)return null;const {_itemDatas:n}=this;if(n.has(d))return n.get(d);f=await f.fetchData();n.set(d,f);return f}async fetchCustomParameters(f,d){return(f=await this.fetchItemData(f))&&"object"===typeof f&&(d?d(f):f.customParameters)||
null}}a.LayerLoadContext=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports","../request"],function(a,b){a.fetchArcGISServiceJSON=async function(c,f){({data:c}=await b(c,{responseType:"json",query:{f:"json",...f?.customParameters,token:f?.apiKey}}));return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports"],function(a,b){const c=f=>Object.freeze(Object.defineProperty({__proto__:null,
default:f},Symbol.toStringTag,{value:"Module"}));b.layerLookupMap={BingMapsLayer:async()=>(await new Promise((f,d)=>a(["../BingMapsLayer"],n=>f(c(n)),d))).default,BuildingSceneLayer:async()=>(await new Promise((f,d)=>a(["../BuildingSceneLayer"],n=>f(c(n)),d))).default,CSVLayer:async()=>(await new Promise((f,d)=>a(["../CSVLayer"],n=>f(c(n)),d))).default,CatalogLayer:async()=>(await new Promise((f,d)=>a(["../CatalogLayer"],n=>f(c(n)),d))).default,DimensionLayer:async()=>(await new Promise((f,d)=>a(["../DimensionLayer"],
n=>f(c(n)),d))).default,ElevationLayer:async()=>(await new Promise((f,d)=>a(["../ElevationLayer"],n=>f(c(n)),d))).default,FeatureLayer:async()=>(await new Promise((f,d)=>a(["../FeatureLayer"],n=>f(c(n)),d))).default,GeoJSONLayer:async()=>(await new Promise((f,d)=>a(["../GeoJSONLayer"],n=>f(c(n)),d))).default,GeoRSSLayer:async()=>(await new Promise((f,d)=>a(["../GeoRSSLayer"],n=>f(c(n)),d))).default,GroupLayer:async()=>(await new Promise((f,d)=>a(["../GroupLayer"],n=>f(c(n)),d))).default,ImageryLayer:async()=>
(await new Promise((f,d)=>a(["../ImageryLayer"],n=>f(c(n)),d))).default,ImageryTileLayer:async()=>(await new Promise((f,d)=>a(["../ImageryTileLayer"],n=>f(c(n)),d))).default,IntegratedMesh3DTilesLayer:async()=>(await new Promise((f,d)=>a(["../IntegratedMesh3DTilesLayer"],n=>f(c(n)),d))).default,IntegratedMeshLayer:async()=>(await new Promise((f,d)=>a(["../IntegratedMeshLayer"],n=>f(c(n)),d))).default,KMLLayer:async()=>(await new Promise((f,d)=>a(["../KMLLayer"],n=>f(c(n)),d))).default,KnowledgeGraphLayer:async()=>
(await new Promise((f,d)=>a(["../KnowledgeGraphLayer"],n=>f(c(n)),d))).default,LineOfSightLayer:async()=>(await new Promise((f,d)=>a(["../LineOfSightLayer"],n=>f(c(n)),d))).default,LinkChartLayer:async()=>(await new Promise((f,d)=>a(["../LinkChartLayer"],n=>f(c(n)),d))).default,MapImageLayer:async()=>(await new Promise((f,d)=>a(["../MapImageLayer"],n=>f(c(n)),d))).default,MapNotesLayer:async()=>(await new Promise((f,d)=>a(["../MapNotesLayer"],n=>f(c(n)),d))).default,MediaLayer:async()=>(await new Promise((f,
d)=>a(["../MediaLayer"],n=>f(c(n)),d))).default,OGCFeatureLayer:async()=>(await new Promise((f,d)=>a(["../OGCFeatureLayer"],n=>f(c(n)),d))).default,OpenStreetMapLayer:async()=>(await new Promise((f,d)=>a(["../OpenStreetMapLayer"],n=>f(c(n)),d))).default,OrientedImageryLayer:async()=>(await new Promise((f,d)=>a(["../OrientedImageryLayer"],n=>f(c(n)),d))).default,PointCloudLayer:async()=>(await new Promise((f,d)=>a(["../PointCloudLayer"],n=>f(c(n)),d))).default,RouteLayer:async()=>(await new Promise((f,
d)=>a(["../RouteLayer"],n=>f(c(n)),d))).default,SceneLayer:async()=>(await new Promise((f,d)=>a(["../SceneLayer"],n=>f(c(n)),d))).default,StreamLayer:async()=>(await new Promise((f,d)=>a(["../StreamLayer"],n=>f(c(n)),d))).default,SubtypeGroupLayer:async()=>(await new Promise((f,d)=>a(["../SubtypeGroupLayer"],n=>f(c(n)),d))).default,TileLayer:async()=>(await new Promise((f,d)=>a(["../TileLayer"],n=>f(c(n)),d))).default,UnknownLayer:async()=>(await new Promise((f,d)=>a(["../UnknownLayer"],n=>f(c(n)),
d))).default,UnsupportedLayer:async()=>(await new Promise((f,d)=>a(["../UnsupportedLayer"],n=>f(c(n)),d))).default,VectorTileLayer:async()=>(await new Promise((f,d)=>a(["../VectorTileLayer"],n=>f(c(n)),d))).default,VideoLayer:async()=>(await new Promise((f,d)=>a(["../VideoLayer"],n=>f(c(n)),d))).default,ViewshedLayer:async()=>(await new Promise((f,d)=>a(["../ViewshedLayer"],n=>f(c(n)),d))).default,VoxelLayer:async()=>(await new Promise((f,d)=>a(["../VoxelLayer"],n=>f(c(n)),d))).default,WCSLayer:async()=>
(await new Promise((f,d)=>a(["../WCSLayer"],n=>f(c(n)),d))).default,WFSLayer:async()=>(await new Promise((f,d)=>a(["../WFSLayer"],n=>f(c(n)),d))).default,WMSLayer:async()=>(await new Promise((f,d)=>a(["../WMSLayer"],n=>f(c(n)),d))).default,WMTSLayer:async()=>(await new Promise((f,d)=>a(["../WMTSLayer"],n=>f(c(n)),d))).default,WebTileLayer:async()=>(await new Promise((f,d)=>a(["../WebTileLayer"],n=>f(c(n)),d))).default};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],
function(a){function b(c,f){return c.layerType&&"ArcGISFeatureLayer"===c.layerType?c.featureCollectionType===f?!0:!1:!1}a.isMapNotesLayer=function(c){return b(c,"notes")};a.isMarkupLayer=function(c){return b(c,"markup")};a.isRouteLayer=function(c){return b(c,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/Error ../../layers/support/associatedFeatureServiceUtils ../../layers/support/fetchService ../../layers/support/LayerLoadContext ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./loadUtils ./portalItemUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){async function r(x){await x.load();const y=new d.LayerLoadContext;x=await u(x,y);return p(x)}async function u(x,y){switch(x.type){case "3DTiles Service":return x.typeKeywords.includes("3DObject")?{className:"UnsupportedLayer"}:{className:"IntegratedMesh3DTilesLayer"};case "CSV":return{className:"CSVLayer"};case "Feature Collection":return A(x);case "Feature Service":return m(x,y);case "Feed":return{className:"StreamLayer"};case "GeoJson":return{className:"GeoJSONLayer"};
case "Group Layer":return{className:"GroupLayer"};case "Image Service":return t(x,y);case "KML":return{className:"KMLLayer"};case "Knowledge Graph Layer":return{className:"KnowledgeGraphLayer"};case "Map Service":return l(x,y);case "Media Layer":return{className:"MediaLayer"};case "Scene Service":return v(x,y);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "WCS":return{className:"WCSLayer"};case "WFS":return{className:"WFSLayer"};
case "WMS":return{className:"WMSLayer"};case "WMTS":return{className:"WMTSLayer"};default:throw new b("portal:unknown-item-type","Unknown item type '${type}'",{type:x.type});}}async function p(x){return{constructor:await (0,q.layerLookupMap[x.className])(),properties:x.properties}}async function l(x,y){return await w(x,y)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function m(x,y){x=await z(x,y);if("object"===typeof x){const {sourceJSON:B,className:E}=x;y={sourceJSON:B};null!=x.id&&
(y.layerId=x.id);return{className:E||"FeatureLayer",properties:y}}return{className:"GroupLayer"}}async function v(x,y){var B=await z(x,y,async()=>{try{if(!x.url)return[];const {serverUrl:E}=await c.findAssociatedFeatureService(x.url,{sceneLayerItem:x});return(await y.fetchServiceMetadata(E))?.tables??[]}catch{return[]}});if("object"===typeof B){const E={};let J=void 0;null!=B.id?(E.layerId=B.id,J=`${x.url}/layers/${B.id}`):J=x.url;if(x.typeKeywords?.length)for(const K of Object.keys(n.sceneServiceLayerTypeToClassName))if(x.typeKeywords.includes(K))return{className:n.sceneServiceLayerTypeToClassName[K]};
B=await y.fetchServiceMetadata(J,{customParameters:await y.fetchCustomParameters(x,K=>g.getFirstLayerOrTable(K)?.customParameters)});return{className:n.sceneServiceLayerTypeToClassName[B?.layerType]||"SceneLayer",properties:E}}return!1===B&&"Voxel"===(await y.fetchServiceMetadata(x.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}async function A(x){await x.load();const y=h.hasTypeKeyword(x,"Map Notes"),B=h.hasTypeKeyword(x,"Markup");if(y||B)return{className:"MapNotesLayer"};if(h.hasTypeKeyword(x,
"Route Layer"))return{className:"RouteLayer"};x=await x.fetchData();return 1===g.getNumLayersAndTables(x)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function t(x,y){await x.load();var B=x.typeKeywords?.map(E=>E.toLowerCase())??[];if(B.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(B.includes("tiled imagery"))return{className:"ImageryTileLayer"};B=(await y.fetchItemData(x))?.layerType;if("ArcGISTiledImageServiceLayer"===B)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===
B)return{className:"ImageryLayer"};B=await y.fetchServiceMetadata(x.url,{customParameters:await y.fetchCustomParameters(x)});x=B.cacheType?.toLowerCase();y=B.capabilities?.toLowerCase().includes("tilesonly");B=B.tileInfo?.format?.toLowerCase()??"";B=null==x&&"jpg jpeg png png8 png24 png32 mixed".split(" ").includes(B);return"map"===x||B||y?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}async function w(x,y){({tileInfo:x}=await y.fetchServiceMetadata(x.url,{customParameters:await y.fetchCustomParameters(x)}));
return x}async function z(x,y,B){const {url:E,type:J}=x,K="Feature Service"===J;if(!E)return{};if(/\/\d+$/.test(E))return K?(B=await y.fetchServiceMetadata(E,{customParameters:await y.fetchCustomParameters(x,F=>g.getFirstLayerOrTable(F)?.customParameters)}),{id:B.id,className:f.getLayerModuleType(B.type),sourceJSON:B}):{};await x.load();let H=await y.fetchItemData(x);if(K)return x=await g.preprocessFSItemData(H,E,y),B=k(x),"object"===typeof B&&(x=g.getLayerOrTable(x,B.id),B.className=g.layerTypeToLayerModuleType(x?.layerType)),
B;"Scene Service"===J&&(H=await g.populateSceneServiceItemData(x,H,y));if(0<g.getNumLayersAndTables(H))return k(H);x=await y.fetchServiceMetadata(E);B&&(x.tables=await B());return k(x)}function k(x){return 1===g.getNumLayersAndTables(x)?{id:g.getFirstLayerOrTable(x)?.id}:!1}a.fromItem=async function(x){({portalItem:x}=x);!x||x instanceof e||(x=new e(x));const y=await r(x);return new y.constructor({portalItem:x,...y.properties})};a.selectLayerClassPath=u;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/associatedFeatureServiceUtils":function(){define("exports ../../kernel ../../request ../../core/Error ../../core/promiseUtils ./arcgisLayerUrl ../../portal/Portal ../../portal/PortalItem".split(" "),function(a,b,c,f,d,n,q,e){async function g(l){var m=(await h(l)).serviceItemId;if(!m)return null;m=new e({id:m,apiKey:l.apiKey});const v=await r(l);null!=v&&(m.portal=new q({url:v}));try{return await m.load({signal:l.signal})}catch(A){return d.throwIfAbortError(A),
null}}async function h(l){if(l.rootDocument)return l.rootDocument;const m={query:{f:"json",...l.customParameters,token:l.apiKey},responseType:"json",signal:l.signal};try{const v=await c(l.sceneServerUrl,m);l.rootDocument=v.data}catch{l.rootDocument={}}return l.rootDocument}async function r(l){var m=b.id?.findServerInfo(l.sceneServerUrl);if(m?.owningSystemUrl)return m.owningSystemUrl;m=l.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const v=(await c(m,{query:{f:"json"},responseType:"json",
signal:l.signal})).data.owningSystemUrl;if(v)return v}catch(v){d.throwIfAbortError(v)}return null}async function u(l,m){l=n.parse(l);if(!l)throw new f("invalid-feature-service-url","Invalid feature service url");const v=l.url.path;l=m.layerId;if(null==l)return{serverUrl:v};var A=h(m),t=m.featureServiceItem?await m.featureServiceItem.fetchData("json"):null;const w=(t?.layers?.[0]||t?.tables?.[0])?.customParameters,z=y=>c(v,{query:{f:"json",...w},responseType:"json",authMode:y,signal:m.signal});t=z("anonymous").catch(()=>
z("no-prompt"));const [k,x]=await Promise.all([t,A]);A=x?.layers;t=k.data&&k.data.layers;if(!Array.isArray(t))throw Error("expected layers array");if(!Array.isArray(A)){if(null!=l&&l<t.length)return{serverUrl:v,layerId:t[l].id}}else for(let y=0;y<Math.min(A.length,t.length);y++)if(A[y].id===l)return{serverUrl:v,layerId:t[y].id};throw Error("could not find matching associated sublayer");}async function p({sceneLayerItem:l,signal:m}){if(!l)return null;try{const v=(await l.fetchRelatedItems({relationshipType:"Service2Service",
direction:"reverse"},{signal:m})).find(t=>"Feature Service"===t.type)||null;if(!v)return null;const A=new e({portal:v.portal,id:v.id});await A.load();return A}catch(v){return d.throwIfAbortError(v),null}}a.findAssociatedFeatureService=async function(l,m){l=n.parse(l);if(!l)throw new f("invalid-url","Invalid scene service url");l={...m,sceneServerUrl:l.url.path,layerId:l.sublayer??void 0};l.sceneLayerItem??(l.sceneLayerItem=await g(l));if(null==l.sceneLayerItem)return u(l.sceneServerUrl.replace("/SceneServer",
"/FeatureServer"),l);m=await p(l);if(!m?.url)throw new f("related-service-not-found","Could not find feature service through portal item relationship");l.featureServiceItem=m;l=await u(m.url,l);l.portalItem=m;return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fetchService":function(){define(["exports","../../support/requestPresets"],function(a,b){function c(g){({type:g}=g);return g?e.has(g):!1}function f(g){return"Table"===g.type}function d(g){g.layers=
g.layers?.filter(c);g.tables=g.tables?.filter(f)}function n(g){g.type||(g.type="Feature Layer")}function q(g){g.type||(g.type="Table")}const e=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);a.fetchFeatureService=async function(g,h){const {loadContext:r,...u}=h||{},p=r?await r.fetchServiceMetadata(g,u):await b.fetchArcGISServiceJSON(g,u);p.layers?.forEach(n);p.tables?.forEach(q);d(p);h={serviceJSON:p};if(10.5>(p.currentVersion??0))return h;g=`${g}/layers`;g=r?await r.fetchServiceMetadata(g,
u):await b.fetchArcGISServiceJSON(g,u);g.layers?.forEach(n);g.tables?.forEach(q);d(g);h.layersJSON={layers:g.layers,tables:g.tables};return h};a.getLayerModuleType=function(g){switch(g){case "Oriented Imagery Layer":return"OrientedImageryLayer";case "Catalog Layer":return"CatalogLayer"}return"FeatureLayer"};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/loadUtils":function(){define(["exports","../../layers/support/associatedFeatureServiceUtils","../../layers/support/fetchService"],
function(a,b,c){function f(n){const q={id:n.id,name:n.name};n=c.getLayerModuleType(n.type);"FeatureLayer"!==n&&(q.layerType=n);return q}function d(n){if(!n)return null;const {layers:q,tables:e}=n;return q?.length?q[0]:e?.length?e[0]:null}a.createSublayerData=f;a.getFirstLayerOrTable=d;a.getLayerOrTable=function(n,q){return null==q?null:[...(n.layers||[]),...(n.tables||[])].find(e=>e.id===q)};a.getNumLayersAndTables=function(n){return(n?.layers?.length??0)+(n?.tables?.length??0)};a.getSublayersByLayerType=
function(n,q){return[...(n.layers||[]),...(n.tables||[])].filter(({layerType:e})=>e?q.includes(e):q.includes("ArcGISFeatureLayer"))};a.instanceTypeToLayerTypes=function(n){switch(n){case "catalog":return["CatalogLayer"];case "feature":return["ArcGISFeatureLayer"];case "oriented-imagery":return["OrientedImageryLayer"];case "subtype-group":return["SubtypeGroupLayer","SubtypeGroupTable"]}return null};a.layerTypeToLayerModuleType=function(n){switch(n){case "CatalogLayer":return"CatalogLayer";case "OrientedImageryLayer":return"OrientedImageryLayer";
case "SubtypeGroupLayer":return"SubtypeGroupLayer";case "SubtypeGroupTable":return"SubtypeGroupLayer"}return"FeatureLayer"};a.populateSceneServiceItemData=async function(n,q,e){if(!n?.url)return q??{};q??={};if(!q.layers){const r=await e.fetchServiceMetadata(n.url);q.layers=r.layers?.map(f)}const {serverUrl:g,portalItem:h}=await b.findAssociatedFeatureService(n.url,{sceneLayerItem:n,customParameters:d(q)?.customParameters}).catch(()=>({serverUrl:null,portalItem:null}));if(null==g)return q.tables=
[],q;!q.tables&&h&&(n=await h.fetchData().catch(()=>null),n?.tables?q.tables=n.tables.map(f):(e=await e.fetchServiceMetadata(g,{customParameters:d(n)?.customParameters}).catch(()=>null),q.tables=e?.tables?.map(f)));if(q.tables)for(const r of q.tables)r.url=`${g}/${r.id}`;return q};a.preprocessFSItemData=async function(n,q,e){if(null==n?.layers||null==n?.tables)q=await e.fetchServiceMetadata(q,{customParameters:d(n)?.customParameters}),n=n||{},n.layers=n.layers||q?.layers?.map(f),n.tables=n.tables||
q?.tables?.map(f);return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,c,f){a.loadStyleRenderer=async function(d,n,q){var e=d&&d.getAtOrigin&&d.getAtOrigin("renderer",n.origin);e&&"unique-value"===e.type&&e.styleOrigin&&(e=await b.result(e.populateFromStyle()),c.throwIfAborted(q),!1===e.ok&&(q=e.error,n?.messages&&n.messages.push(new f("renderer:style-reference",
`Failed to create unique value renderer from style reference: ${q.message}`,{error:q,context:n})),d.clear("renderer",n?.origin)))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/tslib.es6 ../PopupTemplate ../request ../core/Clonable ../core/Collection ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/layerContainerType ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/DisplayFilteredLayer ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./mixins/TrackableLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/TitleCreator ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/jsonUtils ../renderers/support/styleUtils ../renderers/support/typeUtils ../rest/support/FeatureSet ../rest/support/Query ../support/guards ../support/popupUtils ../symbols/support/typeUtils ../webdoc/interfaces ../webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B,E,J,K,H,F,N,S,W,L,P,X,D,R,Y,ja,da,sa,qa,ia,la,ua,ya,V,ha,ma,G,Q,fa,ta,za,Ea,Ga,Z,T,I,U,ea,ra,Ba,La,ca,va){function xa(na,wa){return new q("layer:unsupported",`Layer (${na.title}, ${na.id}) of type '${na.declaredClass}' ${wa}`,{layer:na})}function Da(na,wa,Ma){na=!!Ma?.writeLayerSchema;return{enabled:na,ignoreOrigin:na}}const Ha=na=>Object.freeze(Object.defineProperty({__proto__:null,default:na},Symbol.toStringTag,{value:"Module"}));ha=ha.defineFieldProperties();
d=class extends L.FeatureLayerBase(P.FeatureReductionLayer(W.FeatureEffectLayer(Y.PublishableLayer(S.EditBusLayer(N.DisplayFilteredLayer(H.BlendLayer(D.OrderedLayer(sa.TemporalLayer(qa.TrackableLayer(da.ScaleRangeLayer(ja.RefreshableLayer(K.ArcGISService(X.OperationalLayer(R.PortalLayer(r.MultiOriginJSONMixin(F.CustomParametersMixin(J.APIKeyMixin(d.ClonableMixin(B))))))))))))))))))){constructor(...na){super(...na);this.geometryType=this.fullExtent=this.formTemplate=this.fieldsIndex=this.fields=this.dynamicDataSource=
this.displayField=this.copyright=this.charts=this.attributeTableTemplate=null;this.hasZ=this.hasM=void 0;this.infoFor3D=null;this.isTable=!1;this.labelsVisible=!0;this.labelingInfo=null;this.legendEnabled=!0;this.objectIdField=null;this.operationalLayerType="ArcGISFeatureLayer";this.path=this.outFields=null;this.popupEnabled=!0;this.resourceInfo=this.popupTemplate=null;this.screenSizePerspectiveEnabled=!0;this.spatialReference=y.WGS84;this.subtypeCode=null;this.supportedSourceTypes=new Set(["Feature Layer",
"Oriented Imagery Layer","Table","Catalog Layer"]);this.title=this.timeInfo=this.templates=null;this.sublayerTitleMode="item-title";this.type="feature";this.types=this.typeIdField=null;this.visible=!0;this._debouncedSaveOperations=p.debounce(async(wa,Ma,Ja)=>{const {save:Ua,saveAs:Ya}=await new Promise((cb,eb)=>a(["./save/featureLayerUtils"],cb,eb));switch(wa){case ca.SaveOperationType.SAVE:return Ua(this,Ma);case ca.SaveOperationType.SAVE_AS:return Ya(this,Ja,Ma)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(na,
wa){return"string"===typeof na?{url:na,...wa}:na}load(na){const wa=null!=na?na.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(wa).then(Ja=>this.initLayerProperties(Ja))),Promise.resolve(this);const Ma=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},na).catch(p.throwIfAbortError).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const Ja=await this._fetchFirstValidLayerId(wa);
null!=Ja&&(this.layerId=Ja)}if(!this.url&&!this._hasMemorySource())throw new q("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(wa))}).then(()=>ua.ensureLayerCredential(this,"load",na));this.addResolvingPromise(Ma);return Promise.resolve(this)}get _titleCreator(){const na=this._get("_titleCreator");h.destroyMaybe(na);return new za({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,
fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(na,wa){wa=wa.layerDefinition||wa;return fa.getFeatureLayerCapabilities(wa,this.url)}get createQueryVersion(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");
this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges}set editingEnabled(na){this._overrideIfSome("editingEnabled",na)}readEditingEnabled(na,wa){return this._readEditingEnabled(wa,!1)}readEditingEnabledFromWebMap(na,
wa,Ma){return this._readEditingEnabled(wa,!0,Ma)}writeEditingEnabled(na,wa){this._writeEditingEnabled(na,wa,!1)}writeEditingEnabledToWebMap(na,wa,Ma,Ja){this._writeEditingEnabled(na,wa,!0,Ja)}get effectiveEditingEnabled(){return ua.computeEffectiveEditingEnabled(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(na,wa){wa=wa?.layerDefinition??wa;return"Table"===wa.type||!wa.geometryType}writeIsTable(na,wa,Ma,Ja){Ja?.writeLayerSchema&&u.setDeepValue(Ma,na?"Table":
"Feature Layer",wa)}readGlobalIdField(na,wa){return ua.readGlobalIdField(wa.layerDefinition||wa)}readObjectIdField(na,wa){return ua.readObjectIdField(wa.layerDefinition||wa)}get parsedUrl(){const na=m.urlToObject(this.url);null!=na&&(null!=this.dynamicDataSource?na.path=m.join(na.path,"dynamicLayer"):null!=this.layerId&&(na.path=m.join(na.path,this.layerId.toString())));return na}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(na){ma.fixRendererFields(na,this.fieldsIndex);
this._set("renderer",na)}readRenderer(na,wa,Ma){wa=wa.layerDefinition||wa;return(na=wa.drawingInfo?.renderer)?((na=Z.read(na,wa,Ma)??void 0)||g.getLogger(this).error("Failed to create renderer",{rendererDefinition:wa.drawingInfo.renderer,layer:this,context:Ma}),na):ua.createDefaultRenderer(wa,Ma)}set source(na){const wa=this._get("source");wa!==na&&(wa&&wa instanceof n&&this._resetMemorySource(wa),na&&na instanceof n&&this._initMemorySource(na),this._set("source",na))}castSource(na){return na?Array.isArray(na)||
na instanceof n?new E.MemorySource({layer:this,items:na}):na:null}readSource(na,wa){na=U.fromJSON(wa.featureSet);return new E.MemorySource({layer:this,items:na?.features??[]})}readTemplates(na,wa){wa=wa.editFieldsInfo;const Ma=wa?.editorField;na=na?.map(Ja=>ya.fromJSON(Ja));this._fixTemplates(na,wa?.creatorField);this._fixTemplates(na,Ma);return na}readTitle(na,wa){na=wa.layerDefinition?.name??wa.name;wa=wa.title||wa.layerDefinition?.title;if(na){wa=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?
ia.titleFromUrlAndName(this.url,na):na;if(!na&&this.url){const Ma=ia.parse(this.url);null!=Ma&&(na=Ma.title)}if(!na)return;"item-title-and-service-name"===this.sublayerTitleMode&&wa&&wa!==na&&(na=wa+" - "+na);return ia.cleanTitle(na)}if("item-title"===this.sublayerTitleMode&&wa)return wa}readTitleFromWebMap(na,wa){return wa.title||wa.layerDefinition?.name}readTypeIdField(na,wa){wa=wa.layerDefinition||wa;let Ma=wa.typeIdField;Ma&&wa.fields&&(Ma=Ma.toLowerCase(),na=wa.fields.find(Ja=>Ja.name.toLowerCase()===
Ma))&&(Ma=na.name);return Ma}readTypes(na,wa){wa=wa.layerDefinition||wa;na=wa.types;wa=wa.editFieldsInfo;const Ma=wa?.creatorField,Ja=wa?.editorField;return na?.map(Ua=>{Ua=V.fromJSON(Ua);this._fixTemplates(Ua.templates,Ma);this._fixTemplates(Ua.templates,Ja);return Ua})}readVisible(na,wa){if(null!=wa.layerDefinition?.defaultVisibility)return!!wa.layerDefinition.defaultVisibility;if(null!=wa.visibility)return!!wa.visibility}async addAttachment(na,wa){na=await ua.addAttachment(this,na,wa,"FeatureLayer");
this.lastEditsEventDate=new Date;return na}async updateAttachment(na,wa,Ma){na=await ua.updateAttachment(this,na,wa,Ma,"FeatureLayer");this.lastEditsEventDate=new Date;return na}async applyEdits(na,wa){return ua.applyEdits(this,na,wa)}async uploadAssets(na,wa){return ua.uploadAssets(this,na,wa)}on(na,wa){return super.on(na,wa)}createPopupTemplate(na){return Ba.createPopupTemplate(this,na)}async createGraphicsSource(na){if(this._hasMemorySource()&&this.source)return this.source.load({signal:na});const {default:wa}=
await p.whenOrAbort(new Promise((Ma,Ja)=>a(["./graphics/sources/FeatureLayerSource"],Ua=>Ma(Ha(Ua)),Ja)),na);return(new wa({layer:this,supportedSourceTypes:this.supportedSourceTypes})).load({signal:na})}createQuery(){const na=ua.createQuery(this);na.dynamicDataSource=this.dynamicDataSource;const wa=l.sqlAnd(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null);na.where=wa||"1\x3d1";return na}async deleteAttachments(na,wa){na=await ua.deleteAttachments(this,
na,wa,"FeatureLayer");this.lastEditsEventDate=new Date;return na}async fetchRecomputedExtents(na){return ua.fetchRecomputedExtents(this,na,"FeatureLayer")}getFeatureTitle(na,wa={timeZone:"system",fetchMissingFields:!1}){return this._titleCreator.getTitle(this,na,wa)}getFeatureType(na){return ua.getFeatureType(this.types,this.typeIdField,na)}getFieldDomain(na,wa){return ua.getFieldDomain(this,na,wa,this.getField(na)?.domain??null)}async queryAttachments(na,wa){return ua.queryAttachments(this,na,wa,
"FeatureLayer")}async queryFeatures(na,wa){const Ma=await this.load();na=await Ma.source.queryFeatures(ea.from(na)??Ma.createQuery(),wa);if(na?.features)for(const Ja of na.features)Ja.layer=Ja.sourceLayer=Ma;return na}async queryObjectIds(na,wa){return(await ua.queryObjectIds(this,na,wa,"FeatureLayer")).filter(ra.isNumber)}async queryFeatureCount(na,wa){return ua.queryFeatureCount(this,na,wa,"FeatureLayer")}async queryExtent(na,wa){return ua.queryExtent(this,na,wa,"FeatureLayer")}async queryRelatedFeatures(na,
wa){return ua.queryRelatedFeatures(this,na,wa,"FeatureLayer")}async queryRelatedFeaturesCount(na,wa){return ua.queryRelatedFeaturesCount(this,na,wa,"FeatureLayer")}async queryTopFeatures(na,wa){const {source:Ma,capabilities:Ja}=await this.load();if(!Ma.queryTopFeatures||!Ja?.query?.supportsTopFeaturesQuery)throw new q("FeatureLayer","Layer source does not support queryTopFeatures capability");const Ua=await new Promise((Ya,cb)=>a(["../rest/support/TopFeaturesQuery"],eb=>Ya(Ha(eb)),cb));na=await Ma.queryTopFeatures(Ua.default.from(na),
wa);if(na?.features)for(const Ya of na.features)Ya.layer=Ya.sourceLayer=this;return na}async queryAttributeBins(na,wa){const {source:Ma,capabilities:Ja}=await this.load();if(!Ma.queryAttributeBins||!Ja?.operations?.supportsQueryBins)throw new q("FeatureLayer","Layer source does not support queryAttributeBins capability");ua.validateBinsQuery(na,Ja,"FeatureLayer");const Ua=await new Promise((Ya,cb)=>a(["../rest/support/AttributeBinsQuery"],eb=>Ya(Ha(eb)),cb));na=await Ma.queryAttributeBins(Ua.default.from(na),
wa);if(na.features)for(const Ya of na.features)Ya.layer=Ya.sourceLayer=this;return na}async queryTopObjectIds(na,wa){const {source:Ma,capabilities:Ja}=await this.load();if(!Ma.queryTopObjectIds||!Ja?.query.supportsTopFeaturesQuery)throw new q("FeatureLayer","Layer source does not support queryTopObjectIds capability");const Ua=await new Promise((Ya,cb)=>a(["../rest/support/TopFeaturesQuery"],eb=>Ya(Ha(eb)),cb));return(await Ma.queryTopObjectIds(Ua.default.from(na),wa)).filter(ra.isNumber)}async queryTopFeaturesExtent(na,
wa){const {source:Ma,capabilities:Ja}=await this.load();if(!Ma.queryTopExtents||!Ja?.query?.supportsTopFeaturesQuery)throw new q("FeatureLayer","Layer source does not support queryTopExtents capability");const Ua=await new Promise((Ya,cb)=>a(["../rest/support/TopFeaturesQuery"],eb=>Ya(Ha(eb)),cb));return Ma.queryTopExtents(Ua.default.from(na),wa)}async queryTopFeatureCount(na,wa){const {source:Ma,capabilities:Ja}=await this.load();if(!Ma.queryTopCount||!Ja?.query?.supportsTopFeaturesQuery)throw new q("FeatureLayer",
"Layer source does not support queryFeatureCount capability");const Ua=await new Promise((Ya,cb)=>a(["../rest/support/TopFeaturesQuery"],eb=>Ya(Ha(eb)),cb));return Ma.queryTopCount(Ua.default.from(na),wa)}read(na,wa){const Ma=na.featureCollection;if(Ma||"Feature Collection"===na.type)this.resourceInfo=na;if(Ma){const Ja=Ma.layers;Ja&&1===Ja.length&&(super.read(Ja[0],wa),null!=Ma.showLegend&&super.read({showLegend:Ma.showLegend},wa))}super.read(na,wa);wa&&"service"===wa.origin&&(this.revert(["objectIdField",
"fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(na,wa){wa={...wa,origin:wa?.origin??void 0,writeLayerSchema:wa?.writeLayerSchema??this._hasMemorySource()};const {origin:Ma,layerContainerType:Ja,messages:Ua}=wa;if(this.dynamicDataSource)return Ua?.push(xa(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===Ma||"web-scene"===Ma)&&"tables"!==
Ja)return Ua?.push(xa(this,`a table source can only be written to tables, not ${Ja}`)),null;if(this._hasMemorySource())return Ua?.push(xa(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===Ma||"web-scene"===Ma)&&"tables"===Ja)return Ua?.push(xa(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(na,wa)}clone(){if(this._hasMemorySource())throw new q("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);
return super.clone()}serviceSupportsSpatialReference(na){return this.loaded?"memory"===this.source?.type?!0:Ea.serviceSupportsSpatialReference(this,na):!1}async save(na){return this._debouncedSaveOperations(ca.SaveOperationType.SAVE,na)}async saveAs(na,wa){return this._debouncedSaveOperations(ca.SaveOperationType.SAVE_AS,wa,na)}_readEditingEnabled(na,wa,Ma){let Ja=na.layerDefinition?.capabilities;if(Ja)return this._hasEditingCapability(Ja);Ja=na.capabilities;if(wa&&"web-map"===Ma?.origin&&!this._hasMemorySource()&&
Ja)return this._hasEditingCapability(Ja)}_hasEditingCapability(na){return na.toLowerCase().split(",").map(wa=>wa.trim()).includes("editing")}_writeEditingEnabled(na,wa,Ma,Ja){na||(na=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query",u.setDeepValue("layerDefinition.capabilities",na,wa),Ma&&!Ja?.writeLayerSchema&&(wa.capabilities=na))}_fetchFirstValidLayerId(na){return f(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:na}).then(wa=>
{if(wa=wa.data)return this.findFirstValidLayerId(wa)})}async initLayerProperties(na){this._set("source",na);na.sourceJSON&&(this.sourceJSON=na.sourceJSON,this.read(na.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();this._verifyFields();ma.fixRendererFields(this.renderer,this.fieldsIndex);ma.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);this._hasMemorySource()&&"mesh"===this.geometryType&&(this.capabilities.query.supportsReturnMesh=
!0);return T.loadStyleRenderer(this,{origin:"service"})}async hasDataChanged(){return ua.hasDataChanged(this)}async fetchPublishingStatus(){const na=this.source;return na?.fetchPublishingStatus?na.fetchPublishingStatus():"unavailable"}_verifyFields(){const na=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+na+")");this.isTable||this._hasMemorySource()||-1!==na.search(/\/FeatureServer\//i)||this.fields?.some(wa=>"geometry"===
wa.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+na+")")}_fixTemplates(na,wa){na&&na.forEach(Ma=>{(Ma=Ma.prototype?.attributes)&&wa&&delete Ma[wa]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new q("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new q("feature-layer:source-or-url-required",
"FeatureLayer requires either a url, a valid portal item or a source");}_initMemorySource(na){na.forEach(wa=>{wa.layer=this;wa.sourceLayer=this});this.addHandles([na.on("after-add",wa=>{wa.item.layer=this;wa.item.sourceLayer=this}),na.on("after-remove",wa=>{wa.item.layer=null;wa.item.sourceLayer=null})],"fl-source")}_resetMemorySource(na){na.forEach(wa=>{wa.layer=null;wa.sourceLayer=null});this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(na){if(Array.isArray(na.layers)&&
0<na.layers.length)return na.layers[0].id;if(Array.isArray(na.tables)&&0<na.tables.length)return na.tables[0].id}};b.__decorate([v.property({clonable:!1,readOnly:!0})],d.prototype,"_titleCreator",null);b.__decorate([v.property(la.attributeTableTemplate)],d.prototype,"attributeTableTemplate",void 0);b.__decorate([t.reader("service","capabilities")],d.prototype,"readCapabilities",null);b.__decorate([v.property({json:{origins:{"web-scene":{write:!1}},write:!0}})],d.prototype,"charts",void 0);b.__decorate([v.property({readOnly:!0})],
d.prototype,"createQueryVersion",null);b.__decorate([v.property({json:{read:{source:"layerDefinition.copyrightText"}}})],d.prototype,"copyright",void 0);b.__decorate([v.property({json:{read:{source:"layerDefinition.displayField"}}})],d.prototype,"displayField",void 0);b.__decorate([v.property({types:La.symbolTypes,readOnly:!0})],d.prototype,"defaultSymbol",void 0);b.__decorate([v.property({type:Ga.DataLayerSource})],d.prototype,"dynamicDataSource",void 0);b.__decorate([v.property({type:Boolean})],
d.prototype,"editingEnabled",null);b.__decorate([t.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],d.prototype,"readEditingEnabled",null);b.__decorate([t.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],d.prototype,"readEditingEnabledFromWebMap",null);b.__decorate([z.writer(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],d.prototype,"writeEditingEnabled",null);b.__decorate([z.writer("web-map",
"editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],d.prototype,"writeEditingEnabledToWebMap",null);b.__decorate([v.property({readOnly:!0})],d.prototype,"effectiveEditingEnabled",null);b.__decorate([v.property({clonable:!1,readOnly:!0})],d.prototype,"featureTitleFields",null);b.__decorate([v.property({...ha.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Da}}}}})],
d.prototype,"fields",void 0);b.__decorate([v.property(ha.fieldsIndex)],d.prototype,"fieldsIndex",void 0);b.__decorate([v.property({type:x,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],d.prototype,"formTemplate",void 0);b.__decorate([v.property({json:{read:{source:"layerDefinition.extent"}}})],d.prototype,"fullExtent",void 0);b.__decorate([v.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Da,writer(na,wa,Ma){(na=na?ua.geometryTypeKebabDict.toJSON(na):
null)&&u.setDeepValue(Ma,na,wa)}}}},read:{source:"layerDefinition.geometryType",reader:ua.geometryTypeKebabDict.read}}})],d.prototype,"geometryType",void 0);b.__decorate([v.property({json:{read:{source:"layerDefinition.hasM"}}})],d.prototype,"hasM",void 0);b.__decorate([v.property({json:{read:{source:"layerDefinition.hasZ"}}})],d.prototype,"hasZ",void 0);b.__decorate([v.property(la.id)],d.prototype,"id",void 0);b.__decorate([v.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],d.prototype,
"infoFor3D",void 0);b.__decorate([v.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],d.prototype,"isTable",void 0);b.__decorate([t.reader("service","isTable",["type","geometryType"]),t.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],d.prototype,"readIsTable",null);b.__decorate([z.writer("web-map","isTable")],d.prototype,"writeIsTable",null);b.__decorate([v.property(la.labelsVisible)],d.prototype,"labelsVisible",void 0);b.__decorate([v.property({type:[G],
json:{origins:{service:{name:"drawingInfo.labelingInfo",read:Q.reader,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:Q.reader,write:{enabled:!0,layerContainerTypes:k.excludeTables}}},name:"layerDefinition.drawingInfo.labelingInfo",read:Q.reader,write:!0}})],d.prototype,"labelingInfo",void 0);b.__decorate([v.property((()=>{const na=e.clone(la.opacityDrawingInfo);na.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(wa,Ma,Ja){u.setDeepValue(Ja,
va.opacityToTransparency(wa),Ma)}}};return na})())],d.prototype,"opacity",void 0);b.__decorate([v.property(la.legendEnabled)],d.prototype,"legendEnabled",void 0);b.__decorate([v.property({type:["show","hide"],json:(()=>{const na=e.clone(la.listMode.json);na.origins["portal-item"]={read:!1,write:!1};return na})()})],d.prototype,"listMode",void 0);b.__decorate([t.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],d.prototype,"readGlobalIdField",null);b.__decorate([v.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",
overridePolicy:Da}}}}})],d.prototype,"objectIdField",void 0);b.__decorate([t.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],d.prototype,"readObjectIdField",null);b.__decorate([v.property({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:k.excludeTables}}})],d.prototype,"operationalLayerType",void 0);b.__decorate([v.property(ha.outFields)],d.prototype,"outFields",void 0);b.__decorate([v.property({readOnly:!0})],d.prototype,
"parsedUrl",null);b.__decorate([v.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],d.prototype,"path",void 0);b.__decorate([v.property(la.popupEnabled)],d.prototype,"popupEnabled",void 0);b.__decorate([v.property({type:c,json:{name:"popupInfo",write:!0}})],d.prototype,"popupTemplate",void 0);b.__decorate([v.property({readOnly:!0})],d.prototype,"defaultPopupTemplate",null);b.__decorate([v.property({types:I.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",
enabled:!1}},"web-scene":{types:I.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:k.excludeTables,overridePolicy(na,wa,Ma){return{ignoreOrigin:Ma?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(na,wa,Ma){return{ignoreOrigin:Ma?.writeLayerSchema}}}}})],d.prototype,"renderer",null);b.__decorate([t.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),t.reader("renderer",["layerDefinition.drawingInfo.renderer",
"layerDefinition.defaultSymbol"])],d.prototype,"readRenderer",null);b.__decorate([v.property()],d.prototype,"resourceInfo",void 0);b.__decorate([v.property((()=>{const na=e.clone(la.screenSizePerspectiveEnabled);na.json.origins["portal-item"]={read:!1,write:!1};return na})())],d.prototype,"screenSizePerspectiveEnabled",void 0);b.__decorate([v.property({clonable:!1})],d.prototype,"source",null);b.__decorate([A.cast("source")],d.prototype,"castSource",null);b.__decorate([t.reader("portal-item","source",
["featureSet"]),t.reader("web-map","source",["featureSet"])],d.prototype,"readSource",null);b.__decorate([v.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],d.prototype,"spatialReference",void 0);b.__decorate([v.property({type:Number})],d.prototype,"subtypeCode",void 0);b.__decorate([v.property({type:[ya]})],d.prototype,"templates",void 0);b.__decorate([t.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],d.prototype,"readTemplates",null);b.__decorate([v.property({type:ta})],
d.prototype,"timeInfo",void 0);b.__decorate([v.property()],d.prototype,"title",void 0);b.__decorate([t.reader("service","title",["name"]),t.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],d.prototype,"readTitle",null);b.__decorate([t.reader("web-map","title",["layerDefinition.name","title"])],d.prototype,"readTitleFromWebMap",null);b.__decorate([v.property({type:String})],d.prototype,"sublayerTitleMode",void 0);b.__decorate([v.property({json:{read:!1}})],d.prototype,
"type",void 0);b.__decorate([v.property({type:String})],d.prototype,"typeIdField",void 0);b.__decorate([t.reader("service","typeIdField"),t.reader("typeIdField",["layerDefinition.typeIdField"])],d.prototype,"readTypeIdField",null);b.__decorate([v.property({type:[V]})],d.prototype,"types",void 0);b.__decorate([t.reader("service","types",["types"]),t.reader("types",["layerDefinition.types"])],d.prototype,"readTypes",null);b.__decorate([v.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],
d.prototype,"visible",void 0);b.__decorate([t.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],d.prototype,"readVisible",null);return d=b.__decorate([w.subclass("esri.layers.FeatureLayer")],d)})},"esri/PopupTemplate":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/UtilityNetworkAssociationsContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B,E,J,K,H,F,N,S,W){k=c.ofType({key:"type",defaultKeyValue:"button",base:k,typeMap:{button:x,toggle:y}});const L={base:S,key:"type",typeMap:{media:B,custom:W,text:E,attachments:J,fields:K,expression:H,relationship:F,utilityNetworkAssociations:N}},P=new Set("attachments fields media text expression relationship".split(" ")),X=new Set([...P,"utility-network-associations"]);b=class extends b.ClonableMixin(f){constructor(){super(...arguments);this.actions=
null;this.content="";this.layerOptions=this.fieldInfos=this.expressionInfos=null;this.lastEditInfoEnabled=!0;this.outFields=null;this.returnGeometry=this.overwriteActions=!1;this.title=""}castContent(D){if(Array.isArray(D))return D.map(R=>p.ensureOneOfType(L,R));if("string"===typeof D||"function"===typeof D||D instanceof HTMLElement||q.isPromiseLike(D))return D;n.getLogger(this).error("content error","unsupported content value",{value:D});return null}readContent(D,R){({popupElements:D}=R);return Array.isArray(D)&&
0<D.length?this._readPopupInfoElements(R.description,R.mediaInfos,D):this._readPopupInfo(R)}writeWebSceneContent(D,R,Y,ja){this._writePopupTemplateContent(D,R,ja)}writeWebMapContent(D,R,Y,ja){this._writePopupTemplateContent(D,R,ja)}writeFieldInfos(D,R,Y,ja){({content:Y}=this);Y=Array.isArray(Y)?Y:null;if(D){const da=Y?Y.filter(qa=>"fields"===qa.type):[],sa=da.length&&da.every(qa=>qa.fieldInfos?.length);R.fieldInfos=D.filter(Boolean).map(qa=>{qa=qa.toJSON(ja);sa&&(qa.visible=!1);return qa})}if(Y)for(const da of Y)"fields"===
da.type&&this._writeFieldsContent(da,R)}writeLayerOptions(D,R,Y,ja){R[Y]=!D||null===D.showNoDataRecords&&null===D.returnTopmostRaster?null:D.toJSON(ja)}writeTitle(D,R){R.title=D||""}async collectRequiredFields(D,R){const Y=this.expressionInfos||[];await this._collectExpressionInfoFields(D,R,[...Y,...this._getContentExpressionInfos(this.content,Y)]);l.collectFields(D,R,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(D){const R=
new Set;await this.collectRequiredFields(R,D);return[...R].sort()}_writePopupTemplateContent(D,R,Y){"string"===typeof D?R.description=D:Array.isArray(D)&&(R.popupElements=D.filter(ja=>"web-scene"===Y?.origin?P.has(ja.type):X.has(ja.type)).map(ja=>ja?.toJSON(Y)),R.popupElements.forEach(ja=>{"attachments"===ja.type?this._writeAttachmentContent(R):"media"===ja.type?this._writeMediaContent(ja,R):"text"===ja.type?this._writeTextContent(ja,R):"relationship"===ja.type&&this._writeRelationshipContent(ja,
R)}))}_writeFieldsContent(D,R){Array.isArray(D.fieldInfos)&&D.fieldInfos.length&&(D=d.clone(D.fieldInfos),Array.isArray(R.fieldInfos)?D.forEach(Y=>{const ja=R.fieldInfos.find(da=>da.fieldName?.toLowerCase()===Y.fieldName?.toLowerCase());ja?ja.visible=!0:R.fieldInfos.push(Y)}):R.fieldInfos=D)}_writeAttachmentContent(D){D.showAttachments||(D.showAttachments=!0)}_writeRelationshipContent(D,R){var Y=D.orderByFields?.map(ja=>this._toFieldOrderJSON(ja,D.relationshipId))||[];Y=[...(R.relatedRecordsInfo?.orderByFields||
[]),...Y];R.relatedRecordsInfo={showRelatedRecords:!0,...(Y?.length&&{orderByFields:Y})}}_writeTextContent(D,R){!R.description&&D.text&&(R.description=D.text)}_writeMediaContent(D,R){Array.isArray(D.mediaInfos)&&D.mediaInfos.length&&(D=d.clone(D.mediaInfos),Array.isArray(R.mediaInfos)?R.mediaInfos=[...R.mediaInfos,...D]:R.mediaInfos=D)}_readPopupInfoElements(D,R,Y){var ja=!1,da=!1;return Y.map(sa=>{if("media"===sa.type)return sa.mediaInfos||!R||da||(sa.mediaInfos=R,da=!0),B.fromJSON(sa);if("text"===
sa.type)return sa.text||!D||ja||(sa.text=D,ja=!0),E.fromJSON(sa);if("attachments"===sa.type)return J.fromJSON(sa);if("fields"===sa.type)return K.fromJSON(sa);if("expression"===sa.type)return H.fromJSON(sa);if("relationship"===sa.type)return F.fromJSON(sa);if("utilityNetworkAssociations"===sa.type)return N.fromJSON(sa)}).filter(Boolean)}_toRelationshipContent(D){const {field:R,order:Y}=D;if(!R?.startsWith("relationships/"))return null;var ja=R.replace("relationships/","").split("/");if(2!==ja.length)return null;
D=parseInt(ja[0],10);ja=ja[1];return!Number.isNaN(D)&&ja?F.fromJSON({relationshipId:D,orderByFields:[{field:ja,order:Y}]}):null}_toFieldOrderJSON(D,R){const {order:Y,field:ja}=D;return{field:`${"relationships/"}${R}/${ja}`,order:Y}}_readPopupInfo({description:D,mediaInfos:R,showAttachments:Y,relatedRecordsInfo:ja={showRelatedRecords:!1}}){const da=[];D?da.push(new E({text:D})):da.push(new K);Array.isArray(R)&&R.length&&da.push(B.fromJSON({mediaInfos:R}));Y&&da.push(J.fromJSON({displayType:"auto"}));
const {showRelatedRecords:sa,orderByFields:qa}=ja;sa&&qa?.length&&qa.forEach(ia=>{(ia=this._toRelationshipContent(ia))&&da.push(ia)});return da.length?da:D}_getContentElementFields(D){var R=D?.type;return"attachments"===R?[...this._extractFieldNames(D.title),...this._extractFieldNames(D.description)]:"custom"===R?D.outFields||[]:"fields"===R?[...this._extractFieldNames(D.title),...this._extractFieldNames(D.description),...this._getFieldInfoFields(D.fieldInfos??this.fieldInfos)]:"media"===R?(R=D.mediaInfos||
[],[...this._extractFieldNames(D.title),...this._extractFieldNames(D.description),...R.reduce((Y,ja)=>[...Y,...this._getMediaInfoFields(ja)],[])]):"text"===R?this._extractFieldNames(D.text):"relationship"===R||"utility-network-associations"===R?[...this._extractFieldNames(D.title),...this._extractFieldNames(D.description)]:[]}_getMediaInfoFields(D){const {caption:R,title:Y,value:ja}=D,{fields:da,normalizeField:sa,tooltipField:qa,sourceURL:ia,linkURL:la}=ja||{};D=[...this._extractFieldNames(Y),...this._extractFieldNames(R),
...this._extractFieldNames(ia),...this._extractFieldNames(la),...(da??[])];sa&&D.push(sa);qa&&D.push(qa);return D}_getContentExpressionInfos(D,R){return Array.isArray(D)?D.reduce((Y,ja)=>[...Y,...("expression"===ja.type&&ja.expressionInfo?[ja.expressionInfo]:[])],R):[]}_getContentFields(D){return"string"===typeof D?this._extractFieldNames(D):Array.isArray(D)?D.reduce((R,Y)=>[...R,...this._getContentElementFields(Y)],[]):[]}async _collectExpressionInfoFields(D,R,Y){Y&&await Promise.all(Y.map(ja=>l.collectArcadeFieldNames(D,
R,ja.expression)))}_getFieldInfoFields(D){return D?D.filter(({fieldName:R,visible:Y})=>(void 0===Y||!!Y)&&!!R&&!R.startsWith("relationships/")&&!R.startsWith("expression/")).map(R=>R.fieldName):[]}_getActionsFields(D){return D?D.toArray().reduce((R,Y)=>[...R,...this._getActionFields(Y)],[]):[]}_getActionFields(D){const {className:R,title:Y,type:ja}=D;D="button"===ja||"toggle"===ja?D.image:"";return[...this._extractFieldNames(Y),...this._extractFieldNames(R),...this._extractFieldNames(D)]}_getTitleFields(D){return"string"===
typeof D?this._extractFieldNames(D):[]}_extractFieldNames(D){return l.extractSubstitutionTemplatesFromString(D).filter(R=>!(0===R.indexOf("relationships/")||0===R.indexOf("expression/")))}};a.__decorate([e.property({type:k})],b.prototype,"actions",void 0);a.__decorate([e.property()],b.prototype,"content",void 0);a.__decorate([g.cast("content")],b.prototype,"castContent",null);a.__decorate([h.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],
b.prototype,"readContent",null);a.__decorate([u.writer("web-scene","content",{popupElements:{type:c.ofType(m.persistableWebSceneTypes)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(z.types)},description:{type:String},relatedRecordsInfo:{type:w}})],b.prototype,"writeWebSceneContent",null);a.__decorate([u.writer("content",{popupElements:{type:c.ofType(m.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(z.types)},description:{type:String},relatedRecordsInfo:{type:w}})],
b.prototype,"writeWebMapContent",null);a.__decorate([e.property({type:[v],json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([e.property({type:[A]})],b.prototype,"fieldInfos",void 0);a.__decorate([u.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);a.__decorate([e.property({type:t})],b.prototype,"layerOptions",void 0);a.__decorate([u.writer("layerOptions")],b.prototype,"writeLayerOptions",null);a.__decorate([e.property({type:Boolean,json:{read:{source:"showLastEditInfo"},
write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);a.__decorate([e.property()],b.prototype,"outFields",void 0);a.__decorate([e.property()],b.prototype,"overwriteActions",void 0);a.__decorate([e.property()],b.prototype,"returnGeometry",void 0);a.__decorate([e.property({json:{type:String}})],b.prototype,"title",void 0);a.__decorate([u.writer("title")],b.prototype,"writeTitle",null);return b=a.__decorate([r.subclass("esri.PopupTemplate")],b)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent ./content/UtilityNetworkAssociationsContent".split(" "),
function(a,b,c,f,d,n,q,e,g,h){const r={base:null,key:"type",typeMap:{attachment:b,media:q,text:g,expression:d,field:n,relationship:e,utilityNetworkAssociations:h}},u={base:null,key:"type",typeMap:{attachment:b,media:q,text:g,expression:d,field:n,relationship:e}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=f;a.ExpressionContent=d;a.FieldsContent=n;a.MediaContent=q;a.RelationshipContent=e;a.TextContent=g;a.UtilityNetworkAssociationsContent=h;a.isContent=function(p){return p instanceof c};
a.persistableTypes=r;a.persistableWebSceneTypes=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content ../support/AttachmentsOrderByInfo".split(" "),function(a,b,c,f,d,n,q,e,g){b=class extends b.ClonableMixin(e){constructor(h){super(h);
this.description=null;this.displayType="auto";this.title=this.orderByFields=null;this.type="attachments"}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:["auto","preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);a.__decorate([c.property({type:[g],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:["attachments"],
readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.popup.content.AttachmentsContent")],b)})},"esri/popup/content/Content":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.type=null}};a.__decorate([c.property({type:"attachments custom fields media text expression relationship utility-network-associations".split(" "),
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.popup.content.Content")],b)})},"esri/popup/support/AttachmentsOrderByInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){c=new c.JSONMap({asc:"ascending",
desc:"descending"});b=class extends b.ClonableMixin(f){constructor(h){super(h);this.field=null;this.order="ascending"}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);a.__decorate([d.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],b.prototype,"order",void 0);return b=a.__decorate([g.subclass("esri.popup.support.AttachmentsOrderByInfo")],b)})},"esri/popup/content/CustomContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,f,d,n,q){var e;f=e=class extends q{constructor(g){super(g);this.outFields=this.destroyer=this.creator=null;this.type="custom"}clone(){return new e({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?b.clone(this.outFields):null})}};a.__decorate([c.property()],f.prototype,"creator",void 0);a.__decorate([c.property()],f.prototype,"destroyer",void 0);a.__decorate([c.property()],f.prototype,"outFields",void 0);a.__decorate([c.property({type:["custom"],
readOnly:!0})],f.prototype,"type",void 0);return f=e=a.__decorate([n.subclass("esri.popup.content.CustomContent")],f)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),function(a,b,c,f,d,n,q,e){var g;c=g=class extends e{constructor(h){super(h);this.expressionInfo=null;this.type=
"expression"}clone(){return new g({expressionInfo:this.expressionInfo?.clone()})}};a.__decorate([b.property({type:q,json:{write:!0}})],c.prototype,"expressionInfo",void 0);a.__decorate([b.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.ExpressionContent")],c)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);this.expression=this.title=null;this.returnType="dictionary"}clone(){return new e({title:this.title,expression:this.expression})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"returnType",void 0);return b=
e=a.__decorate([q.subclass("esri.popup.ElementExpressionInfo")],b)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),function(a,b,c,f,d,n,q,e,g){var h;f=h=class extends g{constructor(r){super(r);this.title=this.fieldInfos=this.description=this.attributes=
null;this.type="fields"}writeFieldInfos(r,u){u.fieldInfos=r&&r.map(p=>p.toJSON())}clone(){return new h(b.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};a.__decorate([c.property({type:Object,json:{write:!0}})],f.prototype,"attributes",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([c.property({type:[e]})],f.prototype,"fieldInfos",void 0);a.__decorate([q.writer("fieldInfos")],
f.prototype,"writeFieldInfos",null);a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);a.__decorate([c.property({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],f.prototype,"type",void 0);return f=h=a.__decorate([n.subclass("esri.popup.content.FieldsContent")],f)})},"esri/popup/FieldInfo":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;c=r=class extends c{constructor(u){super(u);this.fieldName=null;this.format=void 0;this.isEditable=!0;this.label=null;this.stringFieldOption="text-box";this.tooltip=this.statisticType=null;this.visible=!0}clone(){return new r({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};a.__decorate([f.property({type:String,
json:{write:!0}})],c.prototype,"fieldName",void 0);a.__decorate([f.property({type:h,json:{write:!0}})],c.prototype,"format",void 0);a.__decorate([f.property({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],c.prototype,"isEditable",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([e.enumeration(new b.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],c.prototype,"stringFieldOption",
void 0);a.__decorate([f.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],c.prototype,"statisticType",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"tooltip",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"visible",void 0);return c=r=a.__decorate([g.subclass("esri.popup.FieldInfo")],c)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date".split(" "),
function(a,b,c,f,d,n,q,e,g,h){b=class extends b.ClonableMixin(c){constructor(r){super(r);this.dateFormat=null;this.digitSeparator=!1;this.places=null}};a.__decorate([e.enumeration(h.dateFormatJSONMap)],b.prototype,"dateFormat",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);a.__decorate([f.property({type:d.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=a.__decorate([g.subclass("esri.popup.support.FieldInfoFormat")],b)})},"esri/popup/content/MediaContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){var v;f=v=class extends r{constructor(A){super(A);this.title=this.mediaInfos=this.description=this.attributes=this.activeMediaInfoIndex=null;this.type="media"}readMediaInfos(A){return A&&A.map(t=>{if("image"===t.type)return u.fromJSON(t);if("barchart"===t.type)return g.fromJSON(t);if("columnchart"===t.type)return h.fromJSON(t);if("linechart"===t.type)return p.fromJSON(t);if("piechart"===t.type)return l.fromJSON(t)}).filter(Boolean)}writeMediaInfos(A,t){t.mediaInfos=
A&&A.map(w=>w.toJSON())}clone(){return new v(b.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};a.__decorate([c.property()],f.prototype,"activeMediaInfoIndex",void 0);a.__decorate([c.property({type:Object,json:{write:!0}})],f.prototype,"attributes",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([c.property({types:[m.types]})],
f.prototype,"mediaInfos",void 0);a.__decorate([n.reader("mediaInfos")],f.prototype,"readMediaInfos",null);a.__decorate([e.writer("mediaInfos")],f.prototype,"writeMediaInfos",null);a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);a.__decorate([c.property({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],f.prototype,"type",void 0);return f=v=a.__decorate([q.subclass("esri.popup.content.MediaContent")],f)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends q{constructor(h){super(h);this.type="bar-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:e.chartTypeKebabDict.write,isRequired:!0}}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.BarChartMediaInfo")],c)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,f,d,n,q,e){c=class extends q{constructor(g){super(g);this.type=null;this.value=void 0}};a.__decorate([b.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e,json:{write:{isRequired:!0}}})],c.prototype,"value",void 0);return c=a.__decorate([n.subclass("esri.popup.content.mixins.ChartMediaInfo")],c)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.altText=null;this.title=this.caption="";this.type=null}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,
write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.popup.content.mixins.MediaInfo")],b)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),function(a,b,c,f,d,n,q,e){var g;c=g=class extends c{constructor(h){super(h);
this.colors=null;this.fields=[];this.normalizeField=null;this.series=[];this.tooltipField=null}clone(){return new g({colors:f.clone(this.colors),fields:f.clone(this.fields),normalizeField:this.normalizeField,series:f.clone(this.series),tooltipField:this.tooltipField})}};a.__decorate([d.property({type:[b],json:{type:[[n.Integer]],write:!0}})],c.prototype,"colors",void 0);a.__decorate([d.property({type:[String],json:{write:{isRequired:!0}}})],c.prototype,"fields",void 0);a.__decorate([d.property({type:String,
json:{write:!0}})],c.prototype,"normalizeField",void 0);a.__decorate([d.property({type:[e],json:{read:!1}})],c.prototype,"series",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=g=a.__decorate([q.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);this.value=this.tooltip=this.fieldName=this.color=null}clone(){return new e({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};a.__decorate([c.property()],b.prototype,"color",void 0);a.__decorate([c.property()],b.prototype,"fieldName",void 0);a.__decorate([c.property()],b.prototype,"tooltip",void 0);a.__decorate([c.property()],b.prototype,"value",void 0);return b=e=a.__decorate([q.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
b)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends q{constructor(h){super(h);this.type="column-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:e.chartTypeKebabDict.write,isRequired:!0}}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.ColumnChartMediaInfo")],c)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends q{constructor(h){super(h);this.refreshInterval=0;this.type="image";this.value=void 0}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"refreshInterval",void 0);a.__decorate([b.property({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e,
json:{write:{isRequired:!0}}})],c.prototype,"value",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.ImageMediaInfo")],c)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);
this.sourceURL=this.linkURL=null}clone(){return new e({linkURL:this.linkURL,sourceURL:this.sourceURL})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);a.__decorate([c.property({type:String,json:{write:{isRequired:!0}}})],b.prototype,"sourceURL",void 0);return b=e=a.__decorate([q.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends q{constructor(h){super(h);this.type="line-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:e.chartTypeKebabDict.write,isRequired:!0}}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.LineChartMediaInfo")],c)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends q{constructor(h){super(h);this.type="pie-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:e.chartTypeKebabDict.write,isRequired:!0}}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.PieChartMediaInfo")],c)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,f,d,n,q){a.types={base:q,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":d,"pie-chart":n,image:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,f,d,n,q,e,g){b=class extends b.ClonableMixin(e){constructor(h){super(h);this.displayCount=this.description=null;this.displayType="list";this.title=this.relationshipId=this.orderByFields=null;this.type="relationship"}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:Number,json:{type:f.Integer,write:!0}})],b.prototype,"displayCount",void 0);a.__decorate([c.property({type:["list"],json:{write:{isRequired:!0}}})],
b.prototype,"displayType",void 0);a.__decorate([c.property({type:[g],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([c.property({type:Number,json:{type:f.Integer,write:{isRequired:!0}}})],b.prototype,"relationshipId",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.popup.content.RelationshipContent")],
b)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);this.order=this.field=null}clone(){return new e({field:this.field,order:this.order})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,
"field",void 0);a.__decorate([c.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=e=a.__decorate([q.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)})},"esri/popup/content/TextContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);
this.text=null;this.type="text"}clone(){return new e({text:this.text})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.popup.content.TextContent")],c)})},"esri/popup/content/UtilityNetworkAssociationsContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Content ../support/UtilityNetworkAssociationType".split(" "),
function(a,b,c,f,d,n,q,e,g,h){b=class extends b.ClonableMixin(g){constructor(r){super(r);this.title=this.displayCount=this.description=null;this.associationTypes=[];this.type="utility-network-associations"}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:Number,json:{type:f.Integer,write:!0}})],b.prototype,"displayCount",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:[h],
json:{write:!0}})],b.prototype,"associationTypes",void 0);a.__decorate([q.enumeration({utilityNetworkAssociations:"utility-network-associations"})],b.prototype,"type",void 0);return b=a.__decorate([e.subclass("esri.popup.content.UtilityNetworkAssociationsContent")],b)})},"esri/popup/support/UtilityNetworkAssociationType":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){b=class extends b.ClonableMixin(c){constructor(g){super(g);this.associatedAssetType=this.associatedAssetGroup=this.associatedNetworkSourceId=this.type=this.description=this.title=null}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([f.property({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],
b.prototype,"type",void 0);a.__decorate([f.property({type:Number,json:{type:d.Integer,write:!0}})],b.prototype,"associatedNetworkSourceId",void 0);a.__decorate([f.property({type:Number,json:{type:d.Integer,write:!0}})],b.prototype,"associatedAssetGroup",void 0);a.__decorate([f.property({type:Number,json:{type:d.Integer,write:!0}})],b.prototype,"associatedAssetType",void 0);return b=a.__decorate([e.subclass("esri.popup.support.UtilityNetworkAssociationType")],b)})},"esri/popup/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);this.returnType=this.expression=this.title=this.name=null}clone(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);
a.__decorate([c.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=e=a.__decorate([q.subclass("esri.popup.ExpressionInfo")],b)})},"esri/popup/LayerOptions":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);this.showNoDataRecords=
this.returnTopmostRaster=null}clone(){return new e({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};a.__decorate([c.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);a.__decorate([c.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=e=a.__decorate([q.subclass("esri.popup.LayerOptions")],b)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,f,d,n,q,e){var g;b=g=class extends b{constructor(h){super(h);this.orderByFields=this.showRelatedRecords=null}clone(){return new g({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?c.clone(this.orderByFields):null})}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);a.__decorate([f.property({type:[e],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=g=a.__decorate([q.subclass("esri.popup.RelatedRecordsInfo")],
b)})},"esri/support/actions/ActionBase":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e){var g;b=g=class extends c.IdentifiableMixin(b){constructor(h){super(h);this.active=!1;this.className=null;this.disabled=!1;this.id=this.icon=null;this.indicator=!1;this.type=this.title=null;
this.visible=!0}clone(){return new g({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};a.__decorate([f.property()],b.prototype,"active",void 0);a.__decorate([f.property()],b.prototype,"className",void 0);a.__decorate([f.property()],b.prototype,"disabled",void 0);a.__decorate([f.property()],b.prototype,"icon",void 0);a.__decorate([f.property()],b.prototype,"id",void 0);a.__decorate([f.property()],
b.prototype,"indicator",void 0);a.__decorate([f.property()],b.prototype,"title",void 0);a.__decorate([f.property()],b.prototype,"type",void 0);a.__decorate([f.property()],b.prototype,"visible",void 0);return b=g=a.__decorate([e.subclass("esri.support.actions.ActionBase")],b)})},"esri/support/actions/ActionButton":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.image=null;this.type="button"}clone(){return new e({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};a.__decorate([b.property()],c.prototype,"image",void 0);return c=e=a.__decorate([n.subclass("esri.support.actions.ActionButton")],c)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.image=null;this.type="toggle";this.value=!1}clone(){return new e({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};a.__decorate([b.property()],c.prototype,"image",void 0);a.__decorate([b.property()],c.prototype,"value",void 0);return c=e=a.__decorate([n.subclass("esri.support.actions.ActionToggle")],
c)})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/get ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){const h=u=>{u=class extends u{constructor(...p){super(...p)}clear(p,l="user"){return q.getProperties(this).store.delete(p,n.nameToId(l))}write(p,l){p=p||{};e.write(this,p,l);return p}setAtOrigin(p,
l,m){q.getProperties(this).setAtOrigin(p,l,n.nameToId(m))}removeOrigin(p){const l=q.getProperties(this).store;p=n.nameToId(p);const m=l.keys(p);for(const v of m)l.originOf(v)===p&&l.set(v,l.get(v,p),n.OriginId.USER)}updateOrigin(p,l){const m=q.getProperties(this).store;l=n.nameToId(l);const v=d.get(this,p);for(let A=l+1;A<n.originIdNum;++A)m.delete(p,A);m.set(p,v,l)}toJSON(p){return this.write({},p)}};u=b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],
u);u.prototype.toJSON.isDefaultToJSON=!0;return u},r=u=>{u=class extends h(f.ReadOnlyMultiOriginJSONMixin(u)){constructor(...p){super(...p)}};return u=b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport")],u)};a.MultiOriginJSONSupport=class extends r(c){};a.MultiOriginJSONSupport=b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){const h=r=>{r=class extends r{constructor(...u){super(...u);u=e.getProperties(this);const p=u.store,l=new d;u.store=l;f.setupConstructedDefaults(u,p,l)}read(u,p){q.read(this,u,p)}getAtOrigin(u,p){const l=e.getProperties(this).store,m=n.nameToId(p);if("string"===typeof u)return l.get(u,m);const v={};u.forEach(A=>{v[A]=l.get(A,m)});return v}originOf(u){return n.idToName(this.originIdOf(u))}originIdOf(u){return e.getProperties(this).store.originOf(u)}revert(u,p){const l=e.getProperties(this).store,
m=n.nameToId(p),v=e.getProperties(this);("string"===typeof u?"*"===u?l.keys(m):[u]:u).forEach(A=>{v.invalidate(A);l.revert(A,m);v.commit(A)})}};return r=b.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],r)};a.ReadOnlyMultiOriginJSONSupport=class extends h(c){};a.ReadOnlyMultiOriginJSONSupport=b.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","./PropertyOrigin"],function(a,b){class c{constructor(){this._propertyOriginMap=new Map;this._originStores=Array(b.originIdNum);this._values=new Map;this.multipleOriginsSupported=!0}clone(f){const d=new c;var n=this._originStores[b.OriginId.DEFAULTS];n&&n.forEach((q,e)=>{d.set(e,a.clone(q),b.OriginId.DEFAULTS)});for(let q=b.OriginId.SERVICE;q<b.originIdNum;q++)(n=this._originStores[q])&&n.forEach((e,g)=>{f&&f.has(g)||d.set(g,
a.clone(e),q)});return d}get(f,d){return(d=void 0===d?this._values:this._originStores[d])?d.get(f):void 0}keys(f){return(f=null==f?this._values:this._originStores[f])?[...f.keys()]:[]}set(f,d,n=b.OriginId.USER){var q=this._originStores[n];q||(q=new Map,this._originStores[n]=q);q.set(f,d);return!this._values.has(f)||this._propertyOriginMap.get(f)<=n?(q=this._values.get(f),this._values.set(f,d),this._propertyOriginMap.set(f,n),q!==d):!1}delete(f,d=b.OriginId.USER){var n=this._originStores[d];if(n){var q=
n.get(f);n.delete(f);if(this._values.has(f)&&this._propertyOriginMap.get(f)===d)for(this._values.delete(f),--d;0<=d;d--)if((n=this._originStores[d])&&n.has(f)){this._values.set(f,n.get(f));this._propertyOriginMap.set(f,d);break}return q}}has(f,d){return(d=void 0===d?this._values:this._originStores[d])?d.has(f):!1}revert(f,d){for(;0<d&&!this.has(f,d);)--d;const n=this._originStores[d]?.get(f),q=this._values.get(f);this._values.set(f,n);this._propertyOriginMap.set(f,d);return q!==n}originOf(f){return this._propertyOriginMap.get(f)||
b.OriginId.DEFAULTS}forEach(f){this._values.forEach(f)}}return c})},"esri/form/FormTemplate":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/SetUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/formUtils ../layers/support/fieldUtils".split(" "),function(a,
b,c,f,d,n,q,e,g,h,r,u,p){function l(z,k,x){const {fieldsIndex:y}=k;if(!y||y.fields.length!==z.size)switch(A(z,y,x.label),A(z,y,x.description),x.type){case "field":p.collectField(z,y,x.fieldName);break;case "group":x.elements.forEach(B=>l(z,k,B));break;case "relationship":if(k.relationships){const B=k.relationships.find(E=>E.id===x.relationshipId);B&&p.collectField(z,y,B.keyField)}p.collectFields(z,y,x.orderByFields?.map(B=>B.field));break;case "text":A(z,y,x.text)}}function m(z,k){if(!k||0===k.length)return[];
z=v(z);const x=[];for(const y of k)z.has(y.name)&&x.push(y.expression);return x}function v(z){const k=new Set;for(const x of z)if(f.addMaybe(k,x.visibilityExpression),!u.isTextElement(x))if(u.isGroupElement(x))f.addMany(k,v(x.elements));else if(f.addMaybe(k,x.editableExpression),u.isFieldElement(x)){const {requiredExpression:y,valueExpression:B}=x;f.addMany(k,[y,B])}return k}function A(z,k,x){p.collectFields(z,k,p.extractSubstitutionTemplatesFromString(x))}var t;const w=u.buildTypeMaps(r);b=t=class extends b{constructor(z){super(z);
this.expressionInfos=this.elements=this.description=null;this.preserveFieldValuesWhenHidden=!1;this.title=null}castElements(z){return u.ensureType(z,w)}readElements(z,k){return u.fromJSON(k.formElements,w)}writeElements(z,k){k.formElements=u.toJSON(z,w)}clone(){return new t({description:this.description,expressionInfos:c.clone(this.expressionInfos),elements:c.clone(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(z,k){const x=new Set,
{description:y,elements:B,expressionInfos:E,title:J}=this;A(x,z,y);A(x,z,J);if(!B)return[];const K=m(B,E).map(H=>p.collectArcadeFieldNames(x,z,H));await Promise.all(K);for(const H of B)l(x,{fieldsIndex:z,relationships:k},H);return Array.from(x).sort()}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"elements",void 0);a.__decorate([n.cast("elements")],b.prototype,"castElements",null);a.__decorate([q.reader("elements",
["formElements"])],b.prototype,"readElements",null);a.__decorate([g.writer("elements")],b.prototype,"writeElements",null);a.__decorate([d.property({type:[h],json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"preserveFieldValuesWhenHidden",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=t=a.__decorate([e.subclass("esri.form.FormTemplate")],b)})},"esri/form/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);this.name=this.expression=null;this.returnType="boolean";this.title=null}clone(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([c.property({type:["boolean","date","number","string"],
json:{write:!0}})],b.prototype,"returnType",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=e=a.__decorate([q.subclass("esri.form.ExpressionInfo")],b)})},"esri/form/elements/GroupElement":function(){define("./AttachmentElement ./FieldElement ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/formUtils ./RelationshipElement ./TextElement ./UtilityNetworkAssociationsElement".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){var m;a=m=class extends h{constructor(A){super(A);this.elements=null;this.initialState="expanded";this.type="group"}castElements(A){return r.ensureType(A,v,!1)}readElements(A,t){return r.fromJSON(t.formElements,v,!1)}writeElements(A,t){t.formElements=r.toJSON(A,v,!1)}clone(){return new m({description:this.description,elements:f.clone(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};c.__decorate([d.property({json:{write:!0}})],
a.prototype,"elements",void 0);c.__decorate([n.cast("elements")],a.prototype,"castElements",null);c.__decorate([q.reader("elements",["formElements"])],a.prototype,"readElements",null);c.__decorate([g.writer("elements")],a.prototype,"writeElements",null);c.__decorate([d.property({type:["collapsed","expanded"],json:{write:!0}})],a.prototype,"initialState",void 0);c.__decorate([d.property({type:String,json:{read:!1,write:!0}})],a.prototype,"type",void 0);a=m=c.__decorate([e.subclass("esri.form.elements.GroupElement")],
a);const v=r.buildTypeMaps(a);return a})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ./inputs/attachments/AttachmentInput ./inputs/attachments/support/inputs".split(" "),function(a,b,c,f,d,n,q,e,g){var h;c=g.buildTypeMaps(e);q=h=class extends q{constructor(r){super(r);this.allowUserRename=!0;this.attachmentKeyword=
null;this.displayFilename=!1;this.editableExpression=null;this.filenameExpression="{attachmentKeyword}_{now}";this.minAttachmentCount=this.maxAttachmentCount=this.input=null;this.type="attachment";this.useOriginalFilename=!0}clone(){return new h({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),
label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],q.prototype,"allowUserRename",void 0);a.__decorate([b.property({type:String,json:{write:{isRequired:!0}}})],q.prototype,"attachmentKeyword",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],q.prototype,"displayFilename",void 0);
a.__decorate([b.property({type:String,json:{write:!0}})],q.prototype,"editableExpression",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],q.prototype,"filenameExpression",void 0);a.__decorate([b.property({types:c.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],q.prototype,"input",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],q.prototype,"maxAttachmentCount",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],q.prototype,
"minAttachmentCount",void 0);a.__decorate([b.property({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],q.prototype,"type",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],q.prototype,"useOriginalFilename",void 0);return q=h=a.__decorate([n.subclass("esri.form.elements.AttachmentElement")],q)})},"esri/form/elements/Element":function(){define(["../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],
function(a,b,c,f){b=class extends b{constructor(d){super(d);this.visibilityExpression=this.type=this.label=this.description=null}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property()],b.prototype,"type",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"visibilityExpression",void 0);return b=a.__decorate([f.subclass("esri.form.elements.Element")],
b)})},"esri/form/elements/inputs/attachments/AttachmentInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/decorators/cast ../../../../core/has ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/reader ../../../../core/accessorSupport/decorators/subclass ../../../../core/accessorSupport/decorators/writer ./Input ./support/inputs".split(" "),function(a,b,c,f,d,n,q,e,g,h){f=class extends g{constructor(u){super(u);
this.type="attachment";this.attachmentAssociationType="exact";this.inputTypes=null}castInputs(u){return h.ensureType(u,r,!0)}readInputs(u,p){return h.fromJSON(p.inputTypes,r,!0)}writeInputs(u,p){p.inputTypes=h.toJSON(u,r,!0)}};a.__decorate([b.property({type:["attachment"],readOnly:!0,json:{write:!0}})],f.prototype,"type",void 0);a.__decorate([b.property({type:["any","exact","exactOrNone"],json:{write:!0}})],f.prototype,"attachmentAssociationType",void 0);a.__decorate([b.property({json:{write:{isRequired:!0}}})],
f.prototype,"inputTypes",void 0);a.__decorate([c.cast("inputTypes")],f.prototype,"castInputs",null);a.__decorate([n.reader("inputTypes")],f.prototype,"readInputs",null);a.__decorate([e.writer("inputTypes")],f.prototype,"writeInputs",null);f=a.__decorate([q.subclass("esri.form.elements.inputs.attachments.AttachmentInput")],f);const r=h.buildTypeMaps(f);return f})},"esri/form/elements/inputs/attachments/Input":function(){define("../../../../chunks/tslib.es6 ../../../../core/Clonable ../../../../core/JSONSupport ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){b=class extends b.ClonableMixin(c){constructor(g){super(g);this.type=null}};a.__decorate([f.property()],b.prototype,"type",void 0);return b=a.__decorate([e.subclass("esri.form.elements.inputs.attachments.Input")],b)})},"esri/form/elements/inputs/attachments/support/inputs":function(){define("exports ../../../../../core/accessorSupport/ensureType ../AudioInput ../DocumentInput ../ImageInput ../Input ../SignatureInput ../VideoInput".split(" "),function(a,b,c,f,d,n,q,e){a.buildTypeMaps=
function(g){return{nestableTypes:{base:n,key:"type",typeMap:{audio:c,document:f,image:d,signature:q,video:e}},allTypes:{base:n,key:"type",typeMap:{attachment:g,audio:c,document:f,image:d,signature:q,video:e}}}};a.ensureType=function(g,h,r){return g?g.map(u=>b.ensureOneOfType(r?h.nestableTypes:h.allTypes,u)):null};a.fromJSON=function(g,h,r){if(!g)return null;const u=r?h.nestableTypes.typeMap:h.allTypes.typeMap;return g.filter(p=>u[p.type]).map(p=>u[p.type].fromJSON(p))};a.toJSON=function(g,h,r){if(!g)return null;
const u=r?h.nestableTypes.typeMap:h.allTypes.typeMap;return g.filter(p=>u[p.type]).map(p=>p.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/attachments/AudioInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input ./support/utils".split(" "),function(a,b,c,f,d,n,
q,e){c=class extends q{constructor(g){super(g);this.type="audio";this.inputMethod="any";this.maxDuration=null}};a.__decorate([b.property({type:["audio"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e.mediaInputArray,json:{write:!0}})],c.prototype,"inputMethod",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxDuration",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.AudioInput")],c)})},"esri/form/elements/inputs/attachments/support/utils":function(){define(["exports"],
function(a){a.mediaInputArray=["any","capture","upload"];Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/attachments/DocumentInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,c,f,d,n,q){c=class extends q{constructor(e){super(e);this.type="document";
this.maxFileSize=null}};a.__decorate([b.property({type:["document"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxFileSize",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.DocumentInput")],c)})},"esri/form/elements/inputs/attachments/ImageInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input ./support/utils".split(" "),
function(a,b,c,f,d,n,q,e){c=class extends q{constructor(g){super(g);this.type="image";this.inputMethod="any";this.maxImageSize=null}};a.__decorate([b.property({type:["image"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e.mediaInputArray,json:{write:!0}})],c.prototype,"inputMethod",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxImageSize",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.ImageInput")],
c)})},"esri/form/elements/inputs/attachments/SignatureInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input ./support/utils".split(" "),function(a,b,c,f,d,n,q,e){c=class extends q{constructor(g){super(g);this.type="signature";this.inputMethod="any"}};a.__decorate([b.property({type:["signature"],readOnly:!0,json:{write:!0}})],
c.prototype,"type",void 0);a.__decorate([b.property({type:e.mediaInputArray,json:{write:!0}})],c.prototype,"inputMethod",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.SignatureInput")],c)})},"esri/form/elements/inputs/attachments/VideoInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input ./support/utils".split(" "),
function(a,b,c,f,d,n,q,e){c=class extends q{constructor(g){super(g);this.type="video";this.inputMethod="any";this.maxDuration=null}};a.__decorate([b.property({type:["video"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e.mediaInputArray,json:{write:!0}})],c.prototype,"inputMethod",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxDuration",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.VideoInput")],
c)})},"esri/form/elements/FieldElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ./inputs ../../layers/support/domains".split(" "),function(a,b,c,f,d,n,q,e,g){var h;c=h=class extends q{constructor(r){super(r);this.requiredExpression=this.input=this.hint=this.fieldName=this.editableExpression=this.editable=this.domain=null;this.type="field";
this.valueExpression=null}clone(){return new h({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],c.prototype,"domain",void 0);a.__decorate([b.property({type:Boolean,
json:{write:!0}})],c.prototype,"editable",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"editableExpression",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"hint",void 0);a.__decorate([b.property({types:e.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],c.prototype,"input",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],
c.prototype,"requiredExpression",void 0);a.__decorate([b.property({type:String,json:{read:!1,write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);return c=h=a.__decorate([n.subclass("esri.form.elements.FieldElement")],c)})},"esri/form/elements/inputs":function(){define("exports ./inputs/BarcodeScannerInput ./inputs/ComboBoxInput ./inputs/DatePickerInput ./inputs/DateTimeOffsetPickerInput ./inputs/DateTimePickerInput ./inputs/Input ./inputs/RadioButtonsInput ./inputs/SwitchInput ./inputs/TextAreaInput ./inputs/TextBoxInput ./inputs/TimePickerInput".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u){const p={base:q,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"date-picker":f,"datetime-picker":n,"datetimeoffset-picker":d,"radio-buttons":e,switch:g,"text-area":h,"text-box":r,"time-picker":u}};a.BarcodeScannerInput=b;a.ComboBoxInput=c;a.DatePickerInput=f;a.DateTimeOffsetPickerInput=d;a.DateTimePickerInput=n;a.InputBase=q;a.RadioButtonsInput=e;a.SwitchInput=g;a.TextAreaInput=h;a.TextBoxInput=r;a.TimePickerInput=u;a.types=p;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.type="barcode-scanner"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["barcode-scanner"],
json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.BarcodeScannerInput")],c)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,c,f,d,n,q){c=class extends q{constructor(e){super(e);this.maxLength=null;this.minLength=
0}};a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxLength",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"minLength",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.TextInput")],c)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.type=null}};a.__decorate([c.property()],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.form.elements.inputs.Input")],b)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,c,f,
d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="combo-box"}clone(){return new e({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["combo-box"],json:{read:!1,write:!0}})],
c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.ComboBoxInput")],c)})},"esri/form/elements/inputs/DatePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,b,c,f,d,n,
q,e,g){var h;c=h=class extends g{constructor(r){super(r);this.min=this.max=null;this.type="date-picker"}readMax(r,u){r=u.max;return null!=r?r:null}writeMax(r,u){u.max=null!=r?r:null}readMin(r,u){r=u.min;return null!=r?r:null}writeMin(r,u){u.min=null!=r?r:null}clone(){return new h({max:this.max,min:this.min})}};a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([n.reader("max")],c.prototype,"readMax",null);a.__decorate([e.writer("max")],c.prototype,
"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([n.reader("min")],c.prototype,"readMin",null);a.__decorate([e.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:["date-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=h=a.__decorate([q.subclass("esri.form.elements.inputs.DatePickerInput")],c)})},"esri/form/elements/inputs/DateTimeOffsetPickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,f,d,n,q,e,g){function h(u){return null!=u?u:null}var r;c=r=class extends g{constructor(u){super(u);this.includeTimeOffset=!0;this.min=this.max=null;this.timeResolution="minutes";this.type="datetimeoffset-picker"}readMax(u,p){return h(p.max)}writeMax(u,p){p.max=null!=u?u:null}readMin(u,p){return h(p.min)}writeMin(u,p){p.min=null!=u?u:null}readTimeResolution(u,p){return h(p.timeResolution)}writeTimeResolution(u,p){p.timeResolution=null!=u?u:null}clone(){return new r({includeTimeOffset:this.includeTimeOffset,
max:this.max,min:this.min,timeResolution:this.timeResolution})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"includeTimeOffset",void 0);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([n.reader("max")],c.prototype,"readMax",null);a.__decorate([e.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([n.reader("min")],
c.prototype,"readMin",null);a.__decorate([e.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"timeResolution",void 0);a.__decorate([n.reader("timeResolution")],c.prototype,"readTimeResolution",null);a.__decorate([e.writer("timeResolution")],c.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=r=a.__decorate([q.subclass("esri.form.elements.inputs.DateTimeOffsetPickerInput")],
c)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,b,c,f,d,n,q,e,g){function h(u){return null!=u?new Date(u):null}var r;c=r=class extends g{constructor(u){super(u);
this.includeTime=!1;this.min=this.max=null;this.type="datetime-picker"}readMax(u,p){return h(p.max)}writeMax(u,p){p.max=u?u.getTime():null}readMin(u,p){return h(p.min)}writeMin(u,p){p.min=u?u.getTime():null}clone(){return new r({includeTime:this.includeTime,max:this.max,min:this.min})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"includeTime",void 0);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],c.prototype,"max",void 0);a.__decorate([n.reader("max")],
c.prototype,"readMax",null);a.__decorate([e.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],c.prototype,"min",void 0);a.__decorate([n.reader("min")],c.prototype,"readMin",null);a.__decorate([e.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:["datetime-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=r=a.__decorate([q.subclass("esri.form.elements.inputs.DateTimePickerInput")],c)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="radio-buttons"}clone(){return new e({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["radio-buttons"],
json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.RadioButtonsInput")],c)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.onValue=this.offValue=
null;this.type="switch"}clone(){return new e({offValue:this.offValue,onValue:this.onValue})}};a.__decorate([b.property({type:[String,Number],json:{write:!0}})],c.prototype,"offValue",void 0);a.__decorate([b.property({type:[String,Number],json:{write:!0}})],c.prototype,"onValue",void 0);a.__decorate([b.property({type:["switch"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.SwitchInput")],c)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.type="text-area"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-area"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.TextAreaInput")],c)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.type="text-box"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-box"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.TextBoxInput")],c)})},"esri/form/elements/inputs/TimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,f,d,n,q,e,g){function h(u){return null!=u?u:null}var r;c=r=class extends g{constructor(u){super(u);this.min=this.max=null;this.timeResolution="minutes";this.type="time-picker"}readMax(u,p){return h(p.max)}writeMax(u,p){p.max=null!=u?u:null}readMin(u,p){return h(p.min)}writeMin(u,p){p.min=null!=u?u:null}readTimeResolution(u,p){return h(p.timeResolution)}writeTimeResolution(u,p){p.timeResolution=null!=u?u:null}clone(){return new r({max:this.max,min:this.min,timeResolution:this.timeResolution})}};
a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([n.reader("max")],c.prototype,"readMax",null);a.__decorate([e.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([n.reader("min")],c.prototype,"readMin",null);a.__decorate([e.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,
"timeResolution",void 0);a.__decorate([n.reader("timeResolution")],c.prototype,"readTimeResolution",null);a.__decorate([e.writer("timeResolution")],c.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["time-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=r=a.__decorate([q.subclass("esri.form.elements.inputs.TimePickerInput")],c)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,f,d,n){b={key:"type",base:f,typeMap:{range:n,"coded-value":c,inherited:d}};a.CodedValueDomain=c;a.DomainBase=f;a.InheritedDomain=d;a.RangeDomain=n;a.fromJSON=function(q){if(!q?.type)return null;switch(q.type){case "range":return n.fromJSON(q);case "codedValue":return c.fromJSON(q);case "inherited":return d.fromJSON(q)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;f=h=class extends g{constructor(r){super(r);this.codedValues=null;this.type="coded-value"}getName(r){let u=null;if(this.codedValues){const p=String(r);this.codedValues.some(l=>{String(l.code)===p&&(u=l.name);return!!u})}return u}clone(){return new h({codedValues:b.clone(this.codedValues),name:this.name})}};a.__decorate([c.property({type:[e.CodedValue],json:{write:{isRequired:!0}}})],f.prototype,"codedValues",void 0);a.__decorate([n.enumeration({codedValue:"coded-value"})],
f.prototype,"type",void 0);return f=h=a.__decorate([q.subclass("esri.layers.support.CodedValueDomain")],f)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e){var g;a.CodedValue=g=class extends c{constructor(h){super(h);this.code=this.name=null}clone(){return new g({name:this.name,
code:this.code})}};b.__decorate([f.property({type:String,json:{write:{isRequired:!0}}})],a.CodedValue.prototype,"name",void 0);b.__decorate([f.property({type:[String,Number],json:{write:{isRequired:!0}}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=g=b.__decorate([e.subclass("esri.layers.support.CodedValue")],a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){b=new b.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});c=class extends c{constructor(h){super(h);this.type=this.name=null}};a.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);a.__decorate([e.enumeration(b),f.property({json:{write:{isRequired:!0}}})],c.prototype,"type",void 0);return c=a.__decorate([g.subclass("esri.layers.support.Domain")],c)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,f,d,n,q,e){var g;b=g=class extends e{constructor(h){super(h);this.type="inherited"}clone(){return new g}};a.__decorate([n.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=g=a.__decorate([q.subclass("esri.layers.support.InheritedDomain")],b)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends e{constructor(h){super(h);this.minValue=this.maxValue=null;this.type="range"}clone(){return new g({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};a.__decorate([b.property({json:{type:[Number],read:{source:"range",reader(h,r){return r.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(h,r,u){r[u]=[this.minValue||0,h]},isRequired:!0}}})],c.prototype,"maxValue",
void 0);a.__decorate([b.property({json:{type:[Number],read:{source:"range",reader(h,r){return r.range?.[0]}},write:{target:"range",writer(h,r,u){r[u]=[h,this.maxValue||0]},isRequired:!0}}})],c.prototype,"minValue",void 0);a.__decorate([n.enumeration({range:"range"})],c.prototype,"type",void 0);return c=g=a.__decorate([q.subclass("esri.layers.support.RangeDomain")],c)})},"esri/form/support/formUtils":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement ../elements/TextElement ../elements/UtilityNetworkAssociationsElement".split(" "),
function(a,b,c,f,d,n,q,e){function g(r){return"text-area"===r.type}function h(r){return"text-box"===r.type}a.buildTypeMaps=function(r){return{typesWithGroup:{base:f,key:"type",typeMap:{attachment:c,field:d,group:r,relationship:n,text:q,utilityNetworkAssociations:e}},typesWithoutGroup:{base:f,key:"type",typeMap:{attachment:c,field:d,relationship:n,text:q,utilityNetworkAssociations:e}}}};a.ensureType=function(r,u,p=!0){return r?r.map(l=>b.ensureOneOfType(p?u.typesWithGroup:u.typesWithoutGroup,l)):null};
a.fromJSON=function(r,u,p=!0){if(!r)return null;const l=p?u.typesWithGroup.typeMap:u.typesWithoutGroup.typeMap;return r.filter(m=>l[m.type]).map(m=>l[m.type].fromJSON(m))};a.isFieldElement=r=>"field"===r.type;a.isGroupElement=r=>"group"===r.type;a.isRelationshipElement=r=>"relationship"===r.type;a.isTextAreaInput=g;a.isTextBoxInput=h;a.isTextElement=r=>"text"===r.type;a.isTextInput=function(r){return g(r)||h(r)};a.isUtilityNetworkAssociationsElement=r=>"utilityNetworkAssociations"===r.type;a.toJSON=
function(r,u,p=!0){if(!r)return null;const l=p?u.typesWithGroup.typeMap:u.typesWithoutGroup.typeMap;return r.filter(m=>l[m.type]).map(m=>m.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,f,d,n,q,e){var g;f=g=class extends q{constructor(h){super(h);this.displayCount=null;this.displayType="list";this.relationshipId=this.orderByFields=this.editableExpression=null;this.type="relationship"}clone(){return new g({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:b.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};
a.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"displayCount",void 0);a.__decorate([c.property({type:["list"],json:{write:!0}})],f.prototype,"displayType",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"editableExpression",void 0);a.__decorate([c.property({type:[e],json:{write:!0}})],f.prototype,"orderByFields",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"relationshipId",void 0);a.__decorate([c.property({type:["relationship"],
json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=a.__decorate([n.subclass("esri.form.elements.RelationshipElement")],f)})},"esri/form/elements/TextElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element".split(" "),function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.text=null;this.textFormat="plain-text";
this.type="text"}clone(){return new e({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"textFormat",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.TextElement")],c)})},"esri/form/elements/UtilityNetworkAssociationsElement":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/UtilityNetworkAssociationType".split(" "),
function(a,b,c,f,d,n,q,e,g){b=class extends b.ClonableMixin(e){constructor(h){super(h);this.editableExpression=this.associationTypes=null;this.type="utilityNetworkAssociations"}};a.__decorate([c.property({type:[g],json:{write:{isRequired:!0}}})],b.prototype,"associationTypes",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"editableExpression",void 0);a.__decorate([c.property({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=
a.__decorate([q.subclass("esri.form.elements.UtilityNetworkAssociationsElement")],b)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/tslib.es6 ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k){let x=0;a.MemorySource=class extends q.LoadableMixin(g.EsriPromiseMixin(f)){constructor(y){super(y);this._idToClientGraphic=null;this.type="memory"}load(y){this.addResolvingPromise(this._startWorker(null!=y?y.signal:null));return Promise.resolve(this)}destroy(){this._connection?.close();this._connection=null}get _workerGeometryType(){const y=this.layer?.geometryType;return y?this._geometryTypeRequiresClientGraphicMapping(y)?"polygon":y:null}applyEdits(y){return this.load().then(()=>
this._applyEdits(y))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(y,B={}){await this.load(B);B=await this._connection.invoke("queryFeatures",y?y.toJSON():null,B);z.applyFeatureSetZUnitScaling(y,this.layer.spatialReference,B);y=k.fromJSON(B);if(!this._requiresClientGraphicMapping())return y;B=this.layer.objectIdField;for(const E of y.features){const J=this._idToClientGraphic.get(E.attributes[B]);J&&(E.geometry=J.geometry)}y.geometryType=this.layer.geometryType;
return y}async queryFeaturesJSON(y,B={}){if(this._requiresClientGraphicMapping())throw new d("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(B);B=await this._connection.invoke("queryFeatures",y?y.toJSON():null,B);z.applyFeatureSetZUnitScaling(y,this.layer.spatialReference,B);return B}queryFeatureCount(y,B={}){return this.load(B).then(()=>this._connection.invoke("queryFeatureCount",y?y.toJSON():null,B))}queryObjectIds(y,
B={}){return this.load(B).then(()=>this._connection.invoke("queryObjectIds",y?y.toJSON():null,B))}queryExtent(y,B={}){return this.load(B).then(()=>this._connection.invoke("queryExtent",y?y.toJSON():null,B)).then(E=>({count:E.count,extent:v.fromJSON(E.extent)}))}querySnapping(y,B={}){return this.load(B).then(()=>this._connection.invoke("querySnapping",y,B))}async queryAttributeBins(y,B={}){await this.load();return this._connection.invoke("queryAttributeBins",y?.toJSON(),B)}async _applyEdits(y){if(!this._connection)throw new d("feature-layer-source:edit-failure",
"Memory source not loaded");const B=this.layer.objectIdField;let E=null;const J=[],K=[];await Promise.all([this._prepareClientMapping(y.addFeatures,null),this._prepareClientMapping(y.updateFeatures,null)]);const H=W=>"objectId"in W&&null!=W.objectId?W.objectId:"attributes"in W&&null!=W.attributes[B]?W.attributes[B]:null;y.addFeatures&&(E=this._prepareAddFeatures(y.addFeatures));if(y.deleteFeatures)for(var F of y.deleteFeatures){const W=H(F);null!=W&&J.push(W)}F=y.updateFeatures&&this._idToClientGraphic?
new Map:null;if(y.updateFeatures)for(const W of y.updateFeatures)K.push(this._serializeFeature(W)),F&&(y=H(W),null!=y&&F.set(y,W));w.unapplyEditsZUnitScaling(E?E.features:null,K,this.layer.spatialReference);const {fullExtent:N,featureEditResults:S}=await this._connection.invoke("applyEdits",{adds:E?E.features:[],updates:K,deletes:J});this.fullExtent=N;E&&E.finish(S.uidToObjectId);this._updateClientGraphicIds(F,S);return this._createEditsResult(S)}async _prepareClientMapping(y,B){if("mesh"===this._layerOrSourceGeometryType&&
null!=y){var E=[];for(const {geometry:J}of y)null==J||"mesh"!==J.type||J.hasExtent||J.loaded||E.push(J.load({signal:B}));E.length&&await Promise.all(E)}}_updateClientGraphicIds(y,B){if(this._idToClientGraphic){if(y)for(const E of B.updateResults){if(!E.success)continue;const J=y.get(E.objectId);null!=J&&this._addIdToClientGraphic(J)}for(const E of B.deleteResults)E.success&&this._idToClientGraphic.delete(E.objectId)}}_createEditsResult(y){return{addFeatureResults:y.addResults?y.addResults.map(this._createFeatureEditResult,
this):[],updateFeatureResults:y.updateResults?y.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:y.deleteResults?y.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(y){const B=!0===y.success?null:y.error||{code:void 0,description:void 0};return{objectId:y.objectId,globalId:y.globalId,error:B?new d("feature-layer-source:edit-failure",B.description,{code:B.code}):
null}}_prepareAddFeatures(y){const B=new Map,E=Array(y.length);let J=null;for(let H=0;H<y.length;H++){const F=y[H],N=this._serializeFeature(F);J||null==F.geometry||(J=F.geometry.type);E[H]=N;B.set(`${N.uid}`,F)}const K=this;return{features:E,inferredGeometryType:J,finish(H){const F=K.sourceJSON.objectIdField;for(const N in H){const S=H[N],W=B.get(N);W&&(W.attributes||(W.attributes={}),-1===S?delete W.attributes[F]:W.attributes[F]=S,K._addIdToClientGraphic(W))}}}}_addIdToClientGraphic(y){if(this._idToClientGraphic){var B=
this.sourceJSON.objectIdField;B=y.attributes?.[B];null!=B&&this._idToClientGraphic.set(B,y)}}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(y){return this._geometryTypeRequiresClientGraphicMapping(y.type)}_geometryTypeRequiresClientGraphicMapping(y){return"mesh"===y||"multipatch"===y||"extent"===
y}_serializeFeature(y){const {attributes:B}=y;y=this._geometryForSerialization(y);const E=(x++).toString();return y?{uid:E,geometry:y.toJSON(),attributes:B}:{uid:E,attributes:B}}_geometryForSerialization(y){({geometry:y}=y);return null==y?null:this._geometryRequiresClientGraphicMapping(y)?y.extent?A.fromExtent(y.extent):null:y}async _startWorker(y){this._connection=await h.open("MemorySourceWorker",{strategy:n("feature-layers-workers")?"dedicated":"local",signal:y,registryTarget:this});const {fields:B,
spatialReference:E,objectIdField:J,hasM:K,hasZ:H,timeInfo:F,dateFieldsTimeZone:N}=this.layer;var S="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,y);const W=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",P=>{e.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");P.preventDefault()}));S={features:W.features,fields:B?.map(P=>P.toJSON()),geometryType:t.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"!==this._layerOrSourceGeometryType&&K,hasZ:"mesh"===this._layerOrSourceGeometryType||H,objectIdField:J,spatialReference:S?null:E&&E.toJSON(),timeInfo:F?.toJSON()??null,dateFieldsTimeZone:N};y=await this._connection.invoke("load",S,{signal:y});for(var L of y.warnings)e.getLogger(this.layer).warn("#load()",`${L.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:L});y.featureErrors.length&&e.getLogger(this.layer).warn("#load()",`Encountered ${y.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||
"no title"}', id: '${this.layer.id??"no id"}')`,{errors:y.featureErrors});L=y.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(W.inferredGeometryType)&&(L.geometryType=t.typeKebabDictionary.toJSON(W.inferredGeometryType));this.sourceJSON=L;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);W.finish(y.assignedObjectIds)}};b.__decorate([l.shared({Type:c,ensureType:u.ensureType(c)})],a.MemorySource.prototype,"itemType",void 0);b.__decorate([r.property()],a.MemorySource.prototype,
"type",void 0);b.__decorate([r.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);b.__decorate([r.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);b.__decorate([r.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=b.__decorate([m.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/tslib.es6 ./PopupTemplate ./core/Clonable ./core/deprecate ./core/JSONSupport ./core/Logger ./core/reactiveUtils ./core/uid ./core/accessorSupport/decorators/property ./core/has ./core/RandomLCG ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils ./geometry/support/typeUtils ./symbols/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){var v;c=v=class extends c.ClonableMixin(d){constructor(A){super(A);this.isAggregate=!1;this.sourceLayer=this.popupTemplate=this.origin=this.layer=null;this._version=0;Object.defineProperty(this,"uid",{value:e.generateUID(),configurable:!0});Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1});1<arguments.length&&f.deprecatedConstructorSignature(n.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(A){const t=
this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(A)&&this._set("aggregateGeometries",A)}set attributes(A){const t=this._get("attributes");t!==A&&(this._set("attributes",A),this._notifyLayer("attributes",t,A))}set geometry(A){const t=this._get("geometry");t!==A&&(this._set("geometry",A),"mesh"!==A?.type&&this._notifyLayer("geometry",t,A))}set symbol(A){const t=this._get("symbol");t!==A&&(this._set("symbol",A),this._notifyLayer("symbol",t,A))}get version(){return this._version}set visible(A){const t=
this._get("visible");t!==A&&(this._set("visible",A),this._notifyLayer("visible",t,A))}cloneShallow(){return new v({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(A=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?
this.origin.layer:null;for(const w of[t,this.sourceLayer,this.layer])if(w){if("popupTemplate"in w&&w.popupTemplate)return w.popupTemplate;if(A&&"defaultPopupTemplate"in w&&null!=w.defaultPopupTemplate)return w.defaultPopupTemplate}return null}getAttribute(A){return this.attributes?.[A]}setAttribute(A,t){if(this.attributes){const w=this.getAttribute(A);this.attributes[A]=t;this._notifyLayer("attributes",w,t,A)}else this.attributes={[A]:t},this._notifyLayer("attributes",void 0,t,A)}getObjectId(){return this.sourceLayer?
"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null}toJSON(){var A=this.aggregateGeometries;if(null==A)A=null;else{var t={};for(const w in A){const z=A[w];z&&(t[w]=z.toJSON())}A=0!==Object.keys(t).length?t:null}return{aggregateGeometries:A,geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:d.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},
popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(A={}){var {geometry:t}=this;"mesh"===t?.type&&(t={origin:t.origin,transform:t.transform},this._notifyLayer("origin-transform",t,t,A.action))}_notifyLayer(A,t,w,z){this._version++;this.layer&&"graphicChanged"in this.layer&&(t={graphic:this,property:A,oldValue:t,newValue:w},"origin-transform"===A&&(t.action=z),"attributes"===A&&(t.attributeName=z),this.layer.graphicChanged(t))}_watchMeshGeometryChanges(){this.addHandles([q.when(()=>
"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:A,origin:t})=>{if(this._lastMeshTransform.localMatrix!==A||this._lastMeshTransform.origin!==t)this._lastMeshTransform.localMatrix=A,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged()}),q.when(()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const A=this.geometry;"mesh"===
A?.type&&A.vertexSpace.origin?(this._lastMeshTransform.localMatrix=A.transform?.localMatrix,this._lastMeshTransform.origin=A.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0);this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(A,t)=>A===t,sync:!0})])}};a.__decorate([g.property({value:null,json:{read:function(A){if(!A)return null;const t={};for(const w in A){const z=p.fromJSON(A[w]);z&&(t[w]=z)}return 0!==Object.keys(t).length?t:
null}}})],c.prototype,"aggregateGeometries",null);a.__decorate([g.property({value:null})],c.prototype,"attributes",null);a.__decorate([g.property({value:null,types:l.geometryTypes,json:{read:p.fromJSON}})],c.prototype,"geometry",null);a.__decorate([g.property({type:Boolean})],c.prototype,"isAggregate",void 0);a.__decorate([g.property({clonable:"reference"})],c.prototype,"layer",void 0);a.__decorate([g.property({clonable:"reference"})],c.prototype,"origin",void 0);a.__decorate([g.property({type:b})],
c.prototype,"popupTemplate",void 0);a.__decorate([g.property({clonable:"reference"})],c.prototype,"sourceLayer",void 0);a.__decorate([g.property({value:null,types:m.symbolTypes})],c.prototype,"symbol",null);a.__decorate([g.property({clonable:!1,json:{read:!1,write:!1}})],c.prototype,"_version",void 0);a.__decorate([g.property({type:Boolean,value:!0})],c.prototype,"visible",null);return c=v=a.__decorate([u.subclass("esri.Graphic")],c)})},"esri/symbols/support/typeUtils":function(){define("exports ../../core/accessorSupport/ensureType ../../core/accessorSupport/extensions/serializableProperty/reader ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol ../TextSymbol ../WebStyleSymbol".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A){const t={base:m,key:"type",typeMap:{"simple-fill":u,"picture-fill":e,"picture-marker":g,"simple-line":p,"simple-marker":l,text:v,"label-3d":d,"line-3d":n,"mesh-3d":q,"point-3d":h,"polygon-3d":r,"web-style":A,cim:f},errorContext:"symbol"},w={base:m,key:"type",typeMap:{"simple-fill":u,cim:f},errorContext:"symbol"},z={base:m,key:"type",typeMap:{"picture-marker":g,"simple-marker":l,"point-3d":h,cim:f},errorContext:"symbol"},k={base:m,key:"type",typeMap:{"simple-line":p,
"line-3d":n,cim:f},errorContext:"symbol"},x={base:m,key:"type",typeMap:{"simple-fill":u,"picture-fill":e,"polygon-3d":r,cim:f},errorContext:"symbol"},y={base:m,key:"type",typeMap:{"picture-marker":g,"simple-marker":l,text:v,"web-style":A,cim:f},errorContext:"symbol"};c=c.createTypeReader({types:t});e={base:m,key:"type",typeMap:{"simple-fill":u,"picture-fill":e,"picture-marker":g,"simple-line":p,"simple-marker":l,text:v,"line-3d":n,"mesh-3d":q,"point-3d":h,"polygon-3d":r,"web-style":A,cim:f},errorContext:"symbol"};
v={base:m,key:"type",typeMap:{text:v,"label-3d":d},errorContext:"symbol"};g={base:m,key:"type",typeMap:{"label-3d":d,"line-3d":n,"mesh-3d":q,"point-3d":h,"polygon-3d":r,"web-style":A},errorContext:"symbol"};f={base:m,key:"type",typeMap:{"line-3d":n,"mesh-3d":q,"point-3d":h,"polygon-3d":r,"web-style":A,cim:f},errorContext:"symbol"};d={base:m,key:"type",typeMap:{"label-3d":d},errorContext:"symbol"};b=b.ensureOneOfType(t);a.ensureType=b;a.isSymbol=function(B){return B instanceof m};a.isSymbol2D=function(B){if(!B)return!1;
switch(B.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(B){switch(B?.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.lineSymbolTypes=k;a.pointSymbolTypes=z;a.polygonSymbolTypes=x;a.readSymbol=c;a.simpleFillAndCIMSymbolTypes=w;a.symbolTypes=t;a.symbolTypes3D=g;a.symbolTypesCluster=y;a.symbolTypesLabel=
v;a.symbolTypesLabel3D=d;a.symbolTypesRenderer=e;a.symbolTypesRenderer3D=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u){var p;d=p=class extends u{constructor(l){super(l);this.data=null;this.type="cim"}readData(l,m){return m}writeData(l,m){Object.assign(m,l)}async collectRequiredFields(l,m){if("CIMSymbolReference"===this.data?.type){var v=this.data.primitiveOverrides;v&&(v=v.map(A=>(A=A.valueExpressionInfo)?r.collectArcadeFieldNames(l,m,A.expression):null),await Promise.all(v))}}clone(){return new p({data:b.clone(this.data)})}hash(){return c.numericHash(JSON.stringify(this.data)).toString()}};
a.__decorate([f.property({json:{write:!1}})],d.prototype,"color",void 0);a.__decorate([f.property({json:{write:!0}})],d.prototype,"data",void 0);a.__decorate([e.reader("data",["symbol"])],d.prototype,"readData",null);a.__decorate([h.writer("data",{})],d.prototype,"writeData",null);a.__decorate([q.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],d.prototype,"type",void 0);return d=p=a.__decorate([g.subclass("esri.symbols.CIMSymbol")],d)})},"esri/symbols/Symbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g,h){c=new c.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let r=0;f=class extends f{constructor(u){super(u);this.id=`sym${r++}`;this.type=null;this.color=new b([0,0,0,1])}readColor(u){return null!=
u?.[0]?[u[0],u[1],u[2],u[3]/255]:u}async collectRequiredFields(u,p){}hash(){return JSON.stringify(this.toJSON())}clone(){}};a.__decorate([d.property({type:c.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:c.write,isRequired:!0}}})],f.prototype,"type",void 0);a.__decorate([d.property({type:b,json:{write:{allowNull:!0}}})],f.prototype,"color",void 0);a.__decorate([g.reader("color")],f.prototype,"readColor",null);return f=a.__decorate([h.subclass("esri.symbols.Symbol")],f)})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u){var p;const l=b.ofType({base:null,key:"type",typeMap:{text:h}});d=p=class extends g{constructor(m){super(m);this.styleOrigin=this.callout=this.verticalOffset=null;this.symbolLayers=new l;this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return r.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return r.hasVisibleVerticalOffset(this)}clone(){return new p({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail),
callout:c.clone(this.callout),verticalOffset:c.clone(this.verticalOffset)})}static fromTextSymbol(m){return new p({symbolLayers:new b([h.fromTextSymbol(m)])})}};a.__decorate([f.property({type:u,json:{write:!0}})],d.prototype,"verticalOffset",void 0);a.__decorate([f.property(r.calloutProperty)],d.prototype,"callout",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],d.prototype,"styleOrigin",void 0);a.__decorate([f.property({type:l})],d.prototype,"symbolLayers",void 0);a.__decorate([q.enumeration({LabelSymbol3D:"label-3d"},
{readOnly:!0})],d.prototype,"type",void 0);return d=p=a.__decorate([e.subclass("esri.symbols.LabelSymbol3D")],d)})},"esri/symbols/Symbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B,E,J,K){const H={icon:t,object:z,line:w,path:k,fill:A,extrude:v,text:B,water:E};g=b.ofType({base:y,key:"type",typeMap:H,errorContext:"symbol-layer"});x=class extends x{constructor(F){super(F);this.type=this.thumbnail=this.styleOrigin=null;this._set("symbolLayers",new ((this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers)?.type||b))}get color(){return null}set color(F){this.constructed&&f.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(F){c.referenceSetter(F,
this._get("symbolLayers"))}readStyleOrigin(F,N,S){if(F.styleUrl&&F.name)return N=m.fromJSON(F.styleUrl,S),new J({styleUrl:N,name:F.name});if(F.styleName&&F.name)return new J({portal:S?.portal||l.getDefault(),styleName:F.styleName,name:F.name});S?.messages&&S.messages.push(new n("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:S,definition:F}))}writeStyleOrigin(F,N,S,W){F.styleUrl&&F.name?(S=m.toJSON(F.styleUrl,W),d.isAbsolute(S)&&
(S=d.normalize(S)),N.styleOrigin={styleUrl:S,name:F.name}):F.styleName&&F.name&&(F.portal&&W?.portal&&!d.hasSamePortal(F.portal.restUrl,W.portal.restUrl)?W?.messages&&W.messages.push(new n("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):N.styleOrigin={styleName:F.styleName,name:F.name})}normalizeCtorArgs(F){return F instanceof y||F&&H[F.type]?{symbolLayers:[F]}:Array.isArray(F)?{symbolLayers:F}:
F}};a.__decorate([q.property({json:{read:!1,write:!1}})],x.prototype,"color",null);a.__decorate([q.property({type:g,nonNullable:!0,json:{write:!0}}),e.cast(c.castForReferenceSetter)],x.prototype,"symbolLayers",null);a.__decorate([q.property({type:J})],x.prototype,"styleOrigin",void 0);a.__decorate([r.reader("styleOrigin")],x.prototype,"readStyleOrigin",null);a.__decorate([p.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],
x.prototype,"writeStyleOrigin",null);a.__decorate([q.property({type:K.Thumbnail,json:{read:!1}})],x.prototype,"thumbnail",void 0);a.__decorate([q.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],x.prototype,"type",void 0);return x=a.__decorate([u.subclass("esri.symbols.Symbol3D")],x)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;c=r=class extends e{constructor(u){super(u);this.type="extrude";this.size=1;this.material=null;this.castShadows=!0;this.edges=null}clone(){return new r({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};a.__decorate([n.enumeration({Extrude:"extrude"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],
c.prototype,"size",void 0);a.__decorate([b.property({type:h.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([b.property(g.symbol3dEdgesProperty)],c.prototype,"edges",void 0);return c=r=a.__decorate([q.subclass("esri.symbols.ExtrudeSymbol3DLayer")],c)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,d,n,q,e){b=class extends b{constructor(g){super(g);this.enabled=!0;this.type=null;this.ignoreDrivers=!1}writeEnabled(g,h,r){g||(h[r]=g)}};a.__decorate([c.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);a.__decorate([e.writer("enabled")],b.prototype,"writeEnabled",null);a.__decorate([c.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0,json:{write:{isRequired:!0}}})],b.prototype,"type",
void 0);return b=a.__decorate([q.subclass("esri.symbols.Symbol3DLayer")],b)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,f){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:f,sketch:c}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){c=class extends c{constructor(r){super(r);this.color=new b([0,0,0,1]);this.extensionLength=0;this.size=d.px2pt(1)}clone(){}cloneProperties(){return{color:f.clone(this.color),size:this.size,extensionLength:this.extensionLength}}};a.__decorate([n.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],c.prototype,"type",void 0);a.__decorate([n.property(h.colorAndTransparencyProperty({colorRequiredOnWrite:!0}))],c.prototype,
"color",void 0);a.__decorate([n.property({...h.screenSizeProperty,json:{write:{overridePolicy(r){return{enabled:!!r}}}}})],c.prototype,"extensionLength",void 0);a.__decorate([n.property(h.screenSizeProperty)],c.prototype,"size",void 0);return c=a.__decorate([g.subclass("esri.symbols.edges.Edges3D")],c)})},"esri/symbols/support/materialUtils":function(){define(["exports","../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,
c,f,d){function n(e,g){e=null!=g.transparency?d.transparencyToOpacity(g.transparency):1;return(g=g.color)&&Array.isArray(g)?new b([g[0]||0,g[1]||0,g[2]||0,e]):null}function q(e,g){g.color=e.toJSON().slice(0,3);e=d.opacityToTransparency(e.a);0!==e&&(g.transparency=e)}c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty=function(e){return{type:b,nonNullable:e?.nonNullable,json:{type:[f.Integer],default:null,read:{source:["color","transparency"],reader:n},write:{target:{color:{type:[f.Integer],
isRequired:e?.colorRequiredOnWrite},transparency:{type:f.Integer}},writer:q}}}};a.screenSizeProperty=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,c,f,d,n,q,e){var g;b=g=class extends e{constructor(h){super(h);
this.type="sketch"}clone(){return new g(this.cloneProperties())}};a.__decorate([n.enumeration({sketch:"sketch"},{readOnly:!0})],b.prototype,"type",void 0);return b=g=a.__decorate([q.subclass("esri.symbols.edges.SketchEdges3D")],b)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,
b,c,f,d,n,q,e){var g;b=g=class extends e{constructor(h){super(h);this.type="solid"}clone(){return new g(this.cloneProperties())}};a.__decorate([n.enumeration({solid:"solid"},{readOnly:!0})],b.prototype,"type",void 0);return b=g=a.__decorate([q.subclass("esri.symbols.edges.SolidEdges3D")],b)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64 ./materialUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;a.Symbol3DMaterial=r=class extends c{constructor(u){super(u);this.emissiveFactor=this.color=null}clone(){const u={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?g.clone(this.emissiveFactor):null};return new r(u)}};b.__decorate([f.property(h.colorAndTransparencyProperty())],a.Symbol3DMaterial.prototype,"color",void 0);b.__decorate([f.property({type:[Number],json:{write:!1}})],a.Symbol3DMaterial.prototype,"emissiveFactor",void 0);a.Symbol3DMaterial=
r=b.__decorate([e.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){var v;c=v=class extends e{constructor(A){super(A);this.type="fill";this.pattern=this.material=null;this.castShadows=!0;this.edges=this.outline=null}clone(){const A={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new v(A)}static fromSimpleFillSymbol(A){const t=
A.outline&&A.outline.style&&"solid"!==A.outline.style?new h({style:A.outline.style}):null,w={size:A.outline?.width??0,color:(A.outline?.color??p.white).clone(),pattern:t};t&&A.outline?.cap&&(w.patternCap=A.outline.cap);return new v({material:new l.Symbol3DFillMaterial({color:(A.color??p.transparentWhite).clone()}),pattern:A.style&&"solid"!==A.style?new r({style:A.style}):null,outline:w})}};a.__decorate([n.enumeration({Fill:"fill"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:l.Symbol3DFillMaterial,
json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property(u.symbol3dPatternProperty)],c.prototype,"pattern",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([b.property({type:m.Symbol3DOutline,json:{write:!0}})],c.prototype,"outline",void 0);a.__decorate([b.property(g.symbol3dEdgesProperty)],c.prototype,"edges",void 0);return c=v=a.__decorate([q.subclass("esri.symbols.FillSymbol3DLayer")],c)})},
"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),function(a,b,c,f,d,n,q,e,g,h){var r;b=b.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",
null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});g=r=class extends g{constructor(u){super(u);this.type="style";this.style="solid"}clone(){return new r({style:this.style})}};a.__decorate([c.property({type:["style"],json:{write:{isRequired:!0}}})],g.prototype,"type",void 0);a.__decorate([q.enumeration(b),c.property({type:h.lineStyles,json:{write:{isRequired:!0}}})],g.prototype,"style",void 0);return g=
r=a.__decorate([e.subclass("esri.symbols.patterns.LineStylePattern3D")],g)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e)}clone(){throw Error("Subclasses of LinePattern3D should implement their own clone method.");}};
a.__decorate([c.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.symbols.patterns.LinePattern3D")],b)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends q{constructor(h){super(h);this.type="style";this.style="solid"}clone(){return new g({style:this.style})}};a.__decorate([b.property({type:["style"],json:{write:{isRequired:!0}}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e,json:{read:!0,write:{isRequired:!0}}})],c.prototype,"style",void 0);return c=g=a.__decorate([n.subclass("esri.symbols.patterns.StylePattern3D")],c)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.type="style"}clone(){throw Error("Subclasses of Pattern3D should implement their own clone method.");}};a.__decorate([c.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.symbols.patterns.Pattern3D")],b)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,f,d){f={types:{key:"type",base:f,typeMap:{style:d}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const c=new b("white");
b=new b([255,255,255,0]);a.isBlack=function(f){return 0===f.r&&0===f.g&&0===f.b};a.transparentWhite=b;a.white=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64 ./Symbol3DMaterial".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;a.Symbol3DFillMaterial=r=class extends h.Symbol3DMaterial{constructor(u){super(u);this.colorMixMode=null}clone(){const u={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?g.clone(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new r(u)}};b.__decorate([q.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=r=b.__decorate([e.subclass("esri.symbols.support.Symbol3DFillMaterial")],
a.Symbol3DFillMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u,p){var l;a.Symbol3DOutline=
l=class extends f{constructor(m){super(m);this.color=new c([0,0,0,1]);this.size=d.px2pt(1);this.pattern=null;this.patternCap="butt"}clone(){const m={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new l(m)}};b.__decorate([n.property(u.colorAndTransparencyProperty({colorRequiredOnWrite:!0}))],a.Symbol3DOutline.prototype,"color",void 0);b.__decorate([n.property({...u.screenSizeProperty,json:{write:{isRequired:!0}}})],
a.Symbol3DOutline.prototype,"size",void 0);b.__decorate([n.property(r.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,"pattern",void 0);b.__decorate([n.property({type:p.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=l=b.__decorate([h.subclass("esri.symbols.support.Symbol3DOutline")],a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports",
"../../core/has","../../core/libs/gl-matrix-2/factories/vec3f64","../../geometry/support/aaBoundingBox"],function(a,b,c,f){const d=f.fromValues(-.5,-.5,-.5,.5,.5,.5),n=f.fromValues(-.5,-.5,0,.5,.5,1),q=f.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];f=[...b,"none"];a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerBoundingBoxTetrahedron=q;a.objectSymbolLayerBoundingBoxUnitCube=d;a.objectSymbolLayerBoundingBoxUnitCylinder=n;a.objectSymbolLayerPrimitiveBoundingBox=function(e){switch(e){case "sphere":case "cube":case "diamond":return d;
case "cylinder":case "cone":case "inverted-cone":return n;case "tetrahedron":return q}};a.objectSymbolLayerSizeWithResourceSize=function(e,{isPrimitive:g,width:h,depth:r,height:u}){g=g?10:1;if(null==h&&null==u&&null==r)return[g*e[0],g*e[1],g*e[2]];h=c.fromValues(h,r,u);let p;for(r=0;3>r;r++)if(u=h[r],null!=u){p=u/e[r];break}for(r=0;3>r;r++)null==h[r]&&(h[r]=e[r]*p);return h};a.pathCaps=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../Extent","./aaBoundingRect","./DoubleArray"],function(a,b,c,f){function d(t=v){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function n(t,w,z,k,x,y,B=d()){B[0]=t;B[1]=w;B[2]=z;B[3]=k;B[4]=x;B[5]=y;return B}function q(t,w,z,k=d()){p(k,m);e(k,t,w,z);return k}function e(t,w,z=0,k=w.length/3){let x=t[0],y=t[1],B=t[2],E=t[3],J=t[4],K=t[5];for(let H=0;H<k;H++)x=Math.min(x,w[z+3*H]),y=Math.min(y,w[z+3*H+1]),B=Math.min(B,w[z+3*H+2]),E=Math.max(E,w[z+3*H]),J=Math.max(J,w[z+3*H+1]),K=Math.max(K,w[z+3*H+2]);t[0]=
x;t[1]=y;t[2]=B;t[3]=E;t[4]=J;t[5]=K}function g(t){return t[0]>=t[3]?0:t[3]-t[0]}function h(t){return t[1]>=t[4]?0:t[4]-t[1]}function r(t){return t[2]>=t[5]?0:t[5]-t[2]}function u(t,w){return Math.max(w[0],t[0])<=Math.min(w[3],t[3])&&Math.max(w[1],t[1])<=Math.min(w[4],t[4])&&Math.max(w[2],t[2])<=Math.min(w[5],t[5])}function p(t,w){t[0]=w[0];t[1]=w[1];t[2]=w[2];t[3]=w[3];t[4]=w[4];t[5]=w[5];return t}function l(t){return 6===t.length}const m=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],
v=[0,0,0,0,0,0],A=d();a.allFinite=function(t){for(let w=0;6>w;w++)if(!isFinite(t[w]))return!1;return!0};a.center=function(t,w=[0,0,0]){w[0]=t[0]+g(t)/2;w[1]=t[1]+h(t)/2;w[2]=t[2]+r(t)/2;return w};a.contains=function(t,w){return w[0]>=t[0]&&w[1]>=t[1]&&w[2]>=t[2]&&w[3]<=t[3]&&w[4]<=t[4]&&w[5]<=t[5]};a.containsPoint=function(t,w){return w[0]>=t[0]&&w[1]>=t[1]&&w[2]>=t[2]&&w[0]<=t[3]&&w[1]<=t[4]&&w[2]<=t[5]};a.containsPointWithMargin=function(t,w,z){return w[0]>=t[0]-z&&w[1]>=t[1]-z&&w[2]>=t[2]-z&&w[0]<=
t[3]+z&&w[1]<=t[4]+z&&w[2]<=t[5]+z};a.create=d;a.depth=h;a.diameter=function(t){const w=g(t),z=r(t);t=h(t);return Math.sqrt(w*w+z*z+t*t)};a.empty=function(t){return t?p(t,m):d(m)};a.equals=function(t,w,z){if(null==t||null==w)return t===w;if(!l(t)||!l(w))return!1;if(z)for(let k=0;k<t.length;k++){if(!z(t[k],w[k]))return!1}else for(z=0;z<t.length;z++)if(t[z]!==w[z])return!1;return!0};a.expandWithAABB=function(t,w){t[0]=Math.min(t[0],w[0]);t[1]=Math.min(t[1],w[1]);t[2]=Math.min(t[2],w[2]);t[3]=Math.max(t[3],
w[3]);t[4]=Math.max(t[4],w[4]);t[5]=Math.max(t[5],w[5])};a.expandWithBuffer=e;a.expandWithNestedArray=function(t,w,z){const k=w.length;let x=t[0],y=t[1],B=t[2],E=t[3],J=t[4],K=t[5];if(z)for(z=0;z<k;z++){var H=w[z];x=Math.min(x,H[0]);y=Math.min(y,H[1]);B=Math.min(B,H[2]);E=Math.max(E,H[0]);J=Math.max(J,H[1]);K=Math.max(K,H[2])}else for(z=0;z<k;z++)H=w[z],x=Math.min(x,H[0]),y=Math.min(y,H[1]),E=Math.max(E,H[0]),J=Math.max(J,H[1]);t[0]=x;t[1]=y;t[2]=B;t[3]=E;t[4]=J;t[5]=K};a.expandWithOffset=function(t,
w,z,k){t[0]=Math.min(t[0],t[0]+w);t[3]=Math.max(t[3],t[3]+w);t[1]=Math.min(t[1],t[1]+z);t[4]=Math.max(t[4],t[4]+z);t[2]=Math.min(t[2],t[2]+k);t[5]=Math.max(t[5],t[5]+k)};a.expandWithRect=function(t,w){t[0]=Math.min(t[0],w[0]);t[1]=Math.min(t[1],w[1]);t[3]=Math.max(t[3],w[2]);t[4]=Math.max(t[4],w[3])};a.expandWithVec3=function(t,w){t[0]=Math.min(t[0],w[0]);t[1]=Math.min(t[1],w[1]);t[2]=Math.min(t[2],w[2]);t[3]=Math.max(t[3],w[0]);t[4]=Math.max(t[4],w[1]);t[5]=Math.max(t[5],w[2])};a.fromBuffer=function(t,
w=d()){return q(t,0,t.length/3,w)};a.fromExtent=function(t,w=d()){w[0]=t.xmin;w[1]=t.ymin;w[2]=t.hasZ?t.zmin:-Infinity;w[3]=t.xmax;w[4]=t.ymax;w[5]=t.hasZ?t.zmax:Infinity;return w};a.fromMinMax=function(t,w,z=d()){z[0]=t[0];z[1]=t[1];z[2]=t[2];z[3]=w[0];z[4]=w[1];z[5]=w[2];return z};a.fromRect=function(t,w){t[0]=w[0];t[1]=w[1];t[2]=Number.NEGATIVE_INFINITY;t[3]=w[2];t[4]=w[3];t[5]=Number.POSITIVE_INFINITY;return t};a.fromRectValues=function(t,w,z,k,x){t[0]=w;t[1]=z;t[2]=Number.NEGATIVE_INFINITY;t[3]=
k;t[4]=x;t[5]=Number.POSITIVE_INFINITY;return t};a.fromSubBuffer=q;a.fromValues=n;a.getMax=function(t,w){w[0]=t[3];w[1]=t[4];w[2]=t[5];return w};a.getMin=function(t,w){w[0]=t[0];w[1]=t[1];w[2]=t[2];return w};a.height=r;a.intersects=u;a.intersectsClippingArea=function(t,w){return null==w?!0:u(t,w)};a.is=l;a.isPoint=function(t){return 0===g(t)&&0===h(t)&&0===r(t)};a.maximumDimension=function(t){return Math.max(g(t),r(t),h(t))};a.negativeInfinity=m;a.offset=function(t,w,z,k,x=t){x[0]=t[0]+w;x[1]=t[1]+
z;x[2]=t[2]+k;x[3]=t[3]+w;x[4]=t[4]+z;x[5]=t[5]+k;return x};a.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.scale=function(t,w,z=t){const k=t[0]+g(t)/2,x=t[1]+h(t)/2,y=t[2]+r(t)/2;z[0]=k+(t[0]-k)*w;z[1]=x+(t[1]-x)*w;z[2]=y+(t[2]-y)*w;z[3]=k+(t[3]-k)*w;z[4]=x+(t[4]-x)*w;z[5]=y+(t[5]-y)*w;return z};a.set=p;a.setMax=function(t,w,z=t){z[3]=w[0];z[4]=w[1];z[5]=w[2];z!==t&&(z[0]=t[0],z[1]=t[1],z[2]=t[2]);return t};a.setMin=function(t,w,z=t){z[0]=w[0];z[1]=w[1];z[2]=w[2];
z!==t&&(z[3]=t[3],z[4]=t[4],z[5]=t[5]);return z};a.size=function(t,w=[0,0,0]){w[0]=g(t);w[1]=h(t);w[2]=r(t);return w};a.toCorners=function(t,w=f.newDoubleArray(24)){const [z,k,x,y,B,E]=t;w[0]=z;w[1]=k;w[2]=x;w[3]=z;w[4]=k;w[5]=E;w[6]=z;w[7]=B;w[8]=x;w[9]=z;w[10]=B;w[11]=E;w[12]=y;w[13]=k;w[14]=x;w[15]=y;w[16]=k;w[17]=E;w[18]=y;w[19]=B;w[20]=x;w[21]=y;w[22]=B;w[23]=E;return w};a.toExtent=function(t,w){return isFinite(t[2])||isFinite(t[5])?new b({xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],
spatialReference:w}):new b({xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:w})};a.toRect=function(t,w){w||=c.create();w[0]=t[0];w[1]=t[1];w[2]=t[3];w[3]=t[4];return w};a.width=g;a.wrap=function(t,w,z,k,x,y){return n(t,w,z,k,x,y,A)};a.zero=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/DoubleArray":function(){define(["exports","../../core/typedArrayUtil"],function(a,b){a.copyInto=function(c,f){for(let d=0;d<f.length;++d)c[d]=f[d];return c};a.doubleArrayFrom=
function(c){return(b.isTypedArray(c)?c.byteLength/8:c.length)<=b.nativeArrayMaxSize?Array.from(c):new Float64Array(c)};a.doubleSubArray=function(c,f,d){return Array.isArray(c)?c.slice(f,f+d):c.subarray(f,f+d)};a.newDoubleArray=function(c,f=!1){return c<=b.nativeArrayMaxSize?f?Array(c).fill(0):Array(c):new Float64Array(c)};a.toFloat64Array=function(c){return Array.isArray(c)?new Float64Array(c):c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){function v(z){const k="width"in z?z.width:z.size,x="height"in z?z.height:z.size,y=A(z.xoffset);z=A(z.yoffset);return(y||z)&&k&&x?{x:-y/k,y:z/x}:null}function A(z){return isFinite(z)?z:0}var t;n=t=class extends g{constructor(z){super(z);this.resource=this.material=null;this.type="icon";this.size=12;this.anchor="center";this.outline=this.anchorPosition=null;this.angle=0}clone(){return new t({anchor:this.anchor,anchorPosition:b.clone(this.anchorPosition),enabled:this.enabled,
material:b.clone(this.material),outline:b.clone(this.outline),resource:b.clone(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(z){const k=z.color||h.white,x=v(z),y=z.outline&&0<z.outline.width?{size:z.outline.width,color:(z.outline.color||h.white).clone()}:null;var B=t,E=z.size,J=z.angle;{z=z.style;const K=w[z];K?z=K:(c.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${z} cannot be mapped to Icon symbol. Fallback to "circle"`),z="circle")}return new B({size:E,angle:J,
resource:{primitive:z},material:{color:k},outline:y,anchor:x?"relative":void 0,anchorPosition:x})}static fromPictureMarkerSymbol(z){const k=!z.color||h.isBlack(z.color)?h.white:z.color,x=v(z);return new t({size:z.width<=z.height?z.height:z.width,angle:z.angle,resource:{href:z.url},material:{color:k.clone()},anchor:x?"relative":void 0,anchorPosition:x})}static fromCIMSymbol(z){return new t({resource:{href:f.makeData({mediaType:"application/json",data:JSON.stringify(z.data)})}})}};a.__decorate([d.property({type:m.Symbol3DMaterial,
json:{write:!0}})],n.prototype,"material",void 0);a.__decorate([d.property({type:r.IconSymbol3DLayerResource,json:{write:!0}})],n.prototype,"resource",void 0);a.__decorate([q.enumeration({Icon:"icon"},{readOnly:!0})],n.prototype,"type",void 0);a.__decorate([d.property({...u.screenSizeProperty,json:{write:{isRequired:!0}}})],n.prototype,"size",void 0);a.__decorate([q.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",
bottomRight:"bottom-right",relative:"relative"},{default:"center"})],n.prototype,"anchor",void 0);a.__decorate([d.property({type:p.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:z=>new p.Symbol3DAnchorPosition2D({x:z[0],y:z[1]})},write:{writer:(z,k)=>{k.anchorPosition=[z.x,z.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],n.prototype,"anchorPosition",void 0);a.__decorate([d.property({type:l.Symbol3DIconOutline,json:{write:!0}})],n.prototype,"outline",void 0);a.__decorate([d.property({type:Number,
json:{write:!0,default:0}})],n.prototype,"angle",void 0);n=t=a.__decorate([e.subclass("esri.symbols.IconSymbol3DLayer")],n);const w={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return n})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){var m;c=c.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=m=class extends f{constructor(v){super(v)}readHref(v,A,t){return v?l.fromJSON(v,t):A.dataURI}writeHref(v,A,t,w){v&&(d.isDataProtocol(v)?A.dataURI=v:(A.href=l.toJSON(v,w),d.isAbsolute(A.href)&&(A.href=d.normalize(A.href))))}clone(){return new m({href:this.href,primitive:this.primitive})}};b.__decorate([n.property({type:String,json:{write:!0,
read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([r.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);b.__decorate([p.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);b.__decorate([h.enumeration(c)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);a.IconSymbol3DLayerResource=m=b.__decorate([u.subclass("esri.symbols.support.IconSymbol3DLayerResource")],
a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e){var g;a.Symbol3DAnchorPosition2D=g=class extends c{constructor(){super(...arguments);
this.y=this.x=0}clone(){return new g({x:this.x,y:this.y})}};b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=g=b.__decorate([e.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;a.Symbol3DIconOutline=u=class extends f{constructor(p){super(p);this.color=new c([0,0,0,1]);this.size=d.px2pt(1)}clone(){const p={color:null!=this.color?this.color.clone():null,size:this.size};return new u(p)}};b.__decorate([n.property(r.colorAndTransparencyProperty({colorRequiredOnWrite:!0}))],a.Symbol3DIconOutline.prototype,"color",void 0);b.__decorate([n.property({...r.screenSizeProperty,json:{write:{isRequired:!0}}})],a.Symbol3DIconOutline.prototype,"size",
void 0);a.Symbol3DIconOutline=u=b.__decorate([h.subclass("esri.symbols.support.Symbol3DIconOutline")],a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v){var A;f=A=class extends h{constructor(t){super(t);this.material=null;this.type="line";this.join="miter";this.cap="butt";this.size=b.px2pt(1);this.marker=this.pattern=null}clone(){const t={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new A(t)}static fromSimpleLineSymbol(t){t=
{enabled:!0,size:t.width??b.px2pt(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new r({style:t.style}):null,material:new m.Symbol3DMaterial({color:(t.color||p.white).clone()}),marker:t.marker?new g({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new A(t)}};a.__decorate([c.property({type:m.Symbol3DMaterial,json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([q.enumeration({Line:"line"},{readOnly:!0})],f.prototype,"type",void 0);
a.__decorate([c.property({type:v.lineJoins,json:{write:!0,default:"miter"}})],f.prototype,"join",void 0);a.__decorate([c.property({type:v.lineCaps,json:{write:!0,default:"butt"}})],f.prototype,"cap",void 0);a.__decorate([c.property({...l.screenSizeProperty,json:{write:{isRequired:!0}}})],f.prototype,"size",void 0);a.__decorate([c.property(u.symbol3dLinePatternProperty)],f.prototype,"pattern",void 0);a.__decorate([c.property({types:{key:"type",base:g,typeMap:{style:g}},json:{write:!0}})],f.prototype,
"marker",void 0);return f=A=a.__decorate([e.subclass("esri.symbols.LineSymbol3DLayer")],f)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),function(a,b,c,f,d,n,q,e,g,h){c=class extends c.ClonableMixin(f){constructor(r){super(r);this.type="style";
this.placement="begin-end";this.style="arrow";this.color=null}equals(r){return null!=r&&r.placement===this.placement&&r.style===this.style&&(null==this.color&&null==r.color||null!=this.color&&null!=r.color&&this.color.toJSON()===r.color.toJSON())}};a.__decorate([d.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],c.prototype,"type",void 0);a.__decorate([d.property({type:h.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],c.prototype,"placement",
void 0);a.__decorate([d.property({type:h.lineMarkerStyles,json:{default:"arrow",write:!0}})],c.prototype,"style",void 0);a.__decorate([d.property({type:b,json:{type:[n.Integer],default:null,write:!0}})],c.prototype,"color",void 0);return c=a.__decorate([g.subclass("esri.symbols.LineStyleMarker3D")],c)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),function(a,b,c,f,d,n,q,e,g,h,r){var u;c=u=class extends e{constructor(p){super(p);
this.material=null;this.castShadows=!0;this.resource=null;this.type="object";this.roll=this.tilt=this.heading=this.anchorPosition=this.anchor=this.depth=this.height=this.width=void 0}clone(){return new u({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||
"string"!==typeof this.resource.href}};a.__decorate([b.property({type:r.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([b.property({type:g.ObjectSymbol3DLayerResource,json:{write:!0}})],c.prototype,"resource",void 0);a.__decorate([n.enumeration({Object:"object"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],
c.prototype,"width",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"depth",void 0);a.__decorate([n.enumeration({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],c.prototype,"anchor",void 0);a.__decorate([b.property({type:h.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:p=>new h.Symbol3DAnchorPosition3D({x:p[0],y:p[1],z:p[2]})},
write:{writer:(p,l)=>{l.anchorPosition=[p.x,p.y,p.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"heading",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"tilt",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"roll",void 0);a.__decorate([b.property({readOnly:!0})],c.prototype,"isPrimitive",null);return c=u=a.__decorate([q.subclass("esri.symbols.ObjectSymbol3DLayer")],
c)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),function(a,b,c,f,d,n,q,e,g,h,r){var u;c=c.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",
diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=u=class extends f{clone(){return new u({href:this.href,primitive:this.primitive})}};b.__decorate([d.property({type:String,json:{read:r.read,write:r.write}})],a.ObjectSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([g.enumeration(c)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=u=b.__decorate([h.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],
a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e){var g;a.Symbol3DAnchorPosition3D=g=class extends c{constructor(){super(...arguments);
this.z=this.y=this.x=0}clone(){return new g({x:this.x,y:this.y,z:this.z})}};b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"z",void 0);a.Symbol3DAnchorPosition3D=g=b.__decorate([e.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),function(a,b,c,f,d,n,q,e,g,h,r){var u;c=u=class extends g{constructor(p){super(p);this.material=
null;this.castShadows=!0;this.type="path";this.profile="circle";this.join="miter";this.cap="butt";this.height=this.width=void 0;this.anchor="center";this.profileRotation="all"}readWidth(p,l){return null!=p?p:null==l.height&&null!=l.size?l.size:void 0}readHeight(p,l){return null!=p?p:null==l.width&&null!=l.size?l.size:void 0}clone(){return new u({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,
width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};a.__decorate([b.property({type:h.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([n.enumeration({Path:"path"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],c.prototype,"profile",
void 0);a.__decorate([b.property({type:r.lineJoins,json:{write:!0,default:"miter"}})],c.prototype,"join",void 0);a.__decorate([b.property({type:r.pathCaps,json:{write:!0,default:"butt"}})],c.prototype,"cap",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],c.prototype,"width",void 0);a.__decorate([q.reader("width",["width","size","height"])],c.prototype,"readWidth",null);a.__decorate([b.property({type:Number,json:{write:!0}})],
c.prototype,"height",void 0);a.__decorate([q.reader("height",["height","size","width"])],c.prototype,"readHeight",null);a.__decorate([b.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],c.prototype,"anchor",void 0);a.__decorate([b.property({type:["heading","all"],json:{write:!0,default:"all"}})],c.prototype,"profileRotation",void 0);return c=u=a.__decorate([e.subclass("esri.symbols.PathSymbol3DLayer")],c)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){var v;f=v=class extends h{constructor(A){super(A);this._userSize=void 0;this.halo=null;this.horizontalAlignment="center";this.lineHeight=1;this.text=this.background=this.material=null;this.type="text";this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(A){null!=A&&null!=this._userSize&&(A.size=this._userSize);this._set("font",A)}writeFont(A,t,w,z){t.font=A.write({},{...z,textSymbol3D:!0});delete t.font.size}get size(){return null!=
this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(A){this._userSize=A;null!=this.font&&(this.font.size=this._userSize);this.notifyChange("size")}clone(){const A=new v({enabled:this.enabled,font:this.font&&b.clone(this.font),halo:this.halo&&b.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:b.clone(this.background)});
A._userSize=this._userSize;return A}static fromTextSymbol(A){var t=v,w=null!=A.font?A.font.clone():new g;var z=A.haloColor;var k=A.haloSize;z=z&&null!=k&&0<k?new u.Symbol3DHalo({color:b.clone(z),size:k}):null;return new t({font:w,halo:z,horizontalAlignment:A.horizontalAlignment,lineHeight:A.lineHeight,material:A.color?new p.Symbol3DMaterial({color:A.color.clone()}):null,text:A.text,verticalAlignment:A.verticalAlignment,background:A.backgroundColor?new l.Symbol3DTextBackground({color:A.backgroundColor.clone()}):
null})}};a.__decorate([c.property({type:g,json:{write:!0}})],f.prototype,"font",null);a.__decorate([e.writer("font")],f.prototype,"writeFont",null);a.__decorate([c.property({type:u.Symbol3DHalo,json:{write:!0}})],f.prototype,"halo",void 0);a.__decorate([c.property({...m.horizontalAlignmentProperty,json:{default:"center",write:!0}})],f.prototype,"horizontalAlignment",void 0);a.__decorate([c.property({...m.lineHeightProperty,json:{default:1,write:!0}})],f.prototype,"lineHeight",void 0);a.__decorate([c.property({type:p.Symbol3DMaterial,
json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([c.property({type:l.Symbol3DTextBackground,json:{write:!0}})],f.prototype,"background",void 0);a.__decorate([c.property(r.screenSizeProperty)],f.prototype,"size",null);a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"text",void 0);a.__decorate([n.enumeration({Text:"text"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([c.property({...m.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],f.prototype,
"verticalAlignment",void 0);return f=v=a.__decorate([q.subclass("esri.symbols.TextSymbol3DLayer")],f)})},"esri/symbols/Font":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),function(a,b,c,f,d,n,q,e,g){var h;b=h=class extends b{constructor(r){super(r);this.decoration="none";this.family=
"sans-serif";this.size=9;this.weight=this.style="normal"}castSize(r){return c.toPt(r)}clone(){return new h({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};a.__decorate([f.property({type:g.fontDecorations,json:{default:"none",write:!0}})],b.prototype,"decoration",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);
a.__decorate([f.property({type:Number,json:{write:{overridePolicy(r,u,p){return{enabled:!p||!p.textSymbol3D}}}}})],b.prototype,"size",void 0);a.__decorate([d.cast("size")],b.prototype,"castSize",null);a.__decorate([f.property({type:g.fontStyles,json:{default:"normal",write:!0}})],b.prototype,"style",void 0);a.__decorate([f.property({type:g.fontWeights,json:{default:"normal",write:!0}})],b.prototype,"weight",void 0);return b=h=a.__decorate([e.subclass("esri.symbols.Font")],b)})},"esri/symbols/support/textUtils":function(){define(["exports",
"../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,c){const f={type:Number,cast:g=>{g=c.ensureNumber(g);return 0===g?1:b.clamp(g,.1,4)},nonNullable:!0},d=["left","right","center"],n=["baseline","top","middle","bottom"],q={type:d,nonNullable:!0},e={type:n,nonNullable:!0};a.backgroundPadding=8;a.fontDecorations=["none","underline","line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=q;a.horizontalAlignments=
d;a.lineHeightProperty=f;a.verticalAlignmentProperty=e;a.verticalAlignments=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,f,d,n,q,e,g,h){var r;a.Symbol3DHalo=r=class extends f{constructor(){super(...arguments);
this.color=new c([0,0,0,1]);this.size=0}clone(){const u={color:d.clone(this.color),size:this.size};return new r(u)}};b.__decorate([n.property(h.colorAndTransparencyProperty())],a.Symbol3DHalo.prototype,"color",void 0);b.__decorate([n.property(h.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=r=b.__decorate([g.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){a.Symbol3DTextBackground=class extends c.ClonableMixin(f){constructor(r){super(r);this.color=null}};b.__decorate([d.property(h.colorAndTransparencyProperty())],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=b.__decorate([g.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,c,f,d,n,q,e){var g;e=g=class extends e{constructor(r){super(r);this.color=h.clone();this.type="water";this.waterbodySize="medium";this.waveDirection=null;this.waveStrength="moderate"}clone(){return new g({color:c.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};a.__decorate([f.property({type:b,nonNullable:!0,json:{type:[d.Integer],write:(r,u,p)=>u[p]=r.toArray(b.AlphaMode.UNLESS_OPAQUE),default:()=>h.clone(),defaultEquals:r=>
r.toCss(!0)===h.toCss(!0)}})],e.prototype,"color",void 0);a.__decorate([n.enumeration({Water:"water"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([f.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],e.prototype,"waterbodySize",void 0);a.__decorate([f.property({type:Number,json:{write:!0,default:null}})],e.prototype,"waveDirection",void 0);a.__decorate([f.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],e.prototype,
"waveStrength",void 0);a=e=g=a.__decorate([q.subclass("esri.symbols.WaterSymbol3DLayer")],e);const h=new b([0,119,190]);return a})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,c,f,d,n,q,e){var g;b=g=class extends b{constructor(h){super(h);this.portal=this.styleName=
this.styleUrl=this.name=null}clone(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};a.__decorate([c.property({type:String})],b.prototype,"name",void 0);a.__decorate([c.property({type:String})],b.prototype,"styleUrl",void 0);a.__decorate([c.property({type:String})],b.prototype,"styleName",void 0);a.__decorate([c.property({type:e})],b.prototype,"portal",void 0);return b=g=a.__decorate([q.subclass("esri.symbols.support.StyleOrigin")],b)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){var g;a.Thumbnail=g=class extends c{constructor(){super(...arguments);this.url=""}clone(){return new g({url:this.url})}};b.__decorate([f.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=g=b.__decorate([e.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,b,c){function f(d){if(!d)return!1;
d=d.verticalOffset;return!d||0>=d.screenLength||null!=d.maxWorldLength&&0>=d.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:c}},json:{write:!0}};a.hasCalloutSupport=function(d){return"point-3d"===d.type||"label-3d"===d.type};a.hasVisibleCallout=function(d){return d&&d.supportsCallout&&d.supportsCallout()&&d.callout?.visible?f(d)?!0:!1:!1};a.hasVisibleVerticalOffset=f;a.textSymbolLayerSupportsVerticalOffset=function(d){return"center"===d.horizontalAlignment};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.visible=!0}clone(){throw Error("Subclasses of Callout3D should implement their own clone method.");}};a.__decorate([c.property({type:["line"],
constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],b.prototype,"type",void 0);a.__decorate([c.property({readOnly:!0})],b.prototype,"visible",void 0);return b=a.__decorate([q.subclass("esri.symbols.callouts.Callout3D")],b)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u){var p;n=p=class extends h{constructor(l){super(l);this.type="line";this.color=new b([0,0,0,1]);this.size=f.px2pt(1);this.border=null}get visible(){return 0<this.size&&null!=this.color&&0<this.color.a}clone(){return new p({color:c.clone(this.color),size:this.size,border:c.clone(this.border)})}};a.__decorate([e.enumeration({line:"line"})],n.prototype,"type",void 0);a.__decorate([d.property(u.colorAndTransparencyProperty({colorRequiredOnWrite:!0}))],n.prototype,"color",
void 0);a.__decorate([d.property({...u.screenSizeProperty,json:{write:{isRequired:!0}}})],n.prototype,"size",void 0);a.__decorate([d.property({type:r,json:{write:!0}})],n.prototype,"border",void 0);a.__decorate([d.property({readOnly:!0})],n.prototype,"visible",null);return n=p=a.__decorate([g.subclass("esri.symbols.callouts.LineCallout3D")],n)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;c=h=class extends c{constructor(r){super(r);this.color=new b("white")}clone(){return new h({color:f.clone(this.color)})}};a.__decorate([d.property(g.colorAndTransparencyProperty({colorRequiredOnWrite:!0}))],c.prototype,"color",void 0);return c=h=a.__decorate([e.subclass("esri.symbols.callouts.LineCallout3DBorder")],c)})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,d,n,q,e){var g;b=g=class extends b{constructor(h){super(h);this.minWorldLength=this.screenLength=0;this.maxWorldLength=null}clone(){return new g({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};a.__decorate([c.property({...e.screenSizeProperty,json:{write:{isRequired:!0}}})],b.prototype,"screenLength",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],b.prototype,"minWorldLength",void 0);
a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=g=a.__decorate([q.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;const p=b.ofType({base:null,key:"type",typeMap:{line:g,path:h}});d=b.ofType({base:null,key:"type",typeMap:{line:g,path:h}});r=u=class extends r{constructor(l){super(l);this.symbolLayers=new p;this.type="line-3d"}clone(){return new u({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail)})}static fromSimpleLineSymbol(l){return new u({symbolLayers:new b([g.fromSimpleLineSymbol(l)])})}};a.__decorate([f.property({type:p,
json:{type:d}})],r.prototype,"symbolLayers",void 0);a.__decorate([q.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],r.prototype,"type",void 0);return r=u=a.__decorate([e.subclass("esri.symbols.LineSymbol3D")],r)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;const u=b.ofType({base:null,key:"type",typeMap:{fill:g}});d=r=class extends h{constructor(p){super(p);this.symbolLayers=new u;this.type="mesh-3d"}clone(){return new r({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail)})}static fromSimpleFillSymbol(p){return new r({symbolLayers:new b([g.fromSimpleFillSymbol(p)])})}};a.__decorate([f.property({type:u})],d.prototype,"symbolLayers",void 0);a.__decorate([q.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],d.prototype,"type",void 0);return d=r=a.__decorate([e.subclass("esri.symbols.MeshSymbol3D")],d)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,c,f,d,n,q,e,g,h){var r;d=r=class extends g{constructor(...u){super(...u);
this.type="picture-fill";this.url=null;this.yscale=this.xscale=1;this.height=this.width=12;this.yoffset=this.xoffset=0;this.source=null}normalizeCtorArgs(u,p,l,m){if(u&&"string"!==typeof u&&null==u.imageData)return u;const v={};u&&(v.url=u);p&&(v.outline=p);null!=l&&(v.width=c.toPt(l));null!=m&&(v.height=c.toPt(m));return v}clone(){const u=new r({color:b.clone(this.color),height:this.height,outline:b.clone(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});u._set("source",b.clone(this.source));return u}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};a.__decorate([q.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([f.property(h.urlPropertyDefinition)],d.prototype,"url",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"xscale",void 0);a.__decorate([f.property({type:Number,
json:{write:!0}})],d.prototype,"yscale",void 0);a.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);a.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);a.__decorate([f.property(h.sourcePropertyDefinition)],d.prototype,
"source",void 0);return d=r=a.__decorate([e.subclass("esri.symbols.PictureFillSymbol")],d)})},"esri/symbols/FillSymbol":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,c,f,d,n,q,e){c=class extends e{constructor(g){super(g);this.type=this.outline=null}hash(){return`${this.type}.${this.outline?.hash()}`}};a.__decorate([b.property({types:{key:"type",
base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":q}},json:{default:null,write:!0}})],c.prototype,"outline",void 0);a.__decorate([b.property({type:["simple-fill","picture-fill"],readOnly:!0})],c.prototype,"type",void 0);return c=a.__decorate([n.subclass("esri.symbols.FillSymbol")],c)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;b=new b.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});h=u=class extends h{constructor(...p){super(...p);this.type="simple-line";this.style="solid";this.join=
this.cap="round";this.marker=null;this.miterLimit=2}normalizeCtorArgs(p,l,m,v,A,t){if(p&&"string"!==typeof p)return p;const w={};null!=p&&(w.style=p);null!=l&&(w.color=l);null!=m&&(w.width=f.toPt(m));null!=v&&(w.cap=v);null!=A&&(w.join=A);null!=t&&(w.miterLimit=f.toPt(t));return w}clone(){return new u({color:c.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};
a.__decorate([e.enumeration({esriSLS:"simple-line"},{readOnly:!0})],h.prototype,"type",void 0);a.__decorate([d.property({type:b.apiValues,json:{read:b.read,write:b.write}})],h.prototype,"style",void 0);a.__decorate([d.property({type:["butt","round","square"],json:{write:{overridePolicy:(p,l,m)=>({enabled:"round"!==p&&null==m?.origin})}}})],h.prototype,"cap",void 0);a.__decorate([d.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(p,l,m)=>({enabled:"round"!==p&&null==m?.origin})}}})],
h.prototype,"join",void 0);a.__decorate([d.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":r}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],h.prototype,"marker",void 0);a.__decorate([d.property({type:Number,json:{read:!1,write:!1}})],h.prototype,"miterLimit",void 0);return h=u=a.__decorate([g.subclass("esri.symbols.SimpleLineSymbol")],h)})},"esri/symbols/LineSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,f,d,n,q,e,g){f=class extends g{constructor(h){super(h);this.type="simple-line";this.width=.75}hash(){return`${this.type}.${this.width}`}};a.__decorate([q.enumeration({esriSLS:"simple-line"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([c.property({type:Number,cast:b.toPt,json:{write:!0}})],f.prototype,"width",void 0);return f=a.__decorate([e.subclass("esri.symbols.LineSymbol")],f)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u){var p;c=p=class extends c{constructor(l){super(l);this.placement="begin-end";this.type="line-marker";this.style="arrow"}writeStyle(l,m,v,A){m[v]="web-map"===A?.origin?"arrow":l}set color(l){this._set("color",l)}readColor(l){return null!=l?.[0]?[l[0],l[1],l[2],l[3]/255]:l}writeColor(l,m,v,A){"web-map"!==A?.origin&&(m[v]=l)}clone(){return new p({color:f.clone(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};
a.__decorate([d.property({type:["begin","end","begin-end"],json:{write:!0}})],c.prototype,"placement",void 0);a.__decorate([e.enumeration({"line-marker":"line-marker"},{readOnly:!0}),d.property({json:{origins:{"web-map":{write:!1}}}})],c.prototype,"type",void 0);a.__decorate([d.property({type:u.lineMarkerStyles})],c.prototype,"style",void 0);a.__decorate([r.writer("style")],c.prototype,"writeStyle",null);a.__decorate([d.property({type:b,value:null,json:{write:{allowNull:!0}}})],c.prototype,"color",
null);a.__decorate([g.reader("color")],c.prototype,"readColor",null);a.__decorate([r.writer("color")],c.prototype,"writeColor",null);return c=p=a.__decorate([h.subclass("esri.symbols.LineSymbolMarker")],c)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function f(e,g,h){return g.imageData?b.makeData({mediaType:g.contentType||"image/png",isBase64:!0,data:g.imageData}):d(g.url,h)}function d(e,g){if(!b.isAbsolute(e)){if(g){var {origin:h,
layer:r}=g;if("service"!==h&&"portal-item"!==h)var u=null;else u=r?.type,u="feature"===u||"stream"===u?r.parsedUrl?.path:"map-image"===u||"tile"===u?g.url?.path:null}else u=null;if(u)return b.join(u,"images",e)}return c.fromJSON(e,g)}function n(e,g,h,r){if(b.isDataProtocol(e)){if(e=b.dataComponents(e))g.contentType=e.mediaType,g.imageData=e.data,h&&h.imageData===g.imageData&&h.url&&c.write(h.url,g,"url",r)}else c.write(e,g,"url",r)}const q={json:{read:{source:["imageData","url"],reader:f},write:{writer(e,
g,h,r){n(e,g,this.source,r)}}}};a.read=d;a.readImageDataOrUrl=f;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,g,h){e={};g.imageData&&(e.imageData=g.imageData);g.contentType&&(e.contentType=g.contentType);g.url&&(e.url=d(g.url,h));return e}}}};a.urlPropertyDefinition=q;a.writeImageDataAndUrl=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;d=u=class extends h{constructor(...p){super(...p);this.color=null;this.type="picture-marker";this.source=this.url=null;this.width=this.height=12;this.size=null}normalizeCtorArgs(p,l,m){if(p&&"string"!==typeof p&&null==p.imageData)return p;const v={};p&&(v.url=p);null!=l&&(v.width=c.toPt(l));null!=m&&(v.height=c.toPt(m));return v}readHeight(p,l){return l.size||p}readWidth(p,l){return l.size||p}clone(){const p=new u({angle:this.angle,height:this.height,url:this.url,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});p._set("source",b.clone(this.source));return p}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};a.__decorate([f.property({json:{write:!1}})],d.prototype,"color",void 0);a.__decorate([q.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([f.property(r.urlPropertyDefinition)],d.prototype,"url",void 0);a.__decorate([f.property(r.sourcePropertyDefinition)],d.prototype,"source",
void 0);a.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([e.reader("height",["height","size"])],d.prototype,"readHeight",null);a.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([f.property({json:{write:!1}})],d.prototype,"size",void 0);return d=u=a.__decorate([g.subclass("esri.symbols.PictureMarkerSymbol")],d)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,f,d,n,q,e){d=class extends e{constructor(g){super(g);this.angle=0;this.type=null;this.yoffset=this.xoffset=0;this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};a.__decorate([c.property({type:Number,json:{read:g=>g&&-1*g,write:(g,h)=>h.angle=g&&-1*g}})],d.prototype,"angle",void 0);a.__decorate([c.property({type:["simple-marker","picture-marker"],readOnly:!0})],d.prototype,"type",void 0);a.__decorate([c.property({type:Number,cast:b.toPt,
json:{write:!0}})],d.prototype,"xoffset",void 0);a.__decorate([c.property({type:Number,cast:b.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);a.__decorate([c.property({cast:g=>"auto"===g?g:f.ensureNumber(b.toPt(g)),json:{write:!0}})],d.prototype,"size",void 0);return d=a.__decorate([q.subclass("esri.symbols.MarkerSymbol")],d)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/tslib.es6 ../Color ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./callouts/LineCallout3D ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v){var A;const t=c.ofType({base:null,key:"type",typeMap:{icon:h,object:r,text:p}});n=A=class extends u{constructor(w){super(w);this.callout=this.verticalOffset=null;this.symbolLayers=new t;this.type="point-3d"}supportsCallout(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const w of this.symbolLayers.items)switch(w.type){case "icon":case "text":case "object":continue;default:return!1}return!0}hasVisibleCallout(){return l.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return l.hasVisibleVerticalOffset(this)}clone(){return new A({verticalOffset:f.clone(this.verticalOffset),
callout:f.clone(this.callout),styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})}static fromSimpleMarkerSymbol(w){return new A({symbolLayers:new c([h.fromSimpleMarkerSymbol(w)])})}static fromPictureMarkerSymbol(w){return new A({symbolLayers:new c([h.fromPictureMarkerSymbol(w)])})}static fromCIMSymbol(w){return"CIMPointSymbol"!==w.data?.symbol?.type?null:w.data.symbol?.callout?new A({symbolLayers:new c([h.fromCIMSymbol(w)]),callout:new m({size:.5,
color:new b([0,0,0])}),verticalOffset:new v({screenLength:40})}):new A({symbolLayers:new c([h.fromCIMSymbol(w)])})}static fromTextSymbol(w){return new A({symbolLayers:new c([p.fromTextSymbol(w)])})}};a.__decorate([d.property({type:v,json:{write:!0}})],n.prototype,"verticalOffset",void 0);a.__decorate([d.property(l.calloutProperty)],n.prototype,"callout",void 0);a.__decorate([d.property({type:t,json:{origins:{"web-scene":{write:!0}}}})],n.prototype,"symbolLayers",void 0);a.__decorate([e.enumeration({PointSymbol3D:"point-3d"},
{readOnly:!0})],n.prototype,"type",void 0);return n=A=a.__decorate([g.subclass("esri.symbols.PointSymbol3D")],n)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/deprecate ../core/lang ../core/Logger ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t){var w;const z=b.ofType({base:null,key:"type",typeMap:{extrude:r,fill:u,icon:p,line:l,object:m,text:A,water:t}});e=w=class extends v{constructor(k){super(k);this.symbolLayers=new z;this.type="polygon-3d"}initialize(){const k=x=>{"line"===x.type&&c.deprecated(d.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"});"text"===x.type&&
c.deprecated(d.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const x of this.symbolLayers)k(x);this.addHandles(n.on(()=>this.symbolLayers,"after-add",({item:x})=>k(x),n.sync))}clone(){return new w({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})}static fromJSON(k){const x=new w;x.read(k);if(2===x.symbolLayers.length&&
"fill"===x.symbolLayers.at(0).type&&"line"===x.symbolLayers.at(1).type){const y=x.symbolLayers.at(0),B=x.symbolLayers.at(1);!B.enabled||k.symbolLayers?.[1]&&!1===k.symbolLayers[1].enable||(y.outline={size:B.size,color:null!=B.material?B.material.color:null});x.symbolLayers.removeAt(1)}return x}static fromSimpleFillSymbol(k){return new w({symbolLayers:new b([u.fromSimpleFillSymbol(k)])})}};a.__decorate([q.property({type:z,json:{write:!0}})],e.prototype,"symbolLayers",void 0);a.__decorate([g.enumeration({PolygonSymbol3D:"polygon-3d"},
{readOnly:!0})],e.prototype,"type",void 0);return e=w=a.__decorate([h.subclass("esri.symbols.PolygonSymbol3D")],e)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,b,c,f,d,n,q,e,g,h,r){var u;c=new c.JSONMap({esriSFSSolid:"solid",
esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});h=u=class extends h{constructor(...p){super(...p);this.color=new b([0,0,0,.25]);this.outline=new r;this.type="simple-fill";this.style="solid"}normalizeCtorArgs(p,l,m){if(p&&"string"!==typeof p)return p;const v={};p&&(v.style=p);l&&(v.outline=l);m&&(v.color=m);return v}clone(){return new u({color:f.clone(this.color),
outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};a.__decorate([d.property()],h.prototype,"color",void 0);a.__decorate([d.property()],h.prototype,"outline",void 0);a.__decorate([e.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],h.prototype,"type",void 0);a.__decorate([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],h.prototype,"style",void 0);return h=u=a.__decorate([g.subclass("esri.symbols.SimpleFillSymbol")],
h)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u,p){var l;c=new c.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",
esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});u=l=class extends u{constructor(...m){super(...m);this.color=new b([255,255,255,.25]);this.type="simple-marker";this.size=12;this.style="circle";this.outline=new p}normalizeCtorArgs(m,v,A,t){if(m&&"string"!==typeof m)return m;const w={};m&&(w.style=m);null!=v&&(w.size=d.toPt(v));A&&(w.outline=A);t&&(w.color=t);return w}writeColor(m,v){m&&"x"!==this.style&&"cross"!==this.style&&(v.color=m.toJSON());null===m&&(v.color=
null)}set path(m){this.style="path";this._set("path",m)}clone(){return new l({angle:this.angle,color:f.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};a.__decorate([n.property()],u.prototype,"color",void 0);a.__decorate([r.writer("color")],u.prototype,"writeColor",null);a.__decorate([g.enumeration({esriSMS:"simple-marker"},
{readOnly:!0})],u.prototype,"type",void 0);a.__decorate([n.property()],u.prototype,"size",void 0);a.__decorate([n.property({type:c.apiValues,json:{read:c.read,write:c.write}})],u.prototype,"style",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],u.prototype,"path",null);a.__decorate([n.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":p}},json:{default:null,write:!0}})],u.prototype,"outline",void 0);return u=l=a.__decorate([h.subclass("esri.symbols.SimpleMarkerSymbol")],
u)})},"esri/symbols/TextSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u){var p;r=p=class extends r{constructor(...l){super(...l);this.borderLineSize=this.borderLineColor=
this.backgroundColor=null;this.font=new h;this.horizontalAlignment="center";this.kerning=!0;this.rightToLeft=this.haloSize=this.haloColor=null;this.rotated=!1;this.text="";this.type="text";this.verticalAlignment="baseline";this.angle=this.yoffset=this.xoffset=0;this.width=null;this.lineWidth=192;this.lineHeight=1}normalizeCtorArgs(l,m,v){if(l&&"string"!==typeof l)return l;const A={};l&&(A.text=l);m&&(A.font=m);v&&(A.color=v);return A}writeLineWidth(l,m,v,A){A&&"string"!==typeof A||(m[v]=l)}castLineWidth(l){return f.toPt(l)}writeLineHeight(l,
m,v,A){A&&"string"!==typeof A||(m[v]=l)}clone(){return new p({angle:this.angle,backgroundColor:c.clone(this.backgroundColor),borderLineColor:c.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:c.clone(this.color),font:this.font&&this.font.clone(),haloColor:c.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,
verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};
a.__decorate([d.property({type:b,json:{write:!0}})],r.prototype,"backgroundColor",void 0);a.__decorate([d.property({type:b,json:{write:!0}})],r.prototype,"borderLineColor",void 0);a.__decorate([d.property({type:Number,json:{write:!0},cast:f.toPt})],r.prototype,"borderLineSize",void 0);a.__decorate([d.property({type:h,json:{write:!0}})],r.prototype,"font",void 0);a.__decorate([d.property({...u.horizontalAlignmentProperty,json:{write:!0}})],r.prototype,"horizontalAlignment",void 0);a.__decorate([d.property({type:Boolean,
json:{write:!0}})],r.prototype,"kerning",void 0);a.__decorate([d.property({type:b,json:{write:!0}})],r.prototype,"haloColor",void 0);a.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],r.prototype,"haloSize",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],r.prototype,"rightToLeft",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],r.prototype,"rotated",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],r.prototype,"text",void 0);a.__decorate([q.enumeration({esriTS:"text"},
{readOnly:!0})],r.prototype,"type",void 0);a.__decorate([d.property({...u.verticalAlignmentProperty,json:{write:!0}})],r.prototype,"verticalAlignment",void 0);a.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],r.prototype,"xoffset",void 0);a.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],r.prototype,"yoffset",void 0);a.__decorate([d.property({type:Number,json:{read:l=>l&&-1*l,write:(l,m)=>m.angle=l&&-1*l}})],r.prototype,"angle",void 0);a.__decorate([d.property({type:Number,
json:{write:!0}})],r.prototype,"width",void 0);a.__decorate([d.property({type:Number})],r.prototype,"lineWidth",void 0);a.__decorate([g.writer("lineWidth")],r.prototype,"writeLineWidth",null);a.__decorate([n.cast("lineWidth")],r.prototype,"castLineWidth",null);a.__decorate([d.property(u.lineHeightProperty)],r.prototype,"lineHeight",void 0);a.__decorate([g.writer("lineHeight")],r.prototype,"writeLineHeight",null);return r=p=a.__decorate([e.subclass("esri.symbols.TextSymbol")],r)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){var m;q=m=class extends p{constructor(v){super(v);this.name=this.thumbnail=this.styleUrl=this.portal=this.styleName=this.color=null;this.type="web-style"}get _fetchCacheKey(){const v=null!=this.portal?this.portal:r.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${v.user?v.user.username:null}:${v.url}`}read(v,A){this.portal=A?.portal;super.read(v,A)}clone(){return new m({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(v){return this._fetchSymbol({...v,
acceptedFormats:v&&"acceptedFormats"in v?v.acceptedFormats:["web"]})}async fetchCIMSymbol(v){v=await this.fetchSymbol({...v,acceptedFormats:["cim"]});if("cim"!==v?.type)throw new c("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return v}async _fetchSymbol(v){const A=null!=v?v.cache:null,t=A?this._fetchCacheKey:null;if(null!=A){var w=t&&A.get(t);if(w)return w.clone()}({resolveWebStyleSymbol:w}=await new Promise((z,k)=>a(["./support/webStyleSymbolUtils"],z,k)));d.throwIfAborted(v);
v=w(this,{portal:this.portal},v);v.catch(z=>{f.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",z)});v=await v;null!=A&&A.set(t,v.clone());return v}};b.__decorate([n.property({json:{write:!1}})],q.prototype,"color",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],q.prototype,"styleName",void 0);b.__decorate([n.property({type:r,json:{write:!1}})],q.prototype,"portal",void 0);b.__decorate([n.property({type:String,json:{read:u.read,write:u.write}})],q.prototype,
"styleUrl",void 0);b.__decorate([n.property({type:l.Thumbnail,json:{read:!1}})],q.prototype,"thumbnail",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],q.prototype,"name",void 0);b.__decorate([g.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],q.prototype,"type",void 0);b.__decorate([n.property()],q.prototype,"_fetchCacheKey",null);return q=m=b.__decorate([h.subclass("esri.symbols.WebStyleSymbol")],q)})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./connectionRegistry ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,c,f,d,n,q,e,g){function h(w){if(w&&w.__esModule)return w;const z=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(w)for(const k in w)if("default"!==k){const x=Object.getOwnPropertyDescriptor(w,k);Object.defineProperty(z,k,x.get?x:{enumerable:!0,get:()=>w[k]})}z.default=w;return Object.freeze(z)}async function r(w,z){const k=new n,{registryTarget:x,...y}=z;await k.open(w,y);x&&q.register(x,k);return k}async function u(){if(A)return A;t=new AbortController;const w=[];for(let z=
0;z<l;z++){const k=g.create(z).then(x=>v[z]=x);w.push(k)}return A=Promise.all(w)}const p=f("host-browser")?Math.min(navigator.hardwareConcurrency-1,f("workers-pool-size")??8):0;let l=f("esri-mobile")?Math.min(p,3):p;l||=f("safari")&&f("mac")?7:2;let m=0;const v=[];let A=null,t;b.Connection=n;b.RemoteClient=e;b.initialize=function(){u()};b.open=async function(w,z={}){if("string"!==typeof w)throw new c("workers:undefined-module","modulePath is missing");var k=z.strategy||"distributed";f("host-webworker")&&
!f("esri-workers")&&(k="local");if("local"===k){var x=await e.loadWorker(w);x||=await new Promise((y,B)=>a([w],E=>y(h(E)),B));d.throwIfAborted(z.signal);k=z.client||x;x=e.connect(x,z.schedule);return r([x],{...z,client:k})}await u();d.throwIfAborted(z.signal);if("dedicated"===k)return k=m++%l,k=await v[k].open(w,z),r([k],z);if(z.maxNumWorkers&&0<z.maxNumWorkers&&(k=Math.min(z.maxNumWorkers,l),k<l)){x=Array(k);for(let y=0;y<k;++y){const B=m++%l;x[y]=v[B].open(w,z)}return r(x,z)}k=v.map(y=>y.open(w,
z));return r(k,z)};b.openWithPorts=function(w,z){return r(w,{client:z})};b.terminate=function(){A&&(t.abort(),A=null);for(let w=0;w<v.length;w++)v[w]&&v[w].terminate();v.length=0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/Connection":function(){define("../handleUtils ../has ../promiseUtils ../Queue ./connectionRegistry ./InvokeHandler ./RemoteClient".split(" "),function(a,b,c,f,d,n,q){class e{constructor(){this._inUseClients=[];this._clients=[];this._clientPromises=
[];this._ongoingJobsQueue=new f}destroy(){this.close()}get closed(){return!this._clients?.length}open(g,h){return new Promise((r,u)=>{let p=!0;const l=m=>{c.throwIfAborted(h.signal);p&&(p=!1,m())};this._clients.length=g.length;this._clientPromises.length=g.length;this._inUseClients.length=g.length;for(let m=0;m<g.length;++m){const v=g[m];c.isPromiseLike(v)?this._clientPromises[m]=v.then(A=>{this._clients[m]=new q(A,h,this._ongoingJobsQueue);l(r);return this._clients[m]},()=>{l(u);return null}):(this._clients[m]=
new q(v,h,this._ongoingJobsQueue),this._clientPromises[m]=Promise.resolve(this._clients[m]),l(r))}})}broadcast(g,h,r){const u=Array(this._clientPromises.length);for(let p=0;p<this._clientPromises.length;++p)u[p]=this._clientPromises[p].then(l=>l?.invoke(g,h,r));return u}close(){let g;for(;g=this._ongoingJobsQueue.pop();)g.resolver.reject(c.createAbortError(`Worker closing, aborting job calling '${g.methodName}'`));for(const h of this._clientPromises)h.then(r=>r?.close());this._clients.length=0;this._clientPromises.length=
0;this._inUseClients.length=0;d.unregister(this)}invoke(g,h,r){return this.apply(g,[h],r)}apply(g,h,r){const u=c.createResolver();this._ongoingJobsQueue.push({methodName:g,data:h,invokeOptions:r,resolver:u});for(g=0;g<this._clientPromises.length;g++)(h=this._clients[g])?h.jobAdded():this._clientPromises[g].then(p=>p?.jobAdded());return u.promise}createInvokeProxy(g){return n.createInvokeProxy(this,g)}on(g,h){return Promise.all(this._clientPromises).then(()=>a.handlesGroup(this._clients.map(r=>r.on(g,
h))))}openPorts(){return new Promise(g=>{const h=Array(this._clientPromises.length);let r=h.length;for(let u=0;u<this._clientPromises.length;++u)this._clientPromises[u].then(p=>{p&&(h[u]=p.openPort());0===--r&&g(h)})})}get test(){}}return e})},"esri/core/Queue":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class c{constructor(f=d=>d.values().next().value){this._peeker=f;this._observable=new b.SimpleObservable;this._items=new Set}get length(){a.trackAccess(this._observable);
return this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0!==this.length){for(var f of this._items);return f}}peek(){if(0!==this.length)return this._peeker(this._items)}push(f){this.contains(f)||(this._items.add(f),this._observable.notify())}contains(f){a.trackAccess(this._observable);return this._items.has(f)}pop(){if(0!==this.length){var f=this.peek();this._items.delete(f);this._observable.notify();return f}}popLast(){if(0!==this.length){var f=this.last();
this._items.delete(f);this._observable.notify();return f}}remove(f){this.contains(f)&&(this._items.delete(f),this._observable.notify())}filter(f){const d=this.length;this._items.forEach(n=>{f(n)||this._items.delete(n)});d!==this._items.size&&this._observable.notify();return this}*[Symbol.iterator](){a.trackAccess(this._observable);yield*this._items}}return c})},"esri/core/workers/connectionRegistry":function(){define(["exports"],function(a){const b=new FinalizationRegistry(c=>{c.close()});a.register=
function(c,f){b.register(c,f,f)};a.unregister=function(c){b.unregister(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/InvokeHandler":function(){define(["exports"],function(a){a.createInvokeProxy=function(b,c){return new Proxy({},{get(f,d,n){return(...q)=>{let e,g;const h=q[q.length-1];"object"===typeof h&&!Array.isArray(h)&&null!=h&&("signal"in h||"transferList"in h||0===Object.keys(h).length)&&(e=h.signal,g=h.transferList,q.pop());return b.apply(c?`${c}.${d.toString()}`:
d.toString(),q,{transferList:g,signal:e})}}})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/RemoteClient":function(){define("../../kernel ../Error ../events ../handleUtils ../maybe ../promiseUtils ./InvokeHandler ./registry ./utils ../../support/revision".split(" "),function(a,b,c,f,d,n,q,e,g,h){const {CLOSE:r,ABORT:u,INVOKE:p,RESPONSE:l,OPEN_PORT:m,ON:v}=g.MessageType;class A{constructor(w){this._invoke=w;this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=
[];this._timer=null;this._process=this._process.bind(this)}push(w){w.type===g.MessageType.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null}_process(){this._timer=null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear();this._invokeMessages.length=0}}class t{static connect(w,
z){const k=new MessageChannel;w="function"===typeof w?new w:"default"in w&&"function"===typeof w.default?new w.default:w;z=new t(k.port1,{channel:k,client:w,schedule:z});"object"===typeof w&&"remoteClient"in w&&(w.remoteClient=z);t.clients.set(z,w);return k.port2}static loadWorker(w){return(w=e.registry[w])?w():Promise.resolve(null)}constructor(w,z,k){this._port=w;this._jobQueue=k;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new A(x=>this._onInvokeMessage(x));this._client=z.client;
this._onMessage=this._onMessage.bind(this);this._channel=z.channel;this._schedule=z.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}close(){this._post({type:r});this._close()}isBusy(){return 0<this._outJobs.size}invoke(w,z,k){return this.apply(w,[z],k)}apply(w,z,k){const x=k?.signal,y=k?.transferList;if(!this._port)return Promise.reject(new b(g.portClosedErrorName,`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:z}));const B=g.newJobId();return new Promise((E,
J)=>{if(n.isAborted(x))this._processWork(),J(n.createAbortError());else{var K=n.onAbort(x,()=>{const H=this._outJobs.get(B);H&&(this._outJobs.delete(B),this._processWork(),d.removeMaybe(H.abortHandle),this._post({type:u,jobId:B}),J(n.createAbortError()))});this._outJobs.set(B,{resolve:E,reject:J,abortHandle:K,debugInfo:w});this._post({type:p,jobId:B,methodName:w,abortable:null!=x},z,y)}})}createInvokeProxy(w){return q.createInvokeProxy(this,w)}on(w,z){function k(y){z(y.data)}const x=new MessageChannel;
this._port.postMessage({type:g.MessageType.ON,eventType:w,port:x.port2},[x.port2]);x.port1.addEventListener("message",k);x.port1.start();return f.makeHandle(()=>{x.port1.postMessage({type:g.MessageType.CLOSE});x.port1.close();x.port1.removeEventListener("message",k)})}jobAdded(){this._processWork()}openPort(){const w=new MessageChannel;this._post({type:m,port:w.port2});return w.port1}_processWork(){if(!(2<=this._outJobs.size)){var w=this._jobQueue?.pop();if(w){var {methodName:z,data:k,invokeOptions:x,
resolver:y}=w;this.apply(z,k,x).then(B=>y.resolve(B)).catch(B=>y.reject(B))}}}_close(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(w=>{d.removeMaybe(w.abortHandle);w.reject(n.createAbortError(`Worker closing, aborting job calling '${w.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null}_onMessage(w){null!=this._schedule?this._schedule(()=>
this._processMessage(w,!0)):this._processMessage(w,!1)}_processMessage(w,z){if(w=g.receiveMessage(w))switch(w.type){case l:this._onResponseMessage(w);break;case p:z?this._onInvokeMessage(w):this._invokeQueue.push(w);break;case u:this._onAbortMessage(w);break;case r:this._onCloseMessage();break;case m:this._onOpenPortMessage(w);break;case v:this._onOnMessage(w)}}_onAbortMessage(w){const z=this._inJobs,k=w.jobId,x=z.get(k);this._invokeQueue.push(w);x&&(x.controller&&x.controller.abort(),z.delete(k))}_onCloseMessage(){const w=
this._client;this._close();w&&"destroy"in w&&t.clients.get(this)===w&&w.destroy();t.clients.delete(this);w?.remoteClient&&(w.remoteClient=null)}_onInvokeMessage(w){const {methodName:z,jobId:k,data:x=[],abortable:y}=w;w=y?new AbortController:null;const B=this._inJobs;let E=this._client,J=E[z],K;try{if(!J&&z&&z.includes(".")){const H=z.split(".");for(let F=0;F<H.length-1;F++)E=E[H[F]],J=E[H[F+1]]}if("function"!==typeof J)throw new TypeError(`${z} is not a function`);x.push({client:this,signal:w?w.signal:
null});K=J.apply(E,x)}catch(H){this._post({type:l,jobId:k,error:g.toInvokeError(H)});return}n.isPromiseLike(K)?(B.set(k,{controller:w,promise:K}),K.then(H=>{B.has(k)&&(B.delete(k),this._post({type:l,jobId:k},H))},H=>{B.has(k)&&(B.delete(k),n.isAbortError(H)||this._post({type:l,jobId:k,error:g.toInvokeError(H||{message:`Error encountered at method ${z}`})}))})):this._post({type:l,jobId:k},K)}_onOpenPortMessage(w){new t(w.port,{client:this._client})}_onOnMessage(w){const {port:z}=w,k=this._client.on(w.eventType,
y=>{z.postMessage(y)}),x=c.on(w.port,"message",y=>{g.receiveMessage(y)?.type===g.MessageType.CLOSE&&(x.remove(),k.remove(),z.close())})}_onResponseMessage(w){const {jobId:z,error:k,data:x}=w;w=this._outJobs;if(w.has(z)){var y=w.get(z);w.delete(z);this._processWork();d.removeMaybe(y.abortHandle);k?y.reject(b.fromJSON(JSON.parse(k))):y.resolve(x)}}_post(w,z,k){return g.postMessage(this._port,w,z,k)}}t.kernelInfo={buildDate:h.buildDate,fullVersion:a.fullVersion,revision:h.commitHash};t.clients=new Map;
return t})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const c=f=>Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>new Promise((f,d)=>a(["../../smartMapping/statistics/support/statsWorker"],f,d)),geometryEngineWorker:()=>new Promise((f,d)=>a(["../../geometry/geometryEngineWorker"],f,d)),arcadeGeometryOperatorsWorker:()=>new Promise((f,d)=>a(["../../arcade/geometry/operatorsWorker"],
f,d)),CSVSourceWorker:()=>new Promise((f,d)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],n=>f(c(n)),d)),EdgeProcessingWorker:()=>new Promise((f,d)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],n=>f(c(n)),d)),ElevationSamplerWorker:()=>new Promise((f,d)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],n=>f(c(n)),d)),FeatureServiceSnappingSourceWorker:()=>new Promise((f,d)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],
n=>f(c(n)),d)),GeoJSONSourceWorker:()=>new Promise((f,d)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],n=>f(c(n)),d)),LercWorker:()=>new Promise((f,d)=>a(["../../layers/support/LercWorker"],n=>f(c(n)),d)),MemorySourceWorker:()=>new Promise((f,d)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],n=>f(c(n)),d)),PBFDecoderWorker:()=>new Promise((f,d)=>a(["../../views/3d/support/PBFDecoderWorker"],n=>f(c(n)),d)),FeaturePipelineWorker:()=>new Promise((f,d)=>a(["../../views/2d/layers/features/FeaturePipelineWorker"],
n=>f(c(n)),d)),PointCloudWorker:()=>new Promise((f,d)=>a(["../../views/3d/layers/PointCloudWorker"],n=>f(c(n)),d)),RasterWorker:()=>new Promise((f,d)=>a(["../../layers/support/RasterWorker"],n=>f(c(n)),d)),SceneLayerSnappingSourceWorker:()=>new Promise((f,d)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],n=>f(c(n)),d)),SceneLayerWorker:()=>new Promise((f,d)=>a(["../../views/3d/layers/SceneLayerWorker"],f,d)),WFSSourceWorker:()=>new Promise((f,
d)=>a(["../../layers/graphics/sources/WFSSourceWorker"],n=>f(c(n)),d)),WorkerTileHandler:()=>new Promise((f,d)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],n=>f(c(n)),d)),Lyr3DWorker:()=>new Promise((f,d)=>a(["../../views/3d/layers/Lyr3DWorker"],f,d)),Feature3DPipelineWorker:()=>new Promise((f,d)=>a(["../../views/3d/layers/graphics/pipeline/Feature3DPipelineWorker"],n=>f(c(n)),d)),TextureCompressionWorker:()=>new Promise((f,d)=>a(["../../views/3d/webgl-engine/lib/TextureCompressionWorker"],
f,d))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has","../promiseUtils"],function(a,b,c){function f(g){return g&&"object"===typeof g&&("result"in g||"transferList"in g)}function d(g){return g?"string"===typeof g?JSON.stringify({name:"message",message:g}):g.toJSON?JSON.stringify(g):JSON.stringify({name:g.name,message:g.message,details:g.details||{stack:g.stack}}):null}function n(g,h,r,u){if(h.type===a.MessageType.OPEN_PORT)g.postMessage(h,
[h.port]);else if(h.type!==a.MessageType.INVOKE&&h.type!==a.MessageType.RESPONSE)g.postMessage(h);else if(f(r)?(u=q(r.transferList),h.data=r.result):(u=q(u),h.data=r),u){if(b("ff"))for(const p of u)if("byteLength"in p&&267386880<p.byteLength)switch(h.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";case a.MessageType.RESPONSE:n(g,{type:a.MessageType.RESPONSE,jobId:h.jobId,error:d("Worker call with large ArrayBuffer would crash Firefox")});return}g.postMessage(h,
u)}else g.postMessage(h)}function q(g){if(!g?.length)return null;if(b("esri-workers-arraybuffer-transfer"))return g;g=g.filter(h=>!(h instanceof ArrayBuffer||"ArrayBuffer"===h?.constructor?.name));return g.length?g:null}a.MessageType=void 0;(function(g){g[g.HANDSHAKE=0]="HANDSHAKE";g[g.OPEN=1]="OPEN";g[g.OPENED=2]="OPENED";g[g.RESPONSE=3]="RESPONSE";g[g.INVOKE=4]="INVOKE";g[g.ABORT=5]="ABORT";g[g.CLOSE=6]="CLOSE";g[g.OPEN_PORT=7]="OPEN_PORT";g[g.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let e=
0;a.ignoreConnectionErrors=async function(g){try{return await g}catch(h){if(g="worker:port-closed"===h?.name,!c.isAbortError(h)&&!g)throw h;}};a.isTransferrableResult=f;a.newJobId=function(){return e++};a.portClosedErrorName="worker:port-closed";a.postMessage=n;a.receiveMessage=function(g){return g?(g=g.data)?"string"===typeof g?JSON.parse(g):g:null:null};a.toInvokeError=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../Error ../Logger ../maybe ../promiseUtils ./staticWorkerMessages ./utils ./workerFactory".split(" "),
function(a,b,c,f,d,n,q){const {ABORT:e,INVOKE:g,OPEN:h,OPENED:r,RESPONSE:u}=n.MessageType;class p{static async create(l){const m=await q.createWorker();return new p(m,l)}constructor(l,m){this._outJobs=new Map;this._inJobs=new Map;this.worker=l;this.id=m;l.addEventListener("message",this._onMessage.bind(this));l.addEventListener("error",v=>{v.preventDefault();b.getLogger("esri.core.workers.WorkerOwner").error(v)})}terminate(){this.worker.terminate()}async open(l,m={}){const {signal:v}=m,A=n.newJobId();
return new Promise((t,w)=>{const z=f.onAbortOrThrow(v,()=>{this._outJobs.delete(A);this._post({type:e,jobId:A})});this._outJobs.set(A,{resolve:t,reject:w,abortHandle:z});this._post({type:h,jobId:A,modulePath:l})})}_onMessage(l){if(l=n.receiveMessage(l))switch(l.type){case r:this._onOpenedMessage(l);break;case u:this._onResponseMessage(l);break;case e:this._onAbortMessage(l);break;case g:this._onInvokeMessage(l)}}_onAbortMessage(l){const m=this._inJobs;l=l.jobId;const v=m.get(l);v&&(v.controller&&
v.controller.abort(),m.delete(l))}_onInvokeMessage(l){const {methodName:m,jobId:v,data:A,abortable:t}=l;l=t?new AbortController:null;const w=this._inJobs,z=d.staticWorkerMessages[m];let k;try{if("function"!==typeof z)throw new TypeError(`${m} is not a function`);k=z.call(null,A,{signal:l?l.signal:null})}catch(x){this._post({type:u,jobId:v,error:n.toInvokeError(x)});return}f.isPromiseLike(k)?(w.set(v,{controller:l,promise:k}),k.then(x=>{w.has(v)&&(w.delete(v),this._post({type:u,jobId:v},x))},x=>{w.has(v)&&
(w.delete(v),x||={message:"Error encountered at method"+m},f.isAbortError(x)||this._post({type:u,jobId:v,error:n.toInvokeError(x||{message:`Error encountered at method ${m}`})}))})):this._post({type:u,jobId:v},k)}_onOpenedMessage(l){const {jobId:m,data:v}=l;if(l=this._outJobs.get(m))this._outJobs.delete(m),c.removeMaybe(l.abortHandle),l.resolve(v)}_onResponseMessage(l){const {jobId:m,error:v,data:A}=l;if(l=this._outJobs.get(m))this._outJobs.delete(m),c.removeMaybe(l.abortHandle),v?l.reject(a.fromJSON(JSON.parse(v))):
l.resolve(A)}_post(l,m,v){return n.postMessage(this.worker,l,m,v)}}return p})},"esri/core/workers/staticWorkerMessages":function(){define(["exports","../../request","../urlUtils"],function(a,b,c){a.staticWorkerMessages={async request(f,d){const n=f.options,q=n.responseType;n.signal=d?.signal;n.responseType="native"===q||"native-request-init"===q?"native-request-init":q&&["blob","json","text"].includes(q)&&c.getInterceptor(f.url)?.after?q:"array-buffer";f=await b(f.url,n);d={data:f.data,httpStatus:f.httpStatus,
ssl:f.ssl};switch(f.requestOptions?.responseType){case "native-request-init":return delete d.data.signal,d;case "blob":d.data=await d.data.arrayBuffer();break;case "json":d.data=(new TextEncoder).encode(JSON.stringify(d.data)).buffer;break;case "text":d.data=(new TextEncoder).encode(d.data).buffer}return{result:d,transferList:[d.data]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workerFactory":function(){define("exports ../../config ../../request ../Error ../Logger ../urlUtils ../../intl ../../kernel ../has ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){async function m(k){return new Promise(x=>{function y(E){(E=r.receiveMessage(E))&&E.type===A&&(k.removeEventListener("message",y),k.removeEventListener("error",B),x(k))}function B(E){E.preventDefault();k.removeEventListener("message",y);k.removeEventListener("error",B);v().warn("Failed to create Worker. Fallback to execute module in main thread",E);k=new u;k.addEventListener("message",y);k.addEventListener("error",B)}k.addEventListener("message",y);k.addEventListener("error",
B)})}const v=()=>d.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:A}=r.MessageType;let t,w,z=0;a.createWorker=async function(){if(!g("esri-workers"))return m(new u);if(!t&&!w)try{var k=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3d",';self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;let s\x3dnull;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());s\x3d()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})})).finally((()\x3d\x3e{t\x26\x26t.removeEventListener("abort",s)}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,fullVersion:r}\x3dconfiguration.kernelInfo,{revision:t,fullVersion:n,version:s}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s\x3doutgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
x=k.join;let E;if(null!=b["default"]){const F={...b};delete F["default"];E=JSON.parse(JSON.stringify(F))}else E=JSON.parse(JSON.stringify(b));E.assetsPath=n.makeAbsolute(E.assetsPath);E.defaultAssetsPath=E.defaultAssetsPath?n.makeAbsolute(E.defaultAssetsPath):void 0;E.request.interceptors=[];E.log.interceptors=[];E.locale=p.getLocale();E.has={"esri-csp-restrictions":g("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":g("esri-2d-update-debug"),"esri-2d-log-updating":g("esri-2d-log-updating"),
"featurelayer-pbf":g("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":g("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":g("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":g("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":g("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":g("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":g("featurelayer-query-pausing-enabled"),
"featurelayer-snapshot-enabled":g("featurelayer-snapshot-enabled"),"esri-atomics":g("esri-atomics"),"esri-shared-array-buffer":g("esri-shared-array-buffer"),"esri-tiles-debug":g("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":g("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":g("feature-polyline-generalization-factor"),"host-webworker":1};E.workers.loaderUrl?E.workers.loaderUrl=n.makeAbsolute(E.workers.loaderUrl):h.defaultLoaderUrl&&(E.workers.loaderUrl=h.defaultLoaderUrl);
E.workers.workerPath=E.workers.workerPath?n.makeAbsolute(E.workers.workerPath):"esri/core/workers/RemoteClient";E.workers.useDynamicImport=!1;const J=b.workers.loaderConfig,K=h.loaderConfig({baseUrl:J?.baseUrl,locale:p.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...J?.has},map:{...J?.map},paths:{...J?.paths},packages:J?.packages||[]});var y=JSON.stringify({esriConfig:E,loaderConfig:K,kernelInfo:{buildDate:l.buildDate,fullVersion:e.fullVersion,revision:l.commitHash}});
const H=x.call(k,y);t=URL.createObjectURL(new Blob([H],{type:"text/javascript"}))}catch(E){w=E||{}}let B;if(t)try{B=new Worker(t,{name:`esri-worker-${z++}`})}catch(E){v().warn("Failed to create Worker. Fallback to execute module in main thread",w),B=new u}else v().warn("Failed to create Worker. Fallback to execute module in main thread",w),B=new u;return m(B)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets",
"../has","../urlUtils"],function(a,b,c,f){a.defaultLoaderUrl=null;a.defaultLoaderUrl=f.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));const d={};d.baseUrl=f.makeAbsolute(b.getAssetUrl("dojo/"));d.packages=[{name:"esri",location:"../esri"}];a.loaderConfig=function(n){const q={async:n.async,isDebug:n.isDebug,locale:n.locale,baseUrl:n.baseUrl,has:{...n.has},map:{...n.map},packages:n.packages?.slice()||[],paths:{...d.paths,...n.paths}};n.hasOwnProperty("async")||(q.async=!0);n.hasOwnProperty("isDebug")||
(q.isDebug=!1);n.baseUrl||(q.baseUrl=d.baseUrl);d.packages?.forEach(e=>{a:{var g=q.packages??[];for(const h of g)if(h.name===e.name)break a;g.push(e)}});return q};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../nextTick","./RemoteClient","./utils"],function(a,b,c,f){function d(e){if(e&&e.__esModule)return e;const g=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const h in e)if("default"!==h){const r=
Object.getOwnPropertyDescriptor(e,h);Object.defineProperty(g,h,r.get?r:{enumerable:!0,get:()=>e[h]})}g.default=e;return Object.freeze(g)}class n{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(g=>{this[g]=(...h)=>e[g](...h)})}}class q{constructor(){this._dispatcher=new n;this._workerPostMessage({type:f.MessageType.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&
this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=e)&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=e)&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);
(this._onerrorHandler=e)&&this.addEventListener("error",e)}postMessage(e){b.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,g,h){this._dispatcher.addEventListener(e,g,h)}removeEventListener(e,g,h){this._dispatcher.removeEventListener(e,g,h)}_workerPostMessage(e){b.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){if((e=f.receiveMessage(e))&&
e.type===f.MessageType.OPEN){const {modulePath:g,jobId:h}=e;(e=await c.loadWorker(g))||(e=await new Promise((r,u)=>a([g],p=>r(d(p)),u)));e=c.connect(e);this._workerPostMessage({type:f.MessageType.OPENED,jobId:h,data:e})}}}return q})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,c){function f(n,q,e){if(null==n.hasM||n.hasZ)for(const g of q)for(const h of g)2<h.length&&(h[2]*=e)}function d(n,
q,e){if(n)for(const h of n){n=h.geometry;var g=e;if(n?.spatialReference&&!c.equals(n.spatialReference,q)&&(g=b.getMetersPerVerticalUnitForSR(n.spatialReference)/g,1!==g))if("x"in n)null!=n.z&&(n.z*=g);else if("rings"in n)f(n,n.rings,g);else if("paths"in n)f(n,n.paths,g);else if("points"in n&&(null==n.hasM||n.hasZ))for(const r of n.points)2<r.length&&(r[2]*=g)}}a.unapplyEditsZUnitScaling=function(n,q,e){if((n||q)&&e){var g=b.getMetersPerVerticalUnitForSR(e);d(n,e,g);d(q,e,g)}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../geometry/support/zscale"],function(a,b){a.applyFeatureSetZUnitScaling=function(c,f,d){if(d?.features&&d.hasZ&&(c=b.getGeometryZScaler(d.geometryType,f,c.outSpatialReference),null!=c))for(const n of d.features)c(n.geometry)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/tslib.es6 ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../geometry/support/typeUtils ../../layers/support/Field".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){var v;const A=new c.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});c=v=class extends f{constructor(t){super(t);this.displayFieldName=null;this.exceededTransferLimit=!1;this.features=[];this.geometryType=this.fields=null;this.hasZ=this.hasM=!1;this.spatialReference=this.queryGeometry=null}readFeatures(t,w){return this.readFeaturesWithClass(t,
w,b)}writeGeometryType(t,w,z,k){if(t)A.write(t,w,z,k);else if({features:t}=this,t)for(const x of t)if(null!=x?.geometry){A.write(x.geometry.type,w,z,k);break}}readQueryGeometry(t,w){if(!t)return null;const z=!!t.spatialReference;(t=p.fromJSON(t))&&!z&&w.spatialReference&&(t.spatialReference=u.fromJSON(w.spatialReference));return t}writeSpatialReference(t,w){if(t)w.spatialReference=t.toJSON();else if({features:t}=this,t)for(const z of t)if(z&&null!=z.geometry&&z.geometry.spatialReference){w.spatialReference=
z.geometry.spatialReference.toJSON();break}}clone(){return new v(this.cloneProperties())}cloneProperties(){return d.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){const w=this.write();if(w.features&&Array.isArray(t)&&0<t.length)for(let z=0;z<
w.features.length;z++){const k=w.features[z];k.geometry&&(k.geometry=t?.[z]?.toJSON()||k.geometry)}return w}quantize(t){const {scale:[w,z],translate:[k,x]}=t,y=this.features,B=this._getQuantizationFunction(this.geometryType,E=>Math.round((E-k)/w),E=>Math.round((x-E)/z));for(let E=0,J=y.length;E<J;E++)B?.(y[E].geometry)||(y.splice(E,1),E--,J--);this.transform=t;return this}unquantize(){const {geometryType:t,features:w,transform:z}=this;if(!z)return this;const {translate:[k,x],scale:[y,B]}=z;var E=
null;let J=null;if(this.hasZ&&null!=z?.scale?.[2]){const {translate:[,,K],scale:[,,H]}=z;E=F=>F*H+K}if(this.hasM&&null!=z?.scale?.[3]){const {translate:[,,,K],scale:[,,,H]}=z;J=F=>null==F?F:F*H+K}E=this._getHydrationFunction(t,K=>K*y+k,K=>x-K*B,E,J);for(const {geometry:K}of w)null!=K&&E&&E(K);this.transform=null;return this}readFeaturesWithClass(t,w,z){w=u.fromJSON(w.spatialReference);const k=[];for(let B=0;B<t.length;B++){var x=t[B];const E=z.fromJSON(x);var y=x.geometry?.spatialReference;null==
E.geometry||y||(E.geometry.spatialReference=w);x=x.aggregateGeometries;y=E.aggregateGeometries;if(x&&null!=y)for(const J in y){const K=y[J],H=x[J]?.spatialReference;null==K||H||(K.spatialReference=w)}k.push(E)}return k}_quantizePoints(t,w,z){let k,x;const y=[];for(let E=0,J=t.length;E<J;E++){var B=t[E];if(0<E){const K=w(B[0]);B=z(B[1]);if(K!==k||B!==x)y.push([K-k,B-x]),k=K,x=B}else k=w(B[0]),x=z(B[1]),y.push([k,x])}return 0<y.length?y:null}_getQuantizationFunction(t,w,z){return"point"===t?k=>{k.x=
w(k.x);k.y=z(k.y);return k}:"polyline"===t||"polygon"===t?k=>{const x=p.isPolygon(k)?k.rings:k.paths,y=[];for(let B=0,E=x.length;B<E;B++){const J=this._quantizePoints(x[B],w,z);J&&y.push(J)}return 0<y.length?(p.isPolygon(k)?k.rings=y:k.paths=y,k):null}:"multipoint"===t?k=>{const x=this._quantizePoints(k.points,w,z);return x&&0<x.length?(k.points=x,k):null}:"extent"===t?k=>k:null}_getHydrationFunction(t,w,z,k,x){return"point"===t?y=>{y.x=w(y.x);y.y=z(y.y);k&&(y.z=k(y.z))}:"polyline"===t||"polygon"===
t?y=>{y=p.isPolygon(y)?y.rings:y.paths;for(let J=0,K=y.length;J<K;J++){const H=y[J];for(let F=0,N=H.length;F<N;F++){const S=H[F];if(0<F)B+=S[0],E+=S[1];else{var B=S[0];var E=S[1]}S[0]=w(B);S[1]=z(E)}}if(k&&x)for(let J=0,K=y.length;J<K;J++){B=y[J];for(let H=0,F=B.length;H<F;H++)E=B[H],E[2]=k(E[2]),E[3]=x(E[3])}else if(k)for(let J=0,K=y.length;J<K;J++){B=y[J];for(let H=0,F=B.length;H<F;H++)E=B[H],E[2]=k(E[2])}else if(x)for(let J=0,K=y.length;J<K;J++){B=y[J];for(let H=0,F=B.length;H<F;H++)E=B[H],E[2]=
x(E[2])}}:"extent"===t?y=>{y.xmin=w(y.xmin);y.ymin=z(y.ymin);y.xmax=w(y.xmax);y.ymax=z(y.ymax);k&&null!=y.zmax&&null!=y.zmin&&(y.zmax=k(y.zmax),y.zmin=k(y.zmin));x&&null!=y.mmax&&null!=y.mmin&&(y.mmax=x(y.mmax),y.mmin=x(y.mmin))}:"multipoint"===t?y=>{y=y.points;let B;for(let J=0,K=y.length;J<K;J++){const H=y[J];if(0<J)E+=H[0],B+=H[1];else{var E=H[0];B=H[1]}H[0]=w(E);H[1]=z(B)}if(k&&x)for(let J=0,K=y.length;J<K;J++)E=y[J],E[2]=k(E[2]),E[3]=x(E[3]);else if(k)for(let J=0,K=y.length;J<K;J++)E=y[J],E[2]=
k(E[2]);else if(x)for(let J=0,K=y.length;J<K;J++)E=y[J],E[2]=x(E[2])}:null}};a.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"displayFieldName",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(t){return{enabled:t}}}}})],c.prototype,"exceededTransferLimit",void 0);a.__decorate([n.property({type:[b],json:{write:!0}})],c.prototype,"features",void 0);a.__decorate([g.reader("features")],c.prototype,"readFeatures",null);a.__decorate([n.property({type:[m],json:{write:!0}})],
c.prototype,"fields",void 0);a.__decorate([n.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:A.read}}})],c.prototype,"geometryType",void 0);a.__decorate([r.writer("geometryType")],c.prototype,"writeGeometryType",null);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(t){return{enabled:t}}}}})],c.prototype,"hasM",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(t){return{enabled:t}}}}})],c.prototype,"hasZ",void 0);
a.__decorate([n.property({types:l.geometryTypes,json:{write:!0}})],c.prototype,"queryGeometry",void 0);a.__decorate([g.reader("queryGeometry")],c.prototype,"readQueryGeometry",null);a.__decorate([n.property({type:u,json:{write:!0}})],c.prototype,"spatialReference",void 0);a.__decorate([r.writer("spatialReference")],c.prototype,"writeSpatialReference",null);a.__decorate([n.property({json:{write:!0}})],c.prototype,"transform",void 0);c=v=a.__decorate([h.subclass("esri.rest.support.FeatureSet")],c);
c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u){var p;const l=
new b.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});b=p=class extends c{constructor(m){super(m);this.alias=null;this.defaultValue=void 0;this.domain=this.description=
null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(m,{description:v}){m=null;try{m=v?JSON.parse(v):null}catch(A){}return m?.value??null}readValueType(m,{description:v}){m=null;try{m=v?JSON.parse(v):null}catch(A){}return m?l.fromJSON(m.fieldValueType):null}clone(){return new p({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,
name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([f.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);a.__decorate([f.property()],b.prototype,"description",void 0);a.__decorate([g.reader("description")],b.prototype,"readDescription",null);a.__decorate([f.property({types:r.types,json:{read:{reader:r.fromJSON},
write:!0}})],b.prototype,"domain",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);a.__decorate([f.property({type:d.Integer,json:{write:{overridePolicy(m){return{enabled:Number.isFinite(m)}}}}})],b.prototype,"length",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);a.__decorate([e.enumeration(u.kebabDict)],b.prototype,"type",
void 0);a.__decorate([f.property()],b.prototype,"valueType",void 0);a.__decorate([g.reader("valueType",["description"])],b.prototype,"readValueType",null);a.__decorate([f.property({type:Boolean,json:{read:!1}})],b.prototype,"visible",void 0);return b=p=a.__decorate([h.subclass("esri.layers.support.Field")],b)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",
esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});a.kebabDict=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){a.APIKeyMixin=e=>{e=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(g){null!=g?this._override("apiKey",
g):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};b.__decorate([c.property({type:String})],e.prototype,"apiKey",null);return e=b.__decorate([q.subclass("esri.layers.mixins.APIKeyMixin")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,c,f,d,n,q,e){a.ArcGISService=g=>{g=class extends g{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const h=e.parse(this.url);if(h?.title)return h.title}return this._get("title")||""}set title(h){this._set("title",h)}set url(h){this._set("url",e.sanitizeUrl(h,c.getLogger(this)))}};b.__decorate([f.property()],g.prototype,"title",null);b.__decorate([f.property({type:String})],g.prototype,"url",null);return g=b.__decorate([q.subclass("esri.layers.mixins.ArcGISService")],
g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ../effects/jsonUtils".split(" "),function(a,b,c,f,d,n,q,e,g){const h={type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:e.excludeTables}},"portal-item":{read:!0,write:{layerContainerTypes:e.excludeTables}}}}};f={read:{reader:g.read},write:{allowNull:!0,writer:g.write,layerContainerTypes:e.excludeTables}};const r={json:{read:!1,write:!1,origins:{"web-map":f,"portal-item":f}}};a.BlendLayer=u=>{u=class extends u{constructor(){super(...arguments);this.blendMode="normal";this.effect=null}};b.__decorate([c.property(h)],u.prototype,
"blendMode",void 0);b.__decorate([c.property(r)],u.prototype,"effect",void 0);return u=b.__decorate([q.subclass("esri.layers.mixins.BlendLayer")],u)};a.blendModeProperty=h;a.effectProperty=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object","./parser","./utils"],function(a,b,c,f,d){function n(h){return(h=f.parse(h))?d.isEffectFunctions(h)?h.map(r=>r.toJSON()):h.map(({scale:r,effects:u})=>
({scale:r,value:u.map(p=>p.toJSON())})):null}function q(h){if(!h||0===h.length)return null;var r=(r=h[0])?"scale"in r:!1;if(r){r=[];for(const u of h)r.push({scale:u.scale,value:e(u.value)});return r}return e(h)}function e(h){if(!h?.length)return"";const r=[];for(const m of h){h=[];switch(m.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":h=[g(m,"amount")];break;case "blur":h=[g(m,"radius","pt")];break;case "hue-rotate":h=[g(m,"angle",
"deg")];break;case "drop-shadow":h=g(m,"xoffset","pt");var u=g(m,"yoffset","pt"),p=g(m,"blurRadius","pt"),l=m;if(null==l.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${l.type} effect`,{effect:l});l=l.color;h=[h,u,p,`rgba(${l[0]||0}, ${l[1]||0}, ${l[2]||0}, ${l[3]/255||0})`];break;case "bloom":h=[g(m,"strength"),g(m,"radius","pt"),g(m,"threshold")]}h=`${m.type}(${h.filter(Boolean).join(" ")})`;f.parse(h);r.push(h)}return r.join(" ")}function g(h,r,u){if(null==h[r])throw new b("effect:missing-parameter",
`Missing parameter '${r}' in ${h.type} effect`,{effect:h});return u?h[r]+u:""+h[r]}a.effectFunctionsFromJSON=e;a.fromJSON=q;a.read=function(h,r,u){try{return q(h)}catch(p){u?.messages?.push(p)}return null};a.toJSON=n;a.write=function(h,r,u,p){try{const l=n(h);c.setDeepValue(u,l,r)}catch(l){p.messages&&p.messages.push(l)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define(["exports","../../colorUtils","../../core/Error","./effects","./utils"],
function(a,b,c,f,d){function n(k,x,y,B){k=Error.call(this,k);Object.setPrototypeOf&&Object.setPrototypeOf(k,n.prototype);k.expected=x;k.found=y;k.location=B;k.name="SyntaxError";return k}function q(k,x,y){y=y||" ";if(k.length>x)return k;x-=k.length;y+=y.repeat(x);return k+y.slice(0,x)}function e(k,x){function y(db,Fa){return{type:"literal",text:db,ignoreCase:Fa}}function B(db,Fa,Ta){return{type:"class",parts:db,inverted:Fa,ignoreCase:Ta}}function E(db){return{type:"other",description:db}}function J(db){var Fa=
Ub[db];if(!Fa){if(db>=Ub.length)var Ta=Ub.length-1;else for(Ta=db;!Ub[--Ta];);Fa=Ub[Ta];for(Fa={line:Fa.line,column:Fa.column};Ta<db;)10===k.charCodeAt(Ta)?(Fa.line++,Fa.column=1):Fa.column++,Ta++;Ub[db]=Fa}return Fa}function K(db,Fa,Ta){Ta=J(db);var Za=J(Fa);return{source:R,start:{offset:db,line:Ta.line,column:Ta.column},end:{offset:Fa,line:Za.line,column:Za.column}}}function H(db){Oa<Bb||(Oa>Bb&&(Bb=Oa,Nb=[]),Nb.push(db))}function F(){$a++;var db=Oa;W();if(k.substr(Oa,4)===da){var Fa=da;Oa+=4}else Fa=
D,0===$a&&H(La);Fa!==D?(W(),nb=db,db=[]):(Oa=db,db=D);$a--;db===D&&0===$a&&H(Ba);if(db===D)if(db=[],Fa=N(),Fa!==D)for(;Fa!==D;)db.push(Fa),Fa=N();else db=D;return db}function N(){var db=Oa;W();$a++;var Fa=Oa;var Ta=L();if(Ta!==D){if(40===k.charCodeAt(Oa)){var Za=ia;Oa++}else Za=D,0===$a&&H(na);Za!==D?(nb=Fa,Fa=Ta):(Oa=Fa,Fa=D)}else Oa=Fa,Fa=D;$a--;Fa===D&&(Ta=D,0===$a&&H(Ha));if(Fa!==D){W();Ta=Oa;Za=S();if(Za!==D){var wb=[];var ka=Oa;var Ia=W();if(44===k.charCodeAt(Oa)){var Pa=qa;Oa++}else Pa=D,0===
$a&&H(va);Pa===D&&(Pa=null);var Ra=W();var Wa=S();Wa!==D?ka=Ia=[Ia,Pa,Ra,Wa]:(Oa=ka,ka=D);for(;ka!==D;)wb.push(ka),ka=Oa,Ia=W(),44===k.charCodeAt(Oa)?(Pa=qa,Oa++):(Pa=D,0===$a&&H(va)),Pa===D&&(Pa=null),Ra=W(),Wa=S(),Wa!==D?ka=Ia=[Ia,Pa,Ra,Wa]:(Oa=ka,ka=D);nb=Ta;Ta=0<wb.length?[Za].concat(X(wb,3)):[Za]}else Oa=Ta,Ta=D;Ta===D&&(Ta=null);W();41===k.charCodeAt(Oa)?(Za=sa,Oa++):(Za=D,0===$a&&H(ca));Za!==D?(W(),nb=db,db={type:"function",name:Fa,parameters:Ta||[]}):(Oa=db,db=D)}else Oa=db,db=D;return db}
function S(){var db=Oa;$a++;var Fa=Oa;W();var Ta=P();if(Ta!==D){if(37===k.charCodeAt(Oa)){var Za=la;Oa++}else Za=D,0===$a&&H(Ua);Za!==D?(nb=Fa,Fa={value:Ta,unit:"%"}):(Oa=Fa,Fa=D)}else Oa=Fa,Fa=D;$a--;Fa===D&&0===$a&&H(Ja);Fa===D&&($a++,Fa=Oa,W(),Ta=P(),Ta!==D?(k.substr(Oa,2)===ua?(Za=ua,Oa+=2):(Za=D,0===$a&&H(cb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"px"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D),Fa===D&&(Fa=Oa,W(),Ta=P(),Ta!==D?(k.substr(Oa,2)===ya?(Za=ya,Oa+=2):(Za=D,0===$a&&H(eb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"cm"}):
(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D),Fa===D&&(Fa=Oa,W(),Ta=P(),Ta!==D?(k.substr(Oa,2)===V?(Za=V,Oa+=2):(Za=D,0===$a&&H(pb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"mm"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D),Fa===D&&(Fa=Oa,W(),Ta=P(),Ta!==D?(k.substr(Oa,2)===ha?(Za=ha,Oa+=2):(Za=D,0===$a&&H(lb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"in"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D),Fa===D&&(Fa=Oa,W(),Ta=P(),Ta!==D?(k.substr(Oa,2)===ma?(Za=ma,Oa+=2):(Za=D,0===$a&&H(Xb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"pt"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D),Fa===D&&(Fa=
Oa,W(),Ta=P(),Ta!==D?(k.substr(Oa,2)===G?(Za=G,Oa+=2):(Za=D,0===$a&&H(Cb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"pc"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D)))))),$a--,Fa===D&&0===$a&&H(Ya),Fa===D&&($a++,Fa=Oa,Ta=P(),Ta!==D?(k.substr(Oa,3)===Q?(Za=Q,Oa+=3):(Za=D,0===$a&&H(yb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"deg"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D),Fa===D&&(Fa=Oa,Ta=P(),Ta!==D?(k.substr(Oa,3)===fa?(Za=fa,Oa+=3):(Za=D,0===$a&&H(Sb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"rad"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D),Fa===D&&(Fa=Oa,Ta=P(),
Ta!==D?(k.substr(Oa,4)===ta?(Za=ta,Oa+=4):(Za=D,0===$a&&H(vb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"grad"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D),Fa===D&&(Fa=Oa,Ta=P(),Ta!==D?(k.substr(Oa,4)===za?(Za=za,Oa+=4):(Za=D,0===$a&&H(Tb)),Za!==D?(nb=Fa,Fa={value:Ta,unit:"turn"}):(Oa=Fa,Fa=D)):(Oa=Fa,Fa=D)))),$a--,Fa===D&&(Ta=D,0===$a&&H(mb)),Fa===D&&($a++,Fa=Oa,W(),Ta=P(),Ta!==D?(nb=Fa,Fa={value:Ta,unit:null}):(Oa=Fa,Fa=D),$a--,Fa===D&&0===$a&&H(Vb))));Fa!==D&&(nb=db,Fa={type:"quantity",value:Fa.value,unit:Fa.unit});db=
Fa;if(db===D){db=Oa;$a++;Fa=Oa;35===k.charCodeAt(Oa)?(Ta=Ea,Oa++):(Ta=D,0===$a&&H(Pb));if(Ta!==D){Ta=[];Za=k.charAt(Oa);U.test(Za)?Oa++:(Za=D,0===$a&&H(Wb));if(Za!==D)for(;Za!==D;)Ta.push(Za),Za=k.charAt(Oa),U.test(Za)?Oa++:(Za=D,0===$a&&H(Wb));else Ta=D;Ta!==D?(nb=Fa,Fa={type:"hex",value:k.substring(nb,Oa)}):(Oa=Fa,Fa=D)}else Oa=Fa,Fa=D;Fa===D&&(Fa=Oa,Ta=N(),Ta!==D&&(nb=Fa,Ta={type:"function",value:Ta}),Fa=Ta,Fa===D&&(Fa=Oa,Ta=L(),Ta!==D&&(nb=Fa,Ta={type:"named",value:k.substring(nb,Oa)}),Fa=Ta));
$a--;Fa===D&&(Ta=D,0===$a&&H(Qb));Fa!==D&&(nb=db,Fa={type:"color",colorType:Fa.type,value:Fa.value});db=Fa}return db}function W(){$a++;var db=[];var Fa=k.charAt(Oa);T.test(Fa)?Oa++:(Fa=D,0===$a&&H(Da));for(;Fa!==D;)db.push(Fa),Fa=k.charAt(Oa),T.test(Fa)?Oa++:(Fa=D,0===$a&&H(Da));$a--;Fa=D;0===$a&&H(xa);return db}function L(){$a++;var db=Oa;var Fa=[];var Ta=k.charAt(Oa);I.test(Ta)?Oa++:(Ta=D,0===$a&&H(Ma));if(Ta!==D)for(;Ta!==D;)Fa.push(Ta),Ta=k.charAt(Oa),I.test(Ta)?Oa++:(Ta=D,0===$a&&H(Ma));else Fa=
D;Fa!==D&&(nb=db,Fa=k.substring(nb,Oa));db=Fa;$a--;db===D&&(Fa=D,0===$a&&H(wa));return db}function P(){var db=Oa;var Fa=k.charAt(Oa);ea.test(Fa)?Oa++:(Fa=D,0===$a&&H(Kb));Fa===D&&(Fa=null);var Ta=Oa;Fa=[];var Za=k.charAt(Oa);ra.test(Za)?Oa++:(Za=D,0===$a&&H(Eb));for(;Za!==D;)Fa.push(Za),Za=k.charAt(Oa),ra.test(Za)?Oa++:(Za=D,0===$a&&H(Eb));46===k.charCodeAt(Oa)?(Za=Ga,Oa++):(Za=D,0===$a&&H(Rb));if(Za!==D){var wb=[];var ka=k.charAt(Oa);ra.test(ka)?Oa++:(ka=D,0===$a&&H(Eb));if(ka!==D)for(;ka!==D;)wb.push(ka),
ka=k.charAt(Oa),ra.test(ka)?Oa++:(ka=D,0===$a&&H(Eb));else wb=D;wb!==D?Ta=Fa=[Fa,Za,wb]:(Oa=Ta,Ta=D)}else Oa=Ta,Ta=D;if(Ta===D)if(Ta=[],Fa=k.charAt(Oa),ra.test(Fa)?Oa++:(Fa=D,0===$a&&H(Eb)),Fa!==D)for(;Fa!==D;)Ta.push(Fa),Fa=k.charAt(Oa),ra.test(Fa)?Oa++:(Fa=D,0===$a&&H(Eb));else Ta=D;if(Ta!==D){Fa=Oa;101===k.charCodeAt(Oa)?(Za=Z,Oa++):(Za=D,0===$a&&H(Lb));if(Za!==D){wb=k.charAt(Oa);ea.test(wb)?Oa++:(wb=D,0===$a&&H(Kb));wb===D&&(wb=null);ka=[];Ta=k.charAt(Oa);ra.test(Ta)?Oa++:(Ta=D,0===$a&&H(Eb));
if(Ta!==D)for(;Ta!==D;)ka.push(Ta),Ta=k.charAt(Oa),ra.test(Ta)?Oa++:(Ta=D,0===$a&&H(Eb));else ka=D;ka!==D?Fa=Za=[Za,wb,ka]:(Oa=Fa,Fa=D)}else Oa=Fa,Fa=D;Fa===D&&(Fa=null);nb=db;db=parseFloat(k.substring(nb,Oa))}else Oa=db,db=D;return db}function X(db,Fa){return db.map(function(Ta){return Ta[Fa]})}x=void 0!==x?x:{};var D={},R=x.grammarSource,Y={start:F},ja=F,da="none",sa=")",qa=",",ia="(",la="%",ua="px",ya="cm",V="mm",ha="in",ma="pt",G="pc",Q="deg",fa="rad",ta="grad",za="turn",Ea="#",Ga=".",Z="e",T=
/^[ \t\n\r]/,I=/^[a-z\-]/,U=/^[0-9a-fA-F]/,ea=/^[+\-]/,ra=/^[0-9]/,Ba=E("none"),La=y("none",!1),ca=y(")",!1),va=y(",",!1),xa=E("whitespace"),Da=B([" ","\t","\n","\r"],!1,!1),Ha=E("function"),na=y("(",!1),wa=E("identifier"),Ma=B([["a","z"],"-"],!1,!1),Ja=E("percentage"),Ua=y("%",!1),Ya=E("length"),cb=y("px",!1),eb=y("cm",!1),pb=y("mm",!1),lb=y("in",!1),Xb=y("pt",!1),Cb=y("pc",!1),mb=E("angle"),yb=y("deg",!1),Sb=y("rad",!1),vb=y("grad",!1),Tb=y("turn",!1),Vb=E("number"),Qb=E("color"),Pb=y("#",!1),Wb=
B([["0","9"],["a","f"],["A","F"]],!1,!1),Kb=B(["+","-"],!1,!1),Eb=B([["0","9"]],!1,!1),Rb=y(".",!1),Lb=y("e",!1),Oa=x.peg$currPos|0,nb=Oa,Ub=[{line:1,column:1}],Bb=Oa,Nb=x.peg$maxFailExpected||[],$a=x.peg$silentFails|0;if(x.startRule){if(!(x.startRule in Y))throw Error("Can't start parsing from rule \""+x.startRule+'".');ja=Y[x.startRule]}Y=ja();if(x.peg$library)return{peg$result:Y,peg$currPos:Oa,peg$FAILED:D,peg$maxFailExpected:Nb,peg$maxFailPos:Bb};if(Y!==D&&Oa===k.length)return Y;Y!==D&&Oa<k.length&&
H({type:"end"});throw function(db,Fa,Ta){return new n(n.buildMessage(db,Fa),db,Fa,Ta)}(Nb,Bb<k.length?k.charAt(Bb):null,Bb<k.length?K(Bb,Bb+1):K(Bb,Bb));}function g(k){let x;if(!k)return[];try{x=e(k)}catch(y){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:k,error:y});}return x.map(y=>h(y))}function h(k){try{switch(k.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var x=1;r(k.parameters,1);1===k.parameters.length&&(x=l(k.parameters[0]));
return new f.ColorMatrixEffect(k.name,x);case "opacity":return x=1,r(k.parameters,1),1===k.parameters.length&&(x=l(k.parameters[0])),new f.OpacityEffect(x);case "hue-rotate":x=0;r(k.parameters,1);if(1===k.parameters.length){var y=k.parameters[0];if("quantity"!==y.type||!(0===y.value&&null===y.unit||y.unit&&null!=A[y.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${u(y)}`,{term:y});x=y.value*A[y.unit]||0}return new f.HueRotateEffect(x);case "blur":return x=0,r(k.parameters,1),1===
k.parameters.length&&(x=m(k.parameters[0]),p(x,k.parameters[0])),new f.BlurEffect(x);case "drop-shadow":const H=[];let F=null;for(const N of k.parameters)if("color"===N.type){H.length&&Object.freeze(H);if(F)throw new c("effect:type-error","Accepts only one color",{});a:{y=void 0;var B=N;switch(B.colorType){case "hex":F=b.hex2rgba(B.value);break a;case "named":F=v(B.value);break a;case "function":x=B.value;r(x.parameters,4);if(w.test(x.name))y=[l(x.parameters[0]),l(x.parameters[1]),l(x.parameters[2]),
x.parameters[3]?l(x.parameters[3]):1];else if(z.test(x.name)){B=b;var E=B.hsla2rgba,J=x.parameters[0],K=J;if("quantity"!==K.type||null!==K.unit)throw new c("effect:type-error",`Expected <double>, Actual: ${u(K)}`,{term:K});p(J.value,J);y=E.call(B,J.value,l(x.parameters[1]),l(x.parameters[2]),x.parameters[3]?l(x.parameters[3]):1)}else throw new c("effect:syntax-error",`Invalid color function '${x.name}'`,{colorFunction:x});F=y;break a}F=void 0}}else{const S=m(N);if(Object.isFrozen(H))throw new c("effect:type-error",
"\x3clength\x3e parameters not consecutive",{lengths:H});H.push(S);3===H.length&&p(S,N)}if(2>H.length||3<H.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${H.length}}`,{lengths:H});return new f.DropShadowEffect(H[0],H[1],H[2]||0,F||v("black"));case "bloom":return x=1,J=E=0,r(k.parameters,3),k.parameters[0]&&(x=l(k.parameters[0])),k.parameters[1]&&(E=m(k.parameters[1]),p(E,k.parameters[1])),k.parameters[2]&&(J=l(k.parameters[2])),new f.BloomEffect(x,E,J)}}catch(H){throw H.details.filter=
k,H;}throw new c("effect:unknown-effect",`Effect '${k.name}' is not supported`,{effect:k});}function r(k,x){if(k.length>x)throw new c("effect:type-error",`Function supports up to ${x} parameters, Actual: ${k.length}`,{parameters:k});}function u(k){if("color"===k.type)return"\x3ccolor\x3e";if(k.unit){if(k.unit in t)return"\x3clength\x3e";if(k.unit in A)return"\x3cangle\x3e";if("%"===k.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function p(k,x){if(0>k)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${k}`,
{term:x});}function l(k){if("quantity"!==k.type||null!==k.unit&&"%"!==k.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${u(k)}`,{term:k});const x=k.value;p(x,k);return"%"===k.unit?.01*x:x}function m(k){if("quantity"!==k.type||!(0===k.value&&null===k.unit||k.unit&&null!=t[k.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${u(k)}`,{term:k});return k.value*t[k.unit]||0}function v(k){if(!b.isNamedColor(k))throw new c("effect:unknown-color",`color '${k}' isn't valid`,
{namedColor:k});return b.getNamedColorCopy(k)}(function(k,x){function y(){this.constructor=k}y.prototype=x.prototype;k.prototype=new y})(n,Error);n.prototype.format=function(k){var x="Error: "+this.message;if(this.location){var y=null,B;for(B=0;B<k.length;B++)if(k[B].source===this.location.source){y=k[B].text.split(/\r\n|\n|\r/g);break}k=this.location.start;B=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(k):k;var E=this.location.source+":"+B.line+
":"+B.column;if(y){var J=this.location.end,K=q("",B.line.toString().length," ");y=y[k.line-1];J=(k.line===J.line?J.column:y.length+1)-k.column||1;x+="\n --\x3e "+E+"\n"+K+" |\n"+B.line+" | "+y+"\n"+K+" | "+q("",k.column-1," ")+q("",J,"^")}else x+="\n at "+E}return x};n.buildMessage=function(k,x){function y(H){return H.charCodeAt(0).toString(16).toUpperCase()}function B(H){return H.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,
"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+y(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+y(F)})}function E(H){return H.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+y(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+y(F)})}function J(H){return K[H.type](H)}var K={literal:function(H){return'"'+
B(H.text)+'"'},class:function(H){var F=H.parts.map(function(N){return Array.isArray(N)?E(N[0])+"-"+E(N[1]):E(N)});return"["+(H.inverted?"^":"")+F.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(H){return H.description}};return"Expected "+function(H){H=H.map(J);var F,N;H.sort();if(0<H.length){for(N=F=1;F<H.length;F++)H[F-1]!==H[F]&&(H[N]=H[F],N++);H.length=N}switch(H.length){case 1:return H[0];case 2:return H[0]+" or "+H[1];default:return H.slice(0,
-1).join(", ")+", or "+H[H.length-1]}}(k)+" but "+(x?'"'+B(x)+'"':"end of input")+" found."};const A={deg:1,grad:.9,rad:180/Math.PI,turn:360},t={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},w=/^rgba?/i,z=/^hsla?/i;a.parse=function(k){if(!k||0===k.length)return null;if("string"===typeof k)return(k=g(k))&&0!==k.length?k:null;k=k.map(x=>{if(!Number.isFinite(x.scale)||0>=x.scale)throw new c("effect:invalid-scale","scale must be finite and greater than 0",{stop:x});return{scale:x.scale,effects:g(x.value)}});
k.sort((x,y)=>y.effects.length-x.effects.length);for(let x=0;x<k.length-1;x++){if(!d.canInterpolateEffects(k[x].effects,k[x+1].effects))throw new c("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:k[x].effects,b:k[x+1].effects});d.normalizeEffects(k[x].effects,k[x+1].effects)}k.sort((x,y)=>y.scale-x.scale);return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){a.CustomParametersMixin=e=>{e=class extends e{constructor(){super(...arguments);this.customParameters=null}};b.__decorate([c.property({type:Object,json:{write:{overridePolicy(g){return{enabled:!!(g&&0<Object.keys(g).length)}}}}})],e.prototype,"customParameters",void 0);return e=b.__decorate([q.subclass("esri.layers.mixins.CustomParametersMixin")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/DisplayFilteredLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ../support/DisplayFilterInfo".split(" "),
function(a,b,c,f,d,n,q,e,g,h){const r={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader(p){return!p}},write:{layerContainerTypes:g.excludeTables,writer(p,l,m){c.setDeepValue(m,!p,l)}},origins:{"web-scene":{write:!1,read:!1}}}},u={type:h,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:g.excludeTables},origins:{"web-scene":{write:!1,read:!1}}}};a.DisplayFilteredLayer=p=>{p=class extends p{constructor(){super(...arguments);
this.displayFilterEnabled=!0;this.displayFilterInfo=null}};b.__decorate([f.property(r)],p.prototype,"displayFilterEnabled",void 0);b.__decorate([f.property(u)],p.prototype,"displayFilterInfo",void 0);return p=b.__decorate([e.subclass("esri.layers.mixins.DisplayFilteredLayer")],p)};a.displayFilterEnabledProperty=r;a.displayFilterInfoProperty=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/DisplayFilterInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/scaleUtils ./DisplayFilter ./displayFilterUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p){b=class extends b.ClonableMixin(f){constructor(l){super(l);this.activeFilterId=null;this.filters=new (c.ofType(u));this.mode="manual"}writeFilters(l,m,v,A){l=l.toArray();"scale"===this.mode&&l.sort((t,w)=>{const z=r.compareMinScale(w.minScale,t.minScale);t=t.maxScale-w.maxScale;return 0===z?t:z});m[v]=l.map(t=>t.toJSON(A))}write(l,m){return super.write(l,p.createDisplayFilterJSONContext(this,m))}};a.__decorate([d.property({type:String,json:{write:{overridePolicy(l,
m,v){return{enabled:"manual"===v.filterMode,isRequired:!0}}}}})],b.prototype,"activeFilterId",void 0);a.__decorate([d.property({type:c.ofType(u),nonNullable:!0,json:{write:!0}})],b.prototype,"filters",void 0);a.__decorate([h.writer("filters")],b.prototype,"writeFilters",null);a.__decorate([d.property({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],b.prototype,"mode",void 0);return b=a.__decorate([g.subclass("esri.layers.support.DisplayFilterInfo")],b)})},"esri/geometry/support/scaleUtils":function(){define(["exports",
"../../core/mathUtils","../../core/unitUtils"],function(a,b,c){function f(d,n){n=c.getMetersPerUnitForSR(n);return d/(n*c.inchesPerMeter*96)}a.compareMinScale=function(d,n){return b.floatEqualAbsolute(d,n)?0:(d||Number.POSITIVE_INFINITY)>(n||Number.POSITIVE_INFINITY)?1:-1};a.getExtentForScale=function(d,n){const q=d.extent;d=d.width-(d.padding?d.padding.left+d.padding.right:0);n=f(n,q.spatialReference);return q.clone().expand(n*d/q.width)};a.getResolutionForScale=f;a.getResolutionInMetersForScale=
function(d){return d/(96*c.inchesPerMeter)};a.getScale=function(d,n){n=n||d.extent;d=d.width;const q=c.getMetersPerUnitForSR(n?.spatialReference);return n&&d?n.width/d*q*c.inchesPerMeter*96:0};a.getScaleForResolution=function(d,n){n=c.getMetersPerUnitForSR(n);return d*n*c.inchesPerMeter*96};a.isInScaleRange=function(d,n,q){if(n=0===n||b.floatEqualAbsolute(d,n)||d<n)n=0===q||b.floatEqualAbsolute(d,q)||d>q;return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/DisplayFilter":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/uuid ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){n={write:{overridePolicy(h,r,u){return{enabled:!u||"scale"===u.filterMode}}}};b=class extends b.ClonableMixin(c){constructor(h){super(h);this.id=f.generateUUID();this.minScale=this.maxScale=0;this.title="";this.where=null}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"id",void 0);a.__decorate([d.property({type:Number,json:n})],b.prototype,"maxScale",void 0);a.__decorate([d.property({type:Number,json:n})],b.prototype,"minScale",void 0);a.__decorate([d.property({type:String,
json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"where",void 0);return b=a.__decorate([g.subclass("esri.layers.support.DisplayFilter")],b)})},"esri/core/uuid":function(){define(["exports"],function(a){function b(){if(c)return crypto.randomUUID();const f=crypto.getRandomValues(new Uint16Array(8));f[3]=f[3]&4095|16384;f[4]=f[4]&16383|32768;const d=n=>f[n].toString(16).padStart(4,"0");return d(0)+d(1)+"-"+d(2)+"-"+d(3)+"-"+d(4)+"-"+
d(5)+d(6)+d(7)}const c="randomUUID"in crypto;a.generateBracedUUID=function(){return`{${b().toUpperCase()}}`};a.generateLowercaseBracedUUID=function(){return`{${b()}}`};a.generateUUID=b;a.normalizeGlobalID=function(f){const d=f.toUpperCase();return"{"!==f[0]?`{${d}}`:d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/displayFilterUtils":function(){define(["exports","../../core/mathUtils","../../core/sql"],function(a,b,c){function f(e){if("manual"===("mode"in e?
e.mode:e.filterMode))return null;const g=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const {minScale:h,maxScale:r}of e.filters)g[0]=Math.max(g[0],h||Number.POSITIVE_INFINITY),g[1]=Math.min(g[1],r||0);return g}function*d(e,g,h){if("manual"===("mode"in e?e.mode:e.filterMode))(g=e.filters.find(r=>r.id===e.activeFilterId))&&(yield g);else{"object"===typeof g&&(g=g.scale);for(const r of e.filters)q(r.minScale,r.maxScale,g,h)&&(yield r)}}function n(e,g,h){if(0===e.length)return!0;var r=e.at(0)?.minScale||
Number.POSITIVE_INFINITY;var u=e.at(-1)?.maxScale||0;if(b.floatLessThan(r,g)||b.floatGreaterThan(u,h))return!0;for(g=0;g<e.length-1;g++)if(b.floatLessThan(e[g+1].minScale||Number.POSITIVE_INFINITY,e[g].maxScale||0))return!0;return!1}function q(e,g,h,r){e=e||Number.POSITIVE_INFINITY;h=h||Number.POSITIVE_INFINITY;g=g||0;return!b.floatEqualAbsolute(h,e)&&(r??h)>e||b.floatGreaterThanOrEqual(g,h)||void 0!==r&&b.floatEqualAbsolute(r,e)?!1:!0}a.createDisplayFilterJSONContext=function(e,g){return{...g,filterMode:e.mode}};
a.getClauseForScaleRange=function(e,g,h){const r=f(e);if(r&&(b.floatGreaterThan(g,r[0])||b.floatLessThan(h,r[1])))return"";e=Array.from(d(e,g,h));return(g=n(e,g,h)?"1\x3d1":e.map(u=>u.where||"1\x3d1").reduce((u,p)=>c.sqlOr(u,p),""))&&"1\x3d1"!==g?g:""};a.getEffectiveDisplayFilter=function(e,g){return d(e,g).next().value??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../versionManagement/support/versionManagementUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){function r(A){return m.on("apply-edits",new WeakRef(A))}function u(A){return m.on("update-moment",new WeakRef(A))}function p(A){return null!=A&&"object"===typeof A&&"gdbVersion"in A}function l(A,t,w){A=(new URL(A)).host;A=h.defaultVersionNameLookup.get(A);return(!t||t===A)&&(!w||w===A)||t===w}const m=new c.EventEmitter,v=Symbol();a.EditBusLayer=A=>{A=class extends A{constructor(...w){super(...w);this[t]=!0;this._applyEditsHandler=z=>{const {serviceUrl:k,layerId:x,gdbVersion:y,
mayReceiveServiceEdits:B,result:E}=z;z=k===this.url;const J=null!=x&&null!=this.layerId&&x===this.layerId,K=p(this),H=p(this)&&l(k,y,this.gdbVersion);!z||K&&!H||!J&&!B||(z=E.then(F=>{this.lastEditsEventDate=new Date;if(J&&(F.addedFeatures.length||F.updatedFeatures.length||F.deletedFeatures.length||F.addedAttachments.length||F.updatedAttachments.length||F.deletedAttachments.length))return this.emit("edits",f.clone(F)),F;const N=F.editedFeatures?.find(({layerId:S})=>S===this.layerId);if(N){const {adds:S,
updates:W,deletes:L}=N.editedFeatures;F={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:S?S.map(({attributes:P})=>({objectId:this.objectIdField&&P[this.objectIdField],globalId:this.globalIdField&&P[this.globalIdField]})):[],deletedFeatures:L?L.map(({attributes:P})=>({objectId:this.objectIdField&&P[this.objectIdField],globalId:this.globalIdField&&P[this.globalIdField]})):[],updatedFeatures:W?W.map(({current:{attributes:P}})=>({objectId:this.objectIdField&&
P[this.objectIdField],globalId:this.globalIdField&&P[this.globalIdField]})):[],editedFeatures:f.clone(F.editedFeatures),exceededTransferLimit:!1,historicMoment:f.clone(F.historicMoment)};this.emit("edits",F);return F}F={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:f.clone(F.editedFeatures),exceededTransferLimit:!1,historicMoment:f.clone(F.historicMoment)};"historicMoment"in this&&this._shouldUpdateHistoricMoment(k,
y,F.historicMoment)&&this.emit("edits",F);return F}).then(F=>{"historicMoment"in this&&this._shouldUpdateHistoricMoment(k,y,F.historicMoment)&&(this.historicMoment=F.historicMoment);return F}),this.emit("apply-edits",{result:z}))};this._updateMomentHandler=z=>{const {serviceUrl:k,gdbVersion:x,moment:y}=z;z=k===this.url;const B=p(this),E=p(this)&&l(k,x,this.gdbVersion),J=p(this)&&!l(k,this.gdbVersion,null);z&&B&&E&&J&&"historicMoment"in this&&this.historicMoment!==y&&(this.historicMoment=y)};this.when().then(()=>
{this.addHandles(r(this._applyEditsHandler));"historicMoment"in this&&this.addHandles(u(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(w,z,k){return"historicMoment"in this&&this.historicMoment!==k&&h.isVersionInEditSession(w,z)}};var t=v;b.__decorate([n.property()],A.prototype,"lastEditsEventDate",void 0);return A=b.__decorate([g.subclass("esri.layers.mixins.EditBusLayer")],A)};a.emitApplyEditsEvent=function(A,t,w=null,z=!1){const k=d.createResolver();m.emit("apply-edits",{serviceUrl:A,
layerId:t,gdbVersion:w,mayReceiveServiceEdits:null==t?!0:z,result:k.promise});return k};a.emitUpdateMomentEvent=function(A,t,w=null,z){m.emit("update-moment",{serviceUrl:A,layerId:t,gdbVersion:w,moment:z})};a.isEditBusLayer=function(A){return null!=A&&"object"===typeof A&&v in A};a.isLayerWithGDBVersion=p;a.onApplyEditsEvent=r;a.onUpdateMomentEvent=u;a.versionMatches=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/versionManagement/support/versionManagementUtils":function(){define(["require",
"exports","../../request","../../core/uuid"],function(a,b,c,f){const d=f.generateLowercaseBracedUUID(),n=new Map,q=new Map;f=new Map;b.currentSessionId=d;b.defaultVersionNameLookup=n;b.isHistoricVersion=async function(e,g,h){if(!e||!h)return!1;if(!g)return!0;h=(new URL(e)).host;h=n.get(h);h||(e=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),h=(await c(e,{responseType:"json",query:{f:"json"}})).data.defaultVersionName);return h===g?!0:!1};b.isSafeToEditVersion=async function(e,
g,h=!1){if(!e||!g)return!0;e=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");const r=q.get(e)?.entries();if(r)for(const [u,p]of r)if(p.name===g){g=!p.stack?.hasForwardEdits();if(!g&&h){const [{deleteForwardEdits:l},{default:m}]=await Promise.all([new Promise((v,A)=>a(["../../rest/versionManagement/gdbVersion/deleteForwardEdits"],v,A)),new Promise((v,A)=>a(["../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters"],t=>v(Object.freeze(Object.defineProperty({__proto__:null,
default:t},Symbol.toStringTag,{value:"Module"}))),A))]);h=await l(e,u,new m({sessionId:d,moment:p.moment}));h.success&&p.stack?.clearForwardEdits();return h.success}return g}return!0};b.isVersionInEditSession=function(e,g){if(!e)return!1;e=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");if(e=q.get(e)?.entries())for(const [,h]of e)if(h.name===g)return"edit"===h.lockType;return!1};b.versionCollection=q;b.versionCollectionCount=f;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),function(a,b,c,f,d,n,q,e){f={write:{allowNull:!0}};const g={type:e,json:{origins:{"web-map":f,"portal-item":f}}};a.FeatureEffectLayer=h=>{h=class extends h{constructor(){super(...arguments);this.featureEffect=
null}};b.__decorate([c.property(g)],h.prototype,"featureEffect",void 0);return h=b.__decorate([q.subclass("esri.layers.mixins.FeatureEffectLayer")],h)};a.featureEffectProperty=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;n={read:{reader:h.read},write:{writer:h.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}};q={read:{reader:h.read},write:{writer:h.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};e={name:"showExcludedLabels",default:!0};c=u=class extends c{constructor(p){super(p);this.excludedEffect=this.includedEffect=this.filter=null;this.excludedLabelsVisible=
!1}write(p,l){p=super.write(p,l);if(l?.origin){if(p.filter){const m=Object.keys(p.filter);if(1<m.length||"where"!==m[0])return l.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:l.layer,effect:this})),null}if("showExcludedLabels"in p)return l.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",
{layer:l.layer,effect:this})),null}return p}clone(){return new u({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};a.__decorate([d.property({type:r,json:{write:{allowNull:!0,writer(p,l,m,v){(p=p?.write({},v))&&0!==Object.keys(p).length?f.setDeepValue(m,p,l):f.setDeepValue(m,null,l)}}}})],c.prototype,"filter",void 0);a.__decorate([d.property({json:{read:h.read,write:{writer:h.write,
allowNull:!0},origins:{"web-map":n,"portal-item":n}}})],c.prototype,"includedEffect",void 0);a.__decorate([d.property({json:{read:h.read,write:{writer:h.write,allowNull:!0},origins:{"web-map":q,"portal-item":q}}})],c.prototype,"excludedEffect",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":e,"portal-item":e}}})],c.prototype,"excludedLabelsVisible",void 0);return c=u=a.__decorate([g.subclass("esri.layers.support.FeatureEffect")],c)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/support/typeUtils ../../rest/support/Query ../../time/TimeExtent".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;n=new b.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});b=new b.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});c=u=class extends c{constructor(p){super(p);this.geometry=this.where=null;this.spatialRelationship="intersects";this.distance=void 0;this.timeExtent=this.units=this.objectIds=null}createQuery(p={}){const {where:l,geometry:m,spatialRelationship:v,timeExtent:A,objectIds:t,units:w,distance:z}=this;return new h({geometry:f.clone(m),objectIds:f.clone(t),spatialRelationship:v,
timeExtent:f.clone(A),where:l,units:w,distance:z,...p})}clone(){const {where:p,geometry:l,spatialRelationship:m,timeExtent:v,objectIds:A,units:t,distance:w}=this;return new u({geometry:f.clone(l),objectIds:f.clone(A),spatialRelationship:m,timeExtent:f.clone(v),where:p,units:t,distance:w})}};a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"where",void 0);a.__decorate([d.property({types:g.geometryTypes,json:{write:!0}})],c.prototype,"geometry",void 0);a.__decorate([d.property({type:n.apiValues,
json:{name:"spatialRel",read:{reader:n.read},write:{allowNull:!1,writer:n.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],c.prototype,"spatialRelationship",void 0);a.__decorate([d.property({type:Number,json:{write:{overridePolicy(p){return{enabled:null!=p&&null!=this.geometry}}}}})],c.prototype,"distance",void 0);a.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);a.__decorate([d.property({type:b.apiValues,json:{read:b.read,write:{writer:b.write,
overridePolicy(p){return{enabled:null!=p&&null!=this.geometry}}}}})],c.prototype,"units",void 0);a.__decorate([d.property({type:r,json:{write:!0}})],c.prototype,"timeExtent",void 0);return c=u=a.__decorate([e.subclass("esri.layers.support.FeatureFilter")],c)})},"esri/rest/support/Query":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/Point ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../geometry/support/typeUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./spatialRelationships ./StatisticDefinition ../../time/TimeExtent".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z){var k;b=new b.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let x=k=class extends c{static from(y){return h.ensureClass(k,y)}constructor(y){super(y);this.aggregateIds=null;this.cacheHint=void 0;this.compactGeometryEnabled=!1;this.datumTransformation=null;this.defaultSpatialReferenceEnabled=
!1;this.dynamicDataSource=this.distance=void 0;this.geometry=this.gdbVersion=this.fullText=this.formatOf3DObjects=null;this.geometryPrecision=void 0;this.historicMoment=this.having=this.groupByFieldsForStatistics=null;this.maxAllowableOffset=void 0;this.maxRecordCountFactor=1;this.multipatchOption=null;this.num=void 0;this.resultType=this.relationParameter=this.rangeValues=this.quantizationParameters=this.pixelSize=this.parameterValues=this.outStatistics=this.outSpatialReference=this.outFields=this.orderByFields=
this.objectIds=null;this.returnDistinctValues=this.returnCentroid=!1;this.returnExceededLimitFeatures=!0;this.returnQueryGeometry=this.returnGeometry=!1;this.returnTrueCurves=this.returnZ=this.returnM=void 0;this.sourceSpatialReference=null;this.spatialRelationship="intersects";this.start=void 0;this.timeExtent=this.text=this.sqlFormat=null;this.timeReferenceUnknownClient=!1;this.where=this.units=null}castDatumTransformation(y){return"number"===typeof y||"object"===typeof y?y:null}writeHistoricMoment(y,
B){B.historicMoment=y&&y.getTime()}writeParameterValues(y,B){if(y){const E={};for(const J in y){const K=y[J];Array.isArray(K)?E[J]=K.map(H=>H instanceof Date?H.getTime():H):E[J]=K instanceof Date?K.getTime():K}B.parameterValues=E}}writeStart(y,B){B.resultOffset=this.start;B.resultRecordCount=this.num||10;B.where="1\x3d1"}writeWhere(y,B){B.where=y||"1\x3d1"}clone(){return new k(f.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};
x.MAX_MAX_RECORD_COUNT_FACTOR=5;a.__decorate([d.property({json:{write:!0}})],x.prototype,"aggregateIds",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],x.prototype,"cacheHint",void 0);a.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"compactGeometryEnabled",void 0);a.__decorate([d.property({json:{write:!0}})],x.prototype,"datumTransformation",void 0);a.__decorate([n.cast("datumTransformation")],x.prototype,"castDatumTransformation",null);a.__decorate([d.property({type:Boolean,
json:{default:!1,write:!0}})],x.prototype,"defaultSpatialReferenceEnabled",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],x.prototype,"distance",void 0);a.__decorate([d.property({type:m.DataLayerSource,json:{write:!0}})],x.prototype,"dynamicDataSource",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],x.prototype,"formatOf3DObjects",void 0);a.__decorate([d.property({type:[v],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&0<this.fullText.length}}}}})],
x.prototype,"fullText",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],x.prototype,"gdbVersion",void 0);a.__decorate([d.property({types:l.geometryTypes,json:{read:p.fromJSON,write:!0}})],x.prototype,"geometry",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],x.prototype,"geometryPrecision",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],x.prototype,"groupByFieldsForStatistics",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],x.prototype,
"having",void 0);a.__decorate([d.property({type:Date})],x.prototype,"historicMoment",void 0);a.__decorate([g.writer("historicMoment")],x.prototype,"writeHistoricMoment",null);a.__decorate([d.property({type:Number,json:{write:!0}})],x.prototype,"maxAllowableOffset",void 0);a.__decorate([d.property({type:Number,cast(y){return 1>y?1:y>x.MAX_MAX_RECORD_COUNT_FACTOR?x.MAX_MAX_RECORD_COUNT_FACTOR:y},json:{write:{overridePolicy(y){return{enabled:1<y}}}}})],x.prototype,"maxRecordCountFactor",void 0);a.__decorate([d.property({type:["xyFootprint"],
json:{write:!0}})],x.prototype,"multipatchOption",void 0);a.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],x.prototype,"num",void 0);a.__decorate([d.property({json:{write:!0}})],x.prototype,"objectIds",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],x.prototype,"orderByFields",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],x.prototype,"outFields",void 0);a.__decorate([d.property({type:u,json:{name:"outSR",write:!0}})],x.prototype,
"outSpatialReference",void 0);a.__decorate([d.property({type:[w],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],x.prototype,"outStatistics",void 0);a.__decorate([d.property({json:{write:!0}})],x.prototype,"parameterValues",void 0);a.__decorate([g.writer("parameterValues")],x.prototype,"writeParameterValues",null);a.__decorate([d.property({type:r,json:{write:!0}})],x.prototype,"pixelSize",void 0);a.__decorate([d.property({type:A,
json:{write:!0}})],x.prototype,"quantizationParameters",void 0);a.__decorate([d.property({type:[Object],json:{write:!0}})],x.prototype,"rangeValues",void 0);a.__decorate([d.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],x.prototype,"relationParameter",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],x.prototype,"resultType",void 0);a.__decorate([d.property({type:Boolean,
json:{default:!1,write:!0}})],x.prototype,"returnCentroid",void 0);a.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnDistinctValues",void 0);a.__decorate([d.property({type:Boolean,json:{default:!0,write:!0}})],x.prototype,"returnExceededLimitFeatures",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],x.prototype,"returnGeometry",void 0);a.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnQueryGeometry",void 0);
a.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnM",void 0);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(y){return{enabled:y}}}}})],x.prototype,"returnZ",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],x.prototype,"returnTrueCurves",void 0);a.__decorate([d.property({type:u,json:{write:!0}})],x.prototype,"sourceSpatialReference",void 0);a.__decorate([q.enumeration(t.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],
x.prototype,"spatialRelationship",void 0);a.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],x.prototype,"start",void 0);a.__decorate([g.writer("start"),g.writer("num")],x.prototype,"writeStart",null);a.__decorate([d.property({type:String,json:{write:!0}})],x.prototype,"sqlFormat",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],x.prototype,"text",void 0);a.__decorate([d.property({type:z,json:{write:!0}})],x.prototype,"timeExtent",void 0);a.__decorate([d.property({type:Boolean,
json:{default:!1,write:!0}})],x.prototype,"timeReferenceUnknownClient",void 0);a.__decorate([q.enumeration(b,{ignoreUnknown:!1}),d.property({json:{write:{overridePolicy(y){return{enabled:!!y&&null!=this.distance}}}}})],x.prototype,"units",void 0);a.__decorate([d.property({type:String,json:{write:{overridePolicy(y){return{enabled:null!=y||null!=this.start&&0<this.start}}}}})],x.prototype,"where",void 0);a.__decorate([g.writer("where")],x.prototype,"writeWhere",null);return x=k=a.__decorate([e.subclass("esri.rest.support.Query")],
x)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v){function A(){k||=r.createTypeReader({types:t()});return k}function t(){x||={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":p.MapLayerSource}};return x}var w,z;c=c.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=w=class extends f{constructor(y){super(y);this.type="join-table"}readLeftTableSource(y,B,E){return A()(y,B,E)}castLeftTableSource(y){return h.ensureOneOfType(t(),y)}readRightTableSource(y,
B,E){return A()(y,B,E)}castRightTableSource(y){return h.ensureOneOfType(t(),y)}clone(){const {leftTableKey:y,rightTableKey:B,leftTableSource:E,rightTableSource:J,joinType:K}=this,H={leftTableKey:y,rightTableKey:B,leftTableSource:E?.clone()??void 0,rightTableSource:J?.clone()??void 0,joinType:K};return new w(H)}};b.__decorate([q.enumeration({joinTable:"join-table"}),d.property({json:{write:{isRequired:!0}}})],a.JoinTableDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],
a.JoinTableDataSource.prototype,"leftTableKey",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);b.__decorate([d.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);b.__decorate([e.reader("leftTableSource")],a.JoinTableDataSource.prototype,"readLeftTableSource",null);b.__decorate([n.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);b.__decorate([d.property({json:{write:!0}})],
a.JoinTableDataSource.prototype,"rightTableSource",void 0);b.__decorate([e.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);b.__decorate([n.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);b.__decorate([q.enumeration(c)],a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=w=b.__decorate([g.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let k=null,x=null;n={key:"type",
base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":l.QueryTableDataSource,raster:m.RasterDataSource,table:v.TableDataSource}};a.DataLayerSource=z=class extends f{constructor(y){super(y);this.type="data-layer"}clone(){const {fields:y,dataSource:B}=this;return new z({fields:y,dataSource:B})}};b.__decorate([q.enumeration({dataLayer:"data-layer"}),d.property({json:{write:{isRequired:!0}}})],a.DataLayerSource.prototype,"type",void 0);b.__decorate([d.property({type:[u],json:{write:!0}})],
a.DataLayerSource.prototype,"fields",void 0);b.__decorate([d.property({types:n,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=z=b.__decorate([g.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=h.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/has ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;a.MapLayerSource=h=class extends c{constructor(r){super(r);this.type="map-layer"}clone(){const {mapLayerId:r,gdbVersion:u}=this;return new h({mapLayerId:r,gdbVersion:u})}};b.__decorate([e.enumeration({mapLayer:"map-layer"}),f.property({json:{write:{isRequired:!0}}})],a.MapLayerSource.prototype,"type",void 0);b.__decorate([f.property({type:d.Integer,json:{write:{isRequired:!0}}})],a.MapLayerSource.prototype,"mapLayerId",void 0);b.__decorate([f.property({type:String,
json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=h=b.__decorate([g.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;a.QueryTableDataSource=u=class extends c{constructor(p){super(p);this.type="query-table"}clone(){const {workspaceId:p,query:l,oidFields:m,spatialReference:v,geometryType:A}=this,t={workspaceId:p,query:l,oidFields:m,spatialReference:v?.clone()??void 0,geometryType:A};return new u(t)}};b.__decorate([e.enumeration({queryTable:"query-table"}),f.property({json:{write:{isRequired:!0}}})],a.QueryTableDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,
json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);b.__decorate([f.property({type:h,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);b.__decorate([e.enumeration(r.featureGeometryTypeKebabDictionary)],a.QueryTableDataSource.prototype,
"geometryType",void 0);a.QueryTableDataSource=u=b.__decorate([g.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;a.RasterDataSource=h=class extends c{constructor(r){super(r);this.type="raster"}clone(){const {workspaceId:r,dataSourceName:u}=this;return new h({workspaceId:r,dataSourceName:u})}};b.__decorate([e.enumeration({raster:"raster"}),f.property({json:{write:{isRequired:!0}}})],a.RasterDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],
a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=h=b.__decorate([g.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;a.TableDataSource=h=class extends c{constructor(r){super(r);this.type="table"}clone(){const {workspaceId:r,gdbVersion:u,dataSourceName:p}=this;return new h({workspaceId:r,gdbVersion:u,dataSourceName:p})}};b.__decorate([e.enumeration({table:"table"}),f.property({json:{write:{isRequired:!0}}})],a.TableDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",void 0);b.__decorate([f.property({type:String,
json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=h=b.__decorate([g.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){b=class extends b.ClonableMixin(c){constructor(g){super(g);this.searchType=this.searchTerm=this.operator=this.onFields=null}};a.__decorate([f.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],b.prototype,"onFields",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"operator",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"searchTerm",void 0);
a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"searchType",void 0);return b=a.__decorate([e.subclass("esri.rest.support.FullTextSearch")],b)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),function(a,b,c,f,d,n,q,e,g){var h;
b=new b.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});c=h=class extends c{constructor(r){super(r);this.extent=null;this.mode="view";this.originPosition="upper-left";this.tolerance=1}clone(){return new h(f.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};a.__decorate([d.property({type:g,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],c.prototype,"extent",void 0);a.__decorate([d.property({type:["view","edit"],
json:{write:!0}})],c.prototype,"mode",void 0);a.__decorate([d.property({type:String,json:{read:b.read,write:b.write}})],c.prototype,"originPosition",void 0);a.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],c.prototype,"tolerance",void 0);return c=h=a.__decorate([e.subclass("esri.rest.support.QuantizationParameters")],c)})},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriSpatialRelIntersects:"intersects",
esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});a.spatialRelKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;b=new b.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});c=h=class extends c{constructor(r){super(r);this.maxVertexCount=this.maxRecordCount=this.maxPointCount=void 0;this.statisticParameters=this.statisticType=
this.outStatisticFieldName=this.onStatisticField=null}writeStatisticParameters(r,u){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)u.statisticParameters=f.clone(r)}clone(){return new h({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:f.clone(this.statisticParameters)})}};
a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxPointCount",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxRecordCount",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxVertexCount",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"outStatisticFieldName",void 0);a.__decorate([d.property({type:String,
json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],c.prototype,"statisticType",void 0);a.__decorate([d.property({type:Object})],c.prototype,"statisticParameters",void 0);a.__decorate([g.writer("statisticParameters")],c.prototype,"writeStatisticParameters",null);return c=h=a.__decorate([e.subclass("esri.rest.support.StatisticDefinition")],c)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../support/Subtype ../../time/timeZoneUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B,E){a.FeatureLayerBase=J=>{J=class extends J{constructor(){super(...arguments);this.dateFieldsTimeZone=this.capabilities=this.copyright=null;this.datesInUnknownTimezone=!1;this.globalIdField=this.geometryType=this.geometryFieldsInfo=this.gdbVersion=this.fullExtent=this.floorInfo=this.fieldsIndex=this.elevationInfo=this.editingInfo=this.editFieldsInfo=this.displayField=this.definitionExpression=null;this.hasZ=this.hasM=void 0;this.historicMoment=
this.heightModelInfo=null;this.indexes=new (c.ofType(t.FeatureIndex));this.isTable=!1;this.layerId=void 0;this.minScale=this.maxScale=0;this.relationships=this.preferredTimeZone=this.objectIdField=null;this.returnZ=this.returnM=void 0;this.sourceJSON=this.serviceItemId=this.serviceDefinitionExpression=null;this.spatialReference=l.WGS84;this.trackIdField=this.subtypes=this.subtypeField=null;this.version=void 0}getFieldDomain(){throw Error("Not implemented");}getField(K){return this.fieldsIndex.get(K)}get authenticationTriggerEvent(){if(!this.url)return null;
const {capabilities:K}=this;if(K){const {query:F,operations:N,editing:S}=K;if(!F.supportsQueryByOthers||!F.supportsQueryByAnonymous||N.supportsEditing&&!(S.supportsUpdateByOthers&&S.supportsUpdateByAnonymous&&S.supportsDeleteByOthers&&S.supportsDeleteByAnonymous))return"load"}if(w.hasCurrentUser(this.serviceDefinitionExpression)||w.hasCurrentUser(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(w.isLayerCacheStale(this))return"load";if(this.hasUpdateItemRestrictions)return K.operations.supportsQuery?
"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const H=this.editFieldsInfo;return(H?.creatorField||H?.editorField)&&K?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(K,H){return y.getFeatureLayerCapabilities(H,this.url)}readEditingInfo(K,H){({editingInfo:K}=H);return K?{lastEditDate:null!=K.lastEditDate?new Date(K.lastEditDate):null}:null}get effectiveCapabilities(){var K=this.capabilities;if(!K)return null;K=f.clone(K);
const {operations:H,editing:F}=K;if(w.supportsQueryOnly(this))return this.userHasUpdateItemPrivileges&&(H.supportsQuery=!0),K;if(this.userHasUpdateItemPrivileges)return H.supportsAdd=H.supportsDelete=H.supportsEditing=H.supportsQuery=H.supportsUpdate=F.supportsDeleteByOthers=F.supportsGeometryUpdate=F.supportsUpdateByOthers=!0,K;this.userHasFullEditingPrivileges&&H.supportsEditing&&(H.supportsAdd=H.supportsDelete=H.supportsUpdate=F.supportsGeometryUpdate=!0);return K}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(K,
H){return w.readGlobalIdField(H)}get hasFullEditingRestrictions(){const K=this.capabilities;if(!K||w.supportsQueryOnly(this))return!1;const {operations:H,editing:F}=K;return H.supportsEditing&&!(H.supportsAdd&&H.supportsDelete&&H.supportsUpdate&&F.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const K=this.capabilities;if(!K)return!1;const {operations:H,editing:F}=K;return w.supportsQueryOnly(this)?!H.supportsQuery:!(H.supportsAdd&&H.supportsDelete&&H.supportsEditing&&H.supportsQuery&&H.supportsUpdate&&
F.supportsDeleteByOthers&&F.supportsGeometryUpdate&&F.supportsUpdateByOthers)}readIsTableFromService(K,H){return"Table"===H.type}readMaxScale(K,H){return H.effectiveMaxScale||K||0}readMinScale(K,H){return H.effectiveMinScale||K||0}readObjectIdFieldFromService(K,H){return w.readObjectIdField(H)}readServiceDefinitionExpression(K,H){return H.definitionQuery||H.definitionExpression}set url(K){null==K?this._set("url",K):(K=m.sanitizeUrlWithLayerId({layer:this,url:K,nonStandardUrlAllowed:!0,logger:d.getLogger(this)}),
this._set("url",K.url),null!=K.layerId&&this._set("layerId",K.layerId))}writeUrl(K,H,F,N){m.writeUrlWithLayerId(this,K,null,H,N)}readVersion(K,H){return w.readVersion(H)}};b.__decorate([n.property({readOnly:!0})],J.prototype,"authenticationTriggerEvent",null);b.__decorate([n.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],J.prototype,"copyright",void 0);b.__decorate([n.property({readOnly:!0,json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ isDataBranchVersioned isDataVersioned maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
J.prototype,"capabilities",void 0);b.__decorate([e.reader("service","capabilities")],J.prototype,"readCapabilitiesFromService",null);b.__decorate([n.property(E.timeZoneProperty("dateFieldsTimeReference"))],J.prototype,"dateFieldsTimeZone",void 0);b.__decorate([n.property({type:Boolean})],J.prototype,"datesInUnknownTimezone",void 0);b.__decorate([n.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],J.prototype,
"definitionExpression",void 0);b.__decorate([n.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],J.prototype,"displayField",void 0);b.__decorate([n.property({readOnly:!0,type:A})],J.prototype,"editFieldsInfo",void 0);b.__decorate([n.property({readOnly:!0})],J.prototype,"editingInfo",void 0);b.__decorate([e.reader("editingInfo")],J.prototype,"readEditingInfo",null);b.__decorate([n.property({readOnly:!0})],J.prototype,"effectiveCapabilities",null);b.__decorate([n.property()],
J.prototype,"effectiveEditingEnabled",null);b.__decorate([n.property((()=>{const K=f.clone(v.elevationInfo),H=K.json.origins;H["web-map"]={read:!1,write:!1};H["portal-item"]={read:!1,write:!1};return K})())],J.prototype,"elevationInfo",void 0);b.__decorate([n.property()],J.prototype,"fieldsIndex",void 0);b.__decorate([n.property({type:k,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:r.excludeTables}}})],J.prototype,"floorInfo",void 0);b.__decorate([n.property({type:u,json:{origins:{service:{read:{source:"extent"}}}}})],
J.prototype,"fullExtent",void 0);b.__decorate([n.property()],J.prototype,"gdbVersion",void 0);b.__decorate([n.property({readOnly:!0,type:z,json:{read:{source:"geometryProperties"}}})],J.prototype,"geometryFieldsInfo",void 0);b.__decorate([n.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:w.geometryTypeKebabDict.read}}}})],J.prototype,"geometryType",void 0);b.__decorate([n.property({type:String})],J.prototype,"globalIdField",void 0);b.__decorate([e.reader("service",
"globalIdField",["globalIdField","fields"])],J.prototype,"readGlobalIdFieldFromService",null);b.__decorate([n.property({readOnly:!0})],J.prototype,"hasFullEditingRestrictions",null);b.__decorate([n.property({type:Boolean,json:{origins:{service:{read:!0}}}})],J.prototype,"hasM",void 0);b.__decorate([n.property({readOnly:!0})],J.prototype,"hasUpdateItemRestrictions",null);b.__decorate([n.property({type:Boolean,json:{origins:{service:{read:!0}}}})],J.prototype,"hasZ",void 0);b.__decorate([n.property({readOnly:!0,
type:p})],J.prototype,"heightModelInfo",void 0);b.__decorate([n.property({type:Date})],J.prototype,"historicMoment",void 0);b.__decorate([n.property({type:c.ofType(t.FeatureIndex),readOnly:!0})],J.prototype,"indexes",void 0);b.__decorate([n.property({readOnly:!0})],J.prototype,"isTable",void 0);b.__decorate([e.reader("service","isTable",["type"])],J.prototype,"readIsTableFromService",null);b.__decorate([n.property({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},
read:!1}})],J.prototype,"layerId",void 0);b.__decorate([n.property(v.maxScale)],J.prototype,"maxScale",void 0);b.__decorate([e.reader("service","maxScale",["maxScale","effectiveMaxScale"])],J.prototype,"readMaxScale",null);b.__decorate([n.property(v.minScale)],J.prototype,"minScale",void 0);b.__decorate([e.reader("service","minScale",["minScale","effectiveMinScale"])],J.prototype,"readMinScale",null);b.__decorate([n.property({type:String})],J.prototype,"objectIdField",void 0);b.__decorate([e.reader("service",
"objectIdField",["objectIdField","fields"])],J.prototype,"readObjectIdFieldFromService",null);b.__decorate([n.property(E.timeZoneProperty("preferredTimeReference"))],J.prototype,"preferredTimeZone",void 0);b.__decorate([n.property({type:[x],readOnly:!0})],J.prototype,"relationships",void 0);b.__decorate([n.property({type:Boolean})],J.prototype,"returnM",void 0);b.__decorate([n.property({type:Boolean})],J.prototype,"returnZ",void 0);b.__decorate([n.property({readOnly:!0,json:{write:!1}})],J.prototype,
"serverGens",void 0);b.__decorate([n.property({readOnly:!0})],J.prototype,"serviceDefinitionExpression",void 0);b.__decorate([e.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],J.prototype,"readServiceDefinitionExpression",null);b.__decorate([n.property({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],J.prototype,"serviceItemId",void 0);b.__decorate([n.property()],J.prototype,"sourceJSON",void 0);b.__decorate([n.property({type:l,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],
J.prototype,"spatialReference",void 0);b.__decorate([n.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],J.prototype,"subtypeField",void 0);b.__decorate([n.property({type:[B],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],J.prototype,"subtypes",void 0);b.__decorate([n.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],J.prototype,"trackIdField",void 0);b.__decorate([n.property(v.url)],J.prototype,"url",null);b.__decorate([h.writer("url")],J.prototype,
"writeUrl",null);b.__decorate([n.property({json:{origins:{service:{read:!0}},read:!1}})],J.prototype,"version",void 0);b.__decorate([e.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],J.prototype,"readVersion",null);return J=b.__decorate([g.subclass("esri.layers.mixins.FeatureLayerBase")],J)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u){function p(A,t){return new n("height-unit:unsupported",`Height unit of value '${A}' is not supported`,t)}var l;const m=c.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});e=m.jsonValues.slice();b.removeUnordered(e,"orthometric");const v=c.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});b=l=class extends f{constructor(A){super(A);this.heightModel="gravity-related-height";this.heightUnit="meters";this.vertCRS=null}writeHeightModel(A,t,w){return m.write(A,
t,w)}readHeightModel(A,t,w){if(t=m.read(A))return t;if(w?.messages){t=w.messages;var z=t.push;A=new n("height-model:unsupported",`Height model of value '${A}' is not supported`,{context:w});z.call(t,A)}return null}readHeightUnit(A,t,w){if(t=v.read(A))return t;w?.messages&&w.messages.push(p(A,{context:w}));return null}readHeightUnitService(A,t,w){if(t=d.unitFromRESTJSON(A)||v.read(A))return t;w?.messages&&w.messages.push(p(A,{context:w}));return null}readVertCRS(A,t){return t.vertCRS||t.ellipsoid||
t.geoid}clone(){return new l({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(A){return A?this===A?!0:this.heightModel===A.heightModel&&this.heightUnit===A.heightUnit&&this.vertCRS===A.vertCRS:!1}static deriveUnitFromSR(A,t){t=d.getVerticalUnitStringForSR(t);return new l({heightModel:A.heightModel,heightUnit:t??void 0,vertCRS:A.vertCRS})}write(A,t){t={origin:"web-scene",...t};return super.write(A,t)}static fromJSON(A){if(!A)return null;const t=new l;t.read(A,
{origin:"web-scene"});return t}};a.__decorate([q.property({type:m.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:e,default:"ellipsoidal",write:{isRequired:!0}}}}})],b.prototype,"heightModel",void 0);a.__decorate([u.writer("web-scene","heightModel")],b.prototype,"writeHeightModel",null);a.__decorate([h.reader(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",null);a.__decorate([q.property({type:v.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:v.jsonValues,
write:{writer:v.write,isRequired:!0}}}}})],b.prototype,"heightUnit",void 0);a.__decorate([h.reader("web-scene","heightUnit")],b.prototype,"readHeightUnit",null);a.__decorate([h.reader("service","heightUnit")],b.prototype,"readHeightUnitService",null);a.__decorate([q.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0);a.__decorate([h.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,"readVertCRS",null);return b=l=a.__decorate([r.subclass("esri.geometry.HeightModelInfo")],
b)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../time/timeZoneUtils".split(" "),function(a,b,c,f,d,n,q,e,g){b=class extends b.ClonableMixin(c){constructor(h){super(h);this.timeZone=this.realm=this.editDateField=this.editorField=this.creationDateField=this.creatorField=
null}};a.__decorate([f.property()],b.prototype,"creatorField",void 0);a.__decorate([f.property()],b.prototype,"creationDateField",void 0);a.__decorate([f.property()],b.prototype,"editorField",void 0);a.__decorate([f.property()],b.prototype,"editDateField",void 0);a.__decorate([f.property()],b.prototype,"realm",void 0);a.__decorate([f.property(g.timeZoneProperty("dateFieldsTimeReference",!0))],b.prototype,"timeZone",void 0);return b=a.__decorate([e.subclass("esri.layers.support.EditFieldsInfo")],b)})},
"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){a.FeatureIndex=class extends c.ClonableMixin(f){constructor(h){super(h)}};b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);b.__decorate([d.property({constructOnly:!0,
json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"indexType",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=
b.__decorate([g.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../kernel ../../core/asyncUtils ../../core/Error ../../core/jsonMap ../../core/sql ../../core/uuid ../../core/accessorSupport/extensions/serializableProperty/reader ./CodedValue ./CodedValueDomain ./featureQueryAll ./fieldUtils ./layerUtils ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../rest/support/AttachmentQuery ../../rest/support/NormalizationBinParametersMixin ../../rest/support/Query ../../rest/support/RelationshipQuery ../../symbols/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k){function x(D,R,Y){const {attributes:ja}=R,{objectIdField:da}=D;return D.capabilities?.data?.supportsAttachment?R?ja?da&&ja[da]?Promise.resolve():Promise.reject(new d(Y,`feature is missing the identifying attribute ${da}`)):Promise.reject(new d(Y,"'attributes' are required on a feature to query attachments")):Promise.reject(new d(Y,"A feature is required to add/delete/update attachments")):Promise.reject(new d(Y,"this layer doesn't support attachments"))}
function y(D,R){const {subtypes:Y,subtypeField:ja}=D;if(!R?.attributes||!Y?.length||!ja)return null;const da=R.attributes[ja];return null==da?null:Y.find(sa=>sa.code===da)}function B(D,R){const {fieldsIndex:Y,subtypeField:ja}=D,{name:da,type:sa}=Y.get(R)??{};return da?(ja&&Y.get(ja)?.name)===da&&D.subtypes?.length&&(D=D.subtypes.map(qa=>new h.CodedValue({code:J(qa.code,sa),name:qa.name})),D?.length)?new r({codedValues:D}):null:null}function E(D,R){const {fieldsIndex:Y}=D,{name:ja,type:da}=Y.get(R)??
{};return ja?("typeIdField"in D?Y.get(D.typeIdField)?.name:null)===ja&&"types"in D&&D.types?.length?(D=D.types.map(sa=>new h.CodedValue({code:J(sa.id,da),name:sa.name})),new r({codedValues:D})):null:null}function J(D,R){return R?p.isStringField({type:R})&&"number"===typeof D?`${D}`:p.isIntegerField({type:R})&&"string"===typeof D?Number.parseInt(D,10):D:D}async function K(D){return(await D.load()).source}async function H(D,R){if(c.id&&!c.id.findCredential(D)){var Y;try{const ja=await l.getOwningPortalUrl(D,
R);ja&&(Y=await c.id.checkSignInStatus(`${ja}/sharing`))}catch(ja){}if(Y)try{await c.id.getCredential(D,{signal:null!=R?R.signal:null})}catch(ja){}}}function F(D){return!!D?.toLowerCase().includes("current_user")}async function N(D,R,Y){if(null==R)return null;const ja=[],{objectIdField:da}=D;R.forEach(sa=>{let qa=null;"attributes"in sa?({attributes:sa}=sa,qa={globalId:sa[Y],objectId:null!=sa[da]&&-1!==sa[da]?sa[da]:null}):qa={globalId:sa.globalId,objectId:null!=sa.objectId&&-1!==sa.objectId?sa.objectId:
null};null!=qa.globalId&&(null!=qa.objectId&&-1!==qa.objectId||ja.push(qa.globalId))});if(0===ja.length)return null;R=D.createQuery();R.where=ja.map(sa=>`${Y}='${sa}'`).join(" OR ");R.returnGeometry=!1;R.outFields=[da,Y];R.cacheHint=!1;R=await f.resultOrAbort(u.queryAllJSON(D,R));if(!R.ok)return null;D=new Map;R=R.value.features;for(const sa of R){R=sa.attributes[Y];const qa=sa.attributes[da];null!=R&&null!=qa&&-1!==qa&&D.set(e.normalizeGlobalID(R),qa)}return D}function S(D,R,Y){if(!R||!Y||!D)return null;
const ja=Y.getAttribute(R);return null==ja?null:D.find(da=>{({id:da}=da);return null!=da&&da.toString()===ja.toString()})??null}function W(D){return D.sourceJSON?.isMultiServicesView||L(D)}function L(D){return!!D.sourceJSON?.capabilities?.toLowerCase().split(",").map(R=>R.trim()).includes("map")}function P(D,R){return null!=D&&!!R?.[t.normalizationTypeJsonMap.toJSON(D)]}n=new n.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",
esriGeometryMultiPatch:"multipatch"});const X=g.createTypeReader({types:k.symbolTypesRenderer});b.addAttachment=async function(D,R,Y,ja){const da=await K(D);await x(D,R,ja);if(!da.addAttachment)throw new d(ja,"Layer source does not support addAttachment capability");return da.addAttachment(R,Y)};b.applyEdits=async function(D,R,Y){const {applyEdits:ja}=await new Promise((sa,qa)=>a(["../graphics/editingSupport"],sa,qa));D=await D.load();let da=Y;"feature"===D.type&&D.infoFor3D&&null!=R.deleteFeatures&&
null!=D.globalIdField&&(da={...da,globalIdToObjectId:await N(D,R.deleteFeatures,D.globalIdField)});return ja(D,D.source,R,Y)};b.checkServiceCurrentUserSupport=async function(D){const R=D.parsedUrl?.path;var Y;if(Y=R)Y=!(!l.isLayerWithFeatureCapabilities(D)||!D.capabilities?.query.supportsCurrentUser)&&("serviceDefinitionExpression"in D&&F(D.serviceDefinitionExpression)||"definitionExpression"in D&&F(D.definitionExpression));Y&&await H(R)};b.computeDomainFromSubtypes=B;b.computeDomainFromTypes=E;b.computeEffectiveEditingEnabled=
function(D){return W(D)?!1:D.userHasUpdateItemPrivileges||D.editingEnabled};b.createDefaultRenderer=function(D,R){if(D.defaultSymbol)return D.types?.length?new v({defaultSymbol:X(D.defaultSymbol,D,R),field:D.typeIdField,uniqueValueInfos:D.types.map(Y=>({id:Y.id,symbol:X(Y.symbol,Y,R)}))}):new m({symbol:X(D.defaultSymbol,D,R)})};b.createQuery=function(D){const R=new w,Y=D.capabilities?.data,ja=D.capabilities?.query;R.historicMoment=D.historicMoment;R.gdbVersion=D.gdbVersion;R.returnGeometry=!0;ja&&
(R.compactGeometryEnabled=ja.supportsCompactGeometry,R.defaultSpatialReferenceEnabled=ja.supportsDefaultSpatialReference);Y&&(Y.supportsZ&&null!=D.returnZ&&(R.returnZ=D.returnZ),Y.supportsM&&null!=D.returnM&&(R.returnM=D.returnM));R.outFields=["*"];const {timeOffset:da,timeExtent:sa}=D;R.timeExtent=null!=da&&null!=sa?sa.offset(-da.value,da.unit):sa||null;R.multipatchOption="multipatch"===D.geometryType?"xyFootprint":null;return R};b.deleteAttachments=async function(D,R,Y,ja){const da=await K(D);await x(D,
R,ja);if(!da.deleteAttachments)throw new d(ja,"Layer source does not support deleteAttachments capability");return da.deleteAttachments(R,Y)};b.ensureCredentialIfSignedIn=H;b.ensureLayerCredential=async function(D,R,Y){const ja=D.parsedUrl?.path;ja&&D.authenticationTriggerEvent===R&&await H(ja,Y)};b.fetchRecomputedExtents=async function(D,R,Y){D=(await D.load({signal:R?.signal})).source;if(!D.fetchRecomputedExtents)throw new d(Y,"Layer source does not support fetchUpdates capability");return D.fetchRecomputedExtents(R)};
b.geometryTypeKebabDict=n;b.getFeatureSubtype=y;b.getFeatureType=S;b.getFieldDomain=function(D,R,Y,ja){var da=Y?.feature,sa=!!D.subtypes?.length;if(sa&&!Y?.excludeImpliedDomains){const qa=B(D,R);if(qa)return qa}return(sa=sa&&y(D,da))?(D=sa?.domains?.[R],"inherited"===D?.type?ja:D):(da=S(D.types,D.typeIdField,da))&&(da=da.domains&&da.domains[R])&&"inherited"!==da?.type?da:ja||!Y?.excludeImpliedDomains&&(ja=E(D,R))?ja:null};b.getGlobalIdToObjectIdMap=N;b.getSignedInUser=async function(D,R){if(c.id){var Y=
c.id.findCredential(D);if(Y)return Y.userId;var ja;try{const da=await l.getOwningPortalUrl(D,R);da&&(ja=await c.id.checkSignInStatus(`${da}/sharing`))}catch(da){}return ja?ja.userId:null}};b.hasCurrentUser=F;b.hasDataChanged=async function(D){const R=D.source;if(R?.refresh)try{const {dataChanged:Y,updates:ja}=await R.refresh();null!=ja&&(D.sourceJSON={...D.sourceJSON,...ja},D.read(ja,{origin:"service",url:D.parsedUrl}));if(Y)return!0}catch{}if(D.definitionExpression)try{return(await q.parseWhereClause(D.definitionExpression,
D.fieldsIndex)).hasDateFunctions}catch{}return!1};b.isLayerCacheStale=function(D){let R=D.sourceJSON?.cacheMaxAge;if(!R)return!1;D=D.editingInfo?.lastEditDate?.getTime();if(null==D)return!0;R*=1E3;return Date.now()-D<R};b.queryAttachments=async function(D,R,Y,ja){R=A.from(R);await D.load();Y=D.source;D=D.capabilities;if(!D?.data?.supportsAttachment)throw new d(ja,"this layer doesn't support attachments");const {attachmentTypes:da,objectIds:sa,globalIds:qa,num:ia,size:la,start:ua,where:ya}=R;if(!D?.operations?.supportsQueryAttachments&&
(0<da?.length||0<qa?.length||0<la?.length||ia||ua||ya))throw new d(ja,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",R);if(!(sa?.length||qa?.length||ya))throw new d(ja,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",R);if(!Y.queryAttachments)throw new d(ja,"Layer source does not support queryAttachments capability",R);!D?.attachment?.supportsOrderByFields&&R.orderByFields?.length&&(R=R.clone(),R.orderByFields=null);return Y.queryAttachments(R)};
b.queryExtent=async function(D,R,Y,ja){const da=await K(D);if(!da.queryExtent)throw new d(ja,"Layer source does not support queryExtent capability");return da.queryExtent(w.from(R)??D.createQuery(),Y)};b.queryFeatureCount=async function(D,R,Y,ja){const da=await K(D);if(!da.queryFeatureCount)throw new d(ja,"Layer source does not support queryFeatureCount capability");return da.queryFeatureCount(w.from(R)??D.createQuery(),Y)};b.queryObjectIds=async function(D,R,Y,ja){const da=await K(D);if(!da.queryObjectIds)throw new d(ja,
"Layer source does not support queryObjectIds capability");return da.queryObjectIds(w.from(R)??D.createQuery(),Y)};b.queryRelatedFeatures=async function(D,R,Y,ja){D=await K(D);if(!D.queryRelatedFeatures)throw new d(ja,"Layer source does not support queryRelatedFeatures capability");return D.queryRelatedFeatures(z.from(R),Y)};b.queryRelatedFeaturesCount=async function(D,R,Y,ja){D=await K(D);if(!D.queryRelatedFeaturesCount)throw new d(ja,"Layer source does not support queryRelatedFeaturesCount capability");
return D.queryRelatedFeaturesCount(z.from(R),Y)};b.readGlobalIdField=function(D){const {globalIdField:R,fields:Y}=D;if(R)return R;if(Y)for(const ja of Y)if("esriFieldTypeGlobalID"===ja.type)return ja.name};b.readObjectIdField=function(D){const {objectIdField:R,fields:Y}=D;if(R)return R;if(Y)for(const ja of Y)if("esriFieldTypeOID"===ja.type)return ja.name};b.readVersion=function(D){return D.currentVersion?D.currentVersion:D.hasOwnProperty("capabilities")||D.hasOwnProperty("drawingInfo")||D.hasOwnProperty("hasAttachments")||
D.hasOwnProperty("htmlPopupType")||D.hasOwnProperty("relationships")||D.hasOwnProperty("timeInfo")||D.hasOwnProperty("typeIdField")||D.hasOwnProperty("types")?10:9.3};b.supportsQueryOnly=W;b.updateAttachment=async function(D,R,Y,ja,da){const sa=await K(D);await x(D,R,da);if(!sa.updateAttachment)throw new d(da,"Layer source does not support updateAttachment capability");return sa.updateAttachment(R,Y,ja)};b.uploadAssets=async function(D,R,Y){const {uploadAssets:ja}=await new Promise((da,sa)=>a(["../graphics/editingSupport"],
da,sa));D=await D.load();return ja(D,D.source,R,Y)};b.validateBinsQuery=function(D,R,Y){R=R?.queryAttributeBins;if(!R)throw new d(Y,"Layer source does not support binning");switch(D.binParameters.type){case "auto-interval":if(!R.supportsAutoInterval)throw new d(Y,"Layer source does not support auto-interval binning");if(D.binParameters.normalizationType&&(!R.supportsNormalization||!P(D.binParameters.normalizationType,R.supportedNormalizationTypes)))throw new d(Y,"Layer source does not support normalization binning");
break;case "date":if(!R.supportsDate)throw new d(Y,"Layer source does not support date binning");if(D.binParameters.snapToData&&!R.supportsSnapToData)throw new d(Y,"Layer source does not support snapToData binning");if(D.binParameters.returnFullIntervalBin&&!R.supportsReturnFullIntervalBin)throw new d(Y,"Layer source does not support returnFullIntervalBin binning");break;case "fixed-boundaries":if(!R.supportsFixedBoundaries)throw new d(Y,"Layer source does not support fixed-boundaries binning");break;
case "fixed-interval":if(!R.supportsFixedInterval)throw new d(Y,"Layer source does not support fixed-interval binning");if(D.binParameters.normalizationType&&(!R.supportsNormalization||!P(D.binParameters.normalizationType,R.supportedNormalizationTypes)))throw new d(Y,"Layer source does not support normalization binning");}if(D.binParameters.stackBy&&!R.supportsStackBy)throw new d(Y,"Layer source does not support stackBy binning");if(D.binParameters.splitBy&&!R.supportsSplitBy)throw new d(Y,"Layer source does not support splitBy binning");
if(D.binParameters.firstDayOfWeek&&!R.supportsFirstDayOfWeek)throw new d(Y,"Layer source does not support firstDayOfWeek binning");R=R?.supportedStatistics;if(D.outStatistics&&R){const ja=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);
for(const {statisticType:da}of D.outStatistics)if((D=ja.get(da))&&!R[D])throw new d(Y,`Layer source does not support ${da} statistic type`);}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureQueryAll":function(){define(["exports","../../rest/support/Query"],function(a,b){function c(n){return d(n)*f(n)}function f(n){return n.capabilities.query.maxRecordCount||2E3}function d(n){return n.capabilities.query.supportsMaxRecordCountFactor?b.MAX_MAX_RECORD_COUNT_FACTOR:
1}a.getMaxRecordCountFactor=d;a.getMaximumQuerySize=c;a.getMaximumRecordCount=f;a.queryAllJSON=async function(n,q,e){q=q.clone();n.capabilities.query.supportsMaxRecordCountFactor&&(q.maxRecordCountFactor=d(n));const g=c(n),h=n.capabilities.query.supportsPagination;q.start=0;q.num=g;let r=null;for(;;){const u=await n.source.queryFeaturesJSON(q,e);null==r?r=u:r.features=r.features.concat(u.features);r.exceededTransferLimit=u.exceededTransferLimit;if(!h||!u.exceededTransferLimit)break;q.start+=g}return r};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/SimpleRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),function(a,b,c,f,d,n,q,e,g,h){var r;f=r=class extends g.VisualVariablesMixin(e){constructor(u){super(u);this.symbol=
this.label=this.description=null;this.type="simple"}async collectRequiredFields(u,p){await Promise.all([this.collectSymbolFields(u,p),this.collectVVRequiredFields(u,p)])}async collectSymbolFields(u,p){await Promise.all(this.symbols.map(l=>l.collectRequiredFields(u,p)))}getSymbol(u,p){return this.symbol}async getSymbolAsync(u,p){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((u,p)=>u+p.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((u,
p)=>u+=JSON.stringify(p),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new r({description:this.description,label:this.label,symbol:b.clone(this.symbol),visualVariables:b.clone(this.visualVariables),authoringInfo:b.clone(this.authoringInfo)})}};a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);a.__decorate([c.property(h.requiredRendererSymbolProperty)],
f.prototype,"symbol",void 0);a.__decorate([n.enumeration({simple:"simple"})],f.prototype,"type",void 0);return f=r=a.__decorate([q.subclass("esri.renderers.SimpleRenderer")],f)})},"esri/renderers/Renderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),function(a,b,c,f,d,n,q,e,g){b=new b.JSONMap({simple:"simple",
uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});c=class extends c{constructor(h){super(h);this.type=this.authoringInfo=null}async getRequiredFields(h){if(!this.collectRequiredFields)return[];const r=new Set;await this.collectRequiredFields(r,h);return Array.from(r).sort()}getSymbol(h,r){}async getSymbolAsync(h,r){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};
a.__decorate([f.property({type:g,json:{write:!0}})],c.prototype,"authoringInfo",void 0);a.__decorate([f.property({type:b.apiValues,readOnly:!0,json:{type:b.jsonValues,read:!1,write:{writer:b.write,ignoreOrigin:!0,isRequired:!0}}})],c.prototype,"type",void 0);return c=a.__decorate([e.subclass("esri.renderers.Renderer")],c)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;const p=new b.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),l=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",
flow:"flow"});b=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const m="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers".split(" ");c=u=class extends c{constructor(v){super(v);this.fadeRatio=this.colorRamp=null;this.isAutoGenerated=!1;this.visualVariables=this.minSliderValue=this.maxSliderValue=
this.lengthUnit=null}get classificationMethod(){const v=this._get("classificationMethod"),A=this.type;return A&&"relationship"!==A?"class-breaks-size"===A||"class-breaks-color"===A?v||"manual":null:v}set classificationMethod(v){this._set("classificationMethod",v)}readColorRamp(v){return v?r.fromJSON(v):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(v){this._set("fields",v)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(v){this._set("field1",
v)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(v){this._set("field2",v)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(v){this._set("flowTheme",v)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(v){this._set("focus",v)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(v){this._set("numClasses",v)}get statistics(){return"univariate-color-size"===
this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(v){this._set("statistics",v)}get standardDeviationInterval(){const v=this.type;return v&&"relationship"!==v&&"class-breaks-size"!==v&&"class-breaks-color"!==v?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(v){this._set("standardDeviationInterval",v)}get type(){return this._get("type")}set type(v){let A=
v;"classed-size"===v?A="class-breaks-size":"classed-color"===v&&(A="class-breaks-color");this._set("type",A)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(v){this._set("univariateSymbolStyle",v)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(v){this._set("univariateTheme",v)}clone(){return new u({classificationMethod:this.classificationMethod,
colorRamp:f.clone(this.colorRamp),fadeRatio:f.clone(this.fadeRatio),fields:this.fields?.slice(),field1:f.clone(this.field1),field2:f.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(v=>v.clone()),
univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};a.__decorate([d.property({type:p.apiValues,value:null,json:{type:p.jsonValues,read:p.read,write:p.write,origins:{"web-document":{default:"manual",type:p.jsonValues,read:p.read,write:p.write}}}})],c.prototype,"classificationMethod",null);a.__decorate([d.property({types:r.types,json:{write:!0}})],c.prototype,"colorRamp",void 0);a.__decorate([q.reader("colorRamp")],c.prototype,"readColorRamp",
null);a.__decorate([d.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"fadeRatio",void 0);a.__decorate([d.property({type:[String],value:null,json:{write:!0}})],c.prototype,"fields",null);a.__decorate([d.property({type:g.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],c.prototype,"field1",null);a.__decorate([d.property({type:g.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],c.prototype,"field2",null);a.__decorate([d.property({type:["flow-line","wave-front"],
value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"flowTheme",null);a.__decorate([d.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],c.prototype,"focus",null);a.__decorate([d.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],c.prototype,"isAutoGenerated",void 0);a.__decorate([d.property({type:Number,value:null,json:{type:n.Integer,write:!0}})],c.prototype,"numClasses",null);a.__decorate([d.property({type:m,json:{type:m,
read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],c.prototype,"lengthUnit",void 0);a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"maxSliderValue",void 0);a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"minSliderValue",void 0);a.__decorate([d.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"statistics",null);
a.__decorate([d.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],c.prototype,"standardDeviationInterval",null);a.__decorate([d.property({type:l.apiValues,value:null,json:{type:l.jsonValues,read:l.read,write:l.write,origins:{"web-scene":{type:b.jsonValues,write:{writer:b.write,overridePolicy(v){return{enabled:"flow"!==v}}}}}}})],c.prototype,"type",null);a.__decorate([d.property({type:[h],json:{write:!0}})],c.prototype,"visualVariables",void 0);a.__decorate([d.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),
value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"univariateSymbolStyle",null);a.__decorate([d.property({type:["high-to-low","above-and-below","above","below"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"univariateTheme",null);return c=u=a.__decorate([e.subclass("esri.renderers.support.AuthoringInfo")],c)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;a.AuthoringInfoFieldInfo=h=class extends c{constructor(r){super(r);this.label=this.normalizationField=this.field="";this.classBreakInfos=[]}clone(){return new h({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:f.clone(this.classBreakInfos)})}};b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,
"normalizationField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);b.__decorate([d.property({type:[g.AuthoringInfoClassBreakInfo],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=h=b.__decorate([e.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){var g;a.AuthoringInfoClassBreakInfo=g=class extends c{constructor(h){super(h);this.maxValue=this.minValue=0}clone(){return new g({minValue:this.minValue,maxValue:this.maxValue})}};b.__decorate([f.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=g=b.__decorate([e.subclass("esri.renderers.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ./AuthoringInfoSizeStop".split(" "),function(a,b,c,f,d,n,q,e){var g;const h=new b.JSONMap({percentTotal:"percent-of-total",
ratio:"ratio",percent:"percent"});b=new b.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const r={key(m){return"number"===typeof m?"number":"string"},typeMap:{number:Number,string:String},base:null},u=["high-to-low","above-and-below","centered-on","extremes"],p=[...(new Set("high-to-low above-and-below centered-on extremes above below high-to-low above-and-below above below reference-size".split(" ")))],l="seconds minutes hours days months years".split(" ");
c=g=class extends c{constructor(m){super(m);this.units=this.type=this.startTime=this.minSliderValue=this.maxSliderValue=this.field=this.endTime=null}castEndTime(m){return"string"===typeof m||"number"===typeof m?m:null}get normalizationField(){return"reference-size"===this.theme?this._get("normalizationField"):null}set normalizationField(m){this._set("normalizationField",m)}get referenceSizeScale(){return"reference-size"===this.theme?this._get("referenceSizeScale"):null}set referenceSizeScale(m){this._set("referenceSizeScale",
m)}get referenceSizeSymbolStyle(){return"reference-size"===this.theme?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(m){this._set("referenceSizeSymbolStyle",m)}castStartTime(m){return"string"===typeof m||"number"===typeof m?m:null}get sizeStops(){return"reference-size"===this.theme?this._get("sizeStops"):null}set sizeStops(m){this._set("sizeStops",m)}get style(){return"color"===this.type?this._get("style"):null}set style(m){this._set("style",m)}get theme(){return"color"===
this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(m){this._set("theme",m)}clone(){return new g({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:f.clone(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};
a.__decorate([d.property({types:r,json:{write:!0}})],c.prototype,"endTime",void 0);a.__decorate([n.cast("endTime")],c.prototype,"castEndTime",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxSliderValue",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"minSliderValue",void 0);a.__decorate([d.property({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],
c.prototype,"normalizationField",null);a.__decorate([d.property({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"referenceSizeScale",null);a.__decorate([d.property({type:["circle","diamond","hexagon-flat","hexagon-pointy","square"],value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"referenceSizeSymbolStyle",null);a.__decorate([d.property({types:r,json:{write:!0}})],c.prototype,"startTime",void 0);a.__decorate([n.cast("startTime")],c.prototype,
"castStartTime",null);a.__decorate([d.property({type:[e],json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"sizeStops",null);a.__decorate([d.property({type:h.apiValues,value:null,json:{type:h.jsonValues,read:h.read,write:h.write}})],c.prototype,"style",null);a.__decorate([d.property({type:p,value:null,json:{type:p,origins:{"web-scene":{type:u,write:{writer:(m,v)=>{u.includes(m)&&(v.theme=m)}}}},write:!0}})],c.prototype,"theme",null);a.__decorate([d.property({type:b.apiValues,json:{type:b.jsonValues,
read:b.read,write:b.write}})],c.prototype,"type",void 0);a.__decorate([d.property({type:l,json:{type:l,write:!0}})],c.prototype,"units",void 0);return c=g=a.__decorate([q.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],c)})},"esri/renderers/support/AuthoringInfoSizeStop":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);this.value=this.size=this.label=null}clone(){return new e({label:this.label,value:this.value,size:this.size})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=e=a.__decorate([q.subclass("esri.renderers.support.AuthoringInfoSizeStop")],
b)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,f){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:f}};a.fromJSON=function(d){return d?.type?"algorithmic"===d.type?b.fromJSON(d):"multipart"===d.type?f.fromJSON(d):null:null};a.types=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,c,f,d,n,q,e){var g;e=g=class extends e{constructor(h){super(h);this.toColor=this.fromColor=this.algorithm=null;this.type="algorithmic"}clone(){return new g({fromColor:c.clone(this.fromColor),toColor:c.clone(this.toColor),algorithm:this.algorithm})}};a.__decorate([n.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],e.prototype,"algorithm",void 0);a.__decorate([f.property({type:b,json:{type:[d.Integer],write:!0}})],e.prototype,"fromColor",
void 0);a.__decorate([f.property({type:b,json:{type:[d.Integer],write:!0}})],e.prototype,"toColor",void 0);a.__decorate([f.property({type:["algorithmic"]})],e.prototype,"type",void 0);return e=g=a.__decorate([q.subclass("esri.rest.support.AlgorithmicColorRamp")],e)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.type=null}};a.__decorate([c.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.rest.support.ColorRamp")],b)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,f,d,n,q,e){var g;f=g=class extends e{constructor(h){super(h);this.colorRamps=null;this.type="multipart"}clone(){return new g({colorRamps:b.clone(this.colorRamps)})}};a.__decorate([c.property({type:[q],json:{write:!0}})],f.prototype,"colorRamps",void 0);a.__decorate([c.property({type:["multipart"]})],f.prototype,"type",void 0);return f=g=a.__decorate([n.subclass("esri.rest.support.MultipartColorRamp")],f)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory ../../support/arcadeExpressionUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A){const t={base:m,key:"type",typeMap:{opacity:u,color:r,rotation:p,size:l}};a.VisualVariablesMixin=w=>{w=class extends w{constructor(){super(...arguments);this._vvFactory=new v}set visualVariables(z){this._vvFactory.visualVariables=z;this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(z,k,x){return this._vvFactory.readVariables(z,k,x)}writeVisualVariables(z,k,x,y){k[x]=this._vvFactory.writeVariables(z,y)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some(({arcadeRequired:z})=>
z)??!1}hasVisualVariables(z,k){return z?0<this.getVisualVariablesForType(z,k).length:0<this.getVisualVariablesForType("size",k).length||0<this.getVisualVariablesForType("color",k).length||0<this.getVisualVariablesForType("opacity",k).length||0<this.getVisualVariablesForType("rotation",k).length}getVisualVariablesForType(z,k){return this.visualVariables?.filter(x=>x.type===z&&("string"===typeof k?x.target===k:!1===k?!x.target:!0))??[]}async collectVVRequiredFields(z,k){var x=[];this.visualVariables&&
(x=x.concat(this.visualVariables));for(const B of x)if(B&&(B.field&&h.collectField(z,k,B.field),B.normalizationField&&h.collectField(z,k,B.normalizationField),B.valueExpression)){{x=z;var y=k;const E=A.matchRandomRotationExpression(B.valueExpression);null!=E?(h.collectField(x,y,E),x=!0):x=!1}x||await h.collectArcadeFieldNames(z,k,B.valueExpression)}}};b.__decorate([c.property({types:[t],value:null,json:{write:!0}})],w.prototype,"visualVariables",null);b.__decorate([q.reader("visualVariables",["visualVariables",
"rotationType","rotationExpression"])],w.prototype,"readVisualVariables",null);b.__decorate([g.writer("visualVariables")],w.prototype,"writeVisualVariables",null);return w=b.__decorate([e.subclass("esri.renderers.mixins.VisualVariablesMixin")],w)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends q{constructor(h){super(h);this.type="color";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(h){h&&Array.isArray(h)&&(h=h.filter(r=>!!r),h.sort((r,u)=>r.value-u.value));this._set("stops",h)}clone(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
stops:this.stops&&this.stops.map(h=>h.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(h=>h.value||0)}};a.__decorate([b.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([b.property({type:["color"],json:{type:["colorInfo"]}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);
a.__decorate([b.property({type:[e],json:{write:!0}})],c.prototype,"stops",null);return c=g=a.__decorate([n.subclass("esri.renderers.visualVariables.ColorVariable")],c)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,f,d,n,q,e,g){b=new b.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});c=class extends c{constructor(h){super(h);this.legendOptions=this.valueExpressionTitle=this.valueExpression=this.field=this.type=this.index=null}castField(h){return null==h?h:"function"===typeof h?(f.getLogger(this).error(".field: field must be a string value"),null):e.ensureString(h)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};
a.__decorate([d.property()],c.prototype,"index",void 0);a.__decorate([d.property({type:b.apiValues,readOnly:!0,json:{read:b.read,write:{writer:b.write,isRequired:!0}}})],c.prototype,"type",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([n.cast("field")],c.prototype,"castField",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,
"valueExpressionTitle",void 0);a.__decorate([d.property({readOnly:!0})],c.prototype,"arcadeRequired",null);a.__decorate([d.property({type:g,json:{write:!0}})],c.prototype,"legendOptions",void 0);return c=a.__decorate([q.subclass("esri.renderers.visualVariables.VisualVariable")],c)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/Clonable ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){b=class extends b.ClonableMixin(c){constructor(){super(...arguments);this.title=this.showLegend=null}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"showLegend",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=a.__decorate([e.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],b)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/has ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;c=h=class extends c{constructor(r){super(r);this.value=this.label=this.color=null}writeValue(r,u,p){u[p]=null==r?0:r}clone(){return new h({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};a.__decorate([f.property({type:b,json:{type:[d.Integer],write:{isRequired:!0}}})],c.prototype,"color",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([f.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
c.prototype,"value",void 0);a.__decorate([g.writer("value")],c.prototype,"writeValue",null);return c=h=a.__decorate([e.subclass("esri.renderers.visualVariables.support.ColorStop")],c)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),function(a,b,c,f,d,n,q,e){var g;
c=g=class extends q{constructor(h){super(h);this.type="opacity";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(h){h&&Array.isArray(h)&&(h=h.filter(r=>!!r),h.sort((r,u)=>r.value-u.value));this._set("stops",h)}clone(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(h=>
h.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(h=>h.value||0)}};a.__decorate([b.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([b.property({type:["opacity"],json:{type:["transparencyInfo"]}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[e],
json:{write:!0}})],c.prototype,"stops",null);return c=g=a.__decorate([n.subclass("esri.renderers.visualVariables.OpacityVariable")],c)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/has ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;b=r=class extends b{constructor(u){super(u);this.value=this.opacity=this.label=null}readOpacity(u,p){return h.transparencyToOpacity(p.transparency)}writeOpacity(u,p,l){p[l]=h.opacityToTransparency(u)}clone(){return new r({label:this.label,opacity:this.opacity,value:this.value})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,json:{type:f.Integer,write:{target:"transparency",isRequired:!0}}})],
b.prototype,"opacity",void 0);a.__decorate([q.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);a.__decorate([g.writer("opacity")],b.prototype,"writeOpacity",null);a.__decorate([c.property({type:Number,json:{write:{isRequired:!0}}})],b.prototype,"value",void 0);return b=r=a.__decorate([e.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable".split(" "),
function(a,b,c,f,d,n,q){var e;c=e=class extends q{constructor(g){super(g);this.axis=null;this.type="rotation";this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new e({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};a.__decorate([b.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([b.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],c.prototype,"axis",void 0);a.__decorate([b.property({type:["rotation"],json:{type:["rotationInfo"]}})],c.prototype,"type",void 0);a.__decorate([b.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],c.prototype,"rotationType",void 0);return c=e=a.__decorate([n.subclass("esri.renderers.visualVariables.RotationVariable")],c)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/castSizeVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){function v(x){if(null!=x){if("string"===typeof x||"number"===typeof x)return r.castSizeFromStringOrNumber(x);if("size"===x.type){if(l.isSizeVariable(x))return x;x={...x};delete x.type;return new k(x)}}}function A(x,y,B){if("object"!==typeof x)return x;y=new k;y.read(x,B);return y}var t;const w=new c.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),z=new c.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",
mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});let k=t=class extends h{constructor(x){super(x);this.target=this.scaleBy=this.normalizationField=this.legendOptions=this.axis=null;this.type="size";this.valueUnit=this.valueRepresentation=this.valueExpression=this.useSymbolValue=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=
this.valueExpression&&m.viewScaleRE.test(this.valueExpression)}}set index(x){l.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${x}].maxSize`);l.isSizeVariable(this.minSize)&&(this.minSize.index=`visualVariables[${x}].minSize`);this._set("index",x)}get inputValueType(){return l.getInputValueType(this)}set maxDataValue(x){x&&this.stops&&(f.getLogger(this).warn("cannot set maxDataValue when stops is not null."),x=null);this._set("maxDataValue",x)}set maxSize(x){x&&this.stops&&(f.getLogger(this).warn("cannot set maxSize when stops is not null."),
x=null);this._set("maxSize",x)}castMaxSize(x){return v(x)}readMaxSize(x,y,B){return A(x,y,B)}set minDataValue(x){x&&this.stops&&(f.getLogger(this).warn("cannot set minDataValue when stops is not null."),x=null);this._set("minDataValue",x)}set minSize(x){x&&this.stops&&(f.getLogger(this).warn("cannot set minSize when stops is not null."),x=null);this._set("minSize",x)}castMinSize(x){return v(x)}readMinSize(x,y,B){return A(x,y,B)}get arcadeRequired(){return this.valueExpression?!0:null!=this.minSize&&
"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(x){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?x&&Array.isArray(x)&&(x=x.filter(y=>!!y),x.sort((y,B)=>y.value-B.value)):x&&(f.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),x=null);this._set("stops",x)}get transformationType(){return l.getTransformationType(this,
this.inputValueType)}readValueExpression(x,y){return x||y.expression&&"$view.scale"}writeValueExpressionWebScene(x,y,B,E){"$view.scale"===x?E?.messages&&(x=this.index,E.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof x?x:`visualVariables[${x}]`)+".valueExpression",context:E}))):y[B]=x}readValueUnit(x){return x?z.read(x):
null}clone(){return new t({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:l.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:l.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(x=>x.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,
valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===l.TransformationType.ClampedLinear){const {minSize:x,maxSize:y}=this;this.minSize=y;this.maxSize=x;return this}if(this.transformationType===l.TransformationType.Stops){const x=this.stops;if(!x)return this;const y=x.map(E=>E.size).reverse(),B=x.length;for(let E=0;E<B;E++)x[E].size=y[E]}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(x=>
x.value||0)}};a.__decorate([d.property({readOnly:!0})],k.prototype,"cache",null);a.__decorate([d.property({type:w.apiValues,json:{type:w.jsonValues,origins:{"web-map":{read:!1}},read:w.read,write:w.write}})],k.prototype,"axis",void 0);a.__decorate([d.property()],k.prototype,"index",null);a.__decorate([d.property({type:String,readOnly:!0})],k.prototype,"inputValueType",null);a.__decorate([d.property({type:p,json:{write:!0}})],k.prototype,"legendOptions",void 0);a.__decorate([d.property({type:Number,
value:null,json:{write:!0}})],k.prototype,"maxDataValue",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],k.prototype,"maxSize",null);a.__decorate([n.cast("maxSize")],k.prototype,"castMaxSize",null);a.__decorate([q.reader("maxSize")],k.prototype,"readMaxSize",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],k.prototype,"minDataValue",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],k.prototype,"minSize",null);a.__decorate([n.cast("minSize")],
k.prototype,"castMinSize",null);a.__decorate([q.reader("minSize")],k.prototype,"readMinSize",null);a.__decorate([d.property({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0);a.__decorate([d.property({readOnly:!0})],k.prototype,"arcadeRequired",null);a.__decorate([d.property({type:String})],k.prototype,"scaleBy",void 0);a.__decorate([d.property({type:[u],value:null,json:{write:!0}})],k.prototype,"stops",null);a.__decorate([d.property({type:["outline"],json:{write:!0}})],k.prototype,
"target",void 0);a.__decorate([d.property({type:String,readOnly:!0})],k.prototype,"transformationType",null);a.__decorate([d.property({type:["size"],json:{type:["sizeInfo"]}})],k.prototype,"type",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],k.prototype,"useSymbolValue",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0);a.__decorate([q.reader("valueExpression",["valueExpression","expression"])],k.prototype,
"readValueExpression",null);a.__decorate([g.writer("web-scene","valueExpression")],k.prototype,"writeValueExpressionWebScene",null);a.__decorate([d.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],k.prototype,"valueRepresentation",void 0);a.__decorate([d.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],k.prototype,"valueUnit",void 0);a.__decorate([q.reader("valueUnit")],k.prototype,"readValueUnit",
null);return k=t=a.__decorate([e.subclass("esri.renderers.visualVariables.SizeVariable")],k)})},"esri/renderers/visualVariables/support/castSizeVariable":function(){define(["exports","../../../core/screenUtils"],function(a,b){a.castSizeFromStringOrNumber=function(c){return b.toPt(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){var g;b=g=class extends b{constructor(h){super(h);this.useMaxValue=this.useMinValue=this.value=this.size=this.label=null}clone(){return new g({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([f.property({type:Number,cast:c.toPt,json:{write:{isRequired:!0}}})],b.prototype,"size",void 0);a.__decorate([f.property({type:Number,
json:{write:{isRequired:!0}}})],b.prototype,"value",void 0);a.__decorate([f.property({type:Boolean,json:{write:!1}})],b.prototype,"useMinValue",void 0);a.__decorate([f.property({type:Boolean,json:{write:!1}})],b.prototype,"useMaxValue",void 0);return b=g=a.__decorate([e.subclass("esri.renderers.visualVariables.support.SizeStop")],b)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,c,f,d,n,q){c=class extends q{constructor(){super(...arguments);this.customValues=null}};a.__decorate([b.property({type:[Number],json:{write:!0}})],c.prototype,"customValues",void 0);return c=a.__decorate([n.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],c)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function b(c){return c.valueExpression?a.InputValueType.Expression:c.field&&"string"===typeof c.field?
a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(c){c.Unknown="unknown";c.Expression="expression";c.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(c){c.Unknown="unknown";c.Stops="stops";c.ClampedLinear="clamped-linear";c.Proportional="proportional";c.Additive="additive";c.Constant="constant";c.Identity="identity";c.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=
b;a.getTransformationType=function(c,f){return(f||b(c))===a.InputValueType.Unknown?a.TransformationType.Constant:c.stops?a.TransformationType.Stops:null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(c.valueUnit||"unknown")?null!=c.minSize&&null!=c.minDataValue?c.minSize&&c.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=
function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../support/lengthUtils ./sizeVariableUtils".split(" "),function(a,b,c,f,d,n,q){function e(x,y,B){if(x="visualVariables"in
x&&x.visualVariables?x.visualVariables.find(W=>"color"===W.type):x)if("esri.renderers.visualVariables.ColorVariable"!==x.declaredClass)t("ColorVariable");else{var E="number"===typeof y,J=E?null:y,K=J?.attributes,H=E?y:null,F=x.field,{ipData:N,hasExpression:S}=x.cache;y=x.cache.compiledFunc;if(!F&&!S)return(B=x.stops)&&B[0]&&B[0].color;if("number"!==typeof H)if(S){if(null==B?.arcade){w();return}H=B.arcade.arcadeUtils;F=H.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});
J=H.createExecContext(J,F,B.timeZone);y||(y=H.createSyntaxTree(x.valueExpression),y=H.createFunction(y),x.cache.compiledFunc=y);H=H.executeFunction(y,J)}else K&&(H=K[F]);J=x.normalizationField;K=null!=K&&null!=J?parseFloat(K[J]):void 0;if(null!=H&&(!J||E||!isNaN(K)&&0!==K)&&(isNaN(K)||E||(H/=K),E=v(H,N)))return K=E[0],J=E[1],B=K===J?x.stops[K].color:b.blendColors(x.stops[K].color,x.stops[J].color,E[2],null!=B?B.color:void 0),new b(B)}}function g(x,y,B){if(x="visualVariables"in x&&x.visualVariables?
x.visualVariables.find(W=>"opacity"===W.type):x)if("esri.renderers.visualVariables.OpacityVariable"!==x.declaredClass)t("OpacityVariable");else{var E="number"===typeof y,J=E?null:y,K=J?.attributes,H=E?y:null,F=x.field,{ipData:N,hasExpression:S}=x.cache;y=x.cache.compiledFunc;if(!F&&!S)return(x=x.stops)&&x[0]&&x[0].opacity;if("number"!==typeof H)if(S){if(null==B?.arcade){w();return}H=B.arcade.arcadeUtils;F=H.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});
B=H.createExecContext(J,F,B.timeZone);y||(J=H.createSyntaxTree(x.valueExpression),y=H.createFunction(J),x.cache.compiledFunc=y);H=H.executeFunction(y,B)}else K&&(H=K[F]);B=x.normalizationField;K=null!=K&&null!=B?parseFloat(K[B]):void 0;if(null!=H&&(!B||E||!isNaN(K)&&0!==K)&&(isNaN(K)||E||(H/=K),E=v(H,N))){B=E[0];K=E[1];if(B===K)return x.stops[B].opacity;B=x.stops[B].opacity;return B+(x.stops[K].opacity-B)*E[2]}}}function h(x,y,B){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(W=>
"rotation"===W.type):x)if("esri.renderers.visualVariables.RotationVariable"!==x.declaredClass)t("RotationVariable");else{var E=x.axis||"heading",J="heading"===E&&"arithmetic"===x.rotationType?90:0;E="heading"===E&&"arithmetic"===x.rotationType?-1:1;var K="number"===typeof y?null:y,H=K?.attributes,F=x.field,{hasExpression:N}=x.cache;y=x.cache.compiledFunc;var S=0;if(!F&&!N)return S;if(N){if(null==B?.arcade){w();return}H=B.arcade.arcadeUtils;F=H.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,
spatialReference:B.spatialReference});B=H.createExecContext(K,F,B.timeZone);y||(y=H.createSyntaxTree(x.valueExpression),y=H.createFunction(y),x.cache.compiledFunc=y);S=H.executeFunction(y,B)}else H&&(S=H[F]||0);return S="number"!==typeof S||isNaN(S)?null:J+E*S}}function r(x,y,B){const E="number"===typeof y;var J=E?null:y;const K=J?.attributes;var H=E?y:null,{isScaleDriven:F}=x.cache;y=x.cache.compiledFunc;if(F)J=null!=B?B.scale:void 0,B=null!=B?B.view:void 0,null==J||"3d"===B?(J=B=null,(J=x.stops)?
(B=J[0].value,J=J[J.length-1].value):(B=x.minDataValue||0,J=x.maxDataValue||0),B=(B+J)/2):B=J,H=B;else if(!E)switch(x.inputValueType){case q.InputValueType.Expression:if(null==B?.arcade){w();return}H=B.arcade.arcadeUtils;F=H.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});B=H.createExecContext(J,F,B.timeZone);y||(J=H.createSyntaxTree(x.valueExpression),y=H.createFunction(J),x.cache.compiledFunc=y);H=H.executeFunction(y,B);break;case q.InputValueType.Field:K&&
(H=K[x.field]);break;case q.InputValueType.Unknown:H=null}if(!q.isValidNumber(H))return null;if(E||!x.normalizationField)return H;x=K?parseFloat(K[x.normalizationField]):null;return q.isValidNumber(x)&&0!==x?H/x:null}function u(x,y,B){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(J=>"size"===J.type):x)if("esri.renderers.visualVariables.SizeVariable"!==x.declaredClass)t("SizeVariable");else{var E=r(x,y,B);y=m(E,x,y,B,x.cache.ipData);return null===y||void 0===y||isNaN(y)?0:y}}
function p(x,y,B){return null==x?null:q.isSizeVariable(x)?u(x,y,B):q.isValidNumber(x)?x:null}function l(x,y,B){return q.isValidNumber(B)&&x>B?B:q.isValidNumber(y)&&x<y?y:x}function m(x,y,B,E,J){switch(y.transformationType){case q.TransformationType.Additive:return E=p(y.minSize,B,E),x+((E||y.minDataValue)??0);case q.TransformationType.Constant:return x=y.stops,x=x?.length&&x[0].size,null==x&&(x=y.minSize),p(x,B,E);case q.TransformationType.ClampedLinear:J=(x-y.minDataValue)/(y.maxDataValue-y.minDataValue);
var K=p(y.minSize,B,E);B=p(y.maxSize,B,E);E=null!=E?E.shape:void 0;x<=y.minDataValue?y=K:x>=y.maxDataValue?y=B:null==K||null==B?y=null:"area"===y.scaleBy&&E?(x=(y="circle"===E)?k*(K/2)**2:K*K,x+=J*((y?k*(B/2)**2:B*B)-x),y=y?2*Math.sqrt(x/k):Math.sqrt(x)):y=K+J*(B-K);return y;case q.TransformationType.Proportional:return J=null!=E?E.shape:void 0,x/=y.minDataValue,K=p(y.minSize,B,E),y=p(y.maxSize,B,E),E=null,E="circle"===J?2*Math.sqrt(x*(K/2)**2):"square"===J||"diamond"===J||"image"===J?Math.sqrt(x*
K**2):x*K,l(E,K,y);case q.TransformationType.Stops:{const [H,F,N]=v(x,J);H===F?y=p(y.stops?.[H].size,B,E):(x=p(y.stops?.[H].size,B,E),y=p(y.stops?.[F].size,B,E),y=x+(y-x)*N)}return y;case q.TransformationType.RealWorldSize:return J=(E?.resolution??1)*n.meterIn[y.valueUnit],K=p(y.minSize,B,E),E=p(y.maxSize,B,E),{valueRepresentation:y}=y,B=null,B="area"===y?2*Math.sqrt(x/k)/J:"radius"===y||"distance"===y?2*x/J:x/J,l(B,K,E);case q.TransformationType.Identity:return x;case q.TransformationType.Unknown:return null}}
function v(x,y){if(y){var B=0,E=y.length-1;y.some((J,K)=>{if(x<J)return E=K,!0;B=K;return!1});return[B,E,(x-y[B])/(y[E]-y[B])]}}const A=()=>d.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),t=x=>A().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${x}`),w=()=>A().error("Use of arcade expressions requires an arcade context"),z=new c,k=Math.PI;a.getAllSizes=function(x,y,B){const E=["proportional","proportional","proportional"];for(const J of x)switch(x=
J.useSymbolValue?"symbol-value":u(J,y,B),J.axis){case "width":E[0]=x;break;case "depth":E[1]=x;break;case "height":E[2]=x;break;case "width-and-depth":E[0]=x;E[1]=x;break;case "all":case void 0:case null:E[0]=x;E[1]=x;E[2]=x;break;default:f.neverReached(J.axis)}return E};a.getColor=e;a.getOpacity=g;a.getRotationAngle=h;a.getSize=u;a.getSizeForValue=m;a.getSizeFromNumberOrVariable=p;a.getSizeRangeAtScale=function(x,y,B){const {isScaleDriven:E}=x.cache;if(!(E&&"3d"===B||y))return null;B={scale:y,view:B};
y=p(x.minSize,z,B);x=p(x.maxSize,z,B);if(null!=y||null!=x)return y>x&&(B=x,x=y,y=B),{minSize:y,maxSize:x}};a.getVisualVariableValues=function(x,y,B){if(x.visualVariables){var E=[],J=[],K=[],H=[],F=[];for(const N of x.visualVariables)switch(N.type){case "color":J.push(N);break;case "opacity":K.push(N);break;case "rotation":F.push(N);break;case "size":H.push(N)}J.forEach(N=>{const S=e(N,y,B);E.push({variable:N,value:S})});K.forEach(N=>{const S=g(N,y,B);E.push({variable:N,value:S})});F.forEach(N=>{const S=
h(N,y,B);E.push({variable:N,value:S})});H.forEach(N=>{const S=u(N,y,B);E.push({variable:N,value:S})});return E.filter(N=>null!=N.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p){const l={color:h,size:p,opacity:r,rotation:u},m=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),v=/^\[([^\]]+)\]$/i;b=class extends b{constructor(){super(...arguments);this.sizeVariables=this.rotationVariables=this.opacityVariables=this.colorVariables=null}set visualVariables(A){this._resetVariables();A=A?.filter(w=>!!w);if(A?.length){for(var t of A)switch(t.type){case "color":this.colorVariables.push(t);break;
case "opacity":this.opacityVariables.push(t);break;case "rotation":this.rotationVariables.push(t);break;case "size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(w=>!!w.target)&&A.sort((w,z)=>{let k=null;return k=w.target===z.target?0:w.target?1:-1});for(t=0;t<A.length;t++)A[t].index=t}this._set("visualVariables",A)}readVariables(A,t,w){const {rotationExpression:z,rotationType:k}=t;if(t=z?.match(v)?.[1])A||=[],A.push({type:"rotationInfo",rotationType:k,field:t});if(A)return A.map(x=>
{var y=m.read(x.type);const B=l[y];B||(f.getLogger(this).warn(`Unknown variable type: ${y}`),w?.messages&&w.messages.push(new d("visual-variable:unsupported",`visualVariable of type '${y}' is not supported`,{definition:x,context:w})));y=new B;y.read(x,w);return y})}writeVariables(A,t){const w=[];for(const z of A)(A=z.toJSON(t))&&w.push(A);return w}_resetVariables(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]}};a.__decorate([n.property()],b.prototype,
"visualVariables",null);return b=a.__decorate([g.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)})},"esri/renderers/support/commonProperties":function(){define("exports ../../core/object ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/PolygonSymbol3D ../../symbols/Symbol ../../symbols/support/jsonUtils ../../symbols/support/typeUtils".split(" "),function(a,b,c,f,d,n,q){c={types:q.symbolTypesRenderer,json:{write:{writer:n.write},origins:{"web-scene":{types:q.symbolTypesRenderer3D,
write:{writer:n.write},read:{reader:c.createTypeReader({types:q.symbolTypesRenderer3D})}}}}};b=b.deepMerge({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},c);const e={cast:g=>null==g||"string"===typeof g||"number"===typeof g?g:`${g}`,json:{type:String,write:{writer:(g,h)=>{h.value=g?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:d,key:"type",typeMap:{"simple-fill":q.symbolTypes.typeMap["simple-fill"],"picture-fill":q.symbolTypes.typeMap["picture-fill"],"polygon-3d":q.symbolTypes.typeMap["polygon-3d"],
cim:q.symbolTypes.typeMap.cim}},json:{write:{writer:n.write},origins:{"web-scene":{type:f,write:{writer:n.write}}}}};a.rendererSymbolProperty=c;a.requiredRendererSymbolProperty=b;a.uniqueValueProperty=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../core/Error ../../layers/support/layerUtils ../WebStyleSymbol ./symbolConversion ./typeUtils".split(" "),function(a,b,c,f,d,n){function q(g){return n.isSymbol3D(g)||g instanceof
f}function e(g,h,r){if(null==g)return null;const {context:u,isLabelSymbol:p}=r;var l=u?.origin;r=u?.messages;if("web-scene"===l&&!q(g)){l=d.to3D(g,{retainCIM:!0,hasLabelingContext:p});if(null!=l.symbol)return l.symbol.write(h,u);r?.push(new b("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:g,context:u,error:l.error}));return null}return!c.isSceneServiceLayer(u?.layer)||"polygon-3d"!==
g?.type&&"line-3d"!==g?.type?("web-map"===l||"portal-item"===l&&!c.isSceneServiceLayer(u?.layer))&&q(g)?(r?.push(new b("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:g,context:u})),null):g.write(h,u):(r?.push(new b("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported on layers of type '${u?.layer?.declaredClass}'.`,{symbol:g,context:u})),null)}
a.fromJSON=function(g,h){return n.readSymbol(g,null,h)};a.write=function(g,h,r,u){g=e(g,{},{context:u,isLabelSymbol:!1});null!=g&&(h[r]=g)};a.writeLabelSymbol=function(g,h,r,u){g=e(g,{},{context:u,isLabelSymbol:!0});null!=g&&(h[r]=g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../core/Error ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ../WebStyleSymbol ./defaults3D ./typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){const v={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};a.defaultTo3DOptions=v;a.to3D=function(A,t=v){if(!A)return{symbol:null};const {retainId:w=v.retainId,ignoreDrivers:z=v.ignoreDrivers,hasLabelingContext:k=v.hasLabelingContext,retainCIM:x=v.retainCIM,cimFallbackEnabled:y=v.cimFallbackEnabled}=t;let B=null;if(m.isSymbol3D(A)||A instanceof p)B=A.clone();else if("cim"===A.type){const E=A.data?.symbol?.type;switch(E){case "CIMPointSymbol":B=x?A.clone():
q.fromCIMSymbol(A);break;case "CIMLineSymbol":y&&(B=l.defaultRendererPolylineSymbol3D.clone(),t?.logWarning?.("#useCIMFallbackSymbology()","Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case "CIMPolygonSymbol":y&&(B=l.defaultRendererPolygonSymbol3D.clone(),t?.logWarning?.("#useCIMFallbackSymbology()","Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!B)return{error:new b("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${E||
"unknown"}' is unsupported in 3D`,{symbol:A})}}else if(A instanceof h)B=f.fromSimpleLineSymbol(A);else if(A instanceof r)B=q.fromSimpleMarkerSymbol(A);else if(A instanceof n)B=q.fromPictureMarkerSymbol(A);else if(A instanceof g)B=t.geometryType&&"mesh"===t.geometryType?d.fromSimpleFillSymbol(A):e.fromSimpleFillSymbol(A);else if(A instanceof u)B=k?c.fromTextSymbol(A):q.fromTextSymbol(A);else return{error:new b("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${A.type||A.declaredClass}' is unsupported in 3D`,
{symbol:A})};w&&B&&"cim"!==B.type&&(B.id=A.id);!z||"cim"===B.type||B instanceof p||B.symbolLayers.forEach(E=>E.ignoreDrivers=!0);return{symbol:B}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults3D":function(){define("exports ../../Color ../../core/Collection ../../core/has ../../core/screenUtils ../FillSymbol3DLayer ../LineSymbol3D ../LineSymbol3DLayer ../MeshSymbol3D ../PointSymbol3D ../PolygonSymbol3D ../edges/SolidEdges3D ./defaults ./defaultsJSON".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){const m=h.fromSimpleMarkerSymbol(p.defaultPointSymbol2D),v=q.fromSimpleLineSymbol(p.defaultPolylineSymbol2D),A=r.fromSimpleFillSymbol(p.defaultPolygonSymbol2D),t=new g({symbolLayers:new c([new n({material:{color:l.defaultColor},edges:new u({size:d.px2pt(1),color:new b(l.defaultOutlineColor)})})])});f=new q({symbolLayers:new c([new e({material:{color:new b([0,0,0])},size:d.px2pt(1)})])});b=new r({symbolLayers:new c([new n({outline:{color:new b([0,0,0]),size:d.px2pt(1)}})])});
a.defaultRendererPolygonSymbol3D=b;a.defaultRendererPolylineSymbol3D=f;a.getDefaultSymbol3D=function(w){if(null==w)return null;switch(w.type){case "mesh":return t;case "point":case "multipoint":return m;case "polyline":return v;case "polygon":case "extent":return A}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,c,f,d,n,q){const e=d.fromJSON(q.defaultPointSymbolJSON),g=f.fromJSON(q.defaultPolylineSymbolJSON),h=c.fromJSON(q.defaultPolygonSymbolJSON);b=n.fromJSON(q.defaultTextSymbolJSON);d=d.fromJSON(q.errorPointSymbolJSON);f=f.fromJSON(q.errorPolylineSymbolJSON);c=c.fromJSON(q.errorPolygonSymbolJSON);a.defaultPointSymbol2D=e;a.defaultPolygonSymbol2D=h;a.defaultPolylineSymbol2D=g;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=d;a.errorPolygonSymbol2D=c;a.errorPolylineSymbol2D=f;a.getDefaultSymbol2D=
function(r){if(null==r)return null;switch(r.type){case "point":case "multipoint":return e;case "polyline":return g;case "polygon":case "extent":return h}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},f={type:"esriSLS",style:"esriSLSSolid",
width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=f;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,
text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/tslib.es6 ../core/Error ../core/lang ../core/Logger ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/RendererLegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/WebStyleSymbol ../symbols/support/styleUtils ../symbols/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B,E,J,K,H,F){function N(P){const {field1:X,field2:D,field3:R,fieldDelimiter:Y,uniqueValueInfos:ja,valueExpression:da}=P,sa=!(!X||!D);return[{classes:(ja??[]).map(qa=>{const {symbol:ia,label:la,value:ua,description:ya}=qa,[V,ha,ma]=sa?ua?.toString()?.split(Y||"")||[]:[ua];qa=[];(X||da)&&qa.push(V);D&&qa.push(ha);R&&qa.push(ma);return{symbol:ia,label:la,values:[qa],description:ya}})}]}function S(P){if(null==P||""===P||"string"===typeof P&&(""===
P.trim()||"\x3cnull\x3e"===P.toLowerCase()))P=null;return P+""}var W;const L=l.ensureType(B);A=W=class extends t.VisualVariablesMixin(A){constructor(P){super(P);this._valueInfoMap={};this._isDefaultSymbolDerived=!1;this._isInfosSource=null;this.type="unique-value";this.backgroundFillSymbol=null;this.orderByClassesEnabled=!1;this.styleOrigin=this.portal=this.defaultLabel=this.legendOptions=this.valueExpressionTitle=null;this.diff={uniqueValueInfos(X,D){if(X||D){if(!X||!D)return{type:"complete",oldValue:X,
newValue:D};var R=!1,Y={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let ja=0;ja<D.length;ja++){const da=X.find(sa=>sa.value===D[ja].value);da?p.diff(da,D[ja])?(Y.changed.push({type:"complete",oldValue:da,newValue:D[ja]}),R=!0):Y.unchanged.push({oldValue:da,newValue:D[ja]}):(Y.added.push(D[ja]),R=!0)}for(let ja=0;ja<X.length;ja++)D.find(da=>da.value===X[ja].value)||(Y.removed.push(X[ja]),R=!0);return R?Y:void 0}}};this._set("uniqueValueInfos",[]);this._set("uniqueValueGroups",
[])}get _cache(){return{compiledFunc:null}}set field(P){this._set("field",P);this._updateFieldDelimiter();this._updateUniqueValues()}castField(P){return null==P||"function"===typeof P?P:l.ensureString(P)}writeField(P,X,D,R){"string"===typeof P?X[D]=P:R?.messages?R.messages.push(new b("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):f.getLogger("esri.renderers.UniqueValueRenderer").error(".field: cannot write field to JSON since it's not a string value")}set field2(P){this._set("field2",
P);this._updateFieldDelimiter();this._updateUniqueValues()}set field3(P){this._set("field3",P);this._updateUniqueValues()}set valueExpression(P){this._set("valueExpression",P);this._updateUniqueValues()}set defaultSymbol(P){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",P)}set fieldDelimiter(P){this._set("fieldDelimiter",P);this._updateUniqueValues()}readPortal(P,X,D){return D.portal||v.getDefault()}readStyleOrigin(P,X,D){if(X.styleName)return Object.freeze({styleName:X.styleName});if(X.styleUrl)return P=
J.fromJSON(X.styleUrl,D),Object.freeze({styleUrl:P})}writeStyleOrigin(P,X,D,R){P.styleName?X.styleName=P.styleName:P.styleUrl&&(X.styleUrl=J.toJSON(P.styleUrl,R))}set uniqueValueGroups(P){this.styleOrigin?f.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueGroups\x3d","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",P),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(P){this.styleOrigin?
f.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",P),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(P,X){this.styleOrigin?f.getLogger("esri.renderers.UniqueValueRenderer").error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):
(P="object"===typeof P?L(P):new B({value:P,symbol:F.ensureType(X)}),this.uniqueValueInfos?.push(P),this._valueInfoMap[S(P.value)]=P,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}removeUniqueValueInfo(P){if(this.styleOrigin)f.getLogger("esri.renderers.UniqueValueRenderer").error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var X=this.uniqueValueInfos;if(X)for(let D=0;D<X.length;D++)if(String(X[D].value)===
String(P)){delete this._valueInfoMap[S(P)];X.splice(D,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}}async getUniqueValueInfo(P,X){let D=X;this.valueExpression&&null==X?.arcade&&(D={...D,arcade:await E.loadArcade()});return this._getUniqueValueInfo(P,D)}getSymbol(P,X){if(this.valueExpression&&null==X?.arcade)f.getLogger("esri.renderers.UniqueValueRenderer").error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return this._getUniqueValueInfo(P,
X)?.symbol||this.defaultSymbol}async getSymbolAsync(P,X){if(this.valueExpression&&null==X?.arcade){const D=await E.loadArcade(),{arcadeUtils:R}=D;R.hasGeometryOperations(this.valueExpression)&&await R.enableGeometryOperations();X={...X,arcade:D}}return this._getUniqueValueInfo(P,X)?.symbol||this.defaultSymbol}get symbols(){const P=[];for(const X of this.uniqueValueInfos??[])X.symbol&&P.push(X.symbol);this.defaultSymbol&&P.push(this.defaultSymbol);return P}getAttributeHash(){return this.visualVariables?.reduce((P,
X)=>P+X.getAttributeHash(),"")??""}getMeshHash(){const P=JSON.stringify(this.backgroundFillSymbol),X=JSON.stringify(this.defaultSymbol),D=this.uniqueValueInfos?.reduce((R,Y)=>R+Y.getMeshHash(),"");return`${P}.${X}.${D}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const P=new W({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:c.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,
valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:c.clone(this.visualVariables),legendOptions:c.clone(this.legendOptions),authoringInfo:c.clone(this.authoringInfo),backgroundFillSymbol:c.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(P._isDefaultSymbolDerived=!0);P._set("portal",this.portal);const X=c.clone(this.uniqueValueInfos),D=c.clone(this.uniqueValueGroups);this.styleOrigin&&(P._set("styleOrigin",
Object.freeze(c.clone(this.styleOrigin))),Object.freeze(X),Object.freeze(D));P._set("uniqueValueInfos",X);P._updateValueInfoMap();P._set("uniqueValueGroups",D);P._isInfosSource=this._isInfosSource;P._watchUniqueValueInfosAndGroups();return P}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(P,X){P=[this.collectVVRequiredFields(P,X),this.collectSymbolFields(P,X)];await Promise.all(P)}async collectSymbolFields(P,X){const D=[...this.symbols.map(R=>
R.collectRequiredFields(P,X)),m.collectArcadeFieldNames(P,X,this.valueExpression)];m.collectField(P,X,this.field);m.collectField(P,X,this.field2);m.collectField(P,X,this.field3);await Promise.all(D)}populateFromStyle(){return H.fetchStyle(this.styleOrigin,{portal:this.portal}).then(P=>{const X=[];this._valueInfoMap={};P?.data&&Array.isArray(P.data.items)&&P.data.items.forEach(D=>{var R=new K({styleUrl:P.styleUrl,styleName:P.styleName,portal:this.portal,name:D.name});this.defaultSymbol||D.name!==P.data.defaultItem||
(this.defaultSymbol=R,this._isDefaultSymbolDerived=!0);R=new B({value:D.name,symbol:R});X.push(R);this._valueInfoMap[S(D.name)]=R});this._set("uniqueValueInfos",Object.freeze(X));this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",
",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const {uniqueValueInfos:P}=this;if(P)for(const X of P)this._valueInfoMap[S(X.value)]=X}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles("uvInfos-watcher");const {uniqueValueInfos:P}=this;if(P){const X=[];for(const D of P)X.push(n.watch(()=>
({symbol:D.symbol,value:D.value,label:D.label,description:D.description}),(R,Y)=>{R!==Y&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(X,"uvInfos-watcher")}}_watchUniqueValueGroups(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:P}=this;if(P){const X=[];for(const D of P){X.push(n.watch(()=>({classes:D.classes}),(R,Y)=>{R!==Y&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const R of D.classes??[])X.push(n.watch(()=>({symbol:R.symbol,
values:R.values,label:R.label,description:R.description}),(Y,ja)=>{Y!==ja&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(X,"uvGroups-watcher")}}_updateInfosFromGroups(){if(this.uniqueValueGroups){var P=[],{field:X,field2:D,field3:R,fieldDelimiter:Y,uniqueValueGroups:ja,valueExpression:da}=this;if(X||da){var sa=!(!X||!D);for(const ia of ja)for(const la of ia.classes??[]){const {symbol:ua,label:ya,values:V,description:ha}=la;for(const ma of V??[]){const {value:G,
value2:Q,value3:fa}=ma;var qa=[G];D&&qa.push(Q);R&&qa.push(fa);qa=sa?qa.join(Y||""):qa[0]??void 0;P.push(new B({symbol:ua,label:ya,value:qa,description:ha}))}}}this._set("uniqueValueInfos",P)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()}_updateGroupsFromInfos(P=!1){if(this.uniqueValueInfos){var {field:X,field2:D,valueExpression:R,fieldDelimiter:Y,uniqueValueInfos:ja}=this;if((X||R)&&ja.length){var da=!(!X||!D),sa=ja.map(qa=>{const {symbol:ia,label:la,
value:ua,description:ya}=qa,[V,ha,ma]=da?ua?.toString()?.split(Y||"")||[]:[ua];return new x({symbol:ia,label:la,description:ya,values:[new k({value:V,value2:ha,value3:ma})]})});sa=[new y({classes:sa})];P&&Object.freeze(sa);this._set("uniqueValueGroups",sa)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()}_getUniqueValueInfo(P,X){return this.valueExpression?this._getUnqiueValueInfoForExpression(P,X):this._getUnqiueValueInfoForFields(P)}_getUnqiueValueInfoForExpression(P,
X){const {viewingMode:D,scale:R,spatialReference:Y,arcade:ja,timeZone:da}=X??{};var sa=this._cache.compiledFunc;X=ja.arcadeUtils;sa||(sa=X.createSyntaxTree(this.valueExpression),sa=X.createFunction(sa),this._cache.compiledFunc=sa);P=X.executeFunction(sa,X.createExecContext(P,X.getViewInfo({viewingMode:D,scale:R,spatialReference:Y}),da));return this._valueInfoMap[S(P)]}_getUnqiueValueInfoForFields(P){const X=this.field;P=P.attributes;if(this.field2){var D=this.field2;const R=this.field3,Y=[];X&&Y.push(P[X]);
D&&Y.push(P[D]);R&&Y.push(P[R]);D=Y.join(this.fieldDelimiter||"")}else X&&(D=P[X]);return this._valueInfoMap[S(D)]}static fromPortalStyle(P,X){const D=new W(X?.properties);D._set("styleOrigin",Object.freeze({styleName:P}));D._set("portal",X?.portal||v.getDefault());X=D.populateFromStyle();X.catch(R=>{f.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromPortalStyle('${P}'[, ...])`,"Failed to create unique value renderer from style name",R)});return X}static fromStyleUrl(P,X){X=new W(X?.properties);
X._set("styleOrigin",Object.freeze({styleUrl:P}));X=X.populateFromStyle();X.catch(D=>{f.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromStyleUrl('${P}'[, ...])`,"Failed to create unique value renderer from style URL",D)});return X}};a.__decorate([q.property({readOnly:!0})],A.prototype,"_cache",null);a.__decorate([g.enumeration({uniqueValue:"unique-value"})],A.prototype,"type",void 0);a.__decorate([q.property(w.rendererBackgroundFillSymbolProperty)],A.prototype,"backgroundFillSymbol",void 0);
a.__decorate([q.property({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],A.prototype,"field",null);a.__decorate([e.cast("field")],A.prototype,"castField",null);a.__decorate([u.writer("field")],A.prototype,"writeField",null);a.__decorate([q.property({type:String,value:null,json:{write:!0}})],A.prototype,"field2",null);a.__decorate([q.property({type:String,value:null,json:{write:!0}})],A.prototype,"field3",null);a.__decorate([q.property({type:Boolean,json:{name:"drawInClassOrder",
default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],A.prototype,"orderByClassesEnabled",void 0);a.__decorate([q.property({type:String,value:null,json:{write:!0}})],A.prototype,"valueExpression",null);a.__decorate([q.property({type:String,json:{write:!0}})],A.prototype,"valueExpressionTitle",void 0);a.__decorate([q.property({type:z,json:{write:!0}})],A.prototype,"legendOptions",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],A.prototype,"defaultLabel",void 0);a.__decorate([q.property(d.deepMerge({...w.rendererSymbolProperty},
{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],A.prototype,"defaultSymbol",null);a.__decorate([q.property({type:String,value:null,json:{write:!0}})],A.prototype,"fieldDelimiter",null);a.__decorate([q.property({type:v,readOnly:!0})],A.prototype,"portal",void 0);a.__decorate([h.reader("portal",["styleName"])],A.prototype,"readPortal",null);a.__decorate([q.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],A.prototype,"styleOrigin",void 0);a.__decorate([h.reader("styleOrigin",["styleName","styleUrl"])],A.prototype,"readStyleOrigin",null);a.__decorate([u.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],A.prototype,"writeStyleOrigin",null);a.__decorate([q.property({type:[y],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(P,X,D)=>(X.uniqueValueGroups||N(X)).map(R=>y.fromJSON(R,D))},write:{overridePolicy(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],A.prototype,"uniqueValueGroups",null);a.__decorate([q.property({type:[B],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],A.prototype,"uniqueValueInfos",null);return A=W=a.__decorate([r.subclass("esri.renderers.UniqueValueRenderer")],A)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","./utils"],function(a,b,c,f){function d(p){return p instanceof
c?Object.keys(p.items):p instanceof b?f.getProperties(p).keys():p?Object.keys(p):[]}function n(p,l){return p instanceof c?p.items[l]:p[l]}function q(p,l){return Array.isArray(p)&&Array.isArray(l)?p.length!==l.length:!1}function e(p){return p?p.declaredClass:null}function g(p,l){const m=p.diff;if(m&&"function"===typeof m)return m(p,l);const v=d(p),A=d(l);if(0!==v.length||0!==A.length){if(!v.length||!A.length||q(p,l))return{type:"complete",oldValue:p,newValue:l};var t=A.filter(k=>!v.includes(k)),w=
v.filter(k=>!A.includes(k));w=v.filter(k=>A.includes(k)&&n(p,k)!==n(l,k)).concat(t,w).sort();if((t=e(p))&&u.has(t)&&w.length)return{type:"complete",oldValue:p,newValue:l};var z;t=p instanceof b&&l instanceof b;for(const k of w){w=n(p,k);const x=n(l,k);if((t||"function"!==typeof w&&"function"!==typeof x)&&w!==x&&(null!=w||null!=x)){if(m&&m[k]&&"function"===typeof m[k])w=m[k]?.(w,x);else if(w instanceof Date&&x instanceof Date){if(w.getTime()===x.getTime())continue;w={type:"complete",oldValue:w,newValue:x}}else w=
"object"===typeof w&&"object"===typeof x&&e(w)===e(x)?g(w,x):{type:"complete",oldValue:w,newValue:x};null!=w&&(null!=z?z.diff[k]=w:z={type:"partial",diff:{[k]:w}})}}return z}}function h(p,l){if(null==p)return!1;l=l.split(".");for(const m of l){if("complete"===p.type)break;if("partial"===p.type){if(p=p.diff[m],!p)return!1}else return!1}return!0}function r(p){if(null==p)return!0;switch(p.type){case "complete":return!1;case "collection":for(const l of p.added)if(!r(l))return!1;for(const l of p.removed)if(!r(l))return!1;
for(const l of p.changed)if(!r(l))return!1;return!0;case "partial":for(const l in p.diff)if(!r(p.diff[l]))return!1;return!0}}const u=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);a.diff=function(p,l){if("function"!==typeof p&&"function"!==typeof l&&(null!=p||null!=l))return null==p||null==l||"object"===typeof p&&"object"===typeof l&&e(p)!==e(l)?{type:"complete",oldValue:p,newValue:l}:g(p,l)};a.hasDiff=h;
a.hasRootDiff=function(p,l){return h(p,l)};a.hasRootDiffOnly=function(p,l){return p?"partial"===p.type?(p=Object.keys(p.diff),1===p.length&&p[0]===l):!1:!1};a.isEmpty=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/RendererLegendOptions":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;c=c.strict()({ascendingValues:"ascending-values",descendingValues:"descending-values"});b=r=class extends b.ClonableMixin(f){static from(u){return n.ensureClass(r,u)}constructor(u){super(u);this.order=this.title=null}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([g.enumeration(c)],b.prototype,"order",void 0);return b=r=a.__decorate([h.subclass("esri.renderers.support.RendererLegendOptions")],b)})},"esri/renderers/support/UniqueValue":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,f,d,n,q,e,g){b=class extends b.ClonableMixin(c){constructor(h){super(h);this.value3=this.value2=this.value=null}};a.__decorate([f.property(g.uniqueValueProperty)],b.prototype,"value",void 0);a.__decorate([f.property(g.uniqueValueProperty)],b.prototype,"value2",void 0);a.__decorate([f.property(g.uniqueValueProperty)],b.prototype,"value3",void 0);return b=a.__decorate([e.subclass("esri.renderers.support.UniqueValue")],b)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/tslib.es6 ../../core/arrayUtils ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),
function(a,b,c,f,d,n,q,e,g,h){c=class extends c.ClonableMixin(f){constructor(r){super(r);this.values=this.symbol=this.label=this.description=null}castValues(r){if(null==r)return null;r=Array.isArray(r)?r:[r];const u=typeof r[0];return"string"===u||"number"===u?r.map(p=>new h({value:p})):"object"===u?r[0]instanceof h?r:r.map(p=>new h(p)):null}};a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,
"label",void 0);a.__decorate([d.property(g.rendererSymbolProperty)],c.prototype,"symbol",void 0);a.__decorate([d.property({type:[h],json:{type:[[String]],read:{reader:r=>r?r.map(u=>new h({value:u[0],value2:u[1],value3:u[2]})):null},write:{writer:(r,u)=>{const p=[];for(const l of r)r=[l.value,l.value2,l.value3].filter(b.isSome).map(m=>m.toString()),p.push(r);u.values=p}}}})],c.prototype,"values",void 0);a.__decorate([n.cast("values")],c.prototype,"castValues",null);return c=a.__decorate([e.subclass("esri.renderers.support.UniqueValueClass")],
c)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),function(a,b,c,f,d,n,q,e,g){b=class extends b.ClonableMixin(c){constructor(h){super(h);this.classes=this.heading=null}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,
"heading",void 0);a.__decorate([f.property({type:[g],json:{write:{isRequired:!0}}})],b.prototype,"classes",void 0);return b=a.__decorate([e.subclass("esri.renderers.support.UniqueValueGroup")],b)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,f,
d,n,q,e){var g;b=g=class extends b{constructor(h){super(h);this.value=this.symbol=this.label=this.description=null}clone(){return new g({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const h=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${h}`}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",
void 0);a.__decorate([c.property(e.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);a.__decorate([c.property(e.uniqueValueProperty)],b.prototype,"value",void 0);return b=g=a.__decorate([q.subclass("esri.renderers.support.UniqueValueInfo")],b)})},"esri/symbols/support/styleUtils":function(){define("exports ../../request ../../core/Error ../../core/has ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ./styleCache".split(" "),function(a,b,c,
f,d,n,q,e,g){async function h(m,v){try{return{data:(await l(m,v)).data,baseUrl:n.removeFile(m),styleUrl:m}}catch(A){return d.throwIfAbortError(A),null}}function r(m,v,A){const t=null!=v.portal?v.portal:q.getDefault();let w;v=`${t.url} - ${t.user?.username} - ${m}`;const z=g.cachedStyles.get(v);if(z)return z;A=u(m,t,A).then(k=>{w=k;return k.fetchData()}).then(k=>({data:k,baseUrl:w.itemUrl??"",styleName:m}));g.cachedStyles.set(v,A);return A}function u(m,v,A){return v.load(A).then(()=>{const t=new e({disableExtraQuery:!0,
query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${m}"`});return v.queryItems(t,A)}).then(({results:t})=>{let w=null;const z=m.toLowerCase();if(t&&Array.isArray(t))for(const k of t)if(k.typeKeywords?.some(x=>x.toLowerCase()===z)&&"Style"===k.type&&"esri_en"===k.owner){w=k;break}if(!w)throw new c("symbolstyleutils:style-not-found",`The style '${m}' could not be found`,{styleName:m});return w.load(A)})}function p(m,v){if(!f("enable-feature:force-wosr"))return m.formatInfos?.find(A=>A.type===
v)?.href}function l(m,v){v={responseType:"json",query:{f:"json"},...v};return b(n.normalize(m),v)}a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.fetchStyle=function(m,v,A){return null!=m?.styleUrl?h(m.styleUrl,A):null!=m?.styleName?r(m.styleName,v,A):Promise.reject(new c("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=
function(m){return null===m||"CIMSymbolReference"===m.type?m:{type:"CIMSymbolReference",symbol:m}};a.requestJSON=l;a.symbolUrlFromStyleItem=function(m,v){for(const A of v)switch(A){case "cim":if(m.cimRef)return{format:A,url:encodeURI(m.cimRef)};break;case "web-gltf-basisu":if(v=p(m,"gltf_basisu"))return{format:A,url:v};break;case "web-gltf":if(v=p(m,"gltf"))return{format:A,url:v};break;case "web":if(v=p(m,"gltf"))return{format:"web-gltf",url:v};if(m.webRef)return{format:A,url:encodeURI(m.webRef)}}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/styleCache":function(){define(["exports"],function(a){const b=new Map;a.cachedStyles=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(g){super(g);this.attachmentsWhere=this.attachmentTypes=null;this.cacheHint=void 0;this.orderByFields=this.objectIds=this.num=this.name=this.globalIds=this.keywords=null;this.returnMetadata=!1;this.where=this.start=this.size=null}writeStart(g,h){h.resultOffset=this.start;h.resultRecordCount=this.num||10}clone(){return new e(c.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,
where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);a.__decorate([f.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0);a.__decorate([f.property({type:Boolean,
json:{write:!0}})],b.prototype,"cacheHint",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"keywords",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"globalIds",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);
a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([q.writer("start"),q.writer("num")],b.prototype,"writeStart",null);a.__decorate([f.property({type:String,
json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=e=a.__decorate([n.subclass("esri.rest.support.AttachmentQuery")],b);b.from=d.ensureType(b);return b})},"esri/rest/support/NormalizationBinParametersMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){const h=c.strict()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"});a.NormalizationBinParametersMixin=r=>{r=class extends r{constructor(){super(...arguments);this.normalizationTotal=this.normalizationMinValue=this.normalizationMaxValue=this.normalizationField=null}get normalizationType(){let u=this._get("normalizationType");const p=!!this.normalizationField,l=null!=this.normalizationTotal;if(p||l)u=p&&"field"||
l&&"percent-of-total"||null,p&&l&&f.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===u||"percent-of-total"===u)u=null;return u}set normalizationType(u){this._set("normalizationType",u)}};b.__decorate([d.property({type:String,json:{name:"parameters.normalizationField",write:!0}})],r.prototype,"normalizationField",void 0);b.__decorate([d.property({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],r.prototype,"normalizationMaxValue",
void 0);b.__decorate([d.property({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],r.prototype,"normalizationMinValue",void 0);b.__decorate([d.property({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],r.prototype,"normalizationTotal",void 0);b.__decorate([e.enumeration(h,{name:"parameters.normalizationType"})],r.prototype,"normalizationType",null);return r=b.__decorate([g.subclass("esri.rest.support.NormalizationBinParametersMixin")],r)};a.normalizationTypeJsonMap=
h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../layers/support/source/DataLayerSource".split(" "),function(a,b,c,f,d,n,q,e,g){var h;b=h=class extends b{constructor(r){super(r);
this.dynamicDataSource=this.cacheHint=void 0;this.gdbVersion=null;this.geometryPrecision=void 0;this.historicMoment=null;this.maxAllowableOffset=void 0;this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.num=this.start=this.relationshipId=void 0;this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.where=null}_writeHistoricMoment(r,u){u.historicMoment=r&&r.getTime()}writeStart(r,u){u.resultOffset=this.start;u.resultRecordCount=this.num||10;0<this.start&&null==
this.where&&(u.definitionExpression="1\x3d1")}clone(){return new h(c.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,
num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"cacheHint",void 0);a.__decorate([f.property({type:g.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);a.__decorate([f.property({type:Date})],
b.prototype,"historicMoment",void 0);a.__decorate([q.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);a.__decorate([f.property({type:e,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([q.writer("start"),q.writer("num")],b.prototype,"writeStart",null);a.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([f.property({json:{write:!0}})],
b.prototype,"returnGeometry",void 0);a.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(r){return{enabled:r}}}}})],b.prototype,"returnM",void 0);a.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(r){return{enabled:r}}}}})],b.prototype,"returnZ",void 0);a.__decorate([f.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=h=a.__decorate([n.subclass("esri.rest.support.RelationshipQuery")],
b);b.from=d.ensureType(b);return b})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){b=class extends b.ClonableMixin(c){constructor(h){super(h);this.units=this.shapeLengthField=this.shapeAreaField=null}};a.__decorate([d.property({type:String,
json:{read:{source:"shapeAreaFieldName"}}})],b.prototype,"shapeAreaField",void 0);a.__decorate([d.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],b.prototype,"shapeLengthField",void 0);a.__decorate([d.property({type:String,json:{read:h=>f.areaUnitsJSONMap.read(h)||f.lengthUnitsJSONMap.read(h)}})],b.prototype,"units",void 0);return b=a.__decorate([g.subclass("esri.layers.support.GeometryFieldsInfo")],b)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends c{constructor(h){super(h);this.floorField=null;this.viewAllMode=!1;this.viewAllLevelIds=new b}clone(){return new g({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};a.__decorate([f.property({type:String,json:{write:{isRequired:!0}}})],c.prototype,"floorField",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],c.prototype,"viewAllMode",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],
c.prototype,"viewAllLevelIds",void 0);return c=g=a.__decorate([e.subclass("esri.layers.support.LayerFloorInfo")],c)})},"esri/layers/support/Relationship":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){n=new c.JSONMap({esriRelCardinalityOneToOne:"one-to-one",
esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});c=new c.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});b=class extends b.ClonableMixin(f){constructor(h){super(h);this.role=this.relationshipTableId=this.relatedTableId=this.name=this.keyFieldInRelationshipTable=this.keyField=this.id=this.composite=this.catalogId=this.cardinality=null}};a.__decorate([d.property({json:{read:n.read,write:n.write}})],b.prototype,"cardinality",void 0);a.__decorate([d.property({json:{name:"catalogID"}})],
b.prototype,"catalogId",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"composite",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"id",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"keyField",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"keyFieldInRelationshipTable",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({json:{read:!0,
write:!0}})],b.prototype,"relatedTableId",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"relationshipTableId",void 0);a.__decorate([d.property({json:{read:c.read,write:c.write}})],b.prototype,"role",void 0);return b=a.__decorate([g.subclass("esri.layers.support.Relationship")],b)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports","../../core/has","./arcgisLayerUrl","./infoFor3D","../../rest/support/jsonUtils"],function(a,b,c,f,d){function n(l){l=
l?.supportedSpatialAggregationStatistics?.map(m=>m.toLowerCase());return{envelope:!!l?.includes("envelopeaggregate"),centroid:!!l?.includes("centroidaggregate"),convexHull:!!l?.includes("convexhullaggregate")}}function q(l,m){return!!l?.supportedOperationsWithCacheHint?.map(v=>v.toLowerCase())?.includes(m.toLowerCase())}function e(l){l=l?.supportedStatisticTypes?.map(m=>m.toLowerCase());return{count:!!l?.includes("count"),sum:!!l?.includes("sum"),min:!!l?.includes("min"),max:!!l?.includes("max"),
avg:!!l?.includes("avg"),var:!!l?.includes("var"),stddev:!!l?.includes("stddev"),percentileContinuous:!!l?.includes("percentile_continuous"),percentileDiscrete:!!l?.includes("percentile_discrete"),envelope:!!l?.includes("envelopeaggregate"),centroid:!!l?.includes("centroidaggregate"),convexHull:!!l?.includes("convexhullaggregate")}}function g(l){l=l?.supportedNormalizationTypes?.map(m=>m.toLowerCase());return{field:!!l?.includes("field"),log:!!l?.includes("log"),naturalLog:!!l?.includes("naturallog"),
percentOfTotal:!!l?.includes("percentoftotal"),squareRoot:!!l?.includes("squareroot")}}function h(l){const m=l.attachmentProperties,v={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:q(l.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:d.readBoolean(l.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:d.readBoolean(l,"supportsAttachmentsResizing",!1)};m&&Array.isArray(m)&&m.forEach(A=>
{const t=p[A.name];t&&(v[t]=!!A.isEnabled)});return v}function r(l,m,v){l=l?l.toLowerCase().split(",").map(y=>y.trim()):[];v=v?c.parse(v):null;v=l.includes(null!=v&&"MapServer"===v.serverType?"data":"query");const A=l.includes("editing")&&!m.datesInUnknownTimezone;let t=A&&l.includes("create"),w=A&&l.includes("delete"),z=A&&l.includes("update");const k=l.includes("changetracking"),x=m.advancedQueryCapabilities;!A||t||w||z||(t=w=z=!0);return{supportsCalculate:d.readBoolean(m,"supportsCalculate",!1),
supportsTruncate:d.readBoolean(m,"supportsTruncate",!1),supportsValidateSql:d.readBoolean(m,"supportsValidateSql",!1),supportsAdd:t,supportsDelete:w,supportsEditing:A,supportsChangeTracking:k,supportsQuery:v,supportsQueryAnalytics:d.readBoolean(x,"supportsQueryAnalytic",!1),supportsQueryAttachments:d.readBoolean(x,"supportsQueryAttachments",!1),supportsQueryBins:d.readBoolean(x,"supportsQueryBins",!1),supportsQueryTopFeatures:d.readBoolean(x,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:d.readBoolean(m,
"supportsAttachmentsResizing",!1),supportsSync:l.includes("sync"),supportsUpdate:z,supportsExceedsLimitStatistics:d.readBoolean(m,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:d.readBoolean(m,"supportsAsyncConvert3D",!1)}}function u(l,m){const v=l.advancedQueryCapabilities,A=l.ownershipBasedAccessControlForFeatures,t=l.archivingInfo;var w=l.currentVersion;w=!m?.includes("MapServer")||w>=b("mapserver-pbf-version-support");m=c.isHostedAgolService(m);const z=new Set((l.supportedQueryFormats??
"").split(",").map(k=>k.toLowerCase().trim()));return{maxRecordCount:d.readNumber(l,"maxRecordCount",void 0),maxRecordCountFactor:d.readNumber(l,"maxRecordCountFactor",void 0),standardMaxRecordCount:d.readNumber(l,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:n(v),supportsCacheHint:d.readBoolean(v,"supportsQueryWithCacheHint",!1)||q(v,"query"),supportsCentroid:d.readBoolean(v,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:m,supportsCurrentUser:d.readBoolean(v,
"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:d.readBoolean(v,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:d.readBoolean(v,"supportsDisjointSpatialRel",!1),supportsDistance:d.readBoolean(v,"supportsQueryWithDistance",!1),supportsDistinct:d.readBoolean(v,"supportsDistinct",l.supportsAdvancedQueries),supportsExtent:d.readBoolean(v,"supportsReturningQueryExtent",!1),supportsFormatPBF:w&&z.has("pbf"),supportsFullTextSearch:d.readBoolean(v,"supportsFullTextSearch",!1),
supportsGeometryProperties:d.readBoolean(v,"supportsReturningGeometryProperties",!1),supportsHavingClause:d.readBoolean(v,"supportsHavingClause",!1),supportsHistoricMoment:d.readBoolean(t,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:d.readBoolean(v,"supportsMaxRecordCountFactor",!1),supportsOrderBy:d.readBoolean(v,"supportsOrderBy",l.supportsAdvancedQueries),supportsPagination:d.readBoolean(v,"supportsPagination",!1),supportsPercentileStatistics:d.readBoolean(v,"supportsPercentileStatistics",
!1),supportsQuantization:d.readBoolean(l,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:d.readBoolean(l,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:d.readBoolean(A,"allowAnonymousToQuery",!0),supportsQueryByOthers:d.readBoolean(A,"allowOthersToQuery",!0),supportsQueryGeometry:d.readBoolean(l,"supportsReturningQueryGeometry",!1),supportsResultType:d.readBoolean(v,"supportsQueryWithResultType",!1),supportsReturnMesh:!!f.getGltfQueryFormat(l.infoFor3D),supportsSpatialAggregationStatistics:d.readBoolean(v,
"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:d.readBoolean(v,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:d.readBoolean(l,"useStandardizedQueries",!1),supportsStatistics:d.readBoolean(v,"supportsStatistics",l.supportsStatistics),supportsTopFeaturesQuery:d.readBoolean(v,"supportsTopFeaturesQuery",!1),supportsTrueCurve:d.readBoolean(v,"supportsTrueCurve",!1),tileMaxRecordCount:d.readNumber(l,"tileMaxRecordCount",void 0)}}const p={name:"supportsName",size:"supportsSize",
contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(l,m){var v={supportsCacheHint:q(l.advancedQueryCapabilities,"queryAnalytics")},A=h(l);var t={isVersioned:d.readBoolean(l,"isDataVersioned",!1),isBranchVersioned:d.readBoolean(l,"isDataBranchVersioned",!1),supportsAttachment:d.readBoolean(l,"hasAttachments",!1),supportsM:d.readBoolean(l,"hasM",!1),supportsZ:d.readBoolean(l,"hasZ",!1)};var w={supportsAdvancedFieldProperties:d.readBoolean(l,
"supportsFieldDescriptionProperty",!1)},z=r(l.capabilities,l,m);m=u(l,m);var k=l?l.queryBinsCapabilities:void 0;k={supportsDate:d.readBoolean(k,"supportsDateBin",!1),supportsFixedInterval:d.readBoolean(k,"supportsFixedIntervalBin",!1),supportsAutoInterval:d.readBoolean(k,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:d.readBoolean(k,"supportsFixedBoundariesBin",!1),supportsStackBy:d.readBoolean(k,"supportsStackBy",!1),supportsSplitBy:d.readBoolean(k,"supportsSplitBy",!1),supportsSnapToData:d.readBoolean(k,
"supportsSnapToData",!1),supportsReturnFullIntervalBin:d.readBoolean(k,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:d.readBoolean(k,"supportsFirstDayOfWeek",!1),supportsNormalization:d.readBoolean(k,"supportsNormalization",!1),supportedStatistics:e(k),supportedNormalizationTypes:g(k)};var x=l.advancedQueryCapabilities;var y=d.readBoolean(x,"supportsAdvancedQueryRelated",!1);x={supportsPagination:d.readBoolean(x,"supportsQueryRelatedPagination",!1),supportsCount:y,supportsOrderBy:y,supportsCacheHint:q(x,
"queryRelated")};y={supportsCacheHint:q(l.advancedQueryCapabilities,"queryTopFilter")};const B=l.ownershipBasedAccessControlForFeatures,E=l?l.advancedEditingCapabilities:void 0;l={supportsGeometryUpdate:d.readBoolean(l,"allowGeometryUpdates",!0),supportsGlobalId:d.readBoolean(l,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:d.readBoolean(l,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:d.readBoolean(l,"supportsRollbackOnFailureParameter",
!1),supportsUpdateWithoutM:d.readBoolean(l,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:d.readBoolean(l,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:d.readBoolean(B,"allowAnonymousToDelete",!0),supportsDeleteByOthers:d.readBoolean(B,"allowOthersToDelete",!0),supportsUpdateByAnonymous:d.readBoolean(B,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:d.readBoolean(B,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:d.readBoolean(E,"supportsAsyncApplyEdits",!1),zDefault:d.readNumber(l,
"zDefault",void 0)};return{analytics:v,attachment:A,data:t,metadata:w,operations:z,query:m,queryAttributeBins:k,queryRelated:x,queryTopFeatures:y,editing:l}};a.getVideoLayerCapabilities=function(l){return{operations:{supportsAppend:d.readBoolean(l,"supportsAppend",!1),supportsCoverageQuery:l?.playbackInfo?.klv["0601"]??!1,supportsExportClip:d.readBoolean(l,"supportsExportClip",!1),supportsExportFrameset:d.readBoolean(l,"supportsExportFrameset",!1),supportsMensuration:d.readBoolean(l,"supportsMensuration",
!1),supportsUpdate:d.readBoolean(l,"supportsUpdate",!1)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/infoFor3D":function(){define(["exports"],function(a){function b(m,v){return r(g(m,v))}function c(m,v){return r(h(m,v))}function f(m,v){return c(m.name,v)??b(m.type,v)}function d(m,v,A){return b(m,A)??c(v,A)}function n({supportedFormats:m}){return d("model/gltf-binary","glb",m)}function q({supportedFormats:m}){return d("model/gltf+json","gltf",m)}function e(m,
v){return[...l,...v].find(A=>r(A)===m)}function g(m,v){const A=m.toLowerCase();return[...l,...v].find(t=>u(t)===A)}function h(m,v){const A=m.toLowerCase();return[...l,...v].find(t=>p(t).some(w=>A.endsWith(w)))}function r(m){return m?.[0]}function u(m){return m?.[1].toLowerCase()}function p(m){return m?.[2].split(",").map(v=>v.toLowerCase())??[]}const l=[["binary","application/octet-stream","bin",""]];a.getAssetMapTable=function(m){return m.tables?.find(v=>"assetMaps"===v.role)};a.getFileFormatId=
f;a.getFilePickerAcceptType=function(m){const v={};for(const A of[...l,...(m?.supportedFormats??[])]){[m]=u(A).split(";");m=m.trim().toLowerCase();const t=p(A).map(k=>`.${k}`);let w,z;(w=v)[z=m]??(w[z]=[]);v[m].push(...t)}return{description:"3D Models",accept:v}};a.getFilenameFormatId=c;a.getFormatDescription=function(m){return m?.[3]};a.getFormatExtensions=p;a.getFormatId=r;a.getFormatIdMimeType=function(m,v){return u(e(m,v))};a.getFormatMimeType=u;a.getGlbFormatId=n;a.getGltfFormatId=q;a.getGltfQueryFormat=
function(m){if(!m)return null;const v=n(m),A=q(m);let t=null;for(const w of m.queryFormats){if(w===v)return w;w===A&&(t=w)}return t};a.getMimeTypeFormatId=b;a.getMimeTypeOrFilenameFormatId=d;a.getPrjFormatId=function({supportedFormats:m}){return d("application/esri3do-SR_prj","prj",m)};a.getSupportedExtensions=function(m){return[...l,...(m?.supportedFormats??[])].flatMap(p).map(v=>`.${v}`)};a.getWorldFileFormatId=function({supportedFormats:m}){return d("application/esri3do-SR_world","wld",m)};a.isFileEditFormat=
function(m,v){if(!m)return!1;v=f(v,m.supportedFormats??[]);return null!=v&&m.editFormats.includes(v)};a.isFileSupported=function(m,v){return null!=h(v.name,m?.supportedFormats??[])};a.isGlbSupportedEditFormat=function(m){const v=n(m);return null!=v&&m.editFormats.includes(v)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/jsonUtils":function(){define(["exports"],function(a){function b(c,f,d){return c&&c.hasOwnProperty(f)?c[f]:d}a.readBoolean=function(c,f,d){return!!b(c,
f,d)};a.readNumber=function(c,f,d){return b(c,f,d)};a.readValue=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Subtype":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){b=class extends b.ClonableMixin(c){constructor(u){super(u);this.code=null;this.defaultValues={};this.name=this.domains=null}readDomains(u){if(!u)return null;const p={};for(const l of Object.keys(u))p[l]=r.fromJSON(u[l]);return p}writeDomains(u,p){if(u){var l={};for(const m of Object.keys(u))u[m]&&(l[m]=u[m]?.toJSON());p.domains=l}}};a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"code",void 0);a.__decorate([f.property({type:Object,json:{write:!0}})],
b.prototype,"defaultValues",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"domains",void 0);a.__decorate([e.reader("domains")],b.prototype,"readDomains",null);a.__decorate([h.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);return b=a.__decorate([g.subclass("esri.layers.support.Subtype")],b)})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../renderers/SimpleRenderer ../../renderers/visualVariables/SizeVariable ../../renderers/visualVariables/support/SizeStop ../../views/2d/layers/support/clusterUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){a.FeatureReductionLayer=m=>{m=class extends m{constructor(...v){super(...v);this.addHandles(c.watch(()=>this.renderer,()=>{if(this.featureReduction){const A=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",A)}},c.sync))}set featureReduction(v){v=this._normalizeFeatureReduction(v);this._set("featureReduction",v)}set renderer(v){}_withClusterVariable(v,A,t){v=v.clone();"visualVariables"in v&&(v.visualVariables||(v.visualVariables=
[]),v.visualVariables.some(w=>"size"===w.type)||v.visualVariables.push(new u({field:"cluster_count",stops:[new p({value:1}),new p({useMinValue:!0,size:A}),new p({useMaxValue:!0,size:t})]})));return v}_normalizeFeatureReduction(v){if("cluster"!==v?.type)return v;const A=v.clone();var t=[new g({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})];const w=(A.fields??[]).filter(y=>!y.isAutoGenerated);var z=v.renderer&&!v.renderer.authoringInfo?.isAutoGenerated;const {clusterMinSize:k,
clusterMaxSize:x}=A;if(z)return A.fields=[...t,...w],t=this._withClusterVariable(A.renderer,k,x),A.effectiveFeatureRenderer=t,A.effectiveClusterRenderer=t,A;if(v.symbol){A.fields=[...t,...w];A.renderer=null;if(!this.renderer)return A.effectiveFeatureRenderer=null,A.effectiveClusterRenderer=null,A;z=l.createInferredClusterRenderer(t,this.renderer);z=this._withClusterVariable(z,k,x);v=new r({symbol:v.symbol,visualVariables:"visualVariables"in z&&z.visualVariables?z.visualVariables:[]});A.fields=[...t,
...w];A.effectiveFeatureRenderer=z;A.effectiveClusterRenderer=v;return A}if(!this.renderer)return v;v=l.createInferredClusterRenderer(t,this.renderer);A.fields=[...t,...w];A.renderer=v;t=this._withClusterVariable(v,k,x);A.effectiveFeatureRenderer=t;A.effectiveClusterRenderer=t;return A}};b.__decorate([f.property(h.featureReductionProperty)],m.prototype,"featureReduction",null);return m=b.__decorate([e.subclass("esri.layers.mixins.FeatureReductionLayer")],m)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),function(a,b,c,f,d,n,q,e){var g;b=g=class extends b{constructor(h){super(h);this.isAutoGenerated=!1;this.statisticType=this.onStatisticExpression=this.onStatisticField=this.alias=this.name=null}clone(){return new g({name:this.name,
alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:c.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"isAutoGenerated",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],
b.prototype,"onStatisticField",void 0);a.__decorate([f.property({type:e,json:{write:!0}})],b.prototype,"onStatisticExpression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);return b=g=a.__decorate([q.subclass("esri.layers.support.AggregateField")],b)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){b=class extends b.ClonableMixin(c){constructor(g){super(g);this.returnType=this.title=this.expression=null}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"returnType",void 0);return b=a.__decorate([e.subclass("esri.layers.support.ExpressionInfo")],b)})},"esri/layers/support/featureReductionUtils":function(){define("exports ../../core/accessorSupport/layerContainerType ./FeatureReduction ./FeatureReductionBinning ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(a,b,c,f,d,n){const q={key:"type",base:c.FeatureReduction,typeMap:{cluster:d,binning:f}};a.featureReductionProperty={types:{key:"type",base:c.FeatureReduction,typeMap:{selection:n,cluster:d,binning:f}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:q},"portal-item":{types:q},"web-scene":{types:{key:"type",base:c.FeatureReduction,typeMap:{selection:n}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:b.excludeTables}}}}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e){a.FeatureReduction=class extends c{constructor(){super(...arguments);this.type=null}};b.__decorate([f.property({type:["selection","cluster","binning"],readOnly:!0,
json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=b.__decorate([e.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./FeatureReduction ./LabelClass ../../renderers/support/jsonUtils ../../renderers/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t){var w;m=w=class extends m.FeatureReduction{constructor(z){super(z);this.type="binning";this.binType="geohash";this.labelingInfo=this.fixedBinLevel=null;this.labelsVisible=!0;this.maxScale=0;this.popupEnabled=!0;this.popupTemplate=null;this.size=d.toPt("12px");this.fields=[];this.renderer=null}writeFields(z,k,x){z=z.filter(y=>"avg_angle"!==y.statisticType).map(y=>y.toJSON());f.setDeepValue(x,z,k)}readRenderer(z,k,x){return(z=k.drawingInfo?.renderer)?A.read(z,
k,x)??void 0:l.createDefaultRenderer(k,x)}clone(){return new w({fields:c.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:c.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:c.clone(this.popupTemplate),renderer:c.clone(this.renderer),binType:c.clone(this.binType),size:this.size})}};a.__decorate([e.enumeration({binning:"binning"})],m.prototype,"type",void 0);a.__decorate([e.enumeration({geohash:"geohash",square:"square"}),
n.property({type:["geohash","square"]})],m.prototype,"binType",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],m.prototype,"fixedBinLevel",void 0);a.__decorate([n.property({type:[v],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],m.prototype,"labelingInfo",void 0);a.__decorate([n.property(p.labelsVisible)],m.prototype,"labelsVisible",void 0);a.__decorate([n.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],m.prototype,
"maxScale",void 0);a.__decorate([n.property(p.popupEnabled)],m.prototype,"popupEnabled",void 0);a.__decorate([n.property({type:b,json:{name:"popupInfo",write:!0}})],m.prototype,"popupTemplate",void 0);a.__decorate([n.property({cast:z=>"auto"===z?z:q.ensureNumber(d.toPt(z))})],m.prototype,"size",void 0);a.__decorate([n.property({type:[u],json:{write:!0}})],m.prototype,"fields",void 0);a.__decorate([r.writer("fields")],m.prototype,"writeFields",null);a.__decorate([n.property({types:t.rendererTypes,
json:{write:{target:"drawingInfo.renderer"}}})],m.prototype,"renderer",void 0);a.__decorate([g.reader("renderer",["drawingInfo.renderer"])],m.prototype,"readRenderer",null);return m=w=a.__decorate([h.subclass("esri.layers.support.FeatureReductionBinning")],m)})},"esri/layers/support/LabelClass":function(){define("../../chunks/tslib.es6 ../../core/has ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils ../../symbols/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A){function t(x,y,B){return{enabled:!l.isSceneServiceLayer(B?.layer)}}function w(x){return x?"service"===x.origin?!1:"map-image"!==x.layer?.type:!0}function z(x){return"map-image"===x?.type?!!x.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var k;b=new c.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});f=k=class extends f{static evaluateWhere(x,y){const B=(E,J,K)=>{switch(J){case "\x3d":return E==K;case "\x3c\x3e":return E!=K;case "\x3e":return E>K;case "\x3e\x3d":return E>=K;case "\x3c":return E<K;case "\x3c\x3d":return E<=K}return!1};try{if(null==x)return!0;const E=x.split(" ");if(3===E.length)return B(y[E[0]],E[1],E[2]);if(7===E.length){const J=B(y[E[0]],E[1],E[2]),K=E[3],H=B(y[E[4]],E[5],E[6]);switch(K){case "AND":return J&&H;case "OR":return J||H}}return!1}catch(E){}}constructor(x){super(x);
this.type="label";this.name=null;this.allowOverrun=!1;this.deconflictionStrategy="static";this.labelPlacement=this.labelExpressionInfo=this.labelExpression=null;this.labelPosition="curved";this.minScale=this.maxScale=0;this.repeatLabel=!0;this.repeatLabelDistance=null;this.symbol=m.defaultTextSymbol2D;this.useCodedValues=void 0;this.where=null}readLabelExpression(x,y){y=y.labelExpressionInfo;if(!y||!y.value&&!y.expression)return x}writeLabelExpression(x,y,B){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)x=
p.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const E=p.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);E&&(x="["+E+"]")}null!=x&&(y[B]=x)}writeLabelExpressionInfo(x,y,B,E){if(null==x&&null!=this.labelExpression&&w(E))x=new u({expression:this.getLabelExpressionArcade()});else if(!x)return;x=x.toJSON(E);x.expression&&(y[B]=x)}writeMaxScale(x,y){if(x||this.minScale)y.maxScale=x}writeMinScale(x,y){if(x||this.maxScale)y.minScale=
x}getLabelExpression(){return p.getLabelExpression(this)}getLabelExpressionArcade(){return p.getLabelExpressionArcade(this)}getLabelExpressionSingleField(){return p.getLabelExpressionSingleField(this)}hash(){return JSON.stringify(this)}clone(){return new k({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:d.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,
minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:d.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};a.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);a.__decorate([q.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:t}}}}})],f.prototype,"allowOverrun",void 0);a.__decorate([q.property({type:String,
json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:t}}}}})],f.prototype,"deconflictionStrategy",void 0);a.__decorate([q.property({type:String,json:{write:{overridePolicy(x,y,B){return this.labelExpressionInfo&&"service"===B?.origin&&z(B.layer)?{enabled:!1}:{allowNull:!0}}}}})],f.prototype,"labelExpression",void 0);a.__decorate([g.reader("labelExpression")],f.prototype,"readLabelExpression",null);a.__decorate([r.writer("labelExpression")],
f.prototype,"writeLabelExpression",null);a.__decorate([q.property({type:u,json:{write:{overridePolicy(x,y,B){return w(B)||z(B?.layer)?{allowNull:!0}:{enabled:!1}}}}})],f.prototype,"labelExpressionInfo",void 0);a.__decorate([r.writer("labelExpressionInfo")],f.prototype,"writeLabelExpressionInfo",null);a.__decorate([q.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],f.prototype,"labelPlacement",void 0);a.__decorate([q.property({type:["curved","parallel"],json:{write:!0,
origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],f.prototype,"labelPosition",void 0);a.__decorate([q.property({type:Number})],f.prototype,"maxScale",void 0);a.__decorate([r.writer("maxScale")],f.prototype,"writeMaxScale",null);a.__decorate([q.property({type:Number})],f.prototype,"minScale",void 0);a.__decorate([r.writer("minScale")],f.prototype,"writeMinScale",null);a.__decorate([q.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:t}}}}})],
f.prototype,"repeatLabel",void 0);a.__decorate([q.property({type:Number,cast:n.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:t}}}}})],f.prototype,"repeatLabelDistance",void 0);a.__decorate([q.property({types:A.symbolTypesLabel,json:{origins:{"web-scene":{types:A.symbolTypesLabel3D,write:v.writeLabelSymbol,default:null}},write:v.writeLabelSymbol,default:null}})],f.prototype,"symbol",void 0);a.__decorate([q.property({type:Boolean,json:{write:!0}})],f.prototype,
"useCodedValues",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"where",void 0);return f=k=a.__decorate([h.subclass("esri.layers.support.LabelClass")],f)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;b=r=class extends b{constructor(){super(...arguments);this.value=this.title=this.expression=null}readExpression(u,p){return p.value?h.convertTemplatedStringToArcade(p.value):u}writeExpression(u,p,l){null!=this.value&&(u=h.convertTemplatedStringToArcade(this.value));null!=u&&(p[l]=u)}clone(){return new r({expression:this.expression,title:this.title,value:this.value})}};a.__decorate([c.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],b.prototype,"expression",
void 0);a.__decorate([q.reader("expression",["expression","value"])],b.prototype,"readExpression",null);a.__decorate([g.writer("expression")],b.prototype,"writeExpression",null);a.__decorate([c.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0);a.__decorate([c.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);return b=r=a.__decorate([e.subclass("esri.layers.support.LabelExpressionInfo")],b)})},"esri/layers/support/labelUtils":function(){define(["exports",
"../../core/string"],function(a,b){function c(v){return v.replaceAll(RegExp("\\[","g"),"{").replaceAll(RegExp("\\]","g"),"}")}function f(v){const A={expression:"",type:"none"};v.labelExpressionInfo?v.labelExpressionInfo.value?(A.expression=v.labelExpressionInfo.value,A.type="conventional"):v.labelExpressionInfo.expression&&(A.expression=v.labelExpressionInfo.expression,A.type="arcade"):null!=v.labelExpression&&(A.expression=c(v.labelExpression),A.type="conventional");return A}function d(v){v?(v=b.replace(v,
A=>'__begin__$feature["'+A+'"]__end__'),v=h.test(v)?v.replace(h,""):'"'+v,v=r.test(v)?v.replace(r,""):v+'"',v=v.replaceAll(e,'" + ').replaceAll(g,' + "')):v='""';return v}function n(v){return v?.match(u)?.[1].trim()||null}function q(v){if(!v)return null;let A=p.exec(v)||l.exec(v);return A?A[1]||A[3]:(A=m.exec(v))?A[2]:null}const e=RegExp("__begin__","ig"),g=RegExp("__end__","ig"),h=RegExp("^__begin__","i"),r=RegExp("__end__$","i"),u=/^\s*\{([^}]+)\}\s*$/i,p=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,
l=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,m=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=d;a.getLabelExpression=f;a.getLabelExpressionArcade=function(v){v=f(v);switch(v.type){case "conventional":return d(v.expression);case "arcade":return v.expression}return null};a.getLabelExpressionSingleField=function(v){v=f(v);switch(v.type){case "conventional":return n(v.expression);
case "arcade":return q(v.expression)}return null};a.getSingleFieldArcadeExpression=q;a.getSingleFieldTemplatedString=n;a.sqlToTemplateString=c;a.templateStringToSql=function(v){return v.replaceAll(RegExp("\\{","g"),"[").replaceAll(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./typeUtils"],function(a,b,c,
f){function d(q,e,g){return q?q&&(q.styleName||q.styleUrl)&&"uniqueValue"!==q.type?(g?.messages&&g.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+q.type+"'",{definition:q,context:g})),null):n(q,e,g):null}const n=c.createTypeReader({types:f.rendererTypes});a.fromJSON=function(q,e){return d(q,null,e)};a.read=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/typeUtils":function(){define("exports ../../core/Logger ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),
function(a,b,c,f,d,n,q,e,g,h){function r(p){const l=p.uniqueValueInfos,m=l?.filter(({symbol:v,label:A},t)=>{v||b.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${t}] ${A}) without a symbol from web scene.`);return!!v});m?.length!==l?.length&&(p.uniqueValueInfos=m);return p}function u(p){const l=p.classBreakInfos,m=l?.filter(({symbol:v,label:A},t)=>{v||b.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${t}] ${A}) without a symbol from web scene.`);
return!!v});m?.length!==l?.length&&(p.classBreakInfos=m);return p}f={key:"type",base:e,typeMap:{heatmap:n,simple:g,"unique-value":h,"class-breaks":c,"dot-density":d,dictionary:f,"pie-chart":q},errorContext:"renderer"};c={key:"type",base:e,typeMap:{simple:g,"unique-value":h,"class-breaks":c,heatmap:n},errorContext:"renderer",validate:function(p){switch(p.type){case "simple":return p.symbol||(b.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene."),
p=void 0),p;case "unique-value":return r(p);case "class-breaks":return u(p);case "heatmap":return p}}};a.isRenderer=function(p){return p instanceof e};a.rendererTypes=f;a.webSceneRendererTypes=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/RendererLegendOptions ../support/arcadeOnDemand ../symbols/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w){var z;b=new b.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const k=r.ensureType(m);p=z=class extends l.VisualVariablesMixin(p){constructor(x){super(x);this._compiledValueExpression={valueExpression:null,compiledFunction:null};this.field=this.defaultSymbol=this.defaultLabel=this.classBreakInfos=this.backgroundFillSymbol=null;this.isMaxInclusive=!0;this.normalizationTotal=this.normalizationField=
this.legendOptions=null;this.type="class-breaks";this.valueExpressionTitle=this.valueExpression=null;this._set("classBreakInfos",[])}readClassBreakInfos(x,y,B){if(Array.isArray(x)){var E=y.minValue;return x.map(J=>{const K=new m;K.read(J,B);null==K.minValue&&(K.minValue=E);null==K.maxValue&&(K.maxValue=K.minValue);E=K.maxValue;return K})}}writeClassBreakInfos(x,y,B,E){x=x.map(J=>J.write({},E));this._areClassBreaksConsecutive()&&x.forEach(J=>delete J.classMinValue);y[B]=x}castField(x){return null==
x?x:"function"===typeof x?(f.getLogger(this).error(".field: field must be a string value"),null):r.ensureString(x)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let x=this._get("normalizationType");const y=!!this.normalizationField,B=null!=this.normalizationTotal;if(y||B)x=y&&"field"||B&&"percent-of-total"||null,y&&B&&f.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===
x||"percent-of-total"===x)x=null;return x}set normalizationType(x){this._set("normalizationType",x)}addClassBreakInfo(x,y,B){let E=null;E="number"===typeof x?new m({minValue:x,maxValue:y,symbol:w.ensureType(B)}):k(c.clone(x));this.classBreakInfos.push(E);1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(x,y){const B=this.classBreakInfos.length;for(let E=0;E<B;E++){const J=[this.classBreakInfos[E].minValue,this.classBreakInfos[E].maxValue];if(J[0]===x&&J[1]===y){this.classBreakInfos.splice(E,
1);break}}}getBreakIndex(x,y){this.valueExpression&&null==y?.arcade&&f.getLogger(this).warn("");return this.valueExpression?this._getBreakIndexForExpression(x,y):this._getBreakIndexForField(x)}async getClassBreakInfo(x,y){let B=y;this.valueExpression&&null==y?.arcade&&(B={...B,arcade:await t.loadArcade()});x=this.getBreakIndex(x,B);return-1!==x?this.classBreakInfos[x]:null}getSymbol(x,y){if(this.valueExpression&&null==y?.arcade)f.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");
else return x=this.getBreakIndex(x,y),-1<x?this.classBreakInfos[x].symbol:this.defaultSymbol}async getSymbolAsync(x,y){let B=y;if(this.valueExpression&&null==y?.arcade){y=await t.loadArcade();const {arcadeUtils:E}=y;E.hasGeometryOperations(this.valueExpression)&&await E.enableGeometryOperations();B={...B,arcade:y}}x=this.getBreakIndex(x,B);return-1<x?this.classBreakInfos[x].symbol:this.defaultSymbol}get symbols(){const x=[];this.classBreakInfos.forEach(y=>{y.symbol&&x.push(y.symbol)});this.defaultSymbol&&
x.push(this.defaultSymbol);return x}getAttributeHash(){return this.visualVariables?.reduce((x,y)=>x+y.getAttributeHash(),"")??""}getMeshHash(){const x=JSON.stringify(this.backgroundFillSymbol),y=JSON.stringify(this.defaultSymbol),B=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,E=this.classBreakInfos.reduce((J,K)=>J+K.getMeshHash(),"");return`${x}.${y}.${E}.${B}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||
!!this.valueExpression}clone(){return new z({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:c.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:c.clone(this.visualVariables),
legendOptions:c.clone(this.legendOptions),authoringInfo:c.clone(this.authoringInfo)})}async collectRequiredFields(x,y){x=[this.collectVVRequiredFields(x,y),this.collectSymbolFields(x,y)];await Promise.all(x)}async collectSymbolFields(x,y){const B=[...this.symbols.map(E=>E.collectRequiredFields(x,y)),u.collectArcadeFieldNames(x,y,this.valueExpression)];u.collectField(x,y,this.field);u.collectField(x,y,this.normalizationField);await Promise.all(B)}_getBreakIndexForExpression(x,y){const {viewingMode:B,
scale:E,spatialReference:J,arcade:K,timeZone:H}=y??{};({valueExpression:y}=this);var F=this._compiledValueExpression.valueExpression===y?this._compiledValueExpression.compiledFunction:null;const N=K.arcadeUtils;F||(F=N.createSyntaxTree(y),F=N.createFunction(F),this._compiledValueExpression.compiledFunction=F);this._compiledValueExpression.valueExpression=y;x=N.executeFunction(F,N.createExecContext(x,N.getViewInfo({viewingMode:B,scale:E,spatialReference:J}),H));return this._getBreakIndexfromInfos(x)}_getBreakIndexForField(x){var y=
x.attributes;x=this.normalizationType;let B=parseFloat(y[this.field]);if(x){const E=this.normalizationTotal;y=parseFloat(this.normalizationField?y[this.normalizationField]:void 0);if("log"===x)B=Math.log(B)*Math.LOG10E;else if("percent-of-total"===x&&null!=E&&!isNaN(E))B=B/E*100;else if("field"===x&&!isNaN(y)){if(isNaN(B)||isNaN(y))return-1;B/=y}}return this._getBreakIndexfromInfos(B)}_getBreakIndexfromInfos(x){const y=this.isMaxInclusive;if(null!=x&&"number"===typeof x&&!isNaN(x))for(let B=0;B<this.classBreakInfos.length;B++){const E=
[this.classBreakInfos[B].minValue,this.classBreakInfos[B].maxValue];if(E[0]<=x&&(y?x<=E[1]:x<E[1]))return B}return-1}_areClassBreaksConsecutive(){const x=this.classBreakInfos,y=x.length;for(let B=1;B<y;B++)if(x[B-1].maxValue!==x[B].minValue)return!1;return!0}};a.__decorate([d.property(v.rendererBackgroundFillSymbolProperty)],p.prototype,"backgroundFillSymbol",void 0);a.__decorate([d.property({type:[m],json:{write:{isRequired:!0}}})],p.prototype,"classBreakInfos",void 0);a.__decorate([e.reader("classBreakInfos")],
p.prototype,"readClassBreakInfos",null);a.__decorate([h.writer("classBreakInfos")],p.prototype,"writeClassBreakInfos",null);a.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"defaultLabel",void 0);a.__decorate([d.property(v.rendererSymbolProperty)],p.prototype,"defaultSymbol",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"field",void 0);a.__decorate([n.cast("field")],p.prototype,"castField",null);a.__decorate([d.property({type:Boolean})],p.prototype,
"isMaxInclusive",void 0);a.__decorate([d.property({type:A,json:{write:!0}})],p.prototype,"legendOptions",void 0);a.__decorate([d.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],p.prototype,"minValue",null);a.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"normalizationField",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],
p.prototype,"normalizationTotal",void 0);a.__decorate([d.property({type:b.apiValues,value:null,json:{type:b.jsonValues,read:b.read,write:b.write}})],p.prototype,"normalizationType",null);a.__decorate([q.enumeration({classBreaks:"class-breaks"})],p.prototype,"type",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"valueExpressionTitle",void 0);return p=z=a.__decorate([g.subclass("esri.renderers.ClassBreaksRenderer")],
p)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,f,d,n,q,e){var g;b=g=class extends b{constructor(h){super(h);this.minValue=this.label=this.description=null;this.maxValue=0;this.symbol=null}clone(){return new g({description:this.description,label:this.label,
minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const h=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${h}`}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);a.__decorate([c.property({type:Number,
json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);a.__decorate([c.property(e.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);return b=g=a.__decorate([q.subclass("esri.renderers.support.ClassBreakInfo")],b)})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){var u;f=u=class extends h.VisualVariablesMixin(g){constructor(p){super(p);this.url=this.scaleExpressionTitle=this.scaleExpression=this.fieldMap=this.config=null;this.type="dictionary"}get _loader(){return new r.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(p,l){p&&(l.scalingExpressionInfo={expression:p,returnType:"number"})}writeVisualVariables(p,l,m,v){v?.origin||super.writeVisualVariables(p,l,m,v)}clone(){return new u({config:b.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:b.clone(this.fieldMap),url:b.clone(this.url),visualVariables:b.clone(this.visualVariables)})}async getSymbolAsync(p,l){return this._loader.getSymbolAsync(p,l)}async collectRequiredFields(p,l){await this.collectVVRequiredFields(p,l);this.scaleExpression&&await e.collectArcadeFieldNames(p,l,this.scaleExpression);for(const m in this.fieldMap){const v=this.fieldMap[m];l.has(v)&&p.add(v)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((p,
l)=>p+l.getAttributeHash(),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};a.__decorate([c.property({type:r.DictionaryLoader})],f.prototype,"_loader",null);a.__decorate([c.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],f.prototype,"config",void 0);a.__decorate([c.property({type:Object,json:{write:!0}})],f.prototype,"fieldMap",void 0);a.__decorate([c.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],f.prototype,"scaleExpression",void 0);a.__decorate([q.writer("scaleExpression")],f.prototype,"writeData",null);a.__decorate([c.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(p){return{enabled:!!p&&!!this.scaleExpression}}}}})],f.prototype,"scaleExpressionTitle",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"url",void 0);
a.__decorate([q.writer("visualVariables")],f.prototype,"writeVisualVariables",null);return f=u=a.__decorate([n.subclass("esri.renderers.DictionaryRenderer")],f)})},"esri/renderers/support/DictionaryLoader":function(){define("require exports ../../Color ../../request ../../core/Error ../../core/has ../../core/lang ../../core/Logger ../../core/LRUCache ../../core/promiseUtils ../../core/Version ../../geometry/support/jsonUtils ../../layers/support/FieldsIndex ../../support/arcadeOnDemand ../../symbols/CIMSymbol ../../symbols/cim/utils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v){function A(z,k,x){if(!z||0===z.length)return null;const y={...z[0]};if(1<z.length){y.effects=null;y.symbolLayers=[];for(const B of z){z=B;if(null!=z.effects)for(const E of z.symbolLayers)null==E.effects?E.effects=z.effects:E.effects.unshift(...z.effects);y.symbolLayers.unshift(...z.symbolLayers)}}x&&(y.callout=t);return{type:"CIMSymbolReference",symbol:y,primitiveOverrides:k}}const t={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",
width:.5,color:[0,0,0,255]}]}};class w{constructor(z,k,x){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new g.LRUCache(100);this._dictionaryPromise=this._fieldIndex=this._dictionaryVersion=null;this.url=z;this.config=k;this.fieldMap=x}getSymbolFields(){return this._symbolFields}async getSymbolAsync(z,k){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(k));try{var x=await this._dictionaryPromise}catch(N){if(h.isAbortError(N))return this._dictionaryPromise=
null}var y=this._dictionaryVersion?.greaterEqual(4,0),B={};if(this.fieldMap)for(var E of this._symbolFields){var J=v.getFieldName(this.fieldMap[E],this._fieldIndex);if(J){var K=z.attributes[J];B[E]=y?K:null!=K?""+z.attributes[J]:""}else B[E]=""}y=null;try{y=x?.(B,k)}catch(N){return null}if(!y||"string"!==typeof y||"invalid"===y)return null;y=y.split(";");x=[];B=[];for(E=0;E<y.length;E++)if(J=y[E])if(J.includes("po:")){var H=J.slice(3).split("|");3===H.length&&(J=H[0],K=H[1],H=H[2],"countrylabel"===
J&&"TextString"===K?null!=this.fieldMap&&(J=this.fieldMap.countrylabel,null==J&&(J="countrylabel",this.fieldMap[J]=J),z.attributes[J]=H):("DashTemplate"===K?H=H.split(" ").map(N=>Number(N)):"Color"===K?(H=(new c(H)).toRgba(),H=[H[0],H[1],H[2],255*H[3]]):H=Number(H),B.push({primitiveName:J,propertyName:K,value:H,defaultValue:null})))}else if(J.includes("|"))for(var F of J.split("|")){if(this._itemNames.has(F)){x.push(F);break}}else if(this._itemNames.has(J))x.push(J);else if(0===E){x.length=0;F="Invalid_P";
null!=z.geometry&&(u.isPolygon(z.geometry)?F="Invalid_A":u.isPolyline(z.geometry)&&(F="Invalid_L"));x.push(F);break}return this._cimPartsToCIMSymbol(z,x,B,null==z.geometry||!z.geometry.hasZ&&"point"===z.geometry.type?!0:!1,k)}async fetchResources(z){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var k=f(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=z?z.signal:null}),[{data:x}]=await Promise.all([k,l.loadArcade()]);if(!x)throw this._dictionaryPromise=
null,new d("esri.renderers.DictionaryRenderer","Bad dictionary data!");var {authoringInfo:y,dictionary_version:B,expression:E,itemsNames:J}=x;k=!1;B&&(this._dictionaryVersion=r.Version.parse(B),k=this._dictionaryVersion.greaterEqual(4,0));this._refSymbolUrlTemplate=this.url+"/"+x.cimRefTemplateUrl;this._itemNames=new Set(J);this._symbolFields=y.symbol;x={};if(this.config){const F=this.config;for(var K in F)x[K]=F[K]}if(y.configuration)for(var H of y.configuration)x.hasOwnProperty(H.name)||(x[H.name]=
H.value);K=[];if(z?.fields&&this.fieldMap)for(const F in this.fieldMap){const N=this.fieldMap[F];H=z.fields.filter(S=>S.name.toLowerCase()===N?.toLowerCase());0<H.length&&K.push({...H[0],type:k?H[0].type:"esriFieldTypeString"})}0<K.length&&(this._fieldIndex=new p(K));return this._dictionaryPromise=z=l.createDictionaryExpression(E,null!=z?z.spatialReference:null,K,x).then(F=>{const N={scale:0};return(S,W)=>{if(null==F)return null;S=F.repurposeFeature({geometry:null,attributes:S});N.scale=null!=W?W.scale??
void 0:void 0;return F.evaluate({$feature:S,$view:N},F.services)}}).catch(F=>{e.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictionary expression failed:",F);return null})}e.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")}async _cimPartsToCIMSymbol(z,k,x,y,B){var E=Array(k.length);for(let J=0;J<k.length;J++)E[J]=this._getSymbolPart(k[J],B);k=await Promise.all(E);if((B=this.fieldMap)&&0<k.length){({OverrideHelper:E}=await new Promise((J,K)=>a(["../../symbols/cim/OverrideHelper"],
J,K)));k=q.clone(k);for(const J of k)E.applyDictionaryTextOverrides(J,z,B,this._fieldIndex,v.getTextCasing(J))}return new m({data:A(k,x,y)})}async _getSymbolPart(z,k){var x=this._symbolCache.get(z);if(x)return x;if(this._ongoingRequests.has(z))return this._ongoingRequests.get(z).then(y=>y.data);x=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,z);k=f(x,{responseType:"json",query:{f:"json"},...k});this._ongoingRequests.set(z,k);k.finally(()=>this._ongoingRequests.delete(z));try{const y=await k;
this._symbolCache.put(z,y.data);return y.data}catch(y){throw y;}}}b.DictionaryLoader=w;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["exports","./MemCache"],function(a,b){class c{constructor(f,d){this._storage=new b.MemCacheStorage;this.name=this.id="";this.size=0;this._storage.maxSize=f;this._storage.register(this);d&&this._storage.registerRemoveFunc("",d)}destroy(){this._storage.deregister(this);this._storage.destroy()}put(f,d,n=1){this._storage.put(this,
f,d,n,1)}pop(f){return this._storage.pop(this,f)}get(f){return this._storage.get(this,f)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(f){this._storage.maxSize=f}resetHitRate(){}}a.LRUCache=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MemCache":function(){define(["exports","./PooledArray"],function(a,b){a.RemoveMode=void 0;(function(q){q[q.ALL=0]="ALL";q[q.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode={}));class c{constructor(q,
e,g,h=0){this.name=q;this._storage=e;this._defaultPriority=h;this.id=`${d++}:`;this.size=0;this.maxSize=-1;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);g&&(this._storage.registerRemoveFunc(this.id,g),this._removeFunc=!0)}destroy(){this._storage.clear(this);this._removeFunc&&this._storage.deregisterRemoveFunc(this.id);this._storage.deregister(this);this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(q){return this._storage.getSize(this,
q)}resetHitRate(){this._hit=this._miss=0}put(q,e,g=this._defaultPriority){this._storage.put(this,q,e,e.cachedMemory,g)}pop(q){q=this._storage.pop(this,q);void 0===q?++this._miss:++this._hit;return q}get(q){q=this._storage.get(this,q);void 0===q?++this._miss:++this._hit;return q}peek(q){return this._storage.peek(this,q)}updateSize(q,e){this._storage.updateSize(this,q,e,e.cachedMemory)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}
class f{get size(){return this._size}constructor(q=10485760){this._maxSize=q;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new b;this._users=new b}destroy(){this.clearAll();this._removeFuncs.clear();this._users.clear()}register(q){this._users.push(q)}deregister(q){this._users.removeUnordered(q)}registerRemoveFunc(q,e){this._removeFuncs.push([q,e])}deregisterRemoveFunc(q){this._removeFuncs.filterInPlace(e=>e[0]!==q)}get maxSize(){return this._maxSize}set maxSize(q){this._maxSize=
Math.max(q,-1);this._checkSize()}getSize(q,e){return this._db.get(q.id+e)?.size??0}put(q,e,g,h,r){e=q.id+e;const u=this._db.get(e);u&&(this._size-=u.size,q.size-=u.size,this._db.delete(e),u.entry!==g&&this._notifyRemove(e,u.entry,u.size,a.RemoveMode.ALL));h>this._maxSize?this._notifyRemove(e,g,h,a.RemoveMode.ALL):void 0===g?console.warn("Refusing to cache undefined entry "):!h||0>h?(console.warn(`Refusing to cache entry with size ${h} for key ${e}`),this._notifyRemove(e,g,0,a.RemoveMode.ALL)):(this._db.set(e,
new n(g,h,1+Math.max(r,-4)- -3)),this._size+=h,q.size+=h,this._checkSize())}updateSize(q,e,g,h){e=q.id+e;const r=this._db.get(e);if(r&&r.entry===g){this._size-=r.size;for(q.size-=r.size;h>this._maxSize;)if(h=this._notifyRemove(e,g,h,a.RemoveMode.SOME),!(null!=h&&0<h)){this._db.delete(e);return}r.size=h;this._size+=h;q.size+=h;this._checkSize()}}pop(q,e){e=q.id+e;const g=this._db.get(e);if(g)return this._size-=g.size,q.size-=g.size,this._db.delete(e),++this._hit,g.entry;++this._miss}get(q,e){e=q.id+
e;q=this._db.get(e);if(void 0===q)++this._miss;else return this._db.delete(e),q.lives=q.lifetime,this._db.set(e,q),++this._hit,q.entry}peek(q,e){(q=this._db.get(q.id+e))?++this._hit:++this._miss;return q?.entry}get performanceInfo(){const q={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},g=[];this._db.forEach((u,p)=>{const l=u.lifetime;g[l]=(g[l]||0)+u.size;this._users.forAll(m=>
{const {id:v,name:A}=m;p.startsWith(v)&&(e[A]=(e[A]||0)+u.size)})});const h={};this._users.forAll(u=>{const p=u.name;"hitRate"in u&&"number"===typeof u.hitRate&&!isNaN(u.hitRate)&&0<u.hitRate?(e[p]=e[p]||0,h[p]=Math.round(100*u.hitRate)+"%"):h[p]="0%"});var r=Object.keys(e);r.sort((u,p)=>e[p]-e[u]);r.forEach(u=>q[u]=Math.round(e[u]/2**20)+"MB / "+h[u]);for(r=g.length-1;0<=r;--r){const u=g[r];u&&(q["Priority "+(r+-3-1)]=Math.round(u/this._size*100)+"%")}return q}resetStats(){this._hit=this._miss=0;
this._users.forAll(q=>q.resetHitRate())}clear(q){const e=q.id;this._db.forEach((g,h)=>{h.startsWith(e)&&(this._size-=g.size,this._db.delete(h),this._notifyRemove(h,g.entry,g.size,a.RemoveMode.ALL))});q.size=0}clearAll(){this._db.forEach((q,e)=>this._notifyRemove(e,q.entry,q.size,a.RemoveMode.ALL));this._users.forAll(q=>q.size=0);this._size=0;this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(q,e,g,h){let r;this._removeFuncs.some(u=>q.startsWith(u[0])?(u=u[1](e,h,
g),"number"===typeof u&&(r=u),!0):!1);return r}_checkSize(){this._users.forAll(q=>this._checkSizeLimits(q));this._checkSizeLimits()}_checkSizeLimits(q){const e=q??this;if(!(0>e.maxSize||e.size<=e.maxSize)){for(var g=q?.id,h=!0;h;){h=!1;for(const [r,u]of this._db)if(0===u.lifetime&&(!g||r.startsWith(g))){this._purgeItem(r,u,q);if(e.size<=.9*e.maxSize)return;h||=this._db.has(r)}}for(const [r,u]of this._db)if(!g||r.startsWith(g))if(this._purgeItem(r,u,q),e.size<=.9*e.maxSize)break}}_purgeItem(q,e,g=
this._users.find(h=>q.startsWith(h.id))){this._db.delete(q);if(1>=e.lives){this._size-=e.size;g&&(g.size-=e.size);const h=this._notifyRemove(q,e.entry,e.size,a.RemoveMode.SOME);null!=h&&0<h&&(this._size+=h,g&&(g.size+=h),e.lives=e.lifetime,e.size=h,this._db.set(q,e))}else--e.lives,this._db.set(q,e)}}let d=0;class n{constructor(q,e,g){this.entry=q;this.size=e;this.lives=this.lifetime=g}}a.MemCache=c;a.MemCacheStorage=f;a.MinPriority=-3;a.NoPriority=-4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/Version":function(){define(["exports","./Error"],function(a,b){a.Version=class c{constructor(f,d,n=""){this.major=f;this.minor=d;this._context=n}lessThan(f,d){return this.major<f||f===this.major&&this.minor<d}greaterEqual(f,d){return!this.lessThan(f,d)}validate(f){if(this.major!==f.major)throw new b((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:f});
}clone(){return new c(this.major,this.minor,this._context)}static parse(f,d=""){const [n,q]=f.split(".");var e=/^\s*\d+\s*$/;if(!n?.match||!e.test(n))throw new b((d&&d+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:f});if(!q?.match||!e.test(q))throw new b((d&&d+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:f});f=parseInt(n,10);e=parseInt(q,10);return new c(f,e,d)}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define("../../core/Error ../../core/JSONSupport ../../core/Logger ../../core/MapUtils ../../core/sql/UnknownTimeZone ./fieldUtils ../../time/constants ../../time/timeZoneUtils ../../chunks/datetime".split(" "),function(a,b,c,f,d,n,q,e,g){function h(m){return m.trim().toLowerCase()}function r(m){const v=new Map;if(!m.fields)return v;const A=!0===m.datesInUnknownTimezone,{timeInfo:t,editFieldsInfo:w}=m;var z=(t?"startField"in t?t.startField:
t.startTimeField:"")??"";const k=(t?"endField"in t?t.endField:t.endTimeField:"")??"",x="dateFieldsTimeZone"in m?m.dateFieldsTimeZone??null:m.dateFieldsTimeReference?e.fromTimeReference(m.dateFieldsTimeReference):null,y=w?"timeZone"in w?w.timeZone??x:w.dateFieldsTimeReference?e.fromTimeReference(w.dateFieldsTimeReference):x??q.utc:null,B=t?"timeZone"in t?t.timeZone??x:t.timeReference?e.fromTimeReference(t.timeReference):x:null;z=new Map([[h(w?.creationDateField??""),y],[h(w?.editDateField??""),y],
[h(z),B],[h(k),B]]);for(const {name:E,type:J}of m.fields)l.has(J)?v.set(E,q.unknown):"date"!==J&&"esriFieldTypeDate"!==J?v.set(E,null):A?v.set(E,q.unknown):(m=z.get(h(E??""))??x,v.set(E,m));return v}const u=new Map;class p{static fromJSON(m){return new p(m.fields,m.timeZoneByFieldName)}static fromLayer(m){return new p(m.fields??[],r(m))}static fromLayerJSON(m){return new p(m.fields??[],r(m))}constructor(m=[],v){this._fieldsMap=new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;
this._numericFieldsSet=new Set;this._requiredFields=null;this.dateFields=[];this.numericFields=[];this.fields=m||[];this._timeZoneByFieldName=v?new Map(v):null;m=[];for(const A of this.fields){v=A?.name;const t=n.normalizeFieldName(v)?.toLowerCase()??"";if(v&&t){const w=h(v);this._fieldsMap.set(v,A);this._fieldsMap.set(w,A);this._normalizedFieldsMap.set(t,A);m.push(`${w}:${A.type}:${this._timeZoneByFieldName?.get(v)}`);n.isDateField(A)?(this.dateFields.push(A),this._dateFieldsSet.add(A)):n.isNumericField(A)&&
(this._numericFieldsSet.add(A),this.numericFields.push(A));n.isObjectIDField(A)||n.isGlobalIDField(A)||(A.editable=null==A.editable||!!A.editable,A.nullable=null==A.nullable||!!A.nullable)}}m.sort();this.uid=m.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const m of this.fields)n.isObjectIDField(m)||n.isGlobalIDField(m)||m.nullable||void 0!==n.getFieldDefaultValue(m)||this._requiredFields.push(m)}return this._requiredFields}equals(m){return this.uid===m?.uid}has(m){return null!=
this.get(m)}get(m){if(m){var v=this._fieldsMap.get(m);if(v)return v;(v=this._fieldsMap.get(h(m))??this._normalizedFieldsMap.get(n.normalizeFieldName(m)?.toLowerCase()??""))&&this._fieldsMap.set(m,v);return v}}getTimeZone(m){m=this.get(m&&"string"!==typeof m?m.name:m);return m?this._timeZoneByFieldName?this._timeZoneByFieldName.get(m.name):"date"===m.type||"esriFieldTypeDate"===m.type?(c.getLogger("esri.layers.support.FieldsIndex").errorOnce(new a("getTimeZone:no-timezone-information",`no time zone information for field '${m.name}'`)),
q.utc):l.has(m.type)?q.unknown:null:null}getLuxonTimeZone(m){const v=this.getTimeZone(m);return v?v===q.unknown?d.UnknownTimeZone.instance:v===q.utc?g.FixedOffsetZone.utcInstance:f.getOrCreateMapValue(u,v,()=>g.IANAZone.create(v)):null}isDateField(m){return this._dateFieldsSet.has(this.get(m))}isTimeOnlyField(m){return n.isTimeOnlyField(this.get(m))}isNumericField(m){return this._numericFieldsSet.has(this.get(m))}normalizeFieldName(m){return this.get(m)?.name??void 0}toJSON(){return{fields:this.fields.map(m=>
b.isSerializable(m)?m.toJSON():m),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}const l=new Set("time-only date-only timestamp-offset esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "));return p})},"esri/symbols/cim/utils":function(){define(["require","exports","./defaultCIMValues"],function(a,b,c){function f(k){return"function"===typeof k}function d(k){let x=k.length;for(;x--;)if(!" /-,\n".includes(k.charAt(x)))return!1;
return!0}function n(k,x){"string"!==typeof k&&(k=String(k));switch(x){case "LowerCase":return k.toLowerCase();case "Allcaps":return k.toUpperCase();default:return k}}function q(k){return k?[k[0],k[1],k[2],k[3]/255]:[0,0,0,0]}function e(k){return null!=k&&("CIMMarkerPlacementAlongLineRandomSize"===k.type||"CIMMarkerPlacementAlongLineSameSize"===k.type||"CIMMarkerPlacementAlongLineVariableSize"===k.type||"CIMMarkerPlacementAtExtremities"===k.type||"CIMMarkerPlacementAtMeasuredUnits"===k.type||"CIMMarkerPlacementAtRatioPositions"===
k.type||"CIMMarkerPlacementOnLine"===k.type||"CIMMarkerPlacementOnVertices"===k.type)}function g(k){if(!k)return null;switch(k.type){case "CIMPolygonSymbol":if(k.symbolLayers)for(const x of k.symbolLayers)if(k=g(x),null!=k)return k;break;case "CIMTextSymbol":return g(k.symbol);case "CIMSolidFill":return k.color}return null}function h(k){if(k)switch(k.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(k=k.symbolLayers)for(const x of k)if(k=h(x),null!=k)return k;break;case "CIMTextSymbol":return h(k.symbol);
case "CIMSolidStroke":return k.color}}function r(k){if(k)switch(k.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(k.symbolLayers)for(const x of k.symbolLayers)if(k=r(x),void 0!==k)return k;break;case "CIMTextSymbol":return r(k.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return k.width}}function u(k){return k?k.charAt(0).toLowerCase()+k.slice(1):k}function p(k){if(null==k)return!1;if(Array.isArray(k))return k.every(x=>p(x));switch(typeof k){case "string":return!!k;
case "number":return!isNaN(k)}}function l(k,x){if("color"===x||"outlinecolor"===x||"backgroundcolor"===x||"borderlinecolor"===x||"tintcolor"===x)return[...c.defaultCIMColor[x]];const y=c.defaultCIMValues[k];if(!y)throw Error(`InternalError: default value for type ${k}.`);return y[x]}function m(k){return k.split(" ").map(x=>Number(x))}function v(k){return"string"===typeof k?m(k):k}function A(k){if(null==k)return"Normal";switch(k.type){case "CIMTextSymbol":return k.textCase??"Normal";case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var x=
k.symbolLayers;if(!x)break;for(var y of x)if("CIMVectorMarker"===y.type)return A(y);break;case "CIMVectorMarker":if(y=k.markerGraphics)for(x of y)if(x.symbol)return A(x.symbol)}return"Normal"}function t(k,x){return null!==x?(x=x.get(k))?x.name:k:k}function w(k,x,y,B,E){return(y=y*Math.PI/180)?(Math.sin(y)*k+Math.cos(y)*x)*B+E:x*B+E}function z(k,x,y,B,E){return(y=y*Math.PI/180)?(Math.cos(y)*k-Math.sin(y)*x)*B+E:k*B+E}b.adjustTextCase=n;b.analyzeTextParts=function(k,x){const y=[];var B=0;let E=-1;do E=
k.indexOf("[",B),E>=B&&(E>B&&(B=k.slice(B,E),y.push([B,null,d(B)])),B=E+1,E=k.indexOf("]",B),E>=B&&(E>B&&(B=k.slice(B,E),(B=x[B])&&y.push([null,B,!1])),B=E+1));while(-1!==E);B<k.length&&(k=k.slice(B),y.push([k,null,d(k)]));return y};b.applyParentTransform=function(k,x,y,B,E,J,K=!0){const {infos:H}=J;J=1;let F=0;var N=0,S=0;let W=1;for(const {absoluteAnchorPoint:L,offsetX:P,offsetY:X,rotation:D,size:R,frameHeight:Y,rotateClockWise:ja,scaleSymbolsProportionally:da}of H)W=L?1:J,N=z(P,X,F,W,N),S=w(P,
X,F,W,S),Y&&(da||K)&&(J*=R/Y),F=ja?F-D:F+D;K=z(B,E,F,W,N);B=w(B,E,F,W,S);return{size:k*J,rotation:y?F-x:F+x,offsetX:K,offsetY:B}};b.assignTextValuesFromFeature=function(k,x,y,B){let E="",J=null;for(const K of x){const [H,F,N]=K;if(H)N?J=H:(J&&(E+=J,J=null),E+=H);else if(x=F,null!=y&&(x=t(F,y)),x=k.attributes[x])J&&(E+=J,J=null),E+=x}return n(E,B)};b.attributesToFields=function(k){return(k?Object.keys(k):[]).map(x=>({name:x,alias:x,type:"string"===typeof k[x]?"esriFieldTypeString":"esriFieldTypeDouble"}))};
b.colorToArray=function(k){return[k.r,k.g,k.b,k.a]};b.evaluateValueOrFunction=function(k,x,y,B){return f(k)?k(x,y,B):k};b.fromCIMFontDecoration=function(k){return k.underline?"underline":k.strikethrough?"line-through":"none"};b.fromCIMFontStyle=function(k){let x="normal",y="normal";k&&(k=k.toLowerCase(),k.includes("italic")?x="italic":k.includes("oblique")&&(x="oblique"),k.includes("bold")?y="bold":k.includes("light")&&(y="lighter"));return{style:x,weight:y}};b.fromCIMHorizontalAlignment=function(k){switch(k){default:return"left";
case "Right":return"right";case "Center":return"center";case "Justify":return"center"}};b.fromCIMVerticalAlignment=function(k){switch(k){default:return"top";case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}};b.getDefaultCIMValue=l;b.getEnum=(k,x)=>null==k?x:k;b.getFieldName=t;b.getFillColor=g;b.getFontStyle=function(k){if(!k)return"normal";switch(k.toLowerCase()){case "italic":return"italic";case "oblique":return"oblique";default:return"normal"}};b.getFontWeight=
function(k){if(!k)return"normal";switch(k.toLowerCase()){case "bold":return"bold";case "bolder":return"bolder";case "lighter":return"lighter";default:return"normal"}};b.getNumericValue=(k,x=0)=>null==k||isNaN(k)?x:k;b.getProcessParam=function(k,x,y){const B="Color"===y||"TintColor"===y||"ToColor"===y,E="Rotation"===y||"Angle"===y||"ToRotation"===y;let J=x[u(y)];null!=J&&(B?J=[J[0]/255,J[1]/255,J[2]/255,J[3]/255]:E&&(J*=Math.PI/180));null==J&&(J=l(x.type,y.toLowerCase()),null!=J&&(B?J=[J[0]/255,J[1]/
255,J[2]/255,J[3]]:E&&(J*=Math.PI/180)));null!=x.primitiveName&&(k=k[x.primitiveName],null!=k&&(k=k[y],null!=k&&("string"===typeof k||"number"===typeof k||Array.isArray(k)?(J=k,null!=J&&(B?J=[J[0]/255,J[1]/255,J[2]/255,J[3]/255]:E&&(J*=Math.PI/180))):(J={valueExpressionInfo:k,defaultValue:J},null!=J&&(B?J={type:"Process",op:"ArcadeColor",value:J}:E&&(J={type:"Process",op:"Divide",left:J,right:180/Math.PI}))))));if(null==J)throw Error(`Failed to derive a value or an expression for "${y}".`);return J};
b.getRelativeGradientSize=function(k,x){return Math.max(Math.min((k??x)/100,1),0)};b.getSize=function(k){if(k)switch(k.type){case "CIMTextSymbol":return k.height;case "CIMPointSymbol":var x=0;if(k.symbolLayers)for(var y of k.symbolLayers)if(y)switch(y.type){case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":k=y.size??c.defaultCIMValues.CIMVectorMarker.size,k>x&&(x=k)}return x;case "CIMLineSymbol":case "CIMPolygonSymbol":y=0;if(k.symbolLayers)for(x of k.symbolLayers)if(x)switch(x.type){case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":k=
x.width;null!=k&&k>y&&(y=k);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":x.markerPlacement&&e(x.markerPlacement)&&(k=x.size??c.defaultCIMValues.CIMVectorMarker.size,k>y&&(y=k));break;case "CIMPictureFill":k=x.height,null!=k&&k>y&&(y=k)}return y}};b.getStrokeColor=h;b.getStrokeWidth=r;b.getTextCasing=A;b.getTintColor=k=>k.tintColor?q(k.tintColor):[255,255,255,1];b.getValue=(k,x)=>null!=k?k:x;b.importGeometryEngine=function(){return new Promise((k,
x)=>a(["../../geometry/geometryEngineJSON"],k,x))};b.isCIMFill=function(k){return null!=k&&("CIMGradientFill"===k.type||"CIMHatchFill"===k.type||"CIMPictureFill"===k.type||"CIMSolidFill"===k.type||"CIMWaterFill"===k.type)};b.isCIMMarker=function(k){return"CIMVectorMarker"===k.type||"CIMPictureMarker"===k.type||"CIMBarChartMarker"===k.type||"CIMCharacterMarker"===k.type||"CIMPieChartMarker"===k.type||"CIMStackedBarChartMarker"===k.type};b.isCIMMarkerStrokePlacement=e;b.isCIMStroke=function(k){return"CIMGradientStroke"===
k.type||"CIMPictureStroke"===k.type||"CIMSolidStroke"===k.type};b.isFeatureValueFn=f;b.isGeometryEngineRequired=k=>{if(!k)return!1;for(const x of k)switch(x.type){case "CIMGeometricEffectBuffer":case "CIMGeometricEffectOffset":case "CIMGeometricEffectDonut":return!0}return!1};b.isSVGImage=k=>k.includes("data:image/svg+xml");b.isValidCIMValue=p;b.mapCIMSymbolToGeometryType=function(k){if(!k)return null;switch(k.type){case "CIMPointSymbol":case "CIMTextSymbol":return"esriGeometryPoint";case "CIMLineSymbol":return"esriGeometryPolyline";
case "CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}};b.normalizeAlpha=q;b.normalizeDashEffectTemplate=function(k){k?.dashTemplate&&(k.dashTemplate=v(k.dashTemplate));return k};b.normalizeDashTemplate=v;b.normalizePrimitiveOverrideProps=function(k){return k.map(x=>({...x,propertyName:u(x.propertyName)}))};b.parseDashTemplate=m;b.resampleHermite=function(k,x,y,B,E,J,K=!0){const H=x/E;y/=J;const F=Math.ceil(H/2),N=Math.ceil(y/2);for(let L=0;L<J;L++)for(let P=0;P<E;P++){const X=4*
(P+(K?J-L-1:L)*E);var S=0;let D=0,R=0,Y=0,ja=0,da=0,sa=0;const qa=(L+.5)*y;for(let ia=Math.floor(L*y);ia<(L+1)*y;ia++){var W=Math.abs(qa-(ia+.5))/N;const la=(P+.5)*H;W*=W;for(let ua=Math.floor(P*H);ua<(P+1)*H;ua++){let ya=Math.abs(la-(ua+.5))/F;S=Math.sqrt(W+ya*ya);-1<=S&&1>=S&&(S=2*S*S*S-3*S*S+1,0<S&&(ya=4*(ua+ia*x),sa+=S*k[ya+3],R+=S,255>k[ya+3]&&(S=S*k[ya+3]/250),Y+=S*k[ya],ja+=S*k[ya+1],da+=S*k[ya+2],D+=S))}}B[X]=Y/D;B[X+1]=ja/D;B[X+2]=da/D;B[X+3]=sa/R}};b.toCIMSymbolJSON=function(k){return k.data?.symbol??
null};b.toLowerCaseProps=function(k){const x={};for(const y in k){const B=k[y];x[u(y)]=B}return x};b.uncapitalize=u;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/defaultCIMValues":function(){define(["exports","./enums"],function(a,b){b={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",
offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",
capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:b.SymbolUnits.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,
separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:b.SymbolUnits.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",
option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,
placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},
CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:b.AnimatedSymbolRepeatType.Loop,repeatdelay:0,easing:b.AnimatedSymbolEasingType.Linear},
CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};a.defaultCIMColor={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]};a.defaultCIMValues=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/cim/enums":function(){define(["exports"],function(a){a.CapType=void 0;(function(b){b[b.BUTT=0]="BUTT";b[b.ROUND=1]="ROUND";b[b.SQUARE=2]="SQUARE";b[b.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));a.JoinType=void 0;(function(b){b[b.BEVEL=0]="BEVEL";b[b.ROUND=1]="ROUND";b[b.MITER=2]="MITER";b[b.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));a.Alignment=void 0;(function(b){b[b.SCREEN=0]="SCREEN";b[b.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}));a.ExternalColorMixMode=void 0;(function(b){b[b.Tint=
0]="Tint";b[b.Ignore=1]="Ignore";b[b.Multiply=99]="Multiply"})(a.ExternalColorMixMode||(a.ExternalColorMixMode={}));a.ExtremityPlacement=void 0;(function(b){b.Both="Both";b.JustBegin="JustBegin";b.JustEnd="JustEnd";b.None="None"})(a.ExtremityPlacement||(a.ExtremityPlacement={}));a.FillMode=void 0;(function(b){b[b.Mosaic=0]="Mosaic";b[b.Centered=1]="Centered"})(a.FillMode||(a.FillMode={}));a.FontEffects=void 0;(function(b){b[b.Normal=0]="Normal";b[b.Superscript=1]="Superscript";b[b.Subscript=2]="Subscript"})(a.FontEffects||
(a.FontEffects={}));a.FontEncoding=void 0;(function(b){b[b.MSSymbol=0]="MSSymbol";b[b.Unicode=1]="Unicode"})(a.FontEncoding||(a.FontEncoding={}));a.FontType=void 0;(function(b){b[b.Unspecified=0]="Unspecified";b[b.TrueType=1]="TrueType";b[b.PSOpenType=2]="PSOpenType";b[b.TTOpenType=3]="TTOpenType";b[b.Type1=4]="Type1"})(a.FontType||(a.FontType={}));a.AngleAlignment=void 0;(function(b){b[b.Display=0]="Display";b[b.Map=1]="Map"})(a.AngleAlignment||(a.AngleAlignment={}));a.AnimatedSymbolRepeatType=void 0;
(function(b){b.None="None";b.Loop="Loop";b.Oscillate="Oscillate"})(a.AnimatedSymbolRepeatType||(a.AnimatedSymbolRepeatType={}));a.AnimatedSymbolEasingType=void 0;(function(b){b.Linear="Linear";b.EaseIn="EaseIn";b.EaseOut="EaseOut";b.EaseInOut="EaseInOut"})(a.AnimatedSymbolEasingType||(a.AnimatedSymbolEasingType={}));a.DominantSizeAxis=void 0;(function(b){b[b.Z=0]="Z";b[b.X=1]="X";b[b.Y=2]="Y"})(a.DominantSizeAxis||(a.DominantSizeAxis={}));a.RotationOrder=void 0;(function(b){b[b.XYZ=0]="XYZ";b[b.ZXY=
1]="ZXY";b[b.YXZ=2]="YXZ"})(a.RotationOrder||(a.RotationOrder={}));a.BalloonCalloutStyle=void 0;(function(b){b[b.Rectangle=0]="Rectangle";b[b.RoundedRectangle=1]="RoundedRectangle";b[b.Oval=2]="Oval"})(a.BalloonCalloutStyle||(a.BalloonCalloutStyle={}));a.BlendingMode=void 0;(function(b){b[b.None=0]="None";b[b.Alpha=1]="Alpha";b[b.Screen=2]="Screen";b[b.Multiply=3]="Multiply";b[b.Add=4]="Add"})(a.BlendingMode||(a.BlendingMode={}));a.BlockProgression=void 0;(function(b){b[b.TTB=0]="TTB";b[b.RTL=1]=
"RTL";b[b.BTT=2]="BTT"})(a.BlockProgression||(a.BlockProgression={}));a.BillBoardMode=void 0;(function(b){b[b.None=0]="None";b[b.SignPost=1]="SignPost";b[b.FaceNearPlane=2]="FaceNearPlane"})(a.BillBoardMode||(a.BillBoardMode={}));a.CGAAttributeType=void 0;(function(b){b[b.Float=0]="Float";b[b.String=1]="String";b[b.Boolean=2]="Boolean"})(a.CGAAttributeType||(a.CGAAttributeType={}));a.ClippingType=void 0;(function(b){b[b.Intersect=0]="Intersect";b[b.Subtract=1]="Subtract"})(a.ClippingType||(a.ClippingType=
{}));a.GeometricEffectArrowType=void 0;(function(b){b.OpenEnded="OpenEnded";b.Block="Block";b.Crossed="Crossed"})(a.GeometricEffectArrowType||(a.GeometricEffectArrowType={}));a.GeometricEffectControlMeasureLineRule=void 0;(function(b){b.FullGeometry="FullGeometry";b.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";b.ReversedFirstSegment="ReversedFirstSegment";b.PerpendicularToSecondSegment="PerpendicularToSecondSegment";b.SecondSegmentWithTicks="SecondSegmentWithTicks";b.DoublePerpendicular=
"DoublePerpendicular";b.OppositeToFirstSegment="OppositeToFirstSegment";b.TriplePerpendicular="TriplePerpendicular";b.HalfCircleFirstSegment="HalfCircleFirstSegment";b.HalfCircleSecondSegment="HalfCircleSecondSegment";b.HalfCircleExtended="HalfCircleExtended";b.OpenCircle="OpenCircle";b.CoverageEdgesWithTicks="CoverageEdgesWithTicks";b.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";b.GapExtentMidline="GapExtentMidline";b.Chevron="Chevron";b.PerpendicularWithArc="PerpendicularWithArc";b.ClosedHalfCircle=
"ClosedHalfCircle";b.TripleParallelExtended="TripleParallelExtended";b.ParallelWithTicks="ParallelWithTicks";b.Parallel="Parallel";b.PerpendicularToFirstSegment="PerpendicularToFirstSegment";b.ParallelOffset="ParallelOffset";b.OffsetOpposite="OffsetOpposite";b.OffsetSame="OffsetSame";b.CircleWithArc="CircleWithArc";b.DoubleJog="DoubleJog";b.PerpendicularOffset="PerpendicularOffset";b.LineExcludingLastSegment="LineExcludingLastSegment";b.MultivertexArrow="MultivertexArrow";b.CrossedArrow="CrossedArrow";
b.ChevronArrow="ChevronArrow";b.ChevronArrowOffset="ChevronArrowOffset";b.PartialFirstSegment="PartialFirstSegment";b.Arch="Arch";b.CurvedParallelTicks="CurvedParallelTicks";b.Arc90Degrees="Arc90Degrees";b.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks";b.ConcentricCircles="ConcentricCircles";b.DoubleJogArrow="DoubleJogArrow";b.LinkedChevrons="LinkedChevrons";b.SegmentThenHalfCircle="SegmentThenHalfCircle";b.LineWithStraightTicks="LineWithStraightTicks";b.DoubleCurve="DoubleCurve";b.ParallelWithTicksByWidth=
"ParallelWithTicksByWidth";b.EnclosingRoundedRectangle="EnclosingRoundedRectangle"})(a.GeometricEffectControlMeasureLineRule||(a.GeometricEffectControlMeasureLineRule={}));a.GeometricEffectDonutMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square";b.TrueBuffer="TrueBuffer"})(a.GeometricEffectDonutMethod||(a.GeometricEffectDonutMethod={}));a.GeometricEffectEnclosingPolygonMethod=void 0;(function(b){b.ClosePath="ClosePath";b.ConvexHull="ConvexHull";
b.RectangularBox="RectangularBox"})(a.GeometricEffectEnclosingPolygonMethod||(a.GeometricEffectEnclosingPolygonMethod={}));a.GeometricEffectExtensionOrigin=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectExtensionOrigin||(a.GeometricEffectExtensionOrigin={}));a.GeometricEffectOffsetMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square"})(a.GeometricEffectOffsetMethod||(a.GeometricEffectOffsetMethod=
{}));a.GeometricEffectOffsetOption=void 0;(function(b){b.Fast="Fast";b.Accurate="Accurate"})(a.GeometricEffectOffsetOption||(a.GeometricEffectOffsetOption={}));a.GeometricEffectOffsetTangentMethod=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectOffsetTangentMethod||(a.GeometricEffectOffsetTangentMethod={}));a.GeometricEffectWaveform=void 0;(function(b){b.Sinus="Sinus";b.Square="Square";b.Triangle="Triangle";b.Random="Random"})(a.GeometricEffectWaveform||
(a.GeometricEffectWaveform={}));a.GlyphHinting=void 0;(function(b){b[b.None=0]="None";b[b.Default=1]="Default";b[b.Force=2]="Force"})(a.GlyphHinting||(a.GlyphHinting={}));a.GradientAlignment=void 0;(function(b){b[b.Buffered=0]="Buffered";b[b.Left=1]="Left";b[b.Right=2]="Right";b[b.AlongLine=3]="AlongLine"})(a.GradientAlignment||(a.GradientAlignment={}));a.GradientFillMethod=void 0;(function(b){b[b.Linear=0]="Linear";b[b.Rectangular=1]="Rectangular";b[b.Circular=2]="Circular";b[b.Buffered=3]="Buffered"})(a.GradientFillMethod||
(a.GradientFillMethod={}));a.GradientStrokeType=void 0;(function(b){b[b.Discrete=0]="Discrete";b[b.Continuous=1]="Continuous"})(a.GradientStrokeType||(a.GradientStrokeType={}));a.GradientStrokeMethod=void 0;(function(b){b[b.AcrossLine=0]="AcrossLine";b[b.AlongLine=1]="AlongLine"})(a.GradientStrokeMethod||(a.GradientStrokeMethod={}));a.PolarDirection=void 0;(function(b){b[b.Auto=0]="Auto";b[b.Clockwise=1]="Clockwise";b[b.Counterclockwise=2]="Counterclockwise"})(a.PolarDirection||(a.PolarDirection=
{}));a.HorizontalAlignment=void 0;(function(b){b[b.Left=0]="Left";b[b.Right=1]="Right";b[b.Center=2]="Center";b[b.Justify=3]="Justify"})(a.HorizontalAlignment||(a.HorizontalAlignment={}));a.LeaderLineStyle=void 0;(function(b){b[b.Base=0]="Base";b[b.MidPoint=1]="MidPoint";b[b.ThreePoint=2]="ThreePoint";b[b.FourPoint=3]="FourPoint";b[b.Underline=4]="Underline";b[b.CircularCW=5]="CircularCW";b[b.CircularCCW=6]="CircularCCW"})(a.LeaderLineStyle||(a.LeaderLineStyle={}));a.LineCapStyle=void 0;(function(b){b.Butt=
"Butt";b.Round="Round";b.Square="Square"})(a.LineCapStyle||(a.LineCapStyle={}));a.LineDashEnding=void 0;(function(b){b.NoConstraint="NoConstraint";b.HalfPattern="HalfPattern";b.HalfGap="HalfGap";b.FullPattern="FullPattern";b.FullGap="FullGap";b.Custom="Custom"})(a.LineDashEnding||(a.LineDashEnding={}));a.LineDecorationStyle=void 0;(function(b){b[b.None=-1]="None";b[b.Custom=0]="Custom";b[b.Circle=1]="Circle";b[b.OpenArrow=2]="OpenArrow";b[b.ClosedArrow=3]="ClosedArrow";b[b.Diamond=4]="Diamond"})(a.LineDecorationStyle||
(a.LineDecorationStyle={}));a.LineGapType=void 0;(function(b){b[b.ExtraLeading=0]="ExtraLeading";b[b.Multiple=1]="Multiple";b[b.Exact=2]="Exact"})(a.LineGapType||(a.LineGapType={}));a.LineJoinStyle=void 0;(function(b){b.Bevel="Bevel";b.Round="Round";b.Miter="Miter"})(a.LineJoinStyle||(a.LineJoinStyle={}));a.ExpressionReturnType=void 0;(function(b){b[b.Default=0]="Default";b[b.String=1]="String";b[b.Numeric=2]="Numeric"})(a.ExpressionReturnType||(a.ExpressionReturnType={}));a.MarkerPlacementType=void 0;
(function(b){b[b.InsidePolygon=0]="InsidePolygon";b[b.PolygonCenter=1]="PolygonCenter";b[b.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(a.MarkerPlacementType||(a.MarkerPlacementType={}));a.MaterialMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Replace=1]="Replace";b[b.Multiply=2]="Multiply"})(a.MaterialMode||(a.MaterialMode={}));a.PlacementClip=void 0;(function(b){b[b.ClipAtBoundary=0]="ClipAtBoundary";b[b.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";b[b.DoNotTouchBoundary=
2]="DoNotTouchBoundary";b[b.DoNotClip=3]="DoNotClip"})(a.PlacementClip||(a.PlacementClip={}));a.PlacementEndings=void 0;(function(b){b.NoConstraint="NoConstraint";b.WithMarkers="WithMarkers";b.WithFullGap="WithFullGap";b.WithHalfGap="WithHalfGap";b.Custom="Custom"})(a.PlacementEndings||(a.PlacementEndings={}));a.PlacementGridType=void 0;(function(b){b.Fixed="Fixed";b.Random="Random";b.RandomFixedQuantity="RandomFixedQuantity"})(a.PlacementGridType||(a.PlacementGridType={}));a.PlacementOnLineRelativeTo=
void 0;(function(b){b.LineMiddle="LineMiddle";b.LineBeginning="LineBeginning";b.LineEnd="LineEnd";b.SegmentMidpoint="SegmentMidpoint"})(a.PlacementOnLineRelativeTo||(a.PlacementOnLineRelativeTo={}));a.PlacementPolygonCenterMethod=void 0;(function(b){b.OnPolygon="OnPolygon";b.CenterOfMass="CenterOfMass";b.BoundingBoxCenter="BoundingBoxCenter"})(a.PlacementPolygonCenterMethod||(a.PlacementPolygonCenterMethod={}));a.PlacementRandomlyAlongLineRandomization=void 0;(function(b){b[b.Low=0]="Low";b[b.Medium=
1]="Medium";b[b.High=2]="High"})(a.PlacementRandomlyAlongLineRandomization||(a.PlacementRandomlyAlongLineRandomization={}));a.PlacementStepPosition=void 0;(function(b){b[b.MarkerCenter=0]="MarkerCenter";b[b.MarkerBounds=1]="MarkerBounds"})(a.PlacementStepPosition||(a.PlacementStepPosition={}));a.PointSymbolCalloutScale=void 0;(function(b){b[b.None=0]="None";b[b.PropUniform=1]="PropUniform";b[b.PropNonuniform=2]="PropNonuniform";b[b.DifUniform=3]="DifUniform";b[b.DifNonuniform=4]="DifNonuniform"})(a.PointSymbolCalloutScale||
(a.PointSymbolCalloutScale={}));a.Simple3DLineStyle=void 0;(function(b){b.Tube="Tube";b.Strip="Strip";b.Wall="Wall"})(a.Simple3DLineStyle||(a.Simple3DLineStyle={}));a.SizeVariationMethod=void 0;(function(b){b[b.Random=0]="Random";b[b.Increasing=1]="Increasing";b[b.Decreasing=2]="Decreasing";b[b.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(a.SizeVariationMethod||(a.SizeVariationMethod={}));a.SymbolUnits=void 0;(function(b){b[b.Relative=0]="Relative";b[b.Absolute=1]="Absolute"})(a.SymbolUnits||
(a.SymbolUnits={}));a.TextCase=void 0;(function(b){b[b.Normal=0]="Normal";b[b.LowerCase=1]="LowerCase";b[b.Allcaps=2]="Allcaps"})(a.TextCase||(a.TextCase={}));a.TextReadingDirection=void 0;(function(b){b[b.LTR=0]="LTR";b[b.RTL=1]="RTL"})(a.TextReadingDirection||(a.TextReadingDirection={}));a.TextureFilter=void 0;(function(b){b.Draft="Draft";b.Picture="Picture";b.Text="Text"})(a.TextureFilter||(a.TextureFilter={}));a.VerticalAlignment=void 0;(function(b){b[b.Top=0]="Top";b[b.Center=1]="Center";b[b.Baseline=
2]="Baseline";b[b.Bottom=3]="Bottom"})(a.VerticalAlignment||(a.VerticalAlignment={}));a.VerticalGlyphOrientation=void 0;(function(b){b[b.Right=0]="Right";b[b.Upright=1]="Upright"})(a.VerticalGlyphOrientation||(a.VerticalGlyphOrientation={}));a.WaterbodySize=void 0;(function(b){b[b.Small=0]="Small";b[b.Medium=1]="Medium";b[b.Large=2]="Large"})(a.WaterbodySize||(a.WaterbodySize={}));a.WaveStrength=void 0;(function(b){b[b.Calm=0]="Calm";b[b.Rippled=1]="Rippled";b[b.Slight=2]="Slight";b[b.Moderate=3]=
"Moderate"})(a.WaveStrength||(a.WaveStrength={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){var v;d=v=class extends r.VisualVariablesMixin(h){constructor(A){super(A);this.attributes=null;this.backgroundColor=new b([0,0,0,0]);this.dotBlendingEnabled=!0;this.dotShape="square";this.dotSize=1;this.legendOptions=null;this.outline=new m;this.referenceScale=this.dotValue=null;this.seed=1;this.type="dot-density"}calculateDotValue(A){if(null==this.referenceScale)return this.dotValue;A=A/this.referenceScale*this.dotValue;return 1>A?1:A}getSymbol(){return new l({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((A,
t)=>A+t.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new v({attributes:c.clone(this.attributes),backgroundColor:c.clone(this.backgroundColor),dotBlendingEnabled:c.clone(this.dotBlendingEnabled),dotShape:c.clone(this.dotShape),dotSize:c.clone(this.dotSize),dotValue:c.clone(this.dotValue),legendOptions:c.clone(this.legendOptions),outline:c.clone(this.outline),referenceScale:c.clone(this.referenceScale),seed:c.clone(this.seed),visualVariables:c.clone(this.visualVariables),
authoringInfo:c.clone(this.authoringInfo)})}getControllerHash(){const A=this.attributes?.map(w=>w.field||w.valueExpression||""),t=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${A}-${t}`}async collectRequiredFields(A,t){await this.collectVVRequiredFields(A,t);for(const w of this.attributes??[])w.valueExpression&&await g.collectArcadeFieldNames(A,t,w.valueExpression),w.field&&A.add(w.field)}};a.__decorate([f.property({type:[u],json:{write:!0}})],d.prototype,"attributes",void 0);a.__decorate([f.property({type:b,
json:{write:!0}})],d.prototype,"backgroundColor",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],d.prototype,"dotBlendingEnabled",void 0);a.__decorate([f.property({type:String,json:{write:!1}})],d.prototype,"dotShape",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"dotSize",void 0);a.__decorate([f.property({type:p,json:{write:!0}})],d.prototype,"legendOptions",void 0);a.__decorate([f.property({type:m,json:{default:null,write:!0}})],d.prototype,"outline",
void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"dotValue",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"referenceScale",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"seed",void 0);a.__decorate([q.enumeration({dotDensity:"dot-density"})],d.prototype,"type",void 0);return d=v=a.__decorate([e.subclass("esri.renderers.DotDensityRenderer")],d)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,f,d,n,q,e,g,h){var r;c=r=class extends c{constructor(u){super(u);this.valueExpressionTitle=this.valueExpression=this.label=this.field=this.color=null}castField(u){return null==u?u:"function"===typeof u?(f.getLogger(this).error(".field: field must be a string value"),null):h.ensureString(u)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new r({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};
a.__decorate([d.property({type:b,json:{type:[Number],write:!0}})],c.prototype,"color",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([n.cast("field")],c.prototype,"castField",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",
void 0);return c=r=a.__decorate([g.subclass("esri.renderers.support.AttributeColorInfo")],c)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q){var e;b=e=class extends b{constructor(){super(...arguments);this.unit=null}clone(){return new e({unit:this.unit})}};
a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=e=a.__decorate([q.subclass("esri.renderers.support.DotDensityLegendOptions")],b)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v){function A(w){if(null!=w){const {maxDensity:z,minDensity:k,radius:x}=w;if(null!=z||null!=k||null!=x){const {blurRadius:y,maxPixelIntensity:B,minPixelIntensity:E,...J}=w;return J}}return w}var t;n=t=class extends r{constructor(w){super(w);this.authoringInfo=null;this.colorStops=[new p({ratio:0,color:new b("rgba(255, 140, 0, 0)")}),new p({ratio:.75,color:new b("rgba(255, 140, 0, 1)")}),new p({ratio:.9,color:new b("rgba(255, 0,   0, 1)")})];this.legendOptions=
this.field=null;this.maxDensity=.04;this.minDensity=0;this.radius=18;this.referenceScale=0;this.type="heatmap";this.valueExpressionTitle=this.valueExpression=null}normalizeCtorArgs(w){return A(w)}get blurRadius(){return m.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)}set blurRadius(w){const z=this.maxPixelIntensity,k=this.minPixelIntensity;this._set("radius",m.gaussianBlurRadiusPxToKernelDensityRadiusPt(w));this._set("maxDensity",z*this._pixelIntensityToDensity);this._set("minDensity",
k*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(w){this._set("maxDensity",w*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(w){this._set("minDensity",w*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(m.magicKernelDensityRadiusInflationFactor**2*this.blurRadius**4)}read(w,z){w=A(w);super.read(w,z)}getSymbol(){return new v}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(w,
z){const k=this.field,x=this.valueExpression;k&&"string"===typeof k&&h.collectField(w,z,k);x&&"string"===typeof x&&await h.collectArcadeFieldNames(w,z,x)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new t({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:c.clone(this.colorStops),field:this.field,legendOptions:c.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,
radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([d.property({type:u,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],n.prototype,"authoringInfo",void 0);a.__decorate([d.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],n.prototype,"blurRadius",null);a.__decorate([d.property({type:[p],json:{write:{isRequired:!0}}})],n.prototype,"colorStops",void 0);
a.__decorate([d.property({type:String,json:{write:!0}})],n.prototype,"field",void 0);a.__decorate([d.property({type:l.HeatmapLegendOptions,json:{write:!0}})],n.prototype,"legendOptions",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"maxDensity",void 0);a.__decorate([d.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],n.prototype,"maxPixelIntensity",null);a.__decorate([d.property({type:Number,json:{write:!0}})],n.prototype,"minDensity",
void 0);a.__decorate([d.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],n.prototype,"minPixelIntensity",null);a.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],n.prototype,"radius",void 0);a.__decorate([d.property({type:Number,range:{min:0},json:{default:0,write:!0}})],n.prototype,"referenceScale",void 0);a.__decorate([e.enumeration({heatmap:"heatmap"})],n.prototype,"type",void 0);a.__decorate([d.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},
"portal-item":{write:!1}}}})],n.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String})],n.prototype,"valueExpressionTitle",void 0);a.__decorate([d.property({readOnly:!0})],n.prototype,"_pixelIntensityToDensity",null);return n=t=a.__decorate([g.subclass("esri.renderers.HeatmapRenderer")],n)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){var g;c=g=class extends c{constructor(h){super(h);this.ratio=this.color=null}clone(){return new g({color:this.color&&this.color.clone(),ratio:this.ratio})}};a.__decorate([f.property({type:b,json:{type:[d.Integer],default:null,write:{isRequired:!0}}})],c.prototype,"color",void 0);a.__decorate([f.property({type:Number,json:{write:{isRequired:!0}}})],c.prototype,"ratio",void 0);return c=g=a.__decorate([e.subclass("esri.renderers.support.HeatmapColorStop")],c)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){a.HeatmapLegendOptions=class extends c.ClonableMixin(f){constructor(){super(...arguments);this.title=this.maxLabel=this.minLabel=null}};b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=
b.__decorate([g.subclass("esri.renderers.support.HeatmapLegendOptions")],a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec42","../../core/libs/gl-matrix-2/factories/vec4f64"],function(a,b,c,f,d){function n(q,e,g,h){let {color:r,ratio:u}=e,{color:p,ratio:l}=g;l===u&&(1===l?u-=1E-6:l+=1E-6);e=b.clamp((h-u)/(l-u),0,1);f.lerp(q,r.toArray(),
p.toArray(),e)}a.createValueFunction=function(q){return"function"===typeof q?q:q?e=>+e[q]:()=>1};a.evaluateDensityKernel=function(q,e,g){q=Math.sqrt(q**2+e**2)/g;return 1<q?0:3/(Math.PI*g**2)*(1-q**2)**2};a.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(q){return c.px2pt(2.4*q)};a.generateGradient=function(q){const e=new Uint8ClampedArray(2048);q=q.filter(({ratio:p})=>0<=p&&1>=p).sort((p,l)=>p.ratio-l.ratio).map(({color:p,ratio:l})=>({color:p,ratio:Math.max(l,.001)}));if(1>q.length)return e;
let g=q[0],h=q[0],r=1;const u=d.create();for(let p=0;512>p;p++){const l=(p+.5)/512;for(;l>h.ratio&&r<q.length;)g=h,h=q[r++];n(u,g,h,l);e.set(u,4*p)}return e};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(q){return c.pt2px(q)/2.4};a.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec42":function(){define(["exports","../core/libs/gl-matrix-2/math/common"],function(a,b){function c(L,P){L[0]=P[0];L[1]=P[1];L[2]=P[2];L[3]=
P[3];return L}function f(L,P){L[0]=P[0];L[1]=P[1];L[2]=P[2];return L}function d(L,P,X,D,R){L[0]=P;L[1]=X;L[2]=D;L[3]=R;return L}function n(L,P,X){L[0]=P[0]+X[0];L[1]=P[1]+X[1];L[2]=P[2]+X[2];L[3]=P[3]+X[3];return L}function q(L,P,X){L[0]=P[0]-X[0];L[1]=P[1]-X[1];L[2]=P[2]-X[2];L[3]=P[3]-X[3];return L}function e(L,P,X){L[0]=P[0]*X[0];L[1]=P[1]*X[1];L[2]=P[2]*X[2];L[3]=P[3]*X[3];return L}function g(L,P,X){L[0]=P[0]/X[0];L[1]=P[1]/X[1];L[2]=P[2]/X[2];L[3]=P[3]/X[3];return L}function h(L,P){L[0]=Math.ceil(P[0]);
L[1]=Math.ceil(P[1]);L[2]=Math.ceil(P[2]);L[3]=Math.ceil(P[3]);return L}function r(L,P){L[0]=Math.floor(P[0]);L[1]=Math.floor(P[1]);L[2]=Math.floor(P[2]);L[3]=Math.floor(P[3]);return L}function u(L,P,X){L[0]=Math.min(P[0],X[0]);L[1]=Math.min(P[1],X[1]);L[2]=Math.min(P[2],X[2]);L[3]=Math.min(P[3],X[3]);return L}function p(L,P,X){L[0]=Math.max(P[0],X[0]);L[1]=Math.max(P[1],X[1]);L[2]=Math.max(P[2],X[2]);L[3]=Math.max(P[3],X[3]);return L}function l(L,P){L[0]=Math.round(P[0]);L[1]=Math.round(P[1]);L[2]=
Math.round(P[2]);L[3]=Math.round(P[3]);return L}function m(L,P,X){L[0]=P[0]*X;L[1]=P[1]*X;L[2]=P[2]*X;L[3]=P[3]*X;return L}function v(L,P,X,D){L[0]=P[0]+X[0]*D;L[1]=P[1]+X[1]*D;L[2]=P[2]+X[2]*D;L[3]=P[3]+X[3]*D;return L}function A(L,P){const X=P[0]-L[0],D=P[1]-L[1],R=P[2]-L[2];L=P[3]-L[3];return Math.sqrt(X*X+D*D+R*R+L*L)}function t(L,P){const X=P[0]-L[0],D=P[1]-L[1],R=P[2]-L[2];L=P[3]-L[3];return X*X+D*D+R*R+L*L}function w(L){const P=L[0],X=L[1],D=L[2];L=L[3];return Math.sqrt(P*P+X*X+D*D+L*L)}function z(L){const P=
L[0],X=L[1],D=L[2];L=L[3];return P*P+X*X+D*D+L*L}function k(L,P){L[0]=-P[0];L[1]=-P[1];L[2]=-P[2];L[3]=-P[3];return L}function x(L,P){L[0]=1/P[0];L[1]=1/P[1];L[2]=1/P[2];L[3]=1/P[3];return L}function y(L,P){const X=P[0],D=P[1],R=P[2];P=P[3];let Y=X*X+D*D+R*R+P*P;0<Y&&(Y=1/Math.sqrt(Y),L[0]=X*Y,L[1]=D*Y,L[2]=R*Y,L[3]=P*Y);return L}function B(L,P){return L[0]*P[0]+L[1]*P[1]+L[2]*P[2]+L[3]*P[3]}function E(L,P,X,D){const R=P[0],Y=P[1],ja=P[2];P=P[3];L[0]=R+D*(X[0]-R);L[1]=Y+D*(X[1]-Y);L[2]=ja+D*(X[2]-
ja);L[3]=P+D*(X[3]-P);return L}function J(L,P=1){var X=b.RANDOM;let D,R,Y,ja,da,sa;do D=2*X()-1,R=2*X()-1,da=D*D+R*R;while(1<=da);do Y=2*X()-1,ja=2*X()-1,sa=Y*Y+ja*ja;while(1<=sa);X=Math.sqrt((1-da)/sa);L[0]=P*D;L[1]=P*R;L[2]=P*Y*X;L[3]=P*ja*X;return L}function K(L,P,X){const D=P[0],R=P[1],Y=P[2];P=P[3];L[0]=X[0]*D+X[4]*R+X[8]*Y+X[12]*P;L[1]=X[1]*D+X[5]*R+X[9]*Y+X[13]*P;L[2]=X[2]*D+X[6]*R+X[10]*Y+X[14]*P;L[3]=X[3]*D+X[7]*R+X[11]*Y+X[15]*P;return L}function H(L,P,X){var D=P[0];const R=P[1],Y=P[2],
ja=X[0],da=X[1],sa=X[2];X=X[3];const qa=X*D+da*Y-sa*R,ia=X*R+sa*D-ja*Y,la=X*Y+ja*R-da*D;D=-ja*D-da*R-sa*Y;L[0]=qa*X+D*-ja+ia*-sa-la*-da;L[1]=ia*X+D*-da+la*-ja-qa*-sa;L[2]=la*X+D*-sa+qa*-da-ia*-ja;L[3]=P[3];return L}function F(L){return"vec4("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+")"}function N(L,P){return L[0]===P[0]&&L[1]===P[1]&&L[2]===P[2]&&L[3]===P[3]}function S(L,P){const X=L[0],D=L[1],R=L[2];L=L[3];const Y=P[0],ja=P[1],da=P[2];P=P[3];const sa=b.getEpsilon();return Math.abs(X-Y)<=sa*Math.max(1,
Math.abs(X),Math.abs(Y))&&Math.abs(D-ja)<=sa*Math.max(1,Math.abs(D),Math.abs(ja))&&Math.abs(R-da)<=sa*Math.max(1,Math.abs(R),Math.abs(da))&&Math.abs(L-P)<=sa*Math.max(1,Math.abs(L),Math.abs(P))}const W=Object.freeze(Object.defineProperty({__proto__:null,add:n,ceil:h,copy:c,copyVec3:f,dist:A,distance:A,div:g,divide:g,dot:B,equals:S,exactEquals:N,floor:r,inverse:x,len:w,length:w,lerp:E,max:p,min:u,mul:e,multiply:e,negate:k,normalize:y,random:J,round:l,scale:m,scaleAndAdd:v,set:d,sqrDist:t,sqrLen:z,
squaredDistance:t,squaredLength:z,str:F,sub:q,subtract:q,transformMat4:K,transformQuat:H},Symbol.toStringTag,{value:"Module"}));a.add=n;a.ceil=h;a.copy=c;a.copyVec3=f;a.dist=A;a.distance=A;a.div=g;a.divide=g;a.dot=B;a.equals=S;a.exactEquals=N;a.floor=r;a.inverse=x;a.len=w;a.length=w;a.lerp=E;a.max=p;a.min=u;a.mul=e;a.multiply=e;a.negate=k;a.normalize=y;a.random=J;a.round=l;a.scale=m;a.scaleAndAdd=v;a.set=d;a.sqrDist=t;a.sqrLen=z;a.squaredDistance=t;a.squaredLength=z;a.str=F;a.sub=q;a.subtract=q;a.transformMat4=
K;a.transformQuat=H;a.vec4=W})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function c(k){return[k[0],k[1],k[2],k[3]]}function f(k,x,y,B){return[k,x,y,B]}function d(k,x,y,B){return[k,x,y,B]}function n(k,x=b()){const y=Math.min(4,k.length);for(let B=0;B<y;++B)x[B]=k[B];return x}function q(k,x){return new Float64Array(k,x,4)}function e(){return b()}function g(){return[1,1,1,1]}function h(){return[1,0,0,0]}function r(){return[0,
1,0,0]}function u(){return[0,0,1,0]}function p(){return[0,0,0,1]}const l=b(),m=g(),v=h(),A=r(),t=u(),w=p(),z=Object.freeze(Object.defineProperty({__proto__:null,ONES:m,UNIT_W:w,UNIT_X:v,UNIT_Y:A,UNIT_Z:t,ZEROS:l,clone:c,create:b,createView:q,freeze:d,fromArray:n,fromValues:f,ones:g,unitW:p,unitX:h,unitY:r,unitZ:u,zeros:e},Symbol.toStringTag,{value:"Module"}));a.ONES=m;a.UNIT_W=w;a.UNIT_X=v;a.UNIT_Y=A;a.UNIT_Z=t;a.ZEROS=l;a.clone=c;a.create=b;a.createView=q;a.freeze=d;a.fromArray=n;a.fromValues=f;
a.ones=g;a.unitW=p;a.unitX=h;a.unitY=r;a.unitZ=u;a.vec4f64=z;a.zeros=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PieChartRenderer":function(){define("../chunks/tslib.es6 ../Color ../core/arrayUtils ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/commonProperties ./support/OthersCategory ./support/RendererLegendOptions ./visualVariables/OpacityVariable ./visualVariables/SizeVariable ./visualVariables/VisualVariable ../symbols/SimpleLineSymbol ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x){q={base:z,key:"type",typeMap:{size:w,opacity:t}};f=class extends p.VisualVariablesMixin(f.ClonableMixin(u)){constructor(y){super(y);this.backgroundFillSymbol=this.attributes=null;this.defaultColor=new b([0,0,0,0]);this.defaultLabel=null;this.holePercentage=0;this.othersCategory=new v.OthersCategory;this.outline=this.legendOptions=null;this.size=12;this.type="pie-chart";this.visualVariables=null}getSymbol(){return new x({size:this.size?this.size/
2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(c.isSome)}getAttributeHash(){return this.visualVariables?.reduce((y,B)=>y+B.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((y,B)=>y+=JSON.stringify(B),"")}async collectRequiredFields(y,B){await this.collectVVRequiredFields(y,B);for(const E of this.attributes)E.valueExpression&&await r.collectArcadeFieldNames(y,B,E.valueExpression),
E.field&&y.add(E.field)}};a.__decorate([n.property({type:[l],json:{write:!0}})],f.prototype,"attributes",void 0);a.__decorate([n.property(m.rendererBackgroundFillSymbolProperty)],f.prototype,"backgroundFillSymbol",void 0);a.__decorate([n.property({type:b,json:{write:!0}})],f.prototype,"defaultColor",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"defaultLabel",void 0);a.__decorate([n.property({type:Number,range:{min:0,max:1},json:{write:!0}})],f.prototype,"holePercentage",
void 0);a.__decorate([n.property({type:v.OthersCategory,json:{write:!0}})],f.prototype,"othersCategory",void 0);a.__decorate([n.property({type:A,json:{write:!0}})],f.prototype,"legendOptions",void 0);a.__decorate([n.property({type:k,json:{default:null,write:!0}})],f.prototype,"outline",void 0);a.__decorate([n.property({type:Number,cast:d.toPt,json:{write:!0}})],f.prototype,"size",void 0);a.__decorate([g.enumeration({pieChart:"pie-chart"})],f.prototype,"type",void 0);a.__decorate([n.property({types:[q]})],
f.prototype,"visualVariables",void 0);return f=a.__decorate([h.subclass("esri.renderers.PieChartRenderer")],f)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g,h){a.OthersCategory=class extends f.ClonableMixin(d){constructor(){super(...arguments);
this.color=new c([0,0,0,0]);this.label=null;this.threshold=0}};b.__decorate([n.property({type:c,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);b.__decorate([n.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.OthersCategory.prototype,"threshold",void 0);a.OthersCategory=b.__decorate([h.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./LabelClass ../../renderers/SimpleRenderer ../../renderers/support/jsonUtils ../../renderers/support/typeUtils ../../symbols/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w){var z;c=z=class extends c{constructor(k){super(k);this.type="cluster";this.clusterRadius=n.toPt("80px");this.clusterMinSize=n.toPt("12px");this.clusterMaxSize=n.toPt("50px");this.maxScale=0;this.popupEnabled=!0;this.labelingInfo=this.symbol=this.renderer=this.popupTemplate=null;this.labelsVisible=!0;this.fields=[]}readRenderer(k,x,y){k=x.drawingInfo?.renderer;return k?.authoringInfo?.isAutoGenerated?null:k?"simple"!==k.type||k.visualVariables?.length?
A.read(k,x,y)??void 0:null:l.createDefaultRenderer(x,y)}readSymbol(k,x,y){k=x.drawingInfo?.renderer;return k?.authoringInfo?.isAutoGenerated?null:k&&"simple"===k.type&&!k.visualVariables?.length?A.read(k,x,y)?.symbol:null}writeSymbol(k,x,y,B){y=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||y)k=new v({symbol:k}),x.drawingInfo={renderer:k.write({},B)}}writeFields(k,x,y){k=k.filter(B=>"avg_angle"!==B.statisticType).map(B=>B.toJSON());d.setDeepValue(y,k,x)}readFields(k,x,y){return k.filter(B=>
!B.isAutoGenerated).map(B=>u.fromJSON(B))}clone(){return new z({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:f.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:f.clone(this.fields),maxScale:this.maxScale,renderer:f.clone(this.renderer),symbol:f.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:f.clone(this.popupTemplate)})}};a.__decorate([q.property({type:["cluster"],readOnly:!0,json:{write:!0}})],
c.prototype,"type",void 0);a.__decorate([q.property({cast:k=>"auto"===k?k:e.ensureNumber(n.toPt(k)),json:{write:!0}})],c.prototype,"clusterRadius",void 0);a.__decorate([q.property({type:Number,cast:n.toPt,json:{write:!0}})],c.prototype,"clusterMinSize",void 0);a.__decorate([q.property({type:Number,cast:n.toPt,json:{write:!0}})],c.prototype,"clusterMaxSize",void 0);a.__decorate([q.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],c.prototype,"maxScale",void 0);a.__decorate([q.property(p.popupEnabled)],
c.prototype,"popupEnabled",void 0);a.__decorate([q.property({type:b,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],c.prototype,"popupTemplate",void 0);a.__decorate([q.property({types:t.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],c.prototype,"renderer",void 0);a.__decorate([g.reader("renderer",["drawingInfo.renderer"])],c.prototype,"readRenderer",null);a.__decorate([q.property({types:w.symbolTypesCluster})],c.prototype,"symbol",void 0);a.__decorate([g.reader("symbol",
["drawingInfo.renderer"])],c.prototype,"readSymbol",null);a.__decorate([r.writer("symbol")],c.prototype,"writeSymbol",null);a.__decorate([q.property({type:[m],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],c.prototype,"labelingInfo",void 0);a.__decorate([q.property(p.labelsVisible)],c.prototype,"labelsVisible",void 0);a.__decorate([q.property({type:[u],json:{write:!0}})],c.prototype,"fields",void 0);a.__decorate([r.writer("fields")],c.prototype,"writeFields",
null);a.__decorate([g.reader("fields")],c.prototype,"readFields",null);return c=z=a.__decorate([h.subclass("esri.layers.support.FeatureReductionCluster")],c)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,c,f,d,n,q){var e;c=e=class extends q.FeatureReduction{constructor(g){super(g);
this.type="selection"}clone(){return new e}};a.__decorate([b.property({type:["selection"]})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.layers.support.FeatureReductionSelection")],c)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../core/Error ../../../../core/has ../../../../core/Logger ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/SimpleRenderer ../../../../renderers/support/AuthoringInfo ../../../../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,f,d,n,q,e,g,h){function r(A,t,w){switch(A){case "sum":return`cluster_sum_${t}`;case "avg":case "avg_angle":return`cluster_avg_${t}`;case "mode":return`cluster_type_${t}`;case "avg_norm":return A=t.toLowerCase()+",norm:field,"+w.toLowerCase(),"cluster_avg_"+d.createMD5Hash(A)}}function u(A,t,w,z){const k=d.createMD5Hash(t),x="mode"===w?`cluster_type_${k}`:"sum"===w?`cluster_sum_${k}`:`cluster_avg_${k}`;A.some(y=>y.name===x)||A.push(new n({name:x,isAutoGenerated:!0,onStatisticExpression:new q({expression:t,
returnType:z}),statisticType:w}));return x}function p(A,t,w,z,k){if("cluster_count"===t||A.some(y=>y.name===t))return t;const x=r(w,t,k);A.some(y=>y.name===x)||("avg_norm"===w?A.push(new n({name:x,isAutoGenerated:!0,onStatisticExpression:new q({expression:`$feature.${t} / $feature.${k}`,returnType:z}),statisticType:"avg"})):A.push(new n({name:x,isAutoGenerated:!0,onStatisticField:t,statisticType:w})));return x}c.add("esri-cluster-arcade-enabled",!0);const l=c("esri-cluster-arcade-enabled"),m=new Set(["simple-line",
"simple-fill","picture-fill"]),v=A=>{const t=w=>f.getLogger("esri.views.2d.layers.support.clusterUtils").error(new b("Unsupported-renderer",w,{renderer:A}));if(!A)return!1;switch(A.type){case "unique-value":if(A.field2||A.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case "class-breaks":if(A.normalizationField){const w=A.normalizationType;if("field"!==w)return t(`FeatureReductionCluster does not support a normalizationType of ${w}`),!1}break;
case "simple":case "pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${A.type}`),!1}if(!l){if("valueExpression"in A&&A.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in A&&A.visualVariables||[]).some(w=>!!("valueExpression"in w&&w.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),
!1}return!0};a.createInferredClusterRenderer=function(A,t){let w=t.clone();if(!v(w))return w;t.symbols.some(z=>m.has(z.type))&&(w=new e({symbol:new h}));w.authoringInfo||(w.authoringInfo=new g);w.authoringInfo.isAutoGenerated=!0;"visualVariables"in w&&(t=(w.visualVariables||[]).filter(z=>"$view.scale"!==z.valueExpression),t.forEach(z=>{"rotation"===z.type?z.field?z.field=p(A,z.field,"avg_angle","number"):z.valueExpression&&(z.field=u(A,z.valueExpression,"avg_angle","number"),z.valueExpression=null):
z.normalizationField?(z.field=p(A,z.field,"avg_norm","number",z.normalizationField),z.normalizationField=null):z.field?z.field=p(A,z.field,"avg","number"):z.valueExpression&&(z.field=u(A,z.valueExpression,"avg","number"),z.valueExpression=null)}),w.visualVariables=t);switch(w.type){case "pie-chart":for(const z of w.attributes)z.field?z.field=p(A,z.field,"sum","number"):z.valueExpression&&(z.field=u(A,z.valueExpression,"sum","number"),z.valueExpression=null);break;case "unique-value":w.field?w.field=
p(A,w.field,"mode","string"):w.valueExpression&&(w.field=u(A,w.valueExpression,"mode","string"),w.valueExpression=null);break;case "class-breaks":w.normalizationField?(w.field=p(A,w.field,"avg_norm","number",w.normalizationField),w.normalizationField=null):w.field?w.field=p(A,w.field,"avg","number"):w.valueExpression&&(w.field=u(A,w.valueExpression,"avg","number"),w.valueExpression=null)}return w};a.isClusterCompatibleRenderer=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],
function(a){function b(e,g){const h=(e&65535)+(g&65535);return(e>>16)+(g>>16)+(h>>16)<<16|h&65535}function c(e,g,h,r,u,p){e=b(b(g,e),b(r,p));return b(e<<u|e>>>32-u,h)}function f(e,g,h,r,u,p,l){return c(g&h|~g&r,e,g,u,p,l)}function d(e,g,h,r,u,p,l){return c(g&r|h&~r,e,g,u,p,l)}function n(e,g,h,r,u,p,l){return c(h^(g|~r),e,g,u,p,l)}const q={Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(e,g=q.Hex){g=g||q.Base64;var h=[];for(let l=0,m=8*e.length;l<m;l+=8)h[l>>5]|=(e.charCodeAt(l/8)&255)<<l%
32;e=8*e.length;h[e>>5]|=128<<e%32;h[(e+64>>>9<<4)+14]=e;e=1732584193;var r=-271733879;let u=-1732584194,p=271733878;for(let l=0;l<h.length;l+=16){const m=e,v=r,A=u,t=p;e=f(e,r,u,p,h[l],7,-680876936);p=f(p,e,r,u,h[l+1],12,-389564586);u=f(u,p,e,r,h[l+2],17,606105819);r=f(r,u,p,e,h[l+3],22,-1044525330);e=f(e,r,u,p,h[l+4],7,-176418897);p=f(p,e,r,u,h[l+5],12,1200080426);u=f(u,p,e,r,h[l+6],17,-1473231341);r=f(r,u,p,e,h[l+7],22,-45705983);e=f(e,r,u,p,h[l+8],7,1770035416);p=f(p,e,r,u,h[l+9],12,-1958414417);
u=f(u,p,e,r,h[l+10],17,-42063);r=f(r,u,p,e,h[l+11],22,-1990404162);e=f(e,r,u,p,h[l+12],7,1804603682);p=f(p,e,r,u,h[l+13],12,-40341101);u=f(u,p,e,r,h[l+14],17,-1502002290);r=f(r,u,p,e,h[l+15],22,1236535329);e=d(e,r,u,p,h[l+1],5,-165796510);p=d(p,e,r,u,h[l+6],9,-1069501632);u=d(u,p,e,r,h[l+11],14,643717713);r=d(r,u,p,e,h[l],20,-373897302);e=d(e,r,u,p,h[l+5],5,-701558691);p=d(p,e,r,u,h[l+10],9,38016083);u=d(u,p,e,r,h[l+15],14,-660478335);r=d(r,u,p,e,h[l+4],20,-405537848);e=d(e,r,u,p,h[l+9],5,568446438);
p=d(p,e,r,u,h[l+14],9,-1019803690);u=d(u,p,e,r,h[l+3],14,-187363961);r=d(r,u,p,e,h[l+8],20,1163531501);e=d(e,r,u,p,h[l+13],5,-1444681467);p=d(p,e,r,u,h[l+2],9,-51403784);u=d(u,p,e,r,h[l+7],14,1735328473);r=d(r,u,p,e,h[l+12],20,-1926607734);e=c(r^u^p,e,r,h[l+5],4,-378558);p=c(e^r^u,p,e,h[l+8],11,-2022574463);u=c(p^e^r,u,p,h[l+11],16,1839030562);r=c(u^p^e,r,u,h[l+14],23,-35309556);e=c(r^u^p,e,r,h[l+1],4,-1530992060);p=c(e^r^u,p,e,h[l+4],11,1272893353);u=c(p^e^r,u,p,h[l+7],16,-155497632);r=c(u^p^e,r,
u,h[l+10],23,-1094730640);e=c(r^u^p,e,r,h[l+13],4,681279174);p=c(e^r^u,p,e,h[l],11,-358537222);u=c(p^e^r,u,p,h[l+3],16,-722521979);r=c(u^p^e,r,u,h[l+6],23,76029189);e=c(r^u^p,e,r,h[l+9],4,-640364487);p=c(e^r^u,p,e,h[l+12],11,-421815835);u=c(p^e^r,u,p,h[l+15],16,530742520);r=c(u^p^e,r,u,h[l+2],23,-995338651);e=n(e,r,u,p,h[l],6,-198630844);p=n(p,e,r,u,h[l+7],10,1126891415);u=n(u,p,e,r,h[l+14],15,-1416354905);r=n(r,u,p,e,h[l+5],21,-57434055);e=n(e,r,u,p,h[l+12],6,1700485571);p=n(p,e,r,u,h[l+3],10,-1894986606);
u=n(u,p,e,r,h[l+10],15,-1051523);r=n(r,u,p,e,h[l+1],21,-2054922799);e=n(e,r,u,p,h[l+8],6,1873313359);p=n(p,e,r,u,h[l+15],10,-30611744);u=n(u,p,e,r,h[l+6],15,-1560198380);r=n(r,u,p,e,h[l+13],21,1309151649);e=n(e,r,u,p,h[l+4],6,-145523070);p=n(p,e,r,u,h[l+11],10,-1120210379);u=n(u,p,e,r,h[l+2],15,718787259);r=n(r,u,p,e,h[l+9],21,-343485551);e=b(e,m);r=b(r,v);u=b(u,A);p=b(p,t)}h=[e,r,u,p];switch(g){case q.Raw:return h;case q.Hex:g=[];for(let l=0,m=4*h.length;l<m;l++)g.push("0123456789abcdef".charAt(h[l>>
2]>>l%4*8+4&15)+"0123456789abcdef".charAt(h[l>>2]>>l%4*8&15));return g.join("");case q.String:g=[];for(let l=0,m=32*h.length;l<m;l+=8)g.push(String.fromCharCode(h[l>>5]>>>l%32&255));return g.join("");case q.Base64:g=[];for(let l=0,m=4*h.length;l<m;l+=3)for(e=(h[l>>2]>>l%4*8&255)<<16|(h[l+1>>2]>>(l+1)%4*8&255)<<8|h[l+2>>2]>>(l+2)%4*8&255,r=0;4>r;r++)8*l+6*r>32*h.length?g.push("\x3d"):g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>6*(3-r)&63));return g.join("")}};
a.outputTypes=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),function(a,b,c,f,d,n,q,e,g){function h(p,l,m){if(!p)return null;p=p.find(v=>!!v.field);if(!p)return null;l=new g;l.read(p,m);return[l]}function r(p,
l,m,v){(p=p.find(A=>!!A.field))&&c.setDeepValue(m,[p.toJSON()],l)}const u={type:[g],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:h},write:{writer:r}}};a.OrderedLayer=p=>{p=class extends p{constructor(){super(...arguments);this.orderBy=null}};b.__decorate([f.property(u)],p.prototype,"orderBy",void 0);return p=b.__decorate([e.subclass("esri.layers.mixins.OrderedLayer")],p)};a.orderByProperty=u;a.readOrderByInfos=h;a.writeOrderByInfos=r;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e){var g;b=new b.JSONMap({asc:"ascending",desc:"descending"});c=g=class extends c{constructor(h){super(h);this.valueExpression=this.field=null;this.order="ascending"}clone(){return new g({field:this.field,
valueExpression:this.valueExpression,order:this.order})}};a.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([f.property({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"valueExpression",void 0);a.__decorate([f.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],c.prototype,"order",void 0);return c=g=a.__decorate([e.subclass("esri.layers.support.OrderByInfo")],c)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),
function(a,b,c,f,d,n,q,e){const g=Symbol();a.PublishableLayer=h=>{h=class extends h{constructor(){super(...arguments);this[r]=!0}get publishingInfo(){if(this.destroyed)return null;var u=this._get("publishingInfo");if(u)return u;u=new e;this._checkPublishingStatus(u);return u}_checkPublishingStatus(u){let p=0;const l=async v=>{u.updating=!0;let A;try{A=await this.fetchPublishingStatus()}catch(t){A="unavailable"}if("published"===A||"unavailable"===A)"publishing"===u.status&&this.refresh(),m.remove();
u.status=A;u.updating=!1;m.removed||(p=setTimeout(l,v,v+125))},m={removed:!1,remove(){this.removed=!0;clearTimeout(p)}};this.when().catch(()=>m.remove());l(250);this.addHandles(m)}};var r=g;b.__decorate([c.property({readOnly:!0,clonable:!1})],h.prototype,"publishingInfo",null);return h=b.__decorate([q.subclass("esri.layers.mixins.PublishableLayer")],h)};a.isPublishableLayer=function(h){return null!=h&&"object"===typeof h&&g in h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){b=class extends b{constructor(){super(...arguments);this.updating=!1;this.status="unknown"}};a.__decorate([c.property()],b.prototype,"updating",void 0);a.__decorate([c.property()],b.prototype,"status",void 0);return b=a.__decorate([q.subclass("esri.layers.support.PublishingInfo")],b)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary ../../time/TimeExtent ../../time/TimeInterval".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){const m={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:g.excludeTables}}};a.TemporalLayer=v=>{v=class extends v{constructor(){super(...arguments);this.timeOffset=this.timeExtent=null;this.useViewTime=!0}readOffset(A,t){t=t.timeInfo.exportOptions;if(!t)return null;A=t.timeOffset;t=u.timeUnitKebabDictionary.fromJSON(t.timeOffsetUnits);return A&&t?new l({value:A,unit:t}):null}set timeInfo(A){h.fixTimeInfoFields(A,
this.fieldsIndex);this._set("timeInfo",A)}};b.__decorate([c.property({type:p,json:{write:!1}})],v.prototype,"timeExtent",void 0);b.__decorate([c.property({type:l})],v.prototype,"timeOffset",void 0);b.__decorate([q.reader("service","timeOffset",["timeInfo.exportOptions"])],v.prototype,"readOffset",null);b.__decorate([c.property({value:null,type:r,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],v.prototype,"timeInfo",null);b.__decorate([c.property(m)],
v.prototype,"useViewTime",void 0);return v=b.__decorate([e.subclass("esri.layers.mixins.TemporalLayer")],v)};a.useViewTimeProperty=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/TimeExtent ../../time/TimeInterval ../../time/timeZoneUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p){b=class extends b.ClonableMixin(c){constructor(l){super(l);this.cumulative=!1;this.fullTimeExtent=this.endField=null;this.hasLiveData=!1;this.trackIdField=this.timeZone=this.startField=this.interval=null;this.useTime=!0;this.stops=null}readFullTimeExtent(l,m){return m.timeExtent&&Array.isArray(m.timeExtent)&&2===m.timeExtent.length?r.fromArray(m.timeExtent):null}writeFullTimeExtent(l,m){m.timeExtent=null!=l?.start&&null!=l.end?l.toArray():null}readInterval(l,m){return m.timeInterval&&
m.timeIntervalUnits?u.fromJSON({value:m.timeInterval,unit:m.timeIntervalUnits}):m.defaultTimeInterval&&m.defaultTimeIntervalUnits?u.fromJSON({value:m.defaultTimeInterval,unit:m.defaultTimeIntervalUnits}):null}writeInterval(l,m){m.timeInterval=l?.toJSON().value??null;m.timeIntervalUnits=l?.toJSON().unit??null}};a.__decorate([f.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],b.prototype,"cumulative",void 0);a.__decorate([f.property({type:String,json:{name:"endTimeField",
write:{enabled:!0,allowNull:!0}}})],b.prototype,"endField",void 0);a.__decorate([f.property({type:r,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"fullTimeExtent",void 0);a.__decorate([e.reader("fullTimeExtent",["timeExtent"])],b.prototype,"readFullTimeExtent",null);a.__decorate([h.writer("fullTimeExtent")],b.prototype,"writeFullTimeExtent",null);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"hasLiveData",void 0);a.__decorate([f.property({type:u,json:{write:{enabled:!0,
allowNull:!0}}})],b.prototype,"interval",void 0);a.__decorate([e.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],b.prototype,"readInterval",null);a.__decorate([h.writer("interval")],b.prototype,"writeInterval",null);a.__decorate([f.property({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],b.prototype,"startField",void 0);a.__decorate([f.property(p.timeZoneProperty("timeReference",!0))],b.prototype,"timeZone",void 0);
a.__decorate([f.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"trackIdField",void 0);a.__decorate([f.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],b.prototype,"useTime",void 0);a.__decorate([f.property({type:[Date],json:{read:!1}})],b.prototype,"stops",void 0);return b=a.__decorate([g.subclass("esri.layers.support.TimeInfo")],b)})},"esri/time/TimeInterval":function(){define("../chunks/tslib.es6 ../core/Clonable ../core/JSONSupport ../core/timeUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){b=class extends b.ClonableMixin(c){constructor(u){super(u);this.unit="milliseconds";this.value=0}toMilliseconds(){return f.convertTime(this.value,this.unit,"milliseconds")}};a.__decorate([g.enumeration(r.timeUnitKebabDictionary,{nonNullable:!0})],b.prototype,"unit",void 0);a.__decorate([d.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);return b=a.__decorate([h.subclass("esri.time.TimeInterval")],b)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports",
"../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/TrackableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/TrackInfo".split(" "),
function(a,b,c,f,d,n,q,e){a.TrackableLayer=g=>{g=class extends g{constructor(){super(...arguments);this.trackInfo=null}};b.__decorate([c.property({type:e})],g.prototype,"trackInfo",void 0);return g=b.__decorate([q.subclass("esri.layers.mixins.TrackableLayer")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TrackInfo":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../core/Clonable ../../core/JSONSupport ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./TrackPartInfo ../../renderers/SimpleRenderer ../../symbols/support/defaults ../../time/TimeInterval".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A){c=class extends c.ClonableMixin(f){constructor(t){super(t);this.enabled=!0;this.fields=[];this.latestObservations=new l({renderer:new m({symbol:v.defaultPointSymbol2D.clone()})});this.maxDisplayDuration=null;this.maxDisplayObservationsPerTrack=0;this.popupEnabled=!0;this.popupTemplate=null;this.previousObservations=new l({renderer:new m({symbol:v.defaultPointSymbol2D.clone()})});this.trackLines=new l({renderer:new m({symbol:v.defaultPolylineSymbol2D.clone()})});
this.timeField="startTimeField"}writeFields(t,w,z){t=t.filter(k=>"avg_angle"!==k.statisticType).map(k=>k.toJSON());d.setDeepValue(z,t,w)}};a.__decorate([n.property({type:Boolean,json:{write:!0}})],c.prototype,"enabled",void 0);a.__decorate([n.property({type:[u],json:{write:!0}})],c.prototype,"fields",void 0);a.__decorate([r.writer("fields")],c.prototype,"writeFields",null);a.__decorate([n.property({type:l,json:{write:!0}})],c.prototype,"latestObservations",void 0);a.__decorate([n.property({type:A,
json:{write:!0}})],c.prototype,"maxDisplayDuration",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],c.prototype,"maxDisplayObservationsPerTrack",void 0);a.__decorate([n.property(p.popupEnabled)],c.prototype,"popupEnabled",void 0);a.__decorate([n.property({type:b,json:{name:"popupInfo",write:!0}})],c.prototype,"popupTemplate",void 0);a.__decorate([n.property({type:l,json:{write:!0}})],c.prototype,"previousObservations",void 0);a.__decorate([n.property({type:l,json:{write:!0}})],c.prototype,
"trackLines",void 0);a.__decorate([n.property({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],c.prototype,"timeField",void 0);return c=a.__decorate([h.subclass("esri.layers.support.TrackInfo")],c)})},"esri/layers/support/TrackPartInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties ./LabelClass ../../renderers/support/typeUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){b=class extends b.ClonableMixin(c){constructor(u){super(u);this.labelingInfo=null;this.labelsVisible=!0;this.renderer=null;this.visible=!0}};a.__decorate([f.property({type:[h],json:{write:!0}})],b.prototype,"labelingInfo",void 0);a.__decorate([f.property(g.labelsVisible)],b.prototype,"labelsVisible",void 0);a.__decorate([f.property({types:r.rendererTypes,json:{write:!0}})],b.prototype,"renderer",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,
"visible",void 0);return b=a.__decorate([e.subclass("esri.layers.support.TrackPartInfo")],b)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,n,q,e,g){c=new c.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",
esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});
b=class extends b.ClonableMixin(f){constructor(h){super(h);this.thumbnail=this.prototype=this.drawingTool=this.description=this.name=null}};a.__decorate([d.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({json:{read:c.read,write:c.write}})],b.prototype,"drawingTool",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"prototype",void 0);a.__decorate([d.property({json:{write:!0}})],
b.prototype,"thumbnail",void 0);return b=a.__decorate([g.subclass("esri.layers.support.FeatureTemplate")],b)})},"esri/layers/support/FeatureType":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u){b=class extends b.ClonableMixin(c){constructor(p){super(p);this.templates=this.domains=this.name=this.id=null}readDomains(p){const l={};for(const m of Object.keys(p))l[m]=r.fromJSON(p[m]);return l}writeDomains(p,l){const m={};for(const v of Object.keys(p))p[v]&&(m[v]=p[v]?.toJSON());l.domains=m}};a.__decorate([f.property({json:{write:!0}})],b.prototype,"id",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({json:{write:!0}})],
b.prototype,"domains",void 0);a.__decorate([e.reader("domains")],b.prototype,"readDomains",null);a.__decorate([h.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([f.property({type:[u],json:{write:!0}})],b.prototype,"templates",void 0);return b=a.__decorate([g.subclass("esri.layers.support.FeatureType")],b)})},"esri/layers/support/fieldProperties":function(){define("exports ../../core/has ../../core/Logger ./Field ./FieldsIndex ./fieldUtils".split(" "),function(a,b,c,f,d,n){a.defineFieldProperties=
function(){return{fields:{type:[f],value:null,set:function(q){if(q&&b("big-integer-warning-enabled")){var e=q.filter(g=>"big-integer"===g.type||"oid"===g.type&&8<=(g.length||0));e.length&&(e=e.map(g=>`'${g.name}'`).join(", "),c.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`))}this._set("fields",
q)}},fieldsIndex:{readOnly:!0,get(){return d.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(q){this._userOutFields=q;this.notifyChange("outFields")},get:function(){const q=this._userOutFields;if(!q?.length)return null;if(q.includes("*"))return["*"];if(!this.fields)return q;for(const e of q)this.fieldsIndex?.has(e)||c.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${e} found in outFields`,{layer:this,outFields:q});
return n.fixFields(this.fieldsIndex,q)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/Logger","./LabelClass"],function(a,b,c,f){const d=()=>c.getLogger("esri.layers.support.labelingInfo"),n=/\[([^[\]]+)\]/gi,q={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),esriGeometryMultiPatch:["always-horizontal"],
esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};a.reader=function(e,g,h){return e?e.map(r=>{const u=new f;u.read(r,h);if(u.labelExpression){const p=g.fields||g.layerDefinition?.fields||this.fields;u.labelExpression=u.labelExpression.replaceAll(n,(l,m)=>{a:if(p){l=m.toLowerCase();for(let v=0;v<p.length;v++){const A=p[v].name;if(A.toLowerCase()===l){m=A;break a}}}return`[${m}]`})}return u}):
null};a.validateLabelingInfo=function(e,g){const h=[];for(const u of e){e=u.labelPlacement;var r=q[g];if(!u.symbol)return d().warn("No ILabelClass symbol specified."),[];if(!r)return d().error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${g}' is not supported`)),[];r.includes(e)?h.push(u):(r=r[0],e&&d().warn(`Found invalid label placement type ${e} for ${g}. Defaulting to ${r}`),e=u.clone(),e.labelPlacement=r,h.push(e))}return h};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TitleCreator":function(){define("require ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/Collection ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./fieldUtils ../../support/arcadeOnDemand".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u){c=class extends c{constructor(p){super(p);this.effectivePopupTemplate=this._featureUtils=
null}get _arcadeTask(){return 0<this.expressionsUsedInTitle.length?this._get("_arcadeTask")||f.createTask(()=>u.loadArcade()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??(new Promise((p,l)=>a(["../../widgets/Feature/support/featureUtils"],p,l))).then(p=>this._featureUtils=p)}get calculatedExpressions(){const p=new d;if(!this.expressionsUsedInTitle.length)return p;if(!this._arcadeTask?.value){for(const l of this.expressionsUsedInTitle??[])p.push({name:l.name,invalid:!0});
return p}for(const l of this.expressionsUsedInTitle)try{const m=this._arcadeTask.value.arcade.parseScript(l.expression,["$layer","$map","$datastore"]);if(m.isAsync){p.push({name:l.name,invalid:!0});break}p.push({name:l.name,syntax:m,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(m,{vars:{$feature:"any"}})})}catch{p.push({name:l.name,invalid:!0});break}return p}get expressionsUsedInTitle(){let p=this.effectivePopupTemplate?.title??"";if("string"!==typeof p)return[];p=p.toLowerCase();return this.effectivePopupTemplate?.expressionInfos?.filter(l=>
p.includes(`{expression/${l.name.toLowerCase()}}`))??[]}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(p=>!0===p.invalid)}get requiredFields(){const p=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(var l of this.calculatedExpressions?.toArray()??[])try{const m=this._arcadeTask.value.arcade.extractFieldLiterals(l.syntax);for(const v of m){const A=
v.split("."),t=this.fieldsIndex.get(A.at(-1)??"");t&&p.add(t.name)}}catch{}l=this._extractFieldNames(this.workingTitle);for(const m of l)(l=this.fieldsIndex.get(m))&&p.add(l.name);return p}get titleFromDisplayField(){let p="";this.displayField&&(p=this.fieldsIndex.get(this.displayField)?.name??"");p||=this.fieldsIndex.get(this.objectIdField)?.name??"";return p?`{${p}}`:""}get workingTitle(){const p=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return""===p||void 0===p||null===p||
this.hasBadExpressions||"string"!==typeof p?this.titleFromDisplayField:p}async getTitle(p,l,m){try{const {attributes:v}=l,A=m?.timeZone??"system",[{substituteFieldsInLinksAndAttributes:t}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);m.fetchMissingFields&&(l=await this._checkAndReQueryGraphic(p,l));if(this.workingTitle&&this.fieldInfoMap){const w=this._createFormattedAttributes(p,l,A).global;return t({attributes:v,expressionAttributes:null,fieldInfoMap:this.fieldInfoMap,
globalAttributes:w,layer:p,text:this.workingTitle})}}catch{}return""}async _checkAndReQueryGraphic(p,l){const m=l.getObjectId();if(null==m)return l;if(!r.featureHasFields(this.requiredFields,l)){const v=p.createQuery();v.where="1\x3d1";v.outFields=[...this.requiredFields];v.objectIds=[m];p=await p.queryFeatures(v);if(1===p?.features.length)return p.features[0]}return l}_createFieldInfoMap(p){const l=new Map;if(!p)return l;for(const m of p)m.fieldName&&(p=this.fieldsIndex.get(m.fieldName)?.name??m.fieldName,
m.fieldName=p,l.set(p.toLowerCase(),m));return l}_createFormattedAttributes(p,l,m="system"){const v=this.effectivePopupTemplate?.fieldInfos??[],A={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&0<this.calculatedExpressions.length&&this._arcadeTask?.value){const t=this._arcadeTask.value.Feature.createFromGraphicLikeObject(l.geometry,l.attributes,p,null);for(const w of this.calculatedExpressions)try{A[`expression/${w.name}`]=w.func({vars:{$feature:t}})}catch{}}return{global:this._featureUtils.formatAttributes({fieldInfos:v,
attributes:{...l.attributes,...A},graphic:l,timeZone:m,layer:p,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(p){return r.extractSubstitutionTemplatesFromString(p).filter(l=>!(0===l.indexOf("relationships/")||0===l.indexOf("expression/")))}};b.__decorate([n.property({readOnly:!0})],c.prototype,"_arcadeTask",null);b.__decorate([n.property()],c.prototype,"_featureUtils",void 0);b.__decorate([n.property({readOnly:!0})],c.prototype,"featureUtilsPromise",null);b.__decorate([n.property({readOnly:!0})],
c.prototype,"calculatedExpressions",null);b.__decorate([n.property()],c.prototype,"displayField",void 0);b.__decorate([n.property()],c.prototype,"effectivePopupTemplate",void 0);b.__decorate([n.property()],c.prototype,"expressionsUsedInTitle",null);b.__decorate([n.property()],c.prototype,"fieldsIndex",void 0);b.__decorate([n.property()],c.prototype,"fieldInfoMap",null);b.__decorate([n.property()],c.prototype,"fields",void 0);b.__decorate([n.property()],c.prototype,"objectIdField",void 0);b.__decorate([n.property()],
c.prototype,"requiredFields",null);return c=b.__decorate([h.subclass("esri.layers.support.TitleCreator")],c)})},"esri/layers/support/versionUtils":function(){define(["exports","./arcgisLayerUrl"],function(a,b){const c=[];c.push([10.91,()=>{const f=new Set([9709,9716,9741,9761,9766]);for(var d=9712;9713>=d;d++)f.add(d);for(d=9748;9749>=d;d++)f.add(d);for(d=20904;20932>=d;d++)f.add(d);for(d=21004;21032>=d;d++)f.add(d);for(d=21207;21264>=d;d++)f.add(d);for(d=21307;21364>=d;d++)f.add(d);for(d=23301;23333>=
d;d++)f.add(d);for(d=102759;102760>=d;d++)f.add(d);for(d=102934;102955>=d;d++)f.add(d);return f}]);c.push([10.9,()=>{const f=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(var d=9356;9360>=d;d++)f.add(d);for(d=9404;9407>=d;d++)f.add(d);for(d=9476;9482>=d;d++)f.add(d);for(d=9487;9494>=d;d++)f.add(d);for(d=9697;9699>=d;d++)f.add(d);return f}]);c.push([10.81,()=>{const f=new Set([9265,9333,103598,103699]);for(var d=9248;9254>=d;d++)f.add(d);for(d=
9271;9273>=d;d++)f.add(d);for(d=9284;9285>=d;d++)f.add(d);for(d=21453;21463>=d;d++)f.add(d);return f}]);c.push([10.8,()=>{const f=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var d=8035;8036>=d;d++)f.add(d);for(d=8455;8456>=d;d++)f.add(d);for(d=8518;8529>=d;d++)f.add(d);for(d=8533;8536>=d;d++)f.add(d);for(d=8538;8540>=d;d++)f.add(d);for(d=8677;8679>=d;d++)f.add(d);for(d=8902;8903>=d;d++)f.add(d);for(d=8907;8910>=d;d++)f.add(d);for(d=8949;8951>=d;d++)f.add(d);
for(d=8972;8987>=d;d++)f.add(d);for(d=9039;9040>=d;d++)f.add(d);for(d=9068;9069>=d;d++)f.add(d);for(d=9140;9141>=d;d++)f.add(d);for(d=9148;9150>=d;d++)f.add(d);for(d=9153;9159>=d;d++)f.add(d);for(d=9205;9218>=d;d++)f.add(d);for(d=9221;9222>=d;d++)f.add(d);for(d=54098;54101>=d;d++)f.add(d);return f}]);c.push([10.71,()=>{const f=new Set([6316]);for(var d=8351;8353>=d;d++)f.add(d);for(d=9294;9297>=d;d++)f.add(d);for(d=22619;22621>=d;d++)f.add(d);for(d=103586;103594>=d;d++)f.add(d);return f}]);a.serviceSupportsSpatialReference=
function(f,d){if(b.isHostedAgolService(f.url??""))return!0;({wkid:d}=d);for(const n of c){if((f.version??0)>=n[0])break;"function"===typeof n[1]&&(n[1]=n[1]());if(n[1].has(d))return!1}return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/content/UtilityNetworkAssociationsContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){function m({fields:y,ignoreFieldTypes:B,sortDisabled:E}){const J=y;B&&(y=y.filter(K=>!B.includes(K.type)));y===J&&(y=y.slice());!0!==E&&y.sort(v);return y}function v(y,B){return"oid"===y.type?-1:"oid"===B.type?1:k(y)?-1:k(B)?1:(y.alias||y.name).toLocaleLowerCase().localeCompare((B.alias||B.name).toLocaleLowerCase())}function A(y,B){const E=B?.visibleFieldNames;return m({fields:y.fields??[],ignoreFieldTypes:B?.ignoreFieldTypes||x,sortDisabled:B?.sortDisabled}).map(J=>
{var K=J.name,H=c.isFieldEditable(J,y),F=J.alias,N=z(J),S={...y,visibleFieldNames:E};J=S.visibleFieldNames?S.visibleFieldNames.has(J.name):c.isFieldVisibleByDefault(J,S);return new p({fieldName:K,isEditable:H,label:F,format:N,visible:J})})}function t(y,B){return y.map(E=>new p({fieldName:E.name,isEditable:!1,label:E.alias,format:w(E,B),visible:!0}))}function w(y,B){const {onStatisticField:E,onStatisticExpression:J,statisticType:K}=y;if(E&&(y=B.find(H=>E===H.name)))return z(y);if("number"===J?.returnType)return new l({digitSeparator:!0,
places:2});if("count"===K)return new l({digitSeparator:!0,places:0})}function z(y){switch(y.type){case "small-integer":case "integer":case "single":return new l({digitSeparator:!0,places:0});case "double":return new l({digitSeparator:!0,places:2});case "string":if(c.isRasterPixelValueField(y.name))return new l({digitSeparator:!0,places:0})}}function k(y){return"name"===(y.name&&y.name.toLowerCase())||"name"===y.alias?.toLowerCase()?!0:!1}const x=["geometry","blob","raster","guid","xml"];a.createFieldInfos=
A;a.createFieldsContent=function(y,B){return new e({fieldInfos:A(y,B).filter(E=>E.visible)})};a.createPopupTemplate=function({displayField:y,editFieldsInfo:B,fields:E,objectIdField:J,title:K},H){if(!E)return null;B=A({editFieldsInfo:B,fields:E,objectIdField:J},H);if(!B.length)return null;E={titleBase:K,fields:E,displayField:y};y=c.getDisplayFieldName(E);({titleBase:E}=E);y=y?`${E}: {${y.trim()}}`:E??"";E=[new e,new f];return new b({title:y,content:E,fieldInfos:B})};a.createPopupTemplateForFeatureReduction=
function(y){const {fields:B,featureReduction:E,title:J}=y;y=E.fields;if(!y)return null;y=t(y,B??[]);if(!y.length)return null;var K=[new e];return new b({title:J,content:K,fieldInfos:y})};a.getFeaturePopupTitle=function(y){const {title:B,graphic:E}=y??{},{attributes:J,sourceLayer:K}=E??{};y=(y=K&&"displayField"in K?K.displayField:null)?J?.[y]:null;y=null!=y?JSON.stringify(y):null;const H=E?.getObjectId()?.toString();return B||y||H||""};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/webdoc/interfaces":function(){define(["exports"],function(a){a.SaveOperationType=void 0;var b=a.SaveOperationType||(a.SaveOperationType={});b[b.SAVE=0]="SAVE";b[b.SAVE_AS=1]="SAVE_AS";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require ../../../chunks/tslib.es6 ../../../config ../../../request ../../../core/arrayUtils ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/Logger ../../../core/object ../../../core/promiseUtils ../../../core/reactiveUtils ../../../core/urlUtils ../../../core/uuid ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/SpatialReference ../../../geometry/support/MeshGeoreferencedVertexSpace ../../../geometry/support/meshVertexSpaceUtils ../../../geometry/support/meshUtils/External ../applyEditsUtils ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../support/featureLayerUtils ../../support/infoFor3D ../../../rest/query/executeQueryJSON ../../../rest/query/operations/editsZScale ../../../rest/support/Query ../../../time/TimeExtent ../../../versionManagement/support/versionManagementUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B,E,J,K,H,F,N,S,W,L){const P=new e.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),X=new e.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});e=class extends g{constructor(D){super(D);this.type="feature-layer";this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]);this.refresh=u.debounce(async()=>{await this.load();var R=this.sourceJSON.editingInfo?.lastEditDate;
if(null==R)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}R=R!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:R,updates:R?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}});this._ongoingAssetUploads=new Map}load(D){const R=this._fetchService(this.layer.sourceJSON,{...D}).then(()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,D)).then(()=>this._ensureLatestMetadata(D));this.addResolvingPromise(R);
return Promise.resolve(this)}initialize(){this.addHandles([p.watch(()=>{const D=this.layer;return D&&"lastEditsEventDate"in D?D.lastEditsEventDate:null},D=>this._handleLastEditsEventChange(D))])}destroy(){this._removeEditInterceptor()}get queryTask(){const {capabilities:D,parsedUrl:R,gdbVersion:Y,spatialReference:ja,fieldsIndex:da}=this.layer,sa="infoFor3D"in this.layer?this.layer.infoFor3D:null,qa="dynamicDataSource"in this.layer?this.layer.dynamicDataSource:null,ia=q("featurelayer-pbf")&&D?.query.supportsFormatPBF&&
null==sa;return new E({url:R.path,pbfSupported:ia,fieldsIndex:da,infoFor3D:sa,dynamicDataSource:qa,gdbVersion:Y,sourceSpatialReference:ja,queryAttachmentsSupported:D?.operations?.supportsQueryAttachments??!1})}async addAttachment(D,R){await this.load();var {layer:Y}=this;await K.ensureLayerCredential(Y,"editing");D=D.attributes[Y.objectIdField];Y=Y.parsedUrl.path+"/"+D+"/addAttachment";const ja=this._getLayerRequestOptions();R=this._getFormDataForAttachment(R,ja.query);try{const da=await f(Y,{body:R});
return y.createFeatureEditResult(da.data.addAttachmentResult)}catch(da){throw this._createAttachmentErrorResult(D,da);}}async updateAttachment(D,R,Y){await this.load();var {layer:ja}=this;await K.ensureLayerCredential(ja,"editing");D=D.attributes[ja.objectIdField];ja=ja.parsedUrl.path+"/"+D+"/updateAttachment";R=this._getLayerRequestOptions({query:{attachmentId:R}});Y=this._getFormDataForAttachment(Y,R.query);try{const da=await f(ja,{body:Y});return y.createFeatureEditResult(da.data.updateAttachmentResult)}catch(da){throw this._createAttachmentErrorResult(D,
da);}}async applyEdits(D,R){await this.load();const {layer:Y}=this;await K.ensureLayerCredential(Y,"editing");const ja="infoFor3D"in Y?Y.infoFor3D:null;var da=null!=ja,sa=da||(R?.globalIdUsed??!1);const qa=da?await this._uploadMeshesAndGetAssetMapEditsJSON(D):null;var ia=D.addFeatures?.map(G=>y.getFeatureJSON(this.layer,G,ja))??[];ia=(await Promise.all(ia)).filter(d.isSome);var la=D.updateFeatures?.map(G=>y.getFeatureJSON(this.layer,G,ja))??[];la=(await Promise.all(la)).filter(d.isSome);const ua=
y.getFeatureIds(this.layer,D.deleteFeatures,sa);N.unapplyEditsZUnitScaling(ia,la,Y.spatialReference);D=await y.getAttachmentEditsJSON(this.layer,D);da=Y.capabilities.editing.supportsAsyncApplyEdits&&da;const ya=R?.gdbVersion||Y.gdbVersion,V={gdbVersion:ya,rollbackOnFailure:R?.rollbackOnFailureEnabled,useGlobalIds:sa,returnEditMoment:R?.returnEditMoment,usePreviousEditMoment:R?.usePreviousEditMoment,async:da};await L.isSafeToEditVersion(this.layer.url,ya,!0);const ha=L.isVersionInEditSession(this.layer.url,
ya||null);if(await L.isHistoricVersion(Y.url,ya,Y.historicMoment))throw new n("feature-layer-source:historic-version","Editing a historic version is not allowed");R?.returnServiceEditsOption?(V.edits=JSON.stringify([{id:Y.layerId,adds:ia.length?ia:null,updates:la.length?la:null,deletes:ua.length?ua:null,attachments:D,assetMaps:qa}]),V.returnServiceEditsOption=P.toJSON(R?.returnServiceEditsOption),V.returnServiceEditsInSourceSR=R?.returnServiceEditsInSourceSR):(V.adds=ia.length?JSON.stringify(ia):
null,V.updates=la.length?JSON.stringify(la):null,V.deletes=ua.length?sa?JSON.stringify(ua):ua.join(","):null,V.attachments=D&&JSON.stringify(D),V.assetMaps=null!=qa?JSON.stringify(qa):void 0);sa=this._getLayerRequestOptions({method:"post",query:V});ha&&(sa.authMode="immediate",sa.query.returnEditMoment=!0,sa.query.sessionId=L.currentSessionId);R=R?.returnServiceEditsOption?Y.url:Y.parsedUrl.path;let ma;try{ma=da?await this._asyncApplyEdits(R+"/applyEdits",sa):await f(R+"/applyEdits",sa)}catch(G){if(y.isProtectedOrPrivateVersionError(G))sa.authMode=
"immediate",ma=da?await this._asyncApplyEdits(R+"/applyEdits",sa):await f(R+"/applyEdits",sa);else throw G;}return this._createEditsResult(ma)}async deleteAttachments(D,R){await this.load();var {layer:Y}=this;await K.ensureLayerCredential(Y,"editing");D=D.attributes[Y.objectIdField];Y=Y.parsedUrl.path+"/"+D+"/deleteAttachments";try{return(await f(Y,this._getLayerRequestOptions({query:{attachmentIds:R.join(",")},method:"post"}))).data.deleteAttachmentResults.map(y.createFeatureEditResult)}catch(ja){throw this._createAttachmentErrorResult(D,
ja);}}fetchRecomputedExtents(D={}){return this.load({signal:D.signal}).then(async()=>{var R=this._getLayerRequestOptions({...D,query:{returnUpdates:!0}});const {layerId:Y,url:ja}=this.layer;({data:R}=await f(`${ja}/${Y}`,R));const {id:da,extent:sa,fullExtent:qa,timeExtent:ia}=R;R=sa||qa;return{id:da,fullExtent:R&&t.fromJSON(R),timeExtent:ia&&W.fromJSON({start:ia[0],end:ia[1]})}})}async queryAttachments(D,R={}){await this.load();R=this._getLayerRequestOptions(R);return this.queryTask.executeAttachmentQuery(D,
R)}async queryFeatures(D,R){await this.load();R=await this.queryTask.execute(D,{...R,query:this._createRequestQueryOptions(R)});if(D.outStatistics?.length&&R.features.length){const Y=new Map;R.features.forEach(ja=>{const da=ja.attributes;D.outStatistics?.forEach(({outStatisticFieldName:sa})=>{if(sa){const qa=sa.toLowerCase();qa&&qa in da&&sa!==qa&&(da[sa]=da[qa],delete da[qa],Y.set(qa,sa))}})});if(null!=R.fields)for(const ja of R.fields){const da=Y.get(ja.name.toLowerCase());null!=da&&(ja.name=da)}}return R}async queryFeaturesJSON(D,
R){await this.load();return this.queryTask.executeJSON(D,{...R,query:this._createRequestQueryOptions(R)})}async queryObjectIds(D,R){await this.load();return this.queryTask.executeForIds(D,{...R,query:this._createRequestQueryOptions(R)})}async queryFeatureCount(D,R){await this.load();return this.queryTask.executeForCount(D,{...R,query:this._createRequestQueryOptions(R)})}async queryExtent(D,R){await this.load();return this.queryTask.executeForExtent(D,{...R,query:this._createRequestQueryOptions(R)})}async queryRelatedFeatures(D,
R){await this.load();return this.queryTask.executeRelationshipQuery(D,{...R,query:this._createRequestQueryOptions(R)})}async queryRelatedFeaturesCount(D,R){await this.load();return this.queryTask.executeRelationshipQueryForCount(D,{...R,query:this._createRequestQueryOptions(R)})}async queryTopFeatures(D,R){await this.load();return this.queryTask.executeTopFeaturesQuery(D,{...R,query:this._createRequestQueryOptions(R)})}async queryAttributeBins(D,R){await this.load();return this.queryTask.executeAttributeBinsQuery(D,
{...R,query:this._createRequestQueryOptions(R)})}async queryTopObjectIds(D,R){await this.load();return this.queryTask.executeForTopIds(D,{...R,query:this._createRequestQueryOptions(R)})}async queryTopExtents(D,R){await this.load();return this.queryTask.executeForTopExtents(D,{...R,query:this._createRequestQueryOptions(R)})}async queryTopCount(D,R){await this.load();return this.queryTask.executeForTopCount(D,{...R,query:this._createRequestQueryOptions(R)})}async fetchPublishingStatus(){if(!J.isHostedAgolService(this.layer.url))return"unavailable";
var D=l.join(this.layer.url,"status");D=await f(D,{query:{f:"json"}});return X.fromJSON(D.data.status)}async uploadAssets(D,R){const {uploadAssets:Y}=await new Promise((ja,da)=>a(["./support/uploadAssets"],ja,da));return Y(D,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},R)}_handleLastEditsEventChange(D){const R=this.layer;if(null!=D&&"capabilities"in R&&"effectiveCapabilities"in R&&!R.capabilities?.operations?.supportsEditing&&R.effectiveCapabilities?.operations?.supportsEditing){var Y=
R.url;null!=Y&&("layerId"in R&&l.join(Y,R.layerId.toString()),this._getOrCreateEditInterceptor(Y).before=ja=>{var da=ja.requestOptions.method??"auto";if("auto"===da||"head"===da)da=ja.requestOptions.query??{},da._ts=D.getTime(),ja.requestOptions.query=da})}}_getOrCreateEditInterceptor(D){null==this._editInterceptor&&(this._editInterceptor={urls:D},c.request.internalInterceptors.push(this._editInterceptor));return this._editInterceptor}_removeEditInterceptor(){null!=this._editInterceptor&&(d.remove(c.request.internalInterceptors,
this._editInterceptor),this._editInterceptor=null)}async _asyncApplyEdits(D,R){for(D=(await f(D,R)).data.statusUrl;;){R=(await f(D,{query:{f:"json"},responseType:"json"})).data;switch(R.status){case "Completed":return f(R.resultUrl,{query:{f:"json"},responseType:"json"});case "CompletedWithErrors":throw new n("async-applyEdits-failed","asynchronous applyEdits call failed.");case "Failed ImportChanges":case "InProgress":case "Pending":case "ExportAttachments":case "ExportChanges":case "ExportingData":case "ExportingSnapshot":case "ImportAttachments":case "ProvisioningReplica":case "UnRegisteringReplica":break;
default:throw new n("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)");}await u.after(1E3)}}_createRequestQueryOptions(D){D={...this.layer.customParameters,token:this.layer.apiKey,...D?.query};this.layer.datesInUnknownTimezone&&(D.timeReferenceUnknownClient=!0);return D}async _fetchService(D,R){D||(D={},q("featurelayer-advanced-symbols")&&(D.returnAdvancedSymbols=!0),R?.cacheBust&&(D._ts=Date.now()),{data:D}=await f(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:D,
signal:R?.signal})));this.sourceJSON=await this._patchServiceJSON(D,R?.signal);R=D.type;if(!this.supportedSourceTypes.has(R))throw new n("feature-layer-source:unsupported-type",`Source type "${R}" is not supported`);}async _patchServiceJSON(D,R){if("Table"!==D.type&&D.geometryType&&!D?.drawingInfo?.renderer&&!D.defaultSymbol){const Y=B.createDrawingInfo(D.geometryType).renderer;r.setDeepValue("drawingInfo.renderer",Y,D)}"esriGeometryMultiPatch"===D.geometryType&&D.infoFor3D&&(D.geometryType="mesh");
if(null==D.extent)try{const {data:Y}=await f(this.layer.url,this._getLayerRequestOptions({signal:R}));Y.spatialReference&&(D.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:Y.spatialReference})}catch(Y){u.throwIfAbortError(Y)}return D}async _ensureLatestMetadata(D){if(this.layer.userHasUpdateItemPrivileges&&0<this.sourceJSON.cacheMaxAge)return this._fetchService(null,{...D,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(D){const {addAssetFeatures:R}=D;if(!R?.length||await this._areAllAssetsAlreadyMapped(R))return null;
var Y=D.addFeatures.filter(da=>da.geometry);if(R.length!==Y.length+D.updateFeatures.length)throw new n("feature-layer-source:unsupported-mesh-edits","Mixing attribute only edits with mesh geometry edits is not currently supported");D=[];Y=new Map;for(const da of R){const {geometry:sa}=da;var {vertexSpace:ja}=sa;if(k.isRelativeVertexSpace(ja))D.push(sa);else{ja=sa.origin;const {convertMeshVertexSpace:qa}=await new Promise((ia,la)=>a(["../../../geometry/support/meshUtils/convertMeshVertexSpace"],ia,
la));ja=await qa(sa,new z({origin:[ja.x,ja.y,ja.z??0]}));Y.set(ja,sa);da.geometry=ja;D.push(ja)}}await this.uploadAssets(D);for(const [da,sa]of Y)sa.addExternalSources(da.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(R),updates:[],deletes:[]}}_getAssetMapEditsJSON(D){const R=[],Y=this.layer.globalIdField,ja=this.layer.parsedUrl;for(const sa of D){({metadata:D}=sa.geometry);var da=D.getExternalSourcesOnService(ja);D=sa.getAttribute(Y);if(0===da.length)h.getLogger(this).error(`Skipping feature ${D}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);
else{({source:da}=da.find(x.isOriginalExternal)??da[0]);for(const qa of da)1!==qa.parts.length?h.getLogger(this).error(`Skipping asset ${qa.assetName}. It does not have exactly one part, so we cannot map it to a feature.`):R.push({globalId:m.generateBracedUUID(),parentGlobalId:D,assetName:qa.assetName,assetHash:qa.parts[0].partHash,flags:[]})}}return R}_createEditsResult(D){var R=D.data;const {layerId:Y}=this.layer;D=[];let ja=null;if(Array.isArray(R))for(var da of R)D.push({id:da.id,editedFeatures:da.editedFeatures}),
da.id===Y&&(ja={addResults:da.addResults??[],updateResults:da.updateResults??[],deleteResults:da.deleteResults??[],attachments:da.attachments,editMoment:da.editMoment});else ja=R;da=y.unpackEditResultData(ja);if(0<D.length){da.editedFeatureResults=[];for(const sa of D)({editedFeatures:D}=sa),R=D?.spatialReference?new w(D.spatialReference):null,da.editedFeatureResults.push({layerId:sa.id,editedFeatures:y.createEditedFeatures(D,R)})}return da}_createAttachmentErrorResult(D,R){return{objectId:D,globalId:null,
error:new n("feature-layer-source:attachment-failure",R.details.messages?.[0]||R.message,{code:R.details.httpStatus||R.details.messageCode})}}_getFormDataForAttachment(D,R){if(D=D instanceof FormData?D:D&&D.elements?new FormData(D):null)for(const Y in R){const ja=R[Y];null!=ja&&(D.set?D.set(Y,ja):D.append(Y,ja))}return D}_getLayerRequestOptions(D={}){const {layer:R,layer:{parsedUrl:Y,gdbVersion:ja}}=this;return{...D,query:{gdbVersion:ja,layer:"dynamicDataSource"in R&&R.dynamicDataSource?JSON.stringify({source:R.dynamicDataSource}):
void 0,...Y.query,f:"json",...this._createRequestQueryOptions(D)},responseType:"json"}}async _areAllAssetsAlreadyMapped(D){var {layer:R}=this;const {globalIdField:Y,parsedUrl:ja}=R,da="infoFor3D"in R?R.infoFor3D:null;if(null==da||null==Y)return!1;R=H.getAssetMapTable(da);if(null==R)return!1;const sa=l.join(ja.path,`../${R.id}`);R=[];for(const ua of D)if(0<ua.geometry.metadata.getExternalSourcesOnService(ja).length)R.push(ua);else return!1;D=R.map(ua=>ua.getAttribute(Y)).filter(d.isSome);if(0===D.length)return!1;
const {assetMapFieldRoles:{parentGlobalId:qa,assetHash:ia}}=da;D=new S({where:`${qa} IN (${D.map(ua=>`'${ua}'`)})`,outFields:[ia,qa],returnGeometry:!1});D=await F.executeQueryJSON(sa,D);const {features:la}=D;return 0===la.length?!1:!R.some(ua=>{const ya=ua.getAttribute(Y);if(!ya)return!0;({metadata:ua}=ua.geometry);const V=la.filter(ma=>ma.getAttribute(qa)===ya);if(0===V.length)return!0;const ha=V.map(ma=>ma.getAttribute(ia));return ua.getExternalSourcesOnService(ja).flatMap(({source:ma})=>ma.flatMap(G=>
G.parts.map(Q=>Q.partHash))).some(ma=>ha.every(G=>ma!==G))})}};b.__decorate([v.property()],e.prototype,"type",void 0);b.__decorate([v.property({constructOnly:!0})],e.prototype,"layer",void 0);b.__decorate([v.property({constructOnly:!0})],e.prototype,"supportedSourceTypes",void 0);b.__decorate([v.property({readOnly:!0})],e.prototype,"queryTask",null);return e=b.__decorate([A.subclass("esri.layers.graphics.sources.FeatureLayerSource")],e)})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){c=b=class extends b.ClonableMixin(c){constructor(h){super(h);this.type="georeferenced";this.origin=null}};c.absolute=new b;a.__decorate([e.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([f.property({type:[Number],nonNullable:!1,json:{write:!0}})],c.prototype,"origin",void 0);return c=b=a.__decorate([g.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],c)})},"esri/geometry/support/meshVertexSpaceUtils":function(){define(["exports",
"../../chunks/vec32","../Point","./MeshGeoreferencedVertexSpace","./MeshLocalVertexSpace"],function(a,b,c,f,d){function n(q){return null!=q.origin}a.isAbsoluteVertexSpace=function(q){return null==q.origin};a.isMeshWithRelativeVertexSpace=function(q){return n(q.vertexSpace)};a.isRelativeVertexSpace=n;a.selectVertexSpace=function(q,e){const {x:g,y:h,z:r,spatialReference:u}=q;q=[g,h,r??0];return"local"===(e?.vertexSpace??(u.isGeographic||u.isWebMercator?"local":"georeferenced"))?new d({origin:q}):new f({origin:q})};
a.vertexSpaceEquals=function(q,e){return q.type===e.type&&(q.origin===e.origin||null!=q.origin&&null!=e.origin&&b.exactEquals(q.origin,e.origin))};a.vertexSpaceOriginToPoint=function(q,e){if(!n(q))return null;const [g,h,r]=q.origin;return new c({x:g,y:h,z:r,spatialReference:e})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(a,b,c){function f(V){const ha=
V[0],ma=V[1];V=V[2];return Math.sqrt(ha*ha+ma*ma+V*V)}function d(V,ha){V[0]=ha[0];V[1]=ha[1];V[2]=ha[2];return V}function n(V,ha,ma,G){V[0]=ha;V[1]=ma;V[2]=G;return V}function q(V,ha,ma){V[0]=ha[0]+ma[0];V[1]=ha[1]+ma[1];V[2]=ha[2]+ma[2];return V}function e(V,ha,ma){V[0]=ha[0]-ma[0];V[1]=ha[1]-ma[1];V[2]=ha[2]-ma[2];return V}function g(V,ha,ma){V[0]=ha[0]*ma[0];V[1]=ha[1]*ma[1];V[2]=ha[2]*ma[2];return V}function h(V,ha,ma){V[0]=ha[0]/ma[0];V[1]=ha[1]/ma[1];V[2]=ha[2]/ma[2];return V}function r(V,ha){V[0]=
Math.ceil(ha[0]);V[1]=Math.ceil(ha[1]);V[2]=Math.ceil(ha[2]);return V}function u(V,ha){V[0]=Math.floor(ha[0]);V[1]=Math.floor(ha[1]);V[2]=Math.floor(ha[2]);return V}function p(V,ha){V[0]=Math.abs(ha[0]);V[1]=Math.abs(ha[1]);V[2]=Math.abs(ha[2]);return V}function l(V,ha){V[0]=Math.sign(ha[0]);V[1]=Math.sign(ha[1]);V[2]=Math.sign(ha[2]);return V}function m(V,ha,ma){V[0]=Math.min(ha[0],ma[0]);V[1]=Math.min(ha[1],ma[1]);V[2]=Math.min(ha[2],ma[2]);return V}function v(V,ha,ma){V[0]=Math.max(ha[0],ma[0]);
V[1]=Math.max(ha[1],ma[1]);V[2]=Math.max(ha[2],ma[2]);return V}function A(V,ha=0,ma=1){V[0]=Math.min(Math.max(V[0],ha),ma);V[1]=Math.min(Math.max(V[1],ha),ma);V[2]=Math.min(Math.max(V[2],ha),ma);return V}function t(V,ha){V[0]=Math.round(ha[0]);V[1]=Math.round(ha[1]);V[2]=Math.round(ha[2]);return V}function w(V,ha,ma){V[0]=ha[0]*ma;V[1]=ha[1]*ma;V[2]=ha[2]*ma;return V}function z(V,ha,ma,G){V[0]=ha[0]+ma[0]*G;V[1]=ha[1]+ma[1]*G;V[2]=ha[2]+ma[2]*G;return V}function k(V,ha){const ma=ha[0]-V[0],G=ha[1]-
V[1];V=ha[2]-V[2];return Math.sqrt(ma*ma+G*G+V*V)}function x(V,ha){const ma=ha[0]-V[0],G=ha[1]-V[1];V=ha[2]-V[2];return ma*ma+G*G+V*V}function y(V){const ha=V[0],ma=V[1];V=V[2];return ha*ha+ma*ma+V*V}function B(V,ha){V[0]=-ha[0];V[1]=-ha[1];V[2]=-ha[2];return V}function E(V,ha){V[0]=1/ha[0];V[1]=1/ha[1];V[2]=1/ha[2];return V}function J(V,ha){var ma=ha[0];const G=ha[1],Q=ha[2];ma=ma*ma+G*G+Q*Q;0<ma&&(ma=1/Math.sqrt(ma),V[0]=ha[0]*ma,V[1]=ha[1]*ma,V[2]=ha[2]*ma);return V}function K(V,ha){return V[0]*
ha[0]+V[1]*ha[1]+V[2]*ha[2]}function H(V,ha,ma){const G=ha[0],Q=ha[1];ha=ha[2];const fa=ma[0],ta=ma[1];ma=ma[2];V[0]=Q*ma-ha*ta;V[1]=ha*fa-G*ma;V[2]=G*ta-Q*fa;return V}function F(V,ha,ma){var G=ha[0],Q=ha[1],fa=ha[2];ha=ma[0];const ta=ma[1],za=ma[2];ma=Q*za-fa*ta;fa=fa*ha-G*za;G=G*ta-Q*ha;Q=Math.sqrt(ma*ma+fa*fa+G*G);V[0]=ma/Q;V[1]=fa/Q;V[2]=G/Q;return V}function N(V,ha,ma,G){const Q=ha[0],fa=ha[1];ha=ha[2];V[0]=Q+G*(ma[0]-Q);V[1]=fa+G*(ma[1]-fa);V[2]=ha+G*(ma[2]-ha);return V}function S(V,ha,ma,G,
Q,fa){const ta=fa*fa,za=ta*(2*fa-3)+1,Ea=ta*(fa-2)+fa,Ga=ta*(fa-1);fa=ta*(3-2*fa);V[0]=ha[0]*za+ma[0]*Ea+G[0]*Ga+Q[0]*fa;V[1]=ha[1]*za+ma[1]*Ea+G[1]*Ga+Q[1]*fa;V[2]=ha[2]*za+ma[2]*Ea+G[2]*Ga+Q[2]*fa;return V}function W(V,ha,ma,G,Q,fa){var ta=1-fa,za=ta*ta;const Ea=fa*fa,Ga=za*ta;za*=3*fa;ta*=3*Ea;fa*=Ea;V[0]=ha[0]*Ga+ma[0]*za+G[0]*ta+Q[0]*fa;V[1]=ha[1]*Ga+ma[1]*za+G[1]*ta+Q[1]*fa;V[2]=ha[2]*Ga+ma[2]*za+G[2]*ta+Q[2]*fa;return V}function L(V,ha=1){var ma=c.RANDOM;const G=2*ma()*Math.PI;ma=2*ma()-1;
const Q=Math.sqrt(1-ma*ma)*ha;V[0]=Math.cos(G)*Q;V[1]=Math.sin(G)*Q;V[2]=ma*ha;return V}function P(V,ha,ma){const G=ha[0],Q=ha[1];ha=ha[2];V[0]=ma[0]*G+ma[4]*Q+ma[8]*ha+ma[12];V[1]=ma[1]*G+ma[5]*Q+ma[9]*ha+ma[13];V[2]=ma[2]*G+ma[6]*Q+ma[10]*ha+ma[14];return V}function X(V,ha,ma){const G=ha[0],Q=ha[1];ha=ha[2];V[0]=G*ma[0]+Q*ma[3]+ha*ma[6];V[1]=G*ma[1]+Q*ma[4]+ha*ma[7];V[2]=G*ma[2]+Q*ma[5]+ha*ma[8];return V}function D(V,ha,ma){const G=ma[0],Q=ma[1],fa=ma[2],ta=ha[0],za=ha[1];ha=ha[2];const Ea=Q*ha-
fa*za,Ga=fa*ta-G*ha,Z=G*za-Q*ta;ma=2*ma[3];V[0]=ta+Ea*ma+2*(Q*Z-fa*Ga);V[1]=za+Ga*ma+2*(fa*Ea-G*Z);V[2]=ha+Z*ma+2*(G*Ga-Q*Ea);return V}function R(V,ha,ma,G){const Q=[],fa=[];Q[0]=ha[0]-ma[0];Q[1]=ha[1]-ma[1];Q[2]=ha[2]-ma[2];fa[0]=Q[0];fa[1]=Q[1]*Math.cos(G)-Q[2]*Math.sin(G);fa[2]=Q[1]*Math.sin(G)+Q[2]*Math.cos(G);V[0]=fa[0]+ma[0];V[1]=fa[1]+ma[1];V[2]=fa[2]+ma[2];return V}function Y(V,ha,ma,G){const Q=[],fa=[];Q[0]=ha[0]-ma[0];Q[1]=ha[1]-ma[1];Q[2]=ha[2]-ma[2];fa[0]=Q[2]*Math.sin(G)+Q[0]*Math.cos(G);
fa[1]=Q[1];fa[2]=Q[2]*Math.cos(G)-Q[0]*Math.sin(G);V[0]=fa[0]+ma[0];V[1]=fa[1]+ma[1];V[2]=fa[2]+ma[2];return V}function ja(V,ha,ma,G){const Q=[],fa=[];Q[0]=ha[0]-ma[0];Q[1]=ha[1]-ma[1];Q[2]=ha[2]-ma[2];fa[0]=Q[0]*Math.cos(G)-Q[1]*Math.sin(G);fa[1]=Q[0]*Math.sin(G)+Q[1]*Math.cos(G);fa[2]=Q[2];V[0]=fa[0]+ma[0];V[1]=fa[1]+ma[1];V[2]=fa[2]+ma[2];return V}function da(V,ha){J(ua,V);J(ya,ha);V=K(ua,ya);return 1<V?0:-1>V?Math.PI:Math.acos(V)}function sa(V){return"vec3("+V[0]+", "+V[1]+", "+V[2]+")"}function qa(V,
ha){return V[0]===ha[0]&&V[1]===ha[1]&&V[2]===ha[2]}function ia(V,ha){if(V===ha)return!0;const ma=V[0],G=V[1];V=V[2];const Q=ha[0],fa=ha[1];ha=ha[2];const ta=c.getEpsilon();return Math.abs(ma-Q)<=ta*Math.max(1,Math.abs(ma),Math.abs(Q))&&Math.abs(G-fa)<=ta*Math.max(1,Math.abs(G),Math.abs(fa))&&Math.abs(V-ha)<=ta*Math.max(1,Math.abs(V),Math.abs(ha))}function la(V,ha,ma){const G=ma[0]-ha[0],Q=ma[1]-ha[1];ha=ma[2]-ha[2];ma=G*G+Q*Q+ha*ha;if(0<ma)return ma=1/Math.sqrt(ma),V[0]=G*ma,V[1]=Q*ma,V[2]=ha*ma,
V;V[0]=0;V[1]=0;V[2]=0;return V}const ua=b.create(),ya=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:p,add:q,angle:da,bezier:W,ceil:r,clamp:A,copy:d,cross:H,crossAndNormalize:F,direction:la,dist:k,distance:k,div:h,divide:h,dot:K,equals:ia,exactEquals:qa,floor:u,hermite:S,inverse:E,len:f,length:f,lerp:N,max:v,min:m,mul:g,multiply:g,negate:B,normalize:J,random:L,rotateX:R,rotateY:Y,rotateZ:ja,round:t,scale:w,scaleAndAdd:z,set:n,sign:l,sqrDist:x,sqrLen:y,squaredDistance:x,squaredLength:y,
str:sa,sub:e,subtract:e,transformMat3:X,transformMat4:P,transformQuat:D},Symbol.toStringTag,{value:"Module"}));a.abs=p;a.add=q;a.angle=da;a.bezier=W;a.ceil=r;a.clamp=A;a.copy=d;a.cross=H;a.crossAndNormalize=F;a.direction=la;a.dist=k;a.distance=k;a.div=h;a.divide=h;a.dot=K;a.equals=ia;a.exactEquals=qa;a.floor=u;a.hermite=S;a.inverse=E;a.len=f;a.length=f;a.lerp=N;a.max=v;a.min=m;a.mul=g;a.multiply=g;a.negate=B;a.normalize=J;a.random=L;a.rotateX=R;a.rotateY=Y;a.rotateZ=ja;a.round=t;a.scale=w;a.scaleAndAdd=
z;a.set=n;a.sign=l;a.sqrDist=x;a.sqrLen=y;a.squaredDistance=x;a.squaredLength=y;a.str=sa;a.sub=e;a.subtract=e;a.transformMat3=X;a.transformMat4=P;a.transformQuat=D;a.vec3=b})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),
function(a,b,c,f,d,n,q,e,g,h){b=class extends b.ClonableMixin(c){constructor(r){super(r);this.type="local";this.origin=h.create()}};a.__decorate([e.enumeration({local:"local"},{readOnly:!0})],b.prototype,"type",void 0);a.__decorate([f.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"origin",void 0);return b=a.__decorate([g.subclass("esri.geometry.support.MeshLocalVertexSpace")],b)})},"esri/geometry/support/meshUtils/External":function(){define(["exports","../../../request","../../../core/arrayUtils",
"../../../core/promiseUtils","../../../layers/support/infoFor3D"],function(a,b,c,f,d){function n(m){return Array.isArray(m)?m.every(v=>v instanceof r):!1}function q(m){return m?Array.isArray(m)?m.some(e):e(m):!1}function e(m){if(m instanceof File){const {type:v,name:A}=m;return p.test(v)||l.test(A)}return p.test(m.assetMimeType)||l.test(m.assetName)}function g(m,v){return Array.isArray(m)?0<m.length&&m.every(A=>h(A,v)):h(m,v)}function h(m,v){return m instanceof r&&m.isOnService(v)}class r{constructor(m,
v,A){this.assetName=m;this.assetMimeType=v;this.parts=A}equals(m){return this===m||this.assetName===m.assetName&&this.assetMimeType===m.assetMimeType&&c.equals(this.parts,m.parts,(v,A)=>v.equals(A))}isOnService(m){return this.parts.every(v=>v.isOnService(m))}makeHash(){let m="";for(const v of this.parts)m+=v.partHash;return m}async toBlob(m){var {parts:v}=this;if(1===v.length)return v[0].toBlob(m);v=await Promise.all(v.map(A=>A.toBlob(m)));f.throwIfAborted(m);return new Blob(v)}}class u{constructor(m,
v){this.partUrl=m;this.partHash=v}equals(m){return this===m||this.partUrl===m.partUrl&&this.partHash===m.partHash}isOnService(m){return this.partUrl.startsWith(`${m.path}/assets/`)}async toBlob(m){const {data:v}=await b(this.partUrl,{responseType:"blob"});f.throwIfAborted(m);return v}}const p=/^(model\/gltf\+json)|(model\/gltf-binary)$/,l=/\.(gltf|glb)/i;a.ServiceAsset=r;a.ServiceAssetPart=u;a.assetFormatId=function(m,v){return m instanceof File?d.getFileFormatId(m,v):d.getMimeTypeOrFilenameFormatId(m.assetMimeType,
m.assetName,v)};a.assetIsOnService=h;a.externalIsOnService=function(m,v){if(!m)return!1;({source:m}=m);return g(m,v)};a.externalSourceToMultiPart=function(m){return Array.isArray(m)?m:[m]};a.externalSourcesAreEqual=function(m,v){if(m===v)return!0;({source:m}=m);({source:v}=v);if(m===v)return!0;if(n(m)&&n(v)){if(m.length!==v.length)return!1;var A=(t,w)=>t.assetName<w.assetName?-1:t.assetName>w.assetName?1:0;m=[...m].sort(A);v=[...v].sort(A);for(A=0;A<m.length;++A)if(!m[A].equals(v[A]))return!1;return!0}return!1};
a.isDisplayAsset=e;a.isDisplayExternal=function(m){return q(m?.source)};a.isDisplaySource=q;a.isOriginalExternal=function(m){return!!m.original};a.sourceIsOnService=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/applyEditsUtils":function(){define("exports ../../Graphic ../../core/Error ../../core/Logger ../../core/unitUtils ../../core/urlUtils ../../geometry/projection ../../geometry/support/jsonUtils ../../geometry/support/MeshTransform ../../geometry/support/spatialReferenceUtils ./editingSupport".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){async function u(m,v){const {feature:A,attachment:t}=v,{globalId:w,name:z,contentType:k,data:x,uploadId:y}=t;v={globalId:w};A&&("attributes"in A?v.parentGlobalId=A.attributes?.[m.globalIdField]:A.globalId&&(v.parentGlobalId=A.globalId));if(y)v.uploadId=y;else if(x){if(m=await n.parseData(x))v.contentType=m.mediaType,v.data=m.data;x instanceof File&&(v.name=x.name)}z&&(v.name=z);k&&(v.contentType=k);return v}function p(m){const v=!0===m.success?null:m.error||{code:void 0,
description:void 0};return{objectId:m.objectId,globalId:m.globalId,error:v?new c("feature-layer-source:edit-failure",v.description,{code:v.code}):null}}function l(m,v){return new b({attributes:m.attributes,geometry:e.fromJSON({...m.geometry,spatialReference:v})})}a.createEditedFeatures=function(m,v){return{adds:m?.adds?.map(A=>l(A,v))||[],updates:m?.updates?.map(A=>({original:l(A[0],v),current:l(A[1],v)}))||[],deletes:m?.deletes?.map(A=>l(A,v))||[],spatialReference:v}};a.createFeatureEditResult=p;
a.getAttachmentEditsJSON=async function(m,v){const A=await Promise.all((v.addAttachments??[]).map(w=>u(m,w))),t=await Promise.all((v.updateAttachments??[]).map(w=>u(m,w)));v=v.deleteAttachments??[];return A.length||t.length||v.length?{adds:A,updates:t,deletes:[...v]}:null};a.getFeatureIds=function(m,v,A){if(!v||0===v.length)return[];if(A&&r.isFeatureIdentifierArrayWithGlobalId(v))return v.map(w=>w.globalId);if(r.isFeatureIdentifierArrayWithObjectId(v))return v.map(w=>w.objectId);const t=A?m.globalIdField:
m.objectIdField;return t?v.map(w=>w.getAttribute(t)):[]};a.getFeatureJSON=async function(m,v,A){var {geometry:t}=v;v={...v.attributes};if(null!=A&&"mesh"===t?.type){({transformFieldRoles:A}=A);const {origin:z,spatialReference:k,vertexSpace:x}=t;t=t.transform??new g;const y="local"===x.type;m=m.spatialReference;var w=m.isGeographic;const B=h.equals(m,k),E=q.isEqualBaseGCS(k,m)&&q.canProjectWithoutEngine(k,m);if(!(y&&w&&E||!y&&!w&&B))return null;w=q.projectWithoutEngine(z,k,m);if(null==w)return null;
v[A.originX]=w.x;v[A.originY]=w.y;v[A.originZ]=w.z??0;if(null!=t){const {translation:J,scale:K,rotation:H}=t;t=y?1:d.getMetersPerCartesianUnitForSR(k)/d.getMetersPerCartesianUnitForSR(m);v[A.translationX]=J[0]*t;v[A.translationY]=J[2]*t;v[A.translationZ]=-J[1]*t;v[A.scaleX]=K[0];v[A.scaleY]=K[2];v[A.scaleZ]=K[1];v[A.rotationX]=H[0];v[A.rotationY]=H[2];v[A.rotationZ]=-H[1];v[A.rotationDeg]=H[3]}return{attributes:v}}return null==t?{attributes:v}:"mesh"===t.type||"extent"===t.type?null:{geometry:t.toJSON(),
attributes:v}};a.isProtectedOrPrivateVersionError=function(m){m=m.details.raw;const v=+m.extendedCode;return 500===+m.code&&(-2147217144===v||-2147467261===v)};a.unpackEditResultData=function(m){var v=m?.assetMaps;if(v){for(const A of v.addResults)A.success||f.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${A.globalId}.`);for(const A of v.updateResults)A.success||f.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${A.globalId}.`)}v=
m?.attachments;v={addFeatureResults:m?.addResults?.map(p)??[],updateFeatureResults:m?.updateResults?.map(p)??[],deleteFeatureResults:m?.deleteResults?.map(p)??[],addAttachmentResults:v?.addResults?v.addResults.map(p):[],updateAttachmentResults:v?.updateResults?v.updateResults.map(p):[],deleteAttachmentResults:v?.deleteResults?v.deleteResults.map(p):[]};m?.editMoment&&(v.editMoment=m.editMoment);return v};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshTransform":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/mat4f64 ../../core/libs/gl-matrix-2/math/quat ../../core/libs/gl-matrix-2/factories/quatf64 ../../core/libs/gl-matrix-2/factories/vec3f64 ./axisAngleDegrees".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p){var l;b=l=class extends b{constructor(v){super(v);this.translation=u.create();this.rotationAxis=u.fromArray(p.up);this.rotationAngle=0;this.scale=u.fromValues(1,1,1)}get rotation(){return p.fromAxisAndAngle(this.rotationAxis,this.rotationAngle)}set rotation(v){this.rotationAxis=u.clone(p.axis(v));this.rotationAngle=p.angle(v)}get localMatrix(){const v=g.create();h.setAxisAngle(m,p.axis(this.rotation),p.angleRad(this.rotation));e.fromRotationTranslationScale(v,m,
this.translation,this.scale);return v}get localMatrixInverse(){return e.invert(g.create(),this.localMatrix)}equals(v){return this===v||null!=v&&e.exactEquals(this.localMatrix,v.localMatrix)}clone(){const v={translation:u.clone(this.translation),rotationAxis:u.clone(this.rotationAxis),rotationAngle:this.rotationAngle,scale:u.clone(this.scale)};return new l(v)}};a.__decorate([c.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"translation",void 0);a.__decorate([c.property({type:[Number],
nonNullable:!0,json:{write:!0}})],b.prototype,"rotationAxis",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"rotationAngle",void 0);a.__decorate([c.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"scale",void 0);a.__decorate([c.property()],b.prototype,"rotation",null);a.__decorate([c.property()],b.prototype,"localMatrix",null);a.__decorate([c.property()],b.prototype,"localMatrixInverse",null);b=l=a.__decorate([q.subclass("esri.geometry.support.MeshTransform")],
b);const m=r.create();return b})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(a){function b(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function c(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function f(e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y){return[e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y]}function d(e,g){return new Float64Array(e,g,16)}const n=b(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,
create:b,createView:d,fromValues:f},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=f;a.mat4f64=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),function(a,b,c,f,d,n,q){function e(qa){qa[0]=0;qa[1]=0;qa[2]=0;qa[3]=1;return qa}function g(qa,
ia,la){la*=.5;const ua=Math.sin(la);qa[0]=ua*ia[0];qa[1]=ua*ia[1];qa[2]=ua*ia[2];qa[3]=Math.cos(la);return qa}function h(qa,ia){const la=2*Math.acos(ia[3]),ua=Math.sin(la/2);ua>d.getEpsilon()?(qa[0]=ia[0]/ua,qa[1]=ia[1]/ua,qa[2]=ia[2]/ua):(qa[0]=1,qa[1]=0,qa[2]=0);return la}function r(qa,ia,la){const ua=ia[0],ya=ia[1],V=ia[2];ia=ia[3];const ha=la[0],ma=la[1],G=la[2];la=la[3];qa[0]=ua*la+ia*ha+ya*G-V*ma;qa[1]=ya*la+ia*ma+V*ha-ua*G;qa[2]=V*la+ia*G+ua*ma-ya*ha;qa[3]=ia*la-ua*ha-ya*ma-V*G;return qa}function u(qa,
ia,la){la*=.5;const ua=ia[0],ya=ia[1],V=ia[2];ia=ia[3];const ha=Math.sin(la);la=Math.cos(la);qa[0]=ua*la+ia*ha;qa[1]=ya*la+V*ha;qa[2]=V*la-ya*ha;qa[3]=ia*la-ua*ha;return qa}function p(qa,ia,la){la*=.5;const ua=ia[0],ya=ia[1],V=ia[2];ia=ia[3];const ha=Math.sin(la);la=Math.cos(la);qa[0]=ua*la-V*ha;qa[1]=ya*la+ia*ha;qa[2]=V*la+ua*ha;qa[3]=ia*la-ya*ha;return qa}function l(qa,ia,la){la*=.5;const ua=ia[0],ya=ia[1],V=ia[2];ia=ia[3];const ha=Math.sin(la);la=Math.cos(la);qa[0]=ua*la+ya*ha;qa[1]=ya*la-ua*ha;
qa[2]=V*la+ia*ha;qa[3]=ia*la-V*ha;return qa}function m(qa,ia){const la=ia[0],ua=ia[1];ia=ia[2];qa[0]=la;qa[1]=ua;qa[2]=ia;qa[3]=Math.sqrt(Math.abs(1-la*la-ua*ua-ia*ia));return qa}function v(qa,ia,la,ua){const ya=ia[0],V=ia[1],ha=ia[2];ia=ia[3];let ma=la[0],G=la[1],Q=la[2];la=la[3];let fa;let ta;var za=ya*ma+V*G+ha*Q+ia*la;0>za&&(za=-za,ma=-ma,G=-G,Q=-Q,la=-la);1-za>d.getEpsilon()?(fa=Math.acos(za),ta=Math.sin(fa),za=Math.sin((1-ua)*fa)/ta,ua=Math.sin(ua*fa)/ta):za=1-ua;qa[0]=za*ya+ua*ma;qa[1]=za*
V+ua*G;qa[2]=za*ha+ua*Q;qa[3]=za*ia+ua*la;return qa}function A(qa){var ia=d.RANDOM,la=ia();const ua=ia();ia=ia();const ya=Math.sqrt(1-la);la=Math.sqrt(la);qa[0]=ya*Math.sin(2*Math.PI*ua);qa[1]=ya*Math.cos(2*Math.PI*ua);qa[2]=la*Math.sin(2*Math.PI*ia);qa[3]=la*Math.cos(2*Math.PI*ia);return qa}function t(qa,ia){const la=ia[0],ua=ia[1],ya=ia[2];ia=ia[3];var V=la*la+ua*ua+ya*ya+ia*ia;V=V?1/V:0;qa[0]=-la*V;qa[1]=-ua*V;qa[2]=-ya*V;qa[3]=ia*V;return qa}function w(qa,ia){qa[0]=-ia[0];qa[1]=-ia[1];qa[2]=-ia[2];
qa[3]=ia[3];return qa}function z(qa,ia){var la=ia[0]+ia[4]+ia[8];if(0<la)la=Math.sqrt(la+1),qa[3]=.5*la,la=.5/la,qa[0]=(ia[5]-ia[7])*la,qa[1]=(ia[6]-ia[2])*la,qa[2]=(ia[1]-ia[3])*la;else{let ua=0;ia[4]>ia[0]&&(ua=1);ia[8]>ia[3*ua+ua]&&(ua=2);const ya=(ua+1)%3,V=(ua+2)%3;la=Math.sqrt(ia[3*ua+ua]-ia[3*ya+ya]-ia[3*V+V]+1);qa[ua]=.5*la;la=.5/la;qa[3]=(ia[3*ya+V]-ia[3*V+ya])*la;qa[ya]=(ia[3*ya+ua]+ia[3*ua+ya])*la;qa[V]=(ia[3*V+ua]+ia[3*ua+V])*la}return qa}function k(qa,ia,la,ua){var ya=.5*Math.PI/180;
ia*=ya;la*=ya;ua*=ya;ya=Math.sin(ia);ia=Math.cos(ia);const V=Math.sin(la);la=Math.cos(la);const ha=Math.sin(ua);ua=Math.cos(ua);qa[0]=ya*la*ua-ia*V*ha;qa[1]=ia*V*ua+ya*la*ha;qa[2]=ia*la*ha-ya*V*ua;qa[3]=ia*la*ua+ya*V*ha;return qa}function x(qa){return"quat("+qa[0]+", "+qa[1]+", "+qa[2]+", "+qa[3]+")"}function y(qa,ia,la){const ua=n.dot(ia,la);if(-.999999>ua)return n.cross(D,R,ia),1E-6>n.len(D)&&n.cross(D,Y,ia),n.normalize(D,D),g(qa,D,Math.PI),qa;if(.999999<ua)return qa[0]=0,qa[1]=0,qa[2]=0,qa[3]=
1,qa;n.cross(D,ia,la);qa[0]=D[0];qa[1]=D[1];qa[2]=D[2];qa[3]=1+ua;return P(qa,qa)}function B(qa,ia,la,ua,ya,V){v(ja,ia,ya,V);v(da,la,ua,V);v(qa,ja,da,2*V*(1-V));return qa}function E(qa,ia,la,ua){const ya=sa;ya[0]=la[0];ya[3]=la[1];ya[6]=la[2];ya[1]=ua[0];ya[4]=ua[1];ya[7]=ua[2];ya[2]=-ia[0];ya[5]=-ia[1];ya[8]=-ia[2];return P(qa,z(qa,ya))}const J=q.copy,K=q.set,H=q.add,F=q.scale,N=q.dot,S=q.lerp,W=q.length,L=q.squaredLength,P=q.normalize,X=q.exactEquals;q=q.equals;const D=f.create(),R=f.fromValues(1,
0,0),Y=f.fromValues(0,1,0),ja=c.create(),da=c.create(),sa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:H,calculateW:m,conjugate:w,copy:J,dot:N,equals:q,exactEquals:X,fromEuler:k,fromMat3:z,getAxisAngle:h,identity:e,invert:t,len:W,length:W,lerp:S,mul:r,multiply:r,normalize:P,random:A,rotateX:u,rotateY:p,rotateZ:l,rotationTo:y,scale:F,set:K,setAxes:E,setAxisAngle:g,slerp:v,sqlerp:B,sqrLen:L,squaredLength:L,str:x},Symbol.toStringTag,{value:"Module"}));a.add=H;a.calculateW=m;a.conjugate=
w;a.copy=J;a.dot=N;a.equals=q;a.exactEquals=X;a.fromEuler=k;a.fromMat3=z;a.getAxisAngle=h;a.identity=e;a.invert=t;a.len=W;a.length=W;a.lerp=S;a.mul=r;a.multiply=r;a.normalize=P;a.quat=b;a.random=A;a.rotateX=u;a.rotateY=p;a.rotateZ=l;a.rotationTo=y;a.scale=F;a.set=K;a.setAxes=E;a.setAxisAngle=g;a.slerp=v;a.sqlerp=B;a.sqrLen=L;a.squaredLength=L;a.str=x;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(a){function b(){return[1,
0,0,0,1,0,0,0,1]}function c(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function f(e,g,h,r,u,p,l,m,v){return[e,g,h,r,u,p,l,m,v]}function d(e,g){return new Float64Array(e,g,9)}const n=b(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,create:b,createView:d,fromValues:f},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=f;a.mat3f64=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],
function(a){function b(){return[0,0,0,1]}function c(q){return[q[0],q[1],q[2],q[3]]}function f(q,e,g,h){return[q,e,g,h]}const d=b(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:d,clone:c,create:b,fromValues:f},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=d;a.clone=c;a.create=b;a.fromValues=f;a.quatf64=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/axisAngleDegrees":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/math/quat ../../core/libs/gl-matrix-2/factories/quatf64 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),
function(a,b,c,f,d,n,q){function e(k=l){return[k[0],k[1],k[2],k[3]]}function g(k,x,y,B,E=e()){E[0]=k;E[1]=x;E[2]=y;E[3]=B;return E}function h(k,x,y=e()){n.copy(y,k);y[3]=x;return y}function r(k,x,y=e()){f.setAxisAngle(m,k,u(k));f.setAxisAngle(v,x,u(x));f.multiply(m,v,m);return p(y,b.rad2deg(f.getAxisAngle(y,m)))}function u(k){return b.deg2rad(k[3])}function p(k,x){k[3]=x;return k}const l=[0,0,1,0],m=d.create(),v=d.create(),A=e(),t=e(),w=e(),z=e();a.angle=function(k){return k[3]};a.angleRad=u;a.axis=
function(k){return k};a.compose=r;a.composeAxes=function(k,x,y,B=e()){h(q.UNIT_X,k,t);h(q.UNIT_Y,x,w);h(q.UNIT_Z,y,z);r(t,w,t);r(t,z,B);return B};a.copy=function(k,x=e()){return g(k[0],k[1],k[2],k[3],x)};a.create=e;a.fromAxisAndAngle=h;a.fromMatrix=function(k,x=e()){k=c.getRotation(m,k);p(x,b.rad2deg(f.getAxisAngle(x,k)));return x};a.fromPoints=function(k,x,y){n.cross(y,k,x);n.normalize(y,y);y[3]=-n.angle(k,x);return y};a.fromValues=g;a.setAngle=p;a.up=l;a.wrap=function(k,x,y,B){return g(k,x,y,B,
A)};a.wrapAxisAngle=function(k,x){return g(k[0],k[1],k[2],x,A)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/editingSupport":function(){define("exports ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/uuid ../../geometry/support/normalizeUtils ../../geometry/support/spatialReferenceUtils ../mixins/EditBusLayer ../support/fieldUtils ../support/infoFor3D ../support/layerUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m){function v(F){return"object"===typeof F&&null!=F&&"objectId"in F&&!!F.objectId}function A(F){return"object"===typeof F&&null!=F&&"globalId"in F&&!!F.globalId}async function t(F,N,S,W){await F.load();if(null==N?.applyEdits)throw new f(`${F.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:F});if(!m.getEffectiveEditingEnabled(F))throw new f(`${F.type}-layer:editing-disabled`,"Editing is disabled for layer",{layer:F});
const {edits:L,options:P}=await w(F,S,W);return L.addFeatures?.length||L.updateFeatures?.length||L.deleteFeatures?.length||L.addAttachments?.length||L.updateAttachments?.length||L.deleteAttachments?.length?{edits:L,results:await N.applyEdits(L,P)}:{edits:L,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function w(F,N,S){const W=m.getEffectiveLayerCapabilities(F),L=null!=F.infoFor3D;
J(N,W,S,!(!N||!(N.addFeatures||N.updateFeatures||N.deleteFeatures)),!(!N||!(N.addAttachments||N.updateAttachments||N.deleteAttachments)),`${F.type}-layer`);if(!W.data.isVersioned&&S?.gdbVersion)throw new f(`${F.type}-layer:invalid-parameter`,"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!W.editing.supportsRollbackOnFailure&&S?.rollbackOnFailureEnabled)throw new f(`${F.type}-layer:invalid-parameter`,"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");
const P={...S};null!=P.rollbackOnFailureEnabled||W.editing.supportsRollbackOnFailure||(P.rollbackOnFailureEnabled=!0);P.rollbackOnFailureEnabled||"original-and-current-features"!==P.returnServiceEditsOption||(!1===P.rollbackOnFailureEnabled&&n.getLogger("esri.layers.graphics.editingSupport").warn(`${F.type}-layer:invalid-parameter`,"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true."),
P.rollbackOnFailureEnabled=!0);if(!W.editing.supportsReturnServiceEditsInSourceSpatialReference&&P.returnServiceEditsInSourceSR)throw new f(`${F.type}-layer:invalid-parameter`,"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");if(P.returnServiceEditsInSourceSR&&"original-and-current-features"!==P.returnServiceEditsOption)throw new f(`${F.type}-layer:invalid-parameter`,"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");
N=E(N,W,`${F.type}-layer`);const X=S?.globalIdUsed||L,D=F.fields.filter(R=>"big-integer"===R.type||"oid"===R.type&&8<=(R.length||0));if(X){const {globalIdField:R}=F;if(null==R)throw new f(`${F.type}-layer:invalid-parameter`,"Layer does not specify a global id field.");N.addFeatures.forEach(Y=>{({attributes:Y}=Y);null==Y[R]&&(Y[R]=g.generateBracedUUID())})}N.addFeatures.forEach(R=>{z(R,F,X,D);k(R,F)});N.updateFeatures.forEach(R=>{z(R,F,X,D);k(R,F);const Y=m.getEffectiveLayerCapabilities(F);if("geometry"in
R&&null!=R.geometry&&!Y?.editing.supportsGeometryUpdate)throw new f(`${F.type}-layer:unsupported-operation`,"Layer does not support geometry updates.");});N.deleteFeatures.forEach(R=>{z(R,F,X,D)});N.addAttachments.forEach(R=>x(R,F));N.updateAttachments.forEach(R=>x(R,F));L&&await H(N,F);return{edits:await y(N),options:P}}function z(F,N,S,W){if(S){if("attributes"in F&&!F.attributes[N.globalIdField])throw new f(`${N.type}-layer:invalid-parameter`,`Feature should have '${N.globalIdField}' when 'globalIdUsed' is true`);
if(!("attributes"in F||F.globalId))throw new f(`${N.type}-layer:invalid-parameter`,"`'globalId' of the feature should be passed when 'globalIdUsed' is true");}if(W.length&&"attributes"in F)for(const L of W)if(S=F.attributes[L.name],void 0!==S&&!p.isValidFieldValue(L,S))throw new f(`${N.type}-layer:invalid-parameter`,`Big-integer field '${L.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:F});if("geometry"in F&&null!=F.geometry){if(F.geometry.hasZ&&!1===N.capabilities?.data.supportsZ)throw new f(`${N.type}-layer:z-unsupported`,
"Layer does not support z values while feature has z values.");if(F.geometry.hasM&&!1===N.capabilities?.data.supportsM)throw new f(`${N.type}-layer:m-unsupported`,"Layer does not support m values while feature has m values.");}}function k(F,N){if("geometry"in F&&"mesh"===F.geometry?.type&&null!=N.infoFor3D&&null!=N.spatialReference){({geometry:F}=F);const {spatialReference:S,vertexSpace:W}=F;F=N.spatialReference;const L="local"===W.type,P=r.isGeographic(F),X=r.equals(F,S),D=X||r.isWGS84(F)&&(r.isWGS84(S)||
r.isWebMercator(S));if(!(L&&P&&D||!L&&!P&&X))throw new f(`${N.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${W.type} vertex space and a spatial reference wkid:${S.wkid} to a layer with a spatial reference wkid:${F.wkid} is not supported.`);}}function x(F,N){const {feature:S,attachment:W}=F;if(!S||"attributes"in S&&!S.attributes[N.globalIdField])throw new f(`${N.type}-layer:invalid-parameter`,"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in S||S.globalId))throw new f(`${N.type}-layer:invalid-parameter`,
"Attachment should have reference to 'globalId' of the parent feature");if(!W.globalId)throw new f(`${N.type}-layer:invalid-parameter`,"Attachment should have 'globalId'");if(!W.data&&!W.uploadId)throw new f(`${N.type}-layer:invalid-parameter`,"Attachment should have 'data' or 'uploadId'");if(!(W.data instanceof File&&W.data.name||W.name))throw new f(`${N.type}-layer:invalid-parameter`,"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!N.capabilities?.editing.supportsUploadWithItemId&&
W.uploadId)throw new f(`${N.type}-layer:invalid-parameter`,"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof W.data&&(F=e.dataComponents(W.data))&&!F.isBase64)throw new f(`${N.type}-layer:invalid-parameter`,"Attachment 'data' should be a Blob, File or Base64 encoded string");}async function y(F){const N=F.addFeatures??[],S=F.updateFeatures??[];var W=N.concat(S).map(X=>X.geometry);W=await h.normalizeCentralMeridian(W);const L=
N.length,P=S.length;W.slice(0,L).forEach((X,D)=>N[D].geometry=X);W.slice(L,L+P).forEach((X,D)=>S[D].geometry=X);return F}function B(F){return{addFeatures:Array.from(F?.addFeatures??[]),updateFeatures:Array.from(F?.updateFeatures??[]),deleteFeatures:F&&c.isCollection(F.deleteFeatures)?F.deleteFeatures.toArray():F.deleteFeatures||[],addAttachments:F.addAttachments||[],updateAttachments:F.updateAttachments||[],deleteAttachments:F.deleteAttachments||[]}}function E(F,N,S){F=B(F);if(F.addFeatures?.length&&
!N.operations.supportsAdd)throw new f(`${S}:unsupported-operation`,"Layer does not support adding features.");if(F.updateFeatures?.length&&!N.operations.supportsUpdate)throw new f(`${S}:unsupported-operation`,"Layer does not support updating features.");if(F.deleteFeatures?.length&&!N.operations.supportsDelete)throw new f(`${S}:unsupported-operation`,"Layer does not support deleting features.");F.addFeatures=F.addFeatures.map(K);F.updateFeatures=F.updateFeatures.map(K);F.addAssetFeatures=[];return F}
function J(F,N,S,W,L,P){if(!F||!W&&!L)throw new f(`${P}:missing-parameters`,"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!N.editing.supportsGlobalId&&S?.globalIdUsed&&!S.usingFeatureServiceEndpoint)throw new f(`${P}:invalid-parameter`,"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!N.editing.supportsGlobalId&&L)throw new f(`${P}:invalid-parameter`,
"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if(!S?.globalIdUsed&&L)throw new f(`${P}:invalid-parameter`,"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");}function K(F){const N=new b;F.attributes||(F.attributes={});N.geometry=F.geometry;N.attributes=F.attributes;return N}async function H(F,N){const {infoFor3D:S}=
N;if(null!=S){if(!l.isGlbSupportedEditFormat(S))throw new f(`${N.type}-layer:binary-gltf-asset-not-supported`,"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");F.addAssetFeatures??(F.addAssetFeatures=[]);({addAssetFeatures:N}=F);for(const W of F.addFeatures??[])"mesh"===W?.geometry?.type&&N.push(W);for(const W of F.updateFeatures??[])"mesh"===W?.geometry?.type&&N.push(W)}}a.applyEdits=async function(F,N,S,W={}){var L="gdbVersion"in F?F.gdbVersion:null;L=W.gdbVersion??
L;u.isEditBusLayer(F)&&F.url?L=u.emitApplyEditsEvent(F.url,F.layerId,L,"original-and-current-features"===W.returnServiceEditsOption):(L=q.createResolver(),L.promise.then(P=>{(P.addedFeatures.length||P.updatedFeatures.length||P.deletedFeatures.length||P.addedAttachments.length||P.updatedAttachments.length||P.deletedAttachments.length)&&F.emit("edits",P)}),F.emit("apply-edits",{result:L.promise}));try{const {results:P,edits:X}=await t(F,N,S,W);N=R=>R.filter(Y=>!Y.error).map(d.clone);const D={edits:X,
addedFeatures:N(P.addFeatureResults),updatedFeatures:N(P.updateFeatureResults),deletedFeatures:N(P.deleteFeatureResults),addedAttachments:N(P.addAttachmentResults),updatedAttachments:N(P.updateAttachmentResults),deletedAttachments:N(P.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:P.editMoment?new Date(P.editMoment):null,globalIdToObjectId:W.globalIdToObjectId};P.editedFeatureResults?.length&&(D.editedFeatures=P.editedFeatureResults);L.resolve(D);return P}catch(P){throw L.reject(P),
P;}};a.checkEditingCapabilities=J;a.isFeatureIdentifierArrayWithGlobalId=function(F){return F.every(A)};a.isFeatureIdentifierArrayWithObjectId=function(F){return F.every(v)};a.isFeatureIdentifierWithGlobalId=A;a.isFeatureIdentifierWithObjectId=v;a.normalizeCollections=B;a.normalizeEdits=E;a.normalizeGeometries=y;a.shallowCloneFeature=K;a.uploadAssets=function(F,N,S,W){if(null==N?.applyEdits)throw new f(`${F.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:F});
if(!N.uploadAssets)throw new f(`${F.type}-layer:no-asset-upload-support`,"Layer source does not support uploadAssets capability",{layer:F});return N.uploadAssets(S,W)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){function u(w){const z=[];let k=0,x=0;for(let y=0;y<w.length;y++){const B=w[y];let E=null;for(let J=0;J<B.length;J++)E=B[J],z.push(E),0===J?x=k=E[0]:(k=Math.min(k,E[0]),x=Math.max(x,E[0]));E&&z.push([(k+x)/2,0])}return z}function p(w,z){if(!(w instanceof n||w instanceof d))throw t().error("straightLineDensify: the input geometry is neither polyline nor polygon"),new c("straightLineDensify: the input geometry is neither polyline nor polygon");var k=q.getGeometryParts(w);
const x=[];for(const B of k){k=[];x.push(k);k.push([B[0][0],B[0][1]]);for(let E=0;E<B.length-1;E++){const J=B[E][0],K=B[E][1],H=B[E+1][0],F=B[E+1][1];var y=Math.sqrt((H-J)*(H-J)+(F-K)*(F-K));const N=(F-K)/y,S=(H-J)/y,W=y/z;if(1<W){for(let L=1;L<=W-1;L++){const P=L*z;k.push([S*P+J,N*P+K])}y=(y+Math.floor(W-1)*z)/2;k.push([S*y+J,N*y+K])}k.push([H,F])}}return"polygon"===w.type?new d({rings:x,spatialReference:w.spatialReference}):new n({paths:x,spatialReference:w.spatialReference})}function l(w,z,k){z&&
(w=p(w,1E6),w=g.webMercatorToGeographic(w,!0));k&&(w=q.updatePolyGeometry(w,k));return w}function m(w,z,k){if(Array.isArray(w)){var x=w[0];x>z?(k=q.offsetMagnitude(x,z),w[0]=x+-2*k*z):x<k&&(z=q.offsetMagnitude(x,k),w[0]=x+-2*z*k)}else x=w.x,x>z?(k=q.offsetMagnitude(x,z),w=w.clone().offset(-2*k*z,0)):x<k&&(z=q.offsetMagnitude(x,k),w=w.clone().offset(-2*z*k,0));return w}function v(w,z){let k=-1;for(let x=0;x<z.cutIndexes.length;x++){const y=z.cutIndexes[x],B=z.geometries[x],E=q.getGeometryParts(B);
for(let J=0;J<E.length;J++){const K=E[J];K.some(H=>{if(180>H[0])return!0;H=0;for(var F=0;F<K.length;F++){var N=K[F][0];H=N>H?N:H}H=Number(H.toFixed(9));H=-360*q.offsetMagnitude(H,180);for(F=0;F<K.length;F++)N=B.getPoint(J,F),B.setPoint(J,F,N.clone().offset(H,0));return!0})}if(y===k)if("polygon"===w[0].type)for(const J of q.getGeometryParts(B))w[y]=w[y].addRing(J);else{if("polyline"===w[0].type)for(const J of q.getGeometryParts(B))w[y]=w[y].addPath(J)}else k=y,w[y]=B}return w}async function A(w,z,
k){if(!Array.isArray(w))return A([w],z);z&&"string"!==typeof z&&t().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var x="string"===typeof z?z:z?.url??b.geometryServiceUrl;let y,B,E;let J=0;var K=[];z=[];for(var H of w)if(null==H)z.push(H);else{if(!F){var F=H.spatialReference;var N=e.getInfo(F);var S=(y=F.isWebMercator)?102100:4326;B=q.cutParams[S].maxX;E=q.cutParams[S].minX;var W=q.cutParams[S].plus180Line;S=q.cutParams[S].minus180Line}if(N)if("mesh"===
H.type)z.push(H);else if("point"===H.type)z.push(m(H.clone(),B,E));else if("multipoint"===H.type){var L=H.clone();L.points=L.points.map(P=>m(P,B,E));z.push(L)}else if("extent"===H.type)L=H.clone()._normalize(!1,!1,N),z.push(L.rings?new d(L):L);else if(H.extent){L=H.extent;const P=2*q.offsetMagnitude(L.xmin,E)*B;let X=0===P?H.clone():q.updatePolyGeometry(H.clone(),P);L.offset(P,0);let {xmin:D,xmax:R}=L;D=Number(D.toFixed(9));R=Number(R.toFixed(9));L.intersects(W)&&R!==B?(J=R>J?R:J,X=l(X,y),K.push(X),
z.push("cut")):L.intersects(S)&&D!==E?(J=2*R*B>J?2*R*B:J,X=l(X,y,360),K.push(X),z.push("cut")):z.push(X)}else z.push(H.clone());else z.push(H)}F=q.offsetMagnitude(J,B);N=-90;W=F;for(H=new n;0<F;)S=-180+360*F,H.addPath([[S,N],[S,-1*N]]),N*=-1,F--;if(0<K.length&&0<W){F=await h.cut(x,K,H,k);F=v(K,F);N=[];K=[];for(W=0;W<z.length;W++)H=z[W],"cut"!==H?K.push(H):(H=F.shift(),S=w[W],null!=S&&"polygon"===S.type&&S.rings&&1<S.rings.length&&H.rings.length>=S.rings.length?(N.push(H),K.push("simplify")):K.push(y?
g.geographicToWebMercator(H):H));if(!N.length)return K;z=await r.simplify(x,N,k);w=[];for(k=0;k<K.length;k++)x=K[k],"simplify"!==x?w.push(x):w.push(y?g.geographicToWebMercator(z.shift()):z.shift());return w}w=[];for(k=0;k<z.length;k++)x=z[k],"cut"!==x?w.push(x):(x=K.shift(),w.push(!0===y?g.geographicToWebMercator(x):x));return w}const t=()=>f.getLogger("esri.geometry.support.normalizeUtils");a.getClosestDenormalizedXToReference=function(w,z,k){k=e.getInfo(k);if(null==k)return w;const [x,y]=k.valid;
k=2*y;let B=0,E=0;z>y?B=Math.ceil(Math.abs(z-y)/k):z<x&&(B=-Math.ceil(Math.abs(z-x)/k));w>y?E=Math.ceil(Math.abs(w-y)/k):w<x&&(E=-Math.ceil(Math.abs(w-x)/k));w+=(B-E)*k;z=w-z;z>y?w-=k:z<x&&(w+=k);return w};a.getDenormalizedExtent=function(w){if(!w)return null;const z=w.extent;if(!z)return null;var k=w.spatialReference&&e.getInfo(w.spatialReference);if(!k)return z;const [x,y]=k.valid;({width:k}=z);let {xmin:B,xmax:E}=z;[B,E]=[E,B];if("extent"===w.type||0===k||k<=y||k>2*y||B<x||E>y)return z;let J;switch(w.type){case "polygon":if(1<
w.rings.length)J=u(w.rings);else return z;break;case "polyline":if(1<w.paths.length)J=u(w.paths);else return z;break;case "multipoint":J=w.points}w=z.clone();for(let K=0;K<J.length;K++){let H=J[K][0];0>H?(H+=y,E=Math.max(H,E)):(H-=y,B=Math.min(H,B))}w.xmin=B;w.xmax=E;return w.width<k?(w.xmin-=y,w.xmax-=y,w):z};a.normalizeCentralMeridian=A;a.normalizeMapX=function(w,z){if(z=e.getInfo(z)){const [k,x]=z.valid;z=x-k;if(w<k)for(;w<k;)w+=z;if(w>x)for(;w>x;)w-=z}return w};a.straightLineDensify=p;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,c,f){function d(n){return f.isPolygon(n)?n.rings:n.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,
-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=b;a.getGeometryParts=d;a.offsetMagnitude=function(n,q){return Math.ceil((n-q)/(2*q))};a.updatePolyGeometry=function(n,q){const e=d(n);for(const g of e)for(const h of g)h[0]+=q;return n};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define(["exports","../../request","../../geometry/support/jsonUtils","../../geometry/support/spatialReferenceUtils","../utils"],function(a,b,c,f,d){a.cut=async function(n,q,e,g){n=d.parseUrl(n);const h=q[0].spatialReference;q={...g,responseType:"json",query:{...n.query,f:"json",sr:f.srToRESTValue(h),target:JSON.stringify({geometryType:c.getJsonType(q[0]),geometries:q}),cutter:JSON.stringify(e)}};q=await b(n.path+"/cut",
q);const {cutIndexes:r,geometries:u=[]}=q.data;return{cutIndexes:r,geometries:u.map(p=>{p=c.fromJSON(p);p.spatialReference=h;return p})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),function(a,b,c,f,d,n){function q(e,g,h){const r={};for(const p in e)if("declaredClass"!==p){var u=e[p];null!=u&&"function"!==typeof u&&(Array.isArray(u)?r[p]=u.map(l=>q(l)):
"object"===typeof u?u.toJSON?(u=u.toJSON(h?.[p]),r[p]=g?u:JSON.stringify(u)):r[p]=g?u:JSON.stringify(u):r[p]=u)}return r}a.asValidOptions=function(e,g){return g?{...g,query:{...(e??{}),...g.query}}:{query:e}};a.encode=q;a.getToken=function(e,g){return e?n.isApiKeyApplicable(e,g)?g||b.apiKey:c.id?.findCredential(e)?.token:null};a.parseUrl=function(e){return"string"===typeof e?d.urlToObject(e):f.clone(e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define("exports ../../request ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ./utils".split(" "),
function(a,b,c,f,d,n){a.simplify=async function(q,e,g){const h="string"===typeof q?c.urlToObject(q):q;q=e[0].spatialReference;const r=f.getJsonType(e[0]);e={...g,query:{...h.query,f:"json",sr:d.srToRESTValue(q),geometries:JSON.stringify(n.encodeGeometries(e))}};({data:e}=await b(h.path+"/simplify",e));return n.decodeGeometries(e.geometries,r,q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],
function(a,b){a.decodeGeometries=function(c,f,d){const n=b.getGeometryType(f);return c.map(q=>{q=n.fromJSON(q);q.spatialReference=d;return q})};a.encodeGeometries=function(c){return{geometryType:b.getJsonType(c[0]),geometries:c.map(f=>f.toJSON())}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],
function(a,b,c,f,d){function n(g){return q.test(g)?`.${g}`:`["${g}"]`}const q=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let e=1;a.createCapabilities=function(g,h){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:g},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:h,supportsDelete:h,supportsEditing:h,supportsChangeTracking:!1,supportsQuery:!0,
supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:h,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:f.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:f.queryBinsCapabilities,editing:{supportsGeometryUpdate:h,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,
supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}};a.createDefaultAttributesFunction=function(g,h){if(b("esri-csp-restrictions"))return()=>({[h]:null,...g});try{let r=`this${n(h)} = null;`;for(const p in g){const l=n(p);r+=`this${l} = ${JSON.stringify(g[p])};`}const u=(new Function(`\n      return class AttributesClass$${e++} {\n        constructor() {\n          ${r};\n        }\n      }\n    `))();
return()=>new u}catch(r){return()=>({[h]:null,...g})}};a.createDefaultTemplate=function(g={}){return[{name:"New Feature",description:"",prototype:{attributes:c.clone(g)}}]};a.createDrawingInfo=function(g){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===g||"esriGeometryMultipoint"===g?d.defaultPointSymbolJSON:"esriGeometryPolyline"===g?d.defaultPolylineSymbolJSON:d.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],
function(a){a.queryBinsCapabilities={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,
squareRoot:!0}};a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,
supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ../../../../geometry/support/spatialReferenceUtils ../../../support/infoFor3D ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x){const y=B=>Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));c=class extends c{constructor(B){super(B);this.infoFor3D=this.gdbVersion=this.fieldsIndex=this.dynamicDataSource=null;this.queryAttachmentsSupported=this.pbfSupported=!1;this.url=this.sourceSpatialReference=null}get parsedUrl(){return q.urlToObject(this.url)}async execute(B,E){const J=await this.executeJSON(B,E);return this.featureSetFromJSON(B,
J,E)}async executeJSON(B,E){const J=this._normalizeQuery(B),K=null!=B.outStatistics?.[0],H=d("featurelayer-pbf-statistics");B=(!K||H)&&!0!==B.returnTrueCurves;let F;if(this.pbfSupported&&B)try{F=await z.executeRawQueryPBF(this.url,J,E)}catch(N){if("query:parsing-pbf"===N.name)this.pbfSupported=!1;else throw N;}this.pbfSupported&&B||(F=await w.executeRawQueryJSON(this.url,J,E));this._normalizeFields(F.fields);return F}async featureSetFromJSON(B,E,J){if(!this._queryIs3DObjectFormat(B)||null==this.infoFor3D||
!E.features)return k.fromJSON(E);({meshFeatureSetFromJSON:J}=await n.whenOrAbort(new Promise((K,H)=>a(["../../../../rest/support/meshFeatureSet"],K,H)),J));return J(B,this.infoFor3D,E)}executeForCount(B,E){return v.executeForCount(this.url,this._normalizeQuery(B),E)}executeForExtent(B,E){return A.executeForExtent(this.url,this._normalizeQuery(B),E)}executeForIds(B,E){return t.executeForIds(this.url,this._normalizeQuery(B),E)}async executeRelationshipQuery(B,E){const [{default:J},{executeRelationshipQuery:K}]=
await n.whenOrAbort(Promise.all([new Promise((H,F)=>a(["../../../../rest/support/RelationshipQuery"],N=>H(y(N)),F)),new Promise((H,F)=>a(["../../../../rest/query/executeRelationshipQuery"],H,F))]),E);B=J.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return K(this.url,B,E)}async executeRelationshipQueryForCount(B,E){const [{default:J},{executeRelationshipQueryForCount:K}]=await n.whenOrAbort(Promise.all([new Promise((H,
F)=>a(["../../../../rest/support/RelationshipQuery"],N=>H(y(N)),F)),new Promise((H,F)=>a(["../../../../rest/query/executeRelationshipQuery"],H,F))]),E);B=J.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return K(this.url,B,E)}async executeAttachmentQuery(B,E){const {executeAttachmentQuery:J,fetchAttachments:K,processAttachmentQueryResult:H}=await n.whenOrAbort(new Promise((N,
S)=>a(["../../../../rest/query/operations/queryAttachments"],N,S)),E),F=m.parseUrl(this.url);B=await (this.queryAttachmentsSupported?J(F,B,E):K(F,B,E));return H(F,B)}async executeAttributeBinsQuery(B,E){const {executeAttributeBinsQuery:J}=await n.whenOrAbort(new Promise((K,H)=>a(["../../../../rest/query/executeAttributeBinsQuery"],K,H)),E);return J(this.parsedUrl,B,E)}async executeTopFeaturesQuery(B,E){const {executeTopFeaturesQuery:J}=await n.whenOrAbort(new Promise((K,H)=>a(["../../../../rest/query/executeTopFeaturesQuery"],
K,H)),E);return J(this.parsedUrl,B,this.sourceSpatialReference,E)}async executeForTopIds(B,E){const {executeForTopIds:J}=await n.whenOrAbort(new Promise((K,H)=>a(["../../../../rest/query/executeForTopIds"],K,H)),E);return J(this.parsedUrl,B,E)}async executeForTopExtents(B,E){const {executeForTopExtents:J}=await n.whenOrAbort(new Promise((K,H)=>a(["../../../../rest/query/executeForTopExtents"],K,H)),E);return J(this.parsedUrl,B,E)}async executeForTopCount(B,E){const {executeForTopCount:J}=await n.whenOrAbort(new Promise((K,
H)=>a(["../../../../rest/query/executeForTopCount"],K,H)),E);return J(this.parsedUrl,B,E)}_normalizeQuery(B){let E=x.from(B);E.sourceSpatialReference=E.sourceSpatialReference||this.sourceSpatialReference;if(this.gdbVersion||this.dynamicDataSource)E=E===B?E.clone():E,E.gdbVersion=B.gdbVersion||this.gdbVersion,E.dynamicDataSource=B.dynamicDataSource?l.DataLayerSource.from(B.dynamicDataSource):this.dynamicDataSource;const {infoFor3D:J}=this;if(null!=J&&this._queryIs3DObjectFormat(B)){E=E===B?E.clone():
E;E.formatOf3DObjects=p.getGltfQueryFormat(J);if(!E.formatOf3DObjects)throw new f("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(E.outSpatialReference&&!u.equals(E.outSpatialReference,this.sourceSpatialReference))throw new f("query:unsupported-out-spatial-reference","3D object feature services do not support projection of geometries");if(null==E.outFields||!E.outFields.includes("*")){E=E===B?E.clone():E;
null==E.outFields&&(E.outFields=[]);const {originX:K,originY:H,originZ:F,translationX:N,translationY:S,translationZ:W,scaleX:L,scaleY:P,scaleZ:X,rotationX:D,rotationY:R,rotationZ:Y,rotationDeg:ja}=J.transformFieldRoles;E.outFields.push(K,H,F,N,S,W,L,P,X,D,R,Y,ja)}}return E}_normalizeFields(B){if(null!=this.fieldsIndex&&null!=B)for(const E of B)(B=this.fieldsIndex.get(E.name))&&Object.assign(E,B.toJSON())}_queryIs3DObjectFormat(B){return null!=this.infoFor3D&&!0===B.returnGeometry&&"xyFootprint"!==
B.multipatchOption&&!B.outStatistics}};b.__decorate([e.property({type:l.DataLayerSource})],c.prototype,"dynamicDataSource",void 0);b.__decorate([e.property()],c.prototype,"fieldsIndex",void 0);b.__decorate([e.property()],c.prototype,"gdbVersion",void 0);b.__decorate([e.property()],c.prototype,"infoFor3D",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"parsedUrl",null);b.__decorate([e.property()],c.prototype,"pbfSupported",void 0);b.__decorate([e.property()],c.prototype,"queryAttachmentsSupported",
void 0);b.__decorate([e.property()],c.prototype,"sourceSpatialReference",void 0);b.__decorate([e.property({type:String})],c.prototype,"url",void 0);return c=b.__decorate([r.subclass("esri.layers.graphics.sources.support.QueryTask")],c)})},"esri/rest/query/executeForCount":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,c,f){a.executeForCount=async function(d,n,q){d=b.parseUrl(d);({data:n}=await c.executeQueryForCount(d,f.from(n),q));return n.count};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../request ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),function(a,b,c,f,d,n,q,e,g){function h(l,m){if(m&&"extent"===l.type)return`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`;if(m&&"point"===l.type)return`${l.x},${l.y}`;l=l.toJSON();
delete l.spatialReference;return JSON.stringify(l)}function r(l,m){const v=l.geometry,A=l.toJSON();delete A.compactGeometryEnabled;delete A.defaultSpatialReferenceEnabled;let t,w,z;null!=v&&(w=v.spatialReference,z=n.srToRESTValue(w),A.geometryType=f.getJsonType(v),A.geometry=h(v,l.compactGeometryEnabled),A.inSR=z);A.groupByFieldsForStatistics&&(A.groupByFieldsForStatistics=A.groupByFieldsForStatistics.join(","));A.objectIds&&(A.objectIds=A.objectIds.join(","));A.orderByFields&&(A.orderByFields=A.orderByFields.join(","));
!A.outFields||!A.returnDistinctValues&&(m?.returnCountOnly||m?.returnExtentOnly||m?.returnIdsOnly)?delete A.outFields:A.outFields.includes("*")?A.outFields="*":A.outFields=A.outFields.join(",");A.outSR?(A.outSR=n.srToRESTValue(A.outSR),t=l.outSpatialReference):v&&(A.returnGeometry||A.returnCentroid)&&(A.outSR=A.inSR,t=w);A.returnGeometry&&delete A.returnGeometry;A.outStatistics&&(A.outStatistics=JSON.stringify(A.outStatistics));A.fullText&&(A.fullText=JSON.stringify(A.fullText));A.pixelSize&&(A.pixelSize=
JSON.stringify(A.pixelSize));A.quantizationParameters&&(l.defaultSpatialReferenceEnabled&&null!=w&&null!=l.quantizationParameters?.extent&&w.equals(l.quantizationParameters.extent.spatialReference)&&delete A.quantizationParameters.extent.spatialReference,A.quantizationParameters=JSON.stringify(A.quantizationParameters));A.parameterValues&&(A.parameterValues=JSON.stringify(A.parameterValues));A.rangeValues&&(A.rangeValues=JSON.stringify(A.rangeValues));A.dynamicDataSource&&(A.layer=JSON.stringify({source:A.dynamicDataSource}),
delete A.dynamicDataSource);if(A.timeExtent){const {start:k,end:x}=A.timeExtent;if(null!=k||null!=x)A.time=k===x?k:`${null==k?"null":k},${null==x?"null":x}`;delete A.timeExtent}l.defaultSpatialReferenceEnabled&&null!=w&&null!=t&&w.equals(t)&&(A.defaultSR=A.inSR,delete A.inSR,delete A.outSR);return A}function u(l,m,v){return p(l,m,"pbf",v)}async function p(l,m,v,A={},t={}){l="string"===typeof l?c.urlToObject(l):l;var w=(await d.normalizeCentralMeridian(m.geometry?[m.geometry]:[],null,{signal:A.signal}))?.[0];
null!=w&&(m=m.clone(),m.geometry=w);w=q.mapParameters({...l.query,f:v,...t,...r(m,t)});return b(c.join(l.path,null==m.formatOf3DObjects||t.returnCountOnly||t.returnExtentOnly||t.returnIdsOnly?"query":"query3d"),{...A,responseType:"pbf"===v?"array-buffer":"json",query:{...w,...A.query}})}a.encodeGeometry=h;a.executeQuery=async function(l,m,v,A){l=null!=m.timeExtent&&m.timeExtent.isEmpty?{data:{features:[]}}:await p(l,m,"json",A);g.applyFeatureSetZUnitScaling(m,v,l.data);return l};a.executeQueryForCount=
function(l,m,v){return null!=m.timeExtent&&m.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):p(l,m,"json",v,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=async function(l,m,v){if(null!=m.timeExtent&&m.timeExtent.isEmpty)return{data:{count:0,extent:null}};l=await p(l,m,"json",v,{returnExtentOnly:!0,returnCountOnly:!0});m=l.data;if(m.hasOwnProperty("extent"))return l;if(m.features)throw Error("Layer does not support extent calculation.");if(m.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");
return l};a.executeQueryForIds=function(l,m,v){return null!=m.timeExtent&&m.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):p(l,m,"json",v,{returnIdsOnly:!0})};a.executeQueryPBF=async function(l,m,v,A){if(null!=m.timeExtent&&m.timeExtent.isEmpty)return{data:v.createFeatureResult()};l=await u(l,m,A);l.data=e.parsePBFFeatureQuery(l.data,v);return l};a.executeQueryPBFBuffer=u;a.queryToQueryStringParameters=r;a.runQuery=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],
function(a){function b(c){const f={};for(const d in c){if("declaredClass"===d)continue;const n=c[d];if(null!=n&&"function"!==typeof n)if(Array.isArray(n)){f[d]=[];for(let q=0;q<n.length;q++)f[d][q]=b(n[q])}else"object"===typeof n?n.toJSON&&(f[d]=JSON.stringify(n)):f[d]=n}return f}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=
function(c,f){var d=b.parseFeatureQuery(c,f);c=d.queryResult.featureResult;f=d.queryResult.queryGeometry;d=d.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const n=c.objectIdFieldName;for(const q of c.features)q.attributes&&(q.objectId=q.attributes[n])}c&&(c.queryGeometry=f,c.queryGeometryType=d);return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error",
"../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(a,b,c,f,d){function n(B){return B>=k.length?null:k[B]}function q(B,E,J){B=B.asUnsafe();for(J=E.createPointGeometry(J);B.next();)switch(B.tag()){case 3:var K=B.getUInt32();K=B.pos()+K;let H=0;for(;B.pos()<K;)E.addCoordinatePoint(J,B.getSInt64(),H++);break;default:B.skip()}return J}function e(B,E,J){B=B.asUnsafe();const K=E.createGeometry(J);for(J=2+(J.hasZ?1:0)+(J.hasM?1:0);B.next();)switch(B.tag()){case 2:var H=
B.getUInt32();H=B.pos()+H;for(var F=0;B.pos()<H;)E.addLength(K,B.getUInt32(),F++);break;case 3:H=B.getUInt32();H=B.pos()+H;F=0;for(E.allocateCoordinates(K);B.pos()<H;)E.addCoordinate(K,B.getSInt64(),F),F++,F===J&&(F=0);break;default:B.skip()}return K}function g(B){B=B.asUnsafe();const E=new f;let J="esriGeometryPoint";for(;B.next();)switch(B.tag()){case 2:var K=B.getUInt32();for(K=B.pos()+K;B.pos()<K;)E.lengths.push(B.getUInt32());break;case 3:K=B.getUInt32();for(K=B.pos()+K;B.pos()<K;)E.coords.push(B.getSInt64());
break;case 1:J=d.optimizedGeometryTypes[B.getEnum()];break;default:B.skip()}return{queryGeometry:E,queryGeometryType:J}}function h(B){for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:return B.getString();case 2:return B.getFloat();case 3:return B.getDouble();case 4:return B.getSInt32();case 5:return B.getUInt32();case 6:return B.getInt64();case 7:return B.getUInt64();case 8:return B.getSInt64();case 9:return B.getBool();default:return B.skip(),null}return null}function r(B){B=B.asUnsafe();const E=
{type:n(0)};for(;B.next();)switch(B.tag()){case 1:E.name=B.getString();break;case 2:E.type=n(B.getEnum());break;case 3:E.alias=B.getString();break;case 4:var J=B.getEnum();J=J>=x.length?null:x[J];E.sqlType=J;break;case 5:B.skip();break;case 6:E.defaultValue=B.getString();break;default:B.skip()}return E}function u(B){const E={};for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:E.name=B.getString();break;case 2:E.isSystemMaintained=B.getBool();break;default:B.skip()}return E}function p(B,E,J,K){const H=
E.createFeature(J);let F=0;for(;B.next();)switch(B.tag()){case 1:const N=K[F++].name;H.attributes[N]=B.processMessage(h);break;case 2:H.geometry=B.processMessageWithArgs(e,E,J);break;case 4:H.centroid=B.processMessageWithArgs(q,E,J);break;default:B.skip()}return H}function l(B){const E=[1,1,1,1];for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:E[0]=B.getDouble();break;case 2:E[1]=B.getDouble();break;case 4:E[2]=B.getDouble();break;case 3:E[3]=B.getDouble();break;default:B.skip()}return E}function m(B){const E=
[0,0,0,0];for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:E[0]=B.getDouble();break;case 2:E[1]=B.getDouble();break;case 4:E[2]=B.getDouble();break;case 3:E[3]=B.getDouble();break;default:B.skip()}return E}function v(B){const E={originPosition:0>=y.length?null:y[0]};for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:var J=B.getEnum();E.originPosition=J>=y.length?null:y[J];break;case 2:E.scale=B.processMessage(l);break;case 3:E.translate=B.processMessage(m);break;default:B.skip()}return E}function A(B){const E=
{};for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:E.shapeAreaFieldName=B.getString();break;case 2:E.shapeLengthFieldName=B.getString();break;case 3:E.units=B.getString();break;default:B.skip()}return E}function t(B,E){for(E=E.createSpatialReference();B.next();)switch(B.tag()){case 1:E.wkid=B.getUInt32();break;case 5:E.wkt=B.getString();break;case 2:E.latestWkid=B.getUInt32();break;case 3:E.vcsWkid=B.getUInt32();break;case 4:E.latestVcsWkid=B.getUInt32();break;default:B.skip()}return E}function w(B,
E){const J=E.createFeatureResult();B=B.asUnsafe();J.geometryType=0>=E.geometryTypes.length?null:E.geometryTypes[0];let K=!1;for(;B.next();)switch(B.tag()){case 1:J.objectIdFieldName=B.getString();break;case 3:J.globalIdFieldName=B.getString();break;case 4:J.geohashFieldName=B.getString();break;case 5:J.geometryProperties=B.processMessage(A);break;case 7:var H=B.getEnum();J.geometryType=H>=E.geometryTypes.length?null:E.geometryTypes[H];break;case 8:J.spatialReference=B.processMessageWithArgs(t,E);
break;case 10:J.hasZ=B.getBool();break;case 11:J.hasM=B.getBool();break;case 12:J.transform=B.processMessage(v);break;case 9:J.exceededTransferLimit=B.getBool();break;case 13:E.addField(J,B.processMessage(r));break;case 15:K||(E.prepareFeatures(J),K=!0);E.addFeature(J,B.processMessageWithArgs(p,E,J,J.fields));break;case 2:J.uniqueIdField=B.processMessage(u);break;default:B.skip()}E.finishFeatureResult(J);return J}function z(B,E){const J={};let K=null;for(;B.next();)switch(B.tag()){case 4:K=B.processMessageWithArgs(g);
break;case 1:J.featureResult=B.processMessageWithArgs(w,E);break;default:B.skip()}null!=K&&J.featureResult&&E.addQueryGeometry(J,K);return J}const k="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
x="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),y=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(B,E){try{const J=new c(new Uint8Array(B),new DataView(B));
for(B={};J.next();)switch(J.tag()){case 2:B.queryResult=J.processMessageWithArgs(z,E);break;default:J.skip()}return B}catch(J){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:J});}};a.parseField=r;a.parseFieldType=n;a.parseTransform=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["./has","./memoryEstimations","./ObjectPool"],function(a,b,c){var f;(function(e){e[e.varint=0]="varint";e[e.fixed64=1]="fixed64";e[e.delimited=
2]="delimited";e[e.fixed32=5]="fixed32";e[e.unknown=99]="unknown"})(f||={});const d=new TextDecoder("utf-8"),n=a("safari")||a("ios")?6:a("ff")?12:32;class q{constructor(e,g,h=0,r=e?e.byteLength:0){this._tag=0;this._dataType=f.unknown;this._init(e,g,h,r)}_init(e,g,h,r){this._data=e;this._dataView=g;this._pos=h;this._end=r}get usedMemory(){return 64+b.estimateNumberArrayMemory(this._data)}asUnsafe(){return this}clone(){return new q(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(e){this._pos=
e}nextTag(e){for(;;){if(this._pos===this._end)return!1;const g=this._decodeVarint();this._tag=g>>3;this._dataType=g&7;if(!e||e===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const e=this._decodeVarint();this._tag=e>>3;this._dataType=e&7;return!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let e=4294967295;e=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return e;
e=(e|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return e;e=(e|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return e;e=(e|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return e;e=(e|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return e;throw Error("Varint overflow");}getUInt64(){return this._decodeVarint()}getSInt32(){const e=this.getUInt32();return e>>>1^-(e&1)|0}getSInt64(){return this._decodeSVarint()}getBool(){const e=
0!==this._data[this._pos];this._skip(1);return e}getEnum(){return this._decodeVarint()}getFixed64(){var e=this._dataView;const g=this._pos;e=e.getUint32(g,!0)+4294967296*e.getUint32(g+4,!0);this._skip(8);return e}getSFixed64(){var e=this._dataView;const g=this._pos;e=e.getUint32(g,!0)+4294967296*e.getInt32(g+4,!0);this._skip(8);return e}getDouble(){const e=this._dataView.getFloat64(this._pos,!0);this._skip(8);return e}getFixed32(){const e=this._dataView.getUint32(this._pos,!0);this._skip(4);return e}getSFixed32(){const e=
this._dataView.getInt32(this._pos,!0);this._skip(4);return e}getFloat(){const e=this._dataView.getFloat32(this._pos,!0);this._skip(4);return e}getString(){const e=this._getLength();var g=this._pos;g=this._toString(this._data,g,g+e);this._skip(e);return g}getBytes(){const e=this._getLength();var g=this._pos;g=this._toBytes(this._data,g,g+e);this._skip(e);return g}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(e,g,h,r){const u=this.getMessage();e=e(u,g,h,r);u.release();return e}processMessage(e){const g=
this.getMessage();e=e(g);g.release();return e}getMessage(){const e=this._getLength(),g=q.pool.acquire();g._init(this._data,this._dataView,this._pos,this._pos+e);this._skip(e);return g}release(){q.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case f.varint:this._decodeVarint();break;case f.fixed64:this._skip(8);break;case f.delimited:this._skip(this._getLength());break;case f.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}}skipLen(e){this._skip(e)}_skip(e){if(this._pos+
e>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=e}_decodeVarint(){const e=this._data;let g=this._pos,h=0,r=0;if(10<=this._end-g){if(r=e[g++],h|=r&127,0!==(r&128)&&(r=e[g++],h|=(r&127)<<7,0!==(r&128)&&(r=e[g++],h|=(r&127)<<14,0!==(r&128)&&(r=e[g++],h|=(r&127)<<21,0!==(r&128)&&(r=e[g++],h+=268435456*(r&127),0!==(r&128)&&(r=e[g++],h+=34359738368*(r&127),0!==(r&128)&&(r=e[g++],h+=4398046511104*(r&127),0!==(r&128)&&(r=e[g++],h+=562949953421312*(r&127),0!==(r&128)&&(r=e[g++],
h+=72057594037927936*(r&127),0!==(r&128)&&(r=e[g++],h+=0x7fffffffffffffff*(r&127),0!==(r&128)))))))))))throw Error("Varint too long!");}else{let u=1;for(;g!==this._end;){r=e[g];if(0===(r&128))break;++g;h+=(r&127)*u;u*=128}if(g===this._end)throw Error("Varint overrun!");++g;h+=r*u}this._pos=g;return h}_decodeSVarint(){const e=this._data;let g=0;const h=e[this._pos]&1;g=e[this._pos++];var r=0|g&127;if(0===(g&128))return h?-(r+1)/2:r/2;g=e[this._pos++];r|=(g&127)<<7;if(0===(g&128))return h?-(r+1)/2:
r/2;g=e[this._pos++];r|=(g&127)<<14;if(0===(g&128))return h?-(r+1)/2:r/2;g=e[this._pos++];r|=(g&127)<<21;if(0===(g&128))return h?-(r+1)/2:r/2;g=e[this._pos++];r+=268435456*(g&127);if(0===(g&128))return h?-(r+1)/2:r/2;g=e[this._pos++];r+=34359738368*(g&127);if(0===(g&128))return h?-(r+1)/2:r/2;g=e[this._pos++];r+=4398046511104*(g&127);if(0===(g&128))return h?-(r+1)/2:r/2;r=BigInt(r);g=e[this._pos++];r+=562949953421312n*BigInt(g&127);if(0===(g&128))return Number(h?-(r+1n)/2n:r/2n);g=e[this._pos++];
r+=72057594037927936n*BigInt(g&127);if(0===(g&128))return Number(h?-(r+1n)/2n:r/2n);g=e[this._pos++];r+=9223372036854775808n*BigInt(g&127);if(0===(g&128))return Number(h?-(r+1n)/2n:r/2n);throw Error("Varint too long!");}_getLength(){if(this._dataType!==f.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(e,g,h){h=Math.min(this._end,h);if(h-g>n)return e=e.subarray(g,h),d.decode(e);let r="",u="";for(;g<h;++g){const p=
e[g];p&128?u+="%"+p.toString(16):(r+=decodeURIComponent(u)+String.fromCharCode(p),u="")}u.length&&(r+=decodeURIComponent(u));return r}_toBytes(e,g,h){h=Math.min(this._end,h);return new Uint8Array(e.buffer,g,h-g)}}q.pool=new c(q,void 0,e=>{e._data=null;e._dataView=null});return q})},"esri/core/memoryEstimations":function(){define(["exports","./typedArrayUtil"],function(a,b){function c(e){return 32+e.length}function f(e){if(!e)return 0;if("number"===typeof e[0])return n(e);if(Array.isArray(e)){var g=
e.length;if(0===g||"number"===typeof e[0])e=q(e,8);else{var h=16;for(let r=0;r<g;r++)h+=d(e[r]);e=h}return e}h=32;for(g in e)e.hasOwnProperty(g)&&(h+=d(e[g]));return h}function d(e,g=!0){switch(typeof e){case "object":return g?f(e):32;case "string":return c(e);case "number":return 16;case "boolean":return 4;default:return 8}}function n(...e){return e.reduce((g,h)=>g+(h?b.isTypedArray(h)?h.byteLength+145:Array.isArray(h)?q(h,16):0:0),0)}function q(e,g){return 16+e.length*g}a.baseArrayMemory=16;a.baseObjectMemory=
32;a.baseTypedArrayMemory=145;a.estimateAttributesMemory=function(e){if(!e)return 0;let g=32;for(const h in e)e.hasOwnProperty(h)&&(g+=d(e[h],!1));return g};a.estimateFixedArrayMemory=q;a.estimateNestedObjectMemory=f;a.estimateNumberArrayMemory=n;a.estimateNumberMemory=16;a.estimateStringMemory=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../core/memoryEstimations"],function(a){class b{constructor(c=[],f=[]){this.lengths=
c??[];this.coords=f??[]}static fromJSON(c){return new b(c.lengths,c.coords)}static fromRect(c){const [f,d,n,q]=c;c=n-f;const e=q-d;return new b([5],[f,d,c,0,0,e,-c,0,0,-e])}get isPoint(){return 0===this.lengths.length&&2<=this.coords.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((c,f)=>c+f)}get usedMemory(){return 64+a.estimateNumberArrayMemory(this.lengths,this.coords)}area(){let c=0,f=0;if(!this.lengths.length)return 0;for(let d=0;d<this.lengths.length;d++){const n=
this.lengths[d];if(3>n)continue;let q=this.coords[2*f],e=this.coords[2*f+1];for(let g=1;g<n;g+=1){const h=this.coords[2*(g+f)],r=this.coords[2*(g+f)+1];c+=-.5*(h-q)*(r+e);q=h;e=r}f+=n}return c}forEachVertex(c){let f=0;this.lengths.length||c(this.coords[0],this.coords[1]);for(let d=0;d<this.lengths.length;d++){const n=this.lengths[d];for(let q=0;q<n;q++)c(this.coords[2*(q+f)],this.coords[2*(q+f)+1]);f+=n}}deltaDecode(){const c=this.clone(),{coords:f,lengths:d}=c;let n=0;for(const q of d){for(let e=
1;e<q;e++)f[2*(n+e)]+=f[2*(n+e)-2],f[2*(n+e)+1]+=f[2*(n+e)-1];n+=q}return c}clone(c){if(0===this.lengths.length)return new b([],[this.coords[0],this.coords[1]]);var f=2*(0===this.lengths.length?1:this.lengths.reduce((d,n)=>d+n));f=this.coords.slice(0,f);return c?(c.set(f),new b(this.lengths,c)):new b(Array.from(this.lengths),Array.from(f))}}return b})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(a,b,c,f,d,n){const q=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class e{constructor(g){this._options=g;this.geometryTypes=q;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new d}prepareFeatures(g){this._vertexDimension=2;g.hasZ&&this._vertexDimension++;g.hasM&&this._vertexDimension++}finishFeatureResult(g){if(g?.features&&g.hasZ&&this._options.sourceSpatialReference&&g.spatialReference&&!c.equals(g.spatialReference,
this._options.sourceSpatialReference)&&!g.spatialReference.vcsWkid){var h=b.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),r=b.getMetersPerVerticalUnitForSR(g.spatialReference);h/=r;if(1!==h)for(const u of g.features)if(f.hasGeometry(u))for(g=u.geometry.coords,r=2;r<g.length;r+=3)g[r]*=h}}addFeature(g,h){g.features.push(h)}createFeature(){return new f.OptimizedFeature(null,{},null,0)}createSpatialReference(){return{wkid:0}}createGeometry(){return new n}addField(g,h){g.fields.push(h)}allocateCoordinates(g){g.coords.length=
g.lengths.reduce((h,r)=>h+r,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(g,h){g.coords[this._coordinatePtr++]=h}addCoordinatePoint(g,h){g.coords.push(h)}addLength(g,h){g.lengths.push(h)}addQueryGeometry(g,h){g.queryGeometry=h.queryGeometry;g.queryGeometryType=h.queryGeometryType}createPointGeometry(){return new n}}a.OptimizedFeatureSetParserContext=e;a.optimizedGeometryTypes=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports",
"../../core/memoryEstimations","./centroid","./OptimizedGeometry"],function(a,b,c,f){class d{constructor(q=null,e={},g,h,r=0){this.geometry=q;this.attributes=e;this.centroid=g;this.objectId=h;this.displayId=r}static fromJSON(q){const e=q.geometry?f.fromJSON(q.geometry):null,g=q.centroid?f.fromJSON(q.centroid):null;return new d(e,q.attributes,g,q.objectId)}weakClone(){const q=new d(this.geometry,this.attributes,this.centroid,this.objectId);q.displayId=this.displayId;return q}clone(){var q=this.geometry?.clone();
q=new d(q,{...this.attributes},this.centroid?.clone(),this.objectId);q.displayId=this.displayId;return q}ensureCentroid(q){this.centroid??(this.centroid=c.getCentroidOptimizedGeometry(new f,this.geometry,q.hasZ,q.hasM));return this.centroid}get usedMemory(){return 128+b.estimateAttributesMemory(this.attributes)+(this.geometry?.usedMemory??0)}}class n extends d{}a.OptimizedFeature=d;a.OptimizedFeatureWithGeometry=n;a.hasGeometry=function(q){return!!q.geometry?.coords?.length};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/centroid":function(){define(["exports"],function(a){function b(f,d,n,q,e,g){g=e?g?4:3:g?3:2;let h=n,r=n+g,u=0,p=0,l=n=0,m=0;for(let v=0,A=q-1;v<A;v++,h+=g,r+=g){q=d[h];const t=d[h+1],w=d[h+2],z=d[r],k=d[r+1],x=d[r+2];let y=q*k-z*t;l+=y;u+=(q+z)*y;p+=(t+k)*y;e&&(y=q*x-z*w,n+=(w+x)*y,m+=y);q<f[0]&&(f[0]=q);q>f[1]&&(f[1]=q);t<f[2]&&(f[2]=t);t>f[3]&&(f[3]=t);e&&(w<f[4]&&(f[4]=w),w>f[5]&&(f[5]=w))}0<l&&(l*=-1);0<m&&(m*=-1);if(!l)return null;
f=[u,p,.5*l];e&&(f[3]=n,f[4]=.5*m);return f}function c(f,d,n,q,e){e=q?e?4:3:e?3:2;let g=d,h=d+e,r=0,u=0,p=0,l=0;for(let t=0,w=n-1;t<w;t++,g+=e,h+=e){var m=f[g];const z=f[g+1],k=f[g+2],x=f[h],y=f[h+1],B=f[h+2];if(q){var v=x-m;var A=y-z;const E=B-k;v=Math.sqrt(v*v+A*A+E*E)}else v=x-m,A=y-z,v=Math.sqrt(v*v+A*A);v&&(r+=v,q?(m=[m+.5*(x-m),z+.5*(y-z),k+.5*(B-k)],u+=v*m[0],p+=v*m[1],l+=v*m[2]):(m=[m+.5*(x-m),z+.5*(y-z)],u+=v*m[0],p+=v*m[1]))}return 0<r?q?[u/r,p/r,l/r]:[u/r,p/r]:0<n?q?[f[d],f[d+1],f[d+2]]:
[f[d],f[d+1]]:null}a.getCentroidOptimizedGeometry=function(f,d,n,q){if(!d?.lengths.length)return null;f.lengths.length&&(f.lengths.length=0);f.coords.length&&(f.coords.length=0);const e=f.coords,g=[],h=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:r,coords:u}=d;var p=n?q?4:3:q?3:2;
let l=0;for(const m of r){const v=b(h,u,l,m,n,q);v&&g.push(v);l+=m*p}g.sort((m,v)=>{let A=m[2]-v[2];0===A&&n&&(A=m[4]-v[4]);return A});g.length&&(p=6*g[0][2],e[0]=g[0][0]/p,e[1]=g[0][1]/p,n&&(p=6*g[0][4],e[2]=0!==p?g[0][3]/p:0),e[0]<h[0]||e[0]>h[1]||e[1]<h[2]||e[1]>h[3]||n&&(e[2]<h[4]||e[2]>h[5]))&&(e.length=0);if(!e.length)if(d=d.lengths[0]?c(u,0,r[0],n,q):null)e[0]=d[0],e[1]=d[1],n&&2<d.length&&(e[2]=d[2]);else return null;return f};a.lineCentroid=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class a{constructor(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=this.globalIdFieldName;
b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b}}return a})},"esri/rest/query/executeForExtent":function(){define(["exports",
"../../geometry/Extent","../utils","./operations/query","../support/Query"],function(a,b,c,f,d){a.executeForExtent=async function(n,q,e){n=c.parseUrl(n);q=await f.executeQueryForExtent(n,d.from(q),{...e});e=q.data.extent;return!e||isNaN(e.xmin)||isNaN(e.ymin)||isNaN(e.xmax)||isNaN(e.ymax)?{count:q.data.count,extent:null}:{count:q.data.count,extent:b.fromJSON(e)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../utils",
"./operations/query","../support/Query"],function(a,b,c,f){a.executeForIds=async function(d,n,q){d=b.parseUrl(d);({data:n}=await c.executeQueryForIds(d,f.from(n),q));return n.objectIds??[]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define(["exports","../utils","./operations/query","../support/FeatureSet","../support/Query"],function(a,b,c,f,d){async function n(q,e,g){q=b.parseUrl(q);g={...g};e=d.from(e);({data:e}=await c.executeQuery(q,
e,e.sourceSpatialReference,g));return e}a.executeQueryJSON=async function(q,e,g){q=await n(q,e,g);return f.fromJSON(q)};a.executeRawQueryJSON=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,f,d,n){async function q(e,g,h){e=b.parseUrl(e);h={...h};g=n.from(g);({data:g}=await f.executeQueryPBF(e,g,new c.JSONFeatureSetParserContext({sourceSpatialReference:g.sourceSpatialReference,
applyTransform:!g.quantizationParameters}),h));return g}a.executeQueryPBF=async function(e,g,h){e=await q(e,n.from(g),h);return d.fromJSON(e)};a.executeRawQueryPBF=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,c,f){function d(p,l){return l}function n(p,l,m,v){switch(m){case 0:return h(p,
l+v,0);case 1:return"lowerLeft"===p.originPosition?h(p,l+v,1):r(p,l+v,1)}}function q(p,l,m,v){switch(m){case 2:return h(p,l,2);default:return n(p,l,m,v)}}function e(p,l,m,v){switch(m){case 2:return 0===l?0:h(p,l,3);default:return n(p,l,m,v)}}function g(p,l,m,v){switch(m){case 3:return 0===l?0:h(p,l,3);default:return q(p,l,m,v)}}function h({translate:p,scale:l},m,v){return p[v]+m*l[v]}function r({translate:p,scale:l},m,v){return p[v]-m*l[v]}class u{constructor(p){this._options=p;this.geometryTypes=
["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=d;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=this._mValueOffset=null;this._coordinateBufferPtr=0;this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(p){this._options.applyTransform&&(p.transform=null);this._attributesConstructor=
class{};this._coordinateBuffer=null;this._lengths.length=0;if(p.hasZ){var l=c.getGeometryZScaler(p.geometryType,this._options.sourceSpatialReference,p.spatialReference);if(null!=l)for(const m of p.features)l(m.geometry)}}createSpatialReference(){return{}}addField(p,l){p=p.fields;b.assertIsSome(p);p.push(l);const m=p.map(v=>v.name);this._attributesConstructor=function(){for(const v of m)this[v]=null}}addFeature(p,l){p.features.push(l)}prepareFeatures(p){this._transform=p.transform;this._options.applyTransform&&
p.transform&&(this._applyTransform=this._deriveApplyTransform(p));this._mValueOffset=null;this._vertexDimension=2;p.hasZ&&this._vertexDimension++;p.hasM&&(this._mValueOffset=this._vertexDimension,this._vertexDimension++);switch(p.geometryType){case "esriGeometryPoint":this.addCoordinate=(l,m,v)=>this.addCoordinatePoint(l,m,v);this.createGeometry=l=>this.createPointGeometry(l);break;case "esriGeometryPolygon":this.addCoordinate=(l,m,v)=>this._addCoordinatePolygon(l,m,v);this.createGeometry=l=>this._createPolygonGeometry(l);
break;case "esriGeometryPolyline":this.addCoordinate=(l,m,v)=>this._addCoordinatePolyline(l,m,v);this.createGeometry=l=>this._createPolylineGeometry(l);break;case "esriGeometryMultipoint":this.addCoordinate=(l,m,v)=>this._addCoordinateMultipoint(l,m,v),this.createGeometry=l=>this._createMultipointGeometry(l)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(p,
l,m){0===this._lengths.length&&(this._toAddInCurrentPath=l);this._lengths.push(l)}addQueryGeometry(p,l){const {queryGeometry:m,queryGeometryType:v}=l;l=this._transform?f.unquantizeOptimizedGeometry(m.clone(),m,!1,!1,this._transform):m.clone();l=f.convertToGeometry(l,v,!1,!1);p.queryGeometryType=v;p.queryGeometry={...l}}createPointGeometry(p){const l={x:0,y:0,spatialReference:p.spatialReference};p.hasZ&&(l.z=0);p.hasM&&(l.m=0);return l}addCoordinatePoint(p,l,m){l=this._applyTransform(this._transform,
l,m,0);switch(m){case 0:p.x=l;break;case 1:p.y=l;break;case 2:"z"in p?p.z=l:p.m=l;break;case 3:p.m=l}}_transformPathLikeValue(p,l){let m=0;1>=l&&(m=this._previousCoordinate[l],this._previousCoordinate[l]+=p);return null!==this._mValueOffset&&0===p&&0<l&&!(l%this._mValueOffset)?0:this._applyTransform(this._transform,p,l,m)}_addCoordinatePolyline(p,l,m){this._dehydratedAddPointsCoordinate(p.paths,l,m)}_addCoordinatePolygon(p,l,m){this._dehydratedAddPointsCoordinate(p.rings,l,m)}_addCoordinateMultipoint(p,
l,m){0===m&&p.points.push([]);l=this._transformPathLikeValue(l,m);p.points[p.points.length-1].push(l)}_createPolygonGeometry(p){return{rings:[[]],spatialReference:p.spatialReference,hasZ:!!p.hasZ,hasM:!!p.hasM}}_createPolylineGeometry(p){return{paths:[[]],spatialReference:p.spatialReference,hasZ:!!p.hasZ,hasM:!!p.hasM}}_createMultipointGeometry(p){return{points:[],spatialReference:p.spatialReference,hasZ:!!p.hasZ,hasM:!!p.hasM}}_dehydratedAddPointsCoordinate(p,l,m){0===m&&0===this._toAddInCurrentPath--&&
(p.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);l=this._transformPathLikeValue(l,m);p=p[p.length-1];0===m&&(this._coordinateBufferPtr=0,this._coordinateBuffer=Array(this._vertexDimension),p.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=l}_deriveApplyTransform(p){const {hasZ:l,hasM:m}=p;return l&&m?g:l?q:m?e:n}}a.JSONFeatureSetParserContext=u;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(a,b,c,f,d,n,q,e,g,h){function r(Z,T){return Z?T?4:3:T?3:2}function u(Z,T,I,U){if(Z){if(I)return T&&U?ta:Q;if(T&&U)return fa}else if(T&&U)return Q;return G}function p({scale:Z,
translate:T},I){return Math.round((I-T[0])/Z[0])}function l({scale:Z,translate:T},I){return Math.round((T[1]-I)/Z[1])}function m({scale:Z,translate:T},I){return Math.round((I-T[0])/Z[0])}function v({scale:Z,translate:T},I){return Math.round((I-T[1])/Z[1])}function A({scale:Z,translate:T},I,U){return I*Z[U]+T[U]}function t(Z){Z=Z.coords;return{x:Z[0],y:Z[1]}}function w(Z,T){Z.coords[0]=T.x;Z.coords[1]=T.y;return Z}function z(Z){Z=Z.coords;return{x:Z[0],y:Z[1],z:Z[2]}}function k(Z,T){Z.coords[0]=T.x;
Z.coords[1]=T.y;Z.coords[2]=T.z;return Z}function x(Z){Z=Z.coords;return{x:Z[0],y:Z[1],m:Z[2]}}function y(Z,T){Z.coords[0]=T.x;Z.coords[1]=T.y;Z.coords[2]=T.m;return Z}function B(Z){Z=Z.coords;return{x:Z[0],y:Z[1],z:Z[2],m:Z[3]}}function E(Z,T){Z.coords[0]=T.x;Z.coords[1]=T.y;Z.coords[2]=T.z;Z.coords[3]=T.m;return Z}function J(Z,T){return Z&&T?E:Z?k:T?y:w}function K(Z,T,I,U,ea){I=J(I,U);for(const {geometry:ra,attributes:Ba}of T)T=null!=ra?I(new h,ra):null,Z.push(new e.OptimizedFeature(T,Ba,null,ea?
Ba[ea]:void 0));return Z}function H(Z,T,I=J(null!=T.z,null!=T.m)){return I(Z,T)}function F(Z,T,I,U){for(const {geometry:ea,attributes:ra}of T)Z.push({attributes:ra,geometry:null!=ea?N(ea,I,U):null});return Z}function N(Z,T,I){if(null==Z)return null;const U=r(T,I),ea=[];for(let ra=0;ra<Z.coords.length;ra+=U){const Ba=[];for(let La=0;La<U;La++)Ba.push(Z.coords[ra+La]);ea.push(Ba)}return T?I?{points:ea,hasZ:T,hasM:I}:{points:ea,hasZ:T}:I?{points:ea,hasM:I}:{points:ea}}function S(Z,T,I,U,ea){I=r(I,U);
for(const {geometry:ra,attributes:Ba}of T)T=null!=ra?W(new h,ra,I):null,Z.push(new e.OptimizedFeature(T,Ba,null,ea?Ba[ea]:void 0));return Z}function W(Z,T,I=r(T.hasZ,T.hasM)){Z.lengths[0]=T.points.length;const U=Z.coords;let ea=0;for(const ra of T.points)for(T=0;T<I;T++)U[ea++]=ra[T];return Z}function L(Z,T,I){if(!Z)return null;const U=r(T,I),{coords:ea,lengths:ra}=Z;Z=[];let Ba=0;for(const La of ra){const ca=[];for(let va=0;va<La;va++){const xa=[];for(let Da=0;Da<U;Da++)xa.push(ea[Ba++]);ca.push(xa)}Z.push(ca)}return T?
I?{paths:Z,hasZ:T,hasM:I}:{paths:Z,hasZ:T}:I?{paths:Z,hasM:I}:{paths:Z}}function P(Z,T,I,U,ea){I=r(I,U);for(const {geometry:ra,attributes:Ba,centroid:La}of T)T=null!=ra?X(new h,ra,I):null,U=null!=La?H(new h,La):null,Z.push(new e.OptimizedFeature(T,Ba,U,ea?Ba[ea]:void 0));return Z}function X(Z,T,I=r(T.hasZ,T.hasM)){const {lengths:U,coords:ea}=Z;let ra=0;for(const Ba of T.paths){for(const La of Ba)for(T=0;T<I;T++)ea[ra++]=La[T];U.push(Ba.length)}return Z}function D(Z,T,I){if(!Z)return null;const U=
r(T,I),{coords:ea,lengths:ra}=Z;Z=[];let Ba=0;for(const La of ra){const ca=[];for(let va=0;va<La;va++){const xa=[];for(let Da=0;Da<U;Da++)xa.push(ea[Ba++]);ca.push(xa)}Z.push(ca)}return T?I?{rings:Z,hasZ:T,hasM:I}:{rings:Z,hasZ:T}:I?{rings:Z,hasM:I}:{rings:Z}}function R(Z,T,I=T.hasZ,U=T.hasM){return Y(Z,T.rings,I,U)}function Y(Z,T,I,U){I=r(I,U);const {lengths:ea,coords:ra}=Z;U=0;ya(Z);for(const Ba of T){for(const La of Ba)for(T=0;T<I;T++)ra[U++]=La[T];ea.push(Ba.length)}return Z}function ja(Z,T,I,
U,ea,ra){V(Z);if(!I){for(const Ba of T)Z.push(new e.OptimizedFeature(null,Ba.attributes,null,ra?Ba.attributes[ra]:void 0));return Z}switch(I){case "esriGeometryPoint":return K(Z,T,U,ea,ra);case "esriGeometryMultipoint":return S(Z,T,U,ea,ra);case "esriGeometryPolyline":return P(Z,T,U,ea,ra);case "esriGeometryPolygon":case "esriGeometryMultiPatch":for(const {geometry:Ba,centroid:La,attributes:ca}of T)T=null!=Ba?R(new h,Ba,U,ea):null,I=ra?ca[ra]:void 0,null!=La?Z.push(new e.OptimizedFeature(T,ca,w(new h,
La),I)):Z.push(new e.OptimizedFeature(T,ca,null,I));break;default:ha().error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${I}'`)),V(Z)}return Z}function da(Z,T,I,U){Z=Z&&("coords"in Z?Z:Z.geometry);if(null==Z)return null;switch(T){case "esriGeometryPoint":return T=t,I&&U?T=B:I?T=z:U&&(T=x),T(Z);case "esriGeometryMultipoint":return N(Z,I,U);case "esriGeometryPolyline":return L(Z,I,U);case "esriGeometryPolygon":return D(Z,I,U);default:return ha().error("convertToGeometry:unknown-geometry",
new b(`Unable to parse unknown geometry type '${T}'`)),null}}function sa(Z,T,I,U,ea){V(Z);if(null==I){for(const Ba of T)Z.push({attributes:Ba.attributes});return Z}switch(I){case "esriGeometryPoint":I=t;U&&ea?I=B:U?I=z:ea&&(I=x);for(var ra of T){const {geometry:Ba,attributes:La}=ra;U=null!=Ba?I(Ba):null;Z.push({attributes:La,geometry:U})}break;case "esriGeometryMultipoint":return F(Z,T,U,ea);case "esriGeometryPolyline":for(const {geometry:Ba,attributes:La}of T)Z.push({attributes:La,geometry:null!=
Ba?L(Ba,U,ea):null});break;case "esriGeometryPolygon":for(const {geometry:Ba,attributes:La,centroid:ca}of T)ra=null!=Ba?D(Ba,U,ea):null,null!=ca?(T=t(ca),Z.push({attributes:La,centroid:T,geometry:ra})):Z.push({attributes:La,geometry:ra});break;default:ha().error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${I}'`))}return Z}function qa(Z,T,I,U,ea,ra,Ba=I,La=U){ya(Z);if(!T?.coords.length)return null;ea=ma[ea];const {coords:ca,lengths:va}=T;T=r(I,U);const xa=
r(I&&Ba,U&&La);I=u(I,U,Ba,La);if(!va.length)return I(Z.coords,ca,0,0,p(ra,ca[0]),l(ra,ca[1])),ya(Z,T,0),Z;let Da,Ha=0,na,wa=0;for(const Ma of va){if(Ma<ea)continue;let Ja=0;na=wa;La=U=p(ra,ca[Ha]);Da=Ba=l(ra,ca[Ha+1]);I(Z.coords,ca,na,Ha,La,Da);Ja++;Ha+=T;na+=xa;for(let Ua=1;Ua<Ma;Ua++,Ha+=T)if(La=p(ra,ca[Ha]),Da=l(ra,ca[Ha+1]),La!==U||Da!==Ba)I(Z.coords,ca,na,Ha,La-U,Da-Ba),na+=xa,Ja++,U=La,Ba=Da;Ja>=ea&&(Z.lengths.push(Ja),wa=na)}V(Z.coords,wa);return Z.coords.length?Z:null}function ia(Z,T,I,U,
ea,ra,Ba){let La=U,ca=0;for(let xa=ra+I;xa<Ba;xa+=I){var va=T[xa];const Da=T[xa+1],Ha=T[Ba],na=T[Ba+1];let wa=T[ra],Ma=T[ra+1],Ja=Ha-wa,Ua=na-Ma;if(0!==Ja||0!==Ua){const Ya=((va-wa)*Ja+(Da-Ma)*Ua)/(Ja*Ja+Ua*Ua);1<Ya?(wa=Ha,Ma=na):0<Ya&&(wa+=Ja*Ya,Ma+=Ua*Ya)}Ja=va-wa;Ua=Da-Ma;va=Ja*Ja+Ua*Ua;va>La&&(ca=xa,La=va)}La>U&&(ca-ra>I&&ia(Z,T,I,U,ea,ra,ca),ea(Z,T,Z.length,ca,T[ca],T[ca+1]),Ba-ca>I&&ia(Z,T,I,U,ea,ca,Ba))}function la(Z,T,I,U,ea){const {coords:ra,lengths:Ba}=T;I=r(I,U);if(!ra.length)return Z!==
T&&ya(Z),Z;f.assertIsSome(ea);const {originPosition:La,scale:ca,translate:va}=ea;ea=Ga;ea.originPosition=La;U=ea.scale;U[0]=ca[0]??1;U[1]=-(ca[1]??1);U[2]=ca[2]??1;U[3]=ca[3]??1;var xa=ea.translate;xa[0]=va[0]??0;xa[1]=va[1]??0;xa[2]=va[2]??0;xa[3]=va[3]??0;if(!Ba.length){for(U=0;U<I;++U)Z.coords[U]=A(ea,ra[U],U);Z!==T&&ya(Z,I,0);return Z}xa=0;for(let Ha=0;Ha<Ba.length;Ha++){const na=Ba[Ha];Z.lengths[Ha]=na;for(var Da=0;Da<I;++Da)Z.coords[xa+Da]=A(ea,ra[xa+Da],Da);Da=Z.coords[xa];let wa=Z.coords[xa+
1];xa+=I;for(let Ma=1;Ma<na;Ma++,xa+=I){Da+=ra[xa]*U[0];wa+=ra[xa+1]*U[1];Z.coords[xa]=Da;Z.coords[xa+1]=wa;for(let Ja=2;Ja<I;++Ja)Z.coords[xa+Ja]=A(ea,ra[xa+Ja],Ja)}}Z!==T&&ya(Z,ra.length,Ba.length);return Z}function ua(Z,T,I,U){let ea=0,ra=Z[U*T],Ba=Z[U*(T+1)];for(let La=1;La<I;La++){const ca=ra+Z[U*(T+La)],va=Ba+Z[U*(T+La)+1],xa=(ca-ra)*(va+Ba);ra=ca;Ba=va;ea+=xa}return.5*ea}function ya(Z,T=0,I=0){V(Z.lengths,I);V(Z.coords,T)}function V(Z,T=0){Z.length!==T&&(Z.length=T)}const ha=()=>c.getLogger("esri.layers.graphics.featureConversionUtils"),
ma={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},G=(Z,T,I,U,ea,ra)=>{Z[I]=ea;Z[I+1]=ra},Q=(Z,T,I,U,ea,ra)=>{Z[I]=ea;Z[I+1]=ra;Z[I+2]=T[U+2]},fa=(Z,T,I,U,ea,ra)=>{Z[I]=ea;Z[I+1]=ra;Z[I+2]=T[U+3]},ta=(Z,T,I,U,ea,ra)=>{Z[I]=ea;Z[I+1]=ra;Z[I+2]=T[U+2];Z[I+3]=T[U+3]},za=[],Ea=[],Ga={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};a.convertFromFeature=function(Z,T,I,U,ea){za[0]=Z;[Z]=ja(Ea,za,T,
I,U,ea);V(za);V(Ea);return Z};a.convertFromFeatureSet=function(Z,T){const I=new g,{hasM:U,hasZ:ea,features:ra,objectIdFieldName:Ba,spatialReference:La,geometryType:ca,exceededTransferLimit:va,transform:xa,fields:Da}=Z;Da&&(I.fields=Da);I.geometryType=ca??null;I.objectIdFieldName=Ba??T??null;I.spatialReference=La??null;if(!I.objectIdFieldName)return ha().error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),I;ra&&ja(I.features,ra,ca,ea,U,I.objectIdFieldName);va&&
(I.exceededTransferLimit=va);U&&(I.hasM=U);ea&&(I.hasZ=ea);xa&&(I.transform=xa);return I};a.convertFromFeatures=ja;a.convertFromGeometry=function(Z,T,I){if(null==Z)return null;const U=new h;"hasZ"in Z&&null==T&&(T=Z.hasZ);"hasM"in Z&&null==I&&(I=Z.hasM);if(q.isPoint(Z))return J(null!=T?T:null!=Z.z,null!=I?I:null!=Z.m)(U,Z);if(q.isPolygon(Z))return R(U,Z,T,I);if(q.isPolyline(Z))return X(U,Z,r(T,I));if(q.isMultipoint(Z))return W(U,Z,r(T,I));ha().error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${Z}'`))};
a.convertFromMultipoint=W;a.convertFromMultipointFeatures=S;a.convertFromNestedArray=Y;a.convertFromPoint=H;a.convertFromPointFeatures=K;a.convertFromPolygon=R;a.convertFromPolyline=X;a.convertFromPolylineFeatures=P;a.convertToFeature=function(Z,T,I,U){Ea[0]=Z;sa(za,Ea,T,I,U);Z=za[0];V(za);V(Ea);return Z};a.convertToFeatureSet=function(Z){const {objectIdFieldName:T,spatialReference:I,transform:U,fields:ea,hasM:ra,hasZ:Ba,features:La,geometryType:ca,exceededTransferLimit:va,uniqueIdField:xa,queryGeometry:Da,
queryGeometryType:Ha}=Z;Z=sa([],La,ca,Ba,ra);const na=da(Da,Ha,!1,!1);Z={features:Z,fields:ea,geometryType:ca,objectIdFieldName:T,spatialReference:I,uniqueIdField:xa,queryGeometry:na};U&&(Z.transform=U);va&&(Z.exceededTransferLimit=va);ra&&(Z.hasM=ra);Ba&&(Z.hasZ=Ba);return Z};a.convertToFeatures=sa;a.convertToGeometry=da;a.convertToMultipoint=N;a.convertToMultipointFeatures=F;a.convertToPoint=function(Z,T,I){return Z?T?I?B(Z):z(Z):I?x(Z):t(Z):null};a.convertToPolygon=D;a.convertToPolyline=L;a.generalizeOptimizedGeometry=
function(Z,T,I,U,ea,ra,Ba=I,La=U){ya(Z);if(!T?.coords.length)return null;ea=ma[ea];const {coords:ca,lengths:va}=T;T=r(I,U);const xa=r(I&&Ba,U&&La);I=u(I,U,Ba,La);if(!va.length)return I(Z.coords,ca,0,0,ca[0],ca[1]),ya(Z,T,0),Z;U=0;ra*=ra;for(const Da of va){if(Da<ea){U+=Da*T;continue}Ba=Z.coords.length/xa;La=U;const Ha=U+(Da-1)*T;I(Z.coords,ca,Z.coords.length,La,ca[La],ca[La+1]);ia(Z.coords,ca,T,ra,I,La,Ha);I(Z.coords,ca,Z.coords.length,Ha,ca[Ha],ca[Ha+1]);La=Z.coords.length/xa-Ba;La>=ea?Z.lengths.push(La):
V(Z.coords,Ba*xa);U+=Da*T}return Z.coords.length?Z:null};a.getBoundsOptimizedGeometry=function(Z,T,I,U){if(!T?.coords?.length)return null;I=r(I,U);let ea=U=Number.POSITIVE_INFINITY,ra=Number.NEGATIVE_INFINITY,Ba=Number.NEGATIVE_INFINITY;if(T&&T.coords){T=T.coords;for(let La=0;La<T.length;La+=I){const ca=T[La],va=T[La+1];U=Math.min(U,ca);ra=Math.max(ra,ca);ea=Math.min(ea,va);Ba=Math.max(Ba,va)}}d.is(Z)?d.fromRectValues(Z,U,ea,ra,Ba):n.fromValues(U,ea,ra,Ba,Z);return Z};a.getQuantizedArea=function(Z,
T){const {coords:I,lengths:U}=Z;let ea=Z=0;for(let ra=0;ra<U.length;ra++){const Ba=U[ra];ea+=ua(I,Z,Ba,T);Z+=Ba}return Math.abs(ea)};a.getQuantizedBoundsOptimizedGeometry=function(Z,T,I,U){I=r(I,U);const {lengths:ea,coords:ra}=T;U=T=Number.POSITIVE_INFINITY;let Ba=Number.NEGATIVE_INFINITY,La=Number.NEGATIVE_INFINITY,ca=0;for(const va of ea){let xa=ra[ca],Da=ra[ca+1];T=Math.min(xa,T);U=Math.min(Da,U);Ba=Math.max(xa,Ba);La=Math.max(Da,La);ca+=I;for(let Ha=1;Ha<va;Ha++,ca+=I){const na=ra[ca],wa=ra[ca+
1];xa+=na;Da+=wa;0>na&&(T=Math.min(T,xa));0<na&&(Ba=Math.max(Ba,xa));0>wa?U=Math.min(U,Da):0<wa&&(La=Math.max(La,Da))}}Z[0]=T;Z[1]=U;Z[2]=Ba;Z[3]=La;return Z};a.getSignedQuantizedRingArea=ua;a.quantizeForDisplay=function(Z,T,I,U,ea){U=r(U,ea);if(!Z.lengths.length){if(2>Z.coords.length)return null;const [va,xa]=Z.coords;Z=m(T,va);T=v(T,xa);return new h([],[Z,T])}ea=new h([],[0,0]);const ra=ma[I];I="esriGeometryPolygon"===I||"esriGeometryPolyline"===I;let Ba=0,La=0;for(let va=0;va<Z.lengths.length;va++){const xa=
Z.lengths[va],Da=La;let Ha=m(T,Z.coords[U*Ba]),na=v(T,Z.coords[U*Ba+1]);ea.coords[La++]=Ha;ea.coords[La++]=na;let wa=0,Ma=0,Ja=1;for(let Ua=1;Ua<xa;Ua++){const Ya=m(T,Z.coords[U*(Ua+Ba)]),cb=v(T,Z.coords[U*(Ua+Ba)+1]);if(Ya!==Ha||cb!==na){const eb=Ya-Ha,pb=cb-na;var ca;if(ca=I)ca=0===wa*pb-eb*Ma&&0<wa*eb+Ma*pb;ca?(ea.coords[La-2]+=eb,ea.coords[La-1]+=pb,Ha+=eb,na+=pb):(ea.coords[La++]=Ya,ea.coords[La++]=cb,Ha=Ya,na=cb,wa=eb,Ma=pb,Ja+=1)}}Ja<ra?La=Da:ea.lengths.push(Ja);Ba+=xa}return 0===ea.lengths.length?
null:ea};a.quantizeOptimizedFeatureSet=function(Z,T){const {geometryType:I,features:U,hasM:ea,hasZ:ra}=T;if(!Z)return T;for(let Ba=0;Ba<U.length;Ba++){const La=U[Ba],ca=La.weakClone();ca.geometry=new h;qa(ca.geometry,La.geometry,ea,ra,I,Z);La.centroid&&(ca.centroid=new h,qa(ca.centroid,La.centroid,ea,ra,"esriGeometryPoint",Z));U[Ba]=ca}T.transform=Z;return T};a.quantizeOptimizedGeometry=qa;a.quantizeX=p;a.quantizeY=l;a.removeCollinearVertices=function(Z,T,I,U,ea){if(!T?.coords?.length)return null;
I=ma[I];const {coords:ra,lengths:Ba}=T;T=u(U,ea,U,ea);U=r(U,ea);let La=ea=0,ca=0,va=0;for(const Ha of Ba){La=va;T(Z.coords,ra,La,ea,ra[ea],ra[ea+1]);ea+=U;var xa=ra[ea];let na=ra[ea+1],wa=xa,Ma=na;var Da=na/xa;La+=U;T(Z.coords,ra,La,ea,wa,Ma);ea+=U;for(let Ja=2;Ja<Ha;Ja++){xa=ra[ea];na=ra[ea+1];const Ua=na/xa,Ya=Da===Ua||!isFinite(Da)&&!isFinite(Ua);Da=Ya&&isFinite(Ua)?0<=Da&&0<=Ua||0>=Da&&0>=Ua:0<=Ma&&0<=na||0>=Ma&&0>=na;Ya&&Da?(wa+=xa,Ma+=na):(wa=xa,Ma=na,La+=U);T(Z.coords,ra,La,ea,wa,Ma);ea+=U;
Da=Ua}La+=U;xa=(La-va)/U;xa>=I&&(Z.lengths[ca]=xa,va=La,ca++)}Z.coords.length>va&&(Z.coords.length=va);Z.lengths.length>ca&&(Z.lengths.length=ca);return Z.coords.length&&Z.lengths.length?Z:null};a.removeZMValues=function(Z,T,I,U,ea,ra){ya(Z);Z.lengths.push(...T.lengths);if(I===ea&&U===ra)for(var Ba=0;Ba<T.coords.length;Ba++)Z.coords.push(T.coords[Ba]);else for(Ba=r(I,U),I=u(I,U,ea,ra),T=T.coords,U=0;U<T.length;U+=Ba)I(Z.coords,T,Z.coords.length,U,T[U],T[U+1]);return Z};a.unquantizeOptimizedFeatureSet=
function(Z){const {transform:T,features:I,hasM:U,hasZ:ea}=Z;if(!T)return Z;for(const ra of I)null!=ra.geometry&&la(ra.geometry,ra.geometry,U,ea,T),null!=ra.centroid&&la(ra.centroid,ra.centroid,U,ea,T);Z.transform=null;return Z};a.unquantizeOptimizedGeometry=la;a.unquantizeValue=A;a.unquantizeX=function(Z,T){return A(Z,T,0)};a.unquantizeY=function(Z,T){return A(Z,-T,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/View":function(){define("../chunks/tslib.es6 ../Map ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/collectionUtils ../core/Error ../core/Evented ../core/Handles ../core/has ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../core/support/UpdatingHandles ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/constants ../time/TimeExtent ../time/timeZoneUtils ./BasemapView ./LayerViewManager ./Magnifier ./SelectionManager ./Theme ./ToolViewManager ./3d/support/DefaultHighlights ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap ./support/HighlightOptions ./support/RequiredFieldsOptions".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B,E,J,K,H,F,N,S,W,L,P,X,D,R,Y,ja,da,sa,qa,ia,la){function ua(V){return V.layerViews}var ya;c=ya=class extends g.EventedMixin(m.EsriPromiseMixin(c)){constructor(V){super(V);this._cursor=this._userSpatialReference=null;this.handles=new h;this.updatingHandles=new x.UpdatingHandles;this.allLayerViews=new n({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:ua});
this.basemapView=this.groundView=null;this.displayFilterEnabled=!0;this.fatalError=null;this.graphics=new H.GraphicsCollection;this.analyses=new K.AnalysesCollection;this.typeSpecificPreconditionsReady=!0;this.layerViews=new d;this.magnifier=new P;this.padding={left:0,top:0,right:0,bottom:0};this.ready=!1;this._readyStateWaitingTask=null;this.supportsGround=!0;this.scale=this.type=null;this.updating=!1;this.initialExtentRequired=!0;this.input=new ja;this.navigation=new sa;this.analysisViewManager=
this.layerViewManager=null;this.isHeightModelInfoRequired=!1;this.height=this.width=null;this.suspended=this.resizing=!1;this.viewEvents=new da.ViewEvents(this);this.persistableViewModels=new d;this.requiredFieldsOptions=new la;this._readyCycleForced=this._isValid=!1;this.theme=this._lockedTimeExtent=this._userTimeExtent=this._lockedTimeZone=this._userTimeZone=this._lockedSpatialReference=null;this.handles.add(A.watch(()=>this.preconditionsReady,ha=>{const ma=this.ready;ha?(this._lockedSpatialReference=
this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,ya.views.add(this)):(this._lockedSpatialReference=null,ya.views.remove(this));this.notifyChange("spatialReference");if(!ha&&ma)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(ha&&!ma){try{this._startup()}catch(G){queueMicrotask(()=>{this.fatalError=new e("startup-error",null,G)});return}null!=this.analysisViewManager&&
this.analysisViewManager.attach();this.toolViewManager.attach()}},A.sync))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>{this._isValid=!0;return A.whenOnce(()=>this.ready)}));this.basemapView=new W({view:this});this.layerViewManager=new L({view:this,layerViewImporter:{importLayerView:V=>this.importLayerView(V),hasLayerViewModule:V=>this.hasLayerViewModule(V)},supportsGround:this.supportsGround});this.toolViewManager=new R.ToolViewManager({view:this});
this.selectionManager=new X({view:this});this.addHandles([A.when(()=>"map-content-error"===this.readyState&&!this.spatialReference,()=>{p.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),A.watch(()=>this.initialExtentRequired,V=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:V},A.syncAndInitial),A.watch(()=>this.ready,V=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=V,this.defaultsFromMap.userSpatialReference=
V?this.spatialReference:this._userSpatialReference)},A.sync),A.watch(()=>this._userSpatialReference,V=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=V)},A.syncAndInitial)])}destroy(){this.destroyed||(ya.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=l.destroyMaybe(this.graphics),this.analyses=l.destroyMaybe(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",
null),l.destroyMaybe(this.analysisViewManager),this.toolViewManager=l.destroyMaybe(this.toolViewManager),this.layerViewManager=l.destroyMaybe(this.layerViewManager),this.selectionManager=l.destroyMaybe(this.selectionManager),this.basemapView=l.destroyMaybe(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(V=>V.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=l.destroyMaybe(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",
!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){p.getLogger(this).error("#toMap()","Not implemented on this instance of View");return null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(V){this.toolViewManager&&(this.toolViewManager.activeTool=V)}get animation(){return this._get("animation")}set animation(V){this._set("animation",V)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new qa.DefaultsFromMap({required:{tileInfo:!1,
heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(V,ha)=>this.getSpatialReferenceSupport(V,ha),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(V){this._set("extent",V)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??Y.makeDefaultHighlightOptions()}set highlights(V){this._set("highlights",q.referenceSetter(V,this._get("highlights"),d.ofType(ia)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||
!this._isValid||this._readyCycleForced||!this.map||u.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(V){const ha=this._get("map");V!==ha&&(V?.destroyed&&(p.getLogger(this).warn("#map","The provided map is already destroyed",{map:V}),V=null),u.isLoadable(V)&&V.load().catch(()=>
{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",V))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((this.defaultsFromMap?.ready??!1)&&!this.spatialReference){const V=this.map.ground.loaded,ha=this.map.basemap?.loaded??!0;if((!("loaded"in this.map)||this.map.loaded)&&ha&&V&&
!this.map?.allLayers.length)return"empty-map";this._readyStateWaitingTask||(this._readyStateWaitingTask=f.createTask(ma=>v.after(r("view-readyState-waiting-delay"),null,ma)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task"));return this._readyStateWaitingTask?.finished?"map-content-error":"loading"}this._readyStateWaitingTask=l.abortMaybe(this._readyStateWaitingTask);this.removeHandles("ready-state-task");return this.ready?"ready":"loading"}get spatialReference(){var V=
this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return V&&this.defaultsFromMap?.required?.heightModelInfo?(V=V.clone(),V.vcsWkid=this.defaultsFromMap.vcsWkid,V.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,V):V}set spatialReference(V){const ha=!J.equals(V,this._get("spatialReference"));this._set("_userSpatialReference",V);ha&&(this._set("spatialReference",V),this._spatialReferenceChanged(V))}_spatialReferenceChanged(V){}get stationary(){return!this.animation&&
!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(V){this._userTimeExtent=V}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??F.system}set timeZone(V){this._userTimeZone=V;S.isTimeZoneValid(V)||p.getLogger(this).warn("#timeZone",`the parsed value '${V}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??
this._cursor??"default"}set cursor(V){this._cursor=V;this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new D}whenLayerView(V){return this.layerViewManager?.whenLayerView(V)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(V){throw new e("importLayerView() not implemented");
}hasLayerViewModule(V){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(V){return null!=this.getSpatialReferenceSupport(V)}when(V,ha){this.isResolved()&&!this.ready&&p.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");
return super.when(V,ha)}forceReadyCycle(){this.ready&&(A.when(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(V){this.toolViewManager.tools.add(V);this.activeTool=V}tryFatalErrorRecovery(){this.fatalError=null}};c.views=new d;a.__decorate([t.property()],c.prototype,"_userSpatialReference",void 0);a.__decorate([t.property()],c.prototype,"activeTool",null);a.__decorate([t.property({readOnly:!0})],c.prototype,"allLayerViews",
void 0);a.__decorate([t.property()],c.prototype,"groundView",void 0);a.__decorate([t.property()],c.prototype,"animation",null);a.__decorate([t.property()],c.prototype,"basemapView",void 0);a.__decorate([t.property()],c.prototype,"center",null);a.__decorate([t.property()],c.prototype,"defaultsFromMapSettings",null);a.__decorate([t.property()],c.prototype,"defaultsFromMap",null);a.__decorate([t.property()],c.prototype,"displayFilterEnabled",void 0);a.__decorate([t.property()],c.prototype,"fatalError",
void 0);a.__decorate([t.property({type:y})],c.prototype,"extent",null);a.__decorate([t.property(k.owningCollectionProperty(H.GraphicsCollection,"graphics"))],c.prototype,"graphics",void 0);a.__decorate([t.property(k.owningCollectionProperty(K.AnalysesCollection,"analyses"))],c.prototype,"analyses",void 0);a.__decorate([t.property({readOnly:!0,type:B})],c.prototype,"heightModelInfo",null);a.__decorate([t.property({type:d.ofType(ia)})],c.prototype,"highlights",null);a.__decorate([t.property({readOnly:!0})],
c.prototype,"interacting",null);a.__decorate([t.property({readOnly:!0})],c.prototype,"navigating",null);a.__decorate([t.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _lockedSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],c.prototype,"preconditionsReady",null);a.__decorate([t.property({readOnly:!0})],c.prototype,"typeSpecificPreconditionsReady",void 0);a.__decorate([t.property({type:d,readOnly:!0})],
c.prototype,"layerViews",void 0);a.__decorate([t.property()],c.prototype,"resolution",null);a.__decorate([t.property({type:P})],c.prototype,"magnifier",void 0);a.__decorate([t.property({value:null,type:b})],c.prototype,"map",null);a.__decorate([t.property()],c.prototype,"padding",void 0);a.__decorate([t.property({readOnly:!0})],c.prototype,"ready",void 0);a.__decorate([t.property()],c.prototype,"_readyStateWaitingTask",void 0);a.__decorate([t.property({readOnly:!0})],c.prototype,"readyState",null);
a.__decorate([t.property({type:E})],c.prototype,"spatialReference",null);a.__decorate([t.property()],c.prototype,"stationary",null);a.__decorate([t.property({readOnly:!0})],c.prototype,"supportsGround",void 0);a.__decorate([t.property({type:N})],c.prototype,"timeExtent",null);a.__decorate([t.property({type:String,nonNullable:!0})],c.prototype,"timeZone",null);a.__decorate([t.property()],c.prototype,"tools",null);a.__decorate([t.property()],c.prototype,"toolViewManager",void 0);a.__decorate([t.property({readOnly:!0})],
c.prototype,"type",void 0);a.__decorate([t.property({type:Number})],c.prototype,"scale",void 0);a.__decorate([t.property({readOnly:!0})],c.prototype,"updating",void 0);a.__decorate([t.property({readOnly:!0})],c.prototype,"initialExtentRequired",void 0);a.__decorate([t.property({readOnly:!0})],c.prototype,"initialExtent",null);a.__decorate([t.property()],c.prototype,"cursor",null);a.__decorate([t.property({readOnly:!0})],c.prototype,"input",void 0);a.__decorate([t.property({type:sa,nonNullable:!0})],
c.prototype,"navigation",void 0);a.__decorate([t.property()],c.prototype,"layerViewManager",void 0);a.__decorate([t.property()],c.prototype,"analysisViewManager",void 0);a.__decorate([t.property()],c.prototype,"selectionManager",void 0);a.__decorate([t.property()],c.prototype,"width",void 0);a.__decorate([t.property()],c.prototype,"height",void 0);a.__decorate([t.property({readOnly:!0})],c.prototype,"resizing",void 0);a.__decorate([t.property({value:null,readOnly:!0})],c.prototype,"size",null);a.__decorate([t.property({readOnly:!0})],
c.prototype,"suspended",void 0);a.__decorate([t.property({readOnly:!0})],c.prototype,"viewEvents",void 0);a.__decorate([t.property({readOnly:!0})],c.prototype,"persistableViewModels",void 0);a.__decorate([t.property()],c.prototype,"_isValid",void 0);a.__decorate([t.property()],c.prototype,"_readyCycleForced",void 0);a.__decorate([t.property()],c.prototype,"_lockedSpatialReference",void 0);a.__decorate([t.property()],c.prototype,"_userTimeZone",void 0);a.__decorate([t.property()],c.prototype,"_lockedTimeZone",
void 0);a.__decorate([t.property()],c.prototype,"_userTimeExtent",void 0);a.__decorate([t.property()],c.prototype,"_lockedTimeExtent",void 0);a.__decorate([t.property({type:D})],c.prototype,"theme",void 0);a.__decorate([t.property({readOnly:!0,type:D})],c.prototype,"effectiveTheme",null);c=ya=a.__decorate([z.subclass("esri.views.View")],c);(a=globalThis.$arcgis)&&!a.views&&Object.defineProperty(a,"views",{configurable:!1,enumerable:!0,writable:!1,value:c.views});return c})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/tslib.es6 ../Collection ../collectionUtils ../has ../Logger ../accessorSupport/decorators/property ../RandomLCG ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){a.OwningCollection=class extends c{constructor(h){super(h);this.addHandles([this.on("before-add",r=>{null==r.item&&r.preventDefault()}),this.on("after-add",r=>this._own(r.item)),this.on("after-remove",r=>this._release(r.item))])}get owner(){return this._get("owner")}set owner(h){h!==this._get("owner")&&(this._releaseAll(),this._set("owner",h),this._ownAll())}_ownAll(){for(const h of this.items)this._own(h)}_releaseAll(){for(const h of this.items)this._release(h)}_createNewInstance(h){return this.itemType?
new (c.ofType(this.itemType.Type))(h):new c(h)}};b.__decorate([q.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=b.__decorate([g.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(h,r){return{type:h,cast:f.castForReferenceSetter,set(u){u=f.referenceSetter(u,this._get(r),h);u.owner=this;this._set(r,u)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/UpdatingHandles":function(){define("exports ../../chunks/tslib.es6 ../Accessor ../handleUtils ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){a.UpdatingHandles=class extends c{constructor(){super(...arguments);this.updating=!1;this._scheduleHandleId=this._handleId=0;this._pendingPromises=new Set}destroy(){this.removeAll()}add(g,h,r={}){return this._installWatch(g,h,r,d.watch)}addWhen(g,h,r={}){return this._installWatch(g,h,r,d.when)}addOnCollectionChange(g,h,{initial:r=!1,final:u=!1}={}){const p=++this._handleId;this.addHandles([d.on(g,"after-changes",this._createSyncUpdatingCallback(),d.sync),d.on(g,"change",
h,{onListenerAdd:r?l=>h({added:l.toArray(),removed:[]}):void 0,onListenerRemove:u?l=>h({added:[],removed:l.toArray()}):void 0})],p);return f.makeHandle(()=>this.removeHandles(p))}addPromise(g){if(null==g)return g;const h=++this._handleId;this.addHandles(f.makeHandle(()=>{this._pendingPromises.delete(g)&&(0!==this._pendingPromises.size||this.hasHandles(-42)||this._set("updating",!1))}),h);this._pendingPromises.add(g);this._set("updating",!0);const r=()=>this.removeHandles(h);g.then(r,r);return g}removeAll(){this._pendingPromises.clear();
this.removeAllHandles();this._set("updating",!1)}_installWatch(g,h,r={},u){const p=++this._handleId;r.sync||this._installSyncUpdatingWatch(g,p);g=u(g,h,r);this.addHandles(g,p);return f.makeHandle(()=>this.removeHandles(p))}_installSyncUpdatingWatch(g,h){const r=this._createSyncUpdatingCallback();g=d.watch(g,r,{sync:!0,equals:()=>!1});this.addHandles(g,h);return g}_createSyncUpdatingCallback(){return()=>{this.removeHandles(-42);++this._scheduleHandleId;const g=this._scheduleHandleId;this._get("updating")||
this._set("updating",!0);this.addHandles(n.schedule(()=>{g===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this.removeHandles(-42))}),-42)}}};b.__decorate([q.property({readOnly:!0})],a.UpdatingHandles.prototype,"updating",void 0);a.UpdatingHandles=b.__decorate([e.subclass("esri.core.support.UpdatingHandles")],a.UpdatingHandles);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/tslib.es6 ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,c,f,d,n,q,e){a.AnalysesCollection=class extends e.OwningCollection{constructor(g){super(g);this.addHandles(this.on("before-add",h=>{null!=h.item&&h.item.parent===this.owner&&(c.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),h.preventDefault())}))}_own(g){g.parent=this.owner}_release(g){g.parent=null}};a.AnalysesCollection=b.__decorate([q.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,f,d,n,q,e,g,h,r){a.GraphicsCollection=class extends r.OwningCollection{_own(u){u.layer&&"remove"in u.layer&&u.layer!==this.owner&&u.layer.remove(u);
u.layer=this.owner}_release(u){u.layer===this.owner&&(u.layer=null)}};b.__decorate([g.shared({Type:c,ensureType:d.ensureType(c)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=b.__decorate([h.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/BasemapView":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){b=class extends b{constructor(h){super(h);this.view=null;this.baseLayerViews=new c;this.referenceLayerViews=new c;this._loadingHandle=f.watch(()=>this.view?.map?.basemap,r=>{r&&r.load().catch(()=>{})},f.initial)}destroy(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const h of this.baseLayerViews)h.destroy();this.baseLayerViews.length=0;for(const h of this.referenceLayerViews)h.destroy();this.referenceLayerViews.length=
0}get suspended(){return this.view?.suspended??!0}get updating(){return this.view?.suspended||!this.view?.map?.basemap?.loaded?!1:this.baseLayerViews.some(h=>h.updating)||this.referenceLayerViews.some(h=>h.updating)}};a.__decorate([d.property({constructOnly:!0})],b.prototype,"view",void 0);a.__decorate([d.property({readOnly:!0})],b.prototype,"baseLayerViews",void 0);a.__decorate([d.property({readOnly:!0})],b.prototype,"referenceLayerViews",void 0);a.__decorate([d.property({readOnly:!0})],b.prototype,
"suspended",null);a.__decorate([d.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);return b=a.__decorate([g.subclass("esri.views.BasemapView")],b)})},"esri/views/LayerViewManager":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/get ../core/support/UpdatingHandles ../layers/Layer ../support/collectionUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A){class t{constructor(w,z,k){this.layer=w;this.view=z;this.layerViewImporter=k;this._controller=new AbortController;this._deferred=q.createResolver();this.done=this._started=!1;this.promise=this._deferred.promise;q.onAbort(this._controller.signal,()=>{const x=new c("cancelled:layerview-create","layerview creation cancelled",{layer:w});this._deferred.reject(x)})}tryRecycle(w){if(!(this.done&&this.layerView&&"tryRecycleWith"in this.layerView))return null;const z=
this.layer.type,k=this._controller.signal;for(let x=0;x<w.length;x++){const y=w[x];if(y.type!==z)continue;const B=this.layerView.tryRecycleWith(y,{signal:k});if(B){w.splice(x,1);this.layer=y;const E=this.layerView,J=E.view;return this.promise=Promise.race([B.then(()=>{q.throwIfAborted(this._controller.signal);y.emit("layerview-destroy",{view:J,layerView:E});J.emit("layerview-destroy",{view:J,layerView:E});y.emit("layerview-create",{view:J,layerView:E});J.emit("layerview-create",{view:J,layerView:E});
return E}),new Promise((K,H)=>q.onAbort(this._controller.signal,()=>H(q.createAbortError())))])}}return null}destroy(){this._controller.abort();const {layerView:w}=this;if(w){const {layer:z,view:k}=this;z.emit("layerview-destroy",{view:k,layerView:w});k.emit("layerview-destroy",{layer:z,layerView:w})}this.done=!0;this._map=this.layerViewImporter=this.view=this.layerView=this.layer=null}async start(){if(!this._started){this._started=!0;var {_controller:{signal:w},layer:z,view:k}=this;this._map=k.map;
try{await z.load({signal:w});z.prefetchResources&&await z.prefetchResources({signal:w});let y;if(z.createLayerView!==v.prototype.createLayerView)y=await z.createLayerView(k,{signal:w});else{if(!this.layerViewImporter.hasLayerViewModule(z))throw new c("layer:view-not-supported","No layerview implementation was found");var x=await this.layerViewImporter.importLayerView(z);q.throwIfAborted(w);y="default"in x?new x.default({layer:z,view:k}):new x({layer:z,view:k})}let B;x=()=>{B=n.removeMaybe(B);y.destroyed||
y.destroy();y.layer=null;y.parent=null;y.view=null;this.done=!0};B=q.onAbort(w,x);q.throwIfAborted(w);try{await y.when()}catch(E){throw x(),E;}this._map?.allLayers?.includes(z)?(this.layerView=y,z.emit("layerview-create",{view:k,layerView:y}),k.emit("layerview-create",{layer:z,layerView:y}),this.done=!0,this._deferred.resolve(y)):(x(),this._deferred.reject(new c("view:no-layerview-for-layer","The layer has been removed from the map",{layer:z})))}catch(y){z.emit("layerview-create-error",{view:k,error:y}),
k.emit("layerview-create-error",{layer:z,error:y}),this.done=!0,this._deferred.reject(new c("layerview:create-error","layerview creation failed",{layer:z,error:y}))}}}}b=class extends b{constructor(w){super(w);this._layerLayerViewInfoMap=new Map;this._recyclingInfoMap=new Map;this._watchUpdatingTracking=new m.UpdatingHandles;this.supportsGround=!0;this._preloadLayerViewModules=()=>{const z=this.view.map?.allLayers;if(z)for(const k of z)this.layerViewImporter.hasLayerViewModule(k)&&this.layerViewImporter.importLayerView(k)};
this._reschedule=()=>{if(this.destroyed)return Promise.reject();null==this._workPromise&&(this._workPromise=q.createResolver(),this._workPromise.promise.catch(()=>{}));this.removeHandles("reschedule");this.addHandles(g.schedule(this._doWork),"reschedule");return this._workPromise.promise};this._doWork=()=>{if(!this.destroyed){var z=this.view.map;this._map!==z&&(this.clear(),this._map=z);if(null==this._workPromise)this.notifyChange("updating");else{this.removeHandles("reschedule");this.removeHandles("collection-change");
var k=new Set,x=[],y=this.view.ready,B=K=>{if(null!=K)for(const H of K)H&&(k.add(H),(K=this._layerLayerViewInfoMap.get(H))&&y?K.start():K||this._recyclingInfoMap.has(H)||x.push(H),"layers"in H&&H.layers&&B(H.layers))};for(var E of this._rootCollectionNames)B(l.get(this,E));for(const [K,H]of this._layerLayerViewInfoMap)k.has(K)||(this._layerLayerViewInfoMap.delete(H.layer),(E=H.tryRecycle(x))?(this.notifyChange("updating"),this._recyclingInfoMap.set(H.layer,H),E.then(()=>{this.notifyChange("updating");
this._recyclingInfoMap.delete(H.layer);this._layerLayerViewInfoMap.set(H.layer,H);this._reschedule()}).catch(()=>{this.notifyChange("updating");this._recyclingInfoMap.delete(H.layer);H.destroy();this._reschedule()})):H.destroy());for(const [K,H]of this._recyclingInfoMap)k.has(K)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(H.layer),H.destroy());for(const K of x)this._createLayerView(K);this._refreshCollections();var J=[z?.ground?.layers,z?.basemap?.baseLayers,z?.basemap?.referenceLayers,
z?.layers].filter(K=>!!K);k.forEach(K=>"layers"in K&&J.push(K.layers));this.addHandles(J.map(K=>this._watchUpdatingTracking.addOnCollectionChange(()=>K,this._reschedule)),"collection-change");this._workPromise.resolve();this._workPromise=null}}}}initialize(){this.addHandles([e.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),e.watch(()=>{const w=this.view,z=w?.map;return[z?.basemap,z?.ground,z?.layers,w?.ready]},()=>this._reschedule(),
e.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()}destroy(){this.clear();A.destroyMap(this._recyclingInfoMap);A.destroyMap(this._layerLayerViewInfoMap);this._watchUpdatingTracking.destroy();this._map=null;null!=this._workPromise&&(this._workPromise.reject(q.createAbortError()),this._workPromise=null)}get _layersToLayerViews(){const w=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];
this.supportsGround&&w.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(w)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||d.someMap(this._layerLayerViewInfoMap,w=>!w.done)||0<this._recyclingInfoMap.size}get updatingRemaining(){let w=0;for(const z of this._layerLayerViewInfoMap.values())z.done||++w;return w}clear(){this.destroyed||(A.destroyMap(this._layerLayerViewInfoMap),
this._refreshCollections())}async whenLayerView(w){await this._reschedule();if(!this._layerLayerViewInfoMap.has(w)){if(this._recyclingInfoMap.has(w))return this._recyclingInfoMap.get(w).promise;throw new c("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:w});}return this._layerLayerViewInfoMap.get(w).promise}isCreatingLayerViewsForLayer(w,z){this.commitProperty("updatingRemaining");const k=this._layerLayerViewInfoMap.get(w);if(!k?.done)return!0;const x=k.layerView;
return x&&z&&x.parent!==z?!0:k.done&&x&&"layers"in w&&w.layers?.length?w.layers.some(y=>this.isCreatingLayerViewsForLayer(y,x)):!1}_refreshCollections(){for(const [w,z]of this._layersToLayerViews)this._populateLayerViewsOwners(l.get(this,w),l.get(this,z),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(w,z,k){if(w&&z){var x=0;for(const y of w)w=this._layerLayerViewInfoMap.get(y),w?.layerView&&(w=w.layerView,w.layer=y,w.parent=k,z.at(x)!==w&&
z.splice(x,0,w),"layers"in y&&null!=w&&"object"===typeof w&&"layerViews"in w&&this._populateLayerViewsOwners(y.layers,w.layerViews,w),x+=1);x<z.length&&z.splice(x,z.length)}else z&&z.removeAll()}_createLayerView(w){w.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(w)&&this.layerViewImporter.importLayerView(w);const z=new t(w,this.view,this.layerViewImporter);z.promise.then(()=>this._refreshCollections(),k=>{k&&(q.isAbortError(k)||"cancelled:layerview-create"===k.name)||f.getLogger(this).error(`Failed to create layerview for layer title:'${w.title??
"no title"}', id:'${w.id??"no id"}' of type '${w.type}'.`,{layer:w,error:k});this._refreshCollections()});this._layerLayerViewInfoMap.set(w,z);this.view.ready&&z.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")}};a.__decorate([h.property()],b.prototype,"_workPromise",void 0);a.__decorate([h.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);a.__decorate([h.property({readOnly:!0})],b.prototype,"_layersToLayerViews",null);a.__decorate([h.property({readOnly:!0})],
b.prototype,"_rootCollectionNames",null);a.__decorate([h.property()],b.prototype,"layerViewImporter",void 0);a.__decorate([h.property()],b.prototype,"supportsGround",void 0);a.__decorate([h.property({readOnly:!0})],b.prototype,"updating",null);a.__decorate([h.property({readOnly:!0})],b.prototype,"updatingRemaining",null);a.__decorate([h.property({constructOnly:!0})],b.prototype,"view",void 0);return b=a.__decorate([p.subclass("esri.views.LayerViewManager")],b)})},"esri/views/Magnifier":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e){b=class extends b{constructor(g){super(g);this.factor=1.5;this.offset=c.createScreenPoint(0,0);this.position=null;this.size=120;this.maskUrl=null;this.maskEnabled=!0;this.overlayUrl=null;this.visible=this.overlayEnabled=!0}get version(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");this.commitProperty("overlayUrl");
this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}};a.__decorate([f.property({type:Number})],b.prototype,"factor",void 0);a.__decorate([f.property({nonNullable:!0})],b.prototype,"offset",void 0);a.__decorate([f.property()],b.prototype,"position",void 0);a.__decorate([f.property({type:Number,range:{min:0}})],b.prototype,"size",void 0);a.__decorate([f.property()],b.prototype,"maskUrl",void 0);a.__decorate([f.property()],b.prototype,"maskEnabled",void 0);a.__decorate([f.property()],
b.prototype,"overlayUrl",void 0);a.__decorate([f.property()],b.prototype,"overlayEnabled",void 0);a.__decorate([f.property({readOnly:!0})],b.prototype,"version",null);a.__decorate([f.property({type:Boolean})],b.prototype,"visible",void 0);return b=a.__decorate([e.subclass("esri.views.Magnifier")],b)})},"esri/views/SelectionManager":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/Collection ../core/collectionUtils ../core/Evented ../core/MapUtils ../core/maybe ../core/ReactiveMap ../core/reactiveUtils ../core/SetUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../layers/support/layerUtils ../rest/support/Query ./support/selectionUtils".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A){d=class extends d.EventedAccessor{constructor(k){super(k);this._selectionMap=new e;this._sources=new c;this._trashCan=[];this._layerEditHandles=new c;this._vizTaskId=0;this.showHighlight=!0;this.highlightName="default"}initialize(){this.addHandles([g.watch(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),g.on(()=>this.sources,"change",x=>{const y=this._selectionMap;for(const B of x.removed)y.delete(B);this._refreshListeners();this._refreshVisualization()},
{onListenerAdd:()=>this._refreshListeners()})]);const k=new c;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(x=>"sublayers"in x&&x.sublayers?x.sublayers:null).forEach(x=>{(A.isSelectableLayer(x)&&!m.isSubtypeGroupLayer(x)||m.isSubtypeSublayer(x))&&k.add(x)}),this.sources=k)})}destroy(){this._layerEditHandles.drain(q.removeMaybe)}get selections(){return Array.from(this._selectionMap.entries()).map(k=>{const [x,y]=k;return{layer:x,selection:[...y.selection]}})}get count(){let k=
0;for(const x of this._selectionMap.values())k+=x.selection.length;return k}get hasSelection(){return 0<this.count}get sources(){return this._sources}set sources(k){f.referenceSetter(k,this._sources)}async getSelectedFeatures(k,x={},y="layerView"){const {view:B,selections:E}=this,J=(void 0!==k?E.filter(K=>k.includes(K.layer)):E).filter(K=>0<K.selection.length).map(async K=>{const {layer:H,selection:F}=K;K=m.isSubtypeSublayer(H)?H.parent:H;return null==K||void 0===K?.when?null:"layer"===y?z(K,F,x):
t(K)?null:(K=await B.whenLayerView(K).catch(()=>null))?z(K,F,x):null});return(await Promise.all(J)).filter(K=>null!=K)}updateSelection(k){var x=new Map;for(const [K,H]of this._selectionMap)x.set(K,[...H.selection]);var y=!1,B=k.current.concat(k.added);for(var E of B){var J=E.sourceLayer;B=E.getObjectId();this.sources.includes(J)&&(A.isSelectableLayer(J)||m.isSubtypeSublayer(J))&&null!==B&&(J=n.getOrCreateMapValue(x,J,()=>[]),J.includes(B)||(J.push(B),y=!0))}for(const K of k.removed)E=K.sourceLayer,
k=K.getObjectId(),this.sources.includes(E)&&(A.isSelectableLayer(E)||m.isSubtypeSublayer(E))&&null!==k&&(E=x.get(E),k=E?.indexOf(k),void 0!==k&&0<=k&&(E?.splice(k,1),y=!0));if(y){const {_selectionMap:K,_trashCan:H}=this;y=[];for(const [F,N]of x)x=K.get(F),void 0!==x&&H.push(x),K.set(F,{selection:N}),y.push({layer:F,selection:N,...b.difference(void 0!==x?x.selection:[],N)});this._onSelectionChange(y)}}setSelection(k,x){this._setSelection(k,x)}getSelection(k){return this._selectionMap.get(k)?.selection}appendToSelection(k,
x){var y=this._selectionMap.get(k);y=void 0!==y?[...y.selection]:[];for(const B of x)y.includes(B)||y.push(B);this._setSelection(k,y)}removeFromSelection(k,x){const y=this._selectionMap.get(k);if(y){var B=[];for(const E of y.selection)x.includes(E)||B.push(E);this._setSelection(k,B)}}toggleInSelection(k,x){var y=this._selectionMap.get(k);y&&0!==y.selection.length?(y=new Set(y.selection),x=new Set(x),x=h.symmetricDifference(y,x),this._setSelection(k,Array.from(x))):this._setSelection(k,x)}clear(){var k=
this._selectionMap.values();this._trashCan.push(...k);k=[];for(const [x,y]of this._selectionMap.entries())k.push({layer:x,added:[],removed:[...y.selection],selection:[]});this._selectionMap.clear();this._onSelectionChange(k)}_onSelectionChange(k){this._refreshVisualization();this.emit("selection-change",{view:this.view,changes:k})}_refreshVisualization(){if(null!=this.view&&null!=this.sources){for(this._vizTaskId++;0<this._trashCan.length;)this._trashCan.pop()?.highlightHandle?.remove();var {sources:k,
view:x,_selectionMap:y,showHighlight:B}=this,E=this._vizTaskId;for(const J of k){const K=y.get(J),H=m.isSubtypeSublayer(J)?J.parent:J;null==H||void 0===H?.when||t(H)||x.whenLayerView(H).then(F=>{K?.highlightHandle?.remove();null!=K&&B&&E===this._vizTaskId&&"highlight"in F&&"function"===typeof F.highlight&&0<K.selection.length&&(K.highlightHandle=F.highlight(K.selection,this.highlightName))}).catch(()=>{K?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(q.removeMaybe);
for(const x of this.sources){var k=m.isSubtypeSublayer(x)?x.parent:x;null!=k&&A.isSelectableLayer(k)&&(k=k.on("edits",y=>{this._handleEditChanges(y,x)}),this._layerEditHandles.push(k))}}_handleEditChanges(k,x){void 0!==k.deletedFeatures&&0<k.deletedFeatures.length&&this._selectionMap.has(x)&&(k=k.deletedFeatures.filter(y=>null==y.error).map(y=>y.objectId).filter(b.isSome),this.removeFromSelection(x,k))}_setSelection(k,x){if(!this.sources.includes(k))throw Error(`Cannot set selection on layer ${k.title} because it is not in 'sources'`);
const y=this._selectionMap.get(k);void 0!==y&&w(y,{selection:x})||(void 0!==y&&this._trashCan.push(y),this._selectionMap.set(k,{selection:[...x]}),k={layer:k,selection:[...x],...b.difference(void 0!==y?y.selection:[],x)},this._onSelectionChange([k]))}};a.__decorate([r.property({readOnly:!0,nonNullable:!0})],d.prototype,"selections",null);a.__decorate([r.property({readOnly:!0,nonNullable:!0})],d.prototype,"count",null);a.__decorate([r.property({constructOnly:!0,nonNullable:!0})],d.prototype,"view",
void 0);a.__decorate([r.property({readOnly:!0,nonNullable:!0})],d.prototype,"hasSelection",null);a.__decorate([r.property()],d.prototype,"showHighlight",void 0);a.__decorate([r.property()],d.prototype,"sources",null);a.__decorate([r.property()],d.prototype,"highlightName",void 0);d=a.__decorate([l.subclass("esri.views.SelectionManager")],d);const t=k=>m.isSubtypeSublayer(k)?!0===k.parent?.isTable:k.isTable,w=(k,x)=>{if(null!=k||null!=x){if(null!=k&&null==x||null==k&&null!=x)return!1;if(null!=k&&null!=
x&&null!=k.selection&&null!=x.selection){k=[...k.selection];x=[...x.selection];if(k.length!==x.length)return!1;k.sort();x.sort();for(let y=0;y<k.length;y++)if(k[y]!==x[y])return!1}}return!0},z=async(k,x,y={})=>void 0===k.layer?void 0===k?null:await k.queryFeatures(new v({...y,objectIds:x})).then(B=>({data:B,layer:k})):void 0===k?null:await k.queryFeatures(new v({...y,objectIds:x})).then(B=>({data:B,layer:k.layer}));return d})},"esri/core/ReactiveMap":function(){define(["./accessorSupport/tracking",
"./accessorSupport/tracking/SimpleObservable"],function(a,b){class c{constructor(f){this._observable=new b.SimpleObservable;this._map=new Map(f)}get size(){a.trackAccess(this._observable);return this._map.size}clear(){0<this._map.size&&(this._map.clear(),this._observable.notify())}delete(f){(f=this._map.delete(f))&&this._observable.notify();return f}entries(){a.trackAccess(this._observable);return this._map.entries()}forEach(f,d){a.trackAccess(this._observable);this._map.forEach((n,q)=>f.call(d,n,
q,this),d)}get(f){a.trackAccess(this._observable);return this._map.get(f)}has(f){a.trackAccess(this._observable);return this._map.has(f)}keys(){a.trackAccess(this._observable);return this._map.keys()}set(f,d){this._map.set(f,d);this._observable.notify();return this}values(){a.trackAccess(this._observable);return this._map.values()}[Symbol.iterator](){a.trackAccess(this._observable);return this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get [Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}
return c})},"esri/views/support/selectionUtils":function(){define(["exports"],function(a){a.isSelectableLayer=function(b){return!!(null!=b&&"object"===typeof b&&"createQuery"in b&&b.createQuery&&"on"in b&&b.on)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/Theme":function(){define("../chunks/tslib.es6 ../Color ../core/Accessor ../core/Clonable ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){c=class extends f.ClonableMixin(c){constructor(h){super(h);this.accentColor=new b([255,127,0]);this.textColor=new b([255,255,255])}};a.__decorate([d.property({type:b,nonNullable:!0})],c.prototype,"accentColor",void 0);a.__decorate([d.property({type:b,nonNullable:!0})],c.prototype,"textColor",void 0);return c=a.__decorate([g.subclass("esri.views.Theme")],c)})},"esri/views/ToolViewManager":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/clock ../core/Collection ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/UpdatingHandles ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t){a.ToolViewManager=class extends c{constructor(w){super(w);this._updatingHandles=new p.UpdatingHandles;this._clock=f.clock;this._manipulatorState=new t.ToolViewManagerManipulatorState;this.tools=new d;this.cursor=null;this._interacting=!1;this._interactingTimeout=1E3;this._interactingTimeoutHandle=null;this._forEachTool=z=>{for(const k of this.tools.items)if(z(k))break}}initialize(){this.addHandles([this.view.on(m.eventTypes,w=>{this._handleInputEvent(w)},
l.ViewEventPriorities.TOOL),...v.getToolCollectionHandles(this.tools),this.tools.on("before-add",({item:w})=>{this._updateToolEditableFlag(w)}),this.tools.on("before-remove",({item:w})=>{this._manipulatorState.clearPointers(w,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null;this.tools.drain(w=>w.destroy());this._clearInteractingTimeout();this._interacting=!1;this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,
activeTool:this.activeTool,setActiveTool:w=>{this.activeTool=w},view:this.view}}set activeTool(w){if(null!=w&&!this.view.ready)q.getLogger(this).error("Cannot set active tool while view is not ready.");else if(w!==this.activeTool){var z=this.activeTool;this._set("activeTool",w);null!=z&&z.deactivate();null!=w&&w.activate();this._removeIncompleteTools(w);for(const k of this.tools)this._updateToolEditableFlag(k),w=v.areToolManipulatorsEditable(k),null!=this.activeTool&&w||this._manipulatorState.clearPointers(k,
this._manipulatorStateEventArgs,!w);this._updateCursor()}}get updating(){return this._updatingHandles.updating||this.tools.some(w=>w.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=e.removeMaybe(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout();this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([g.watch(()=>
{const {state:w}=this.view;return"camera"in w&&w.camera},()=>this._forEachManipulator(w=>w.onViewChange())),this.view.elevationProvider?.on("elevation-change",w=>this._forEachManipulator(z=>z.onElevationChange(w)))],"attached"):this.addHandles(g.watch(()=>this.view.extent,()=>this._forEachManipulator(w=>w.onViewChange())))}detach(){this.activeTool=null;this.tools.removeAll();this.removeHandles("attached");this._clearInteractingTimeout();this._interacting=!1}_forEachManipulator(w){this._forEachTool(z=>
{z.manipulators&&z.manipulators.forEach(({manipulator:k})=>w(k,z))})}_handleInputEvent(w){let z=!1;const k={...w,stopPropagation:()=>{z=!0;w.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(k):this._forEachTool(x=>{!z&&x.visible&&x.handleInputEvent(k)});!z&&"key-down"===w.type&&"Escape"===w.key&&this.activeTool&&(w.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(k,this._manipulatorStateEventArgs);z||null==
this.activeTool||this.activeTool.handleInputEventAfter(k);this._manipulatorState.handleHoverEvent(k,this._forEachTool);this._updateCursor();"pointer-move"===w.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles("tools");this._forEachTool(w=>{if(w instanceof c){const z=g.watch(()=>[w.cursor,w.visible,w.editable],()=>{v.areToolManipulatorsEditable(w)||this._manipulatorState.clearPointers(w,
this._manipulatorStateEventArgs);this._updateCursor()});this.addHandles(z,"tools")}w.manipulators&&this.addHandles([w.manipulators.on("after-remove",z=>{this._manipulatorState.clearPointers(w,this._manipulatorStateEventArgs,!0,z.item.manipulator)}),w.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}_updateToolEditableFlag(w){w.setEditableFlag?.(A.EditableFlag.MANAGER,
null==this.activeTool||w===this.activeTool)}_updateCursor(){let w=this._manipulatorState.cursor;null==w&&this._forEachTool(z=>null!=z.cursor&&z.visible?(w=z.cursor,!0):!1);this._get("cursor")!==w&&this._set("cursor",w)}_removeIncompleteTools(w){this.tools.filter(z=>(null==w||z!==w)&&!z.created&&z.removeIncompleteOnCancel).forEach(z=>{this.tools.remove(z)})}get test(){}};b.__decorate([h.property({constructOnly:!0,nonNullable:!0})],a.ToolViewManager.prototype,"view",void 0);b.__decorate([h.property({value:null})],
a.ToolViewManager.prototype,"activeTool",null);b.__decorate([h.property({readOnly:!0,type:d})],a.ToolViewManager.prototype,"tools",void 0);b.__decorate([h.property({readOnly:!0})],a.ToolViewManager.prototype,"cursor",void 0);b.__decorate([h.property({readOnly:!0})],a.ToolViewManager.prototype,"updating",null);b.__decorate([h.property()],a.ToolViewManager.prototype,"_interacting",void 0);b.__decorate([h.property({readOnly:!0})],a.ToolViewManager.prototype,"interacting",null);a.ToolViewManager=b.__decorate([u.subclass("esri.views.ToolViewManager")],
a.ToolViewManager);a.interactingTimeout=1E3;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/has ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./keys ./handlers/LatestPointer ./handlers/MultiTouch ../support/PropertiesPool".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u,p){a.InputManager=
class extends c{constructor(w){super(w);this._pointerCaptures=new Map;this._nameToGroup={};this._handlers=[];this._handlersPriority=[];this._currentPropagation=null;this._updateDependenciesAfterPropagation=!1;this._sourceEvents=new Set;this._keyModifiers=new Set;this._activeKeyModifiers=new Set;this._stoppedPropagationEventIds=new Set;this.primaryKey=h.primaryKey;this._latestPointerType="mouse";this._propertiesPool=new p.PropertiesPool({latestPointerLocation:t},this);this.latestPointerLocation=null;
this._paused=!1;this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()}destroy(){const w=Object.keys(this._nameToGroup);for(const z of w)this.uninstallHandlers(z);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(w=>w.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||
this._paused}installHandlers(w,z,k=v.INTERNAL){if(!this._nameToGroup[w]&&0!==z.length){var x={name:w,handlers:z.map(y=>({handler:y,active:!0,removed:!1,priorityIndex:0,groupPriority:k,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[w]=x;for(w=x.handlers.length-1;0<=w;w--){const y=x.handlers[w];this._handlers.push(y);y.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(B,E,J,K,H)=>{this._emitInputEvent(y.priorityIndex+1,B,E,J,H,K)},setPointerCapture:(B,E)=>
{this._setPointerCapture(x,y,B,E)},setEventCallback:B=>{y.eventCallback=B},setUninstallCallback:B=>{y.uninstallCallback=B},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}}uninstallHandlers(w){const z=this._nameToGroup[w];z?(z.handlers.forEach(k=>{k.removed=!0;k.uninstallCallback?.()}),delete this._nameToGroup[w],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):d.getLogger(this).error("There is no InputHandler group registered under the name `"+
w+"`")}hasHandlers(w){return void 0!==this._nameToGroup[w]}isModifierKeyDown(w){return this._activeKeyModifiers.has(w)}updateDependencies(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var w=new Set,z=new Set;this._handlersPriority=[];for(var k=this._handlers.length-1;0<=k;k--){var x=this._handlers[k];x.priorityIndex=k;this._handlersPriority.push(x)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);
for(k=this._handlersPriority.length-1;0<=k;k--){x=this._handlersPriority[k];x.priorityIndex=k;let y=x.handler.hasSideEffects;if(!y)for(const B of x.handler.outgoingEventTypes)if(w.has(B)){y=!0;break}if(y)for(const B of x.handler.incomingEventMatches){w.add(B.eventType);for(const E of B.keyModifiers)h.isSystemModifier(E)||z.add(E)}x.active=y}this._sourceEvents=w;this._keyModifiers=z;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),
this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}_setLatestPointer(w,z,k){this._latestPointerType=w;w=this._get("latestPointerLocation");if(null==w||w.x!==z||w.y!==k)w=this._propertiesPool.get("latestPointerLocation"),w.x=z,w.y=k,this._set("latestPointerLocation",w)}_onEventReceived(w,z){"pointer-capture-lost"===w&&this._pointerCaptures.delete(z.native.pointerId);this._updateKeyModifiers(w,z);this._emitInputEventFromSource(w,z,null!=this.test.timestamp?
this.test.timestamp:z.native?z.native.timestamp:void 0,z.native?z.native.cancelable:void 0)}_updateKeyModifiers(w,z){if(z){var k=!1,x=()=>{k||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),k=!0)},y=(B,E)=>{E&&!this._activeKeyModifiers.has(B)?(x(),this._activeKeyModifiers.add(B)):!E&&this._activeKeyModifiers.has(B)&&(x(),this._activeKeyModifiers.delete(B))};if("key-down"===w||"key-up"===w){const B=z.key;this._keyModifiers.has(B)&&y(B,"key-down"===w)}w=z.native;y("Alt",!!w?.altKey);y("Control",
!!w?.ctrlKey);y("Ctrl",!!w?.ctrlKey);y("Shift",!!w?.shiftKey);y("Meta",!!w?.metaKey);y("Primary",this._activeKeyModifiers.has(this.primaryKey))}}_installRecognizers(){this._latestPointerHandler=new r.LatestPointer((w,z,k)=>this._setLatestPointer(w,z,k));this._multiTouchHandler=new u.MultiTouch;this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],v.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,v.INTERNAL)}_setPointerCapture(w,
z,k,x){w=w.name+"-"+z.priorityIndex;z=this._pointerCaptures.get(k.pointerId)||new Set;this._pointerCaptures.set(k.pointerId,z);x?(z.add(w),1===z.size&&this.eventSource&&this.eventSource.setPointerCapture(k,!0)):z.has(w)&&(z.delete(w),0===z.size&&(this._pointerCaptures.delete(k.pointerId),this.eventSource&&this.eventSource.setPointerCapture(k,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(w=>!w.removed);this.updateDependencies()}_emitInputEventFromSource(w,z,k,x){this._emitInputEvent(0,
w,z,k,x)}_emitInputEvent(w,z,k,x,y,B){x=void 0!==x?x:this._currentPropagation?this._currentPropagation.timestamp:performance.now();w={event:new l(z,k,x,B||this._activeKeyModifiers,void 0!==y?y:!1),priorityIndex:w};this._currentPropagation?this._currentPropagation.events.push(w):this._doNewPropagation(w)}_doNewPropagation(w){this._currentPropagation={events:new n,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:w.event.timestamp};this._currentPropagation.events.push(w);this._continuePropagation()}_continuePropagation(){this._paused=
!1;const w=this._currentPropagation;if(w){for(;0<w.events.length;){const {event:z,priorityIndex:k}=w.events.pop(),x=z.data?.eventId;if(null==x||!this._stoppedPropagationEventIds.has(x))for(w.currentHandler=this._handlersPriority[k];w.currentHandler;){if(w.currentHandler.removed)w.needsHandlerGarbageCollect=!0;else{w.currentHandler.active&&!z.shouldStopPropagation()&&w.currentHandler.eventCallback?.(z);if(z.shouldStopPropagation()){null!=x&&this._stoppedPropagationEventIds.add(x);break}if(z.shouldPausePropagation(()=>
this._continuePropagation())){this._pausePropagation({event:z,priorityIndex:w.currentHandler.priorityIndex+1});return}}w.currentHandler=this._handlersPriority[w.currentHandler.priorityIndex+1]}}w.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(w){const z=new n;z.push(w);if(w=this._currentPropagation){for(;w.events.length;)z.push(w.events.pop());
w.events=z;w.currentHandler=null;this._paused=!0}}_compareHandlerPriority(w,z){if(w.handler.hasSideEffects!==z.handler.hasSideEffects)return w.handler.hasSideEffects?1:-1;if(w.groupPriority!==z.groupPriority)return w.groupPriority>z.groupPriority?-1:1;for(const k of w.handler.incomingEventMatches)for(const x of z.handler.incomingEventMatches){if(k.eventType!==x.eventType)continue;const y=k.keyModifiers.filter(B=>x.keyModifiers.includes(B));if(y.length===k.keyModifiers.length!==(y.length===x.keyModifiers.length))return k.keyModifiers.length>
x.keyModifiers.length?-1:1}return w.priorityIndex>z.priorityIndex?-1:1}_sortHandlersPriority(w){const z=[];for(const k of w){for(w=0;w<z.length&&0<=this._compareHandlerPriority(k,z[w]);)w++;z.splice(w,0,k)}return z}get debug(){const w=z=>{const k=this._setPointerCapture;this._setPointerCapture=()=>{};z();this._setPointerCapture=k};return{injectEvent:(z,k)=>{w(()=>this._onEventReceived(z,k))},disablePointerCapture:w}}};b.__decorate([q.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",
null);b.__decorate([q.property({constructOnly:!0})],a.InputManager.prototype,"eventSource",void 0);b.__decorate([q.property({constructOnly:!0})],a.InputManager.prototype,"recognizers",void 0);b.__decorate([q.property()],a.InputManager.prototype,"_latestPointerType",void 0);b.__decorate([q.property()],a.InputManager.prototype,"latestPointerType",null);b.__decorate([q.property()],a.InputManager.prototype,"multiTouchActive",null);b.__decorate([q.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",
void 0);b.__decorate([q.property()],a.InputManager.prototype,"_paused",void 0);b.__decorate([q.property({readOnly:!0})],a.InputManager.prototype,"updating",null);a.InputManager=b.__decorate([g.subclass("esri.views.input.InputManager")],a.InputManager);class l{constructor(w,z,k,x,y){this.type=w;this.data=z;this.timestamp=k;this.modifiers=x;this.cancelable=y;this._propagationState=m.NONE;this._resumeCallback=null}stopPropagation(){this._propagationState|=m.STOPPED}shouldStopPropagation(){return 0!==
(this._propagationState&m.STOPPED)}async(w){this._propagationState|=m.PAUSED;const z=(k,x)=>{this._propagationState&=~m.PAUSED;const y=this._resumeCallback;this._resumeCallback=null;y&&y();if(x)throw k;return k};return("function"===typeof w?w():w).then(k=>z(k,!1),k=>z(k,!0))}shouldPausePropagation(w){return this._propagationState&m.PAUSED?(this._resumeCallback=w,!0):!1}preventDefault(){this.data.native.preventDefault()}}var m;(function(w){w[w.NONE=0]="NONE";w[w.STOPPED=1]="STOPPED";w[w.PAUSED=2]=
"PAUSED"})(m||={});const v={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class A{}const t=A;a.ViewEventPriorities=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports","../../core/has"],function(a,b){b=b("mac")?"Meta":"Control";const c=new Set("Alt Control Meta Shift Ctrl Primary".split(" "));a.isSystemModifier=f=>c.has(f);a.primaryKey=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports",
"../InputHandler"],function(a,b){class c extends b.InputHandler{constructor(f){super(!0);this._onChange=f;this._value="mouse";this._y=this._x=null;this.registerIncoming("pointer-move",d=>this._update(d.data))}_update(f){const d="touch"===f.native.pointerType?"touch":"mouse",{x:n,y:q}=f;if(d!==this._value||this._x!==n||this._y!==q)this._value=d,this._x=n,this._y=q,this._onChange(d,n,q)}}a.LatestPointer=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports",
"../../core/has","../../core/Logger","./EventMatch"],function(a,b,c,f){class d{constructor(e){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const g=this._incoming[e];for(const h of g)this._incomingEventMatches.push(h.match)}}return this._incomingEventMatches}get incomingEventTypes(){this._incomingEventTypes||
(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType));return this._incomingEventTypes}get outgoingEventTypes(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback(g=>this._handleEvent(g)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,g,h){"function"===
typeof g?(h=g,g=[]):g=g||[];e="string"===typeof e?new f.EventMatch(e,g):e;const r=()=>{this._incomingEventMatches=this._incomingEventTypes=null};g=u=>{const p=this._incoming[u.match.eventType];p&&(u=p.indexOf(u),p.splice(u,1),r(),this._manager&&this._manager.updateDependencies())};h=new n(e,h,{onPause:g,onRemove:g,onResume:u=>{const p=this._incoming[u.match.eventType];p&&!p.includes(u)&&(p.push(u),r(),this._manager&&this._manager.updateDependencies())}});g=this._incoming[e.eventType];g||(g=[],this._incoming[e.eventType]=
g);g.push(h);r();this._manager&&this._manager.updateDependencies();return h}registerOutgoing(e){if(this._outgoing[e])throw Error("There is already a callback registered for this outgoing InputEvent: "+e);const g=new q(e,{onEmit:(h,r,u,p)=>{this._manager?.emit(h.eventType,r,u,p)},onRemove:h=>{delete this._outgoing[h.eventType];this._manager?.updateDependencies()}});this._outgoing[e]=g;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return g}startCapturingPointer(e){this._manager?.setPointerCapture(e,
!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const g=this._incoming[e.type];if(g)for(const h of g)if(h.match.matches(e)&&(h.callback?.(e),e.shouldStopPropagation()))break}}class n{constructor(e,g,h){this.match=e;this._callback=g;this._handler=h}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}
class q{constructor(e,g){this.eventType=e;this._removed=!1;this._handler=g}emit(e,g,h){if(!this._removed)this._handler.onEmit(this,e,g,h)}remove(){this._removed=!0;this._handler.onRemove(this)}}a.InputHandler=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){class b{constructor(c,f=[]){this.eventType=c;this.keyModifiers=f}matches(c){if(c.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;c=
c.modifiers;for(const f of this.keyModifiers)if(!c.has(f))return!1;return!0}}a.EventMatch=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/MultiTouch":function(){define(["exports","../../../core/signal","../InputHandler"],function(a,b,c){class f extends c.InputHandler{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0);this._activeTouchPointerIds=new Set;this._multiTouchActive=b.signal(!1);this._onPointerAdd=({data:d})=>{"touch"===
d.pointerType&&(this._activeTouchPointerIds.add(d.native.pointerId),this._update())};this._onPointerRemove=({data:d})=>{"touch"===d.pointerType&&(this._activeTouchPointerIds.delete(d.native.pointerId),this._update())};this.registerIncoming("pointer-down",this._onPointerAdd);this.registerIncoming("pointer-up",this._onPointerRemove);this.registerIncoming("pointer-capture-lost",this._onPointerRemove);this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=
1<this._activeTouchPointerIds.size}}a.MultiTouch=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/signal":function(){define(["exports","./lang","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b,c,f){class d{constructor(n,q){this._observable=new f.SimpleObservable;this._value=n;this._equalityFunction=q}get value(){c.trackAccess(this._observable);return this._value}set value(n){this._equalityFunction(n,this._value)||(this._value=n,this._observable.notify())}mutate(n){n(this._value);
this._observable.notify()}}a.signal=function(n,q=b.equalsShallow){return new d(n,q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/PropertiesPool":function(){define(["exports","../../core/ReentrantObjectPool","../../core/accessorSupport/watch"],function(a,b,c){class f{constructor(d,n){this._owner=n;this._properties={};this._afterDispatchHandle=null;for(const q in d)n=new b.ReentrantObjectPool(d[q],void 0,void 0,2,2),this._properties[q]={pool:n,acquired:[]};this._afterDispatchHandle=
c.afterDispatch(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const d in this._properties){const n=this._properties[d];for(const q of n.acquired)c.isValueInUse(q)||n.pool.release(q);n.pool.destroy();n.pool=null;n.acquired=null}this._owner=this._properties=null}get(d){const n=this._owner._get(d);d=this._properties[d];let q=d.pool.acquire();for(d.acquired.push(q);q===n;)d.acquired.push(q),q=d.pool.acquire();return q}_release(){for(const d in this._properties){const n=
this._properties[d];let q=0;for(const e of n.acquired)c.isValueInUse(e)?n.acquired[q++]=e:n.pool.release(e);n.acquired.length=q}}}a.PropertiesPool=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../core/has ../../core/handleUtils ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),function(a,b,c,f,d,n,q,e){function g(H){return!!E[H]}function h(H){for(const F of H)if(!g(F))return!1;
return!0}function r(H){return{type:"focus",timestamp:H.timestamp,native:H.data.native,cancelable:H.cancelable,stopPropagation:()=>H.stopPropagation(),async:F=>H.async(F),preventDefault:()=>H.preventDefault()}}function u(H){return{type:"blur",timestamp:H.timestamp,native:H.data.native,cancelable:H.cancelable,stopPropagation:()=>H.stopPropagation(),async:F=>H.async(F),preventDefault:()=>H.preventDefault()}}function p(H,F){const {pointerType:N,button:S,buttons:W,x:L,y:P,native:X,eventId:D}=F.data,{cancelable:R,
timestamp:Y}=F,ja=d.createScreenPoint(L,P);H=t(H,L,P);return{type:"click",pointerType:N,button:S,buttons:W,x:L,y:P,native:X,timestamp:Y,screenPoint:ja,mapPoint:H,eventId:D,cancelable:R,stopPropagation:()=>F.stopPropagation(),async:da=>F.async(da),preventDefault:()=>F.preventDefault()}}function l(H,F){const {pointerType:N,button:S,buttons:W,x:L,y:P,native:X,eventId:D}=F.data,{cancelable:R,timestamp:Y}=F;return{type:"double-click",pointerType:N,button:S,buttons:W,x:L,y:P,native:X,timestamp:Y,mapPoint:t(H,
L,P),eventId:D,cancelable:R,stopPropagation:()=>F.stopPropagation(),async:ja=>F.async(ja),preventDefault:()=>F.preventDefault()}}function m(H,F){const {pointerType:N,button:S,buttons:W,x:L,y:P,native:X,eventId:D}=F.data,R=X.pointerId,{cancelable:Y,timestamp:ja}=F;return{type:"immediate-click",pointerId:R,pointerType:N,button:S,buttons:W,x:L,y:P,native:X,timestamp:ja,mapPoint:t(H,L,P),eventId:D,cancelable:Y,stopPropagation:()=>F.stopPropagation(),async:da=>F.async(da),preventDefault:()=>F.preventDefault()}}
function v(H,F){const {pointerType:N,button:S,buttons:W,x:L,y:P,native:X,eventId:D}=F.data,R=X.pointerId,{cancelable:Y,timestamp:ja}=F;return{type:"immediate-double-click",pointerId:R,pointerType:N,button:S,buttons:W,x:L,y:P,native:X,timestamp:ja,mapPoint:t(H,L,P),eventId:D,cancelable:Y,stopPropagation:()=>F.stopPropagation(),async:da=>F.async(da),preventDefault:()=>F.preventDefault()}}function A(H,F){const {pointerType:N,button:S,buttons:W,x:L,y:P,native:X}=F.data,{cancelable:D,timestamp:R}=F;return{type:"hold",
pointerType:N,button:S,buttons:W,x:L,y:P,native:X,timestamp:R,mapPoint:t(H,L,P),cancelable:D,stopPropagation:()=>F.stopPropagation(),async:Y=>F.async(Y),preventDefault:()=>F.preventDefault()}}function t(H,F,N){return H.toMap(d.createScreenPoint(F,N),{exclude:[]})}function w(H){const {key:F,repeat:N,native:S}=H.data,{cancelable:W,timestamp:L}=H;return{type:"key-down",key:F,repeat:N,native:S,timestamp:L,cancelable:W,stopPropagation:()=>H.stopPropagation(),async:P=>H.async(P),preventDefault:()=>H.preventDefault()}}
function z(H){const {key:F,native:N}=H.data,{cancelable:S,timestamp:W}=H;return{type:"key-up",key:F,native:N,timestamp:W,cancelable:S,stopPropagation:()=>H.stopPropagation(),async:L=>H.async(L),preventDefault:()=>H.preventDefault()}}function k(H,F){const {x:N,y:S,button:W,buttons:L,native:P,eventId:X}=H.data,D=P.pointerId,R=P.pointerType,{cancelable:Y,timestamp:ja}=H;return{type:F,x:N,y:S,pointerId:D,pointerType:R,button:W,buttons:L,native:P,timestamp:ja,eventId:X,cancelable:Y,stopPropagation:()=>
H.stopPropagation(),async:da=>H.async(da),preventDefault:()=>H.preventDefault()}}function x(H){const {x:F,y:N,buttons:S,native:W,eventId:L}=H.data.currentEvent,{button:P}=H.data.startEvent,X=H.data.startEvent.native.pointerId,D=H.data.startEvent.native.pointerType,R=H.data.action,Y={x:H.data.startEvent.x,y:H.data.startEvent.y},{cancelable:ja,timestamp:da}=H;return{type:"pointer-drag",x:F,y:N,pointerId:X,pointerType:D,button:P,buttons:S,action:R,origin:Y,native:W,timestamp:da,eventId:L,cancelable:ja,
stopPropagation:()=>H.stopPropagation(),async:sa=>H.async(sa),preventDefault:()=>H.preventDefault()}}function y(H){const {cancelable:F,data:N,timestamp:S}=H,{x:W,y:L,deltaY:P,native:X}=N;return{type:"mouse-wheel",x:W,y:L,deltaY:P,native:X,timestamp:S,cancelable:F,stopPropagation:()=>H.stopPropagation(),async:D=>H.async(D),preventDefault:()=>H.preventDefault()}}function B(H){const {action:F,state:N,device:S}=H.data,{cancelable:W,timestamp:L}=H,{buttons:P,axes:X}=N;return{type:"gamepad",device:S,timestamp:L,
action:F,buttons:P,axes:X,cancelable:W,stopPropagation:()=>H.stopPropagation(),async:D=>H.async(D),preventDefault:()=>H.preventDefault()}}b="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const E={};b.forEach(H=>{E[H]=!0});class J{constructor(H){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=H;this.inputManager=
null}connect(H){H&&this.disconnect();this.inputManager=H;this._handlers.forEach(({handler:F,priority:N},S)=>this.inputManager?.installHandlers(S,[F],N))}disconnect(){this.inputManager&&this._handlers.forEach((H,F)=>this.inputManager?.uninstallHandlers(F));this.inputManager=null}destroy(){this.disconnect();this._handlers.clear();this.view=null}on(H,F,N,S){const W=Array.isArray(H)?H:H.split(",");if(!h(W))return W.some(g)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),
null;if(Array.isArray(F))H=F;else{var L=F;H=[]}"function"===typeof N?L=N:S=N;S=null!=S?S:q.ViewEventPriorities.DEFAULT;const P=this._createUniqueGroupName();N=new K(this.view,W,H,L);this._handlers.set(P,{handler:N,priority:S});for(const X of W)L=this._handlerCounts.get(X)||0,this._handlerCounts.set(X,L+1);this.inputManager&&this.inputManager.installHandlers(P,[N],S);return c.makeHandle(()=>this._removeHandler(P,W))}hasHandler(H){return!!this._handlerCounts.get(H)}_removeHandler(H,F){if(this._handlers.has(H)){this._handlers.delete(H);
for(const N of F)F=this._handlerCounts.get(N),void 0!==F&&(1===F?this._handlerCounts.delete(N):this._handlerCounts.set(N,F-1))}this.inputManager&&this.inputManager.uninstallHandlers(H)}_createUniqueGroupName(){this._counter+=1;return`viewEvents_${this._counter}`}}class K extends n.InputHandler{constructor(H,F,N,S){super(!0);this._latestDragStart=void 0;this.view=H;for(const W of F)switch(W){case "click":this.registerIncoming("click",N,L=>S(p(H,L)));break;case "double-click":this.registerIncoming("double-click",
N,L=>S(l(H,L)));break;case "immediate-click":this.registerIncoming("immediate-click",N,L=>S(m(H,L)));break;case "immediate-double-click":this.registerIncoming("immediate-double-click",N,L=>S(v(H,L)));break;case "hold":this.registerIncoming("hold",N,L=>S(A(H,L)));break;case "drag":this.registerIncoming("drag",N,L=>{(L=this._wrapDrag(L))&&S(L)});break;case "key-down":this.registerIncoming("key-down",N,L=>S(w(L)));break;case "key-up":this.registerIncoming("key-up",N,L=>S(z(L)));break;case "pointer-down":this.registerIncoming("pointer-down",
N,L=>S(k(L,"pointer-down")));break;case "pointer-move":this.registerIncoming("pointer-move",N,L=>S(k(L,"pointer-move")));break;case "pointer-up":this.registerIncoming("pointer-up",N,L=>S(k(L,"pointer-up")));break;case "pointer-drag":this.registerIncoming("pointer-drag",N,L=>S(x(L)));break;case "mouse-wheel":this.registerIncoming("mouse-wheel",N,L=>S(y(L)));break;case "pointer-enter":this.registerIncoming("pointer-enter",N,L=>S(k(L,"pointer-enter")));break;case "pointer-leave":this.registerIncoming("pointer-leave",
N,L=>S(k(L,"pointer-leave")));break;case "gamepad":this.registerIncoming("gamepad",N,L=>{S(B(L))});break;case "focus":this.registerIncoming("focus",N,L=>{S(r(L))});break;case "blur":this.registerIncoming("blur",N,L=>{S(u(L))})}}_wrapDrag(H){const F=H.data,{x:N,y:S}=F.center,{action:W,pointerType:L,button:P}=F;"start"===W&&(this._latestDragStart=F);if(this._latestDragStart){var X=F.pointer.native,D=F.buttons,{cancelable:R,timestamp:Y}=H,ja={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};
"end"===W&&(this._latestDragStart=void 0);return{type:"drag",action:W,x:N,y:S,origin:ja,pointerType:L,button:P,buttons:D,radius:F.radius,angle:f.rad2deg(F.angle),native:X,timestamp:Y,cancelable:R,stopPropagation:()=>H.stopPropagation(),async:da=>H.async(da),preventDefault:()=>H.preventDefault()}}}}Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>e.MouseButton});a.ViewEvents=J;a.eventTypes=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/IViewEvents":function(){define(["exports"],
function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/Logger","./interfaces"],function(a,b,c){a.areToolManipulatorsEditable=function(f){return f.visible&&null!=f.getEditableFlag&&f.getEditableFlag(c.EditableFlag.USER)&&f.getEditableFlag(c.EditableFlag.MANAGER)};a.getToolCollectionHandles=
function(f){return[f.on("before-add",d=>{const n=d.item;if(null==n||f.includes(n))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),d.preventDefault();else n.onAdd()}),f.on("after-remove",d=>{d=d.item;d.active&&(d.view.activeTool=null);d.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],function(a){a.EditableFlag=
void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";b[b.Custom3=64]="Custom3";b[b.Custom4=
128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../core/iteratorUtils ../../core/mathUtils ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),
function(a,b,c,f,d,n){function q(h){for(const {manipulator:r}of h.values())if(null!=r&&r.interactive){if(r.grabbing&&r.grabCursor)return r.grabCursor;if(r.cursor)return r.cursor}return null}function e(h,r,u){let p=null;u(l=>{if(null==l.manipulators||!d.areToolManipulatorsEditable(l))return!1;const m=l.manipulators.intersect(h,r);if(null==m)return!1;p={tool:l,manipulator:m};return!0});return p}class g{constructor(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=
new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._externallyDragging=this._stopDrag=!1;this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return 0<this._grabbedManipulators.size||0<this._draggedManipulators.size}handleInputEvent(h,r){var u=()=>h.stopPropagation();switch(h.type){case "pointer-move":"mouse"===h.pointerType&&this._pointerLocations.set(h.pointerId,{x:h.x,y:h.y,pointerType:h.pointerType});break;case "drag":0<this._grabbedManipulators.size?
this._stopDrag=!0:"start"===h.action?this._externallyDragging=!0:"end"===h.action&&(this._externallyDragging=!1);this._stopDrag&&(h.stopPropagation(),"end"===h.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===h.pointerType&&0!==h.button)break;u=n.createScreenPointFromEvent(h);var p=e(u,h.pointerType,r.forEachTool);if(null==p)break;var l=p.manipulator,m=p.tool;null==l||null==m||!l.interactive||l.grabbable&&l.grabbableForEvent(h)||!l.grabbing||l.dragging||this._releaseManipulatorBeforeDragging(l,
h,r);null!=l&&null!=m&&l.interactive&&l.grabbable&&l.grabbableForEvent(h)&&!l.grabbing&&(this._grabbedManipulators.set(h.pointerId,{manipulator:l,tool:m,start:u,pointerType:h.pointerType}),1===this._grabbedManipulators.size&&null==r.activeTool&&(this._revertToNullActiveTool=!0,r.setActiveTool(p.tool)),l.grabbing=!0,l.events.emit("grab-changed",{action:"start",pointerType:h.pointerType,screenPoint:u}),h.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(h.pointerId)||this._handlePointerEnd(h,
r);break;case "pointer-drag":if("mouse"===h.pointerType&&0!==h.button)break;m=this._grabbedManipulators.get(h.pointerId);u=m?.manipulator;p=m?.tool;if(null==u||null==p)break;l=n.createScreenPointFromEvent(h);l.x=c.clamp(l.x,0,r.view.width);l.y=c.clamp(l.y,0,r.view.height);m=m.start;const v=this._draggedManipulators.get(h.pointerId);switch(h.action){case "start":case "update":if("update"===h.action||1===this._grabbedManipulators.size)u.dragging=!0,v?u.events.emit("drag",{action:"update",start:m,screenPoint:l}):
u.events.emit("drag",{action:"start",start:m,screenPoint:l,pointerType:h.pointerType}),this._draggedManipulators.set(h.pointerId,{tool:p,manipulator:u,start:m});break;case "end":u.dragging=!1,v&&u.events.emit("drag",{action:"end",start:m,screenPoint:l}),this._draggedManipulators.delete(h.pointerId),this._handlePointerEnd(h,r)}h.stopPropagation();break;case "immediate-click":p=n.createScreenPointFromEvent(h);const A=e(p,h.pointerType,r.forEachTool);h.native.shiftKey||r.forEachTool(z=>{if((null==A||
A.tool!==z||z.automaticManipulatorSelection)&&z.manipulators){let k=!1;z.manipulators.forEach(({manipulator:x})=>{x.selected&&(x.selected=!1,k=!0)});if(k&&z.onManipulatorSelectionChanged)z.onManipulatorSelectionChanged()}});if(null==A)break;const {manipulator:t,tool:w}=A;if(!t.interactive)break;if(t.selectable&&w.automaticManipulatorSelection&&(t.selected=!t.selected,w.onManipulatorSelectionChanged))w.onManipulatorSelectionChanged();t.events.emit("immediate-click",{screenPoint:p,button:h.button,pointerType:h.pointerType,
shiftKey:h.native.shiftKey,stopPropagation:u});t?.consumesClicks&&h.stopPropagation();break;case "click":u=n.createScreenPointFromEvent(h);p=e(u,h.pointerType,r.forEachTool)?.manipulator;if(null==p||!p.interactive)break;p.events.emit(h.type,{screenPoint:u,button:h.button,pointerType:h.pointerType,shiftKey:h.native.shiftKey});h.stopPropagation();break;case "double-click":p=n.createScreenPointFromEvent(h);l=e(p,h.pointerType,r.forEachTool);l=null!=l?l.manipulator:null;if(null==l||!l.interactive)break;
l.events.emit("double-click",{screenPoint:p,button:h.button,pointerType:h.pointerType,shiftKey:h.native.shiftKey,stopPropagation:u});l?.consumesClicks&&h.stopPropagation();break;case "immediate-double-click":p=n.createScreenPointFromEvent(h),l=e(p,h.pointerType,r.forEachTool),l=null!=l?l.manipulator:null,null!=l&&l.interactive&&(l.events.emit("immediate-double-click",{screenPoint:p,button:h.button,pointerType:h.pointerType,shiftKey:h.native.shiftKey,stopPropagation:u}),"mouse"===h.pointerType&&l?.consumesClicks&&
h.stopPropagation())}this._onFocusChange(r.forEachTool)}_releaseManipulatorBeforeDragging(h,r,u){h.grabbing=!1;h.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:n.createScreenPointFromEvent(r)});this._grabbedManipulators.forEach(({manipulator:p},l)=>{p===h&&this._grabbedManipulators.delete(l)});this._afterManipulatorRelease(u.setActiveTool)}_handlePointerEnd(h,r){const u=this._grabbedManipulators.get(h.pointerId)?.manipulator;null!=u&&u.grabbing&&(u.grabbing=!1,u.events.emit("grab-changed",
{action:"end",pointerType:h.pointerType,screenPoint:n.createScreenPointFromEvent(h)}),this._grabbedManipulators.delete(h.pointerId),this._afterManipulatorRelease(r.setActiveTool))}_onFocusChange(h){this._updateCursor();this._updateFocusedManipulatorTools(h)}_updateCursor(){this._cursor=0<this._grabbedManipulators.size?q(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?q(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(h){const r=new Set,u=new Set;this._grabbedManipulators.forEach(({tool:p})=>
{r.add(p)});this._hoveredManipulators.forEach(({tool:p})=>{u.add(p)});h(p=>{p.hasGrabbedManipulators=r.has(p);p.hasHoveredManipulators=u.has(p);var l=this._grabbedManipulators.values();l=b.find(l,({tool:m})=>m===p);p.firstGrabbedManipulator=null!=l?l.manipulator:null})}clearPointers(h,{forEachTool:r,setActiveTool:u},p=!0,l){this._grabbedManipulators.forEach(({tool:m,manipulator:v,pointerType:A},t)=>{m!==h||null!=l&&l!==v||(this._grabbedManipulators.delete(t),v.grabbing=!1,v.events.emit("grab-changed",
{action:"end",screenPoint:null,pointerType:A}))});this._draggedManipulators.forEach(({tool:m,manipulator:v},A)=>{m!==h||null!=l&&l!==v||(this._draggedManipulators.delete(A),v.dragging=!1,v.events.emit("drag",{action:"cancel"}))});p&&this._hoveredManipulators.forEach(({tool:m,manipulator:v},A)=>{m!==h||null!=l&&l!==v||(this._hoveredManipulators.delete(A),v.hovering=!1)});this._afterManipulatorRelease(u);this._onFocusChange(r)}updateHoveredStateFromKnownPointers(h){this._pointerLocations.forEach((r,
u)=>{this._updateHoveredStateForPointerAtScreenPosition(f.createScreenPoint(r.x,r.y),u,r.pointerType,h)})}handleHoverEvent(h,r){const u=h.type;"pointer-up"!==u&&"immediate-click"!==u&&"pointer-move"!==u||"mouse"!==h.pointerType||("pointer-up"!==u&&this._externallyDragging?this._clearHoveredManipulatorStates(h.pointerId):this._updateHoveredStateForPointerAtScreenPosition(n.createScreenPointFromEvent(h),h.pointerId,h.pointerType,r))}_updateHoveredStateForPointerAtScreenPosition(h,r,u,p){h=e(h,u,p);
u=this._hoveredManipulators.get(r)?.manipulator;null==h||h.manipulator.interactive||(h=null);if(null==h||u!==h.manipulator)null!=u&&(u.hovering=!1),null!=h?(h.manipulator.hovering=!0,this._hoveredManipulators.set(r,h)):this._hoveredManipulators.delete(r),this._onFocusChange(p)}_afterManipulatorRelease(h){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(h(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(h){this._hoveredManipulators.forEach(({manipulator:r},u)=>
{h===u&&(this._hoveredManipulators.delete(h),r.hovering=!1)})}}a.ToolViewManagerManipulatorState=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,c){function f(n){return c.createScreenPoint(n.x,n.y)}function d(n,q){return(n=(n instanceof HTMLElement?n:n.surface)?.getBoundingClientRect())?c.createScreenPoint(q.clientX-n.left,q.clientY-n.top):c.createScreenPoint(0,0)}
a.createScreenPointArrayFromEvent=function(n){return c.createScreenPointArray(n.x,n.y)};a.createScreenPointFromEvent=f;a.createScreenPointFromNativeEvent=d;a.createScreenPointFromSupportedEvent=function(n,q){return q instanceof Event?d(n,q):f(q)};a.isSupportedScreenPointEvent=function(n){if(n instanceof Event)return!0;if("object"===typeof n&&"type"in n)switch(n.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/DefaultHighlights":function(){define(["exports","../../../core/Collection","../../support/HighlightDefaults","../../support/HighlightOptions"],function(a,b,c,f){a.makeDefaultHighlightOptions=function(){return new (b.ofType(f))([new f({name:c.defaultHighlightName}),new f({name:c.temporaryHighlightName,color:c.temporaryHighlightColor})])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/HighlightDefaults":function(){define(["exports",
"../../Color"],function(a,b){const c=new b("cyan"),f=new b("black");b=new b("yellow");a.defaultColor=c;a.defaultFillOpacity=.25;a.defaultHaloOpacity=1;a.defaultHighlightName="default";a.defaultOccludedFactor=.25;a.defaultShadowColor=f;a.defaultShadowDifference=.2;a.defaultShadowOpacity=.4;a.maximumHighlights=8;a.temporaryHighlightColor=b;a.temporaryHighlightName="temporary";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/HighlightOptions":function(){define("../../chunks/tslib.es6 ../../Color ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./HighlightDefaults".split(" "),
function(a,b,c,f,d,n,q,e,g){var h;c=h=class extends c{constructor(r){super(r);this.name=g.defaultHighlightName;this.color=g.defaultColor.clone();this.haloColor=null;this.haloOpacity=g.defaultHaloOpacity;this.fillOpacity=g.defaultFillOpacity;this.shadowColor=g.defaultShadowColor.clone();this.shadowOpacity=g.defaultShadowOpacity;this.shadowDifference=g.defaultShadowDifference;this.haloWidth=2.1;this.haloBlur=.8/this.haloWidth}equals(r){return this.color.equals(r.color)&&(this.haloColor||this.color).equals(r.haloColor||
r.color)&&this.haloOpacity===r.haloOpacity&&this.fillOpacity===r.fillOpacity&&this.haloWidth===r.haloWidth&&this.haloBlur===r.haloBlur&&this.shadowColor.equals(r.shadowColor)&&this.shadowOpacity===r.shadowOpacity&&this.shadowDifference===r.shadowDifference}clone(){return new h({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(r){this.color=r.color.clone();this.haloColor=r.haloColor?.clone();this.haloOpacity=r.haloOpacity;this.fillOpacity=
r.fillOpacity;this.shadowColor=r.shadowColor.clone();this.shadowDifference=r.shadowDifference;this.shadowOpacity=r.shadowOpacity;this.haloBlur=r.haloBlur;this.haloWidth=r.haloWidth}};a.__decorate([f.property({type:String,constructOnly:!0,nonNullable:!0})],c.prototype,"name",void 0);a.__decorate([f.property({type:b,nonNullable:!0})],c.prototype,"color",void 0);a.__decorate([f.property({type:b})],c.prototype,"haloColor",void 0);a.__decorate([f.property({nonNullable:!0})],c.prototype,"haloOpacity",void 0);
a.__decorate([f.property({nonNullable:!0})],c.prototype,"fillOpacity",void 0);a.__decorate([f.property({type:b,nonNullable:!0})],c.prototype,"shadowColor",void 0);a.__decorate([f.property({nonNullable:!0})],c.prototype,"shadowOpacity",void 0);a.__decorate([f.property({nonNullable:!0})],c.prototype,"shadowDifference",void 0);a.__decorate([f.property({nonNullable:!0})],c.prototype,"haloWidth",void 0);a.__decorate([f.property({nonNullable:!0})],c.prototype,"haloBlur",void 0);return c=h=a.__decorate([e.subclass("esri.views.support.HighlightOptions")],
c)})},"esri/views/input/Input":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,f,d,n,q,e){b=class extends b{constructor(){super(...arguments);this.gamepad=new e}};a.__decorate([c.property({readOnly:!0})],b.prototype,"gamepad",void 0);return b=a.__decorate([q.subclass("esri.views.input.Input")],
b)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),function(a,b,c,f,d,n,q,e,g){b=class extends b{constructor(...h){super(...h);this.devices=new c;this.enabledFocusMode="document"}};a.__decorate([f.property({type:c.ofType(g),
readOnly:!0})],b.prototype,"devices",void 0);a.__decorate([f.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=a.__decorate([e.subclass("esri.views.input.gamepad.GamepadSettings")],b)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){b=class extends b{constructor(h){super();this.nativeIndex=null;this._detectedDeviceType="unknown";"standard"===h.mapping?this._detectedDeviceType="standard":e.test(h.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown";this.nativeIndex=h.index}get native(){const h=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<h.length?h[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return g[this.deviceType]}};
a.__decorate([c.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);a.__decorate([c.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);a.__decorate([c.property({type:Number,readOnly:!0})],b.prototype,"axisThreshold",null);b=a.__decorate([q.subclass("esri.views.input.gamepad.GamepadInputDevice")],b);const e=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),g={standard:.15,spacemouse:.025,unknown:0};return b})},"esri/views/navigation/Navigation":function(){define("../../chunks/tslib.es6 ../../core/a11yUtils ../../core/Accessor ../../core/deprecate ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./NavigationActionMap ./gamepad/GamepadSettings".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r){c=class extends c{constructor(u){super(u);this.actionMap=new h;this.browserTouchPanEnabled=!0;this.gamepad=new r;this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!b.prefersReducedMotion()}get mouseWheelZoomEnabled(){return"zoom"===this.actionMap.mouseWheel}set mouseWheelZoomEnabled(u){f.deprecatedProperty(d.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0});this.actionMap.mouseWheel=
u?"zoom":"none"}};a.__decorate([n.property({type:h,nonNullable:!0})],c.prototype,"actionMap",void 0);a.__decorate([n.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);a.__decorate([n.property({type:r,nonNullable:!0})],c.prototype,"gamepad",void 0);a.__decorate([n.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);a.__decorate([n.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",null);return c=a.__decorate([g.subclass("esri.views.navigation.Navigation")],
c)})},"esri/core/a11yUtils":function(){define(["exports","../config"],function(a,b){a.prefersReducedMotion=()=>b.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/navigation/NavigationActionMap":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){f=()=>c.property({type:["pan","rotate","zoom","none"],nonNullable:!0});b=class extends b{constructor(e){super(e);this.dragPrimary="pan";this.dragSecondary="rotate";this.mouseWheel=this.dragTertiary="zoom"}};a.__decorate([f()],b.prototype,"dragPrimary",void 0);a.__decorate([f()],b.prototype,"dragSecondary",void 0);a.__decorate([f()],b.prototype,"dragTertiary",void 0);a.__decorate([c.property({type:["zoom","none"],nonNullable:!0})],b.prototype,"mouseWheel",void 0);return b=a.__decorate([q.subclass("esri.views.navigation.NavigationActionMap")],
b)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),function(a,b,c,f,d,n,q,e){b=class extends b{constructor(g){super(g);this.enabled=!0;this.device=null;this.mode="pan";this.tiltDirection="forward-down";this.velocityFactor=
1}};a.__decorate([c.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);a.__decorate([c.property({type:e})],b.prototype,"device",void 0);a.__decorate([c.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);a.__decorate([c.property({type:["forward-down","forward-up"],nonNullable:!0})],b.prototype,"tiltDirection",void 0);a.__decorate([c.property({type:Number,nonNullable:!0})],b.prototype,"velocityFactor",void 0);return b=a.__decorate([q.subclass("esri.views.navigation.gamepad.GamepadSettings")],
b)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u,p,l){a.DefaultsFromMap=class extends c{constructor(v){super(v);
this.required={extent:!1,heightModelInfo:!1,tileInfo:!1};this.userSpatialReference=this.defaultSpatialReference=null;this.sourcePreloadCount=10;this.priorityCollection=null;this.requiresExtentInSpatialReference=!0;this.suspended=!1;this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=d.abortMaybe(this._projectExtentTask.task));this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&
!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||
this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const v=this.map?.(),A=[];null!=this.priorityCollection&&A.push(this.priorityCollection);A.push({parent:v?.basemap,layers:v?.basemap?.baseLayers},{layers:v?.layers},{parent:v?.ground,layers:v?.ground?.layers},{parent:v?.basemap,layers:v?.basemap?.referenceLayers});return A}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??
{updating:!1};let v;if(this._collectLayers(this.mapCollections,t=>{t=this._getSupportedSpatialReferences(t);0<t.length&&(t=this._narrowDownSpatialReferenceCandidates(v,t),null!=t&&(v=t));return 1===v?.length?!0:!1})&&1!==v?.length)return{updating:!0};const A=this._pickSpatialReferenceCandidate(v);return{spatialReference:A?.spatialReference??null,viewingMode:A?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};var v=this.map?.();
const A=this.spatialReference;if(!A)return{updating:this._spatialReferenceTask.updating};let t;v=this._collectLayers([{parent:v?.basemap,layers:v?.basemap?.baseLayers},{layers:v?.layers}],w=>"tileInfo"in w&&w.tileInfo?.spatialReference.equals(A)?(t=w,!0):!1,w=>"tileInfo"in w);return t?{tileInfo:t.tileInfo,updating:!1}:{updating:v}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??
{updating:!1};let v={};const A=this._collectLayers(this.mapCollections,t=>{const w=u.deriveHeightModelInfoFromLayer(t);return w?(v={heightModelInfo:w,vcsWkid:t.spatialReference?.vcsWkid,latestVcsWkid:t.spatialReference?.latestVcsWkid},!0):!1},t=>u.supportsHeightModelInfo(t));return{...v,updating:A}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
const v=[],A=this._collectLayers(this.mapCollections,t=>{const w="fullExtents"in t&&t.fullExtents||(null!=t.fullExtent?[t.fullExtent]:[]);var z=this.requiresExtentInSpatialReference?null:w[0];if(z=w.find(k=>k.spatialReference.equals(this.spatialReference))??z)return v.push({extent:z,layer:t}),!0;if(0<this._getSupportedSpatialReferences(t).length)for(const k of w)v.push({extent:k,layer:t});return!1});return{candidates:v,updating:A}}get _extentTask(){const {candidates:v,updating:A}=this._extentCandidatesTask;
if(A)return{updating:A};if(null==v||0===v.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._pickExtentCandidate(v),w=this.spatialReference;if(t.extent.equals(this._projectExtentTask.input)&&w.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished};null!=this._projectExtentTask.task&&(this._projectExtentTask.task=
d.abortMaybe(this._projectExtentTask.task));this._projectExtentTask={input:t.extent.clone(),output:null,spatialReference:w.clone(),task:f.createTask(async z=>{try{const k=await l.projectWithEngineOrService(t.extent,w,"portalItem"in t.layer?t.layer.portalItem:void 0,z);this._projectExtentTask={...this._projectExtentTask,task:null,output:k}}catch(k){n.isAborted(z)||(this._projectExtentTask={...this._projectExtentTask,task:null})}})};return{updating:!0}}_narrowDownSpatialReferenceCandidates(v,A){if(null==
v)return A;const t=[];for(const z of v)for(const k of A)if(z.spatialReference.equals(k.spatialReference)){v=z.viewingMode;var w=k.viewingMode;v=null!=v?null!=w?v===w?v:!1:v:w;if(!1!==v){t.push({spatialReference:z.spatialReference,viewingMode:v});break}}return 0<t.length?t:null}_pickSpatialReferenceCandidate(v){const A=this.defaultSpatialReference;if(null==v||1>v.length)return A?{spatialReference:A,viewingMode:null}:null;null!=A&&1<v.length&&v.some(({spatialReference:t})=>t.equals(A))&&(v=v.filter(({spatialReference:t})=>
t.equals(A)));1<v.length&&v.some(({viewingMode:t})=>t!==p.ViewingMode.Local)&&(v=v.filter(({viewingMode:t})=>t!==p.ViewingMode.Local));return v[0]}_getSupportedSpatialReferences(v){var A="supportedSpatialReferences"in v&&v.supportedSpatialReferences||(v.spatialReference?[v.spatialReference]:[]);if(0===A.length)return[];const t=[];for(const w of A)if(A=this.getSpatialReferenceSupport(w,v),null!=A){A=A.constraints??[{spatialReference:w,viewingMode:null}];for(const {spatialReference:z,viewingMode:k}of A)this.requiresExtentInSpatialReference&&
null!=this.userSpatialReference&&!z.equals(this.userSpatialReference)||t.push({spatialReference:z,viewingMode:k})}return t}_pickExtentCandidate(v){const A=this.spatialReference;return v.find(({extent:t})=>A.equals(t.spatialReference))||v[0]}_collectLayers(v,A,t=()=>!0){switch(this._loadMaybe(this.map?.())){case "loading":return!0;case "failed":return!1}A=new m(t,A);for(const w of v)if(this._collectCollection(w,A),A.done||A.preloading===this.sourcePreloadCount)break;return A.updating}_collectCollection(v,
A){if(v.layers){switch(this._loadMaybe(v.parent)){case "loading":A.updating=!0;++A.preloading;return;case "failed":return}for(const t of v.layers)if(A.layerFilter(t)){switch(this._loadMaybe(t)){case "failed":continue;case "loading":A.updating=!0;++A.preloading;break;case "loaded":A.updating||(A.done=A.pushLayer(t)),A.done||A.preloading===this.sourcePreloadCount||"layers"in t&&this._collectCollection({layers:t.layers},A)}if(A.done||A.preloading===this.sourcePreloadCount)break}}}_loadMaybe(v){return v&&
"loadStatus"in v&&null!=v.loadStatus?"not-loaded"===v.loadStatus?(v.load().catch(A=>{n.isAbortError(A)}),"loading"):v.loadStatus:"loaded"}};b.__decorate([q.property()],a.DefaultsFromMap.prototype,"required",void 0);b.__decorate([q.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);b.__decorate([q.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);
b.__decorate([q.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"suspended",void 0);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"ready",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);b.__decorate([q.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"latestVcsWkid",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"viewingMode",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"tileInfo",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",
null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"_extentTask",null);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=b.__decorate([r.subclass("esri.views.support.DefaultsFromMap")],a.DefaultsFromMap);class m{constructor(v,A){this.layerFilter=
v;this.pushLayer=A;this.preloading=-1;this.done=this.updating=!1}}Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define(["exports","../../core/has","../../core/Error","../HeightModelInfo","../../layers/support/arcgisLayerUrl"],function(a,b,c,f,d){function n(l,m,v){if(!q(l)||!q(m))return u.Unsupported;if(null==l||null==m)return u.Ok;if(!v&&l.heightUnit!==m.heightUnit)return u.Units;if(l.heightModel!==m.heightModel)return u.HeightModel;
switch(l.heightModel){case "gravity-related-height":return u.Ok;case "ellipsoidal":return l.vertCRS===m.vertCRS?u.Ok:u.CRS;default:return u.Unsupported}}function q(l){return null==l||null!=l.heightModel&&null!=l.heightUnit}function e(l){if("integrated-mesh-3dtiles"===l.type)return null;const m=l.url?d.parse(l.url):void 0;return(null!=l.spatialReference?.vcsWkid||null==m||"ImageServer"!==m.serverType)&&"heightModelInfo"in l&&l.heightModelInfo?l.heightModelInfo:h(l)?f.deriveUnitFromSR(p,l.spatialReference):
null}function g(l){if("unknown"===l.type||!("capabilities"in l))return!1;switch(l.type){case "catalog":case "catalog-footprint":case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case "elevation":case null:return!1;default:return!1}}function h(l){return g(l)?!!(l.capabilities&&l.capabilities.data&&l.capabilities.data.supportsZ):
r(l)}function r(l){switch(l.type){case "building-scene":case "elevation":case "integrated-mesh":case "integrated-mesh-3dtiles":case "point-cloud":case "scene":case "voxel":return!0}return!1}var u;(function(l){l[l.Ok=0]="Ok";l[l.Units=1]="Units";l[l.HeightModel=2]="HeightModel";l[l.CRS=3]="CRS";l[l.Unsupported=4]="Unsupported"})(u||={});const p=new f({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=e;a.rejectLayerError=function(l,m,v){const A=e(l),t=n(A,m,v);if(A){const w=f.deriveUnitFromSR(A,
l.spatialReference).heightUnit;if(!v&&w!==A.heightUnit)return m=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${w})`,{horizontalUnit:w}),new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:A,error:m})}if(!("heightModelInfo"in l&&null!=l.heightModelInfo||null!=l.spatialReference)&&h(l)||t===u.Unsupported)return new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",
{heightModelInfo:A});switch(t){case u.Units:return l=A?.heightUnit||"unknown",v=m?.heightUnit||"unknown",l=new c("layerview:incompatible-height-unit",`The vertical units of the layer (${l}) must match the vertical units of the scene (${v})`,{layerUnit:l,sceneUnit:v}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:A,sceneHeightModelInfo:m,error:l});case u.HeightModel:return l=A?.heightModel||"unknown",
v=m?.heightModel||"unknown",l=new c("layerview:incompatible-height-model",`The height model of the layer (${l}) must match the height model of the scene (${v})`,{layerHeightModel:l,sceneHeightModel:v}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:A,sceneHeightModelInfo:m,error:l});case u.CRS:return l=A?.vertCRS||"unknown",v=m?.vertCRS||"unknown",l=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${l}) must match the vertical datum of the scene (${v})`,
{layerDatum:l,sceneDatum:v}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:A,sceneHeightModelInfo:m,error:l})}return null};a.supportsHeightModelInfo=function(l){return null!=l.layers||r(l)||g(l)||"heightModelInfo"in l};a.validateWebSceneError=function(l,m){if(!l)return null;if(!q(l))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",
{heightModelInfo:l});const v=l.heightUnit;l=f.deriveUnitFromSR(l,m).heightUnit;return v!==l?new c("webscene:incompatible-height-unit",`The vertical units of the scene (${v}) must match the horizontal units of the scene (${l})`,{verticalUnit:v,horizontalUnit:l}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode=
{}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/projectionUtils":function(){define(["require","exports","../../core/promiseUtils","../../geometry/projection"],function(a,b,c,f){async function d(g){q||=(new Promise((h,r)=>a(["../../portal/support/geometryServiceUtils"],h,r))).then(h=>
e=h);await q;c.throwIfAborted(g)}async function n(g,h,r,u){if(!g)return null;const p=g.spatialReference;if(f.isLoaded()||f.canProjectWithoutEngine(p,h))return f.project(g,h);if(e)return e.projectGeometry(g,h,r,u);await Promise.race([d(u),f.load(u)]);return n(g,h,r,u)}let q=null,e;b.projectWithEngineOrService=n;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/RequiredFieldsOptions":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q){b=class extends b{constructor(e){super(e);this.globalIdField=this.utilityNetworkFields=this.featureTitleFields=!1}};a.__decorate([c.property()],b.prototype,"featureTitleFields",void 0);a.__decorate([c.property()],b.prototype,"utilityNetworkFields",void 0);a.__decorate([c.property()],b.prototype,"globalIdField",void 0);return b=a.__decorate([q.subclass("esri.views.support.RequiredFieldsOptions")],b)})},"esri/views/ViewAnimation":function(){define("../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,n,q,e,g){c=class extends c{constructor(h){super(h);this.state="running";this._resolver=this.target=null}initialize(){this._resolver=f.createResolver();this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new b("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state",
"finished"),this._resolver?.resolve())}update(h,r){r||=f.isPromiseLike(h)?"waiting-for-target":"running";this._set("target",h);this._set("state",r)}};a.__decorate([d.property({readOnly:!0})],c.prototype,"done",null);a.__decorate([d.property({readOnly:!0,type:String})],c.prototype,"state",void 0);a.__decorate([d.property()],c.prototype,"target",void 0);c=a.__decorate([g.subclass("esri.views.ViewAnimation")],c);(c||={}).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};
return c})},"esri/views/layers/LayerView":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/support/UpdatingHandles ../support/layerViewUtils".split(" "),function(a,b,c,f,d,n,q,e,g,h,r,u,p){b=class extends f.IdentifiableMixin(q.EsriPromiseMixin(c.EventedMixin(b))){get spatialReferenceSupported(){return!0}constructor(l){super(l);
this._updatingHandles=new u.UpdatingHandles;this.parent=this.layer=null}initialize(){this.when().catch(l=>{if("layerview:create-error"!==l.name){const m=this.layer&&this.layer.id||"no id",v=this.layer?.title||"no title";d.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${v}', id: '${m}')`,l)}})}destroy(){this._updatingHandles=n.destroyMaybe(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||
!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(l){this._overrideIfSome("visible",l)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const l=this.view.timeExtent,
m=this.layer?.visibilityTimeExtent;return!l||!m||!l.intersection(m).isEmpty}canResume(){const l=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&p.validateScaleRange(l)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const l=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(l.viewNotReady=!0);this.layer&&this.layer.loaded||
(l.layerNotLoaded=!0);p.validateScaleRange(this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null)&&this.visibleAtCurrentScale||(l.outsideScaleRange=!0);this.visibleAtCurrentTimeExtent||(l.outsideVisibilityTimeExtent=!0);this.visible||(l.layerInvisible=!0);return l}isUpdating(){return!1}};a.__decorate([e.property({readOnly:!0})],b.prototype,"spatialReferenceSupported",null);a.__decorate([e.property()],b.prototype,"view",void 0);a.__decorate([e.property()],b.prototype,"fullOpacity",
null);a.__decorate([e.property()],b.prototype,"layer",void 0);a.__decorate([e.property()],b.prototype,"parent",void 0);a.__decorate([e.property({readOnly:!0})],b.prototype,"suspended",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"suspendInfo",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"legendEnabled",null);a.__decorate([e.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"updatingProgress",null);a.__decorate([e.property()],
b.prototype,"updateSuspended",null);a.__decorate([e.property()],b.prototype,"visible",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"visibleAtCurrentScale",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"visibleAtCurrentTimeExtent",null);return b=a.__decorate([r.subclass("esri.views.layers.LayerView")],b)})},"esri/views/support/layerViewUtils":function(){define(["exports","../../core/Error"],function(a,b){function c(d,n,q){return null==d||d>=q&&(0===n||d<=n)}function f(d,
n){return null!=d&&0<d||null!=n&&0<n}a.highlightsSupported=function(d){return d&&"function"===typeof d.highlight};a.isInEffectiveScaleRange=function(d,n){if(n&&d){const {minScale:q,maxScale:e}=d;if(f(q,e))return c(n,q,e)}return!0};a.isScaleRangeActive=f;a.isSelectableLayerView2D=function(d){return null!=d&&"object"===typeof d&&"createQuery"in d&&"queryFeatures"in d&&"layer"in d&&"view"in d};a.occludeesSupported=function(d){return d&&"function"===typeof d.maskOccludee};a.scaleBoundsPredicate=c;a.spatialReferenceIncompatibleError=
function(d,n,q){return new b("layerview:spatial-reference-incompatible",`The spatial reference of this ${d}${n?`(wkid:${n})`:""} is incompatible with the spatial reference of the view${q?`(wkid:${q})`:""}.`,{})};a.validateScaleRange=function(d){return!d?.minScale||!d.maxScale||d.minScale>=d.maxScale};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/Widget":function(){define("../chunks/tslib.es6 ../intl ../core/domUtils ../core/Evented ../core/events ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ../chunks/componentsUtils ./support/jsxWidgetSupport ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,f,d,n,q,e,g,h,r,u,p,l,m,v,A,t,w,z,k,x,y,B,E,J,K){function H(W,L){const P=Object.prototype.hasOwnProperty;for(const X in L)P.call(L,X)&&P.call(W,X)&&(null!=W[X]&&null!=L[X]&&"object"===typeof W[X]&&"object"===typeof L[X]?H(W[X],L[X]):W[X]=L[X]);return W}let F=0;const N=w.createAdvancedProjector({postProcessProjectionOptions(W){const L=W.eventHandlerInterceptor,P=/capture$/i;W.eventHandlerInterceptor=(X,D,R,Y)=>{const ja=L?.(X,D,R,Y),da=P.test(X);X=X.replace(P,"");if(!(X.toLowerCase()in
R)||da){const sa=X[2].toLowerCase()+X.slice(3),qa=la=>ja?.call(R,la);R.addEventListener(sa,qa,da);const ia=Y.afterRemoved;Y.afterRemoved=la=>{ia?.(la);R.removeEventListener(sa,qa,da)}}return ja}},handleInterceptedEvent(W,L,P,X){const {eventPhase:D,type:R}=X,Y=D===Event.CAPTURING_PHASE;let ja=`on${R}${Y?"capture":""}`;L=L.properties;if(!(L&&ja in L||(ja=`on${R[0].toUpperCase()}${R.slice(1)}${Y?"Capture":""}`,L&&ja in L)))return;B.clearVNodeCache();W.scheduleRender();L[ja].call(L.bind||P,X)}});let S=
!1;f=class extends h.EsriPromiseMixin(f.EventedAccessor){constructor(W,L){super(W,L);this._attached=!1;this._projector=N;this._readyForTrueRender=!1;this.key=this;this.autoRenderingEnabled=!0;this._loadLocale=r.debounce(async()=>{if(this._messageBundleProps?.length){const Y=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:ja,propertyName:da})=>{this.destroyed||(ja=await K.fetchMessageBundle(ja),this.uiStrings&&Object.keys(this.uiStrings)&&(ja=H(q.clone(ja),this.uiStrings)),
this[da]=ja)}));if(this.destroyed)return;for(const ja of Y)"rejected"===ja.status&&e.getLogger(this).error("widget-intl:locale-error",this.declaredClass,ja.reason)}await this.loadLocale()});z.commitAssetPath();const P="esri-widget-uid-"+p.generateUUID(),X=this.render.bind(this);this._trackingTarget=new t.SimpleTrackingTarget(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const D=()=>({vnodeSelector:"div",properties:{key:`${P}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,
text:void 0}),R=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const Y=X()??D(),ja=Y.properties??(Y.properties={});ja.key??(ja.key=P);if(k.isWidgetConstructor(Y.vnodeSelector)){if(!this.visible)return D()}else{this.visible?ja.styles||(ja.styles={}):(ja.class="",ja.styles={display:"none"});let sa;(sa=ja.styles).display??(sa.display="")}let da=0;Y.children?.forEach(sa=>{if(!k.isWidgetConstructor(sa.vnodeSelector)){sa.properties??(sa.properties={});var qa;(qa=sa.properties).key??(qa.key=
`${this.id}--${da++}`)}});return k.processWidgets(this,Y)};this.render=()=>{if(S)return R();let Y=B.getVNodeCache(this)??null;if(Y)return Y;this._trackingTarget.clear();S=!0;try{Y=A.runTracked(this._trackingTarget,R)}catch(ja){throw e.getLogger(this).error(ja),ja;}finally{S=!1}Y&&B.setVNodeCache(this,Y);return Y};(W=this.beforeFirstRender())?this._resourcesFetch=W.then(()=>{this._readyForTrueRender=!0;this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),
this._readyForTrueRender=!0);this.addResolvingPromise(this._resourcesFetch);y.registerLoading(this._resourcesFetch)}normalizeCtorArgs(W,L){W={...W};L&&(W.container=L);return W}postInitialize(){}beforeFirstRender(){const W=this.loadDependencies();return this._messageBundleProps?.length||W?Promise.all([W,this._loadLocale()]).then(()=>{}).catch(r.throwIfNotAbortError):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(g.destroyMaybe(this._trackingTarget),g.destroyMaybe(this.viewModel),
this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,B.deleteVNodeCache(this))}set container(W){this._get("container")||this._set("container",W)}castContainer(W){return c.byId(W)}get domNode(){return this.container}set domNode(W){this.container=W}get icon(){return null}set icon(W){this._overrideIfSome("icon",W)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+F++}set id(W){W&&this._set("id",
W)}get label(){return this.declaredClass.split(".").pop()}set label(W){this._overrideIfSome("label",W)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(W){this._set("visible",W)}get [(b=x.widgetSymbol,x.widgetTestDataSymbol)](){return{projector:this._projector}}render(){throw Error("not implemented");}scheduleRender(){this.destroyed||(B.deleteVNodeCache(this),this._projector.scheduleRender())}classes(...W){return E.classes.apply(this,W)}renderNow(){B.deleteVNodeCache(this);
this._projector.renderNow()}_postInitialize(){if(!this.destroyed){this.scheduleRender();this._delegatedEventNames?.length&&this.addHandles(u.watch(()=>this.viewModel,(L,P)=>{P&&this.removeHandles("delegated-events");L&&d.isEventedOrEventTarget(L)&&this.addHandles(this._delegatedEventNames.map(X=>d.on(L,X,D=>{this.emit(X,D)})),"delegated-events")},u.syncAndInitial));this.postInitialize();var W=async()=>{await this._loadLocale().catch(r.throwIfNotAbortError);this.scheduleRender()};this.addHandles([J.onLocaleChange(W),
u.watch(()=>this.uiStrings,W),u.when(()=>this.container,L=>{this.destroyed||this._attach(L)},{initial:!0,once:!0})])}}_attach(W){W&&(this._projector.merge(W,this.render),this._attached=!0)}_detach(W){this._attached&&(this._projector.detach(this.render),this._attached=!1);W?.parentNode?.removeChild(W)}};f[b]=!0;f.vnodeSelector="div";a.__decorate([l.property()],f.prototype,"_readyForTrueRender",void 0);a.__decorate([l.property({value:null})],f.prototype,"container",null);a.__decorate([m.cast("container")],
f.prototype,"castContainer",null);a.__decorate([l.property()],f.prototype,"icon",null);a.__decorate([l.property()],f.prototype,"id",null);a.__decorate([l.property()],f.prototype,"label",null);a.__decorate([l.property()],f.prototype,"renderable",null);a.__decorate([l.property()],f.prototype,"uiStrings",void 0);a.__decorate([l.property()],f.prototype,"viewModel",void 0);a.__decorate([l.property({value:!0})],f.prototype,"visible",null);a.__decorate([l.property()],f.prototype,"key",void 0);a.__decorate([l.property()],
f.prototype,"children",void 0);a.__decorate([l.property()],f.prototype,"afterCreate",void 0);a.__decorate([l.property()],f.prototype,"afterUpdate",void 0);a.__decorate([l.property()],f.prototype,"afterRemoved",void 0);return f=a.__decorate([v.subclass("esri.widgets.Widget")],f)})},"esri/core/domUtils":function(){define(["exports"],function(a){a.byId=function(b){return"string"===typeof b?document.getElementById(b):b??null};a.reparent=function(b,c){for(;;){const f=b.firstChild;if(!f)break;c.appendChild(f)}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,f,d){const n=(g,h)=>{const r=[];for(;g&&g!==h;)r.push(g),g=g.parentNode;return r},q=(g,h)=>g.find(h),e=(g,h,r=!1)=>{let u=g;h.forEach((p,l)=>{const m=u?.children?q(u.children,v=>v.domNode===p):void 0;if(!r||m||l===h.length-1)u=m});return u};a.createAdvancedProjector=
g=>{let h;const r={...f.defaultAdvancedProjectorOptions,...g},u=d.applyDefaultProjectionOptions(r),p=u.performanceLogger;let l=!0,m,v=!1;const A=[],t=[],w=(k,x,y)=>{let B;u.eventHandlerInterceptor=(J,K,H,F)=>function(N){p("domEvent",N);var S=n(N.currentTarget,B.domNode);const W=S.some(P=>customElements.get(P?.tagName?.toLowerCase()));N.eventPhase!==Event.CAPTURING_PHASE&&W?(S=N.composedPath(),S=S.slice(S.indexOf(N.currentTarget),S.indexOf(B.domNode)).reverse(),S=e(B.getLastRender(),S,!0)):(S.reverse(),
S=e(B.getLastRender(),S));let L;S&&(L=r.handleInterceptedEvent(h,S,this,N));p("domEventProcessed",N);return L};r.postProcessProjectionOptions?.(u);const E=y();B=k(x,E,u);u.eventHandlerInterceptor=void 0;A.push(B);t.push(y);r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(B,E)};let z=()=>{m=void 0;if(l){l=!1;p("renderStart",void 0);for(let k=0;k<A.length;k++){const x=t[k]();p("rendered",void 0);try{A[k].update(x)}catch(y){console.error(y)}p("patched",void 0)}p("renderDone",void 0);l=!0}};r.modifyDoRenderImplementation&&
(z=r.modifyDoRenderImplementation(z,A,t));return h={renderNow:z,scheduleRender:()=>{m||v||(m=requestAnimationFrame(z))},stop:()=>{m&&(cancelAnimationFrame(m),m=void 0);v=!0},resume:()=>{v=!1;l=!0;h.scheduleRender()},append:(k,x)=>{w(b.dom.append,k,x)},insertBefore:(k,x)=>{w(b.dom.insertBefore,k,x)},merge:(k,x)=>{w(b.dom.merge,k,x)},replace:(k,x)=>{w(b.dom.replace,k,x)},detach:k=>{for(let x=0;x<t.length;x++)if(t[x]===k)return t.splice(x,1),A.splice(x,1)[0];throw Error("renderFunction was not found");
}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(f,d,n)=>{"-"===d.charAt(0)?f.style.setProperty(d,n):f.style[d]=n}};a.applyDefaultProjectionOptions=f=>b.extend(c,f);a.dom={create:(f,d)=>{d=b.extend(c,d);b.createDom(f,document.createElement("div"),void 0,d);return b.createProjection(f,d)},append:(f,d,n)=>
{n=b.extend(c,n);b.createDom(d,f,void 0,n);return b.createProjection(d,n)},insertBefore:(f,d,n)=>{n=b.extend(c,n);b.createDom(d,f.parentNode,f,n);return b.createProjection(d,n)},merge:(f,d,n)=>{n=b.extend(c,n);d.domNode=f;b.initPropertiesAndChildren(f,d,n);return b.createProjection(d,n)},replace:(f,d,n)=>{n=b.extend(c,n);b.createDom(d,f.parentNode,f,n);f.parentNode.removeChild(f);return b.createProjection(d,n)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports",
"../../widgets/support/widgetUtils"],function(a,b){function c(z){if(!(z instanceof Element&&z.tagName.includes("-")))return!1;const k=window.customElements.get(z.tagName.toLowerCase());return!!k&&z instanceof k}let f=[],d=(z,k)=>{let x={};Object.keys(z).forEach(y=>{x[y]=z[y]});k&&Object.keys(k).forEach(y=>{x[y]=k[y]});return x},n=(z,k)=>z.vnodeSelector!==k.vnodeSelector?!1:z.properties&&k.properties?z.properties.key!==k.properties.key?!1:z.properties.bind===k.properties.bind:!z.properties&&!k.properties,
q=z=>{if("string"!==typeof z)throw Error("Style values must be strings");},e=(z,k,x,y)=>{let B=z[k];if(""!==B.vnodeSelector){var E=B.properties;if(!(E&&(void 0===E.key?E.bind:E.key)))for(E=0;E<z.length;E++)if(E!==k&&n(z[E],B))throw Error(`${x.vnodeSelector} had a ${B.vnodeSelector} child ${"added"===y?y:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},g=[],h=!1,r=z=>{(z.children||[]).forEach(r);z.properties&&z.properties.afterRemoved&&
z.properties.afterRemoved.apply(z.properties.bind||z.properties,[z.domNode])},u=()=>{h=!1;g.forEach(r);g.length=0},p=z=>{g.push(z);h||(h=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(u,{timeout:16}):setTimeout(u,16))},l=z=>{let k=z.domNode;if(z.properties){let x=z.properties.exitAnimation;if(x){k.style.pointerEvents="none";x(k,()=>{k.parentNode&&(k.parentNode.removeChild(k),p(z))},z.properties);return}}k.parentNode&&(k.parentNode.removeChild(k),p(z))},m=
(z,k,x)=>{if(k){var y=x.eventHandlerInterceptor,B=Object.keys(k),E=B.length;for(let N=0;N<E;N++){var J=B[N];let S=k[J];if("className"===J)throw Error('Property "className" is not supported, use "class".');if("class"===J)w(z,S,!0);else if("classes"===J){J=Object.keys(S);var K=J.length;for(var H=0;H<K;H++){var F=J[H];S[F]&&z.classList.add(F)}}else if("styles"===J)for(J=Object.keys(S),K=J.length,H=0;H<K;H++){F=J[H];let W=S[F];W&&(q(W),x.styleApplyer(z,F,W))}else"key"!==J&&null!==S&&void 0!==S&&(K=typeof S,
"function"===K?(0===J.lastIndexOf("on",0)&&(y&&(S=y(J,S,z,k)),"oninput"===J&&function(){let W=S;S=function(L){W.apply(this,[L]);L.target["oninput-value"]=L.target.value}}()),z[J]=S):"http://www.w3.org/2000/svg"===x.namespace?"href"===J?z.setAttributeNS("http://www.w3.org/1999/xlink",J,S):z.setAttribute(J,S):"string"===K&&"value"!==J?"innerHTML"===J?z[J]=b.renderingSanitizer.sanitize(S):c(z)&&J in z?z[J]=S:z.setAttribute(J,S):z[J]=S)}}},v=(z,k,x)=>{var y=k.children;if(y)for(let B of y)A(B,z,void 0,
x);k.text&&(z.textContent=k.text);m(z,k.properties,x);k.properties&&k.properties.afterCreate&&k.properties.afterCreate.apply(k.properties.bind||k.properties,[z,x,k.vnodeSelector,k.properties,k.children])},A=(z,k,x,y)=>{let B;var E=0;let J=z.vnodeSelector,K=k.ownerDocument;if(""===J)B=z.domNode=K.createTextNode(z.text),void 0!==x?k.insertBefore(B,x):k.appendChild(B);else{for(let F=0;F<=J.length;++F){var H=J.charAt(F);if(F===J.length||"."===H||"#"===H)H=J.charAt(E-1),E=J.slice(E,F),"."===H?B.classList.add(E):
"#"===H?B.id=E:("svg"===E&&(y=d(y,{namespace:"http://www.w3.org/2000/svg"})),void 0!==y.namespace?B=z.domNode=K.createElementNS(y.namespace,E):(B=z.domNode=z.domNode||K.createElement(E),"input"===E&&z.properties&&void 0!==z.properties.type&&B.setAttribute("type",z.properties.type)),void 0!==x?k.insertBefore(B,x):B.parentNode!==k&&k.appendChild(B)),E=F+1}v(B,z,y)}},t,w=(z,k,x)=>{k&&k.split(" ").forEach(y=>{y&&z.classList.toggle(y,x)})};t=(z,k,x)=>{let y=z.domNode;if(z===k)return!1;let B=!1;if(""===
k.vnodeSelector){if(k.text!==z.text)return z=y.ownerDocument.createTextNode(k.text),y.parentNode.replaceChild(z,y),k.domNode=z,!0;k.domNode=y}else{0===k.vnodeSelector.lastIndexOf("svg",0)&&(x=d(x,{namespace:"http://www.w3.org/2000/svg"}));z.text!==k.text&&(B=!0,void 0===k.text?y.removeChild(y.firstChild):y.textContent=k.text);k.domNode=y;var E=z.children;var J=k.children,K=x;if(E===J)E=!1;else{E=E||f;J=J||f;for(var H=E.length,F=J.length,N=0,S=0,W=!1;S<F;){var L=N<H?E[N]:void 0,P=J[S];if(void 0!==
L&&n(L,P))W=t(L,P,K)||W,N++;else{b:{L=E;var X=P,D=N+1;if(""!==X.vnodeSelector)for(;D<L.length;D++)if(n(L[D],X)){L=D;break b}L=-1}if(0<=L){for(;N<L;N++)l(E[N]),e(E,N,k,"removed");W=t(E[L],P,K)||W;N=L+1}else A(P,y,N<H?E[N].domNode:void 0,K),P.properties&&(L=P.properties.enterAnimation)&&L(P.domNode,P.properties),e(J,S,k,"added")}S++}if(H>N)for(;N<H;N++)l(E[N]),e(E,N,k,"removed");E=W}B=E||B;E=z.properties;J=k.properties;K=x;if(J){H=!1;F=Object.keys(J);S=F.length;for(W=0;W<S;W++)if(L=F[W],P=J[L],N=E[L],
"class"===L)N!==P&&(w(y,N,!1),w(y,P,!0));else if("classes"===L){L=y.classList;X=Object.keys(P);D=X.length;for(var R=0;R<D;R++){var Y=X[R];let ja=!!P[Y];ja!==!!N[Y]&&(H=!0,ja?L.add(Y):L.remove(Y))}}else if("styles"===L)for(L=Object.keys(P),X=L.length,D=0;D<X;D++)R=L[D],Y=P[R],Y!==N[R]&&(H=!0,Y?(q(Y),K.styleApplyer(y,R,Y)):K.styleApplyer(y,R,""));else(P||"string"!==typeof N||(P=""),"value"!==L||c(y))?P!==N&&(N=typeof P,"function"===N&&K.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===K.namespace?
"href"===L?y.setAttributeNS("http://www.w3.org/1999/xlink",L,P):y.setAttribute(L,P):"string"===N?"innerHTML"===L?y[L]=b.renderingSanitizer.sanitize(P):"role"===L&&""===P?y.removeAttribute(L):c(y)&&L in y?y[L]=P:y.setAttribute(L,P):y[L]!==P&&(y[L]=P),H=!0)):(X=y[L],X!==P&&(y["oninput-value"]?X===y["oninput-value"]:P!==N)&&(y[L]=P,y["oninput-value"]=void 0),P!==N&&(H=!0));E=H}else E=void 0;B=E||B;k.properties&&k.properties.afterUpdate&&k.properties.afterUpdate.apply(k.properties.bind||k.properties,
[y,x,k.vnodeSelector,k.properties,k.children])}B&&k.properties&&k.properties.updateAnimation&&k.properties.updateAnimation(y,k.properties,z.properties);return!1};a.createDom=A;a.createProjection=(z,k)=>({getLastRender:()=>z,update:x=>{if(z.vnodeSelector!==x.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let y=z;z=x;t(y,x,k)},domNode:z.domNode});a.extend=d;a.initPropertiesAndChildren=v;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ../../core/promiseUtils ../../core/reactiveUtils ../../core/scheduling ./vnodeCache".split(" "),function(a,b,c,f,d,n,q,e,g){function h(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,
"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,
"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,
"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,
"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,
"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,
"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,
"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,
"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,
overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,
rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,
"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,
visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function r(ca){ca=ca||{};var va={},xa;for(xa in ca)va[xa]=ca[xa];ca=va;ca.whiteList=ca.whiteList||L.whiteList;ca.onAttr=ca.onAttr||L.onAttr;ca.onIgnoreAttr=ca.onIgnoreAttr||
L.onIgnoreAttr;ca.safeAttrValue=ca.safeAttrValue||L.safeAttrValue;this.options=ca}function u(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],
div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align",
"valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function p(ca){return ca.replace(ja,"\x26lt;").replace(da,"\x26gt;")}function l(ca){return ca.replace(sa,"\x26quot;")}function m(ca){return ca.replace(qa,'"')}function v(ca){return ca.replace(ia,function(va,xa){return"x"===xa[0]||"X"===xa[0]?String.fromCharCode(parseInt(xa.substr(1),16)):String.fromCharCode(parseInt(xa,
10))})}function A(ca){return ca.replace(la,":").replace(ua," ")}function t(ca){for(var va="",xa=0,Da=ca.length;xa<Da;xa++)va+=32>ca.charCodeAt(xa)?" ":ca.charAt(xa);return R.trim(va)}function w(ca){ca=m(ca);ca=v(ca);ca=A(ca);return ca=t(ca)}function z(ca){ca=l(ca);return ca=p(ca)}function k(ca,va){for(;va<ca.length;va++){var xa=ca[va];if(" "!==xa)return"\x3d"===xa?va:-1}}function x(ca,va){for(;va<ca.length;va++){var xa=ca[va];if(" "!==xa)return"'"===xa||'"'===xa?va:-1}}function y(ca,va){for(;0<va;va--){var xa=
ca[va];if(" "!==xa)return"\x3d"===xa?va:-1}}function B(ca){var va='"'===ca[0]&&'"'===ca[ca.length-1]||"'"===ca[0]&&"'"===ca[ca.length-1]?!0:!1;return va?ca.substr(1,ca.length-2):ca}function E(ca){var va=Ea.spaceIndex(ca);if(-1===va)return{html:"",closing:"/"===ca[ca.length-2]};ca=Ea.trim(ca.slice(va+1,-1));(va="/"===ca[ca.length-1])&&(ca=Ea.trim(ca.slice(0,-1)));return{html:ca,closing:va}}function J(ca){var va={},xa;for(xa in ca)Array.isArray(ca[xa])?va[xa.toLowerCase()]=ca[xa].map(function(Da){return Da.toLowerCase()}):
va[xa.toLowerCase()]=ca[xa];return va}function K(ca){ca=ca||{};var va={},xa;for(xa in ca)va[xa]=ca[xa];ca=va;ca.stripIgnoreTag&&(ca.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),ca.onIgnoreTag=fa.onIgnoreTagStripAll);ca.whiteList=ca.whiteList||ca.allowList?J(ca.whiteList||ca.allowList):fa.whiteList;ca.onTag=ca.onTag||fa.onTag;ca.onTagAttr=ca.onTagAttr||fa.onTagAttr;ca.onIgnoreTag=ca.onIgnoreTag||fa.onIgnoreTag;ca.onIgnoreTagAttr=
ca.onIgnoreTagAttr||fa.onIgnoreTagAttr;ca.safeAttrValue=ca.safeAttrValue||fa.safeAttrValue;ca.escapeHtml=ca.escapeHtml||fa.escapeHtml;this.options=ca;!1===ca.css?this.cssFilter=!1:(ca.css=ca.css||{},this.cssFilter=new Q(ca.css))}var H=function(){H=Object.assign||function(ca){for(var va,xa=1,Da=arguments.length;xa<Da;xa++){va=arguments[xa];for(var Ha in va)Object.prototype.hasOwnProperty.call(va,Ha)&&(ca[Ha]=va[Ha])}return ca};return H.apply(this,arguments)};f={exports:{}};var F={};d={exports:{}};
var N={},S=/javascript\s*:/gim;N.whiteList=h();N.getDefaultWhiteList=h;N.onAttr=function(ca,va,xa){};N.onIgnoreAttr=function(ca,va,xa){};N.safeAttrValue=function(ca,va){return S.test(va)?"":va};var W={indexOf:function(ca,va){var xa;if(Array.prototype.indexOf)return ca.indexOf(va);var Da=0;for(xa=ca.length;Da<xa;Da++)if(ca[Da]===va)return Da;return-1},forEach:function(ca,va,xa){var Da;if(Array.prototype.forEach)return ca.forEach(va,xa);var Ha=0;for(Da=ca.length;Ha<Da;Ha++)va.call(xa,ca[Ha],Ha,ca)},
trim:function(ca){return String.prototype.trim?ca.trim():ca.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(ca){return String.prototype.trimRight?ca.trimRight():ca.replace(/(\s*$)/g,"")}},L=N,P=function(ca,va){function xa(){if(!Ha){var Ua=W.trim(ca.slice(na,wa)),Ya=Ua.indexOf(":");if(-1!==Ya){var cb=W.trim(Ua.slice(0,Ya));Ya=W.trim(Ua.slice(Ya+1));cb&&(Ua=va(na,Ma.length,cb,Ya,Ua))&&(Ma+=Ua+"; ")}}na=wa+1}ca=W.trimRight(ca);";"!==ca[ca.length-1]&&(ca+=";");for(var Da=ca.length,Ha=!1,na=0,wa=0,Ma=
"";wa<Da;wa++){var Ja=ca[wa];if("/"===Ja&&"*"===ca[wa+1]){Ja=ca.indexOf("*/",wa+2);if(-1===Ja)break;wa=Ja+1;na=wa+1;Ha=!1}else"("===Ja?Ha=!0:")"===Ja?Ha=!1:";"===Ja?Ha||xa():"\n"===Ja&&xa()}return W.trim(Ma)};r.prototype.process=function(ca){ca=(ca||"").toString();if(!ca)return"";var va=this.options,xa=va.whiteList,Da=va.onAttr,Ha=va.onIgnoreAttr,na=va.safeAttrValue;return P(ca,function(wa,Ma,Ja,Ua,Ya){var cb=xa[Ja],eb=!1;!0===cb?eb=cb:"function"===typeof cb?eb=cb(Ua):cb instanceof RegExp&&(eb=cb.test(Ua));
!0!==eb&&(eb=!1);if(Ua=na(Ja,Ua)){wa={position:Ma,sourcePosition:wa,source:Ya,isWhite:eb};if(eb)return eb=Da(Ja,Ua,wa),void 0===eb||null===eb?Ja+":"+Ua:eb;eb=Ha(Ja,Ua,wa);if(void 0!==eb&&null!==eb)return eb}})};(function(ca,va){va=ca.exports=function(Da,Ha){return(new r(Ha)).process(Da)};va.FilterCSS=r;for(var xa in N)va[xa]=N[xa]})(d,d.exports);d=d.exports;var X={indexOf:function(ca,va){var xa;if(Array.prototype.indexOf)return ca.indexOf(va);var Da=0;for(xa=ca.length;Da<xa;Da++)if(ca[Da]===va)return Da;
return-1},forEach:function(ca,va,xa){var Da;if(Array.prototype.forEach)return ca.forEach(va,xa);var Ha=0;for(Da=ca.length;Ha<Da;Ha++)va.call(xa,ca[Ha],Ha,ca)},trim:function(ca){return String.prototype.trim?ca.trim():ca.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(ca){return(ca=/\s|\n|\t/.exec(ca))?ca.index:-1}},D=d.getDefaultWhiteList,R=X,Y=new d.FilterCSS,ja=/</g,da=/>/g,sa=/"/g,qa=/&quot;/g,ia=/&#([a-zA-Z0-9]*);?/gim,la=/&colon;?/gim,ua=/&newline;?/gim,ya=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,
V=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ha=/u\s*r\s*l\s*\(.*/gi;F.whiteList=u();F.getDefaultWhiteList=u;F.onTag=function(ca,va,xa){};F.onIgnoreTag=function(ca,va,xa){};F.onTagAttr=function(ca,va,xa){};F.onIgnoreTagAttr=function(ca,va,xa){};F.safeAttrValue=function(ca,va,xa,Da){xa=w(xa);if("href"===va||"src"===va){xa=R.trim(xa);if("#"===xa)return"#";if("http://"!==xa.substr(0,7)&&"https://"!==xa.substr(0,8)&&"mailto:"!==xa.substr(0,7)&&"tel:"!==xa.substr(0,4)&&"data:image/"!==xa.substr(0,
11)&&"ftp://"!==xa.substr(0,6)&&"./"!==xa.substr(0,2)&&"../"!==xa.substr(0,3)&&"#"!==xa[0]&&"/"!==xa[0])return""}else if("background"===va){if(ya.lastIndex=0,ya.test(xa))return""}else if("style"===va){V.lastIndex=0;if(V.test(xa))return"";ha.lastIndex=0;if(ha.test(xa)&&(ya.lastIndex=0,ya.test(xa)))return"";!1!==Da&&(Da=Da||Y,xa=Da.process(xa))}return xa=z(xa)};F.escapeHtml=p;F.escapeQuote=l;F.unescapeQuote=m;F.escapeHtmlEntities=v;F.escapeDangerHtml5Entities=A;F.clearNonPrintableCharacter=t;F.friendlyAttrValue=
w;F.escapeAttrValue=z;F.onIgnoreTagStripAll=function(){return""};F.StripTagBody=function(ca,va){"function"!==typeof va&&(va=function(){});var xa=!Array.isArray(ca),Da=[],Ha=!1;return{onIgnoreTag:function(na,wa,Ma){var Ja=xa?!0:-1!==R.indexOf(ca,na);if(Ja){if(Ma.isClosing)return Da.push([!1!==Ha?Ha:Ma.position,Ma.position+10]),Ha=!1,"[/removed]";Ha||(Ha=Ma.position);return"[removed]"}return va(na,wa,Ma)},remove:function(na){var wa="",Ma=0;R.forEach(Da,function(Ja){wa+=na.slice(Ma,Ja[0]);Ma=Ja[1]});
return wa+=na.slice(Ma)}}};F.stripCommentTag=function(ca){for(var va="",xa=0;xa<ca.length;){var Da=ca.indexOf("\x3c!--",xa);if(-1===Da){va+=ca.slice(xa);break}va+=ca.slice(xa,Da);xa=ca.indexOf("--\x3e",Da);if(-1===xa)break;xa+=3}return va};F.stripBlankChar=function(ca){ca=ca.split("");ca=ca.filter(function(va){va=va.charCodeAt(0);return 127===va?!1:31>=va?10===va||13===va?!0:!1:!0});return ca.join("")};F.cssFilter=Y;F.getDefaultCSSWhiteList=D;var ma={},G=/[^a-zA-Z0-9\\_:.-]/gim;ma.parseTag=function(ca,
va,xa){var Da="",Ha=0,na=!1,wa=!1,Ma=0,Ja=ca.length,Ua="",Ya="";Ma=0;a:for(;Ma<Ja;Ma++)if(Ya=ca.charAt(Ma),!1===na)"\x3c"===Ya&&(na=Ma);else if(!1===wa)if("\x3c"===Ya)Da+=xa(ca.slice(Ha,Ma)),Ha=na=Ma;else if("\x3e"===Ya)Da+=xa(ca.slice(Ha,na)),Ya=ca.slice(na,Ma+1),Ha=void 0,Ha=Ya,Ua=X.spaceIndex(Ha),Ha=-1===Ua?Ha.slice(1,-1):Ha.slice(1,Ua+1),Ha=X.trim(Ha).toLowerCase(),"/"===Ha.slice(0,1)&&(Ha=Ha.slice(1)),"/"===Ha.slice(-1)&&(Ha=Ha.slice(0,-1)),Ua=Ha,Da+=va(na,Da.length,Ua,Ya,"\x3c/"===Ya.slice(0,
2)),Ha=Ma+1,na=!1;else{if('"'===Ya||"'"===Ya){Ua=1;for(var cb=ca.charAt(Ma-Ua);""===cb.trim()||"\x3d"===cb;){if("\x3d"===cb){wa=Ya;continue a}cb=ca.charAt(Ma-++Ua)}}}else Ya===wa&&(wa=!1);Ha<ca.length&&(Da+=xa(ca.substr(Ha)));return Da};ma.parseAttr=function(ca,va){function xa(Ya,cb){Ya=X.trim(Ya);Ya=Ya.replace(G,"").toLowerCase();1>Ya.length||(Ya=va(Ya,cb||""))&&na.push(Ya)}for(var Da=0,Ha=0,na=[],wa=!1,Ma=ca.length,Ja=0;Ja<Ma;Ja++){var Ua=ca.charAt(Ja);if(!1===wa&&"\x3d"===Ua)wa=ca.slice(Da,Ja),
Da=Ja+1,Ha='"'===ca.charAt(Da)||"'"===ca.charAt(Da)?Da:x(ca,Ja+1);else{if(!1!==wa&&Ja===Ha)if(Ua=ca.indexOf(Ua,Ja+1),-1===Ua)break;else{Da=X.trim(ca.slice(Ha+1,Ua));xa(wa,Da);wa=!1;Ja=Ua;Da=Ja+1;continue}/\s|\n|\t/.test(Ua)&&(ca=ca.replace(/\s|\n|\t/g," "),!1===wa?(Ua=k(ca,Ja),-1===Ua?(Da=X.trim(ca.slice(Da,Ja)),xa(Da),wa=!1,Da=Ja+1):Ja=Ua-1):(Ua=y(ca,Ja-1),-1===Ua&&(Da=X.trim(ca.slice(Da,Ja)),Da=B(Da),xa(wa,Da),wa=!1,Da=Ja+1)))}}Da<ca.length&&(!1===wa?xa(ca.slice(Da)):xa(wa,B(X.trim(ca.slice(Da)))));
return X.trim(na.join(" "))};var Q=d.FilterCSS,fa=F,ta=ma.parseTag,za=ma.parseAttr,Ea=X;K.prototype.process=function(ca){ca=(ca||"").toString();if(!ca)return"";var va=this.options,xa=va.whiteList,Da=va.onTag,Ha=va.onIgnoreTag,na=va.onTagAttr,wa=va.onIgnoreTagAttr,Ma=va.safeAttrValue,Ja=va.escapeHtml,Ua=this.cssFilter;va.stripBlankChar&&(ca=fa.stripBlankChar(ca));va.allowCommentTag||(ca=fa.stripCommentTag(ca));var Ya=!1;va.stripIgnoreTagBody&&(Ya=fa.StripTagBody(va.stripIgnoreTagBody,Ha),Ha=Ya.onIgnoreTag);
ca=ta(ca,function(cb,eb,pb,lb,Xb){cb={sourcePosition:cb,position:eb,isClosing:Xb,isWhite:Object.prototype.hasOwnProperty.call(xa,pb)};eb=Da(pb,lb,cb);if(void 0!==eb&&null!==eb)return eb;if(cb.isWhite){if(cb.isClosing)return"\x3c/"+pb+"\x3e";cb=E(lb);var Cb=xa[pb];eb=za(cb.html,function(mb,yb){var Sb=-1!==Ea.indexOf(Cb,mb),vb=na(pb,mb,yb,Sb);if(void 0!==vb&&null!==vb)return vb;if(Sb)return(yb=Ma(pb,mb,yb,Ua))?mb+'\x3d"'+yb+'"':mb;vb=wa(pb,mb,yb,Sb);if(void 0!==vb&&null!==vb)return vb});lb="\x3c"+pb;
eb&&(lb+=" "+eb);cb.closing&&(lb+=" /");return lb+"\x3e"}eb=Ha(pb,lb,cb);return void 0!==eb&&null!==eb?eb:Ja(lb)},Ja);Ya&&(ca=Ya.remove(ca));return ca};(function(ca,va){function xa(Ha,na){return(new Da(na)).process(Ha)}var Da=K;va=ca.exports=xa;va.filterXSS=xa;va.FilterXSS=Da;(function(){for(var Ha in F)va[Ha]=F[Ha];for(var na in ma)va[na]=ma[na]})();"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=ca.exports)})(f,
f.exports);var Ga=f.exports,Z=function(ca){if("object"!==typeof ca||null===ca||"[object Object]"!==Object.prototype.toString.call(ca))return!1;var va=Object.getPrototypeOf(ca);if(null===va)return!0;for(;null!==Object.getPrototypeOf(va);)va=Object.getPrototypeOf(va);return Object.getPrototypeOf(ca)===va};D=function(){function ca(va,xa){var Da=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],
b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],
section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),time:["style"],u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};
this.arcgisCSSWhiteList=H(H({},Ga.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,
"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0});this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(na,wa,Ma,Ja){return"a"===na&&"href"===
wa||("img"===na||"source"===na)&&"src"===wa?Da.sanitizeUrl(Ma):Ga.safeAttrValue(na,wa,Ma,Ja)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(va&&!xa)var Ha=va;else va&&xa?(Ha=Object.create(this.arcgisFilterOptions),Ha.css={whiteList:this.arcgisCSSWhiteList},Object.keys(va).forEach(function(na){if("whiteList"===na)Ha.whiteList=Da._extendObjectOfArrays([Da.arcgisWhiteList,va.whiteList||{}]);else if("css"===na){var wa=va.css.whiteList;
null!=wa&&va.css instanceof Object&&Object.keys(wa).forEach(function(Ma){return Ha.css.whiteList[Ma]=wa[Ma]})}else Ha[na]=va[na]})):(Ha=Object.create(this.arcgisFilterOptions),Ha.whiteList=this.arcgisWhiteList,Ha.css={whiteList:this.arcgisCSSWhiteList});this.xssFilterOptions=Ha;this._xssFilter=new Ga.FilterXSS(Ha)}ca.prototype.sanitize=function(va,xa){void 0===xa&&(xa={});switch(typeof va){case "number":return isNaN(va)||!isFinite(va)?null:va;case "boolean":return va;case "string":return this._xssFilter.process(va);
case "object":return this._iterateOverObject(va,xa);default:if(!xa.allowUndefined||"undefined"!==typeof va)return null}};ca.prototype.sanitizeUrl=function(va,xa){xa=(null!==xa&&void 0!==xa?xa:{}).isProtocolRequired;xa=void 0===xa?!0:xa;var Da=this._trim(va.substring(0,va.indexOf(":"))),Ha="/"===va,na=/^#/.test(va),wa=Da&&-1<this.allowedProtocols.indexOf(Da.toLowerCase());return Ha||na||wa?Ga.escapeAttrValue(va):Da||xa?"":Ga.escapeAttrValue("https://".concat(va))};ca.prototype.sanitizeHTMLAttribute=
function(va,xa,Da,Ha){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(va,xa,Da,Ha):Ga.safeAttrValue(va,xa,Da,Ha)};ca.prototype.validate=function(va,xa){void 0===xa&&(xa={});xa=this.sanitize(va,xa);return{isValid:va===xa,sanitized:xa}};ca.prototype.encodeHTML=function(va){var xa=this;return String(va).replace(/[&<>"'\/]/g,function(Da){return xa._entityMap[Da]})};ca.prototype.encodeAttrValue=function(va){var xa=/^[a-zA-Z0-9]$/;return String(va).replace(/[\x00-\xFF]/g,
function(Da,Ha){return xa.test(Da)?Da:"\x26#x".concat(Number(va.charCodeAt(Ha)).toString(16),";")})};ca.prototype._extendObjectOfArrays=function(va){var xa={};va.forEach(function(Da){Object.keys(Da).forEach(function(Ha){Array.isArray(Da[Ha])&&Array.isArray(xa[Ha])?xa[Ha]=xa[Ha].concat(Da[Ha]):xa[Ha]=Da[Ha]})});return xa};ca.prototype._iterateOverObject=function(va,xa){var Da=this;void 0===xa&&(xa={});try{var Ha=!1,na=void 0;if(Array.isArray(va))na=va.reduce(function(wa,Ma){var Ja=Da.validate(Ma,xa);
if(Ja.isValid)return wa.concat([Ma]);Ha=!0;return wa.concat([Ja.sanitized])},[]);else if(Z(va))na=Object.keys(va).reduce(function(wa,Ma){var Ja=va[Ma],Ua=Da.validate(Ja,xa);Ua.isValid?wa[Ma]=Ja:(Ha=!0,wa[Ma]=Ua.sanitized);return wa},{});else return xa.allowUndefined&&"undefined"===typeof va?void 0:null;return Ha?na:va}catch(wa){return null}};ca.prototype._trim=function(va){return String.prototype.trim?va.trim():va.replace(/(^\s*)|(\s*$)/g,"")};return ca}();var T,I,U=function(ca){if("WebkitTransition"in
ca.style)T="webkitTransitionEnd",I="webkitAnimationEnd";else if("transition"in ca.style)T="transitionend",I="animationend";else throw Error("Your browser is not supported!");},ea=function(ca,va){void 0===va&&(va=ca+"-active");return function(xa){T||U(xa);var Da=!1,Ha=function(na){Da||(Da=!0,xa.removeEventListener(T,Ha),xa.removeEventListener(I,Ha),xa.classList.remove(ca),xa.classList.remove(va))};xa.classList.add(ca);xa.addEventListener(T,Ha);xa.addEventListener(I,Ha);requestAnimationFrame(function(){xa.classList.add(va)})}},
ra=function(ca,va){void 0===va&&(va=ca+"-active");return function(xa,Da){T||U(xa);var Ha=!1,na=function(wa){Ha||(Ha=!0,xa.removeEventListener(T,na),xa.removeEventListener(I,na),Da())};xa.classList.add(ca);xa.addEventListener(T,na);xa.addEventListener(I,na);requestAnimationFrame(function(){xa.classList.add(va)})}};f=(()=>{const ca=new Map,va=new ResizeObserver(Da=>{g.clearVNodeCache();for(const Ha of Da)ca.get(Ha.target)?.(Ha)}),xa=(Da,Ha,na)=>{ca.set(Da,Ha);va.observe(Da,na);return c.makeHandle(()=>
{va.unobserve(Da);ca.delete(Da)})};return(Da,Ha,na)=>{let wa=null;return c.handlesGroup([q.watch(()=>"function"===typeof Da?Da():Da,Ma=>{wa?.remove();Ma&&(wa=xa(Ma,Ha,na))},q.syncAndInitial),c.makeHandle(()=>wa?.remove())])}})();d="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");const Ba=d.reduce((ca,va)=>{ca[va]=
[];return ca},{}),La="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");D=new D({whiteList:Ba,onTagAttr:(ca,va,xa)=>{ca=`${va}="${xa}"`;if(La.includes(va))return ca},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);a.additionalAllowedTags=
d;a.classes=function(...ca){const va=b.acquire();for(let xa=0;xa<ca.length;xa++){const Da=ca[xa],Ha=typeof Da;if("string"===Ha)va.push(Da);else if(Array.isArray(Da))va.push.apply(va,Da);else if("object"===Ha)for(const na in Da)Da[na]&&va.push(na)}ca=va.join(" ");b.release(va);return ca};a.cssTransition=function(ca,va){return("enter"===ca?ea:ra)(va)};a.discardNode=function(ca){this[ca.getAttribute("data-node-ref")]=null};a.isActivationKey=function(ca){return"Enter"===ca||" "===ca};a.isRTL=function(ca){ca=
ca?.closest("[dir]");return null!==ca&&ca instanceof HTMLElement&&"rtl"===ca.dir||"rtl"===document.dir};a.onResize=f;a.renderingSanitizer=D;a.safeAttrs=La;a.setFocus=async function(ca,va){await e.waitAnimationFrame(n.signalFromSignalOrOptions(va));(ca="function"===typeof ca?ca():ca)&&("setFocus"in ca&&"function"===typeof ca.setFocus?await ca.setFocus():ca instanceof HTMLElement&&ca.focus())};a.storeNode=function(ca){this[ca.getAttribute("data-node-ref")]=ca};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(c){b.delete(c)};a.getVNodeCache=function(c){return b.get(c)};a.setVNodeCache=function(c,f){b.set(c,f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let c;c=Array.prototype.find?(n,q)=>n.find(q):(n,q)=>n.filter(q)[0];let f=
(n,q)=>{let e=n;q.forEach(g=>{e=e&&e.children?c(e.children,h=>h.domNode===g):void 0});return e},d=(n,q,e)=>{let g=function(h){e("domEvent",h);var r=q(),u=h.currentTarget,p=r.domNode;let l=[];for(;u&&u!==p;)l.push(u),u=u.parentNode;l.reverse();r=f(r.getLastRender(),l);n.scheduleRender();let m;r&&(m=r.properties[`on${h.type}`].apply(r.properties.bind||this,arguments));e("domEventProcessed",h);return m};return(h,r,u,p)=>g};a.createProjector=n=>{let q,e=b.applyDefaultProjectionOptions(n),g=e.performanceLogger,
h=!0,r,u=!1,p=[],l=[],m=(A,t,w)=>{let z;e.eventHandlerInterceptor=d(q,()=>z,g);z=A(t,w(),e);p.push(z);l.push(w)},v=()=>{r=void 0;if(h){h=!1;g("renderStart",void 0);for(let A=0;A<p.length;A++){let t=l[A]();g("rendered",void 0);p[A].update(t);g("patched",void 0)}g("renderDone",void 0);h=!0}};return q={renderNow:v,scheduleRender:()=>{r||u||(r=requestAnimationFrame(v))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0);u=!0},resume:()=>{u=!1;h=!0;q.scheduleRender()},append:(A,t)=>{m(b.dom.append,A,t)},
insertBefore:(A,t)=>{m(b.dom.insertBefore,A,t)},merge:(A,t)=>{m(b.dom.merge,A,t)},replace:(A,t)=>{m(b.dom.replace,A,t)},detach:A=>{for(let t=0;t<l.length;t++)if(l[t]===A)return l.splice(t,1),p.splice(t,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,c,f,d)=>{b.scheduleRender();
return c.properties[`on${d.type}`].apply(c.properties.bind||f,[d])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,f,d)=>{"-"===f.charAt(0)?c.style.setProperty(f,d):c.style[f]=d}};a.applyDefaultProjectionOptions=c=>({...b,...c});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/componentsUtils":function(){define(["exports",
"../assets","../core/has","../core/urlUtils"],function(a,b,c,f){function d(M,ba,oa){({subscribe:ba}=n(ba));return ba(Ca=>{Ca.some(Ka=>{a:{let Sa=M;for(;Sa;){if(Sa===Ka.target){Ka=!0;break a}if(!Sa.parentNode){Ka=!1;break a}Sa=Sa.parentNode instanceof ShadowRoot?Sa.parentNode.host:Sa.parentNode}Ka=!1}return Ka})&&oa()})}function n(M){const ba=M.join(","),oa=ha[ba];if(void 0!==oa)return oa;const Ca=new Set,Ka=new MutationObserver(Sa=>Ca.forEach(Va=>Va(Sa)));globalThis.document&&Ka.observe(document.documentElement,
{attributes:!0,attributeFilter:M,subtree:!0});M={subscribe(Sa){Ca.add(Sa);return()=>{Ca.delete(Sa);0===Ca.size&&(Ka.disconnect(),ha[ba]=void 0)}}};return ha[ba]=M}function q(M,ba,...oa){return M?.call(ba,...oa)}async function e(M,ba,...oa){try{return ba=M?.call(ba,...oa),ba instanceof Promise?await ba:ba}catch(Ca){console.error(Ca,M)}}async function g(M,ba,oa=""){ba=`${ba}/${oa}`;oa=`${ba}${M}.json`;Q[oa]??(Q[oa]=h(M,ba));return await Q[oa]}async function h(M,ba){try{const oa=await fetch(`${ba}${M}.json`);
if(oa.ok)return await oa.json()}catch(oa){return console.error(oa),{}}return"en"===M?{}:await h("en",ba)}function r(M){var ba=globalThis.navigator?.language||"en";a:{for(;M;){const oa=M.closest?.("[lang]");if(oa){M=oa;break a}M=M.getRootNode?.();if(M===globalThis.document)break;M=M.host}M=null}ba=M?.getAttribute("lang")??ba;return{lang:ba,t9nLocale:u(ba)}}function u(M){const [ba,oa]=M.split("-");let Ca=M=ba.toLowerCase();oa&&(Ca=`${M}-${oa.toUpperCase()}`);Ca=G[Ca]??Ca;return ma.has(Ca)?Ca:oa?u(M):
"en"}function p(M,ba,oa,Ca){let Ka=void 0;const Sa=()=>void l(M,ba(),Ca).then(Va=>{Ka?.lang===Va.lang&&Ka.t9nLocale===Va.t9nLocale&&Ka.t9nStrings===Va.t9nStrings||oa(Va);Ka=Va}).catch(console.error);queueMicrotask(Sa);return d(M,["lang"],Sa)}async function l(M,ba,oa=M.tagName.toLowerCase().split("-").slice(1).join("-")){const {lang:Ca,t9nLocale:Ka}=r(M);M=null===oa?{}:await g(Ka,`${ba}/${oa}/t9n`,"messages.");return{lang:Ca,t9nLocale:Ka,t9nStrings:M}}function m(M,ba){const oa=ba/za;let Ca=0;const Ka=
setInterval(()=>{Ca+=oa;Ca>=ba&&(clearInterval(Ka),M())},oa);return Ka}function v(M){return void 0!==M}function A(M){for(var ba=M;ba=ba.parentNode??ba.host;)if(ba?.constructor?.lumina)return ba.manager?.loadedCalled||ba._offspring.push(M),ba._postLoad.promise;return!1}function t(M){M=M.split(":");return 1===M.length?[M[0],fa(M[0])]:M}function w([M,ba]){this[M]=ba}function z(M){M=M.prototype;const ba=Element.prototype;Object.hasOwn(M,"isConnected")||(M.setAttribute=function(oa,Ca){ba.setAttribute.call(this.el,
oa,Ca)},M.removeAttribute=function(oa){ba.removeAttribute.call(this.el,oa)},Ea(M,"isConnected",{get(){return Reflect.get(ba,"isConnected",this.el)}}))}function k(M,ba){if(ba)M.manager.internals.members=Object.fromEntries(Array.from(M.constructor.elementProperties,([oa,Ca])=>Ca.noAccessor?void 0:[oa,[(Ca.readOnly?2048:0)|(Ca.state?32:16)]]).filter(v));else{ba=M.constructor;const oa=ba.__registerControllers?.(M)??void 0;ba.__registerControllers=void 0;if("object"!==typeof oa)throw Error("Failed to retrieve component meta");
M.manager.internals.members=Object.fromEntries(Object.entries(oa).filter(([,[Ca]])=>0!==(Ca&63)))}}function x(M,ba=8){return null==M||"object"===typeof M||"function"===typeof M?M:0!==(ba&4)?"false"===M?!1:""===M||!!M:0!==(ba&2)?Number.parseFloat(M):0!==(ba&1)?String(M):M}function y(M){U!==M&&(U=M,queueMicrotask(()=>{U===M&&(U=void 0)}))}function B(M){if(void 0===M)ea=[];else{var ba=ea.indexOf(M);ea=-1===ba?[...ea,M]:ea.slice(0,ba+1);queueMicrotask(()=>{ea=[]})}}function E(M){ra!==M&&(ra=M,queueMicrotask(()=>
{ra===M&&(ra=void 0)}))}function J(M){q(M,void 0,this)}function K(M){if("object"!==typeof M&&"function"!==typeof M||null===M)return M;const ba=new Proxy(M,{get(oa,Ca,Ka){if(!(Ha.has(Ca)&&Ca in oa&&oa[Ca]===ba)&&(Ca in oa||Ca in Promise.prototype||"symbol"===typeof Ca))return"function"===typeof oa?oa[Ca]:Reflect.get(oa,Ca,Ka)},set:(oa,Ca,Ka,Sa)=>Reflect.set(oa,Ca,Ka,Sa)});return ba}function H(M,ba,oa){const Ca=Object.keys(M),Ka=Ca.length;void 0===na&&queueMicrotask(F);na??=new Map;let Sa=na.get(M);
void 0===Sa&&(Sa={callbacks:[],keyCount:Ka},na.set(M,Sa));Sa.keyCount!==Ka&&(Sa.callbacks.forEach(Va=>Va(Ca)),Sa.callbacks=[],Sa.keyCount=Ka);Sa.callbacks.push(Va=>{Va=Va[Ka];void 0===Va?q(ba,null,void 0):M[Va]===oa?q(ba,null,Va):q(ba,null,void 0)});return oa}function F(){Array.from(na?.entries()??[]).forEach(([M,{callbacks:ba}])=>{const oa=Object.keys(M);ba.forEach(Ca=>Ca(oa))});na=void 0}function N(M,ba,oa){var Ca;M=M.manager.internals;(Ca=M.allWatchers)[ba]??(Ca[ba]=[]);const Ka=M.allWatchers[ba],
Sa=(Va,fb,ob)=>q(oa,null,Va,fb,ob);Ka.push(Sa);return()=>{const Va=Ka.indexOf(Sa);-1!==Va&&Ka.splice(Va,1)}}function S(M,ba,oa){const Ca=M.manager.internals;Ca.trackedValue!==Ua&&Ca.trackedValue!==oa&&Ca.firePropTrackers(void 0,void 0);0===Ca.keyTrackers.length&&queueMicrotask(()=>Ca.firePropTrackers(void 0,void 0));Ca.trackedValue=oa;Ca.keyTrackers.push((Ka,Sa)=>q(ba,void 0,oa===Sa?Ka:void 0));return oa}function W(M=[U,...ea],ba,oa){M=Array.isArray(M)?M:[M];let Ca=M.length+1;const Ka=Va=>{--Ca;void 0!==
Va&&(Ca=Math.min(Ca,0));0===Ca&&ba(Va)};M.forEach(Va=>H(Va,fb=>Ka(void 0===fb?void 0:{key:fb,host:Va,isReactive:!1}),oa));const Sa=M.find(Va=>"manager"in Va&&"object"===typeof Va.manager&&Va.manager.component===Va);Sa&&S(Sa,Va=>Ka(void 0===Va?void 0:{key:Va,host:Sa,isReactive:!0}),oa);return oa}function L(M){va=!0;try{return M()}finally{va=!1}}function P(M,{host:ba,key:oa,isReactive:Ca},Ka){const Sa=ba[oa]!==Ka;Ka=Ka!==M.exports;ba[oa]!==M.exports&&!Sa&&Ka&&(ba[oa]=M.exports);if(ba===M.component){if(Ca){const Va=
M.component.manager.internals;Sa&&Va.markExports(M,ba[oa]);N(M.component,oa,fb=>{fb!==M.exports&&Va.markExports(M,fb)})}M.assignedProperty=Ca?void 0:oa}M.watchExports(()=>{if(ba[oa]!==M.exports){var Va=M.component.manager;Va.internals.setters[oa]?.includes(Va.internals.readonlySetter)?L(()=>{ba[oa]=M.exports}):ba[oa]=M.exports}})}function X(M){"triggerConnected"in M?M.triggerConnected():q(M.hostConnected,M)}function D(M){"triggerDisconnected"in M?M.triggerDisconnected():q(M.hostDisconnected,M)}async function R(M){"triggerLoad"in
M?await M.triggerLoad():await e(M.hostLoad,M)}function Y(M){"triggerLoaded"in M?M.triggerLoaded():q(M.hostLoaded,M)}function ja(M){"triggerUpdate"in M?M.triggerUpdate(this):q(M.hostUpdate,M,this)}function da(M){"triggerUpdated"in M?M.triggerUpdated(this):q(M.hostUpdated,M,this)}function sa(M){"triggerDestroy"in M?M.triggerDestroy():q(M.hostDestroy,M)}function qa(M,ba){if(!ba)return M;const oa={...M};Object.entries(ba).forEach(([Ca,Ka])=>{oa[Ca]="object"===typeof Ka?qa(M[Ca],Ka):Ka??M[Ca]});return oa}
function ia(M,ba){if(!bb(M)||!M.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==wb?wb.createHTML(ba):ba}function la(M,ba,oa=M,Ca){if(ba===$b)return ba;let Ka=void 0!==Ca?oa._$Co?.[Ca]:oa._$Cl;const Sa=Wa(ba)?void 0:ba._$litDirective$;return Ka?.constructor!==Sa&&(Ka?._$AO?.(!1),void 0===Sa?Ka=void 0:(Ka=new Sa(M),Ka._$AT(M,oa,Ca)),void 0!==Ca?(oa._$Co??(oa._$Co=[]))[Ca]=Ka:oa._$Cl=Ka),void 0!==Ka&&(ba=la(M,Ka._$AS(M,ba.values),Ka,Ca)),ba}function ua(){const {classList:M}=
document.body,ba=window.matchMedia("(prefers-color-scheme: dark)").matches,oa=Ka=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:Ka}}));let Ca=M.contains("calcite-mode-dark")||M.contains("calcite-mode-auto")&&ba?"dark":"light";oa(Ca);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ka=>{Ka=Ka.matches?"dark":"light";Ca!==Ka&&oa(Ka);Ca=Ka});(new MutationObserver(()=>{var Ka=M.contains("calcite-mode-dark")||M.contains("calcite-mode-auto")&&
ba?"dark":"light";Ca!==Ka&&oa(Ka);Ca=Ka})).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function ya(){if(!pc||!pc.version){console.info("Using Calcite Components 3.0.3 [Date: 2025-02-19, Revision: 0b0b89f59]");var M=pc||globalThis.calciteConfig||{};Object.defineProperty(M,"version",{value:"3.0.3",writable:!1});globalThis.calciteConfig=M}}var V=class{resolve(M){}reject(M){}constructor(){this.promise=new Promise((M,ba)=>{this.resolve=M;this.reject=ba})}},ha={},ma=new Set("ar bg bs ca cs da de el en es et fi fr he hr hu id it ja ko lt lv nl nb no pl pt-BR pt-PT ro ru sk sl sr sv th tr uk vi zh-CN zh-HK zh-TW".split(" ")),
G={pt:"pt-PT",nb:"no",zh:"zh-CN"},Q={},fa=M=>M.replace(ta,(ba,oa)=>`${0===oa?"":"-"}${ba.toLowerCase()}`),ta=/[A-Z]+(?![a-z])|[A-Z]/gu,za=4,Ea=Object.defineProperty,Ga=globalThis.HTMLElement??t;var Z=class extends Ga{constructor(){super();this._store={};this._pendingAttributes=[];this._postLoad=new V;this._postLoaded=new V;this._offspring=[];this._saveInstanceProperties();const M=this.constructor;M._LitConstructor?this._initializeComponent({a:M._LitConstructor}):void M._loadPromise.then(this._initializeComponent.bind(this)).catch(ba=>
{this._postLoaded.reject(ba);setTimeout(()=>{throw ba;})})}static _initializePrototype(){this._properties?.forEach(this._bindProp,this);this._asyncMethods?.forEach(this._bindAsync,this);this._syncMethods?.forEach(this._bindSync,this)}static _bindProp(M){Ea(this.prototype,M,{configurable:!0,enumerable:!0,get(){return this._store[M]},set(ba){this._store[M]=ba}})}static _bindAsync(M){Ea(this.prototype,M,{async value(...ba){this._litElement||await this._postLoaded.promise;return await this._litElement[M](...ba)},
configurable:!0})}static _bindSync(M){Ea(this.prototype,M,{value(...ba){return this._litElement[M](...ba)},configurable:!0})}get manager(){return this._litElement?.manager}_saveInstanceProperties(){const M=this;this.constructor._properties?.forEach(ba=>{Object.hasOwn(this,ba)&&(this._store[ba]=M[ba],delete M[ba])})}attributeChangedCallback(M,ba,oa){this._litElement?.attributeChangedCallback(M,ba,oa);this._litElement||this._pendingAttributes.push(M)}connectedCallback(){this._litElement?this._litElement.connectedCallback?.():
queueMicrotask(()=>{this._ancestorLoad=A(this)})}disconnectedCallback(){this._litElement?.disconnectedCallback?.()}async componentOnReady(){await this._postLoaded.promise;return this}_initializeComponent(M){var ba=this.constructor;const oa=ba._name,Ca=this._store;M=Object.values(M).find(fb=>fb.tagName===oa);const Ka=`${oa}--lazy`;let Sa=M;for(;Sa&&!Object.hasOwn(Sa,"lumina");)Sa=Object.getPrototypeOf(Sa);z(Sa);ba._LitConstructor||(ba._LitConstructor=M,customElements.define(Ka,M));M.lazy=this;const Va=
document.createElement(Ka);M.lazy=void 0;this._store=this._litElement=Va;this._pendingAttributes.forEach(fb=>{const ob=this.getAttribute(fb);Va.attributeChangedCallback(fb,null,ob)});Object.entries(Ca).forEach(w,Va);if((ba=this.isConnected)||this._ancestorLoad)Va.connectedCallback?.(),ba||Va.disconnectedCallback()}addController(){}requestUpdate(){this._litElement?.requestUpdate()}};Z.lumina=!0;Z;var T={},I=Symbol.for("controller"),U,ea=[],ra,Ba=async(M,ba)=>{const oa=ca(M);if(void 0===oa)return M;
await oa.ready;if("function"===typeof ba){const Ca=oa.watchExports(Ka=>ba(Ka,Ca))}return oa.exports},La=async M=>{M=ca(M);await M.ready;return M},ca=M=>{const ba=U.manager.internals.resolveExports(M);if(void 0!==ba)return ba;if("object"===typeof M&&null!==M&&(I in M||"hostConnected"in M||"hostDisconnected"in M||"hostUpdate"in M||"hostUpdated"in M))return M;M=ra;ra=void 0;if(void 0!==M)return M};var va=!1;var xa=new WeakMap,Da=class{constructor(M){this._callbacks={hostConnected:[],hostDisconnected:[],
hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]};this._ready=new V;this._lifecycleCleanups=[];this.loadedCalled=this._loadCalled=this.connectedCalled=!1;this[I]=!0;this.ready=this._ready.promise;this._exports=K(this);this._exportWatchers=new Set;this.component=M??U;this.component.addController(this);void 0!==this.component.manager&&(B(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const {manager:M}=this.component;M.connectedCalled&&!this.connectedCalled&&
this.triggerConnected();M._loadCalled&&this.triggerLoad().then(()=>{M.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(M){const ba=this._exports;ba!==M&&(this._exports=M,this._exportWatchers.forEach(q),this.connectedCalled&&!1!==this.assignedProperty&&this.component.requestUpdate(this.assignedProperty,ba));this._ready.resolve(M)}setProvisionalExports(M,ba=!0){this._exports=ba?K(M):M;this._exportWatchers.forEach(q)}watchExports(M){const ba=()=>
M(this._exports);this._exportWatchers.add(ba);return()=>void this._exportWatchers.delete(ba)}get use(){y(this.component);return Ba}get useRef(){y(this.component);return La}get useRefSync(){y(this.component);return ca}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected();this.triggerDestroy()}onConnected(M){this._callbacks.hostConnected.push(M)}onDisconnected(M){this._callbacks.hostDisconnected.push(M)}onLoad(M){this._callbacks.hostLoad.push(M)}onLoaded(M){this._callbacks.hostLoaded.push(M)}onUpdate(M){this._callbacks.hostUpdate.push(M)}onUpdated(M){this._callbacks.hostUpdated.push(M)}onDestroy(M){this._callbacks.hostDestroy.push(M)}onLifecycle(M){this._callbacks.hostLifecycle.push(M);
this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(M)}triggerConnected(){this.hostConnected&&q(this.hostConnected,this);this._callbacks.hostConnected.forEach(q);this.triggerLifecycle();this.connectedCalled=!0}triggerDisconnected(){this.hostDisconnected&&q(this.hostDisconnected,this);this._callbacks.hostDisconnected.forEach(q);this._lifecycleCleanups.forEach(q);this._lifecycleCleanups=[]}async triggerLoad(){this._loadCalled||(this._loadCalled=!0,this.hostLoad&&await e(this.hostLoad,
this),0<this._callbacks.hostLoad.length&&await Promise.allSettled(this._callbacks.hostLoad.map(e)),this._ready.resolve(this._exports))}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&q(this.hostLoaded,this),this._callbacks.hostLoaded.forEach(q),this.loadedCalled=!0)}triggerUpdate(M){this.hostUpdate&&q(this.hostUpdate,this,M);this._callbacks.hostUpdate.forEach(J,M)}triggerUpdated(M){this.hostUpdated&&q(this.hostUpdated,this,M);this._callbacks.hostUpdated.forEach(J,M)}triggerDestroy(){this.hostDestroy&&
q(this.hostDestroy,this);this._callbacks.hostDestroy.forEach(q)}triggerLifecycle(){const M=this;M.hostLifecycle&&this._callLifecycle(()=>M.hostLifecycle());this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(M){y(this.component);M=q(M);(Array.isArray(M)?M:[M]).forEach(ba=>{"function"===typeof ba?this._lifecycleCleanups.push(ba):"object"===typeof ba&&"function"===typeof ba.remove&&this._lifecycleCleanups.push(ba.remove)})}},Ha=new Set(["exports","_exports"]),na=void 0,wa=
class{constructor(M){this.enabledWatchers={};this.allWatchers={};this.enableReadonly=()=>{this.enableReadonly=void 0;if(this.component.manager.isLit){var ba=this.component.manager.internals;Object.entries(ba.members).forEach(([oa,[Ca]])=>{var Ka;Ca&2048&&((Ka=ba.setters)[oa]??(Ka[oa]=[]),ba.setters[oa].push(ba.readonlySetter))})}};this.trackedValue=Ua;this.keyTrackers=[];this.getters={};this.setters={};this.accessorGetter={};this.accessorSetter={};this._exports=new WeakMap;this.readonlySetter=(ba,
oa,Ca)=>{if(va)return ba;throw Error(`Cannot assign to read-only property "${Ca}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(ba)}"`);};this.component=M}firePropTrackers(M,ba){const oa=this.keyTrackers;this.trackedValue=Ua;this.keyTrackers=[];oa.forEach(Ca=>Ca(M,ba))}getSetProxy(M){var ba=this.component;const oa=ba.constructor.prototype;this._getSetProxy(oa,M,"class");ba.manager.isLit||(ba=ba.el.constructor.prototype,oa!==ba&&this._getSetProxy(ba,M,"html"))}_getSetProxy(M,
ba,oa){const Ca=this.component.manager.internals.members?.[ba]?.[0];do oa=Object.getOwnPropertyDescriptor(M,ba);while(!oa&&(M=Object.getPrototypeOf(M)));if(oa){var Ka=oa.get,Sa=oa.set,Va=Ja in Ka,fb=Ja in Sa;if(!Va||!fb){Va=!Va;fb=!fb;var ob=Va?function(){let Mb=Ka.call(this);var qb=xa.get(this);if(void 0===qb)return Mb;qb=qb.manager.internals;Mb=qb.accessorGetter[ba](Mb,ba);qb=qb.getters[ba]??Ma;for(let ub=0;ub<qb.length;ub++)Mb=qb[ub](Mb,ba);return Mb}:Ka,zb=fb?function(Mb){const qb=Ka.call(this);
var ub=xa.get(this);if(void 0===ub)Sa.call(this,Mb);else{var Zb=ub.manager.isLit?Mb??void 0:x(Mb,Ca);ub=ub.manager.internals;if(Zb===qb)Sa.call(this,Zb);else{const Fc=ub.setters[ba]??Ma;for(let qc=0;qc<Fc.length&&(Zb=Fc[qc](Zb,qb,ba),Zb!==qb);qc++);Zb=ub.accessorSetter[ba](Zb,qb,ba);Sa.call(this,Zb);Zb!==qb&&ub.enabledWatchers[ba]?.forEach(qc=>qc(Zb,qb,ba))}0<ub.keyTrackers.length&&ub?.firePropTrackers(ba,Mb)}}:Sa;Va&&(ob[Ja]=!0);fb&&(zb[Ja]=!0);Object.defineProperty(M,ba,{...oa,get:ob,set:zb})}}}markExports(M,
ba){("object"===typeof ba&&null!==ba||"function"===typeof ba)&&this._exports.set(ba,M)}resolveExports(M){if("object"===typeof M&&null!==M||"function"===typeof M)return this._exports.get(M)}},Ma=[],Ja=Symbol(),Ua=Symbol(),Ya=class extends Da{constructor(M,ba){const oa="addController"in M,Ca=new Set;M.addController=function(Sa){Ca.add(Sa);I in Sa||!M.renderRoot||!M.el.isConnected||Sa.hostConnected?.()};M.removeController=function(Sa){void Ca.delete(Sa);Sa.controllerRemoved?.()};if(!oa){const Sa=ba??
M.constructor.__forceUpdate;M.requestUpdate=()=>Sa(M)}super(M);this.internals=new wa(this.component);this.destroyed=!1;this._updatePromise=new V;this._originalLifecycles={};this.isLit=oa;this.component.manager=this;k(M,oa);this._controllers=Ca;this.exports=void 0;this.hasDestroy=cb in this.component&&"function"===typeof this.component.destroy;this._bindLifecycleMethods();const Ka=this.internals;Object.keys(Ka.members).forEach(Sa=>{Ka.accessorGetter[Sa]=pb;Ka.accessorSetter[Sa]=pb;Ka.getSetProxy(Sa)});
oa?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(M,"updateComplete",{get:async()=>await this._updatePromise.promise});queueMicrotask(Ka.enableReadonly);y(M);xa.set(M.el,M);xa.set(M,M)}_bindLifecycleMethods(){const M=this.component,ba=this.isLit;var oa=M.el===M;this._originalLifecycles={_connectedCallback:ba||oa?void 0:M.connectedCallback,_disconnectedCallback:ba||oa?void 0:M.disconnectedCallback,_load:ba?M.load:M.componentWillLoad,_loaded:ba?M.loaded:M.componentDidLoad,
_willUpdate:ba?void 0:M.componentWillUpdate,_updated:ba?void 0:M.componentDidUpdate,_destroy:M.destroy};oa=this._connectedCallback.bind(this);const Ca=this._disconnectedCallback.bind(this),Ka=this._update.bind(this),Sa=this._updated.bind(this);ba?M.constructor.prototype.addController.call(M,{hostConnected:oa,hostDisconnected:Ca,hostUpdate:Ka,hostUpdated:Sa}):(M.connectedCallback=oa,M.disconnectedCallback=Ca,M.componentWillLoad=this._load.bind(this),M.componentDidLoad=this._loaded.bind(this),M.componentWillUpdate=
Ka,M.componentDidUpdate=Sa);this.hasDestroy&&(M.destroy=this.destroy.bind(this))}_connectedCallback(){if(this.destroyed){var M=this.component.el.tagName.toLowerCase();this.component.el.remove();throw Error(`The ${M} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${cb} prop.`);}void 0!==this._autoDestroyTimeout&&clearTimeout(this._autoDestroyTimeout);M=this.internals;M.enabledWatchers=M.allWatchers;
F();M.enableReadonly?.();this._controllers.forEach(X);this._originalLifecycles._connectedCallback?.call(this.component)}_disconnectedCallback(){this.destroyed||(this._controllers.forEach(D),this._originalLifecycles._disconnectedCallback?.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){await Promise.allSettled(Array.from(this._controllers,R));await this._originalLifecycles._load?.call(this.component);this.hasDestroy&&N(this.component,cb,()=>this._setAutoDestroyTimeout())}_loaded(){this._controllers.forEach(Y);
this._originalLifecycles._loaded?.call(this.component)}_update(){this._controllers.forEach(ja,this.component.$changes);return this._originalLifecycles._willUpdate?.call(this.component)}_updated(){var M=this.component;this._controllers.forEach(da,M.$changes);this._originalLifecycles._updated?.call(this.component);this.isLit?M.$changes=new Map:(M=this._updatePromise,this._updatePromise=new V,M.resolve(!0))}async destroy(){if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=
!0}}this._autoDestroyTimeout=void 0;this.destroyed=!0;this._controllers.forEach(sa);this._controllers.clear();await this._originalLifecycles._destroy?.call(this.component)}}_setAutoDestroyTimeout(){void 0!==this._autoDestroyTimeout&&clearTimeout(this._autoDestroyTimeout);this.component.el.isConnected||this.component.autoDestroyDisabled||(this._autoDestroyTimeout=m(()=>void this.destroy().catch(console.error),eb))}},cb="autoDestroyDisabled",eb=1E3,pb=M=>M,lb=(M=>(...ba)=>{const oa=ea,Ca=new M(...ba),
Ka=Ca.exports;B(oa.at(-1));const Sa=Ca.component.manager.internals;Sa.markExports(Ca,Ka);Ca.watchExports(Va=>Sa.markExports(Ca,Va));E(Ca);ba=[Ca.component,...oa].reverse();return W(ba,Va=>void 0===Va?void 0:P(Ca,Va,Ka),Ka)})(class extends Da{constructor(M,ba){super(M);M=this.exports;try{y(this.component);const oa=ba(this.component,this),Ca=this.exports!==M;if(oa instanceof Promise){Ca||this.setProvisionalExports(oa);const Ka=oa.then(Sa=>{this.exports=Sa;super.catchUpLifecycle()}).catch(Sa=>{this._ready.reject(Sa);
console.error(Sa)});this.onLoad(async()=>await Ka)}else Ca&&void 0===oa||(this.exports=oa),queueMicrotask(()=>super.catchUpLifecycle())}catch(oa){this._ready.reject(oa),console.error(oa)}}catchUpLifecycle(){}}),Xb=class extends Da{constructor(M,ba){super();this._attributes=M;this._callback=ba;this._observer=new MutationObserver(oa=>{oa.forEach(Ca=>{M.includes(Ca.attributeName)&&ba.call(this.component,this.component.el.getAttribute(Ca.attributeName),Ca.oldValue,Ca.attributeName)})})}hostConnected(){this._attributes.forEach(M=>
{this.component.el.hasAttribute(M)&&this._callback.call(this.component,null,this.component.el.getAttribute(M),M)});this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}};const Cb=globalThis,mb=Cb.ShadowRoot&&(void 0===Cb.ShadyCSS||Cb.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,yb=Symbol(),Sb=new WeakMap;let vb=class{constructor(M,ba,oa){if(this._$cssResult$=
!0,oa!==yb)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=M;this.t=ba}get styleSheet(){let M=this.o;const ba=this.t;if(mb&&void 0===M){const oa=void 0!==ba&&1===ba.length;oa&&(M=Sb.get(ba));void 0===M&&((this.o=M=new CSSStyleSheet).replaceSync(this.cssText),oa&&Sb.set(ba,M))}return M}toString(){return this.cssText}};const Tb=(M,ba)=>{if(mb)M.adoptedStyleSheets=ba.map(oa=>oa instanceof CSSStyleSheet?oa:oa.styleSheet);else for(const oa of ba){ba=document.createElement("style");
const Ca=Cb.litNonce;void 0!==Ca&&ba.setAttribute("nonce",Ca);ba.textContent=oa.cssText;M.appendChild(ba)}},Vb=mb?M=>M:M=>{if(M instanceof CSSStyleSheet){let ba="";for(const oa of M.cssRules)ba+=oa.cssText;M=new vb("string"==typeof ba?ba:ba+"",void 0,yb)}return M},{is:Qb,defineProperty:Pb,getOwnPropertyDescriptor:Wb,getOwnPropertyNames:Kb,getOwnPropertySymbols:Eb,getPrototypeOf:Rb}=Object,Lb=globalThis,Oa=Lb.trustedTypes,nb=Oa?Oa.emptyScript:"",Ub=Lb.reactiveElementPolyfillSupport,Bb={toAttribute(M,
ba){switch(ba){case Boolean:M=M?nb:null;break;case Object:case Array:M=null==M?M:JSON.stringify(M)}return M},fromAttribute(M,ba){let oa=M;switch(ba){case Boolean:oa=null!==M;break;case Number:oa=null===M?null:Number(M);break;case Object:case Array:try{oa=JSON.parse(M)}catch(Ca){oa=null}}return oa}},Nb=(M,ba)=>!Qb(M,ba),$a={attribute:!0,type:String,converter:Bb,reflect:!1,hasChanged:Nb};let db;(db=Symbol).metadata??(db.metadata=Symbol("metadata"));Lb.litPropertyMetadata??(Lb.litPropertyMetadata=new WeakMap);
let Fa=class extends HTMLElement{static addInitializer(M){this._$Ei();(this.l??(this.l=[])).push(M)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(M,ba=$a){if(ba.state&&(ba.attribute=!1),this._$Ei(),this.elementProperties.set(M,ba),!ba.noAccessor){const oa=Symbol();ba=this.getPropertyDescriptor(M,oa,ba);void 0!==ba&&Pb(this.prototype,M,ba)}}static getPropertyDescriptor(M,ba,oa){const {get:Ca,set:Ka}=Wb(this.prototype,M)??{get(){return this[ba]},
set(Sa){this[ba]=Sa}};return{get(){return Ca?.call(this)},set(Sa){const Va=Ca?.call(this);Ka.call(this,Sa);this.requestUpdate(M,Va,oa)},configurable:!0,enumerable:!0}}static getPropertyOptions(M){return this.elementProperties.get(M)??$a}static _$Ei(){if(!this.hasOwnProperty("elementProperties")){var M=Rb(this);M.finalize();void 0!==M.l&&(this.l=[...M.l]);this.elementProperties=new Map(M.elementProperties)}}static finalize(){if(!this.hasOwnProperty("finalized")){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty("properties")){var M=
this.properties;const ba=[...Kb(M),...Eb(M)];for(const oa of ba)this.createProperty(oa,M[oa])}M=this[Symbol.metadata];if(null!==M&&(M=litPropertyMetadata.get(M),void 0!==M))for(const [ba,oa]of M)this.elementProperties.set(ba,oa);this._$Eh=new Map;for(const [ba,oa]of this.elementProperties)M=this._$Eu(ba,oa),void 0!==M&&this._$Eh.set(M,ba);this.elementStyles=this.finalizeStyles(this.styles)}}static finalizeStyles(M){const ba=[];if(Array.isArray(M)){M=new Set(M.flat(1/0).reverse());for(const oa of M)ba.unshift(Vb(oa))}else void 0!==
M&&ba.push(Vb(M));return ba}static _$Eu(M,ba){ba=ba.attribute;return!1===ba?void 0:"string"==typeof ba?ba:"string"==typeof M?M.toLowerCase():void 0}constructor(){super();this._$Ep=void 0;this.hasUpdated=this.isUpdatePending=!1;this._$Em=null;this._$Ev()}_$Ev(){this._$ES=new Promise(M=>this.enableUpdating=M);this._$AL=new Map;this._$E_();this.requestUpdate();this.constructor.l?.forEach(M=>M(this))}addController(M){(this._$EO??(this._$EO=new Set)).add(M);void 0!==this.renderRoot&&this.isConnected&&
M.hostConnected?.()}removeController(M){this._$EO?.delete(M)}_$E_(){const M=new Map,ba=this.constructor.elementProperties;for(const oa of ba.keys())this.hasOwnProperty(oa)&&(M.set(oa,this[oa]),delete this[oa]);0<M.size&&(this._$Ep=M)}createRenderRoot(){const M=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Tb(M,this.constructor.elementStyles),M}connectedCallback(){this.renderRoot??(this.renderRoot=this.createRenderRoot());this.enableUpdating(!0);this._$EO?.forEach(M=>
M.hostConnected?.())}enableUpdating(M){}disconnectedCallback(){this._$EO?.forEach(M=>M.hostDisconnected?.())}attributeChangedCallback(M,ba,oa){this._$AK(M,oa)}_$EC(M,ba){const oa=this.constructor.elementProperties.get(M),Ca=this.constructor._$Eu(M,oa);void 0!==Ca&&!0===oa.reflect&&(ba=(void 0!==oa.converter?.toAttribute?oa.converter:Bb).toAttribute(ba,oa.type),this._$Em=M,null==ba?this.removeAttribute(Ca):this.setAttribute(Ca,ba),this._$Em=null)}_$AK(M,ba){var oa=this.constructor;M=oa._$Eh.get(M);
if(void 0!==M&&this._$Em!==M){oa=oa.getPropertyOptions(M);const Ca="function"==typeof oa.converter?{fromAttribute:oa.converter}:void 0!==oa.converter?.fromAttribute?oa.converter:Bb;this._$Em=M;this[M]=Ca.fromAttribute(ba,oa.type);this._$Em=null}}requestUpdate(M,ba,oa){if(void 0!==M){if(oa??=this.constructor.getPropertyOptions(M),!(oa.hasChanged??Nb)(this[M],ba))return;this.P(M,ba,oa)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(M,ba,oa){this._$AL.has(M)||this._$AL.set(M,ba);!0===oa.reflect&&
this._$Em!==M&&(this._$Ej??(this._$Ej=new Set)).add(M)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(ba){Promise.reject(ba)}const M=this.scheduleUpdate();return null!=M&&await M,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(this.isUpdatePending){if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const [oa,Ca]of this._$Ep)this[oa]=Ca;this._$Ep=void 0}var M=this.constructor.elementProperties;if(0<
M.size)for(const [oa,Ca]of M)!0!==Ca.wrapped||this._$AL.has(oa)||void 0===this[oa]||this.P(oa,this[oa],Ca)}M=!1;var ba=this._$AL;try{(M=this.shouldUpdate(ba))?(this.willUpdate(ba),this._$EO?.forEach(oa=>oa.hostUpdate?.()),this.update(ba)):this._$EU()}catch(oa){throw M=!1,this._$EU(),oa;}M&&this._$AE(ba)}}willUpdate(M){}_$AE(M){this._$EO?.forEach(ba=>ba.hostUpdated?.());this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(M));this.updated(M)}_$EU(){this._$AL=new Map;this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(M){return!0}update(M){this._$Ej&&
(this._$Ej=this._$Ej.forEach(ba=>this._$EC(ba,this[ba])));this._$EU()}updated(M){}firstUpdated(M){}};Fa.elementStyles=[];Fa.shadowRootOptions={mode:"open"};Fa.elementProperties=new Map;Fa.finalized=new Map;Ub?.({ReactiveElement:Fa});(Lb.reactiveElementVersions??(Lb.reactiveElementVersions=[])).push("2.0.4");const Ta=globalThis,Za=Ta.trustedTypes,wb=Za?Za.createPolicy("lit-html",{createHTML:M=>M}):void 0,ka=`lit$${Math.random().toFixed(9).slice(2)}$`,Ia="?"+ka,Pa=`<${Ia}>`,Ra=document,Wa=M=>null===
M||"object"!=typeof M&&"function"!=typeof M,bb=Array.isArray,kb=M=>bb(M)||"function"==typeof M?.[Symbol.iterator],Db=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ac=/--\x3e/g,fc=/>/g,Gb=RegExp("\x3e|[ \t\n\f\r](?:([^\\s\"'\x3e\x3d/]+)([ \t\n\f\r]*\x3d[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`\x3c\x3e\x3d]|(\"|')|))|$)","g"),kc=/'/g,Hb=/"/g,gc=/^(?:script|style|textarea|title)$/i,hc=M=>(ba,...oa)=>({_$litType$:M,strings:ba,values:oa}),dc=hc(1),nc=hc(2),$b=Symbol.for("lit-noChange"),xb=Symbol.for("lit-nothing"),
Lc=new WeakMap,ec=Ra.createTreeWalker(Ra,129),Cc=(M,ba)=>{const oa=M.length-1,Ca=[];let Ka,Sa=2===ba?"\x3csvg\x3e":3===ba?"\x3cmath\x3e":"",Va=Db;for(let ob=0;ob<oa;ob++){const zb=M[ob];let Mb,qb,ub=-1;for(var fb=0;fb<zb.length&&(Va.lastIndex=fb,qb=Va.exec(zb),null!==qb);)fb=Va.lastIndex,Va===Db?"!--"===qb[1]?Va=ac:void 0!==qb[1]?Va=fc:void 0!==qb[2]?(gc.test(qb[2])&&(Ka=RegExp("\x3c/"+qb[2],"g")),Va=Gb):void 0!==qb[3]&&(Va=Gb):Va===Gb?"\x3e"===qb[0]?(Va=Ka??Db,ub=-1):void 0===qb[1]?ub=-2:(ub=Va.lastIndex-
qb[2].length,Mb=qb[1],Va=void 0===qb[3]?Gb:'"'===qb[3]?Hb:kc):Va===Hb||Va===kc?Va=Gb:Va===ac||Va===fc?Va=Db:(Va=Gb,Ka=void 0);fb=Va===Gb&&M[ob+1].startsWith("/\x3e")?" ":"";Sa+=Va===Db?zb+Pa:0<=ub?(Ca.push(Mb),zb.slice(0,ub)+"$lit$"+zb.slice(ub)+ka+fb):zb+ka+(-2===ub?ob:fb)}return[ia(M,Sa+(M[oa]||"\x3c?\x3e")+(2===ba?"\x3c/svg\x3e":3===ba?"\x3c/math\x3e":"")),Ca]};class sc{constructor({strings:M,_$litType$:ba},oa){this.parts=[];let Ca=0,Ka=0;const Sa=M.length-1,Va=this.parts,[fb,ob]=Cc(M,ba);if(this.el=
sc.createElement(fb,oa),ec.currentNode=this.el.content,2===ba||3===ba)M=this.el.content.firstChild,M.replaceWith(...M.childNodes);for(;null!==(M=ec.nextNode())&&Va.length<Sa;){if(1===M.nodeType){if(M.hasAttributes())for(const zb of M.getAttributeNames())zb.endsWith("$lit$")?(oa=ob[Ka++],ba=M.getAttribute(zb).split(ka),oa=/([.?@])?(.*)/.exec(oa),Va.push({type:1,index:Ca,name:oa[2],strings:ba,ctor:"."===oa[1]?wc:"?"===oa[1]?tc:"@"===oa[1]?Mc:jc}),M.removeAttribute(zb)):zb.startsWith(ka)&&(Va.push({type:6,
index:Ca}),M.removeAttribute(zb));if(gc.test(M.tagName)&&(ba=M.textContent.split(ka),oa=ba.length-1,0<oa)){M.textContent=Za?Za.emptyScript:"";for(let zb=0;zb<oa;zb++)M.append(ba[zb],Ra.createComment("")),ec.nextNode(),Va.push({type:2,index:++Ca});M.append(ba[oa],Ra.createComment(""))}}else if(8===M.nodeType)if(M.data===Ia)Va.push({type:2,index:Ca});else for(ba=-1;-1!==(ba=M.data.indexOf(ka,ba+1));)Va.push({type:7,index:Ca}),ba+=ka.length-1;Ca++}}static createElement(M,ba){ba=Ra.createElement("template");
return ba.innerHTML=M,ba}}let Dc=class{constructor(M,ba){this._$AV=[];this._$AN=void 0;this._$AD=M;this._$AM=ba}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(M){const {el:{content:ba},parts:oa}=this._$AD,Ca=(M?.creationScope??Ra).importNode(ba,!0);ec.currentNode=Ca;let Ka=ec.nextNode(),Sa=0,Va=0,fb=oa[0];for(;void 0!==fb;){if(Sa===fb.index){let ob;2===fb.type?ob=new Yb(Ka,Ka.nextSibling,this,M):1===fb.type?ob=new fb.ctor(Ka,fb.name,fb.strings,this,M):6===fb.type&&
(ob=new uc(Ka,this,M));this._$AV.push(ob);fb=oa[++Va]}Sa!==fb?.index&&(Ka=ec.nextNode(),Sa++)}return ec.currentNode=Ra,Ca}p(M){let ba=0;for(const oa of this._$AV)void 0!==oa&&(void 0!==oa.strings?(oa._$AI(M,oa,ba),ba+=oa.strings.length-2):oa._$AI(M[ba])),ba++}};class Yb{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(M,ba,oa,Ca){this.type=2;this._$AH=xb;this._$AN=void 0;this._$AA=M;this._$AB=ba;this._$AM=oa;this.options=Ca;this._$Cv=Ca?.isConnected??!0}get parentNode(){let M=this._$AA.parentNode;
const ba=this._$AM;return void 0!==ba&&11===M?.nodeType&&(M=ba.parentNode),M}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(M,ba=this){M=la(this,M,ba);Wa(M)?M===xb||null==M||""===M?(this._$AH!==xb&&this._$AR(),this._$AH=xb):M!==this._$AH&&M!==$b&&this._(M):void 0!==M._$litType$?this.$(M):void 0!==M.nodeType?this.T(M):kb(M)?this.k(M):this._(M)}O(M){return this._$AA.parentNode.insertBefore(M,this._$AB)}T(M){this._$AH!==M&&(this._$AR(),this._$AH=this.O(M))}_(M){this._$AH!==xb&&
Wa(this._$AH)?this._$AA.nextSibling.data=M:this.T(Ra.createTextNode(M));this._$AH=M}$(M){const {values:ba,_$litType$:oa}=M;M="number"==typeof oa?this._$AC(M):(void 0===oa.el&&(oa.el=sc.createElement(ia(oa.h,oa.h[0]),this.options)),oa);if(this._$AH?._$AD===M)this._$AH.p(ba);else{M=new Dc(M,this);const Ca=M.u(this.options);M.p(ba);this.T(Ca);this._$AH=M}}_$AC(M){let ba=Lc.get(M.strings);return void 0===ba&&Lc.set(M.strings,ba=new sc(M)),ba}k(M){bb(this._$AH)||(this._$AH=[],this._$AR());const ba=this._$AH;
let oa,Ca=0;for(const Ka of M)Ca===ba.length?ba.push(oa=new Yb(this.O(Ra.createComment("")),this.O(Ra.createComment("")),this,this.options)):oa=ba[Ca],oa._$AI(Ka),Ca++;Ca<ba.length&&(this._$AR(oa&&oa._$AB.nextSibling,Ca),ba.length=Ca)}_$AR(M=this._$AA.nextSibling,ba){for(this._$AP?.(!1,!0,ba);M&&M!==this._$AB;)ba=M.nextSibling,M.remove(),M=ba}setConnected(M){void 0===this._$AM&&(this._$Cv=M,this._$AP?.(M))}}class jc{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(M,
ba,oa,Ca,Ka){this.type=1;this._$AH=xb;this._$AN=void 0;this.element=M;this.name=ba;this._$AM=Ca;this.options=Ka;2<oa.length||""!==oa[0]||""!==oa[1]?(this._$AH=Array(oa.length-1).fill(new String),this.strings=oa):this._$AH=xb}_$AI(M,ba=this,oa,Ca){const Ka=this.strings;let Sa=!1;if(void 0===Ka)M=la(this,M,ba,0),(Sa=!Wa(M)||M!==this._$AH&&M!==$b)&&(this._$AH=M);else{const Va=M;let fb,ob;M=Ka[0];for(fb=0;fb<Ka.length-1;fb++)ob=la(this,Va[oa+fb],ba,fb),ob===$b&&(ob=this._$AH[fb]),Sa||=!Wa(ob)||ob!==this._$AH[fb],
ob===xb?M=xb:M!==xb&&(M+=(ob??"")+Ka[fb+1]),this._$AH[fb]=ob}Sa&&!Ca&&this.j(M)}j(M){M===xb?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,M??"")}}class wc extends jc{constructor(){super(...arguments);this.type=3}j(M){this.element[this.name]=M===xb?void 0:M}}let tc=class extends jc{constructor(){super(...arguments);this.type=4}j(M){this.element.toggleAttribute(this.name,!!M&&M!==xb)}};class Mc extends jc{constructor(M,ba,oa,Ca,Ka){super(M,ba,oa,Ca,Ka);this.type=5}_$AI(M,
ba=this){if((M=la(this,M,ba,0)??xb)!==$b){ba=this._$AH;var oa=M===xb&&ba!==xb||M.capture!==ba.capture||M.once!==ba.once||M.passive!==ba.passive,Ca=M!==xb&&(ba===xb||oa);oa&&this.element.removeEventListener(this.name,this,ba);Ca&&this.element.addEventListener(this.name,this,M);this._$AH=M}}handleEvent(M){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,M):this._$AH.handleEvent(M)}}class uc{constructor(M,ba,oa){this.element=M;this.type=6;this._$AN=void 0;this._$AM=ba;this.options=
oa}get _$AU(){return this._$AM._$AU}_$AI(M){la(this,M)}}const cc={M:"$lit$",P:ka,A:Ia,C:1,L:Cc,R:Dc,D:kb,V:la,I:Yb,H:jc,N:tc,U:Mc,B:wc,F:uc};(0,Ta.litHtmlPolyfillSupport)?.(sc,Yb);(Ta.litHtmlVersions??(Ta.litHtmlVersions=[])).push("3.2.1");const yc=(M,ba,oa)=>{const Ca=oa?.renderBefore??ba;var Ka=Ca._$litPart$;void 0===Ka&&(Ka=oa?.renderBefore??null,Ca._$litPart$=Ka=new Yb(ba.insertBefore(Ra.createComment(""),Ka),Ka,void 0,oa??{}));return Ka._$AI(M),Ka};let bc=class extends Fa{constructor(){super(...arguments);
this.renderOptions={host:this};this._$Do=void 0}createRenderRoot(){const M=super.createRenderRoot();let ba;return(ba=this.renderOptions).renderBefore??(ba.renderBefore=M.firstChild),M}update(M){const ba=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected);super.update(M);this._$Do=yc(ba,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback();this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback();this._$Do?.setConnected(!1)}render(){return $b}};
bc._$litElement$=!0;bc.finalized=!0;globalThis.litElementHydrateSupport?.({LitElement:bc});(0,globalThis.litElementPolyfillSupport)?.({LitElement:bc});let vc;((vc=globalThis).litElementVersions??(vc.litElementVersions=[])).push("4.1.1");const oc={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},mc=M=>(...ba)=>({_$litDirective$:M,values:ba});let xc=class{constructor(M){}get _$AU(){return this._$AM._$AU}_$AT(M,ba,oa){this._$Ct=M;this._$AM=ba;this._$Ci=oa}_$AS(M,ba){return this.update(M,
ba)}update(M,ba){return this.render(...ba)}};const Tc=mc(class extends xc{constructor(M){if(super(M),M.type!==oc.ATTRIBUTE||"class"!==M.name||2<M.strings?.length)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");}render(M){return" "+Object.keys(M).filter(ba=>M[ba]).join(" ")+" "}update(M,[ba]){if(void 0===this.st){this.st=new Set;void 0!==M.strings&&(this.nt=new Set(M.strings.join(" ").split(/\s/).filter(Ca=>""!==Ca)));for(const Ca in ba)ba[Ca]&&
!this.nt?.has(Ca)&&this.st.add(Ca);return this.render(ba)}M=M.element.classList;for(var oa of this.st)oa in ba||(M.remove(oa),this.st.delete(oa));for(const Ca in ba)oa=!!ba[Ca],oa===this.st.has(Ca)||this.nt?.has(Ca)||(oa?(M.add(Ca),this.st.add(Ca)):(M.remove(Ca),this.st.delete(Ca)));return $b}}),Uc=mc(class extends xc{constructor(M){if(super(M),M.type!==oc.ATTRIBUTE||"style"!==M.name||2<M.strings?.length)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");
}render(M){return Object.keys(M).reduce((ba,oa)=>{const Ca=M[oa];return null==Ca?ba:ba+`${oa=oa.includes("-")?oa:oa.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$\x26").toLowerCase()}:${Ca};`},"")}update(M,[ba]){({style:M}=M.element);if(void 0===this.ft)return this.ft=new Set(Object.keys(ba)),this.render(ba);for(var oa of this.ft)null==ba[oa]&&(this.ft.delete(oa),oa.includes("-")?M.removeProperty(oa):M[oa]=null);for(const Ca in ba)if(oa=ba[Ca],null!=oa){this.ft.add(Ca);const Ka="string"==typeof oa&&
oa.endsWith(" !important");Ca.includes("-")||Ka?M.setProperty(Ca,Ka?oa.slice(0,-11):oa,Ka?"important":""):M[Ca]=oa}return $b}});var Ec,Nc=(M="",ba={},oa=U)=>{const Ca={emit:Ka=>{""===M&&F();Ka=new CustomEvent(M,{detail:Ka,cancelable:!0,bubbles:!0,composed:!0,...ba});oa.el.dispatchEvent(Ka);return Ka}};""===M&&W(void 0,Ka=>{M=Ka.key},Ca);return Ca},sb=Nc.bind(null,""),Gc=()=>{},Fb=(Ec=class M extends bc{constructor(){super();this.el=this.constructor.lazy??this;this.manager=new Ya(this,void 0);this._postLoad=
this.constructor.lazy?._postLoad??new V;this._offspring=this.constructor.lazy?._offspring??[];this._postLoaded=this.constructor.lazy?._postLoaded??new V;this._enableUpdating=this.enableUpdating;this.enableUpdating=Gc;const ba=M.prototype.shouldUpdate;this.shouldUpdate!==ba&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=ba)}static finalizeStyles(ba){ba=super.finalizeStyles(ba);const oa=this.shadowRootOptions===T;return void 0===this.runtime?.commonStyles||oa?ba:[this.runtime.commonStyles,
...ba]}static createProperty(ba,oa){const Ca="number"===typeof oa?oa:Array.isArray(oa)?oa[0]:0;oa=Array.isArray(oa)?oa[1]:void 0;super.createProperty(ba,{attribute:Ca&1&&"string"===typeof ba?fa(ba):!1,reflect:!!(Ca&2),type:Ca&4?Boolean:Ca&8?Number:void 0,state:!!(Ca&16),readOnly:!!(Ca&32),noAccessor:!!(Ca&64),...oa})}connectedCallback(){if(!this.el.hasAttribute("defer-hydration")){var ba=!this.manager.connectedCalled;super.connectedCallback();ba&&queueMicrotask(()=>this._load().catch(oa=>{this._postLoaded.reject(oa);
setTimeout(()=>{throw oa;})}))}}createRenderRoot(){var ba=this.el.shadowRoot;const oa=this.constructor;var Ca=oa.shadowRootOptions;const Ka=Ca===T;Ca=ba??(Ka?this.el:this.el.attachShadow(Ca));Object.defineProperty(this,"shadowRoot",{value:Ca});if(ba)return bc.prototype.createRenderRoot.call(this),ba;this.isConnected&&(ba=Ca.getRootNode(),ba.adoptedStyleSheets=[...ba.adoptedStyleSheets,...oa.elementStyles.map(Sa=>"styleSheet"in Sa?Sa.styleSheet:Sa)]);return Ca}async _load(){var ba=this.el._ancestorLoad??
A(this.el);ba&&await ba;await this.manager._load();this._enableUpdating(!0);this.performUpdate();this._postLoad.resolve();await Promise.resolve();ba=this._offspring.filter(oa=>!oa.manager?.loadedCalled);ba.length&&await Promise.allSettled(ba.map(async oa=>await oa.componentOnReady()));this._offspring.length=0;this.el.setAttribute(this.constructor.runtime.hydratedAttribute,"");this.manager._loaded();this._postLoaded.resolve()}shouldUpdate(ba){this.$changes=ba;return this._originalShouldUpdate?.(ba)??
!0}listen(ba,oa,Ca){const Ka=oa?.bind(this)??oa;this.manager.onLifecycle(()=>{this.el.addEventListener(ba,Ka,Ca);return()=>this.el.removeEventListener(ba,Ka,Ca)})}listenOn(ba,oa,Ca,Ka){const Sa=Ca?.bind(this)??Ca;this.manager.onLifecycle(()=>{ba.addEventListener(oa,Sa,Ka);return()=>ba.removeEventListener(oa,Sa,Ka)})}async componentOnReady(){await this._postLoaded.promise;return this}},Ec.lumina=!0,Ec);Fb.$createEvent=Nc;const pc=globalThis.calciteConfig,zc=pc?.focusTrapStack||[],Ic=pc?.logLevel||
"info",Ac=()=>"u">typeof navigator&&"u">typeof window&&"u">typeof location&&"u">typeof document&&window.location===location&&window.document===document;(function(){Ac()&&("interactive"===document.readyState?ua():document.addEventListener("DOMContentLoaded",()=>ua(),{once:!0}));ya()})();const lc=function(M){let ba;const oa=Ka=>{ba=(new URL(Ka,globalThis.location?.href||void 0)).href},Ca={...M,getAssetPath(Ka){Ka=new URL(Ka,ba);return Ka.origin!==globalThis.location?.origin?Ka.href:Ka.pathname},setAssetPath:oa,
customElement(Ka,Sa){Sa.runtime=Ca;Sa.tagName=Ka;customElements.get(Ka)||customElements.define(Ka,Sa)}};oa(M.defaultAssetPath);return Ca}({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.0.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:Oc,getAssetPath:Pc,setAssetPath:Qc}=lc;let Hc=!1;a.B=yc;a.D={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",
calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"};a.E=xb;a.E$1=Ic;a.L=function(){if(!Ac())return"";const M=navigator.userAgentData;return M?.brands?M.brands.map(({brand:ba,version:oa})=>`${ba}/${oa}`).join(" "):navigator.userAgent};a.LitElement=Fb;a.M={filter:250,nextTick:0,resize:150,reposition:100};a.S=Oc;a.S$1=Tb;a.T=Pc;a.T$1=$b;a.Z=cc;a._=zc;a.b=nc;a.commitAssetPath=function(){if(!Hc){var M=f.makeAbsolute(b.getAssetUrl("esri/widgets/support/components/assets"));
Hc=!0;Qc(M)}};a.createEvent=sb;a.e=mc;a.i=(M,...ba)=>{ba=1===M.length?M[0]:ba.reduce((oa,Ca,Ka)=>{if(!0===Ca._$cssResult$)Ca=Ca.cssText;else if("number"!=typeof Ca)throw Error("Value passed to 'css' function must be a 'css' function result: "+Ca+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");return oa+Ca+M[Ka+1]},M[0]);return new vb(ba,M,yb)};a.i$1=xc;a.loadCalciteComponents=function(M){const ba=[];for(const oa of Object.keys(M))customElements.get(`calcite-${oa}`)||
ba.push(M[oa]?.());return 0<ba.length?Promise.all(ba):null};a.m=Ac;a.makeGenericController=M=>ba=>lb(ba,M);a.makeT9nController=M=>(ba={})=>lb(void 0,(oa,Ca)=>{function Ka(Va){var fb=Ca.exports;fb=fb._original??fb;const ob=qa(fb,Va);Va&&(ob._original=fb);Ca.exports=ob}var Sa=r(oa.el);Sa={_lang:Sa.lang,_t9nLocale:Sa.t9nLocale,_loading:!0};Ca.onLifecycle(()=>p(oa.el,()=>M("./assets"),({t9nLocale:Va,t9nStrings:fb,lang:ob})=>{Ca.exports={...fb,_lang:ob,_t9nLocale:Va,_loading:!1};Va=fb.componentLabel;"string"===
typeof Va&&"label"in oa&&null==oa.label&&(oa.label??(oa.label=Va));Ka(oa.messageOverrides)},ba.name));if("messageOverrides"in oa)Ca.onLifecycle(()=>N(oa,"messageOverrides",Ka));return ba.blocking?(Ca.setProvisionalExports(Sa,!1),Ca.ready):Sa});a.n=vb;a.nothing=xb;a.r=bc;a.safeClassMap=M=>"object"===typeof M&&null!=M?Tc(M):M;a.safeStyleMap=M=>"object"===typeof M&&null!=M?Uc(M):M;a.setAttribute=function(M,ba,oa){null==oa?M.removeAttribute(ba):M.setAttribute(ba,oa)};a.stringOrBoolean={toAttribute:M=>
!0===M?"":!1===M?null:M};a.t=oc;a.useWatchAttributes=(M,ba)=>new Xb(M,ba);a.x=dc})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils","./symbols"],function(a,b,c){function f(u,p){let l=p.children;if(l?.length)for(var m=0;m<l.length;++m)l[m]=f(u,l[m]);else l=g;m=p.vnodeSelector;if(e(m)){p=p.properties||h;const v=p.key||m;return{vnodeSelector:m.vnodeSelector,properties:{key:v,afterCreate:d,afterUpdate:n,afterRemoved:q,parentWidget:u,widgetConstructor:m,widgetProperties:{...p,
key:v,children:l}},children:void 0,text:void 0,domNode:null}}return p}function d(u,p,l,{parentWidget:m,widgetConstructor:v,widgetProperties:A}){const t=new v(A);t.container=u;r.set(u,t);t.afterCreate?.(t,u);m.addHandles(b.makeHandle(()=>q(u)));queueMicrotask(()=>{t[c.widgetTestDataSymbol].projector.renderNow()})}function n(u,p,l,{widgetProperties:m}){if(p=r.get(u))p.set(m),p.afterUpdate?.(p,u)}function q(u){const p=r.get(u);p&&(p.afterRemoved?.(p,u),p.destroy(),r.delete(u))}function e(u){return"function"===
typeof u&&u[c.widgetSymbol]}const g=[],h={},r=new WeakMap;a.isWidgetConstructor=e;a.processWidgets=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],function(a){const b=Symbol("widget"),c=Symbol("widget-test-data");a.widgetSymbol=b;a.widgetTestDataSymbol=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=
function(){return 0<b.size};a.registerLoading=function(c){b.add(c);c.finally(()=>b.delete(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),function(a,b,c,f,d,n,q){a.accessibleHandler=b.accessibleHandler;a.messageBundle=c.messageBundle;a.vmEvent=f.vmEvent;a.tsx=d.tsx;a.tsxFragment=
d.tsxFragment;a.additionalAllowedTags=n.additionalAllowedTags;a.classes=n.classes;a.cssTransition=n.cssTransition;a.discardNode=n.discardNode;a.isActivationKey=n.isActivationKey;a.isRTL=n.isRTL;a.onResize=n.onResize;a.renderingSanitizer=n.renderingSanitizer;a.safeAttrs=n.safeAttrs;a.setFocus=n.setFocus;a.storeNode=n.storeNode;a.getCalciteThemeClass=q.getCalciteThemeClass;a.isDarkTheme=q.isDarkTheme;a.setCalciteThemeClass=q.setCalciteThemeClass;a.hasDomNode=function(e){return e&&"function"===typeof e.postMixInProperties&&
"function"===typeof e.buildRendering&&"function"===typeof e.postCreate&&"function"===typeof e.startup};a.isWidget=function(e){return e&&"function"===typeof e.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports","../widgetUtils"],function(a,b){function c(f){return function(d,...n){const q=d?.type;d instanceof KeyboardEvent||"keyup"===q||"keydown"===q||"keypress"===q?b.isActivationKey(d.key)&&(d.preventDefault(),
d.stopPropagation(),d.target.click()):f.call(this,d,...n)}}a.accessibleHandler=function(){return function(f,d){if(!f[d])throw new TypeError(`Cannot auto bind undefined function '${String(d)}'`);return{value:c(f[d])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=function(b){return(c,f)=>{c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?c._messageBundleProps.slice():
[]);c._messageBundleProps.push({bundlePath:b,propertyName:f})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(c){return c.split(",").map(f=>f.trim())}a.vmEvent=function(c){return f=>{f.hasOwnProperty("_delegatedEventNames")||(f._delegatedEventNames=f._delegatedEventNames?f._delegatedEventNames.slice():[]);f=f._delegatedEventNames;const d=Array.isArray(c)?c:b(c);f.push(...d)}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(d,n){for(var q=0,e=d.length;q<e;q++){var g=d[q];Array.isArray(g)?c(g,n):null!==g&&void 0!==g&&!1!==g&&(g.hasOwnProperty("vnodeSelector")||(g={vnodeSelector:"",properties:void 0,children:void 0,text:g.toString(),domNode:null}),n.push(g))}},f=function(d,n){for(var q=[],e=2;e<arguments.length;e++)q[e-2]=arguments[e];if(1===q.length&&"string"===typeof q[0])return{vnodeSelector:d,
properties:n||void 0,children:void 0,text:q[0],domNode:null};e=[];c(q,e);return{vnodeSelector:d,properties:n||void 0,children:e,text:void 0,domNode:null}};a.tsx=function(d,n,...q){return"function"!==typeof d||b.isWidgetConstructor(d)?f(d,n??null,...q):d(n,...q)};a.tsxFragment=function(...d){return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,
"").startsWith("dark")}function c(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function f(d){Array.from(d.classList).forEach(n=>{n.startsWith("calcite-mode-")&&d.classList.remove(n)})}a.getCalciteThemeClass=c;a.isDarkTheme=b;a.setCalciteThemeClass=function(d){f(d);d.classList.add(c())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);