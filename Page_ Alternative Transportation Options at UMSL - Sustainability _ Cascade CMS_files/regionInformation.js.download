!function(){var t={isInitialized:!1,isMouseTrackingDisabled:!0,isTrackingEditableRegionsOnly:!0,init:function(){var e,n,o="##HHILL_REGION_END",i='box-shadow: none;pointer-events:all;position:absolute; left: auto; right: auto; top: auto; bottom: auto; display:block; z-index:2147483647; margin:0; cursor: auto; font: normal 16px "Open Sans", Arial, sans-serif; overflow: visible; text-decoration: none; text-indent: 0; line-height: 26px; background:none; color: rgba(0, 0, 0, 0.87); padding: 0; transition: box-shadow 0.25s ease; border-radius: 0; transform: none;',l=[],a={},r=null,s=null,d=function(t){for(var e,n,i=0;i<t.childNodes.length;i++)if(8===(e=t.childNodes[i]).nodeType){var r=e.textContent;if(r==o){if(l.length>0&&!(n=l[l.length-1]).empty){var s=e.previousSibling;if(s){for(;s&&("function"!=typeof s.getBoundingClientRect||!u(s.getBoundingClientRect()));)s=s.previousSibling;n.lastElement=s||n.firstElement}else n.empty=!0}}else if(0===r.lastIndexOf("##HHILL_REGION:",0)){var p=e.nextSibling,c=!1;if(p)for(;!(c||null==p||"function"==typeof p.getBoundingClientRect&&u(p.getBoundingClientRect()));)8===p.nodeType&&p.textContent===o&&(c=!0),p=p.nextSibling;else c=!0;if(c||null!=p){var g;try{g=JSON.parse(r.substring(15))}catch(t){g={}}(n={firstElement:c?null:p,empty:c,data:g}).data.edit=parent.jQuery(".region-edit[data-regionname='"+n.data.name+"']").length>0,l.push(n),a[n.data.name]=n}}}else d(e)},u=function(t){return t.right-t.left>0&&t.bottom-t.top>0},p=function(){return document.documentElement.scrollTop||document.body.scrollTop},c=function(){return document.documentElement.scrollLeft||document.body.scrollLeft},g=function(t){var e=t.data.edit,n=document.createElement("button");if(n.setAttribute("type","button"),n.textContent=t.data.name+(t.empty?" (not visible)":""),n.setAttribute("class","cascade-region-tooltip"),n.setAttribute("style",i+"background-color: #fff; color: #222630; border: 0;border-radius:3px; box-shadow: 0px 0px 20px #888888; text-align: left; right: 30px; padding: 15px;display: none; cursor: pointer;"),n.onclick=function(){s&&s.data.name===t.data.name||C(t.data.name),null!==parent&&e&&function(t){var e=a[t];e&&e.data.edit&&parent.jQuery("#asset-render").trigger("edit.region",t)}(t.data.name)},e){var o=document.createElement("em");o.setAttribute("style","color: #43739c;"),o.textContent="Edit Content",n.appendChild(document.createElement("br")),n.appendChild(o)}return n},f=function(t,e,n,o){return{top:p()+t,left:c()+o,bottom:p()+n,right:c()+e}},m=function(t){var e=t.tooltip;if(t.empty)e.style.left="0",e.style.top="0",e.style.position="fixed";else{var n=t.frame,o=t.firstElement.getBoundingClientRect(),i=t.lastElement.getBoundingClientRect();t.position=f(o.top,i.right,i.bottom,o.left),n.style.top=t.position.top+"px",n.style.left=t.position.left+"px",n.style.height=i.bottom-o.top+"px",n.style.width=i.right-o.left+"px";var l=t.triangle;t.position.top>e.offsetHeight+l.offsetHeight+15?(e.style.bottom="calc(100% + 10px)",e.style.top="auto",l.style.bottom="100%",l.style.top="auto",l.style.borderTop="10px solid #ffffff",l.style.borderBottom="none"):(e.style.top="calc(100% + 10px)",e.style.bottom="auto",l.style.top="100%",l.style.bottom="auto",l.style.borderBottom="10px solid #ffffff",l.style.borderTop="none");var a=e.getBoundingClientRect();t.tooltipPosition=f(a.top,a.right,a.bottom,a.left);var r=l.getBoundingClientRect();t.trianglePosition=f(r.top,a.right,r.bottom,a.left)}},b=function(){if(null!=s||null!=r||!e)for(var t=0;t<l.length;t++)m(l[t]);e=setTimeout(b,1e3,!1)},y=function(t,e,n){return n&&n.top-15<=e&&n.right+15>=t&&n.bottom+15>=e&&n.left-15<=t},h=function(t){if(null==s){var e=a[t];if(null!=e){if(null!=r&&v(),e.tooltip.style.display="block",r=e,!e.empty){var n=e.frame;n.style.color="rgba(0, 0, 0, 1)",n.style.boxShadow="0px 0px 15px rgba(0,0,0,.35)",n.style.border="2px dashed #aaa",e.triangle.style.display="block"}m(e)}}},v=function(){if(null!=r&&null==s){if(r.tooltip.style.display="none",!r.empty){var t=r.frame;t.style.color="rgba(0, 0, 0, 0)",t.style.boxShadow="none",t.style.border="none",r.triangle.style.display="none"}r=null}},x=function(t){null!=s&&R(),parent.jQuery("#asset-render").trigger("select.region",t);var e=a[t];null!=e&&(h(e.data.name),e.empty||(e.frame.style.boxShadow="0px 0px 30px #888"),s=e)},R=function(){null!=s&&(s=null,v(),parent.jQuery("#asset-render").trigger("unselect.region"))},C=function(t){if(null!=s){var e=s.data.name;if(R(),e===t)return}x(t)};t.getSelectedRegionPositionY=function(){return null==s||s.empty?null:Math.min(s.tooltipPosition.top,s.position.top)},t.highlightRegion=h,t.unhighlightRegion=v,t.toggleRegion=C,t.selectRegion=x,t.unselectRegion=R,t.getSelectedRegion=function(){return s},t.calculateAllRegionOverlayPositions=function(){e&&(clearTimeout(e),e=null),b()},d(document),function(){for(var t=document.createDocumentFragment(),e=0;e<l.length;e++){var n=l[e],o=g(n);if(n.tooltip=o,n.empty)t.appendChild(o);else{var a=document.createElement("div");a.setAttribute("style",i+"pointer-events:none;border-radius:3px;border-inset:-2px;"),a.setAttribute("class","cascade-region"),a.dataset.region=n.data.name,n.frame=a;var r=document.createElement("div");r.setAttribute("style",i+"right: 37.5px; bottom: 100%; border-left: 10px solid transparent;border-right: 10px solid transparent; display: none;"),n.triangle=r,t.appendChild(a),a.appendChild(o),a.appendChild(r)}}document.body.appendChild(t)}(),t.calculateAllRegionOverlayPositions(),n=document.onmousemove,document.onmousemove=function(e){if(null==s&&!t.isMouseTrackingDisabled){var o=e.clientX+c(),i=e.clientY+p();if(null!=r){var a=y(o,i,r.tooltipPosition),d=y(o,i,r.trianglePosition);y(o,i,r.position)||a||d||v()}else for(var u=0;u<l.length;u++){var g=l[u];if(!g.empty&&y(o,i,g.position)&&(g.data.edit&&t.isTrackingEditableRegionsOnly||!t.isTrackingEditableRegionsOnly)){h(g.data.name);break}}}null!=n&&n()},document.addEventListener("click",(function(e){if(!t.isMouseTrackingDisabled){var n=e.clientX+c(),o=e.clientY+p();if(!s||!y(n,o,s.tooltipPosition)){s&&!y(n,o,s.position)&&R();for(var i=0;i<l.length;i++){var a=l[i];if(!a.empty&&(a.data.edit||!t.isTrackingEditableRegionsOnly)&&y(n,o,a.position)){C(a.data.name);break}}}}})),t.isInitialized=!0},disable:function(){this.unhighlightRegion(),this.isMouseTrackingDisabled=!0,this.unselectRegion()},enableMouseTracking:function(){this.isMouseTrackingDisabled=!1}};window._CascadeCMSRegionInformationSupport=t,setTimeout(t.init,1e3)}();
//# sourceMappingURL=regionInformation.js.map