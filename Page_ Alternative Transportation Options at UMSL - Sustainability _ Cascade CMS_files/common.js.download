/*! For license information please see common.js.LICENSE.txt */
!function(){var e,n,o,a,s={93541:function(e,t,n){var i,r;i=[n,t,n(7994),n(74663),n(90618)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.env=t.Variables=t.UI=t.I18n=void 0,i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),t.I18n=i.default,t.UI=r.default,t.Variables=i.default,t.env={isDevelopment:Boolean(i.default.get("development"))},t.default={I18n:t.I18n,UI:t.UI,Variables:t.Variables,env:t.env}}.apply(t,i),void 0===r||(e.exports=r)},80740:function(){window.getTimeZone=()=>{const e=-(new Date).getTimezoneOffset(),t=Math.abs(e),n=(t>0?t/60:0).toString();return(e>0?"+":"-")+(n.length>1?"":"0")+n+":00"}},93660:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static getContextPath(){const e=window.Cascade_contextPath;return void 0===e?(console.error("Cascade_contextPath is not defined"),""):e}static getCachebuster(){const e=window.Cascade_cachebuster;return void 0===e?(console.error("Cascade_cachebuster is not defined"),""):e}static absolutePath(e,t){return this.getContextPath()+this.cleanCascadePath(e)+this.recordToParamsUrlPiece(t)}static relationshipPathToContentLink(e){if(!e||-1===e.indexOf(":")||e.startsWith("site://"))return e;const t=e.match(/(.*):([^\/].*)/)||e.match(/(.*):(\/)/);if(!t)return e;const n="site://"+t[1]+"/";return void 0!==t[2]&&"/"!==t[2]?n+t[2]:n}static getLocationOrigin(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}static addOrUpdateParams(e,t){const[n,i]=this.splitUrlByParams(e),r=new URLSearchParams(i);return Object.keys(t).forEach((e=>r.set(e,t[e]))),n+this.paramsToUrlPiece(r)}static removeUrlParameter(e,t){const[n,i]=this.splitUrlByParams(e),r=new URLSearchParams(i);return r.delete(t),n+this.paramsToUrlPiece(r)}static getCurrentUrlWithoutHash(){return location.origin+location.pathname+location.search}static getUrlParameter(e,t){return new URLSearchParams(this.getUrlOrCurrent(e)).get(t)||""}static splitUrlByParams(e){return e.split("?",2)}static getUrlOrCurrent(e){return null!==e?e:window.location.search.substring(1)}static recordToParamsUrlPiece(e){return this.paramsToUrlPiece(new URLSearchParams(this.cleanParams(e)))}static cleanParams(e){return e?Object.keys(e).filter((t=>null!=t&&void 0!==e[t]&&null!==e[t])).reduce(((t,n)=>(t[n]=e[n],t)),{}):{}}static paramsToUrlPiece(e){const t=e.toString();return t?"?"+t:""}static cleanCascadePath(e){return e?e.startsWith("/")?e:"/"+e:"/"}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},8185:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static open(e,t){e&&(t?window.open(e,"_blank"):window.open(e))}static isTextSelected(){const e=window.getSelection();return null!==e&&e.toString().length>0}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},42110:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(16412),n(10776),n(14741),n(12993),n(26742),n(10861),n(27494),n(40974),n(46715),n(93352),n(93660)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),A=(0,n.__importDefault)(A),g=(0,n.__importDefault)(g);class m{constructor(){this.accessibilityErrors=[],this.accessibilityErrorsByStandard=Object.fromEntries(p.ACCESSIBILITY_STANDARDS_ORDERED.map((e=>[e,[]])))}static init(e,t,n){const i=m.reuseExistingOrCreateNewAccessibilityModule(e);return i.$outputListsElement=t,i.renderFrameElements=new h.default(e),i.accessibilityFilter=A.default.init(i),i.performAccessibilityCheck(n),i}getAccessibilityErrorsByStandard(e){return this.accessibilityErrorsByStandard[e]||[]}performAccessibilityCheck(e){s.default.start(),this.clearAccessibilityErrors(),i.default.getJSON(m.ACCESSIBILITY_CHECK_ACTION,{id:o.default.Variables.get("domId"),confId:r.default.getQueryParams().confId||""},(t=>{const n=m.validateAccessibilityCheckResponse(t);if(n)return l.default.showError(n);this.processAccessibilityErrors(t.violations),this.displayAccessibilityErrors(),this.trackCheckEvent(t),e&&e(t)})).fail((e=>l.default.showError(u.default.getAjaxResponseError(e)))).always((()=>s.default.done()))}clearAccessibilityErrors(){this.accessibilityErrors=[],Object.keys(this.accessibilityErrorsByStandard).forEach((e=>this.accessibilityErrorsByStandard[e]=[])),this.$outputListsElement.empty()}processAccessibilityErrors(e){const t=[f.AccessibilityErrorImpact.critical,f.AccessibilityErrorImpact.serious,f.AccessibilityErrorImpact.moderate,f.AccessibilityErrorImpact.minor];r.default.orderBy(e,[e=>t.indexOf(e.impact)],["asc"]).forEach(((e,t)=>{const n=f.AccessibilityError.initFromAxeError(e,t);n&&(this.renderFrameElements.populateInstanceElements(n.instances),this.accessibilityErrors.push(n),p.AccessibilityStandardUtil.getStandardLevels(n.standards).forEach((e=>this.populateAccessibilityErrorInErrorsByStandard(n,e))))}))}displayAccessibilityErrors(){this.$outputListsElement.html(m.renderViolationLists(this.accessibilityErrors)),this.renderFrameElements.loadCssInRenderFrame(),this.addEventHandlers(),this.updateOutputList()}addEventHandlers(){this.$outputListsElement.on("mouseover","button",(e=>this.highlightFirstInstanceFromButton((0,i.default)(e.currentTarget)))).on("mouseout","button",(e=>this.unhighlightFromButton((0,i.default)(e.currentTarget)))).on("click","button",(e=>this.showDialogFromButton((0,i.default)(e.currentTarget))));const e=this.renderFrameElements.getFrameBody();e&&(0,i.default)(e).on("click",".more-details",(e=>this.showErrorDetailModal((0,i.default)(e.currentTarget)))).on("click",".cascade-accessibility-instance-link",(e=>this.showDialogFromButton((0,i.default)(e.currentTarget)))).on("click",".cascade-accessibility-close-link",(()=>this.hideAccessibilityDialog()))}removeEventHandlers(){this.accessibilityFilter.removeEventHandlers(),this.$outputListsElement.off("mouseover mouseout click");const e=this.renderFrameElements.getFrameBody();e&&(0,i.default)(e).off("click")}highlightFirstInstanceFromButton(e){const t=this.getErrorInstanceFromElement(e);this.renderFrameElements.highlightInstance(t)}unhighlightFromButton(e){const t=this.getErrorInstanceFromElement(e);this.currentInstance&&this.currentInstance==t||this.renderFrameElements.unhighlightElement(t.highlightBox)}showDialogFromButton(e){const t=e.data("error-index"),n=e.data("instance-index")||0;this.selectViolation(t),this.displayAccessibilityDialog(t,n)}showErrorDetailModal(e){const t=this.getErrorInstanceFromElement(e),n=t.error;a.default.focusElementOnHide(e[0]),this.hideAccessibilityDialog(),this.renderFrameElements.takeScreenshotOfElement(t.$elementInViolation).then((e=>{this.displayAccessibilityDialogForInstance(t);const n=(0,i.default)(".accessibility-issue-screenshot");(0,i.default)(".accessibility-issue-screenshot-loader").addClass("hide"),e&&n.attr("src",e).removeClass("hide")})),a.default.openFromHTML(m.accessibilityErrorDetailTemplate({error:n,instance:t,I18n:o.default.I18n}))}selectViolation(e){this.$outputListsElement&&(this.$outputListsElement.find("button").removeClass("active"),this.$outputListsElement.find("button[data-error-index="+e+"]").addClass("active"))}updateOutputList(){const e=this.accessibilityFilter.filteredErrors;let t;this.hideAccessibilityDialog(),t=e&&e.length>0?m.renderViolationLists(e):"<p>"+o.default.I18n.get("message.no.accessibility.issues.filtered")+"</p>",this.$outputListsElement.html(t)}getErrorInstanceFromElement(e){const t=e.data("error-index"),n=e.data("instance-index")||0;return this.accessibilityErrors[t].instances[n]}hideAccessibilityDialog(){this.renderFrameElements.hideAccessibilityDialog(this.currentInstance),this.currentInstance=void 0}displayAccessibilityDialog(e,t){const n=this.accessibilityErrors[e];if(!n)return;const i=n.instances[t];i&&this.displayAccessibilityDialogForInstance(i)}displayAccessibilityDialogForInstance(e){this.renderFrameElements.displayAccessibilityDialog(e,this.currentInstance),this.currentInstance=e}trackCheckEvent(e){d.default.REPORTING.trackReportEvent("Accessibility","Checked Page Level Accessibility",{totalIssues:e.violations.length})}populateAccessibilityErrorInErrorsByStandard(e,t){const n=this.accessibilityErrorsByStandard[t]||[];n.push(e),this.accessibilityErrorsByStandard[t]=n}static groupByImpact(e){return r.default.groupBy(e,"impact")}static renderViolationLists(e){return m.accessibilityViolationListsTemplate({errorsByImpact:m.groupByImpact(e),I18n:o.default.I18n})}static reuseExistingOrCreateNewAccessibilityModule(e){const t=e.accessibility;if(t)return t.removeEventHandlers(),t.hideAccessibilityDialog(),t;const n=new m;return e.accessibility=n,n}static validateAccessibilityCheckResponse(e){return e.error?e.error:Array.isArray(e.violations)&&e.violations.length?void 0:o.default.I18n.get("message.no.accessibility.issues")}}t.default=m,m.ACCESSIBILITY_CHECK_ACTION=g.default.absolutePath("/ajax/getAccessibilityReport.act"),m.accessibilityErrorDetailTemplate=c.default.get("accessibilityErrorDetail"),m.accessibilityViolationListsTemplate=c.default.get("accessibilityViolationLists")}.apply(t,i),void 0===r||(e.exports=r)},40974:function(e,t,n){var i,r,o=n(37549);i=[n,t,n(7994),n(93541),n(46715)],r=function(e,t,n,i,r){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityError=t.AccessibilityErrorInstance=t.AccessibilityErrorImpact=void 0,i=(0,n.__importDefault)(i),function(e){e.critical="critical",e.serious="serious",e.moderate="moderate",e.minor="minor"}(a=t.AccessibilityErrorImpact||(t.AccessibilityErrorImpact={}));class s{static initFromAxeNode(e,t,n){return{recommendation:e.failureSummary||"",html:e.html||"",elementInViolationCssSelector:e.target&&e.target[0]||"",$elementInViolation:o(),impact:a[e.impact||""]||a.minor,index:n,$triangle:o(),$tooltip:o(),error:t}}}t.AccessibilityErrorInstance=s;class l{static initFromAxeError(e,t){if(!Array.isArray(e.nodes)||!e.nodes.length)return;const n=new l;return n.title=e.help||"",n.description=e.description||"",n.standards=r.AccessibilityStandardUtil.getStandardLevels(e.tags||[]),n.standardsLabels=r.AccessibilityStandardUtil.getStandardLevels(e.tags||[]).map((e=>i.default.I18n.get(r.ACCESSIBILITY_STANDARD_TO_LABEL_KEY_MAP[e]))),n.link=e.helpUrl||"",n.impact=a[e.impact||""]||a.minor,n.index=t,n.instances=[],e.nodes.forEach(((e,t)=>n.instances.push(s.initFromAxeNode(e,n,t)))),n}}t.AccessibilityError=l}.apply(t,i),void 0===r||(e.exports=r)},93352:function(e,t,n){var i,r;i=[n,t,n(7994),n(29840),n(46715),n(83138)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),o=(0,n.__importDefault)(o);class a{static init(e){const t=new a;return t.accessibilityRef=e,t.initializeState(),t.populatePropertiesFromDocument(),t.filterForm=o.default.init(t),t}submit(e){this.state=Object.assign({},e),i.default.set(a.COOKIE_NAME,JSON.stringify(this.state),{expires:a.COOKIE_EXPIRATION}),this.accessibilityRef.updateOutputList(),this.filterButton.click()}test(e){return this.getFilteredErrors(e)}get state(){return this._state}get filteredErrors(){return this.getFilteredErrors(this.state)}removeEventHandlers(){this.filterForm.removeEventHandlers()}populatePropertiesFromDocument(){this.filterButton=document.getElementById("accessibility-filter-button")}getFilteredErrors(e){const t=this.getFilteredStandards(e).map((e=>this.accessibilityRef.getAccessibilityErrorsByStandard(e))).flat(),n=new Set(t);return Array.from(n).sort(((e,t)=>e.index-t.index))}getFilteredStandards(e){const{otherStandards:t}=e;return[...this.getFilteredWcagStandards(e.wcagFilter),...t]}initializeState(){const e=i.default.get(a.COOKIE_NAME);let t=Object.assign({},a.DEFAULT_STATE);if(e)try{t=JSON.parse(e)}catch(e){console.debug("Error parsing accessibility filter cookie, using default",e)}this.state=t}set state(e){this._state=Object.assign({},e)}getFilteredWcagStandards(e){const t=r.AccessibilityStandardUtil.getWcagStandardsFilteredByLevel(e.level);return r.AccessibilityStandardUtil.getWcagStandardsFilteredByVersion(e.version).filter((e=>t.includes(e)))}}t.default=a,a.COOKIE_NAME="accessibilityFilter",a.COOKIE_EXPIRATION=365,a.DEFAULT_STATE={wcagFilter:{version:"wcag22",level:"aa"},otherStandards:[]}}.apply(t,i),void 0===r||(e.exports=r)},83138:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(51517),n(10592),n(23026)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a);class s{static init(e){const t=new s;return t.filterRef=e,t.populatePropertiesFromDocument(),t.initializeFormFields(),t.addEventHandlers(),t}removeEventHandlers(){this.$standardsForm.off("change"),this.$wcagVersion.off("change"),this.submitButton.removeEventHandlers(),this.resetButton.removeEventListener("click",(()=>this.reset()))}populatePropertiesFromDocument(){this.$standardsForm=(0,i.default)("#accessibility-filter"),this.wcagLevel=this.getFieldByName("wcagLevel"),this.wcagVersion=this.getFieldByName("wcagVersion"),this.$wcagVersion=(0,i.default)(this.wcagVersion),this.otherStandards=new o.default(this.getFieldByName("otherStandards[]")),this.submitButton=a.default.init(this),this.resetButton=document.getElementById("accessibility-filter-reset")}initializeFormFields(){this.reset(),r.default.init(this.$standardsForm)}reset(){const{wcagFilter:e,otherStandards:t}=this.filterRef.state;this.wcagLevel.value=e.level,this.wcagVersion.value=e.version,this.otherStandards.values=t,this.hideButtons()}addEventHandlers(){this.$standardsForm.on("change",'input[name="wcagLevel"], input[name="otherStandards[]"]',(()=>this.handleFormChange())),this.$wcagVersion.selectize({openOnFocus:!1}).on("change",(()=>this.handleFormChange())),this.resetButton.addEventListener("click",(()=>this.reset()))}handleSubmit(){this.filterRef.submit(this.currentFormState),this.hideButtons()}get wcagLevelValue(){return this.wcagLevel.value}get wcagVersionValue(){return this.wcagVersion.value}get otherStandardsValues(){return this.otherStandards.values}handleFormChange(){const e=this.currentFormState;this.stateChanged(e)?(this.submitButton.buttonCount=this.filterRef.test(e).length,this.showButtons()):this.hideButtons()}get currentFormState(){return{wcagFilter:{level:this.wcagLevelValue,version:this.wcagVersionValue},otherStandards:this.otherStandardsValues}}stateChanged(e){try{return JSON.stringify(this.filterRef.state)!==JSON.stringify(e)}catch(e){return!1}}hideButtons(){this.submitButton.hide(),this.resetButton.classList.add("hide")}showButtons(){this.submitButton.show(),this.resetButton.classList.remove("hide")}getFieldByName(e){return this.$standardsForm[0].elements.namedItem(e)}}t.default=s}.apply(t,i),void 0===r||(e.exports=r)},23026:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static init(e){const t=new n;return t.filterFormRef=e,t.populatePropertiesFromDocument(),t.addEventHandlers(),t}set buttonCount(e){this.countSpan.textContent=e.toString()}show(){this.submitButton.classList.remove("hide")}hide(){this.submitButton.classList.add("hide")}removeEventHandlers(){this.submitButton.removeEventListener("click",(()=>this.filterFormRef.handleSubmit()))}populatePropertiesFromDocument(){this.submitButton=document.getElementById("accessibility-filter-submit"),this.countSpan=document.getElementById("accessibility-filter-count")}addEventHandlers(){this.submitButton.addEventListener("click",(()=>this.filterFormRef.handleSubmit()))}}t.default=n}.apply(t,[n,t]),void 0===i||(e.exports=i)},46715:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityStandardUtil=t.ACCESSIBILITY_STANDARDS_ORDERED=t.ACCESSIBILITY_STANDARD_TO_LABEL_KEY_MAP=void 0,t.ACCESSIBILITY_STANDARD_TO_LABEL_KEY_MAP={wcag2a:"label.accessibility.standard.level.wcag2a",wcag2aa:"label.accessibility.standard.level.wcag2aa",wcag2aaa:"label.accessibility.standard.level.wcag2aaa",wcag21a:"label.accessibility.standard.level.wcag21a",wcag21aa:"label.accessibility.standard.level.wcag21aa",wcag22aa:"label.accessibility.standard.level.wcag22aa","best-practice":"label.accessibility.standard.level.bestpractice",section508:"label.accessibility.standard.level.section508"},t.ACCESSIBILITY_STANDARDS_ORDERED=["section508","wcag2a","wcag2aa","wcag2aaa","wcag21a","wcag21aa","wcag22aa","best-practice"];const n={a:["wcag2a","wcag21a"],aa:["wcag2aa","wcag21aa","wcag22aa"],aaa:["wcag2aaa"]},i={wcag2:["wcag2a","wcag2aa","wcag2aaa"],wcag21:["wcag21a","wcag21aa"],wcag22:["wcag22aa"]};class r{static getStandardLevels(e){return t.ACCESSIBILITY_STANDARDS_ORDERED.filter((t=>e.includes(t)))}static getWcagStandardsFilteredByLevel(e){return this.STANDARDS_TO_LEVEL_MAP[e.toLowerCase()]||this.STANDARDS_TO_LEVEL_MAP.aa}static getWcagStandardsFilteredByVersion(e){return this.STANDARDS_TO_VERSION_MAP[e.toLowerCase()]||this.STANDARDS_TO_VERSION_MAP.wcag22}}t.AccessibilityStandardUtil=r,r.STANDARDS_TO_LEVEL_MAP={a:[...n.a],aa:[...n.a,...n.aa],aaa:[...n.a,...n.aa,...n.aaa]},r.STANDARDS_TO_VERSION_MAP={wcag2:[...i.wcag2],wcag21:[...i.wcag2,...i.wcag21],wcag22:[...i.wcag2,...i.wcag21,...i.wcag22]}}.apply(t,[n,t]),void 0===i||(e.exports=i)},27494:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(26742),n(74001),n(12993),n(93660)],r=function(e,t,n,i,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l);class c{constructor(e){this.assetRenderIframe=e,this.$assetRenderIframe=(0,i.default)(e)}highlightInstance(e){this.updateDialogStatus(e),this.orientDialogElements(e),this.alignDialogElements(e),c.highlightElement(e.highlightBox)}displayAccessibilityDialog(e,t){var n,r;this.updateDialogStatus(e);const a=e.$tooltip,s=e.highlightBox,l=e.$triangle;t!=e&&(this.hideAccessibilityDialog(t),a.show(),l&&l.length&&l.show(),c.highlightElement(s)),this.orientDialogElements(e),this.alignDialogElements(e);const u=(null===(n=a.offset())||void 0===n?void 0:n.top)||0,d=u-30,h=(s&&(null===(r=(0,i.default)(s).offset())||void 0===r?void 0:r.top)||0)-30,f=s?Math.min(d,h):u,p=Math.max(f,0);(0,i.default)(o.default.getFrameDocument(this.assetRenderIframe)).find("body,html").animate({scrollTop:p},400)}populateInstanceElements(e){const t=this.getFrameBody();e.forEach((e=>{e.$elementInViolation=this.findElementInViolation(e.elementInViolationCssSelector);const n=(0,i.default)(c.createTooltipElement(e)),r=c.isElementVisible(e.$elementInViolation)?this.createHighlightBoxAndTriangle(n):void 0;!(null==r?void 0:r.highlightBox)&&n.length&&t&&t.appendChild(n.get()[0]),r&&(e.highlightBox=r.highlightBox,e.triangle=r.triangle,e.$triangle=(0,i.default)(r.triangle)),e.$tooltip=n}))}loadCssInRenderFrame(){const e=o.default.getFrameDocument(this.assetRenderIframe);o.default.loadCssFile(c.ACCESSIBILITY_CSS_URL,e)}getFrameBody(){const e=o.default.getFrameDocument(this.assetRenderIframe);if(e)return e.body}takeScreenshotOfElement(e){if(!c.isElementVisible(e)||!this.isDescendantOfBody(e.get(0)))return Promise.resolve(void 0);const t=o.default.getFrameDocument(this.assetRenderIframe),n=c.calculateElementOffsetWithPadding(e);if(!n)return Promise.resolve(void 0);const i=c.calculateElementSizeWithPadding(e);return(0,a.default)(t.body,{x:n.left,y:n.top,width:i.width,height:i.height,logging:!1}).then((e=>e.toDataURL()))}unhighlightElement(e){e&&e.classList.remove("active")}hideAccessibilityDialog(e){e&&(e.$tooltip.hide(),e.$triangle.hide(),this.unhighlightElement(e.highlightBox))}static positionHighlightBox(e){const{highlightBox:t,$elementInViolation:n}=e,r=t?(0,i.default)(t):(0,i.default)();if(!n.length||!r.length||!t)return!1;const o=c.calculateElementOffsetWithPadding(n);return!!o&&(t.style.top=o.top+"px",t.style.left=o.left+"px",!0)}static calculateTriangleLeft(e,t){const{highlightBox:n,$tooltip:r}=e,o=((n?(0,i.default)(n):(0,i.default)()).width()||0)/2,a=r.width()||0;return o>a?t+a/2-10:o-10}static calculateToolTipLeft(e,t){const{highlightBox:n,$tooltip:r}=e,o=n?(0,i.default)(n):(0,i.default)(),a=o.position().left+(r.outerWidth()||0)-(t.width()||0);return a>0?-(a+2*c.PADDING):o.position().left-c.PADDING>0?-c.PADDING:0}positionDialogForVisibleElement(e){var t;const{$tooltip:n,$triangle:i,highlightBox:r,$elementInViolation:o}=e;if(n.css("position","absolute"),r){const e=c.calculateElementSizeWithPadding(o);r.style.width=e.width+"px",r.style.height=e.height+"px"}const a=n.outerHeight()||0,s=i.outerHeight()||0,l=(null===(t=o.offset())||void 0===t?void 0:t.top)||0,u=o.outerHeight()||0,d=a+s+c.PADDING;l>d?this.positionDialogAbove(n,i):this.positionDialogBelow(n,i,l+u,d)}positionDialogAbove(e,t){e.css({bottom:"calc(100% + 10px)",top:"auto"}),t.removeClass("orient-above"),t.addClass("orient-below")}positionDialogBelow(e,t,n,i){e.css("bottom","auto"),t.removeClass("orient-below"),t.addClass("orient-above"),(this.$assetRenderIframe.contents().find("body").outerHeight()||0)-n>i?(e.css("top","calc(100% + 10px)"),t.css("top","100%")):(e.css("top","20px"),t.css("top","10px"))}positionDialogForNotVisibleElement(e){e.$tooltip.css({left:"0",top:"0",position:"fixed"})}createAndAssignHighlightBoxAndTriangle(e){const{$tooltip:t}=e,n=this.createHighlightBoxAndTriangle(t);t&&t.length&&t.find(".element-visibility-indicator").css("display","none"),n&&(e.highlightBox=n.highlightBox,e.$triangle=n.triangle?(0,i.default)(n.triangle):(0,i.default)())}removeHighlightBoxAndTriangle(e){const{highlightBox:t,$tooltip:n,$triangle:r}=e,o=t?(0,i.default)(t):(0,i.default)(),a=this.getFrameBody();null==a||a.append(n[0]),n.find(".element-visibility-indicator").css("display","block"),o.remove(),r.remove(),e.highlightBox=void 0,e.$triangle=(0,i.default)()}isDescendantOfBody(e){const t=o.default.getFrameDocument(this.assetRenderIframe);return e!==t.documentElement&&e!==t.body&&t.body.contains(e)}updateDialogStatus(e){const{highlightBox:t,$elementInViolation:n}=e;t?c.isElementVisible(n)||this.removeHighlightBoxAndTriangle(e):c.isElementVisible(n)&&this.createAndAssignHighlightBoxAndTriangle(e)}orientDialogElements(e){c.isElementVisible(e.$elementInViolation)?this.positionDialogForVisibleElement(e):this.positionDialogForNotVisibleElement(e)}alignDialogElements(e){if(!c.positionHighlightBox(e))return;const t=c.calculateToolTipLeft(e,this.$assetRenderIframe);e.$tooltip.css("left",t+"px");const n=c.calculateTriangleLeft(e,t);e.$triangle.css("left",n+"px")}createHighlightBoxAndTriangle(e){if(!e.length)return;const t=this.getFrameBody(),n=document.createElement("div");n.setAttribute("class","accessibility-element");const i=document.createElement("div");return i.setAttribute("class","accessibility-tooltip-triangle"),null==t||t.appendChild(n),n.appendChild(e.get()[0]),n.appendChild(i),{highlightBox:n,triangle:i}}findElementInViolation(e){const t=o.default.getFrameDocument(this.assetRenderIframe);return e?(0,i.default)(t).find(e):(0,i.default)()}static calculateElementOffsetWithPadding(e){const t=e.offset();if(t)return{top:t.top-c.PADDING/2,left:t.left-c.PADDING/2}}static isElementVisible(e){return!!e.length&&(e.outerWidth()||0)>0&&!c.isElementOffScreen(e)}static isElementOffScreen(e){if(!e.length)return!1;const t=e.offset();return!t||t.top<0||t.left<0}static calculateElementSizeWithPadding(e){return{width:(e.width()||0)+c.PADDING,height:(e.height()||0)+c.PADDING}}static highlightElement(e){e&&(0,i.default)(e).addClass("active")}static createTooltipElement(e){return c.accessibilityDialogTemplate({error:e.error,instance:e,elementVisible:c.isElementVisible(e.$elementInViolation),I18n:r.default.I18n})}}t.default=c,c.PADDING=15,c.ACCESSIBILITY_CSS_URL=l.default.absolutePath("/assets/css/accessibility.css",{v:l.default.getCachebuster()}),c.accessibilityDialogTemplate=s.default.get("accessibilityDialog")}.apply(t,i),void 0===r||(e.exports=r)},75897:function(e,t,n){var i,r;i=[n,t,n(7994),n(61048),n(92648)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);class o extends i.default{constructor(){super(...arguments),this.handleTextareaChange=()=>{const e=this.convertEmailCSVToChosen(this.textarea.value);r.default.isEmpty(e)?this.panel.disableSubmitButton():this.panel.enableSubmitButton()}}load(){super.load(),this.textarea=this.find("textarea")[0],this.textarea.loaded||(this.textarea.addEventListener("input",r.default.debounce(this.handleTextareaChange,250)),this.textarea.value=this.convertChosenToEmailsCSV(this.originalChosen),this.textarea.loaded=!0),this.$elem.trigger("loaded.cs.chooser.panel.tab")}getChosen(){return this.textarea?this.convertEmailCSVToChosen(this.textarea.value):this.originalChosen}convertChosenToEmailsCSV(e){let t="";return e=this.getChooser()._sanitizeChosen(e),r.default.forEach(r.default.values(e),(e=>{"email"===e.type&&r.default.isValidEmail(e.id)&&(t+=e.id+", ")})),r.default.trimEnd(t,", ")}convertEmailCSVToChosen(e){const t={};if(e.length){const n=e.split(",");r.default.forEach(n,(e=>{e=r.default.trim(e),r.default.isValidEmail(e)&&(t[e]={id:e,type:"email"})}))}return t}}t.default=o}.apply(t,i),void 0===r||(e.exports=r)},4155:function(e,t,n){var i,r;i=[n,t,n(7994),n(61048)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i);class r extends i.default{load(){super.load(),this.iframe||(this.iframe=this.find("iframe")[0],this.iframe.setAttribute("src",this.iframe.getAttribute("data-src")||"")),this.$elem.trigger("loaded.cs.chooser.panel.tab")}getChosen(){return this.chosen}setChosen(e){this.chosen=e}}t.default=r}.apply(t,i),void 0===r||(e.exports=r)},95735:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648),n(37549),n(61048),n(24819),n(11688),n(50384),n(71651)],r=function(e,t,n,i,r,o,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c);class u extends o.default{constructor(){super(...arguments),this.onSearch=e=>{if(e.which===c.default.CODES.DOM_VK_TAB||e.which===c.default.CODES.DOM_VK_SHIFT)return!1;const t=(0,r.default)(e.target).val();this.dataTable&&this.dataTable.search(t).draw()},this.postDatatableInitialization=(e,t)=>{const n=new r.default.fn.dataTable.Api(t);this.$elem.on("click",".asset-link",(e=>e.preventDefault())),this.selectChosen(this.originalChosen,n),this.$elem.trigger("loaded.cs.chooser.panel.tab")},this.updateSelectedInfo=(e,t,n,i)=>{const r=t.rows({selected:!0});r.count()>0?this.panel.enableSubmitButton():this.panel.disableSubmitButton(),e&&("select"===e.type?this.table.classList.contains("table-thumbnails")||r.every((e=>{const t=this.dataTable.row(e);t.child.isShown()||this.showSelectedRowDetails(t.child,t.data())})):t.rows(i).every((e=>{const t=this.dataTable.row(e);this.options.onRowChildHide(t),t.child.hide()})))}}getDefaults(){return i.default.defaultsDeep({datatables:{dom:"rtpi",columns:[{data:null,render:(e,t,n,i)=>this.renderLinkInRow(e,t,n,i)}],createdRow:(e,t)=>this.createdRow(e,t)}},super.getDefaults())}load(){if(super.load(),this.isTableInitialized())return;const e=this.getAjaxUrlAsString();if(e){const t=this.determineDataSrc();s.default.get(e)?this.options.datatables.ajax=(n,i,r)=>this.processDatatablesAjaxData(t,i,r,e):"object"==typeof this.options.datatables.ajax&&(this.options.datatables.ajax.dataSrc=n=>this.selectDatatablesAjaxData(t,n,e))}this.dataTable=l.default.init((0,r.default)(this.table),null,this.options.datatables),this.dataTable.on("select",this.updateSelectedInfo).on("deselect",this.updateSelectedInfo).on("user-select",((e,t,n,r,o)=>{if(!i.default.has(o,"which")){const n=t.row("#"+r.data().id).nodes().to$();n.length&&n.hasClass("selected")&&(e.preventDefault(),this.panel.submit())}})),this.find("table").on("init.dt",this.postDatatableInitialization),this.$elem.on("keyup.search.table",".search input.form-control",i.default.debounce(this.onSearch,this.panel.options.eventDuration)),this.$elem.on("click",".list-layout button",this.toggleGalleryView),this.find("div.dataTables_filter input").focus()}determineDataSrc(){const e="object"==typeof this.options.datatables.ajax?this.options.datatables.ajax.dataSrc:void 0;return void 0===e||"function"!=typeof e&&i.default.isEmpty(e)?"":e}getAjaxUrlAsString(){const{ajax:e}=this.options.datatables;return"object"==typeof e&&e.url||""}processDatatablesAjaxData(e,t,n,r){let o=s.default.get(r);n.oApi._fnProcessingDisplay(n,!0),i.default.delay((()=>{e&&("string"==typeof e?o=o[e]||[]:"function"==typeof e&&(o=e(o))),o={data:o},t(o)}),this.panel.options.eventDuration)}selectDatatablesAjaxData(e,t,n){return s.default.set(n,t),e&&("string"==typeof e?t=t[e]||[]:"function"==typeof e&&(t=e(t))),t}getChosen(){return this.dataTable?i.default.keyBy(this.dataTable.rows({selected:!0}).data(),"id"):this.originalChosen}isTableInitialized(){return r.default.fn.dataTable.isDataTable((0,r.default)(this.table))}createdRow(e,t){const n=(0,r.default)(e),i=n.find(".asset-link"),o=t.asset?t.asset:t;i.data("asset",o),this.originalChosen[o.id]&&n.find('input[type="checkbox"],input[type="radio"]').prop("checked",!0)}renderLinkInRow(e,t,n,i){const o=new r.default.fn.dataTable.Api(i.settings),s=e.asset?e.asset:e;if("display"!==t)return s.path||s.label;const l={textOnly:!0,hoverable:!1,showPath:!0};return o.tables().nodes().to$().hasClass("table-thumbnails")?a.default.renderThumbnailLink(s,l):a.default.render(s,l)}}t.default=u}.apply(t,i),void 0===r||(e.exports=r)},68137:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(37549),n(92648),n(61048),n(24819),n(89152),n(50384),n(71651),n(93660),n(48757)],r=function(e,t,n,i,r,o,a,s,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d);class h extends a.default{constructor(e,t,n){super(e,t,n),this.onTableInit=()=>{const e=this.getChooser();if(this.$elem.on("click",".asset-link",(e=>e.preventDefault())),this.allowsContainerSelection()){if(e.options.isContainerChooser&&o.default.isEmpty(this.getFirstChosenObject())||this.options.allowContainerSelection){const t=this.getLastObjectFromBreadcrumb();this.isItemSelectable(t)&&(this.chosen=e._sanitizeChosen(t))}this.updateSelectedInfo()}this.selectChosen(this.chosen,this.dataTable),this.$elem.trigger("loaded.cs.chooser.panel.tab")},this.onRowSelect=(e,t)=>{const n=t.rows({selected:!0});this.isItemSelectable(n.data()[0])&&(this.chosen=o.default.keyBy(n.data(),"id"),this.allowsContainerSelection()&&this.updateSelectedInfo(),this.panel.enableSubmitButton(),this.table.classList.contains("table-thumbnails")||n.every((e=>{const t=this.dataTable.row(e),n=t.nodes().to$(),i=t.data();n.addClass("details-shown"),t.child.isShown()||this.showSelectedRowDetails(t.child,i)})))},this.onUserSelect=(e,t,n,i,r)=>{if(l.default.getClosest(r.target,"button"))return!1;const a=l.default.getClosestParent(i.node(),"tr"),s=a?t.row("#"+a.id):[];if(!s.length)return;if(!this.isItemSelectable(s))return!1;if(o.default.has(r,"which"))return;const c=s.data();l.default.hasClass(a,"selected")?(e.preventDefault(),this.panel.submit()):o.default.has(t.ajax.json(),"breadcrumb")&&c.type.match(h.CONTAINER_REGEX)&&!l.default.hasClass(a,"parent-container")&&(e.preventDefault(),this.dataTable.ajax.url(this.buildGetContainerChildrenUrl({id:c.id,type:c.type})).load((()=>{this.$elem.find("[autofocus]").trigger("focus")})))},this.onSearch=e=>{var t,n,i,a,s,l;if(e.which===u.default.CODES.DOM_VK_TAB||e.which===u.default.CODES.DOM_VK_SHIFT)return!1;const c=(0,r.default)(e.target).val();let d,f;this.dataTable&&(this.table.dataset.isFiltered=""!==c?"true":"false",c?(f={siteToSearch:this.options.currentSiteId,searchQuery:c,typesToSearch:null===(t=this.options.ajaxParams)||void 0===t?void 0:t.filterType},this.options.hasRestrictToFolder&&(f[h.RESTRICT_TO_FOLDER_PATH]=null===(n=this.options.ajaxParams)||void 0===n?void 0:n.restrictToFolderPath,f.siteToSearch=null===(i=this.options.ajaxParams)||void 0===i?void 0:i.siteId),(null===(a=this.options.ajaxParams)||void 0===a?void 0:a.includeRestrictions)&&(f.includeRestrictions=!0),this.dataTable.ajax.url(h.CHOOSER_AUTOCOMPLETE_ACTION+o.default.toQuery(f)).load((()=>this.$breadcrumb.hide()))):(d=this.getFirstChosenObject(),o.default.isEmpty(d)?d=o.default.isEmpty(this.getChooser().getChosen())?{parentContainer:{id:""}}:this.getChooser().getAssetFromChosen():o.default.has(d,"parentContainer")||(d.parentContainer={id:""}),f={id:d.parentContainer.id,type:null===(s=this.options.ajaxParams)||void 0===s?void 0:s.type,filterType:null===(l=this.options.ajaxParams)||void 0===l?void 0:l.filterType,siteId:d.siteId||this.options.currentSiteId,restrictToFolderPath:this.options.restrictToFolderPath||""},this.dataTable.ajax.url(this.buildGetContainerChildrenUrl(f)).load()))},this.onBreadcrumbClick=e=>{const t=(0,r.default)(e.currentTarget).data("asset");e.preventDefault(),this.allowsContainerSelection()&&this.dataTable.rows(".selected",{page:"current"}).deselect(),this.dataTable.ajax.url(this.buildGetContainerChildrenUrl({id:t.id,type:t.type})).load((()=>this.selectFirstContainerWhenAllowed()))},this.onRowDeselect=(e,t,n,i)=>{this.chosen={},this.dataTable.rows(i).every((e=>{const t=this.dataTable.row(e);this.options.onRowChildHide(t),t.nodes().to$().removeClass("details-shown"),t.child.hide()})),this.allowsContainerSelection()&&this.updateSelectedInfo(),this.panel.disableSubmitButton()},this.chosen=this.originalChosen}getDefaults(){return o.default.defaultsDeep({ajaxParams:{id:"",filterType:"",linkType:"TITLE_OR_DISPLAY_NAME_OR_NAME",breadcrumb:!0,siteId:""},crossSiteRule:"",currentSiteId:i.default.Variables.get("modalDomSiteId",i.default.Variables.get("currentSiteId")),datatables:{ajax:{dataSrc:e=>this.selectDataFromResponse(e)},dom:"rtpi",ordering:!1,select:{info:!0,style:"single"},columns:[{data:null,render:(e,t,n,i)=>this.renderNameColumn(e,i)},{orderable:!1,render:(e,t,n,i)=>this.renderBrowseColumn(n,i)}],createdRow:(e,t,n)=>this.createdRow(e,t,n),drawCallback:e=>this.drawCallback(e)}},super.getDefaults())}load(){super.load(),this.$breadcrumb=this.find("ol.breadcrumb"),this.$siteSelect=this.find(".site-select"),this.$selectedInfo=this.find(".selected-info"),this.$siteSelect.data("selected-site-id")&&(this.options.currentSiteId=this.$siteSelect.data("selected-site-id")),this.isTableInitialized()||(this.allowsContainerSelection()&&this.table.classList.add("allows-container-selection"),"object"==typeof this.options.datatables.ajax&&(this.options.datatables.ajax.url=this.buildGetContainerChildrenUrl(o.default.isEmpty(this.originalChosen)?{suggestContainer:!0}:{})),this.dataTable=c.default.init((0,r.default)(this.table),null,this.options.datatables),this.dataTable.on("init",this.onTableInit),this.dataTable.on("select",this.onRowSelect),this.dataTable.on("deselect",this.onRowDeselect),this.dataTable.on("user-select",this.onUserSelect),this.$breadcrumb.on("click",".asset-link",this.onBreadcrumbClick),"CURRENT_SITE"===this.options.crossSiteRule||this.options.hasRestrictToFolder?this.$siteSelect.hide():this.setupSiteSelect(),this.$elem.on("input.search.table",".search input.form-control",o.default.debounce(this.onSearch,this.panel.options.eventDuration)),this.$elem.on("click",".list-layout button",this.toggleGalleryView))}showRestrictToError(){this.find("#restrictToFolderError").removeClass("hide"),this.find("#restrictToMessage").addClass("hide")}hideRestrictToError(){this.find("#restrictToFolderError").addClass("hide"),this.find("#restrictToMessage").removeClass("hide")}isTableFiltered(e){return"true"===e.dataset.isFiltered}selectFirstContainerWhenAllowed(){if(this.allowsContainerSelection()){const e=this.dataTable.row(":eq(0)",{page:"current"});this.isItemSelectable(e)&&e.select()}}disableRadioSelectButton(e,t){let n,o;const a=(0,r.default)("td",e),s=(0,r.default)(a[0]).find(".radio");s.length&&t.assetRestrictions&&(n=i.default.I18n.get("message.chooser.restriction."+t.assetRestrictions[0]),o=i.default.I18n.get("message.chooser.navigation.row.not.selectable")+", "+n,s.replaceWith('<div class="selection-restriction cs-tooltip" title="'+n+'" aria-label="'+o+'"><i class="ci ci-circle-off-outline" role="img"></i></div>'),(0,r.default)(a[1]).addClass("selection-disabled"))}setupSiteSelect(){this.$siteSelect.siteSelect(),this.$siteSelect[0].selectize.on("change",(e=>{this.options.currentSiteId=e,this.dataTable.ajax.url(this.buildGetContainerChildrenUrl({id:"",siteId:e,isSwitchingSites:!0,type:this.getChooser().options.type})).load(o.default.debounce((()=>{this.selectFirstContainerWhenAllowed()})),100),this.find("input[autofocus]").val("")}))}getChosen(){return this.chosen}getFirstChosenObject(){return o.default.values(this.chosen)[0]||{}}getLastObjectFromBreadcrumb(){const e=this.dataTable.ajax.json();return o.default.isEmpty(e)||!o.default.has(e,"breadcrumb")?{}:o.default.last(e.breadcrumb)}allowsContainerSelection(){return this.getChooser().options.isContainerChooser||this.options.allowContainerSelection}buildGetContainerChildrenUrl(e){return e=o.default.merge({},this.options.ajaxParams,e),h.GET_CONTAINER_CHILDREN_ACTION+o.default.toQuery(e)}updateSelectedInfo(){let e=i.default.I18n.get("common.word.nothing");const t=this.getFirstChosenObject();o.default.isEmpty(t)||(e=t.breadcrumb_string||t.path),this.$selectedInfo.removeClass("hide").find("span").text(e)}isItemSelectable(e){return!0}isTableInitialized(){return r.default.fn.dataTable.isDataTable(this.table)}selectDataFromResponse(e){if(o.default.has(e,"searchResults"))return e.searchResults||[];if(o.default.has(e,"children")||(e.children=[]),e.breadcrumb){const t=o.default.last(e.breadcrumb);t&&(t.isCurrentParentContainer=!0,e.children.unshift(t))}return o.default.has(e,"restrictToFolderError")?this.showRestrictToError():this.hideRestrictToError(),e.children}renderNameColumn(e,t){const n=new r.default.fn.dataTable.Api(t.settings),i={textOnly:!0,hoverable:!1,showPath:-1!==n.ajax.url().indexOf(h.CHOOSER_AUTOCOMPLETE_ACTION),showSite:!1};let o=n.tables().nodes().to$().hasClass("table-thumbnails")?s.default.renderThumbnailLink(e,i):s.default.render(e,i);return e.isCurrentParentContainer&&(o=o.replace(/ci-folder/,"ci-folder-o")),o}renderBrowseColumn(e,t){const n=new r.default.fn.dataTable.Api(t.settings);let o=i.default.I18n.get("label.browse"),a="browse-container",s="ci-angle-right";return e.type.match(h.CONTAINER_REGEX)?(0!==t.row||this.isTableFiltered(n.table().node())||(o=i.default.I18n.get("label.browse.parent"),a="browse-parent",s="ci-angle-up"),'<button type="button" class="btn-browse-container cs-tooltip" data-cy="'+a+'" aria-label="'+o+'" tabindex="0"><i class="ci '+s+'" role="img" aria-hidden="true"></i></button>'):""}createdRow(e,t,n){const i=(0,r.default)(e),a=i.find(".asset-link"),s=t.type.match(h.CONTAINER_REGEX),c=s&&t.isCurrentParentContainer,u=c&&o.default.isEmpty(t.parentContainer),d=this.getFirstChosenObject(),f=(e,t,n)=>{e.preventDefault(),this.table.dataset.isFiltered="false",this.dataTable.ajax.url(this.buildGetContainerChildrenUrl({id:t})).load(n?o.default.debounce(n,100):null)};if(this.isItemSelectable(t)||this.disableRadioSelectButton(e,t),a.data("asset",t),o.default.isEmpty(d.id)||d.id!==t.id||this.dataTable.row(n).select(),s){const r=["container"];c&&r.push("parent-container"),u&&r.push("is-root-container"),i.on("click","button.btn-browse-container",(e=>{const i=(()=>!this.isTableFiltered(this.table)&&!u&&t.parentContainer&&0===n)()?t.parentContainer.id:t.id;this.find(".search input.form-control").val(""),f(e,i,(()=>this.selectFirstContainerWhenAllowed()))})),this.allowsContainerSelection()||(r.push("disable-selection"),i.on("click",(e=>{if(e.stopPropagation(),l.default.getClosest(e.target,"button"))return!1;f(e,t.id)}))),l.default.addClass(e,r)}}drawCallback(e){const t=this.getChooser(),n=t.getPanel(),i=this.getFirstChosenObject();let r=[],a=[],l=!1;if(e.json&&e.json.breadcrumb&&(r=e.json.breadcrumb),o.default.has(o.default.getQueryParams(e.ajax.url),"isSwitchingSites")&&(l=!0),this.$breadcrumb.empty().hide(),r.length>1){const t=o.default.has(o.default.getQueryParams(e.ajax.url),h.RESTRICT_TO_FOLDER_ID)&&o.default.getQueryParams(e.ajax.url).restrictToFolderId.length>0;a=o.default.map(r,(e=>{const n=o.default.omit(e,"tOrDN");return"<li>"+s.default.render(n,{showIcon:!1,hoverable:!1,textOnly:t})+"</li>"})),a.length&&this.$breadcrumb.html(a.join('<li class="separator">/</li>')).show()}if(this.allowsContainerSelection()&&(o.default.isEmpty(i.id)||l)&&r.length){const e=this.getLastObjectFromBreadcrumb();this.isItemSelectable(e)?(this.chosen=t._sanitizeChosen(e),n.enableSubmitButton(),this.updateSelectedInfo()):n.disableSubmitButton()}else!this.allowsContainerSelection()&&o.default.isEmpty(i.id)&&n.disableSubmitButton()}}t.default=h,h.CONTAINER_REGEX=/folder|container|publishable/,h.CHOOSER_AUTOCOMPLETE_ACTION=d.default.absolutePath("/ajax/searchsubmit.act?"),h.GET_CONTAINER_CHILDREN_ACTION=d.default.absolutePath("/ajax/getcontainerchildren.act?"),h.RESTRICT_TO_FOLDER_ID="restrictToFolderId",h.RESTRICT_TO_FOLDER_PATH="restrictToFolderPath"}.apply(t,i),void 0===r||(e.exports=r)},61048:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(37549),n(92648),n(12993),n(80471),n(93660)],r=function(e,t,n,i,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),t.default=class{constructor(e,t,n){this.toggleGalleryView=e=>{const t=(0,r.default)(e.currentTarget),n=t.data("layout");t.parent().find("button").toggleClass("hide"),this.table.classList.toggle("table-thumbnails","thumb"===n),this.dataTable.ajax.reload()},this.panel=n||{},this.selector=e,this.originalChosen=this.getChooser().getChosen(),this.dataTable=null,this.options=o.default.merge(this.getDefaults(),t)}getDefaults(){return{datatables:{ajax:{dataSrc:""},select:{info:!0,style:"single"},autoWidth:!1,dom:"frtp",rowId:"id"},loaded:!1,onLoad:()=>{},onBeforeSubmit:()=>{},onRowChildShow:()=>{},onRowChildHide:()=>{}}}load(){this.$elem=this.panel.find(this.selector),this.table=this.find("table")[0],this.originalChosen=this.getChooser().getChosen(),this.panel.setCurrentTab(this),this.options.onLoad(this)}find(e){return e?this.$elem.find(e):this.$elem}getChooser(){return this.panel.getChooser()}getChosen(){return this.originalChosen}selectChosen(e,t){o.default.isEmpty(e)||t.rows(((t,n)=>o.default.has(e,n.id||""))).select()}showSelectedRowDetails(e,t){-1===o.default.indexOf(["group","user","role"],t.type)&&r.default.ajax({url:l.default.absolutePath("/ajax/getAssetInfo.act"),dataType:"json",type:"GET",data:{id:t.id,type:t.type},success:n=>{if(n.dom){o.default.merge(t,n.dom),e(a.default.get("chooserSelectedRowDetails")({I18n:i.default.I18n,RelativeTime:s.default,asset:t,contextPath:l.default.getContextPath()})).show();const r=this.find("tr#"+t.id),c=this.dataTable.row(r);this.options.onRowChildShow(c)}}})}}}.apply(t,i),void 0===r||(e.exports=r)},93918:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648),n(37549),n(93541),n(35639),n(41877),n(68137),n(14741),n(26340),n(53653),n(93660),n(48757),n(14044)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h);class f extends l.default{constructor(e,t,n){super(e,t,n);const i=n.find();s.default.initBrowserDragUpload(i,((e,t)=>{n.currentTab===this?this.find("#fileUpload").fileupload("add",{files:[t]}):(this.fileToSubmit=t,i.find("#tab-chooser-panel-tab-upload").trigger("click"))}))}getDefaults(){return i.default.defaultsDeep({onBeforeSubmit:()=>this.onBeforeSubmit()},super.getDefaults())}load(){super.load(),this.nameField=u.default.get("#uploaded-filename"),this.find("#fileUpload").fileupload({url:h.default.absolutePath("/ajax/chooseruploadsubmit.act"),dataType:"json",add:(e,t)=>{this.fileToSubmit=t,this.find("#fileUploadError").addClass("hide"),this.find("#fileUploadInfo").text(o.default.I18n.get("prompt.file.upload.selected.file")+" "+t.files[0].name),this.showNewFileNameSection(t.files[0].name,!0)},done:(e,t)=>{if(t.result.error)return this.showUploadError(t.result.error),void this.find("#uploadProgress").hide();this.find("#fileUpload").fileupload("destroy"),this.chosen=this.getChooser()._sanitizeChosen(t.result.uploadedFile),setTimeout((()=>{this.find().trigger("submit.cs.chooser.panel")}),800),c.default.showText(o.default.I18n.get("message.file.upload.successful"),{type:"success"})},progressall:(e,t)=>{this.find("#uploadProgress").show();const n=parseInt(""+t.loaded/t.total*100,10);this.find("#uploadProgressBar").css("width",n+"%")},sequentialUploads:!0}),this.find('[name="site-select"]').on("change",(()=>{this.fileToSubmit&&this.showNewFileNameSection(this.nameField.getValue(),!1)})),this.fileToSubmit&&this.find("#fileUpload").fileupload("add",{files:[this.fileToSubmit]})}showUploadError(e){this.find("#uploadError").text(e).removeClass("hide")}getChosenParentFolder(){return this.getFirstChosenObject()}showNewFileNameSection(e,t){var n;const i=this.find("#upload-filename-section"),o=i.find("input"),s=this.find('[name="site-select"]'),l=this.options.hasRestrictToFolder?null===(n=this.options.ajaxParams)||void 0===n?void 0:n.siteId:s.data("cs.siteSelect").getSelectedSiteId();a.default.populateNamingRuleHelpText(o,l,"file",(()=>{r.default.ajax({url:h.default.absolutePath("/ajax/getNormalizedEscapedString.act"),data:{filename:e,siteId:l,transform:t},dataType:"json",success:e=>{e.filename&&(i.removeClass("hide"),this.nameField.updateOriginalName(e.filename),this.nameField.updateCurrentName(e.filename),d.default.init(this.nameField),o.select()),o.valid()}})}))}isItemSelectable(e){return!(e="function"==typeof e.data?e.data():e).assetRestrictions||0===e.assetRestrictions.length}onBeforeSubmit(){this.find("#uploadError").addClass("hide");const e=this.getChosenParentFolder();i.default.isEmpty(e)?this.showUploadError(o.default.I18n.get("error.file.upload.no.parent.folder.selected")):this.panel.find("form").valid()&&(this.fileToSubmit?(this.fileToSubmit.formData={folderId:e.id,fileName:this.nameField.getValue()},this.fileToSubmit.submit()):this.showUploadError(o.default.I18n.get("error.file.upload.no.file.selected")))}}t.default=f}.apply(t,i),void 0===r||(e.exports=r)},93405:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(10776),n(14741),n(2546)],r=function(e,t,n,i,r,o,a,s){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.RenderMode=void 0,i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),(l=t.RenderMode||(t.RenderMode={})).XML="xml",l.TEXT="text";const c=(0,i.default)(window),u={ace:{highlightActiveLine:!1,highlightGutterLine:!1,mode:"xml",readOnly:!0},showToolbar:!1,height:"100%"},d=document.createElement("pre");d.id="contentPreview",d.classList.add("code-editor");const h=e=>{var t,n;(c.height()||0)-(((null===(t=e.ui.$wrapper.offset())||void 0===t?void 0:t.top)||0)+24)>100&&e.updateOption("height",(c.height()||0)-(((null===(n=e.ui.$wrapper.offset())||void 0===n?void 0:n.top)||0)+24))};t.default=class{static load(e){const{url:t,params:n,container:l,editorOptions:f,loadCallback:p}=e;let A;r.default.isEmpty(t)||l.querySelector("#contentPreview")||(a.default.start(),l.appendChild(d),i.default.get(t,n,((e,t,n)=>{if("error"===n.getResponseHeader("Cascade-Render-Status"))return void(l.innerHTML=(0,i.default)(n.responseText).find(".render-error").html());const o=r.default.defaultsDeep(f,u);A=(0,i.default)(d).cascadeCodeEditor(o).data("cscd-codeeditor"),A.setValue(e,!0),c.on("resize orientationchange",r.default.debounce((()=>{h(A)}),200)),h(A),(0,i.default)(".ace_cursor",A.ui.$wrapper).hide(),p&&p(e,t,n)}),"text").fail(((e,t)=>{s.default.showText(400===e.status?e.responseText:o.default.I18n.get("error.action.modal.request.failed"))})).always((()=>{a.default.done()})))}}}.apply(t,i),void 0===r||(e.exports=r)},4258:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(89937),n(84551),n(50384)],r=function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),t.default=class{static init(e){if(o.default.phone)return;const t=(0,i.default)("#page-content"),n=(0,i.default)(e),l=n.closest(".data-table-container"),c=a.default.findClosestOptiscrollElement(l),u=s.default.getControlWrapperForTable(n);a.default.attachEventListener(c,"scroll.dock",r.default.debounce((function(e){const n=e.detail.scrollTop&&e.detail.scrollTop>0;(n?t:l).prepend(u),u.toggleClass("is-scrolled",n)}),50)),(0,i.default)("[role=tab]").on("shown.bs.tab.dock",(function(){a.default.detachEventListener(c,"scroll.dock"),(0,i.default)("[role=tab]").off("shown.bs.tab.dock")}))}}}.apply(t,i),void 0===r||(e.exports=r)},99274:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(53376),n(12596),n(12993),n(59251),n(14741),n(26742),n(93660),n(30819),n(52737),n(89152),n(10861)],r=function(e,t,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=(0,i.__importDefault)(r),o=(0,i.__importDefault)(o),a=(0,i.__importDefault)(a),s=(0,i.__importDefault)(s),l=(0,i.__importDefault)(l),c=(0,i.__importDefault)(c),u=(0,i.__importDefault)(u),d=(0,i.__importDefault)(d),h=(0,i.__importDefault)(h),f=(0,i.__importDefault)(f),p=(0,i.__importDefault)(p),A=(0,i.__importDefault)(A),g=(0,i.__importDefault)(g),m=(0,i.__importDefault)(m);class v{constructor(){this.draftAutoSaveStatus=null,this.draftOverwriteMessage=null,this.validationError=null,this.autosaveEnabled=!1,this.autosaveDraft=o.default.debounce((()=>{if(!this.autosaveEnabled||!this.$form.length||!document.documentElement.contains(this.$form[0]))return;const e=s.default.isFormBeingSubmitted(this.$form);return u.default.enableWarnings(),u.default.hasFormChanged()&&u.default.shouldWarn()&&!e?this.submitAsDraft({background:!0}):void 0}),v.DRAFT_SAVE_STATUS_INTERVAL),this.saveEventHandler=()=>{this.hideAndResetDraftSavingIndicator(),this.autosaveDraft()},this.handleDraftSaveResponse=(e,t,n,i,r,a)=>{const s=h.default.getJsonResponseStatus(e);if(e.forward&&!i)return s.message&&d.default.register(s),s.includeWorkflowSettings&&A.default.getSerializableFields(this.$form),this.trackDraftSavedEvent(this.$form,n),void(window.location.href=f.default.absolutePath(e.forward));e.error&&!i&&g.default.enableClicking(document.getElementById("save-draft-link")),this.draftSaveSuccess(e,t,r,a),o.default.delay((()=>this.showDraftSavedIndicator()),500)}}static init(){const e=new v;return e.populatePropertiesFromDocument(),e.initializeComponents(),e.addEventHandlers(),e.performActionsOnLoad(),v.INSTANCE=e,e}static stopAutosave(){v.getInstance().stopAutosave()}static submitAsDraft(e){return v.getInstance().submitAsDraft(e)}static discardDraft(e){return v.getInstance().discardDraft(e)}startAutosave(){this.autosaveEnabled=!0,(0,r.default)(document).on("cs.draft.save",this.saveEventHandler)}stopAutosave(){this.autosaveEnabled=!1,this.hideAndResetDraftSavingIndicator(),(0,r.default)(document).off("cs.draft.save")}submitAsDraft(e){const{background:t,successCallback:n,failureCallback:i}=e||{},r=Date.now();return p.default.isDraftBeingSaved()?Promise.resolve():this.prepareFormForDraftSave(t).then((()=>this.sendDraftSaveRequest(r,t,n,i)))}discardDraft(e){const{identifier:t,forward:n,successCallback:i}=e,{id:o,type:s}=t;return new Promise((e=>{const t={id:o,type:s,forward:n};if(confirm(a.default.I18n.get("message.draft.discard")))return r.default.get(f.default.absolutePath(v.DISCARD_DRAFT_ACTION),t,(e=>i&&i(e))).fail((()=>this.showDraftError(a.default.I18n.get("draft.deleted.failed")))).always(e);e()}))}hideOverwriteMessage(){g.default.addClass(this.draftOverwriteMessage,"hide")}hideValidationError(){g.default.addClass(this.validationError,"hide")}populatePropertiesFromDocument(){this.$form=s.default.getStandardFormForModal(),this.validationError=l.default.find(".validationError")[0]||null;const e=document.createElement("div");e.innerHTML=c.default.get("draftAutoSaveStatus")({I18n:a.default.I18n}),this.draftAutoSaveStatus=e.firstElementChild,this.draftOverwriteMessage=l.default.find("#draft-overwrite")[0]}initializeComponents(){l.default.find(".modal-nav-right").prepend(this.draftAutoSaveStatus)}addEventHandlers(){"folderForm"===a.default.Variables.get("modalFormName")&&this.addIsOkToSubmitHandler(),this.draftOverwriteMessage&&(this.addDraftOverwritePreviewHandler(),this.addDraftOverwriteResumeHandler(),this.addDraftOverwriteDiscardHandler())}addIsOkToSubmitHandler(){s.default.updateIsOkToSubmit(this.$form,(()=>!(p.default.isDraftBeingSaved()||!this.$form.data("final-draft-save")&&(this.$form.data("final-draft-save",!0),this.submitAsDraft({background:!0,successCallback:()=>setTimeout((()=>this.$form.data("final-draft-save",!1)),2e3)}),1))))}addDraftOverwritePreviewHandler(){const e=document.getElementById("draft-overwrite-preview");g.default.addEventListener(e,"click",(()=>{const t=(null==e?void 0:e.getAttribute("data-draft-id"))||"";window.location.href=f.default.absolutePath(v.OPEN_ENTITY_ACTION,{id:t,type:a.default.Variables.get("modalDomType")})}))}addDraftOverwriteResumeHandler(){const e=document.getElementById("draft-overwrite-resume");g.default.addEventListener(e,"click",(()=>{const t=(null==e?void 0:e.getAttribute("data-draft-id"))||"";l.default.open(f.default.absolutePath(v.EDIT_ENTITY_ACTION),{id:t,type:a.default.Variables.get("modalDomType")})}))}addDraftOverwriteDiscardHandler(){(0,r.default)("#draft-overwrite-discard").on("click",(()=>this.discardDraft({identifier:{id:a.default.Variables.get("modalDomId"),type:a.default.Variables.get("modalDomType")},forward:!1,successCallback:e=>this.$form.trigger("cs.draft.discard",[e])})))}performActionsOnLoad(){const e=this.$form.find("input[name=id]").val();e?(this.loadAndShowEditingUserNotification(e),this.startAutosave()):this.submitAsDraft({background:!0}).then((()=>this.startAutosave()))}loadAndShowEditingUserNotification(e){r.default.get(f.default.absolutePath(v.GET_EDITING_USERS_NOTIFICATION_ACTION),{id:e},(e=>{e.message&&d.default.show({icon:"ci ci-alert-circle",message:e.message},{type:"warning",z_index:2e3})}))}isWorkingCopy(){const e=l.default.find("input[name=isWorkingCopy]");return!!e.length&&"true"===e.val()}getSaveMessage(e){return`message.${this.isWorkingCopy()?"working.copy":"draft"}.autosave.${e}`}hideAndResetDraftSavingIndicator(){if(this.draftAutoSaveStatus){const e=this.draftAutoSaveStatus.querySelector("small");g.default.addClass(this.draftAutoSaveStatus,"hide"),e&&(e.textContent=a.default.I18n.get(this.getSaveMessage("saving")))}}showDraftError(e){this.draftAutoSaveStatus&&(g.default.addClass(this.draftAutoSaveStatus,"hide"),this.isShowingValidationErrorPossible()?this.showValidationError(e):d.default.showHtml(e,{type:"danger"}))}isShowingValidationErrorPossible(){const e=g.default.getClosestParent(this.validationError,"*");return g.default.isVisible(e)}showValidationError(e){g.default.setInnerHTML(this.validationError,e),g.default.removeClass(this.validationError,"hide")}showDraftSavedIndicator(){if(!this.draftAutoSaveStatus)return;const e=this.draftAutoSaveStatus.querySelector("small");g.default.setInnerHTML(e,a.default.I18n.get(this.getSaveMessage("saved"))),g.default.removeClass(this.draftAutoSaveStatus,"hide")}showDraftSavingIndicator(){g.default.removeClass(this.draftAutoSaveStatus,"hide")}draftSaveSuccess(e,t,n,i){e.success?(u.default.disableWarnings(),e.draftId&&this.populateDraftId(e.draftId),e.draftOriginalId&&this.populateDraftOriginalId(e.draftOriginalId),this.hideOverwriteMessage(),l.default.find(".modal").trigger("cs.draft.save.success"),null==n||n()):(null==i||i(t),this.showDraftError(`${a.default.I18n.get("error.draft.autosave.failed")} ${h.default.getAjaxResponseError(t)}`))}trackDraftSavedEvent(e,t){try{m.default.CONTENT.trackModalEvent("Edit","Clicked Save Draft",l.default.getDurationAndFieldCountData(e,t))}catch(e){console.error("Could not execute draft save tracking:",e)}}prepareFormForDraftSave(e){return this.incrementReadyCount(),p.default.setDraftBeingSaved(!0),this.showDraftSavingIndicator(),e||g.default.disableClicking(document.getElementById("save-draft-link")),Promise.all([new Promise(((e,t)=>{Promise.resolve().then(function(){var t=[n(69651)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(i.__importStar),new Promise(((e,t)=>{Promise.resolve().then(function(){var t=[n(2546)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(i.__importStar)]).then((([e,t])=>{t.syncAllValues(this.$form),e.save()}))}sendDraftSaveRequest(e,t,n,i){return new Promise((r=>{const o=f.default.addOrUpdateParams(this.$form.attr("action"),{saveAs:this.isWorkingCopy()?"workingCopy":"draft",backgroundSave:t?"true":"false"});s.default.postFormData(o,A.default.getSerializableFields(this.$form).serialize()+"&formsubmit=true",((r,o,a)=>this.handleDraftSaveResponse(r,a,e,t,n,i)),"json",(()=>{p.default.setDraftBeingSaved(!1),this.decrementReadyCount(),r()}),(e=>{t||g.default.enableClicking(document.getElementById("save-draft-link")),null==i||i(e),this.showDraftError(`${a.default.I18n.get("error.draft.autosave.failed")} ${h.default.getAjaxResponseError(e)}`)}))}))}incrementReadyCount(){const e=parseInt(a.default.Variables.get("formReadyToSubmit"),10)||0;a.default.Variables.set("formReadyToSubmit",(e+1).toString())}decrementReadyCount(){const e=parseInt(a.default.Variables.get("formReadyToSubmit"),10)||0;a.default.Variables.set("formReadyToSubmit",(e-1).toString())}populateDraftId(e){let t=l.default.find("input[name=id]");t.length||(t=(0,r.default)('<input type="hidden" name="id"/>'),l.default.find("form:first").append(t)),t.val(e)}populateDraftOriginalId(e){let t=l.default.find("input[name=draftOriginalId]");t.length||(t=(0,r.default)('<input type="hidden" name="draftOriginalId"/>'),l.default.find("form:first").append(t)),t.val(e)}static getInstance(){return v.INSTANCE||(v.INSTANCE=new v),v.INSTANCE}}t.default=v,v.DRAFT_SAVE_STATUS_INTERVAL=2e3,v.DISCARD_DRAFT_ACTION="/ajax/discarddraft.act",v.OPEN_ENTITY_ACTION="/entity/open.act",v.EDIT_ENTITY_ACTION="/entity/edit.act",v.GET_EDITING_USERS_NOTIFICATION_ACTION="/ajax/getEditingUsersNotification.act",v.INSTANCE=null}.apply(t,i),void 0===r||(e.exports=r)},69616:function(e,t,n){var i,r;i=[n,t,n(7994),n(11485),n(61843)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=(0,n.__importDefault)(r);class o extends i.Mode{constructor(){super(...arguments),this.HighlightRules=r.default,this.modePath="ace/mode/velocity",this.desc="Velocity",this.name="velocity",this.extRe=/^.*\.(vm)$/i,this.isCustom=!0}supportsFile(e){return this.extRe.test(e)}}t.default=o}.apply(t,i),void 0===r||(e.exports=r)},61843:function(e,t,n){var i,r;i=[n,t,n(29610)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i="[a-zA-Z$#][a-zA-Z0-9_]*\\b",r=["$_RegexTool","$_PropertyTool","locate","locateBlock","locateFile","locateFolder","locateFormat","locateLinkable","locatePage","locateReference","locateSymlink","query"],o=["$currentPage","$currentPagePath","$currentPageSiteName"],a=["#import"],s=a.concat(["#queryexecute","#querysortvalue","#queryfilter"]);class l extends n.VelocityHighlightRules{constructor(){var e,t;super();const n=this.findFunctionRule().token,c=(null===(t=null===(e=null===window||void 0===window?void 0:window.Cascade_featureFlags)||void 0===e?void 0:e.system)||void 0===t?void 0:t["experiment-query-api-directives"])?s:a;this.$rules.start=this.$rules.start.map((e=>l.isFunctionRule(e)?{token:function(e){return r.includes(e)?"support.function":o.includes(e)?"variable.language":c.includes(e)?"keyword":n(e)},regex:i}:e)),this.normalizeRules()}findFunctionRule(){return this.$rules.start.find(l.isFunctionRule)}static isFunctionRule(e){return"function"==typeof e.token&&e.regex===i}}t.default=l}.apply(t,i),void 0===r||(e.exports=r)},46459:function(e,t,n){var i;i=function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0});const r=(null===(i=null===(n=null===window||void 0===window?void 0:window.Cascade_featureFlags)||void 0===n?void 0:n.system)||void 0===i?void 0:i["experiment-query-api-directives"])||!1;t.default={content:'\n# Built in variables\n# $currentPage\nsnippet $currentPage\n\t\\$currentPage\n\n# $currentPagePath\nsnippet $currentPagePath\n\t\\$currentPagePath\n\n# $currentPageSiteName\nsnippet $currentPageSiteName\n\t\\$currentPageSiteName\n\n# $contentRoot\nsnippet $contentRoot\n\t\\$contentRoot\n\n# $enabledCustomDirectives\nsnippet $enabledCustomDirectives\n\t\\$enabledCustomDirectives\n\n# Some useful tools/methods\n# Element.getChild\nsnippet getChild\n\tgetChild("${1}")\n\n# $_DateTool.format\nsnippet $_DateTool.format\n\t\\$_DateTool.format("${1:format}", $${2:date})\n\n# $_DateTool.getCalendar\nsnippet $_DateTool.getCalendar\n\t\\$_DateTool.getCalendar()\n\n# $_DateTool.getDate\nsnippet $_DateTool.getDate\n\t\\$_DateTool.getDate($${1:date})\n\n# $_EscapeTool.html\nsnippet $_EscapeTool.html\n\t\\$_EscapeTool.html($${1:string})\n\n# $_EscapeTool.javascript\nsnippet $_EscapeTool.javascript\n\t\\$_EscapeTool.javascript($${1:string})\n\n# $_EscapeTool.url\nsnippet $_EscapeTool.url\n\t\\$_EscapeTool.url($${1:string})\n\n# $_EscapeTool.xml\nsnippet $_EscapeTool.xml\n\t\\$_EscapeTool.xml($${1:string})\n\n# $_EscapeTool.unescapeHtml\nsnippet $_EscapeTool.unescapeHtml\n\t\\$_EscapeTool.unescapeHtml($${1:string})\n\n# $_EscapeTool.unescapeJavascript\nsnippet $_EscapeTool.unescapeJavascript\n\t\\$_EscapeTool.unescapeJavascript($${1:string})\n\n# $_EscapeTool.unescapeXml\nsnippet $_EscapeTool.unescapeXml\n\t\\$_EscapeTool.unescapeXml($${1:string})\n\n# $_.locate\nsnippet $_.locate\n\t\\$_.locate("${1:path}", ${2:EntityType}, "${3:siteName}")\n\n# $_.locateBlock\nsnippet $_.locateBlock\n\t\\$_.locateBlock("${1:path}", "${2:siteName}")\n\n# $_.locateFile\nsnippet $_.locateFile\n\t\\$_.locateFile("${1:path}", "${2:siteName}")\n\n# $_.locateFolder\nsnippet $_.locateFolder\n\t\\$_.locateFolder("${1:path}", "${2:siteName}")\n\n# $_.locateFormat\nsnippet $_.locateFormat\n\t\\$_.locateFormat("${1:path}", "${2:siteName}")\n\n# $_.locatePage\nsnippet $_.locatePage\n\t\\$_.locatePage("${1:path}", "${2:siteName}")\n\n# $_.locateReference\nsnippet $_.locateReference\n\t\\$_.locateReference("${1:path}", "${2:siteName}")\n\n# $_.locateSymlink\nsnippet $_.locateSymlink\n\t\\$_.locateSymlink("${1:path}", "${2:siteName}")\n\n# $_.locateLinkable\nsnippet $_.locateLinkable\n\t\\$_.locateLinkable("${1:path}", "${2:siteName}")\n\n# $_MathTool.add\nsnippet $_MathTool.add\n\t\\$_MathTool.add(${1:num1}, ${2:num2})\n\n# $_MathTool.ceil\nsnippet $_MathTool.ceil\n\t\\$_MathTool.ceil(${1:num})\n\n# $_MathTool.div\nsnippet $_MathTool.div\n\t\\$_MathTool.div(${1:num1}, ${2:num2})\n\n# $_MathTool.floor\nsnippet $_MathTool.floor\n\t\\$_MathTool.floor(${1:num})\n\n# $_MathTool.mod\nsnippet $_MathTool.mod\n\t\\$_MathTool.mod(${1:num1}, ${2:num2})\n\n# $_MathTool.mul\nsnippet $_MathTool.mul\n\t\\$_MathTool.mul(${1:num1}, ${2:num2})\n\n# $_MathTool.sub\nsnippet $_MathTool.sub\n\t\\$_MathTool.sub(${1:num1}, ${2:num2})\n\n# $_NumberTool.isNumeric\nsnippet $_NumberTool.isNumeric\n\t\\$_NumberTool.isNumeric($${1:object})\n\n# $_NumberTool.withPadding\nsnippet $_NumberTool.withPadding\n\t\\$_NumberTool.withPadding($${1:number}, $${2:minDigits})\n\n# $_NumberTool.sortable\nsnippet $_NumberTool.sortable\n\t\\$_NumberTool.sortable($${1:number}, $${2:sortDirection})\n\n# $_PropertyTool.outputFirstNotEmpty\nsnippet $_PropertyTool.outputFirstNotEmpty\n\t\\$_PropertyTool.outputFirstNotEmpty($${1:object1}, $${2:object2}${3:, ...})\n\n# $_PropertyTool.isNull\nsnippet $_PropertyTool.isNull\n\t\\$_PropertyTool.isNull($${1:object})\n\n# $_PropertyTool.isNotNull\nsnippet $_PropertyTool.isNotNull\n\t\\$_PropertyTool.isNotNull($${1:object})\n \n# $_PropertyTool.isEmpty\nsnippet $_PropertyTool.isEmpty\n\t\\$_PropertyTool.isEmpty($${1:object})\n\n# $_PropertyTool.isNotEmpty\nsnippet $_PropertyTool.isNotEmpty\n\t\\$_PropertyTool.isNotEmpty($${1:object})\n\n# $_PropertyTool.isIterable\nsnippet $_PropertyTool.isIterable\n\t\\$_PropertyTool.isIterable($${1:object})\n\n# $_PropertyTool.isString\nsnippet $_PropertyTool.isString\n\t\\$_PropertyTool.isString($${1:object})\n\n# $_PropertyTool.isList\nsnippet $_PropertyTool.isList\n\t\\$_PropertyTool.isList($${1:object})\n\n# $_PropertyTool.isMap\nsnippet $_PropertyTool.isMap\n\t\\$_PropertyTool.isMap($${1:object})\n\n# $_PropertyTool.isSet\nsnippet $_PropertyTool.isSet\n\t\\$_PropertyTool.isSet($${1:object})\n\n# $_PropertyTool.isArray\nsnippet $_PropertyTool.isArray\n\t\\$_PropertyTool.isArray($${1:object})\n\n# $_PropertyTool.outputProperties\nsnippet $_PropertyTool.outputProperties\n\t\\$_PropertyTool.outputProperties($${1:object})\n\n# $_ListTool.toList\nsnippet $_ListTool.toList\n\t\\$_ListTool.toList($${1:array})\n\n# $_ListTool.removeNull\nsnippet $_ListTool.removeNull\n\t\\$_ListTool.removeNull($${1:list}, $${2:property})\n\n# $_ListTool.reverse\nsnippet $_ListTool.reverse\n\t\\$_ListTool.reverse($${1:list})\n\n# $_ListTool.shuffle\nsnippet $_ListTool.shuffle\n\t\\$_ListTool.shuffle($${1:list})\n\n# $_FieldTool.in\nsnippet $_FieldTool.in\n\t\\$_FieldTool.in(${1:Object})\n\n# $_RegexTool.compile\nsnippet $_RegexTool.compile\n\t\\$_RegexTool.compile("${1:regex}")\n\n# $_.query\nsnippet $_.query\n\t\\$_.query()\n\n# $_SerializerTool.serialize\nsnippet $_SerializerTool.serialize\n\t\\$_SerializerTool.serialize($${1:collection}, ${2:true})\n\n# $_SerializerTool.toJson\nsnippet $_SerializerTool.toJson\n\t\\$_SerializerTool.toJson($${1:map})\n\n# $_SortTool.addSortCriterion\nsnippet $_SortTool.addSortCriterion\n\t\\$_SortTool.addSortCriterion("${1:selector}", "${2:language}", "${3:text|number|qname}", "${4:ascending|descending}", "${5:lower-first|upper-first}")\n\n# $_SortTool.sort\nsnippet $_SortTool.sort\n\t\\$_SortTool.addSortCriterion("${1:selector}", "${2:language}", "${3:text|number|qname}", "${4:ascending|descending}", "${5:lower-first|upper-first}")\n\t\\$_SortTool.sort($${6:collection})\n\n# $_StringTool.generateUUID\nsnippet $_StringTool.generateUUID\n\t\\$_StringTool.generateUUID()\n\n# $_StringTool.getStringBuilder\nsnippet $_StringTool.getStringBuilder\n\t\\$_StringTool.getStringBuilder()\n\n# $_StringTool.substringAfter\nsnippet $_StringTool.substringAfter\n\t\\$_StringTool.substringAfter("${1:haystack}", "${2:needle}")\n\n# $_StringTool.substringBefore\nsnippet $_StringTool.substringBefore\n\t\\$_StringTool.substringBefore("${1:haystack}", "${2:needle}")\n\n# $_XPathTool.selectNodes\nsnippet $_XPathTool.selectNodes\n\t\\$_XPathTool.selectNodes($${1:collection}, "${2}")\n\n# $_XPathTool.selectSingleNode\nsnippet $_XPathTool.selectSingleNode\n\t\\$_XPathTool.selectSingleNode($${1:collection}, "${2}")\n \n# #set($query =\nsnippet #set($query =\n\t#set(\\$query = \\$_.query()${1:.byFolderPath(\'/path/to/folder\')}${2:.hasAnyTags([\'tag1\', \'tag2\'])}${3:.hasAnyPaths([\'path/to/asset1\', \'path2/to/asset2\'])}${4:.byContentType(\\$link)}${5:.preloadStructuredData()}${6:.sortBy(\'created\')}${7:.sortDirection(\'desc\')}${8:.maxResults(10)})\n\n# #set($assets = $query.execute())\nsnippet #set($assets = $query.execute())\n\t#set(\\$assets = ${1:\\$query}.execute())\n\n'+(r?'\n# #queryexecute\nsnippet #queryexecute\n\t#queryexecute($${1:query}, $${2:asset})\n\t\t${3:<p>\\$_EscapeTool.xml(\\$asset.label) (\\$_DateTool.format("medium", \\$asset.createdOn))</p>}\n\t#end\n\n# #querysortvalue\nsnippet #querysortvalue\n\t#querysortvalue($${1:query}, $${2:asset})\n\t\t${3:\\$_NumberTool.sortable(\\$asset.folderOrder)}\n\t#end\n\n# #queryfilter\nsnippet #queryfilter\n\t#queryfilter($${1:query}, $${2:asset})\n\t\t${3:\\$_PropertyTool.isNotEmpty(\\$asset.metadata.title})\n\t#end\n':""),scope:"velocity"}}.apply(t,[n,t]),void 0===i||(e.exports=i)},19634:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),t.default=new class{redirectIfElError(){window.elErrorMessage&&(window.location.href="/error.act",window.elErrorMessage=void 0)}observeModalShowForElErrors(){(0,i.default)(document).on("shown.bs.modal",".modal",(e=>{this.redirectIfElError()}))}observeDomReadyForElErrors(){document.addEventListener("DOMContentLoaded",(()=>{this.redirectIfElError()}))}init(){this.observeDomReadyForElErrors(),this.observeModalShowForElErrors()}}}.apply(t,i),void 0===r||(e.exports=r)},53653:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(26340),n(26742)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);class a{constructor(){this.onNameChange=(e,t)=>{this.confirmExtensionChangeOrRemovalIfNecessary(e,t)?this.nameField.updateOriginalName(t):this.nameField.updateCurrentName(e)}}static init(e=r.default.get()){if(e.cs_extensionChangeWarnings)return e.cs_extensionChangeWarnings;const t=new a;return t.nameField=e,t.nameField.addNameChangeHandler(t.onNameChange),e.cs_extensionChangeWarnings=t,t}confirmExtensionChangeOrRemovalIfNecessary(e,t){return this.shouldShowExtensionRemoveWarning(e,t)?confirm(i.default.I18n.get("warning.file.extension.removed")):!this.shouldShowExtensionChangeWarning(e,t)||confirm(i.default.I18n.get("warning.file.extension.changed"))}shouldShowExtensionRemoveWarning(e,t){return this.nameHasExtension(e)&&!this.nameHasExtension(t)}shouldShowExtensionChangeWarning(e,t){if(!this.nameHasExtension(e))return!1;const n=o.default.getFileExtension(e),i=o.default.getFileExtension(t);return!(n.toLowerCase()===i.toLowerCase())&&n!==i}nameHasExtension(e){return-1!==e.indexOf(".")}}t.default=a}.apply(t,i),void 0===r||(e.exports=r)},34215:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instantlyInitializeFields=t.lazyInitializeFields=void 0,t.lazyInitializeFields=function(e,t,i){if(i=i||[],!e.length)return;const r=new IntersectionObserver((function(e,r){!function(e,t,i,r){e.forEach((function(e){e.isIntersecting&&n(e.target,i,r)&&t.unobserve(e.target)}))}(e,r,t,i)}),{rootMargin:"15% 0px"});e.forEach((function(e){r.observe(e)}))},t.instantlyInitializeFields=function(e,t,i){e.length&&e.forEach((function(e){n(e,t,i)}))};const n=function(e,t,n){const r=i(e,n);return t.apply(void 0,r)},i=function(e,t){const n=Array.prototype.slice.call(t||[]);return n.unshift(e),n};t.default={lazyInitializeFields:t.lazyInitializeFields,instantlyInitializeFields:t.instantlyInitializeFields}}.apply(t,[n,t]),void 0===i||(e.exports=i)},79447:function(e,t,n){var i,r,o=n(37549);i=[n,t,n(7994),n(93541),n(12596),n(94543),n(89152),n(93660),n(10861)],r=function(e,t,n,i,r,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c);class u extends a.default{constructor(e){super(e),this.threadId="",this.suggestion="",this.inProgress=!1,this.toolbarButton=this.field.wrapper.querySelector(".ctip-ai-suggest"),this.aiRecommendations=this.findAdornmentElement(),this.preloaderElement=this.field.wrapper.querySelector(".ctip-ai-suggestion-preloader"),this.suggestionElement=this.field.wrapper.querySelector(".ctip-ai-suggestion"),this.generateButton=this.field.wrapper.querySelector(".ctip-ai-generate"),this.applyButton=this.field.wrapper.querySelector(".ctip-ai-apply"),this.tryAgainButton=this.field.wrapper.querySelector(".ctip-ai-refresh"),this.resetUi(),this.addClickListeners()}isValid(){return!0}handleFieldInput(){}findAdornmentElement(){const e=this.toolbarButton?this.toolbarButton.getAttribute("aria-controls"):null;return e?document.getElementById(e):null}addClickListeners(){s.default.addEventListener(this.toolbarButton,"click",(e=>this.handleToolbarButtonClick(e))),s.default.addEventListener(this.generateButton,"click",(e=>this.handleGenerateButtonClick(e))),s.default.addEventListener(this.applyButton,"click",(e=>this.handleApplyButtonClick(e))),s.default.addEventListener(this.tryAgainButton,"click",(e=>this.handleTryAgainButtonClick(e)))}handleToolbarButtonClick(e){e.preventDefault(),s.default.toggleClass(this.aiRecommendations,"hide")}handleGenerateButtonClick(e){e.preventDefault(),this.sendAiQuestion()}handleApplyButtonClick(e){e.preventDefault(),this.field.input.value=this.suggestion,this.field.input.dispatchEvent(new Event("input")),c.default.CONTENT.trackEvent("Applied AI content suggestion",{assetId:this.findAssetId(),fieldName:this.field.input.name}),this.resetUi()}handleTryAgainButtonClick(e){e.preventDefault(),this.sendAiQuestion()}sendAiQuestion(){if(this.inProgress)return;this.inProgress=!0;const e=l.default.absolutePath("/ajax/ai/suggestContent.act",{id:this.findAssetId(),fieldId:this.field.input.id,threadId:this.threadId});s.default.addClass(this.generateButton,"hide"),s.default.addClass(this.suggestionElement,"hide"),s.default.removeClass(this.suggestionElement,"error"),s.default.removeClass(this.preloaderElement,"hide"),o.ajax({url:e,type:"GET",success:e=>{e.suggestion&&(this.threadId=e.threadId,this.updateSuggestion(e.suggestion),s.default.addClass(this.generateButton,"hide"),s.default.removeClass(this.applyButton,"hide"),s.default.removeClass(this.tryAgainButton,"hide"))},error:e=>{var t;this.resetUi(),this.suggestionElement.innerHTML=(null===(t=e.responseJSON)||void 0===t?void 0:t.message)||e.statusText,s.default.addClass(this.suggestionElement,"error"),s.default.removeClass(this.suggestionElement,"hide")}}).done((()=>{this.inProgress=!1,s.default.addClass(this.preloaderElement,"hide"),s.default.removeClass(this.suggestionElement,"hide")}))}findAssetId(){return r.default.find("input[name=id]").val()||i.default.Variables.get("modalDomId")}updateSuggestion(e){this.suggestion=e,this.suggestionElement.innerHTML=e}resetUi(){s.default.addClass(this.preloaderElement,"hide"),s.default.addClass(this.suggestionElement,"hide"),s.default.addClass(this.applyButton,"hide"),s.default.addClass(this.tryAgainButton,"hide"),s.default.removeClass(this.generateButton,"hide"),s.default.removeClass(this.suggestionElement,"error"),this.inProgress=!1,this.threadId="",this.updateSuggestion("")}}t.default=u}.apply(t,i),void 0===r||(e.exports=r)},30978:function(e,t,n){var i,r;i=[n,t,n(7994),n(94543),n(89152),n(93541)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);class a extends i.default{constructor(e){super(e),this.charCountTipElements=this.field.wrapper.querySelectorAll(".ctip-charcount"),this.limit=this.determineMaxLength(),isNaN(this.limit)&&(this.limit=0)}isValid(){return 0<this.field.input.value.length&&this.field.input.value.length<=this.limit}handleFieldInput(){this.charCountTipElements.forEach((e=>this.updateCharCountComponent(e))),this.field.triggerContentTipUpdated()}determineMaxLength(){return this.field.input.dataset.ctipSeoLimit?parseInt(this.field.input.dataset.ctipSeoLimit+""):parseInt(this.field.input.maxLength+"")}updateCharCountComponent(e){if(!e)return;const t=e.querySelector("span");if(!t||this.limit<1)return void r.default.addClass(e,"hide");const n=this.field.input.value.length+"";e.setAttribute("aria-label",o.default.I18n.get("label.contenttips.character.count").replace("{0}",n).replace("{1}",this.limit+"")),t.innerText=n,r.default.toggleClass(e,"good",this.isValid()),r.default.toggleClass(e,"bad",!this.isValid()),r.default.removeClass(e,"hide")}}t.default=a}.apply(t,i),void 0===r||(e.exports=r)},15278:function(e,t,n){var i,r;i=[n,t,n(7994),n(94543),n(43130),n(89152)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);class a extends i.default{constructor(e){super(e),this.limit=parseInt(this.field.input.dataset.ctipSeoLimit||""),isNaN(this.limit)&&(this.limit=0),this.icon=new r.default(this.field.wrapper.querySelector(".ctip-seo-limit"))}isValid(){return 0<this.field.input.value.length&&this.field.input.value.length<=this.limit}handleFieldInput(){0===this.limit?(o.default.removeClass(this.field.wrapper,"good"),o.default.removeClass(this.field.wrapper,"bad")):(this.icon.updateState(this.isValid()),o.default.removeClass(this.field.wrapper,"hide")),this.field.triggerContentTipUpdated()}}t.default=a}.apply(t,i),void 0===r||(e.exports=r)},10592:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.elements=Array.from(e)}get length(){return this.elements.length}get values(){return this.elements.filter((e=>e.checked)).map((e=>e.value))}set values(e){if(0===this.length)return;const t=Array.isArray(e)?e:[e];this.elements.forEach((e=>{e.checked=t.includes(e.value)}))}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},94543:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){if(!e)throw new Error("ContentTipsCapableField field is required");this.field=e,this.field.addInputEventListener((()=>this.handleFieldInput()))}getInput(){return this.field.input}getFieldName(){var e;return(null===(e=this.getInput())||void 0===e?void 0:e.name)||""}getFieldId(){var e;return(null===(e=this.getInput())||void 0===e?void 0:e.id)||""}isInvalid(){return!this.isValid()}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},43130:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(89152)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),t.default=class{constructor(e){this.icon=e}updateState(e){var t;r.default.toggleClass(this.icon,"good",e),r.default.toggleClass(this.icon,"bad",!e),null===(t=this.icon)||void 0===t||t.setAttribute("aria-label",i.default.I18n.get("message.contenttips."+(e?"not.":"")+"actionable.item"))}reset(){var e;r.default.removeClass(this.icon,"good"),r.default.removeClass(this.icon,"bad"),null===(e=this.icon)||void 0===e||e.setAttribute("aria-label","")}}}.apply(t,i),void 0===r||(e.exports=r)},64486:function(e,t,n){var i,r;i=[n,t,n(7994),n(93734)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),t.default=class{static init(){document.querySelectorAll("input.has-ctip, textarea.has-ctip").forEach((e=>new i.default(e)))}}}.apply(t,i),void 0===r||(e.exports=r)},93734:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648),n(93541),n(35974),n(10861),n(15278),n(40178),n(30978),n(79447),n(40855),n(89152)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h);class f{constructor(e){if(this.contentTips=[],!e||!e.parentElement)throw new Error("Field and parent must not be null.");this.input=e,this.wrapper=e.parentElement,this.toggleButton=this.wrapper.querySelector("button.ctip-content-toggle"),this.adornmentElement=this.findContentToggleAdornmentElement(),this.labeledByElement=this.findContentToggleAriaLabeledBy(),this.toggleButton&&this.adornmentElement&&this.toggleButton.addEventListener("click",(e=>this.handleToggleButtonClick(e))),h.default.hasClass(this.input,"has-ctip-charcount")&&this.contentTips.push(new c.default(this)),h.default.hasClass(this.input,"has-ctip-ai-suggestion")&&this.contentTips.push(new u.default(this)),h.default.hasClass(this.input,"has-ctip-snippets")&&this.contentTips.push(new d.default(this)),this.wrapper.querySelectorAll(".ctip-seo-limit").forEach((e=>this.contentTips.push(new s.default(this)))),this.wrapper.querySelectorAll(".ctip-seo-duplicate").forEach((e=>this.contentTips.push(new l.default(this)))),this.input.addEventListener(f.CONTENT_TIP_UPDATED_EVENT.type,(()=>this.updateUI())),this.input.dispatchEvent(new InputEvent("input"))}triggerContentTipUpdated(){this.input.dispatchEvent(f.CONTENT_TIP_UPDATED_EVENT)}addInputEventListener(e){const t=i.default.debounce(e,f.DEBOUNCE_TIMING_MS);this.input.addEventListener("input",t)}findContentToggleAdornmentElement(){return this.getElementFromAttribute("aria-controls")}findContentToggleAriaLabeledBy(){return this.getElementFromAttribute("aria-labeledby")}getElementFromAttribute(e){const t=this.toggleButton?this.toggleButton.getAttribute(e):null;return t?document.getElementById(t):null}handleToggleButtonClick(e){if(!this.toggleButton||!this.adornmentElement)return;h.default.toggleClass(this.adornmentElement,"hide");const t=h.default.hasClass(this.adornmentElement,"hide"),n="label.contenttips."+(t?"show":"hide");this.toggleButton.setAttribute("aria-expanded",t?"false":"true"),o.default.setContent(this.toggleButton,r.default.I18n.get(n)),a.default.CONTENT.trackModalEvent("Edit","Toggled Content Tips",{viewing:!t})}updateUI(){if(!this.toggleButton)return;const e=h.default.hasClass(this.toggleButton,"bad"),t=this.getActionableTipsCount(),n=t>0;h.default.toggleClass(this.toggleButton,"bad",n),h.default.toggleClass(this.toggleButton,"good",!n),this.labeledByElement&&(this.labeledByElement.innerText=r.default.I18n.get("label.contenttips.actionable.items").replace("{0}",t+"")),e!==n&&this.highlightButton()}getActionableTipsCount(){return this.contentTips.filter((e=>e.isInvalid())).length}highlightButton(){this.highlightTimeoutId&&clearTimeout(this.highlightTimeoutId),h.default.addClass(this.toggleButton,"highlight"),this.highlightTimeoutId=setTimeout((()=>h.default.removeClass(this.toggleButton,"highlight")),7e3)}}t.default=f,f.CONTENT_TIP_UPDATED_EVENT=new CustomEvent("contentTipUpdated"),f.DEBOUNCE_TIMING_MS=250}.apply(t,i),void 0===r||(e.exports=r)},40178:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(94543),n(43130),n(16429),n(93660),n(89152)],r=function(e,t,n,i,r,o,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c);class u extends o.default{constructor(e){super(e),this.response={count:0,limit:0},this.icon=new a.default(this.field.wrapper.querySelector(".ctip-seo-duplicate-icon")),this.found=this.field.wrapper.querySelector(".ctip-seo-duplicate-found"),this.foundCountSpan=this.found?this.found.querySelector(".ctip-seo-duplicate-count"):null,this.registerDomEvents()}isValid(){return 0===this.response.count}handleFieldInput(){this.field.input.value.length<3?this.reset():i.default.getJSON(u.COUNT_WITH_DUPLICATE_VALUE_URL,this.buildDuplicateValueRequest(),(e=>this.handleResponse(e)))}buildDuplicateValueRequest(){return{fieldName:this.field.input.name,value:this.field.input.value,assetId:this.getAssetCurrentVersionId()}}countExceedsLimit(){return this.response.count>this.response.limit}getAssetTypeLabel(){let e=r.default.Variables.get("modalDomType");return e.includes("block")&&(e="block"),r.default.I18n.get(`asset.type.${e}.lc`)}registerDomEvents(){c.default.addEventListener(this.found,"click",(e=>{e.stopPropagation(),s.default.show(this)}))}getAssetCurrentVersionId(){const e=document.getElementById("draftOriginalId");return e&&e.value.length?e.value:r.default.Variables.get("modalDomId")}handleResponse(e){e.error?this.reset():(this.response=e,this.icon.updateState(this.isValid()),c.default.toggleClass(this.found,"hide",this.isValid()),this.foundCountSpan&&(this.foundCountSpan.innerText=this.determineCountStringForRendering()),this.field.triggerContentTipUpdated())}reset(){c.default.addClass(this.found,"hide"),this.icon.reset(),this.response={count:0,limit:0},this.field.triggerContentTipUpdated()}determineCountStringForRendering(){return this.countExceedsLimit()?`${this.response.limit}+`:this.response.count.toString()}}t.default=u,u.COUNT_WITH_DUPLICATE_VALUE_URL=l.default.absolutePath("/ajax/contentTips/duplicateValues/countEntities.act")}.apply(t,i),void 0===r||(e.exports=r)},16429:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(10776),n(24819),n(94917),n(50384),n(89152),n(93660)],r=function(e,t,n,i,r,o,a,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u);class d{constructor(){if(this.flyoutElement=document.getElementById(d.ID),!this.flyoutElement)throw new Error(`Element with ID "${d.ID}" not found.`);if(this.resultsTable=this.flyoutElement.querySelector("table"),!this.resultsTable)throw new Error("Table containing assets with duplicate values not found.");this.$flyoutElement=(0,i.default)(this.flyoutElement),this.$resultsTable=(0,i.default)(this.resultsTable),s.default.init(this.$flyoutElement,{onShow:()=>this.initDataTable()}),this.resultsTable=this.flyoutElement.querySelector("table")}static show(e){const t=d.getInstance();t.duplicateValueTip=e,t.$flyoutElement.modal("show")}static getInstance(){return d.INSTANCE||(d.INSTANCE=new d),d.INSTANCE}initDataTable(){this.dataTable?this.dataTable.ajax.url(this.buildUrl()).load():this.dataTable=l.default.init(this.$resultsTable,null,{serverSide:!1,select:!1,ajax:{url:this.buildUrl(),dataSrc:e=>this.handleDataTableAjaxResponse(e),beforeSend:()=>o.default.start(),complete:()=>o.default.done()},columns:[{data:null,render:this.renderAssetCell}]})}buildUrl(){const e=this.duplicateValueTip.buildDuplicateValueRequest();return u.default.absolutePath(d.GET_WITH_DUPLICATE_VALUE_URL,e)}handleDataTableAjaxResponse(e){return this.showTruncatedMessageIfApplicable(e.limit),this.updateHeaderText(),e.results||[]}renderAssetCell(e,t){return"display"===t?a.default.renderDataTableRowLink(e,{hoverable:!1,showPath:!0,showSite:!1,target:"_blank"}):e.breadcrumb_string}updateHeaderText(){const e=this.flyoutElement.querySelector(".modal-flyout-header h2");e&&(e.textContent=r.default.I18n.get("title.contenttips.seo.duplicate.assets.found").replace("{0}",this.duplicateValueTip.getFieldName()).replace("{1}",this.duplicateValueTip.getAssetTypeLabel()))}showTruncatedMessageIfApplicable(e){if(this.duplicateValueTip.countExceedsLimit()){const t=document.getElementById(`${this.duplicateValueTip.getFieldId()}-duplicates-truncated`);t&&(t.textContent=r.default.I18n.get("message.contenttips.seo.duplicate.assets.found.truncated").replace("{0}",e.toString()),c.default.removeClass(t,"hide"))}}}t.default=d,d.ID="duplicate-values-flyout",d.GET_WITH_DUPLICATE_VALUE_URL="/ajax/contentTips/duplicateValues/getEntities.act"}.apply(t,i),void 0===r||(e.exports=r)},40855:function(e,t,n){var i,r;i=[n,t,n(7994),n(94543),n(98520),n(10861),n(89152)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a);class s extends i.default{constructor(e){super(e),this.toolbarButton=this.field.wrapper.querySelector(".ctip-snippets"),this.addClickListeners()}addSnippet(e){var t,n;const{snippetToken:i}=e,r=this.field.input.value,a=null!==(t=this.field.input.selectionStart)&&void 0!==t?t:r.length,s=null!==(n=this.field.input.selectionEnd)&&void 0!==n?n:r.length;if(this.field.input.focus(),document.queryCommandSupported("insertText"))this.field.input.setSelectionRange(a,s),document.execCommand("insertText",!1,i);else{this.field.input.setRangeText(i,a,s,"end"),this.field.input.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!0,inputType:"insertText",data:i}));const e=a+i.length;this.field.input.setSelectionRange(e,e)}o.default.CONTENT.trackModalEvent("Edit","Inserted Snippet",{snippetId:e.id,snippetName:e.name})}isValid(){return!0}handleFieldInput(){}addClickListeners(){a.default.addEventListener(this.toolbarButton,"click",(e=>this.handleToolbarButtonClick(e)))}handleToolbarButtonClick(e){e.stopPropagation(),r.default.show(this.addSnippet.bind(this))}}t.default=s}.apply(t,i),void 0===r||(e.exports=r)},98520:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(10776),n(94917),n(12993),n(50384),n(93660)],r=function(e,t,n,i,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GET_SNIPPETS_ACTION=void 0,i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),t.GET_SNIPPETS_ACTION=l.default.absolutePath("/ajax/snippets.act");const c=a.default.get("snippetFlyoutDataTableRow");class u{constructor(){if(this.flyoutElement=document.getElementById(u.ID),!this.flyoutElement)throw new Error(`Element with ID "${u.ID}" not found.`);if(this.resultsTable=this.flyoutElement.querySelector("table"),!this.resultsTable)throw new Error("Table containing snippets not found.");this.$flyoutElement=(0,i.default)(this.flyoutElement),this.$resultsTable=(0,i.default)(this.resultsTable),o.default.init(this.$flyoutElement,{onShow:()=>this.initDataTable()})}static show(e){const t=u.getInstance();t.clickHandler=e,t.$flyoutElement.modal("show")}static getInstance(){return u.INSTANCE||(u.INSTANCE=new u),u.INSTANCE}initDataTable(){this.dataTable?this.dataTable.ajax.url(t.GET_SNIPPETS_ACTION).load():this.dataTable=s.default.init(this.$resultsTable,null,{serverSide:!1,select:!1,ajax:{url:t.GET_SNIPPETS_ACTION,dataSrc:e=>e.snippets||[],beforeSend:()=>r.default.start(),complete:()=>r.default.done()},columns:[{data:null,render:this.renderAssetCell}],createdRow:(e,t)=>{e.addEventListener("click",(()=>this.handleSnippetRowClick(t)))}})}renderAssetCell(e,t){return"display"===t||"filter"===t?c({snippet:e}):e.name}handleSnippetRowClick(e){this.$flyoutElement.one("hidden.bs.modal",(()=>this.clickHandler(e))).modal("hide")}}t.default=u,u.ID="snippets-flyout"}.apply(t,i),void 0===r||(e.exports=r)},23806:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(12993),n(24819),n(71651),n(93660),n(10776),n(10861),n(24090)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d);const f=c.default.absolutePath("/ajax/suggestUsers.act"),p=c.default.absolutePath("/render/profilePicture.act?userId="),A=a.default.get("mentionResults"),g=/(?:@")[^"]*[^"]$/,m=/(?:\B@)([\w\.\-\+\,]+|"[\w\.\-\+\,][^"]*(?:")+)/m,v=[" ",";",":","!",",","?"];let y,b=0,w=0;const x=(0,i.default)("#page-content");let C=(0,i.default)(".mention-suggestions"),_=(0,i.default)(".mentionable"),k=(0,i.default)(".comments-suggestions-wrapper");const S=e=>{const t=h.Caret.getRelativePosition(e,{checkWidthOverflow:!0,useSelectionEnd:!0}),n=(0,i.default)(".dropdown-suggestions"),r=n.length?n[0].getBoundingClientRect().width:x[0].getBoundingClientRect().width,o=C[0].scrollWidth,a=t.left+o;return a>r&&(t.left=a-o>0?r-o:0),t.top+=15,t},E=()=>{if(w>0){const e=_[0].value,t=e.substring(0,null==y?void 0:y.startIndex),n=e.substring((null==y?void 0:y.endIndex)||0);let i=C.find('.mention-suggestion[data-index="'+b+'"]').data("user-id");i=-1!==i.indexOf(" ")||B(i)?'"'+i+'"':i;const r="@"+i+" ";_.val(t+r+n),_[0].selectionStart=_[0].selectionEnd=(t+r).length,d.default.COLLABORATION.trackEvent("Clicked @mention Suggestion",{mentionedUser:r})}T()},T=()=>{D()&&(C.html(""),_.trigger("focus"),C.removeClass("open"))},B=e=>void 0!==e&&/\W/.test(e[e.length-1]),I=()=>{C.find(".mention-suggestion").removeClass("active"),C.find('.mention-suggestion[data-index="'+b+'"]').addClass("active")},D=()=>C.hasClass("open");t.default=class{static init(e){e.on("keydown",".mentionable,  .mention-suggestion",(e=>{e.keyCode===l.default.CODES.DOM_VK_UP&&D()?(e.preventDefault(),b=b<0?w-1:b-1,I()):e.keyCode===l.default.CODES.DOM_VK_DOWN&&D()?(e.preventDefault(),b=b>=w-1?0:b+1,I()):e.keyCode!==l.default.CODES.DOM_VK_ENTER&&e.keyCode!==l.default.CODES.DOM_VK_RETURN||!D()||e.preventDefault()})),e.on("keyup",".mentionable, .mention-suggestion",r.default.debounce((e=>{const t=e.currentTarget.classList.contains("mentionable");if(t&&(y=(()=>{const e=_[0].value,t=_[0].selectionStart||0;let n,i=!1,r=!1;for(n=t-1;n>=0&&(r=g.test(e.substring(0,n)),!(-1!==v.indexOf(e[n])&&!r||r&&-1!==v.indexOf(e[n])&&" "!==e[n]));--n)if("@"===e[n]&&(0===n||-1!==v.indexOf(e[n-1]))){i=!0;break}if(i){let i=e.substring(n+1,t);return i=i.replace(m,"$1").replace(/\"/g,""),{startIndex:n,endIndex:t,username:i}}})(),C.toggleClass("open",y&&""!==y.username),!y||""===y.username))return b=0,void(w=0);var n;(e.keyCode!==l.default.CODES.DOM_VK_UP&&e.keyCode!==l.default.CODES.DOM_VK_DOWN||!D())&&(e.keyCode===l.default.CODES.DOM_VK_ESCAPE&&D()?(e.preventDefault(),T()):e.keyCode!==l.default.CODES.DOM_VK_ENTER&&e.keyCode!==l.default.CODES.DOM_VK_RETURN||!D()?t&&y&&(n=y.username,u.default.start(),i.default.ajax({url:f,data:{userId:n},success:e=>{e.searchResults?(w=e.searchResults.length,(e=>{const t=A({I18n:o.default.I18n,AssetLinkRenderer:s.default,suggestions:e,renderUrl:p});C.css({visibility:"hidden"}).html(t),I();const n=S(_[0]);C.css({top:n.top,left:n.left,visibility:"visible"})})(e.searchResults)):w=0}}).always((function(){u.default.done()}))):(e.preventDefault(),E()))}),150)),e.on("click",".mention-suggestion",(e=>{const t=(0,i.default)(e.currentTarget),n=t.parents(".comment-dropdown").length>0;b=t.data("index"),E(),n&&e.stopPropagation()})),e.on("blur",".mentionable",r.default.debounce((t=>{e.find(":focus").hasClass("mention-suggestion")||T()}),350)),e.on("focus",".mention-suggestion",(e=>{b=(0,i.default)(e.currentTarget).data("index"),I()})),e.on("focus",".mentionable",(e=>{_=(0,i.default)(e.currentTarget),w=0,b=0,y=void 0,k=_.parents(".comments-suggestions-wrapper"),C=k.find(".mention-suggestions")}))}}}.apply(t,i),void 0===r||(e.exports=r)},50839:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(46655)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);class o extends r.default{get checkType(){return"accessibility"}initUI(){(0,i.default)("#accessiblity-violations").on("click",'input[type="radio"][aria-controls]',(function(){var e=(0,i.default)(this),t=(0,i.default)("#"+e.attr("aria-controls"));"corrected"===e.val()&&t.find('input[type="text"]').focus()}))}}t.default=o}.apply(t,i),void 0===r||(e.exports=r)},46655:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(51517),n(50384),n(89152),n(93660)],r=function(e,t,n,i,r,o,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c);const u=e=>{const t=o.default.Variables.get("modalFormName"),n=t.substring(0,t.indexOf("Form"));return c.default.absolutePath(`/datacheck/load/${e}/${n.toLowerCase()}.act`)},d=e=>{const t=e.$checkContainerBody.find("tr.shown"),n=t.closest("table").DataTable();n&&t.length&&(n.row(t).child.remove(),t.removeClass("shown"))};t.default=class{performCheck(e){const t=this,n=(0,i.default)("#check-status-"+this.checkType);return this.uiElements={$checkStatus:n,$checkContainer:(0,i.default)("#check-results-"+this.checkType),$checkContainerHeader:(0,i.default)("#check-results-"+this.checkType+"-header"),$checkContainerBody:(0,i.default)("#check-results-"+this.checkType+"-body"),$preloader:n.find(".badge-preloader"),correctedRows:{}},new Promise((n=>{const r=setTimeout((()=>{t.uiElements.$preloader.removeClass("badge-preloader").addClass("badge-waiting"),t.uiElements.$checkStatus.append('<span class="text-hint" role="alert">'+o.default.I18n.get("message.datacheck.long.running")+"</span>"),n(!0)}),5e3);i.default.ajax({url:u(this.checkType),type:"POST",data:o.default.Variables.get("editFormSerialized")||"",complete:(c,u)=>{try{clearTimeout(r);const h=c.responseText;if("error"===u)throw h;this.uiElements.$checkContainerBody.html(h);const f=t.uiElements.$checkContainerBody.find("table"),p=t.uiElements.$checkContainerBody.find(".check-results-table-wrapper"),A="check-result-message-"+t.checkType,g=p.length?1*p.data("total"):0,m=g+"";g>0?(t.uiElements.$checkContainer[0].dataset.totalErrors=m,t.uiElements.$checkStatus.html('<span class="text-error" id="'+A+'">'+o.default.I18n.get("message.datacheck.found.issues").replace("{0}",m)+"</span>"),t.uiElements.$checkContainerHeader.find(".title").append('<span aria-labelledby="'+A+'" class="label label-sm label-error">'+m+"</span>"),f.length&&(p.on("draw.dt","table",(e=>a.default.init((0,i.default)(e.target)))),p.on("click",".radio input",(e=>((e,t)=>{const n=l.default.getClosest(e.target,"tr");if(!n)return;const i=n.dataset.index,r="corrected"===e.target.value,o="add"===e.target.value,a=document.getElementById(e.target.getAttribute("aria-controls"));l.default.setAttribute(a,"aria-hidden",!r),l.default.toggleClass(a,"hide",!r),o||r?t.correctedRows[i]=!0:delete t.correctedRows[i]})(e,t.uiElements))),t.uiElements.dtTable=s.default.init(f,null,{ordering:!0,dom:"lrtpi",columnDefs:[{targets:[1],orderable:!1}]}),f.on("click",".toggle-details",(e=>((e,t)=>{const n=l.default.getClosest(e.target,"tr");if(!n||!t.dtTable)return;const r=t.dtTable.row(n);r.child.isShown()?d(t):((e,t)=>{const n=(0,i.default)(e.node()),r=n.find(".error-details"),o=e.child;r.length&&(d(t),n.addClass("focused shown"),o(r.html()).show(),o().addClass("row-details"))})(r,t)})(e,t.uiElements)))),l.default.removeClass(t.uiElements.$checkContainer[0],"hide"),t.initUI(),e.onIssuesFoundOrError(),n(!1)):(t.uiElements.$checkStatus.html('<span class="text-success">'+o.default.I18n.get("message.datacheck.found.no.issues")+"</span>"),n(!0))}catch(i){t.uiElements.$checkStatus.html('<span class="text-error" role="alert">'+o.default.I18n.get("message.datacheck.error")+'</span> <button type="button" class="btn btn-link" data-toggle="collapse" data-target="#'+t.uiElements.$checkContainerBody[0].id+'">'+o.default.I18n.get("label.datacheck.view.error")+"</button>"),t.uiElements.$checkContainerBody.html('<div class="alert alert-danger" role="alert"><pre>'+i+"</pre></div>"),l.default.removeClass(t.uiElements.$checkContainer[0],"hide"),e.onIssuesFoundOrError(),n(!0)}}})}))}serializeCorrectedRowFormFields(){const e=r.default.keys(this.uiElements.correctedRows);return this.uiElements.dtTable&&e.length?this.uiElements.dtTable.rows(e).nodes().to$().find("input,select").serialize():""}}}.apply(t,i),void 0===r||(e.exports=r)},44590:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(53376),n(14741),n(16412),n(12596),n(10861),n(89152),n(50839),n(85719),n(60521),n(93660)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f),p=(0,n.__importDefault)(p);const A={accessibility:d.default,link:h.default,spell:f.default};t.default=class{constructor(e){const t=this,n=document.getElementById("datacheck-submit"),i=r.default.UI.disableButton(n),a=o.default.getStandardFormForModal();this.state=((e,t)=>{const{asset:n,openSubmissionInModal:i}=t,r=e[0].querySelector(".check-results");if(!r)throw new Error("Could not find the check results element");return{asset:n,openSubmissionInModal:i,numberOfChecksToProcess:0,$form:e,checkResultsElem:r,numberOfChecksPassed:0,numberOfChecksToView:0,shouldConfirmNavigatingAway:!0,checksToProcess:{}}})(a,e),this.addFormSubmitHandler(),this.addFormFailureHandler(),this.state.$form.one("cs.datachecks.complete",(()=>i())),s.default.onHide((e=>t.modalOnHideCallback(e))),s.default.find().on("show.bs.collapse",".collapse",(e=>t.handleExpandCheckIssuesCollapsible(e))),this.populateDataChecksToProcess(),this.state.$form.on("click","#apply-fixes-and-go-back",(function(){t.applyFixesAndReturnToEdit()})),c.default.CONTENT.trackModalOpenedEvent("Data Checks",{numberOfChecks:this.state.numberOfChecksToProcess}),this.processDataChecks()}addFormSubmitHandler(){const e=this;e.state.$form.attr({"data-ajax-submit":"true","data-overwrite-form-data":"true"}),o.default.addPreSubmitHandler(e.state.$form,(()=>{e.state.shouldConfirmNavigatingAway=!1,e.populateCustomData(),c.default.CONTENT.trackModalEvent("Data Checks","Submitted Data Checks")})),e.state.openSubmissionInModal&&o.default.addSuccessCallback(e.state.$form,(e=>s.default.openFromHTML(e)))}addFormFailureHandler(){const{state:e}=this;o.default.addFailureCallback(e.$form,(()=>e.shouldConfirmNavigatingAway=!0))}modalOnHideCallback(e){if(!this.state.shouldConfirmNavigatingAway)return!0;confirm(r.default.I18n.get("message.lose.changes.warning"))||e.preventDefault()}handleExpandCheckIssuesCollapsible(e){const t=u.default.getClosest(e.target,".form-group");if(!t)return;u.default.removeClass(t.querySelector(".form-group-control-green"),"hide");const n=t.dataset.check,i=t.dataset.totalErrors;c.default.CONTENT.trackModalEvent("Data Checks","Viewed Data Check",{checkType:n,totalErrors:i}),this.state.numberOfChecksToView--,this.triggerCompleteIfNoMoreChecksToView()}triggerCompleteIfNoMoreChecksToView(){const e=this.state.numberOfChecksPassed===this.state.numberOfChecksToProcess||this.state.numberOfChecksToView<1;("true"===r.default.Variables.get("canSkipDataChecks")||e)&&this.state.$form.trigger("cs.datachecks.complete")}populateDataChecksToProcess(){const{state:e}=this,t=document.getElementById("check-running-list");t&&t.querySelectorAll("li").forEach((t=>{const n=t.dataset.check,i=n?A[n]:void 0;i&&n&&(e.checksToProcess[n]=new i,e.numberOfChecksToProcess++)}))}applyFixesAndReturnToEdit(){const e=this.state;this.populateCustomData(),i.default.post(p.default.absolutePath("/ajax/applyContentFixesToDraft.act"),e.$form.serialize(),(t=>{t.success?(e.shouldConfirmNavigatingAway=!1,c.default.CONTENT.trackModalEvent("Data Checks","Clicked Apply Fixes and Return"),l.default.open(p.default.absolutePath("/entity/edit.act"),{id:t.draftId,type:t.type})):a.default.showText(t.error,{type:"danger"})})).fail(((e,t,n)=>{a.default.showText(n,{type:"danger"})}))}populateCustomData(){const{state:e}=this,t=[];Object.keys(e.checksToProcess).forEach((n=>{const i=e.checksToProcess[n].serializeCorrectedRowFormFields();i.length&&t.push(i)})),t.push("id="+e.asset.id),t.push("type="+e.asset.type),t.push("workflowSettings.doWorkflow="+e.$form.find('[name="workflowSettings.doWorkflow"]').val()),t.push("workflowSettings.workflowDefinitionId="+e.$form.find('[name="workflowSettings.workflowDefinitionId"]').val()),t.push("workflowSettings.workflowComments="+encodeURIComponent(e.$form.find('[name="workflowSettings.workflowComments"]').val())),t.push("dataCheckSettings.comments="+encodeURIComponent(e.$form.find('[name="dataCheckSettings.comments"]').val())),e.$form.data("custom-data",t.join("&"))}processDataChecks(){const e=this,t=e.state;if(t.numberOfChecksToProcess){const n=[];Object.values(t.checksToProcess).forEach((e=>n.push(e.performCheck({onIssuesFoundOrError:()=>u.default.removeClass(t.checkResultsElem,"hide")})))),Promise.all(n).then((n=>{n.forEach((e=>{e?t.numberOfChecksPassed++:t.numberOfChecksToView++})),e.triggerCompleteIfNoMoreChecksToView()}))}}}}.apply(t,i),void 0===r||(e.exports=r)},85719:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(46655),n(93660)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);class a extends r.default{get checkType(){return"link"}initUI(){const e=(0,i.default)("#broken-links");e.on("click",'input[type="radio"][aria-controls]',(function(){const e=(0,i.default)(this),t=(0,i.default)("#"+e.attr("aria-controls"));"corrected"===e.val()&&t.find('.chooser, input[type="text"]').focus()})),e.on("input",".correction-text",(function(){const e=(0,i.default)(this);e.siblings(".link-validity-icon").addClass("hide");const t=e.closest("tr").data("index");(0,i.default)("#selectedsIdx\\["+t+"\\]").val("corrected")})),e.on("blur",".correction-text",(function(){const e=(0,i.default)(this),t=this.value.trim();if(""===t){const t=e.closest("tr").data("index");return void(0,i.default)("#selectedsIdx\\["+t+"\\]").val("ignore")}const n=e.data("lastUrlChecked");if(n&&n===t)return;e.data("lastUrlChecked",t);const r=e.siblings(".link-validity-icon");r.removeClass("ci-valid-external-link ci-invalid-external-link hide"),r.addClass("ci-loading"),i.default.get(o.default.absolutePath("/ajax/verifyLink.act"),{url:t},(function(e){r.removeClass("ci-loading"),r.toggleClass("ci-valid-external-link",e.valid),r.toggleClass("ci-invalid-external-link",!e.valid),e.valid||r.prop("title",e.error)}),"json")}))}}t.default=a}.apply(t,i),void 0===r||(e.exports=r)},60521:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(46655)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);class o extends r.default{get checkType(){return"spell"}initUI(){(0,i.default)("#spelling-errors").on("click",'input[type="radio"]',(function(){const e=(0,i.default)(this),t=(0,i.default)("#"+e.attr("aria-controls"));"corrected"===e.val()&&t.find(".form-control-selectize")[0].selectize.focus()}))}}t.default=o}.apply(t,i),void 0===r||(e.exports=r)},83022:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(14741),n(16412),n(24819),n(80471),n(10861),n(50384),n(89152),n(26742),n(93660)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f);class p{constructor(e){this.options=e,this.populatePropertiesFromDocument(),this.initializeDataTable(),this.registerEventHandlers(),c.default.CONTENT.trackModalOpenedEvent("Relationships")}static init(e){return new p(e)}populatePropertiesFromDocument(){this.ajaxModal=a.default.find()[0],this.table=this.ajaxModal.querySelector("table"),this.removeButton=document.getElementById("delete-related-asset-relationship"),this.publishAllButton=document.getElementById("publish-all-relationships"),this.publishSelectionButton=this.ajaxModal.querySelector(".publish-selection"),this.$addRelationshipChooser=(0,i.default)(document.getElementById("chooser-add-relationship"))}initializeDataTable(){this.dtTable=u.default.init((0,i.default)(this.table),null,this.generateDatatableOptions()),this.options.isHomeAreaAsset&&this.dtTable.on("select",this.toggleRemoveRelationshipButtonVisibility.bind(this)).on("deselect",this.toggleRemoveRelationshipButtonVisibility.bind(this))}generateDatatableOptions(){const{id:e,type:t}=this.options.identifier,n={ajax:{url:f.default.absolutePath("/ajax/getrelationships.act",{id:e,type:t}),dataSrc:"subscribers"},order:!1,rowId:"id",columns:[{data:null,render:(e,t,n)=>"display"!==t?n.label:s.default.render(e,{hoverable:!1,showPath:!this.options.noMetadata})}]};if(!this.options.noMetadata)return n.columns.push({data:null,render:(e,t)=>{if("display"!==t)return e.lastModifiedOn;const n=[];return e.lastModifiedOn&&(n.push(l.default.render(e.lastModifiedOn)),n.push(r.default.I18n.get("common.words.by.lc")),n.push(e.lastModifiedBy?this.renderUserLink(e.lastModifiedBy):r.default.I18n.get("common.words.no.one"))),n.join(" ")}}),this.options.isHomeAreaAsset&&n.columns.push({data:null,render:(e,t)=>e.ownedBy?"display"===t?this.renderUserLink(e.ownedBy):e.ownedBy:r.default.I18n.get("common.words.no.one")}),n.columns.push({data:"relationshipType",defaultContent:"",render:e=>e.map((e=>r.default.I18n.get(`label.relationship.type.${e.toLowerCase()}`))).join(", ")}),n}renderUserLink(e){return s.default.render(e,{hoverable:!1})}registerEventHandlers(){d.default.addEventListener(this.publishSelectionButton,"click",(e=>{const t=r.default.UI.disableButton(e.currentTarget),n=u.default.getSelectedAssets(this.dtTable);c.default.PUBLISHING.trackModalEvent("Relationships","Clicked Publish Selected Relationships",{numberOfRows:n.selectedIds.length}),this.publishAssets(n,t)})),d.default.addEventListener(this.publishAllButton,"click",(e=>{const t=r.default.UI.disableButton(e.currentTarget);c.default.PUBLISHING.trackModalEvent("Relationships","Clicked Publish All Relationships"),this.publishAssets(Object.assign(Object.assign({},this.options.identifier),{allRelationshipsSelected:!0}),t)})),this.options.isHomeAreaAsset&&(d.default.addEventListener(this.removeButton,"click",(e=>{const t=r.default.UI.disableButton(e.currentTarget),n=[],i=[];u.default.iterateSelectedRowsData(this.dtTable,(e=>{e.relationshipType.includes("STATIC")&&(n.push(e.id),i.push(e.type))})),u.default.performMultiOp(f.default.absolutePath("/ajax/multisubmit/deletepublishrelatedassociations.act",{sourceId:this.options.identifier.id}),{selectedIds:n,selectedTypes:i},this.dtTable,((e,t,n)=>{if(!e)return;const i=h.default.getJsonResponseStatus(e);c.default.CONTENT.trackModalEvent("Relationships","Removed Manual Relationships"),o.default.showHtml(i.message,{type:i.status}),this.dtTable.ajax.reload(),d.default.addClass(this.removeButton,"hide")}),t)})),this.$addRelationshipChooser.off("submit.cs.chooser.panel").on("submit.cs.chooser.panel",(()=>{const e=this.$addRelationshipChooser.data("cs.chooser"),t=e.getAssetFromChosen(),n={id:this.options.identifier.id,relatedAssetId:t.id,relatedAssetType:t.type};i.default.ajax({url:f.default.absolutePath("/ajax/addpublishrelatedassociations.act"),dataType:"json",data:n,success:e=>{e.error?o.default.show(e.error,{type:"danger"}):(c.default.CONTENT.trackModalEvent("Relationships","Added Manual Relationships"),o.default.show(e.success,{type:"success"}),this.dtTable.ajax.reload())},complete:e.clear()})})))}publishAssets(e,t){i.default.post(f.default.absolutePath("/ajax/multisubmit/publish.act"),Object.assign(Object.assign({},e),{publishMode:"publish"}),(e=>{const t=h.default.getJsonResponseStatus(e);o.default.showHtml(t.message,{type:t.status})})).always(t)}toggleRemoveRelationshipButtonVisibility(){const e={STATIC:0,LINKED:0,DYNAMIC:0};u.default.iterateSelectedRowsData(this.dtTable,(t=>{t.relationshipType.forEach((t=>e[t]+=1))})),this.removeButton.classList.toggle("hide",e.STATIC<1)}}t.default=p}.apply(t,i),void 0===r||(e.exports=r)},26340:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.originalName=""}static get(e="#name"){const t=document.querySelector(e);return t?t.cs_nameField?t.cs_nameField:n.init(t):new n}static init(e){const t=new n;return t.fieldElement=e,t.originalName=e.value,e.cs_nameField=t,t}addNameChangeHandler(e){var t;null===(t=this.fieldElement)||void 0===t||t.addEventListener("change",(()=>e(this.originalName,this.getCurrentName())))}updateCurrentName(e){this.fieldElement&&(this.fieldElement.value=e)}updateOriginalName(e){this.originalName=e||""}getCurrentName(){var e;return(null===(e=this.fieldElement)||void 0===e?void 0:e.value)||""}getValue(){return this.getCurrentName()}}t.default=n}.apply(t,[n,t]),void 0===i||(e.exports=i)},11499:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(12596),n(26742),n(89152)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a);class s{constructor(){this.eventHandlersAdded=!1}isEnabled(){return this.eventHandlersAdded}static init(){const e=new s;return e.$assetRenderWrapper=(0,i.default)(s.SELECTOR),e.$assetRenderIframe=e.$assetRenderWrapper.find("iframe"),e.assetRenderIframe=e.$assetRenderIframe[0],e}enable(e){this.isEnabled()&&this.disable(),this.enableMouseTracking(e),this.addEventHandlers()}enableMouseTracking(e){const t=this.getCascadeRegionInformationSupport();t&&(t.isTrackingEditableRegionsOnly=!e,t.enableMouseTracking())}disable(){var e;null===(e=this.getInitializedCascadeRegionInformationSupport())||void 0===e||e.disable(),this.closeBlockAndFormat(),this.$assetRenderWrapper.off("mouseover",".region-name"),this.$assetRenderWrapper.off("mouseout",".region-name"),this.$assetRenderWrapper.off("click",".region-name"),this.$assetRenderWrapper.off("click",".region-edit"),this.$assetRenderIframe.off("select.region"),this.$assetRenderIframe.off("unselect.region"),this.$assetRenderIframe.off("edit.region"),this.eventHandlersAdded=!1}calculateAllRegionOverlayPositions(){var e;null===(e=this.getInitializedCascadeRegionInformationSupport())||void 0===e||e.calculateAllRegionOverlayPositions()}openBlockAndFormat(e){this.iterateOverRegionNamesAndExecuteCallback((t=>{const n=a.default.getAttribute(t,"data-regionname"),i=this.getAdjacentRegionAssignmentsList(t),r=n===e;a.default.toggleClass(t,"active",r),a.default.toggleClass(i,"hide",!r)}))}closeBlockAndFormat(){this.iterateOverRegionNamesAndExecuteCallback((e=>{const t=this.getAdjacentRegionAssignmentsList(e);a.default.removeClass(e,"active"),a.default.addClass(t,"hide")}))}iterateOverRegionNamesAndExecuteCallback(e){(0,i.default)("#asset-render-wrapper").find(".region-name").each(((t,n)=>e(n)))}getAdjacentRegionAssignmentsList(e){const t=a.default.getClosestParent(e,"li");return t?t.querySelector("ul.region-assignments"):null}editRegion(e,t){var n;this.openBlockAndFormat(e),null===(n=this.getInitializedCascadeRegionInformationSupport())||void 0===n||n.selectRegion(e),r.default.focusElementOnHide(t),r.default.open((0,i.default)(".region-edit[data-regionname='"+e+"']").attr("data-url"))}getCascadeRegionInformationSupport(){var e;return null===(e=this.assetRenderIframe.contentWindow)||void 0===e?void 0:e._CascadeCMSRegionInformationSupport}getInitializedCascadeRegionInformationSupport(){const e=this.getCascadeRegionInformationSupport();if(e&&e.isInitialized)return e}addEventHandlers(){this.$assetRenderWrapper.on("mouseover",".region-name",(e=>{var t;return null===(t=this.getInitializedCascadeRegionInformationSupport())||void 0===t?void 0:t.highlightRegion((0,i.default)(e.currentTarget).data("regionname"))})),this.$assetRenderWrapper.on("mouseout",".region-name",(()=>{var e;return null===(e=this.getInitializedCascadeRegionInformationSupport())||void 0===e?void 0:e.unhighlightRegion()})),this.$assetRenderWrapper.on("click",".region-name",(e=>{const t=this.getInitializedCascadeRegionInformationSupport(),n=e.currentTarget;if(t){t.toggleRegion((0,i.default)(e.currentTarget).data("regionname"));const n=t.getSelectedRegionPositionY();if(n){const e=document.getElementById("asset-render");(0,i.default)(o.default.getFrameDocument(e)).find("body,html").animate({scrollTop:n},400)}}else n.classList.contains("active")?this.closeBlockAndFormat():this.openBlockAndFormat(n.dataset.regionname)})),this.$assetRenderWrapper.on("click",".region-edit",(e=>this.editRegion((0,i.default)(e.currentTarget).prev().data("regionname"),e.currentTarget))),this.$assetRenderIframe.on("select.region",((e,t)=>this.openBlockAndFormat(t))),this.$assetRenderIframe.on("unselect.region",(()=>this.closeBlockAndFormat())),this.$assetRenderIframe.on("edit.region",((e,t)=>this.editRegion(t))),this.eventHandlersAdded=!0}}t.default=s,s.SELECTOR="#asset-render-wrapper"}.apply(t,i),void 0===r||(e.exports=r)},90657:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(16412),n(93660),n(53376),n(73262),n(10861),n(80471),n(26742),n(89152)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h);class f{constructor(){this.getId=()=>this.$formToSubmit.find('input[name="id"]').val()+""}static init(e,t){const n=new f;return n.$context=e,n.inModal=t,n.populatePropertiesFromDocument(),n.isDropdownInitialized()||n.addEventHandlers(),h.default.enableClicking(n.$saveLink[0]),n}populatePropertiesFromDocument(){this.$submitNowButton=this.$context.find(".startSaveButton"),this.$startChecksButton=this.$context.find(".startChecksButton"),this.$formToSubmit=this.determineFormToSubmit(),this.$saveDraftForm=this.determineSaveDraftForm(),this.type=this.$formToSubmit.find('input[name="type"]').val()+"",this.$saveLink=this.$context.find(".save-link")}addEventHandlers(){this.addCustomEventHandlers(),this.addSubmitNowButtonHandlers(),this.addStartChecksButtonHandlers(),this.markDropdownAsInitialized()}addCustomEventHandlers(){const e=this.$saveDraftForm.find("#comments");this.$context.on({"cs.noworkflowsavailable":()=>{"false"===this.$saveDraftForm.find("[name=bypassWorkflows]").val()&&"true"===this.$saveDraftForm.find("[name=workflowRequired]").val()&&(e.parent().hide(),this.$saveDraftForm.find(".validationError").html(r.default.Variables.get("message.save.disabled.user.cannot.bypass.workflow")).removeClass("hide"))},"cs.doworkflowtoggleon":()=>{this.$submitNowButton.text(r.default.Variables.get("prompt.datacheck.workflow")),this.$startChecksButton.html(r.default.Variables.get("label.button.check.content.start.workflow")),e.prev(".help-block").text(r.default.Variables.get("label.workflow.configure.version_comments.help"))},"cs.doworkflowtoggleoff":()=>{this.$submitNowButton.text(r.default.Variables.get("prompt.save")),this.$startChecksButton.html(r.default.Variables.get("label.button.check.content")),e.prev(".help-block").text(r.default.Variables.get("label.versioncomments.help"))},"cs.preloadsavedropdown":()=>{const e=this.$context.find(".dropdown-menu-loader");this.$saveDraftForm.css("visibility","hidden"),e.length?e.removeClass("hide"):this.$context.find(".dropdown-menu").prepend('<i class="ci ci-fw ci-loading dropdown-menu-loader" aria-describedby="cascade-loading" role="img"></i>'),this.$context.find(".dropdown-menu-body").addClass("hide")},"cs.loadsavedropdown":()=>{const e=this.$formToSubmit.find("input[name=saveType]"),t=e.length?e.val()+"":"edit",n=this.getId();if(this.populateVersionComments(),this.$context.data("saveDropdownLoaded"))return l.default.refresh({id:n,type:this.type},t),void this.$context.trigger("cs.loadedsavedropdown");l.default.init(this.$saveDraftForm,n,this.type,t),this.$context.data("saveDropdownLoaded",!0).trigger("cs.loadedsavedropdown")},"cs.loadedsavedropdown":()=>{this.$saveDraftForm.css("visibility",""),this.$context.find(".dropdown-menu-loader").remove(),this.$context.find(".dropdown-menu-body").removeClass("hide")}})}addSubmitNowButtonHandlers(){this.$submitNowButton.on("click",(e=>{const t=r.default.UI.disableButton(e.currentTarget);this.$saveDraftForm.find('[name="workflowSettings.doWorkflow"]').prop("checked")&&this.addOpenSuccessfulSubmissionInModalCallback(t),this.trackQuickSubmitEventFromDropdown(),this.checkRecentEditsAndSubmit((0,i.default)(e.currentTarget),(()=>{t(),this.$context.removeClass("open")}))}))}addStartChecksButtonHandlers(){this.$startChecksButton.on("click",(e=>{const t=r.default.UI.disableButton(e.currentTarget);this.$saveLink.dropdown("toggle"),this.addDataChecksSuccessCallbackIfNotPresent(t),this.trackStartChecksEventFromDropdown(),this.checkRecentEditsAndSubmit((0,i.default)(e.currentTarget),t)}))}addDataChecksSuccessCallbackIfNotPresent(e){this.$formToSubmit.data("hasDataChecksSuccessCallback")||(s.default.addSuccessCallback(this.$formToSubmit,(t=>{e(),o.default.focusElementOnHide(this.$startChecksButton),this.populateEditFormSerializedVarIfFormPresent(),o.default.openFromHTML(t)})),this.$formToSubmit.data("hasDataChecksSuccessCallback",!0))}populateEditFormSerializedVarIfFormPresent(){const e=(0,i.default)("#editform");e.length&&r.default.Variables.set("editFormSerialized",e.serialize())}populateVersionComments(){const e=this.$saveDraftForm.find("#comments");e.val()||i.default.ajax({url:a.default.absolutePath("/ajax/getversioncomment.act"),data:{id:this.getId(),type:this.type},success:t=>e.val(t.versionComment)})}addOpenSuccessfulSubmissionInModalCallback(e){this.$formToSubmit.data("hasOpenSuccessfulSubmissionInModalCallback")||(s.default.addSuccessCallback(this.$formToSubmit,(t=>{e(),o.default.focusElementOnHide(this.$submitNowButton),o.default.openFromHTML(t)})),this.$formToSubmit.data("hasOpenSuccessfulSubmissionInModalCallback",!0))}checkRecentEditsAndSubmit(e,t){i.default.get(a.default.absolutePath("/ajax/checkrecentedits.act"),{id:this.getId(),type:this.type},(n=>{if(n.draftIncluded){const e=this.buildRecentEditConfirmationMessage(n.info);if(!confirm(e))return t()}this.submitForm(e,t)}))}buildRecentEditConfirmationMessage(e){const t=u.default.renderFormatted(e.currentVersionModified),n=u.default.renderFormatted(e.draftCreateTime);return r.default.I18n.get("message.interleaved.draft.submission.will.overwrite")+" "+e.currentVersionModifiedBy+". "+e.currentVersionModifiedBy+" "+r.default.I18n.get("message.interleaved.draft.submission.update")+" "+t+". "+r.default.I18n.get("message.interleaved.draft.submission.your.draft")+" "+n+"."}submitForm(e,t){d.default.addButtonToFormAction(e,this.$formToSubmit),this.$saveDraftForm.removeClass("disable-form-serialization"),this.ensureFailureCallback(t),s.default.ajaxSubmit(this.$formToSubmit)||this.executeOnFailure(t)}ensureFailureCallback(e){this.$formToSubmit.data("hasSaveDropdownFailureCallback")||(s.default.addFailureCallback(this.$formToSubmit,(()=>this.executeOnFailure(e))),this.$formToSubmit.data("hasSaveDropdownFailureCallback",!0))}executeOnFailure(e){this.$saveDraftForm.addClass("disable-form-serialization"),e()}determineFormToSubmit(){return this.inModal?s.default.getStandardFormForModal():this.$context.find(".saveDraftForm")}determineSaveDraftForm(){return this.inModal?this.$formToSubmit.find(".saveDraftForm"):this.$formToSubmit}trackQuickSubmitEventFromDropdown(){this.trackSubmitEventFromDropdown("Quick Submit")}trackStartChecksEventFromDropdown(){this.trackSubmitEventFromDropdown("Start Checks")}isDropdownInitialized(){return this.$context.data("saveDropdownInitialized")}markDropdownAsInitialized(){this.$context.data("saveDropdownInitialized",!0)}trackSubmitEventFromDropdown(e){const t="Clicked Save Dropdown "+e;this.inModal?c.default.CONTENT.trackAssetEventFromModal(t):c.default.CONTENT.trackAssetEvent(t)}}t.default=f}.apply(t,i),void 0===r||(e.exports=r)},34848:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(37549),n(10861),n(93660),n(42065)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a);class s{constructor(){this.siteImproveIframeContainerIsShowing=!1,this.highlightedElement=null,this.highlightedElementOriginalOutline=null,this.onFrameOpenedCallback=null,this.onFrameClosedCallback=null,this.waitForIframeContainer=()=>{const e=document.querySelector(".si-iframe-container");e?this.registerSiteImproveIframeContainer(e):setTimeout(this.waitForIframeContainer,100)},this.onIframeContainerStyleChanged=()=>{var e,t;this.siteImproveIframeContainerIsShowing||"none"===(null===(e=this.siteImproveIframeContainer)||void 0===e?void 0:e.style.display)?this.siteImproveIframeContainerIsShowing&&"none"===(null===(t=this.siteImproveIframeContainer)||void 0===t?void 0:t.style.display)&&this.onSiteImproveIframeContainerHidden():this.onSiteImproveIframeContainerShown()},this.onSiteImproveIframeContainerShown=()=>{this.siteImproveIframeContainerIsShowing=!0,this.onFrameOpenedCallback&&this.onFrameOpenedCallback()},this.onSiteImproveIframeContainerHidden=()=>{this.siteImproveIframeContainerIsShowing=!1,this.unhighlight(),this.onFrameClosedCallback&&this.onFrameClosedCallback()},this.highlight=e=>{var t,n;this.unhighlight(),this.highlightedElement=null===(n=null===(t=this.renderFrame)||void 0===t?void 0:t.contentWindow)||void 0===n?void 0:n.document.querySelector(e.highlights[0].selector),this.highlightedElement&&(this.highlightedElementOriginalOutline=this.highlightedElement.style.outline,this.highlightedElement.style.outline="2px solid red",this.highlightedElement.scrollIntoView())}}static init(){const e=new s;return e.moduleEnabled=e.isSiteImprovePluginEnabled()&&!!e.getActiveLiveLinkUrl(),e.moduleEnabled&&(e.populatePropertiesFromDocument(),e.SI.push(["onHighlight",e.highlight]),e.input()),e}reload(){this.moduleEnabled&&(this.populatePropertiesFromDocument(),this.input())}onFrameOpened(e){this.moduleEnabled&&(this.onFrameOpenedCallback=e)}onFrameClosed(e){this.moduleEnabled&&(this.onFrameClosedCallback=e)}domain(){this.moduleEnabled&&(""===this.token?this.getToken(this.pushDomain):this.pushDomain())}input(){this.moduleEnabled&&(""===this.token?this.getToken(this.pushInput):this.pushInput())}prepublishCheck(){this.moduleEnabled&&(this.trackPrepublishCheck(),""===this.token?this.getToken(this.pushPrepublishCheck):this.pushPrepublishCheck())}shrinkRenderIframeIfPossible(){if(!this.renderFrame||!this.siteImproveIframeContainer)return;const e=this.renderFrame.getBoundingClientRect().width,t=this.siteImproveIframeContainer.getBoundingClientRect().width;e-t-s.SPACE_BETWEEN_FRAMES<s.MIN_RENDER_FRAME_WIDTH||(this.renderFrame.style.width=`calc(100% - ${t+5}px)`)}restoreRenderIframeWidth(){this.renderFrame&&this.moduleEnabled&&(this.renderFrame.style.width="")}populatePropertiesFromDocument(){this.url=this.getActiveLiveLinkUrl()||"",this.SI=window._si,this.token=i.default.Variables.get("siteImproveToken"),this.renderFrame=document.querySelector("#asset-render"),this.waitForIframeContainer()}trackPrepublishCheck(){o.default.INTEGRATION.trackAssetEvent("Performed Siteimprove Prepublish Check",{url:this.url})}registerSiteImproveIframeContainer(e){this.siteImproveIframeContainer=e,new MutationObserver(this.onIframeContainerStyleChanged).observe(e,{attributes:!0,attributeFilter:["style"]}),this.onIframeContainerStyleChanged()}unhighlight(){this.highlightedElement&&(this.highlightedElement.style.outline=this.highlightedElementOriginalOutline||"",this.highlightedElement=null,this.highlightedElementOriginalOutline=null)}getToken(e){if(""!==this.token)return e();r.default.ajax({url:s.SI_FETCH_TOKEN_ACTION,success:t=>{if(t.siteImproveToken)return this.token=t.siteImproveToken,e()}})}getActiveLiveLinkUrl(){var e;return null===(e=document.querySelector("input.live-link.active"))||void 0===e?void 0:e.value}isSiteImprovePluginEnabled(){return i.default.Variables.get("siteImprovePluginEnabled")}pushInput(){this.SI.push(["input",this.url,this.token,null])}pushDomain(){this.SI.push(["domain",this.url,this.token,null])}pushPrepublishCheck(){var e,t;const n=null===(t=null===(e=this.renderFrame)||void 0===e?void 0:e.contentWindow)||void 0===t?void 0:t.document;n&&this.SI.push(["contentcheck-flat-dom",n,this.url,this.token])}}t.default=s,s.SI_FETCH_TOKEN_ACTION=a.default.absolutePath("/ajax/createSiteImproveToken.act"),s.SPACE_BETWEEN_FRAMES=5,s.MIN_RENDER_FRAME_WIDTH=375}.apply(t,i),void 0===r||(e.exports=r)},10504:function(e,t,n){var i,r;i=[n,t,n(7994),n(51668),n(98520)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);class o{constructor(e){this.name="snippets",this.commandName="mceSnippets",this.label="Snippets",this.icon="snippet",this.editor=e,this.addControls(),this.addCommand()}addControls(){this.editor.addButton(this.name,{tooltip:this.label,icon:this.icon,onclick:this.showFlyout.bind(this)}),this.editor.addMenuItem(this.name,{text:this.label,icon:this.icon,context:"insert",onclick:this.showFlyout.bind(this)})}addCommand(){this.editor.addCommand(this.commandName,this.showFlyout.bind(this))}showFlyout(){r.default.show((e=>this.editor.insertContent(e.snippetToken)))}}o.METADATA={name:"Cascade CMS Content Snippets plugin",url:"https://help.hannonhill.com/"},i.default.PluginManager.add("snippets",o)}.apply(t,i),void 0===r||(e.exports=r)},98720:function(e,t,n){var i,r,o=n(37549);i=[n,t,n(7994),n(30035),n(10861),n(74663),n(16412),n(53653)],r=function(e,t,n,i,r,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),t.default=class{static init(e){this.initializeWorkflowFunctionality(e),this.initializeMoveRenameWarnings(e),r.default.CONTENT.trackModalOpenedEvent("Move/Rename")}static initializeWorkflowFunctionality(e){o(".workflow-settings").length>0&&i.default.init(this.getParentFolderId(),"folder",e)}static initializeMoveRenameWarnings(e){const t=a.default.get("modalDomType");"rename"===e&&"file"===t&&l.default.init()}static getParentFolderId(){var e;const t=s.default.find('input[name="parentContainerId"]').val();if(t)return""+t;const n=o("#chooser-parentContainerId");return null===(e=(n.data("cs.chooser")||n.assetChooser().data("cs.chooser")).getAssetFromChosen())||void 0===e?void 0:e.id}}}.apply(t,i),void 0===r||(e.exports=r)},29521:function(e,t,n){var i,r,o=n(37549);i=[n,t,n(7994),n(93541),n(92648),n(50384),n(12596)],r=function(e,t,i,r,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performFromChooser=t.perform=void 0,r=(0,i.__importDefault)(r),a=(0,i.__importDefault)(a),s=(0,i.__importDefault)(s),l=(0,i.__importDefault)(l),t.perform=function(e,t,n){const i=r.default.UI.disableButton(this);let o=s.default.getSelectedAssets(e);a.default.isObject(n)&&(o=a.default.assign(n,o)),l.default.focusElementOnHide(this),l.default.open(t,o,a.default.bind(c,this),(t=>u(e,t)),i)},t.performFromChooser=function(e,t){const n=s.default.getSelectedAssets(e),i=o(this),d=i.data("cs.chooser")||i.assetChooser().data("cs.chooser"),h=d.getAssetFromChosen();n.containerId=h.id,n.containerType=h.type,d.setChosen({id:r.default.Variables.get("domId")}),l.default.focusElementOnHide(this),l.default.open(t,n,a.default.bind(c,this),(function(t){u(e,t)}))};const c=function(){const e={dom:"tp"};o(this).data("toggle")||new Promise(((e,t)=>{Promise.resolve().then(function(){var t=[n(16412)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(i.__importStar).then((e=>e.show())),s.default.init(o("#success-table"),null,e),s.default.init(o("#failure-table"),null,e)},u=(e,t)=>{s.default.deselectAllRows(e),e.ajax.reload((()=>s.default.processOperationResults(t.results,e)))};t.default={perform:t.perform,performFromChooser:t.performFromChooser}}.apply(t,i),void 0===r||(e.exports=r)},55419:function(e,t,n){var i,r=n(37549);i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static init(){const e=new n;return e.populatePropertiesFromDocument(),e.addEventListeners(),e}populatePropertiesFromDocument(){this.$agreedToTermsCheckbox=r("#agreedToTerms"),this.$aiFeaturesEnabledCheckbox=r("#aiFeaturesEnabled")}addEventListeners(){this.$agreedToTermsCheckbox.on("change",(e=>{const t=e.currentTarget.checked;this.$aiFeaturesEnabledCheckbox.prop("disabled",!t),t||this.$aiFeaturesEnabledCheckbox.prop("checked","")}))}}t.default=n}.apply(t,[n,t]),void 0===i||(e.exports=i)},6682:function(e,t,n){var i,r;i=[n,t,n(7994),n(16412),n(41877)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),t.default=class{static init(){r.default.initBrowserDragUpload(i.default.find(),(e=>{i.default.find("#content-editor").text(e)}))}}}.apply(t,i),void 0===r||(e.exports=r)},97934:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648),n(93541)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);class o{constructor(e,t){this.value=e,this.formTemplateElement=document.getElementById("word-form-tpl"),this.formTemplate=i.default.template(this.formTemplateElement.innerHTML),this.onSubmit=t,this.originalValue=e,this.editable=this.createEditableElement(),this.form=this.createForm(),this.registerDomEvents()}static replaceValueWithEditable(e,t){try{const n=new o(e.textContent||"",t);e.replaceWith(n.editable)}catch(e){console.error(e)}}registerDomEvents(){this.editable.addEventListener("focus",(()=>{var e;this.editable.replaceWith(this.form),null===(e=this.form.querySelector("input"))||void 0===e||e.focus()})),this.form.addEventListener("submit",(e=>{const t=new FormData(this.form).get("value");e.preventDefault(),t!==this.originalValue?(this.value=t,this.editable.textContent=t,this.form.replaceWith(this.editable),this.onSubmit(this)):this.form.replaceWith(this.editable)})),this.form.addEventListener("reset",(e=>{e.preventDefault(),this.form.elements.namedItem("value").value=this.originalValue,this.form.replaceWith(this.editable)}))}createEditableElement(){const e=document.createElement("div");return e.contentEditable="plaintext-only",e.classList.add("inline-edit-value","form-control"),e.setAttribute("aria-label",r.default.I18n.get("label.dictionary.click.to.edit").replaceAll("{0}",i.default.escape(this.value))),e.textContent=this.value,e}createForm(){const e=document.createElement("form");return e.classList.add("form-inline-value"),e.innerHTML=this.formTemplate({value:this.value}),e}}t.default=o}.apply(t,i),void 0===r||(e.exports=r)},83126:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(4258),n(12596),n(14741),n(50384),n(89152),n(93660),n(97934)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h);class f{constructor(){this.datatable=c.default.init((0,i.default)("#dictionaryTable"),null,{ajax:{url:f.GET_WORDS_ACTION,dataSrc:"words"},order:[[1,"asc"]],columns:[{data:"id",render:(e,t,n,i)=>"display"===t?`<span class="inline-edit-value">${e}</span>`:e}],createdRow:(e,t,n)=>{const i=e.querySelector(".inline-edit-value");h.default.replaceValueWithEditable(i,(e=>this.handleWordUpdate(e)))},initComplete:()=>a.default.init(this.datatable)}),this.createWordsButton=document.getElementById("create-words"),this.copyWordsButton=document.getElementById("copy-words"),this.deleteWordsButton=document.getElementById("delete-words"),this.registerDomEvents()}static init(){new f}registerDomEvents(){u.default.addEventListener(this.createWordsButton,"click",this.handleCreateClick.bind(this)),u.default.addEventListener(this.copyWordsButton,"click",this.handleCopyClick.bind(this)),u.default.addEventListener(this.deleteWordsButton,"click",this.handleDeleteClick.bind(this))}handleCreateClick(e){const t=o.default.UI.disableButton(e.currentTarget);s.default.focusElementOnHide(e.currentTarget),s.default.open(f.ADD_WORD_ACTION,{},null,this.reloadTable.bind(this),t)}handleWordUpdate(e){const{originalValue:t,value:n}=e,r={word:t,newWord:n};i.default.post(f.EDIT_WORD_ACTION,r,this.processOperationResponse.bind(this))}handleCopyClick(e){const t=o.default.UI.disableButton(e.currentTarget);s.default.focusElementOnHide(e.currentTarget),s.default.open(f.COPY_WORDS_ACTION,{},null,this.reloadTable.bind(this),t)}handleDeleteClick(e){const t=o.default.UI.disableButton(e.currentTarget);if(confirm(o.default.I18n.get("prompt.dictionary.word.delete"))){const e=this.getSelectedWords();c.default.performMultiOp(f.MULTISUBMIT_DELETE_ACTION,e,this.datatable,this.processOperationResponse.bind(this),t)}else t()}processOperationResponse(e){l.default.showFromJsonResponse(e),this.reloadTable()}reloadTable(){this.datatable.ajax.reload()}getSelectedWords(){let e=(0,i.default)(this.datatable.table().node()).data("rowsSelected");const t=[];return r.default.isEmpty(e)&&(e=this.datatable.rows({selected:!0}).data()||{}),r.default.forEach(e,((e,n)=>{t.push(e.id)})),{selectedWords:t}}}t.default=f,f.GET_WORDS_ACTION=d.default.absolutePath("/ajax/dictionary.act"),f.ADD_WORD_ACTION=d.default.absolutePath("/ajax/dictionary/create.act"),f.COPY_WORDS_ACTION=d.default.absolutePath("/ajax/dictionary/copy.act"),f.EDIT_WORD_ACTION=d.default.absolutePath("/ajax/dictionary/edit.act"),f.MULTISUBMIT_DELETE_ACTION=d.default.absolutePath("/ajax/dictionary/delete.act")}.apply(t,i),void 0===r||(e.exports=r)},96253:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(50384),n(12596),n(93660)],r=function(e,t,i,r,o,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=(0,i.__importDefault)(r),o=(0,i.__importDefault)(o),a=(0,i.__importDefault)(a),s=(0,i.__importDefault)(s),l=(0,i.__importDefault)(l),c=(0,i.__importDefault)(c),t.default=class{static init(){const e=(0,r.default)("#allowedUrlsTable"),t=s.default.init(e,null,{ajax:{url:c.default.absolutePath("/ajax/allowedurls.act"),dataSrc:"allowedUrls"},order:[[1,"asc"]],columns:[{data:"u"},{data:"s",render:e=>e?'<i class="ci ci-check" role="img" aria-label="yes"></i>':""}]}),u=function(e){const t=d(e),n=[];return o.default.forEach(t,(function(e){n.push(e.u)})),{selectedUrls:n}},d=e=>{let t=(0,r.default)(e.table().node()).data("rowsSelected");return o.default.isEmpty(t)?e.rows({selected:!0}).data()||{}:t},h=function(){const e={dom:"tp"};(0,r.default)(this).data("toggle")||new Promise(((e,t)=>{Promise.resolve().then(function(){var t=[n(16412)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(i.__importStar).then((e=>{e.show()})),s.default.init((0,r.default)("#success-table"),null,e),s.default.init((0,r.default)("#failure-table"),null,e)};(0,r.default)(".delete-selection").on("click",(function(){((n,i)=>{const r=a.default.UI.disableButton(n),c=u(t);l.default.focusElementOnHide(e),l.default.open(i,c,o.default.bind(h,n),(function(e){!function(e){const n=e.results;s.default.deselectAllRows(t),s.default.processOperationResults(n,t),t.ajax.reload()}(e)}),r)})(this,c.default.absolutePath("/ajax/allowedurls/delete.act"))})),(0,r.default)(".edit-selection").on("click",(e=>{const n=e.target,i=a.default.UI.disableButton(n),r=u(t);l.default.focusElementOnHide(n),l.default.open(c.default.absolutePath("/ajax/allowedurls/edit.act"),{url:r.selectedUrls[0]},null,(()=>{s.default.deselectAllRows(t),t.ajax.reload()}),i)})),(0,r.default)("#create-url-link").on("click",(e=>{const n=e.target,i=a.default.UI.disableButton(n);l.default.focusElementOnHide(n),l.default.open(c.default.absolutePath("/ajax/allowedurls/create.act"),{},null,(()=>{t.ajax.reload()}),i)}))}}}.apply(t,i),void 0===r||(e.exports=r)},66521:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(51517),n(14741),n(47130),n(96253),n(93660),n(26742)],r=function(e,t,n,i,r,o,a,s,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d);const h=(e,t)=>{i.default.post(u.default.absolutePath("/ajax/externallinkchecking/update.act"),{preferenceKey:e,preferenceValue:t},(e=>{e.error?s.default.showText(e.error,{type:"danger"}):s.default.show(e.success,{type:"success"})})).fail((e=>s.default.showText(d.default.getAjaxResponseError(e),{type:"danger"})))};a.default.init(),c.default.init(),(0,i.default)("[data-preference-key]").on("change",r.default.debounce((e=>{const t=e.target,n=t.dataset.preferenceKey;n&&("checkbox"===t.type?h(n,t.checked):t.checkValidity()&&h(n,t.value))}),250)),new l.default({onChange:e=>{h(o.default.Variables.get("validResponseCodesPreferenceKey"),e.join(";"))}})}.apply(t,i),void 0===r||(e.exports=r)},47130:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648),n(89152)],r=function(e,t,n,i,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);const a=i.default.template(null===(o=document.getElementById("valid-response-code-tpl"))||void 0===o?void 0:o.innerHTML);t.default=class{constructor(e){var t;this.validResponseCodes=[],this.validResponseCodesElem=document.getElementById("valid-response-codes"),this.validResponseCodesTagsElem=document.getElementById("valid-response-codes-tags"),this.onChange=e.onChange,null===(t=this.validResponseCodesElem)||void 0===t||t.querySelectorAll(".tag").forEach((e=>{const t=e.dataset.responseCode||"";this.isCodeValid(t)&&this.validResponseCodes.push(t)})),this.refreshUI(),(e=>{var t;null===(t=e.validResponseCodesElem)||void 0===t||t.addEventListener("click",(t=>{const n=t.target,i=r.default.getClosestParent(n,".tag-remove");if(!i)return;const o=r.default.getClosestParent(i,".tag");o&&e.removeValidResponseCode(o.dataset.responseCode)}))})(this),(e=>{const t=document.getElementById("add-valid-response-code"),n=document.getElementById("newValidResponseCode"),i=()=>{e.addValidResponseCode(n.value),n.value=""};t.addEventListener("click",i),n.addEventListener("keydown",(e=>{"Enter"===e.key&&i()}))})(this)}addValidResponseCode(e){e&&this.isCodeValid(e)&&(this.validResponseCodes.push(e),this.refreshUI(),this.highlightValidResponseCodeTag(e),this.onChange&&this.onChange(this.validResponseCodes))}removeValidResponseCode(e){this.validResponseCodes=this.validResponseCodes.filter((t=>t!==e)),this.refreshUI(),this.onChange&&this.onChange(this.validResponseCodes)}isCodeValid(e){return!Number.isNaN(Number(e))&&!this.validResponseCodes.includes(e)}refreshUI(){const e=this.validResponseCodes.sort().map((e=>a({code:e})));this.validResponseCodesTagsElem&&(this.validResponseCodesTagsElem.innerHTML=e.join(""))}highlightValidResponseCodeTag(e){var t;const n=null===(t=this.validResponseCodesTagsElem)||void 0===t?void 0:t.querySelector(".tag[data-response-code='"+e+"']");n&&(n.classList.add("tag-highlight"),setTimeout((()=>n.classList.remove("tag-highlight")),4e3))}}}.apply(t,i),void 0===r||(e.exports=r)},4345:function(e,t,n){var i,r;i=[n,t,n(7994),n(51517),n(1462),n(91267),n(4639),n(98279)],r=function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),t.default=class{static init(){i.default.init(),r.default.init(),o.default.init(),a.default.init(),s.default.init()}}}.apply(t,i),void 0===r||(e.exports=r)},98279:function(e,t,n){var i,r,o=n(37549);i=[n,t,n(7994),n(93541),n(10776),n(14741),n(26742),n(93660)],r=function(e,t,n,i,r,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l);class c{static init(){const e=new c;return e.populatePropertiesFromDocument(),e.addEventListeners(),e}populatePropertiesFromDocument(){this.smtpHostField=document.getElementById("smtpHost"),this.smtpPortField=document.getElementById("smtpPort"),this.smtpUsernameField=document.getElementById("smtpUsername"),this.smtpPasswordField=document.getElementById("smtpPassword"),this.smtpFromAddressField=document.getElementById("smtpFromAddress"),this.secureSmtpField=document.getElementById("secureSMTP"),this.testEmailField=document.getElementById("testEmail"),this.testEmailButton=document.getElementById("testEmailButton")}addEventListeners(){this.secureSmtpField.addEventListener("change",(()=>{this.smtpPortField.value=this.secureSmtpField.checked?"465":"25"})),this.testEmailButton.addEventListener("click",(()=>{const e=i.default.UI.disableButton(this.testEmailButton);r.default.start(),o.post(l.default.absolutePath(c.TEST_EMAIL_URL),this.getTestEmailParameters(),(t=>{const n=s.default.getJsonResponseStatus(t);a.default.showHtml(n.message,{type:n.status}),r.default.done(),e()}),"json")}))}getTestEmailParameters(){return{host:this.smtpHostField.value,port:this.smtpPortField.value,username:this.smtpUsernameField.value,password:this.smtpPasswordField.value,fromAddress:this.smtpFromAddressField.value,toAddress:this.testEmailField.value,smtps:this.secureSmtpField.checked}}}t.default=c,c.TEST_EMAIL_URL="/administration/preferences/testemail.act"}.apply(t,i),void 0===r||(e.exports=r)},4639:function(e,t,n){var i,r;i=[n,t,n(7994),n(53941)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i);class r{static init(){const e=new r;return e.populatePropertiesFromDocument(),e.settingsElement&&(e.showHideLinkCheckerFrequencyFields(),e.frequencyDropdown.addEventHandler("change",(()=>e.showHideLinkCheckerFrequencyFields()))),e}populatePropertiesFromDocument(){this.settingsElement=document.querySelector("#linkchecker-settings"),this.settingsElement&&(this.frequencyDropdown=new i.default(document.querySelector("#linkCheckerFrequency")),this.frequencyDaysElement=document.querySelector(".linkCheckerFrequencyDays"),this.frequencyTimeElement=document.querySelector(".linkCheckerFrequencyTime"))}showHideLinkCheckerFrequencyFields(){const e=this.frequencyDropdown.getValue();this.frequencyDaysElement.classList.toggle("hide","weekly"!==e),this.frequencyTimeElement.classList.toggle("hide","daily"!==e&&"weekly"!==e)}}t.default=r}.apply(t,i),void 0===r||(e.exports=r)},1462:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(89492),n(53376)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a);class s{constructor(){this.validationEnabled=!1}static init(){const e=new s;return e.populatePropertiesFromDocument(),e.toggleMaxIndexBlockSizeWarning(),e.addEventListeners(),e}populatePropertiesFromDocument(){this.field=document.getElementById("maxIndexBlockSize"),this.maxIndexBlockSizeWarningElement=document.getElementById("max-index-block-size-warning"),this.softMax=parseInt(this.field.dataset.maxMemoryGb||"");const e=this.field.dataset.ruleRange;if(!e)throw new Error("Could not determine hard max");this.hardMax=JSON.parse(e)[1]}addEventListeners(){this.field.addEventListener("input",(()=>{this.toggleMaxIndexBlockSizeWarning(),this.enableValidation()})),a.default.addSubmitHandler(a.default.getStandardForm(),(()=>this.maxIndexBlockSizeHardMaxConfirmation()))}enableValidation(){this.validationEnabled||(this.field.classList.remove("novalidation"),o.default.validateField((0,i.default)(this.field)),this.validationEnabled=!0)}maxIndexBlockSizeHardMaxConfirmation(){return!(!this.validationEnabled&&this.isHardMaxExceeded())||confirm(r.default.I18n.get("message.warning.max.index.block.size.confirmation"))}toggleMaxIndexBlockSizeWarning(){this.maxIndexBlockSizeWarningElement.classList.toggle("hide",this.isWithinSoftMax())}isHardMaxExceeded(){return this.getCurrentValue()>this.hardMax}isWithinSoftMax(){return this.getCurrentValue()<=this.softMax}getCurrentValue(){return parseInt(this.field.value)}}t.default=s}.apply(t,i),void 0===r||(e.exports=r)},91267:function(e,t,n){var i,r,o=n(37549);i=[n,t,n(7994),n(93541),n(10776),n(14741),n(26742),n(93660)],r=function(e,t,n,i,r,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l);class c{constructor(){this.enableDisablePrepublishVerify=()=>{const e=this.apiUsernameField.value,t=this.apiKeyField.value;this.verifyButton.disabled=!e||!t},this.verify=()=>{const e={username:this.apiUsernameField.value,key:this.apiKeyField.value},t=i.default.UI.disableButton(this.verifyButton);r.default.start(),o.post(l.default.absolutePath(c.VERIFY_URL),e,(e=>{const n=s.default.getJsonResponseStatus(e);a.default.showHtml(n.message,{type:n.status}),n.message&&(this.resultElement.textContent=n.message),r.default.done(),t()}),"json")}}static init(){const e=new c;return e.populatePropertiesFromDocument(),e.settingsElement&&(e.enableDisablePrepublishVerify(),e.apiKeyField.addEventListener("input",e.enableDisablePrepublishVerify),e.apiUsernameField.addEventListener("input",e.enableDisablePrepublishVerify),e.verifyButton.addEventListener("click",e.verify)),e}populatePropertiesFromDocument(){this.settingsElement=document.querySelector("#siteimprove-settings"),this.apiUsernameField=document.querySelector("#siteImproveApiUsername"),this.apiKeyField=document.querySelector("#siteImproveApiKey"),this.verifyButton=document.querySelector("#siteImprovePerformVerification"),this.resultElement=document.querySelector("#siteImprovePrepublishCheckResult")}}t.default=c,c.VERIFY_URL="/ajax/siteimprove/prepublishverify.act"}.apply(t,i),void 0===r||(e.exports=r)},58801:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648),n(93541)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);class o{constructor(e,t,n){this.snippet=e,this.property=t,this.formTemplateElement=document.getElementById("snippet-property-form-tpl"),this.formTemplate=i.default.template(this.formTemplateElement.innerHTML),this.editableTemplateElement=document.getElementById("snippet-property-editable-tpl"),this.editableTemplate=i.default.template(this.editableTemplateElement.innerHTML),this.onSubmit=n,this.originalValue=this.snippet[this.property]||"",this.editableContainer=this.createEditableElement(),this.editable=this.editableContainer.querySelector(".inline-edit-value"),this.form=this.createForm(),this.registerDomEvents()}static replaceValueWithEditable(e){const{snippet:t,element:n,property:i,onSubmit:r}=e;try{const e=new o(t,i,r);n.replaceWith(e.editableContainer)}catch(e){console.error(e)}}registerDomEvents(){this.editable.addEventListener("focus",(()=>{var e;this.editableContainer.replaceWith(this.form),null===(e=this.form.querySelector("input"))||void 0===e||e.focus()})),this.form.addEventListener("submit",(e=>{const t=new FormData(this.form).get("property");e.preventDefault(),t!==this.originalValue?(this.snippet[this.property]=t,this.editable.textContent=t,this.form.replaceWith(this.editableContainer),this.onSubmit(this)):this.form.replaceWith(this.editableContainer)})),this.form.addEventListener("reset",(e=>{e.preventDefault(),this.form.elements.namedItem("property").value=this.originalValue,this.form.replaceWith(this.editableContainer)}))}createEditableElement(){const e=document.createElement("div");return e.classList.add("inline-edit-container"),e.innerHTML=this.editableTemplate({snippet:this.snippet,property:this.property,ariaLabel:r.default.I18n.get("label.snippet.click.to.edit.snippet").replace("{0}",this.snippet.name)}),e}createForm(){const e=document.createElement("form");return e.classList.add("form-inline-value"),e.innerHTML=this.formTemplate({snippet:this.snippet,property:this.property,placeholder:r.default.I18n.get(`label.snippet.${this.property}.placeholder`)}),e}}t.default=o}.apply(t,i),void 0===r||(e.exports=r)},5863:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i);class r{constructor(e,t){this.syncEnabled=!0,this.input=e,this.nameInput=t,this.debouncedOnNameInput=i.default.debounce(this.onNameInput.bind(this),r.DEBOUNCE_TIMING_MS),this.debouncedSyncName=i.default.debounce(this.onSyncName.bind(this),r.DEBOUNCE_TIMING_MS),this.nameInput.addEventListener("input",this.debouncedOnNameInput),this.input.addEventListener("input",this.debouncedSyncName)}static init(e,t){if(!e||!t)throw new Error("Inputs must not be null.");return new r(e,t)}onSyncName(){this.syncEnabled&&(this.nameInput.value=this.normalizedTitleValue,this.nameInput.dispatchEvent(new CustomEvent("input",{detail:{source:"sync"}})))}onNameInput(e){var t;const n=null===(t=e)||void 0===t?void 0:t.detail;"sync"!==(null==n?void 0:n.source)&&(this.syncEnabled=this.nameInput.value===this.normalizedTitleValue)}get normalizedTitleValue(){return(this.input.value||"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-+/g,"").substring(0,250)}}t.default=r,r.DEBOUNCE_TIMING_MS=250}.apply(t,i),void 0===r||(e.exports=r)},25377:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(51517),n(10861),n(14741),n(12596),n(29521),n(50384),n(89152),n(93660),n(58801),n(5863),n(98520)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f),p=(0,n.__importDefault)(p),A=(0,n.__importDefault)(A);const m=f.default.absolutePath("/ajax/snippets/create.act"),v=f.default.absolutePath("/ajax/relationships.act"),y=f.default.absolutePath("/ajax/snippets/submit.act"),b=f.default.absolutePath("/ajax/snippets/confirmDelete.act"),w=e=>{const t=e.target,n={id:t.dataset.snippetId,type:"snippet"};e.stopPropagation(),c.default.focusElementOnHide(t),c.default.open(v,n,(()=>{s.default.CONTENT.trackReportEvent("Snippets","Opened Relationships Modal",n)}))},x=(e,t,n)=>"display"===n?`<span class="inline-edit-${t}">${r.default.escape(e[t])}</span>`:e[t];t.default=class{static init(){const e=document.getElementById("snippetsTable");if(!e)return void console.debug("Snippets table not found, skipping initialization.");const t=(0,i.default)(e),n=d.default.init(t,null,{ajax:{url:g.GET_SNIPPETS_ACTION,dataSrc:"snippets"},order:[[1,"asc"]],columns:[{data:"name"},{data:null,render:(e,t,n,i)=>x(n,"title",t)},{data:null,render:(e,t,n,i)=>x(n,"value",t)},{data:null,orderable:!1,searchable:!1,render:(e,t,n,i)=>`<button type="button" class="btn btn-ghost btn-sm relationships" data-snippet-id="${n.id}">Relationships</button>`}],createdRow:(e,t)=>((e,t,n)=>{t.querySelectorAll(".inline-edit-title, .inline-edit-value").forEach((t=>{const r=t.classList.contains("inline-edit-title")?"title":"value",o={snippet:e,element:t,property:r,onSubmit:e=>((e,t)=>{const{id:n,title:r,value:o}=e.snippet;i.default.post(y,{id:n,title:r,value:o},(e=>{l.default.showFromJsonResponse(e),t.ajax.reload()}))})(e,n)};p.default.replaceValueWithEditable(o)}))})(t,e,n)});(0,i.default)("#delete-snippets").on("click",(e=>{u.default.perform.call(e.currentTarget,n,b,{})})),(0,i.default)("#create-snippet").on("click",(e=>{const t=e.currentTarget,i=o.default.UI.disableButton(t);c.default.focusElementOnHide(t),c.default.open(m,{},(()=>(()=>{const e=c.default.find(),t=e[0],n=t.querySelector("input#title"),i=t.querySelector("input#name");a.default.init(e),A.default.init(n,i)})()),(()=>(e=>e.ajax.reload())(n)),i)})),h.default.addEventListener(e,"click",w,".relationships")}}}.apply(t,i),void 0===r||(e.exports=r)},61700:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(93405),n(93660)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);class a{static load(e){const t=document.getElementById("content-preview");if(t){const n={url:o.default.absolutePath("/render/block.act"),params:{id:a.domId,type:"block",renderMode:e},container:t};r.default.load(n)}}}t.default=a,a.domId=i.default.Variables.get("domId")}.apply(t,i),void 0===r||(e.exports=r)},18541:function(e,t,n){var i,r;i=[n,t,n(7994),n(61700),n(93405),n(15037),n(28327)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(i=(0,n.__importDefault)(i)).default.load(r.RenderMode.XML)}.apply(t,i),void 0===r||(e.exports=r)},41645:function(e,t,n){var i,r;i=[n,t,n(7994),n(61700),n(93405),n(89152),n(15037),n(28327)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),o=(0,n.__importDefault)(o),i.default.load(r.RenderMode.XML),o.default.addClass(document.body,"asset-image-scaled")}.apply(t,i),void 0===r||(e.exports=r)},35058:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(61700),n(93405),n(15037),n(28327)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);const s=(0,i.default)("#render-preview"),l=(0,i.default)("#tab-content-preview"),c=(0,i.default)(window),u=()=>{var e,t=(c.height()||0)-(((null===(e=s.offset())||void 0===e?void 0:e.top)||0)+24);t>100&&s.height(t)};l.on("shown.bs.tab",(()=>o.default.load(a.RenderMode.XML))),c.on("resize orientationchange",r.default.debounce(u,200)),u()}.apply(t,i),void 0===r||(e.exports=r)},14350:function(e,t,n){var i,r;i=[n,t,n(7994),n(61700),n(93405),n(15037),n(28327)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(i=(0,n.__importDefault)(i)).default.load(r.RenderMode.TEXT)}.apply(t,i),void 0===r||(e.exports=r)},90368:function(e,t,n){var i,r;i=[n,t,n(7994),n(61700),n(93405),n(15037),n(28327)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(i=(0,n.__importDefault)(i)).default.load(r.RenderMode.XML)}.apply(t,i),void 0===r||(e.exports=r)},9595:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(16412),n(12596),n(41877),n(43200),n(53376),n(99274),n(26742),n(26340),n(53653),n(93660)],r=function(e,t,i,r,o,a,s,l,c,u,d,h,f,p,A,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=(0,i.__importDefault)(r),o=(0,i.__importDefault)(o),a=(0,i.__importDefault)(a),s=(0,i.__importDefault)(s),l=(0,i.__importDefault)(l),c=(0,i.__importDefault)(c),u=(0,i.__importDefault)(u),d=(0,i.__importDefault)(d),h=(0,i.__importDefault)(h),f=(0,i.__importDefault)(f),p=(0,i.__importDefault)(p),A=(0,i.__importDefault)(A),g=(0,i.__importDefault)(g);class m{init(e){const t=e.querySelectorAll(".image-editor"),o=(e,t)=>{this.makeImageEditorOperationRequest(e,t)};t.length&&new Promise(((e,t)=>{n.e(9348).then(function(){var t=[n(29348)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(i.__importStar).then((()=>{t.forEach((e=>{(0,r.default)(e).cascadeImageEditor({onUndo:function(){o(this,"op=undo")},onRedo:function(){o(this,"op=redo")},onResize:function(){const e=this.Toolbar.controls.resize.$elem,t=""+e.find('input[name="height"]').val(),n=""+e.find('input[name="width"]').val();this.ui.$image.click(),o(this,"op=resize&width="+n+"&height="+t)},onCrop:function(){const e=this.Cropper.getCurrentSelection();o(this,"op=crop&x="+e.x1+"&y="+e.y1+"&width="+e.width+"&height="+e.height)},onRotateCounterclockwise:function(){o(this,"op=rotate&angle=-90")},onRotateClockwise:function(){o(this,"op=rotate&angle=90")},onFlipHorizontal:function(){o(this,"op=flip&direction=h")},onFlipVertical:function(){o(this,"op=flip&direction=v")}})}))}))}getFieldValue(e,t){const n=e.querySelector('[name="'+t+'"]');return(null==n?void 0:n.value)||""}makeImageEditorOperationRequest(e,t){const n=this.appendFileUploadData(t);r.default.ajax({url:m.IMG_EDITOR_ACTIONS,type:"POST",data:n,cache:!1,success:t=>{if(t&&t.success){const n=document.getElementsByName("storedFileUploadId")[0].value;if(n){const t=document.getElementsByName("storedFileUploadOriginalName")[0].value;e.updateImageSrc(g.default.absolutePath("/render/file.act",{uploadId:n,uploadName:t,t:""+(new Date).getTime()}))}document.getElementsByName("imageOperationsString")[0].value=t.imageOperationsString}else alert(t.error),e.HistoryManager.reset()},error:()=>{alert(a.default.I18n.get("error.imageeditor.ajax.request")),e.HistoryManager.reset()}})}appendFileUploadData(e){const t=s.default.find("form")[0];return t?e+"&storedFileUploadId="+encodeURIComponent(this.getFieldValue(t,"storedFileUploadId"))+"&storedFileUploadOriginalName="+encodeURIComponent(this.getFieldValue(t,"storedFileUploadOriginalName"))+"&originalFileUploadId="+encodeURIComponent(this.getFieldValue(t,"originalFileUploadId"))+"&imageOperationsString="+encodeURIComponent(this.getFieldValue(t,"imageOperationsString")):""}}m.IMG_EDITOR_ACTIONS=g.default.absolutePath("/ajax/imgEditorActions.act");class v{init(e){const t=e.querySelectorAll(".code-editor");t.length&&new Promise(((e,t)=>{Promise.resolve().then(function(){var t=[n(2546)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(i.__importStar).then((()=>{t.forEach((e=>{(0,r.default)(e).cascadeCodeEditor()}))}))}}class y{init(){(0,r.default)("#unzip-yes").on("click",(e=>{const t=e.target;h.default.submitAsDraft({background:!0}).then((()=>{l.default.focusElementOnHide(t),d.default.ajaxModify(u.default.find("form"),g.default.absolutePath("/entity/unpack.act"),{replaceModal:!0})}))}));const e=(0,r.default)("#uploadedFileName").text();e&&(0,r.default)("#zip-detect").toggleClass("hide",!o.default.endsWith(e,".zip"))}}class b{init(){const e=s.default.find()[0];(new m).init(e),(new v).init(e),(new y).init()}}class w{init(e){c.default.initBulkUploader(w.SINGLE_FILE_UPLOAD_URL,w.BULK_FILE_UPLOAD_URL,!1,(e=>{if(d.default.toggleFormButtonsOff(u.default.find("form")),c.default.canBulkUpload()&&c.default.hasFile())return c.default.sendBulkUpload(e,w.BULK_FILE_UPLOAD_URL,this.successSendCallback),!1}),(t=>{const n=p.default.get().fieldElement,i=n?(0,r.default)(n):(0,r.default)();i.length&&c.default.hasFile()&&(c.default.updateNameFieldWithUploadedFileName(t),i.valid(),e.updateRewriteLinksField()),(new b).init()}),this.successSendCallback)}successSendCallback(e,t){if(d.default.toggleFormButtonsOn(u.default.find("form")),e){if(!t)return;const e=f.default.parseJson(t,null);if(e){const t=f.default.getJsonResponseStatus(e);s.default.find("#fileUploadError").removeClass("hide").text(t.message),s.default.find("#uploadProgress").hide()}else c.default.destroy(),h.default.stopAutosave(),s.default.refresh(t,(()=>{s.default.find("form").attr("data-ajax-submit","true").attr("data-disable-draft","true")}))}}}w.SINGLE_FILE_UPLOAD_URL=g.default.absolutePath("/ajax/uploadFile.act"),w.BULK_FILE_UPLOAD_URL=g.default.absolutePath("/ajax/bulkUploadFile.act");class x{init(){return s.default.find("#shouldRewriteLinks").on("change",(()=>this.updateRewriteLinksField())),this.updateRewriteLinksField(),s.default.find("#useCustomLinkRewriting").on("change",(()=>this.toggleLinkRewritingVisibility())),this.toggleLinkRewritingVisibility(),this}updateRewriteLinksField(){const e=p.default.get().fieldElement,t=e?(0,r.default)(e):(0,r.default)(),n=s.default.find("#linkRewriting"),i=s.default.find("#shouldRewriteLinks").prop("checked"),o=""+(t.length?t.val():a.default.Variables.get("modalDomName")),l=f.default.getFileExtension(o),c=!l||-1!==a.default.Variables.get("editableTextFileExtensions").indexOf(l);n.toggle(c&&i)}toggleLinkRewritingVisibility(){const e=s.default.find("#useCustomLinkRewriting").prop("checked");s.default.find("#link-rewriting-site-setting").toggle(!e),s.default.find("#link-rewriting-asset-setting").toggle(e)}}class C{init(){(0,r.default)("#chooser-metadataSetId").on("submit.cs.chooser.panel",(()=>{d.default.updateForm(u.default.find())}))}}t.default=class{static init(){u.default.init("file");const e=(new x).init();(new b).init(),(new w).init(e),(new C).init(),A.default.init()}}}.apply(t,i),void 0===r||(e.exports=r)},22455:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(89152),n(93405),n(93660),n(15037),n(28327)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a);const s=document.getElementById("content-preview"),l=document.getElementById("file-preview-frame");if(s){const e={url:a.default.absolutePath("/render/file.act"),params:{id:i.default.Variables.get("domId"),type:"file",forcePlainText:!0},container:s,editorOptions:{filePath:s.dataset.filename}};o.default.load(e)}l&&l.setAttribute("src",l.dataset.src||"");const c=document.querySelector(".asset-image");r.default.addEventListener(c,"click",(()=>r.default.toggleClass(c,"asset-image-scaled")))}.apply(t,i),void 0===r||(e.exports=r)},41147:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(50384)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),t.default=class{static init(){["success","failure"].forEach((e=>{const t=(0,i.default)(`#${e}-table`);t.length&&r.default.init(t)}))}}}.apply(t,i),void 0===r||(e.exports=r)},80388:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(93405),n(93660),n(15037),n(28327)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);const a=document.getElementById("content-preview"),s=null==a?void 0:a.dataset.editorMode,l=o.default.absolutePath("/render/"+("xml"===s?"entityXML":"velocityFormat")+".act");if(a){const e={url:l,params:{id:i.default.Variables.get("domId"),type:"format"},container:a,editorOptions:{ace:{mode:s}}};r.default.load(e)}}.apply(t,i),void 0===r||(e.exports=r)},97449:function(){document.getElementById("timeZone").value=getTimeZone()},11084:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(16412),n(76229),n(12596),n(39726)],r=function(e,t,i,r,o,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=(0,i.__importDefault)(r),o=(0,i.__importDefault)(o),a=(0,i.__importDefault)(a),s=(0,i.__importDefault)(s),l=(0,i.__importDefault)(l),c=(0,i.__importDefault)(c),t.default=class{static init(){s.default.init("page"),s.default.find(".block-edit, .format-edit").on("click",(e=>{const t=e.currentTarget,n=o.default.UI.disableButton(t);l.default.focusElementOnHide(t),l.default.open(t.getAttribute("data-url"),{},null,null,n)}));const e=s.default.find(".code-editor");e.length&&new Promise(((e,t)=>{Promise.resolve().then(function(){var t=[n(2546)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(i.__importStar).then((()=>e.each(((e,t)=>(0,r.default)(t).cascadeCodeEditor())))),a.default.deferIfBackgroundModal(c.default.init)}}}.apply(t,i),void 0===r||(e.exports=r)},27424:function(e,t,n){var i,r;i=[n,t,n(7994),n(16412),n(76229),n(88351),n(53376),n(39726)],r=function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s);class l{toggleLinkRewritingVisibility(){const e=r.default.find("#useCustomLinkRewriting").prop("checked");r.default.find("#link-rewriting-site-setting").toggle(!e),r.default.find("#link-rewriting-asset-setting").toggle(e)}static init(){const e=new l,t=r.default.find();return r.default.init("page"),t.find("#useCustomLinkRewriting").on("change",(()=>e.toggleLinkRewritingVisibility())),e.toggleLinkRewritingVisibility(),o.default.initialize(),t.find("#contenttype-configuration-choosers").on("submit.cs.chooser.panel",".chooser",(()=>a.default.updateForm(t,{skipPersistCollapsedStates:!0}))),i.default.deferIfBackgroundModal(s.default.init),e}}t.default=l}.apply(t,i),void 0===r||(e.exports=r)},68398:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(16412),n(29894)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);class a{constructor(e){this.previewElement=e.querySelector("#edit-preview"),this.renderUrl=this.previewElement.dataset.src||"",this.editingEntityId=this.previewElement.dataset.id||"",this.iframe=this.previewElement.querySelector("iframe"),this.loader=new o.default(this.previewElement),this.onFrameLoadedHandler=e=>this.frameLoaded(e)}static init(e){return new a(e)}toggle(e){this.previewElement.classList.toggle("hide",!e),e?this.buffer():this.destroyComponents()}buffer(){this.loader.loading(),this.renderFrameInBackground()}destroy(){this.destroyComponents(),this.previewElement.remove()}destroyComponents(){this.unloadFrame(this.iframe),this.loader.destroy()}frameLoaded(e){const t=e.target,n=this.frameBodyScrollPosition,i=this.shouldRetainFocus();this.unloadFrame(this.iframe),this.iframe=t,this.iframe.dataset.current="",this.loader.loaded(),this.frameBodyScrollPosition=n,this.retainFocus(i)}shouldRetainFocus(){return null!==document.activeElement&&null!==this.iframe&&i.default.contains(this.iframe,document.activeElement)}get frameBodyScrollPosition(){return this.frameBody?{top:this.frameBody.scrollTop,left:this.frameBody.scrollLeft}:null}set frameBodyScrollPosition(e){this.frameBody&&e&&(this.frameBody.scrollTop=e.top,this.frameBody.scrollLeft=e.left)}retainFocus(e){var t;e&&(null===(t=this.iframe)||void 0===t||t.focus())}unloadFrame(e){e&&(e.removeEventListener("load",this.onFrameLoadedHandler),e.remove())}renderFrameInBackground(){const e=document.createElement("iframe");e.src=this.iframeSrc,e.addEventListener("load",this.onFrameLoadedHandler),this.previewElement.insertBefore(e,this.loader.getElement())}get iframeSrc(){return this.renderUrl+this.entityId}get entityId(){const e=this.editingDraftId;return this.editingEntityId!==e&&(this.editingEntityId=e),this.editingEntityId}get editingDraftId(){return r.default.find('input[name="id"]').val()}get frameBody(){var e,t;return(null===(t=null===(e=this.iframe)||void 0===e?void 0:e.contentDocument)||void 0===t?void 0:t.body)||null}}t.default=a}.apply(t,i),void 0===r||(e.exports=r)},29894:function(e,t,n){var i,r;i=[n,t,n(7994),n(10776)],r=function(e,t,n,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),function(e){e.Unloaded="unloaded",e.Loading="loading",e.LoadingMedium="loading-medium",e.LoadingLong="loading-long",e.Loaded="loaded"}(r||(r={})),t.default=class{constructor(e){this.currentState=r.Unloaded,this.element=e.querySelector(".loader-container")}loading(){this.currentState!==r.Loaded?(this.state=r.Loading,this.mediumTimeout=setTimeout((()=>this.state=r.LoadingMedium),2e3),this.longTimeout=setTimeout((()=>this.state=r.LoadingLong),5e3)):i.default.isStarted()?i.default.set(0):i.default.start()}getElement(){return this.element}loaded(){this.state=r.Loaded}destroy(){this.state=r.Unloaded}get state(){return this.currentState}set state(e){this.currentState=e,this.element.setAttribute("data-state",e),this.currentState!==r.Loaded&&this.currentState!==r.Unloaded||(i.default.done(),this.clearTimeouts())}clearTimeouts(){this.mediumTimeout&&(clearTimeout(this.mediumTimeout),this.mediumTimeout=null),this.longTimeout&&(clearTimeout(this.longTimeout),this.longTimeout=null)}}}.apply(t,i),void 0===r||(e.exports=r)},39726:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648),n(16412),n(10861),n(68398),n(28067),n(10797)],r=function(e,t,n,i,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l);class c{constructor(){this.MIN_WINDOW_WIDTH=1280,this.previewShown=!1,this.modalContainer=r.default.find()[0],this.previewElement=document.querySelector("#edit-preview"),this.toggleButton=this.modalContainer.querySelector("#draft-previewer"),this.frameBuffer=a.default.init(this.modalContainer),this.resizer=s.default.init(this.modalContainer),this.onToggleButtonClickHandler=()=>this.toggle(),this.onWindowResizeHandler=i.default.debounce((()=>this.ensureWindowIsWideEnough()),500),this.addEventListeners(),this.ensureWindowIsWideEnough(),this.toggle(!1)}static init(){return new c}addEventListeners(){var e;null===(e=this.toggleButton)||void 0===e||e.addEventListener("click",this.onToggleButtonClickHandler),r.default.onHide(this.destroy.bind(this)),r.default.find(".modal").on("cs.draft.save.success",this.preview.bind(this)),window.addEventListener("resize",this.onWindowResizeHandler),window.addEventListener("orientationchange",this.onWindowResizeHandler)}ensureWindowIsWideEnough(){this.isWindowTooSmall()?this.disable():this.enable()}isWindowTooSmall(){return window.innerWidth<this.MIN_WINDOW_WIDTH}disable(){var e,t;null===(t=null===(e=this.toggleButton)||void 0===e?void 0:e.parentElement)||void 0===t||t.classList.add("hide"),this.toggle(!1)}enable(){var e,t;null===(t=null===(e=this.toggleButton)||void 0===e?void 0:e.parentElement)||void 0===t||t.classList.remove("hide")}destroy(){this.frameBuffer.destroy(),window.removeEventListener("resize",this.onWindowResizeHandler),window.removeEventListener("orientationchange",this.onWindowResizeHandler)}preview(){this.previewShown&&this.frameBuffer.buffer()}toggle(e){this.previewShown=void 0!==e?e:!this.previewShown,this.previewElement.classList.toggle("hide",this.previewShown),r.default.find(".modal-box").toggleClass("with-preview",this.previewShown),r.default.find(".modal-fullscreen-toggle").toggleClass("hide",this.previewShown),document.body.classList.remove("modal-box-fullscreen"),this.updateToggleButtonText(),this.frameBuffer.toggle(this.previewShown),l.default.toggle(this.previewShown),this.resizer.toggle(),this.trackToggleEvent()}updateToggleButtonText(){this.toggleButton&&(this.toggleButton.innerHTML=(this.previewShown?"Hide":"Show")+"<br/> Edit Preview")}trackToggleEvent(){o.default.CONTENT.trackEvent("Edit Preview toggled",{enabled:this.previewShown})}}t.default=c}.apply(t,i),void 0===r||(e.exports=r)},28067:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(16412)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);class o{constructor(e){this.RESIZING_PREVIEW_CLASS="jsResizingPagePreview",this.DEFAULT_RESIZE_VALUE=700,this.MIN_MODAL_WIDTH=404,this.MIN_PREVIEW_WIDTH=320,this.SLIDER_WIDTH=12,this.NUM_KEYBOARD_STEPS=10,this.passiveEventOptions={passive:!0},this.enableBootstrapModalFocusTrap=function(){r.default.find(".modal").data("bs.modal").enforceFocus()},this.previewElement=e.querySelector("#edit-preview"),this.dragHandle=this.previewElement.querySelector(".drag-bar"),this.rangeInput=this.dragHandle.querySelector("input[type=range]"),this.modalHeader=e.querySelector(".modal-header"),this.modalBody=e.querySelector(".modal-scroll-wrapper"),this.onPointerDownHandler=()=>this.onPointerDown(),this.onPointerMoveHandler=e=>this.onPointerMove(e),this.onPointerUpHandler=()=>this.onPointerUp(),this.initializeRangeInput(),this.initDragHandleEvents()}static init(e){return new o(e)}toggle(){this.previewElement.classList.contains("hide")?(this.modalWidth=null,this.enableBootstrapModalFocusTrap()):(this.applyDefaultWidth(),this.enableCustomModalFocusTrap())}applyDefaultWidth(){this.resize(this.DEFAULT_RESIZE_VALUE)}enableCustomModalFocusTrap(){const e=this;(0,i.default)(document).off("focusin.bs.modal").on("focusin.bs.modal",i.default.proxy((function(t){document!==t.target&&this.$element[0]!==t.target&&!this.$element.has(t.target).length&&e.previewElement!==t.target&&e.previewElement.contains(t.target)&&this.$element.trigger("focus")}),r.default.find(".modal").data("bs.modal")))}initializeRangeInput(){this.setDefaultValuesForInput(),this.rangeInput.addEventListener("focus",(()=>this.dragHandle.classList.add("focused"))),this.rangeInput.addEventListener("blur",(()=>this.dragHandle.classList.remove("focused"))),this.rangeInput.addEventListener("input",(()=>{const e=Number(this.rangeInput.value);this.rangeValue=e,this.resize(e)}))}initDragHandleEvents(){this.dragHandle.addEventListener("mousedown",this.onPointerDownHandler,this.passiveEventOptions),this.dragHandle.addEventListener("touchstart",this.onPointerDownHandler,this.passiveEventOptions)}onPointerDown(){document.body.classList.add(this.RESIZING_PREVIEW_CLASS),this.bindPointerMoveEvents(),this.bindPointerUpEvents()}bindPointerMoveEvents(){this.unbindPointerMoveEvents(),this.dragHandle.addEventListener("mousemove",this.onPointerMoveHandler,this.passiveEventOptions),this.dragHandle.addEventListener("touchmove",this.onPointerMoveHandler,this.passiveEventOptions)}bindPointerUpEvents(){this.unbindPointerUpEvents(),this.dragHandle.addEventListener("mouseup",this.onPointerUpHandler,this.passiveEventOptions),this.dragHandle.addEventListener("touchend",this.onPointerUpHandler,this.passiveEventOptions)}onPointerUp(){document.body.classList.remove(this.RESIZING_PREVIEW_CLASS),this.unbindPointerMoveEvents(),this.unbindPointerUpEvents()}unbindPointerMoveEvents(){this.dragHandle.removeEventListener("mousemove",this.onPointerMoveHandler,this.passiveEventOptions),this.dragHandle.removeEventListener("touchmove",this.onPointerMoveHandler,this.passiveEventOptions)}unbindPointerUpEvents(){this.dragHandle.removeEventListener("mouseup",this.onPointerUpHandler,this.passiveEventOptions),this.dragHandle.removeEventListener("touchend",this.onPointerUpHandler,this.passiveEventOptions)}onPointerMove(e){var t,n;let i;if("undefined"!=typeof TouchEvent&&e instanceof TouchEvent?i=null===(n=null===(t=e.touches)||void 0===t?void 0:t.item(0))||void 0===n?void 0:n.clientX:e instanceof MouseEvent&&(i=e.clientX),void 0===i)return;const r=this.clampDestination(i);this.resize(r),this.rangeValue=r}clampDestination(e){return Math.max(this.resizeMin,Math.min(e-this.SLIDER_WIDTH/2,this.resizeMax))}setDefaultValuesForInput(){this.rangeMin=this.resizeMin,this.rangeMax=this.resizeMax,this.rangeValue=this.DEFAULT_RESIZE_VALUE,this.updateRangeStep()}set rangeMin(e){this.rangeInput.dataset.min=e.toString(),this.rangeInput.setAttribute("aria-valuemin",e.toString())}set rangeMax(e){this.rangeInput.dataset.max=e.toString(),this.rangeInput.setAttribute("aria-valuemax",e.toString())}get resizeMin(){return this.MIN_MODAL_WIDTH}get resizeMax(){return this.windowWidth-this.MIN_PREVIEW_WIDTH-this.SLIDER_WIDTH}set rangeValue(e){this.rangeInput.value=e.toString(),this.rangeInput.setAttribute("aria-valuenow",e.toString())}updateRangeStep(){const e=Number(this.rangeInput.dataset.min),t=(Number(this.rangeInput.dataset.max)-e)/this.NUM_KEYBOARD_STEPS;this.rangeInput.dataset.step=t.toString()}resize(e){this.previewerWidth=e,this.modalWidth=e}set previewerWidth(e){this.previewElement.style.width=`calc(100vw - ${e+this.SLIDER_WIDTH}px)`}set modalWidth(e){this.modalHeader.style.width=e?`${e}px`:"",this.modalBody.style.width=e?`${e}px`:""}get windowWidth(){return document.documentElement.clientWidth||window.innerWidth}}t.default=o}.apply(t,i),void 0===r||(e.exports=r)},10797:function(e,t,n){var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static toggle(e){const t=this.getAdvancedButton();t&&t.classList.toggle("hide",e)}static getAdvancedButton(){return document.getElementById("submit-advanced")}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},10872:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(10776),n(14741),n(16412),n(11499),n(91314),n(93660),n(76808),n(26742),n(34848),n(42110),n(78907),n(536),n(15037),n(28327)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f),p=(0,n.__importDefault)(p);const A=(0,i.default)("#current-output-link"),g=(0,i.default)("#output-selector"),m=(0,i.default)("#show-regions"),v=(0,i.default)("#regions-close"),y=(0,i.default)("#accessibility-close"),b=(0,i.default)("#asset-render-wrapper"),w=(0,i.default)("#show-accessibility-issues"),x=document.querySelector("#siteimprove-prepublish-check"),C=l.default.init(),_=f.default.init(),k=d.default.init();let S=!1,E=!1;const T=function(e){b.toggleClass("with-accessibility",!e),w.attr("title",r.default.I18n.get("label.check.accessibility"+(e?"":".hide"))).html(r.default.I18n.get("label.check.accessibility"+(e?"":".hide")))},B=()=>{const e=b.hasClass("with-accessibility");D(!0),S?e?(T(!0),C.enable()):(C.disable(),p.default.init(k.iframeElement,(0,i.default)("#accessibility-lists"),(()=>T()))):E=!0},I=()=>{const e=m.data("show-regions");T(!0),e?C.enable(!0):F(),D(!e),C.calculateAllRegionOverlayPositions()},D=e=>{b.toggleClass("with-regions",!e),m.data("show-regions",!!e),m.html(r.default.I18n.get("menu.tab."+(e?"show":"hide")+".regions"))},F=()=>{"false"===(0,i.default)("#hasEditablePageRegions").val()?C.disable():C.enable()},M=(e,t)=>{if(!t.submittedAssetId)return;const n=k.getContentTypeId(),i=t.pageFormContentTypeId;"page"===t.submittedAssetType&&r.default.Variables.get("domId")===t.submittedAssetId&&i&&n!==i?a.default.registerAndReload(h.default.getJsonResponseStatus(t)):(o.default.start(),C.disable(),k.reload((()=>{C.enable(),o.default.done()})))};o.default.start(),m.on("click",(()=>I())),v.on("click",(()=>I())),null==x||x.addEventListener("click",(()=>{_&&(o.default.start(),null==C||C.disable(),D(!0),T(!0),_.prepublishCheck())})),g.on("click","button",(e=>(e=>{const t=e.data("confid");let n;A.find(".selected-output-label").text(e.text()),b.find(".regions ul").addClass("hide"),b.find("ul.page-configuration-"+t).removeClass("hide"),n=u.default.addOrUpdateParams(location.href,{confId:t}),n=u.default.removeUrlParameter(n,"action"),c.default.pushNewState(n),o.default.start(),C.disable(),k.updateConfigurationInSrcAttribute(t,(()=>{C.enable(),o.default.done()})),(0,i.default)(".fullscreen-links a").addClass("hidden"),(0,i.default)("#fullscreen-link-"+t).removeClass("hidden"),(0,i.default)(".live-links a").addClass("hidden"),(0,i.default)(".live-link").removeClass("active"),(0,i.default)("#live-link-"+t).removeClass("hidden"),(0,i.default)("#live-link-url-"+t).addClass("active"),A.data("confid",t),_.reload()})((0,i.default)(e.currentTarget)))),(0,i.default)("#metrics-link").on("click",(e=>(e=>{const t=r.default.UI.disableButton(e);s.default.focusElementOnHide(e),s.default.open(u.default.absolutePath("/ajax/getRenderingMetrics.act"),{id:r.default.Variables.get("domId"),confId:A.data("confid")},"html",null,t)})(e.currentTarget))),(0,i.default)(".output-view-link").on("click",(e=>(e=>{const t=(0,i.default)(e).data("conf-id"),n=r.default.UI.disableButton(e);s.default.focusElementOnHide(e),s.default.open(u.default.absolutePath("/ajax/getPageOutputs.act"),{id:r.default.Variables.get("domId"),confId:t},"html",null,n)})(e.currentTarget))),(0,i.default)("#user-tasks-link").on("click",(e=>(e=>{const t=r.default.UI.disableButton(e);s.default.focusElementOnHide(e),s.default.open(u.default.absolutePath("/ajax/viewAssetTasks.act"),{id:r.default.Variables.get("domId")},"html",null,t)})(e.currentTarget))),(0,i.default)("body").off("cs.formsubmit.success",M).on("cs.formsubmit.success",M),_.onFrameOpened((()=>{o.default.done(),C.disable(),D(!0),T(!0),_.shrinkRenderIframeIfPossible()})),_.onFrameClosed((()=>{C.enable(),_.restoreRenderIframeWidth()})),w.on("click",(()=>B())),y.on("click",(()=>T(!0))),k.loadWithListener((()=>{C.enable(),o.default.done(),"true"===(0,i.default)("#showRegionsHint").val()&&a.default.showHtml(r.default.I18n.get("message.show.regions.hint")),S=!0,E&&B()})),r.default.I18n.get("draft.overwrite.message")&&a.default.showHtml(r.default.I18n.get("draft.overwrite.message"))}.apply(t,i),void 0===r||(e.exports=r)},76808:function(e,t,n){var i,r;i=[n,t,n(7994),n(93660),n(89152)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);class o{static init(){const e=new o;return e.iframeElement=document.getElementById("asset-render"),e}loadWithListener(e){this.iframeElement.addEventListener("load",e,{once:!0}),r.default.setAttribute(this.iframeElement,"src",this.iframeElement.dataset.src)}updateConfigurationInSrcAttribute(e,t){const n=r.default.getAttribute(this.iframeElement,"src"),o=i.default.addOrUpdateParams(n,{confId:e});this.iframeElement=function(e,t,n){const i=e.cloneNode(!0);return n&&i.addEventListener("load",n,{once:!0}),r.default.setAttribute(i,"src",t),r.default.replaceChild(i,e),i}(this.iframeElement,o,t)}reload(e){var t;e&&this.iframeElement.addEventListener("load",e,{once:!0}),null===(t=this.iframeElement.contentWindow)||void 0===t||t.location.reload()}getContentTypeId(){return this.iframeElement.dataset.contentTypeId||""}}t.default=o}.apply(t,i),void 0===r||(e.exports=r)},96627:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(50384),n(24819),n(14741),n(26742),n(80471),n(12993),n(10776),n(16412),n(51517),n(93660),n(59114)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f),p=(0,n.__importDefault)(p),A=(0,n.__importDefault)(A);class g{constructor(){this.LOAD_BROKEN_LINKS_ACTION=A.default.absolutePath("/ajax/loadBrokenLinkAjaxReport.act"),this.LOAD_IGNORED_LINKS_ACTION=A.default.absolutePath("/ajax/loadIgnoredLinks.act"),this.renderMarkAsLinkSelectTemplate=d.default.get("brokenLinkMarkAsSelect"),this.renderOccurrencesCountTemplate=d.default.get("brokenLinkOccurrencesCount"),this.renderOccurrencesTableTemplate=d.default.get("brokenLinkOccurrencesTable"),this.ASSET="ENTITY_PATH",this.LINK="LINK",this.ignoredOrAllowedString="",this.unresolvedString="",this.ignoredOrAllowedLinks=0,this.groupBy="",this.canMarkLinkFixed=!1}static init(){const e=new g;return e.populatePropertiesFromDocument(),e}enableMarkLinkFixed(){this.canMarkLinkFixed=!0}populatePropertiesFromDocument(){this.$siteFilter=(0,i.default)("#site-filter"),this.$siteSelect=this.$siteFilter.siteSelect(),this.$reportSite=(0,i.default)("#report-site"),this.$groupByRadios=(0,i.default)("#groupByRadios").find("input"),this.$listTypeRadios=(0,i.default)("#linkTypeRadios").find("input"),this.$hideFixedCheckbox=(0,i.default)("#hideFixed"),this.$showIgnoredAllowedOrValidResponseCodeCheckbox=(0,i.default)("#showIgnoredAllowedOrValidResponseCodeLinks"),this.$sourceCol=(0,i.default)("#column-source"),this.$linkCol=(0,i.default)("#column-link"),this.$dataTableContainer=(0,i.default)(".data-table-container"),this.$tableInfo=(0,i.default)("#broken-links-table-info"),this.$summaryTable=(0,i.default)("#report-overview-stats"),this.$reportedBrokenLinksByAsset=(0,i.default)("#summary-sources-reported-broken"),this.$reportedBrokenLinks=(0,i.default)("#summary-links-reported-broken"),this.$assetsChecked=(0,i.default)("#summary-sources-checked"),this.$unresolvedLinks=(0,i.default)("#summary-links-unresolved"),this.$ignoredLinks=(0,i.default)("#summary-links-ignored"),this.$tableDescription=(0,i.default)("#brokenLinkTableDescription"),this.$linksChecked=(0,i.default)("#summary-links-checked"),this.$table=(0,i.default)("#brokenLinksTable"),this.initializeDtTable(),this.$siteSelect.on("change",(()=>this.dtTable.ajax.reload((()=>this.updateSiteName())))),this.$groupByRadios.on("change",(()=>{this.updateGroupBy(),this.dtTable.ajax.reload((()=>{const e=this.groupBy===this.ASSET?"link":"source",t=this.groupBy===this.ASSET?"source":"link";this.$sourceCol.text(o.default.I18n.get("label.brokenlinkreport.column."+t)),this.$linkCol.text(o.default.I18n.get("label.brokenlinkreport.column."+e))}))})),this.$listTypeRadios.on("change",(()=>this.dtTable.ajax.reload())),this.$hideFixedCheckbox.on("change",(()=>this.dtTable.ajax.reload())),this.$showIgnoredAllowedOrValidResponseCodeCheckbox.on("change",(()=>this.dtTable.ajax.reload())),(0,i.default)("#ignored-links-link").on("click",(e=>{const t=this.$siteSelect.data("cs.siteSelect").getSelectedSiteId(),n=o.default.UI.disableButton(e.currentTarget);f.default.focusElementOnHide(e.currentTarget),f.default.open(this.LOAD_IGNORED_LINKS_ACTION,{siteId:t},"html",(()=>{const t=a.default.init(f.default.find("table"),null,{select:{style:"single"},columns:[null],order:[[1,"asc"]]});f.default.find(".delete-selection").on("click",(()=>{const n=o.default.UI.disableButton(e.currentTarget);if(confirm(o.default.I18n.get("prompt.ignored.links.confirm.delete"))){const e=(0,i.default)(t.row({selected:!0}).node()).data();i.default.post(A.default.absolutePath("/ajax/unignoreLink.act"),{id:e.assetId},(n=>{const i=c.default.getJsonResponseStatus(n);l.default.showHtml(i.message,{type:i.status}),t.row({selected:!0}).deselect().remove().draw(),this.updateClientSideStatuses(e.linkPath,"UNRESOLVED"),this.updateSummaryCounts({nUnresolvedString:n.nUnresolvedString,nIgnoredOrAllowedString:n.nIgnoredOrAllowedString})}),"json").always(n)}else n()}))}),n)}))}initializeDtTable(){this.dtTable=a.default.init(this.$table,null,{serverSide:!0,pagingType:"listbox",ajax:{url:this.LOAD_BROKEN_LINKS_ACTION,data:e=>{this.updateGroupBy();const t=""+this.$listTypeRadios.filter(":checked").val();e.siteId=this.$siteSelect.data("cs.siteSelect").getSelectedSiteId(),e.hideFixed=this.$hideFixedCheckbox.is(":checked"),e.showIgnoredAllowedOrValidResponseCodeLinks=this.$showIgnoredAllowedOrValidResponseCodeCheckbox.is(":checked"),e.groupBy=this.groupBy,e.showInternal="BOTH"===t||"INTERNAL"===t,e.showExternal="BOTH"===t||"EXTERNAL"===t},statusCode:{200:e=>{this.updateSummaryCounts(e.responseParams),this.updatePreviousReportMessage(e.responseParams),this.updateSiteName(),this.populateTableDescriptionBasedOnFilters(),this.$summaryTable.removeClass("hide"),this.$dataTableContainer.removeClass("hide"),p.default.init(this.$dataTableContainer)}},error:e=>{this.$tableInfo.html(c.default.getAjaxResponseError(e)).removeClass("hide"),this.$summaryTable.addClass("hide"),this.$dataTableContainer.addClass("hide"),this.$tableDescription.addClass("hide")},beforeSend:()=>h.default.start(),complete:()=>h.default.done()},language:{emptyTable:o.default.I18n.get("message.brokenlinkreport.empty.norecords"),processing:o.default.I18n.get("label.report.loading")},order:[[1,"desc"]],columns:[{data:null,render:(e,t,n)=>this.renderSourceOrLink(t,n,this.ASSET)},{data:"nOccurrences",render:(e,t,n)=>(n.I18n=o.default.I18n,this.renderOccurrencesCountTemplate(n))},{data:"linktype",orderable:!1,render:e=>e?"INTERNAL"===e?o.default.I18n.get("text.brokenlink.type.internal"):o.default.I18n.get("text.brokenlink.type.external"):""},{data:"description",orderable:!1,render:e=>'<div class="truncate cs-tooltip" aria-label="'+e+'">'+r.default.toString(e)+"</div>"},{data:null,render:(e,t,n)=>e.occurrences?"":this.renderSourceOrLink(t,n,this.LINK)},{data:"status",orderable:!1,render:(e,t,n)=>1!=n.nOccurrences||n.allowed||n.hasValidRemoteResponseCode?"":this.renderMarkAsLink({id:n.id,status:e,hasOccurrences:!1,isOccurrence:!1})}]}),this.$table.on("click",".broken-link-see-occurrences",(e=>{const t=(0,i.default)(e.currentTarget),n=this.dtTable.row(t.parents("tr")[0]);let r=!1;if(n.child()&&(r=n.child().find(".broken-link-occurrences-table").length>0),r)n.child.remove(),t.text(o.default.I18n.get("label.brokenlinkreport.show.more"));else{this.updateGroupBy();const e=n.data();e.groupBy=this.groupBy,e.parent=e.DT_RowId,e.renderMarkAsLink=e=>this.renderMarkAsLink(e),e.AssetLinkRenderer=s.default,e.I18n=o.default.I18n,n.child(this.renderOccurrencesTableTemplate(e)).show(),n.child().addClass("row-details"),n.child().children("td").addClass("full-width"),p.default.init(n.child()),t.text(o.default.I18n.get("label.brokenlinkreport.hide.more"))}})),this.$table.on("change",".broken-link-mark",(e=>{const t=e.currentTarget,n=(0,i.default)(t);let r,o;const a=n.data("status");let s=""+n.val();const u=-1!==s.indexOf("ALL");let d;const f=n.parents(".broken-link-occurrences-table");r=f.length>0?this.dtTable.row("#"+f.data("parent")):this.dtTable.row(n.parents("tr")[0]),o=r.data(),u?(d=this.getGroupIds(o),s=s.replace("ALL","")):d=n.data("occurrence")?[n.data("recordId")]:[o.recordId],h.default.start(),i.default.post(A.default.absolutePath("/ajax/editBrokenLinkReportRecordStatus.act"),{r:d,s:s},(e=>{const t=c.default.getJsonResponseStatus(e);l.default.showHtml(t.message,{type:t.status});const d=f.find(".broken-link-occurrence-record").index(n.parents("tr"));"success"===t.status?("IGNORED"===a||"IGNORED"===s?this.updateClientSideStatuses(n.data("link"),s):0===f.length?(o.status=s,n.val(s)):u?(i.default.each(o.occurrences,((e,t)=>{"IGNORED"!==t.status&&(t.status=s)})),r.child.isShown()&&r.child().find("select").each(((e,t)=>{const n=(0,i.default)(t);"IGNORED"!==n.val()&&(n.data("status",s),n.val(s))}))):(o.occurrences[d].status=s,r.child.isShown()&&n.val(s)),n.data("status",s),this.updateSummaryCounts({nUnresolvedString:e.nUnresolvedString,nIgnoredOrAllowedString:e.nIgnoredOrAllowedString})):n.val(0===f.length?o.status:o.occurrences[d].status)}),"json").always((()=>{h.default.done()}))})),this.$table.on("click",".toggle-details",(e=>{const t=(0,i.default)(e.currentTarget);if(t.parents(".broken-link-occurrences-table").length>0)t.closest("tr").nextAll(".row-details").first().toggleClass("hide");else{const e=t.parents("tr"),n=this.dtTable.row(e);let i=!1,r=[n.data().reason];n.child()&&(i=0===n.child().find(".broken-link-occurrences-table").length),n.data().remoteResponseCode&&r.push(o.default.I18n.get("label.externallink.remote.response.code")+": "+n.data().remoteResponseCode),n.child("<em>"+r.join("<br/>")+"</em>"),n.child().addClass("row-details"),e.find(".broken-link-see-occurrences").text(o.default.I18n.get("label.brokenlinkreport.show.more")),n.child.isShown()?i&&n.child.remove():n.child.show()}}))}updateGroupBy(){this.groupBy=""+this.$groupByRadios.filter(":checked").val()}populateTableDescriptionBasedOnFilters(){const e=this.$hideFixedCheckbox.is(":checked"),t=this.$showIgnoredAllowedOrValidResponseCodeCheckbox.is(":checked"),n=(""+this.$listTypeRadios.filter(":checked").val()).toLowerCase();this.$tableDescription.removeClass("hide").text(o.default.I18n.get("table.brokenlinkreport.summary").replace(/\[groupBy]/,this.groupBy===this.ASSET?o.default.I18n.get("table.brokenlinkreport.summary.groupby.asset"):"").replace(/\[fixed]/,e?"":o.default.I18n.get("table.brokenlinkreport.summary.filter.hidefixed")).replace(/\[ignoredAndAllowed]/,t?o.default.I18n.get("table.brokenlinkreport.summary.filter.ignoredorallowed"):"").replace(/\[internalExternal]/,o.default.I18n.get("table.brokenlinkreport.summary.filter.listtype."+n)).replace(/\[siteName]/,this.getSiteName()).replace(/\s{2,}/," "))}renderSourceOrLink(e,t,n){if("display"===e){if(this.groupBy===n)return s.default.render(t,{showPath:!0});const e='<div class="truncate">'+r.default.toString(t.link)+"</div>";return t.reason&&""!==t.reason&&null!==t.reason?'<button type="button" class="toggle-details pull-left cs-tooltip" aria-label="'+o.default.I18n.get("label.brokenlinkreport.show.reason")+'"><i class="ci ci-help" role="img" aria-hidden="true"></i></button>'+e:e}return this.groupBy===n?t.tOrDN+" "+t.label:t.link}renderMarkAsLink(e){return this.canMarkLinkFixed?(e.I18n=o.default.I18n,this.renderMarkAsLinkSelectTemplate(e)):o.default.I18n.get("text.brokenlink.status."+e.status.toString().toLowerCase())}updateSummaryCounts(e){void 0!==e.nReportedBrokenLinkAssets&&(this.$reportedBrokenLinksByAsset.text(e.nReportedBrokenLinkAssetsString),this.$reportedBrokenLinksByAsset.toggleClass("text-error",e.nReportedBrokenLinkAssets>0)),void 0!==e.nAssetsChecked&&this.$assetsChecked.text(e.nAssetsChecked),void 0!==e.nReportedBrokenLinks&&(this.$reportedBrokenLinks.text(e.nReportedBrokenLinksString),this.$reportedBrokenLinks.toggleClass("text-error",e.nReportedBrokenLinks>0)),void 0!==e.nUnresolvedString&&(this.unresolvedString=e.nUnresolvedString,this.$unresolvedLinks.text(this.unresolvedString)),void 0!==e.nLinksChecked&&this.$linksChecked.text(e.nLinksChecked),void 0!==e.nIgnoredOrAllowedString&&(this.ignoredOrAllowedString=e.nIgnoredOrAllowedString,this.$ignoredLinks.text(this.ignoredOrAllowedString)),this.$summaryTable.removeClass("hide")}updatePreviousReportMessage(e){let t="";e.previousReportPresent&&(t+=o.default.I18n.get("label.brokenlinkreport.created")+" "+u.default.render(e.reportCreated)+". "),e.reportEnabled&&e.reportNextDate&&(t+=o.default.I18n.get("label.brokenlinkreport.next.run")+" "+u.default.render(e.reportNextDate)),""==t?this.$tableInfo.addClass("hide"):this.$tableInfo.html(t).removeClass("hide")}getSiteName(){let e=this.$siteSelect.find("[selected]").text();return e||(e=this.$siteSelect.attr("data-placeholder")||""),e}updateSiteName(){this.$reportSite.text(" ("+this.getSiteName()+")").removeClass("hide")}getGroupIds(e){const t=[];return"IGNORED"!==e.status&&t.push(e.recordId),i.default.each(e.occurrences,((e,n)=>{"IGNORED"!==n.status&&t.push(n.recordId)})),t}updateClientSideStatuses(e,t){this.dtTable.rows().every((n=>{const r=this.dtTable.row(n),o=r.data();o.occurrences?i.default.each(o.occurrences,((n,a)=>{if((this.groupBy===this.ASSET?a.link:o.link)===e){a.status=t;const e=(0,i.default)("#record-status-"+a.recordId);r.child.isShown()&&(e.data("status",t),e.val(t))}})):o.link===e&&(o.status=t,r.find("select").val(t))}))}}t.default=g}.apply(t,i),void 0===r||(e.exports=r)},47260:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(26742),n(89152),n(10776),n(29521),n(14741),n(12596),n(24819),n(51517),n(80471),n(50384),n(4258),n(93660),n(60629),n(35974),n(60590),n(48757)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f),p=(0,n.__importDefault)(p),A=(0,n.__importDefault)(A),g=(0,n.__importDefault)(g),m=(0,n.__importDefault)(m),v=(0,n.__importDefault)(v),y=(0,n.__importDefault)(y),b=(0,n.__importDefault)(b);class w{constructor(e){var t;this.defaultText="-",this.$domElement=(0,i.default)(e.selector),this.statFieldType=e.statFieldType,this.updateCallback=null!==(t=e.updateCallback)&&void 0!==t?t:e=>{const t="number"==typeof e?e.toLocaleString():e;this.$domElement.text(t)},this.showDefaultValue()}updateValue(e){this.updateCallback.call(this,null!=e?e:this.defaultText)}showDefaultValue(){this.updateValue(void 0)}}class x{constructor(){this.LOAD_ASSETS_ACTION=m.default.absolutePath("/ajax/loadAssets.act"),this.LOAD_ASSETS_STATISTICS_ACTION=m.default.absolutePath("/ajax/loadAssetsStatistics.act"),this.CONFIRM_UNPUBLISH_ENTITIES_ACTION=m.default.absolutePath("/ajax/multisubmit/confirmUnpublishEntities.act"),this.CONFIRM_PUBLISH_ENTITIES_ACTION=m.default.absolutePath("/ajax/multisubmit/confirmPublishEntities.act"),this.CONFIRM_DELETE_ENTITIES_ACTION=m.default.absolutePath("/ajax/multisubmit/confirmDeleteEntities.act"),this.SCHEDULE_REVIEW_ACTION=m.default.absolutePath("/ajax/multisubmit/loadScheduleReview.act"),this.EXPORT_CSV_ACTION=m.default.absolutePath("/ajax/assets/exportCsv.act"),this.SUBMIT_CONTENT_OWNER_ACTION=m.default.absolutePath("/ajax/submitContentOwner.act"),this.LOAD_ASSET_RELATIONSHIPS_ACTION=m.default.absolutePath("/ajax/relationships.act"),this.LOAD_STALE_CONTENT_NOTIFICATION_ACTION=m.default.absolutePath("/ajax/loadStaleContentNotification.act"),this.statsResponseParams=null,this.reportResponseParams=null,this.onFilterUpdate=e=>{this.updateExportLink(e),this.statsResponseParams=null,this.reportResponseParams=null,this.updateResults(),this.refreshStatsParams()},this.updateResults=()=>{A.default.deselectAllRows(this.dtTable),this.dtTable.ajax.reload()}}static init(){const e=new x;return e.populatePropertiesFromDocument(),e.initializeComponents(),e.addEventHandlers(),e.updateExportLink(e.filter.getFilterOptions()),e}populatePropertiesFromDocument(){this.$ownerChooser=(0,i.default)("#chooser-ownerChooser").userGroupChooser(),this.$export=(0,i.default)("#export-csv"),this.$inventoryTable=(0,i.default)("#content-inventory-table"),this.$tableError=(0,i.default)("#content-inventory-table-error"),this.$relationshipCountTooltip=(0,i.default)("#relationship-count-tooltip"),this.$dataTableContainer=(0,i.default)(".data-table-container"),this.statsFields=[new w({statFieldType:"neverPublishedAssetsCount",selector:"#stats-never-published"}),new w({statFieldType:"publishableAssetsCount",selector:"#stats-publishable"}),new w({statFieldType:"unusedAssetsCount",selector:"#stats-unused"}),new w({statFieldType:"staleCount",selector:"#stats-stale"}),new w({statFieldType:"pendingReviewCount",selector:"#stats-pending-review"})],this.tableResponseFields=[new w({statFieldType:"totalAssets",selector:"#stats-total"})],this.$summary=(0,i.default)("#summary"),this.$publishStatusSection=(0,i.default)("#publish-status-section"),this.$unusedSection=(0,i.default)("#unused-section"),this.$staleSection=(0,i.default)("#stale-section"),this.$pendingReviewSection=(0,i.default)("#pending-review-section"),this.$pendingReviewTooltip=(0,i.default)("#pending-review-tooltip"),this.$staleTooltip=(0,i.default)("#stale-tooltip")}initializeComponents(){this.filter=b.default.init(this.onFilterUpdate),f.default.init(),v.default.init(),this.initializeDataTable(),this.refreshStatsParams()}refreshStatsParams(){i.default.get(this.LOAD_ASSETS_STATISTICS_ACTION,this.filter.getFilterOptions(),(e=>{this.statsResponseParams=e,this.handleResponsesIfReady()}),"json")}initializeDataTable(){this.dtTable=A.default.init(this.$inventoryTable,null,{serverSide:!0,lengthMenu:[[10,20,30,50],[10,20,30,50]],ajax:{url:this.LOAD_ASSETS_ACTION,data:e=>Object.assign(e,this.filter.getFilterOptions()),dataSrc:e=>e.data,statusCode:{200:e=>{this.reportResponseParams=e.responseParams,this.handleResponsesIfReady(),this.$tableError.addClass("hide"),this.$dataTableContainer.removeClass("hide")}},error:e=>{this.$tableError.html(a.default.getAjaxResponseError(e)).removeClass("hide"),this.$dataTableContainer.addClass("hide"),this.clearReportFields()},beforeSend:()=>{l.default.start(),this.filter.onDataLoading()},complete:()=>{l.default.done(),this.filter.onDataLoaded()}},language:{processing:o.default.I18n.get("label.report.loading")},order:[[2,"desc"]],columns:[{data:null,render:(e,t)=>"display"===t||"filter"===t?h.default.render(e,{showIcon:!0,hoverable:!1,showPath:!0,showSite:!1}):e.path},{data:"lastModifiedOn",render:(e,t)=>e?"display"===t||"filter"===t?p.default.render(e):e:o.default.I18n.get("common.words.never")},{data:"lastPublishedOn",render:(e,t)=>e?"display"===t||"filter"===t?p.default.render(e):e:o.default.I18n.get("common.words.never")},{data:"reviewDate",render:(e,t)=>e?"display"===t||"filter"===t?p.default.render(e):e:o.default.I18n.get("common.words.never")},{data:"ownedBy",render:(e,t)=>e?"display"===t||"filter"===t?h.default.render({id:e,label:e,type:"user"},{showIcon:!1,hoverable:!1}):e:o.default.I18n.get("common.words.none")},{data:"relationshipCount",render:(e,t)=>void 0===e?"":e}],createdRow:(e,t)=>{t.isRecycled&&A.default.disableRowSelection(e)},initComplete:()=>g.default.init(this.$inventoryTable)})}addEventHandlers(){this.addExportHandler(),this.addMultiOpHandlers()}addExportHandler(){this.$export.on("click",(e=>{const t=e.currentTarget;s.default.disableClicking(t),setTimeout((()=>s.default.enableClicking(t)),500)}))}addMultiOpHandlers(){(0,i.default)(".unpublish-selection").on("click",(e=>{c.default.perform.call(e.currentTarget,this.dtTable,this.CONFIRM_UNPUBLISH_ENTITIES_ACTION,{publishMode:"unpublish"})})),(0,i.default)(".publish-selection").on("click",(e=>{c.default.perform.call(e.currentTarget,this.dtTable,this.CONFIRM_PUBLISH_ENTITIES_ACTION,{publishMode:"publish"})})),(0,i.default)(".delete-selection").on("click",(e=>{c.default.perform.call(e.currentTarget,this.dtTable,this.CONFIRM_DELETE_ENTITIES_ACTION,{publishMode:"unpublish"})})),(0,i.default)("#schedule-selection").on("click",(e=>{this.openScheduleReviewModal(e.currentTarget)})),this.$ownerChooser.on("submit.cs.chooser.panel",(()=>{const e=this.$ownerChooser.data("cs.chooser"),t=r.default.keys(e.getChosen()).join();e.resetChosen(),this.submitContentOwnerAssignment(t)})),(0,i.default)("#unassign-selection").on("click",(e=>{this.submitContentOwnerAssignment("",o.default.UI.disableButton(e.currentTarget))})),(0,i.default)("#manual-relationship").on("click",(e=>{this.openCreateManualRelationshipModal(e.currentTarget)})),(0,i.default)("#notify-selection").on("click",(e=>{const t=o.default.UI.disableButton(e.currentTarget);d.default.focusElementOnHide(e.currentTarget),d.default.open(this.LOAD_STALE_CONTENT_NOTIFICATION_ACTION,A.default.getSelectedAssets(this.dtTable),null,null,t)}))}openScheduleReviewModal(e){const t=o.default.UI.disableButton();d.default.focusElementOnHide(e),d.default.open(this.SCHEDULE_REVIEW_ACTION,A.default.getSelectedAssets(this.dtTable),(()=>{d.default.find(".form-control").eq(0).select(!1)}),(()=>{this.updateResults(),t()}))}openCreateManualRelationshipModal(e){const t=A.default.getSelectedAssets(this.dtTable);if(!t.selectedIds[0]||!t.selectedTypes[0])return;const n={id:t.selectedIds[0],type:t.selectedTypes[0]};d.default.focusElementOnHide(e),d.default.open(this.LOAD_ASSET_RELATIONSHIPS_ACTION,n,(()=>{d.default.onHide(this.updateResults)}))}updateExportLink(e){e.siteId?s.default.enableClicking(this.$export[0]):s.default.disableClicking(this.$export[0]),this.$export.attr("href",this.EXPORT_CSV_ACTION+"?"+i.default.param(e))}handleResponsesIfReady(){null!=this.statsResponseParams&&null!=this.reportResponseParams&&(this.applyStatsResponse(this.statsResponseParams),this.applyReportResponse(this.reportResponseParams))}updatePreviousReportMessage(e){let t="";e.previousReportPresent&&(t+=o.default.I18n.get("label.contentinventoryreport.created")+" "+p.default.renderPlain(e.reportCreated)+". "),e.reportNextDate&&(t+=o.default.I18n.get("label.contentinventoryreport.next.run")+" "+p.default.renderPlain(e.reportNextDate)+"."),""==t?this.$relationshipCountTooltip.addClass("hide"):this.$relationshipCountTooltip.attr("title",t).removeClass("hide")}clearReportFields(){this.updateSummary(""),this.resetStatsFieldsToDefault(this.statsFields),this.resetStatsFieldsToDefault(this.tableResponseFields)}applyReportResponse(e){this.updateSummary(e.summary),this.updateStatsConfigValues(this.tableResponseFields,e),this.updatePreviousReportMessage(e)}applyStatsResponse(e){this.updateStatsConfigValues(this.statsFields,e),this.$publishStatusSection.toggle(void 0!==e.neverPublishedAssetsCount&&void 0!==e.publishableAssetsCount),this.$unusedSection.toggle(void 0!==e.unusedAssetsCount),this.$staleSection.toggle(void 0!==e.staleCount),this.$pendingReviewSection.toggle(void 0!==e.pendingReviewCount),this.setStatsTooltipContent(this.$pendingReviewTooltip,"pendingreview.help",e.reviewDateThreshold,"pendingreview.help2"),this.setStatsTooltipContent(this.$staleTooltip,"stale.help",e.lastModifiedThreshold,"stale.help2")}updateStatsConfigValues(e,t){e.forEach((e=>{e.updateValue(t[e.statFieldType])}))}resetStatsFieldsToDefault(e){e.forEach((e=>e.showDefaultValue()))}setStatsTooltipContent(e,t,n,i){const r=`${this.getStatsHeading(t)} ${n} ${this.getStatsHeading(i)}`;y.default.setContent(e,r)}getStatsHeading(e){return o.default.I18n.get(`label.contentinventoryreport.stats.heading.${e}`)}updateSummary(e){const t=!e||""===e.trim();this.$summary.toggleClass("hide",t),this.$summary.text(e)}submitContentOwnerAssignment(e,t){const n=A.default.getSelectedAssets(this.dtTable);n.usernameForAssignment=e,n.userIds="["+r.default.keys(this.$ownerChooser.data("cs.chooser").getChosen()).join()+"]",n.filterType=(0,i.default)("[name=filterType]:checked").val(),n.siteId=this.filter.getFilterOptions().siteId,i.default.post(this.SUBMIT_CONTENT_OWNER_ACTION,n,(e=>{const n=a.default.getJsonResponseStatus(e);"success"===n.status&&A.default.deselectAllRows(this.dtTable),this.dtTable.ajax.reload((()=>{A.default.processOperationResults(e.results,this.dtTable)})),u.default.showHtml(n.message,{type:n.status}),t&&t()}),"json")}}t.default=x}.apply(t,i),void 0===r||(e.exports=r)},60590:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(89152),n(94917),n(53376),n(53941),n(93660),n(48757)],r=function(e,t,n,i,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l);class c{constructor(e){this.UPDATE_FILTER_ACTION=l.default.absolutePath("/ajax/updateContentInventoryFilter.act"),this.filterCache=new c.FilterCache(this),this.onUpdate=e}static init(e){const t=new c(e);return t.populatePropertiesFromDocument(),t.initializeComponents(),t.addEventHandlers(),t}getFilterOptions(){return this.filterCache.getFilter()}onDataLoading(){o.default.hide(this.$filter),r.default.disableClicking(this.$applyFilter[0])}onDataLoaded(){r.default.enableClicking(this.$applyFilter[0])}populatePropertiesFromDocument(){this.$filter=(0,i.default)("#content-inventory-filter"),this.$filterForm=(0,i.default)("#content-inventory-filter-form"),this.$applyFilter=(0,i.default)("#apply-filter"),this.$siteSelect=(0,i.default)("#site-filter"),this.$assetFiltersBlock=(0,i.default)("#assetFiltersBlock"),this.$restrictToFoldersFilterBlock=(0,i.default)("#restrictToFoldersFilterBlock"),this.notIndexableOnlyCheckbox=document.getElementById("notIndexableOnly"),this.typesToSearchDropdown=new s.default(document.getElementById("typesToSearch"))}initializeComponents(){o.default.init(this.$filter),this.$siteSelect.siteSelect()}addEventHandlers(){this.addApplyFilterHandler(),this.addOwnedByHandler(),this.addSiteSelectHandler(),this.addFolderChooserHandlers(),this.addSelectedAssetTypesHandler()}modifyForm(e){a.default.ajaxModify(this.$filterForm,this.UPDATE_FILTER_ACTION+e,{callback:()=>{this.populatePropertiesFromDocument(),this.$siteSelect.siteSelect(),this.addEventHandlers()}})}addApplyFilterHandler(){this.$applyFilter.on("click",(()=>{this.filterCache.refresh(),this.onUpdate(this.filterCache.getFilter())}))}addOwnedByHandler(){(0,i.default)("[name=ownedBy]").on("change",(e=>{(0,i.default)("#userFilterContainer").toggleClass("hide","selected"!==(0,i.default)(e.currentTarget).val())}))}addSiteSelectHandler(){this.$siteSelect.siteSelect(),this.$siteSelect[0].selectize.on("change",(()=>{const e=this.$siteSelect.data("cs.siteSelect").getSelectedSiteId();(0,i.default)(".inline-asset-chooser").remove(),(0,i.default)("#chooser-folderToAddId").assetChooser().data("cs.chooser").options.originalSiteId=e,this.$restrictToFoldersFilterBlock.toggleClass("hide",!e)}))}addFolderChooserHandlers(){this.$filterForm.on("submit.cs.chooser.panel",".asset-chooser",(()=>{this.modifyForm("?mod=addFolder")})),this.$filterForm.on("click",".folder-filter-remove",(e=>{this.modifyForm("?mod=removeFolder&folderToRemoveId="+(0,i.default)(e.currentTarget).data("asset-id"))}))}addSelectedAssetTypesHandler(){this.typesToSearchDropdown.addEventHandler("change",(()=>this.validateAssetTypeFilters()))}validateAssetTypeFilters(){const e=this.typesToSearchDropdown.getValue(),t=0===e.length||e.some((e=>!["block","symlink"].includes(e)));this.updateNotIndexableFilterAvailability(t),this.updatePublishableTypeOptionsVisibility(t)}updateNotIndexableFilterAvailability(e){e||(this.notIndexableOnlyCheckbox.checked=!1),this.notIndexableOnlyCheckbox.disabled=!e}updatePublishableTypeOptionsVisibility(e){this.$assetFiltersBlock.toggleClass("hide",!e)}}t.default=c,c.FilterCache=class{constructor(e){this.filter=e}getFilter(){return this.cachedFilterOptions||this.refresh(),this.cachedFilterOptions}refresh(){this.cachedFilterOptions=this.getFreshFilterOptions()}getFreshFilterOptions(){const e={};return this.filter.$filterForm.serializeArray().forEach((({name:t,value:n})=>{"siteId"===t&&""===n&&(n=this.filter.$siteSelect.data("selected-site-id")),e.hasOwnProperty(t)?Array.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n})),e.typesToSearch&&!Array.isArray(e.typesToSearch)&&(e.typesToSearch=[e.typesToSearch]),e}}}.apply(t,i),void 0===r||(e.exports=r)},93825:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(89152),n(93660)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);const a=(o=(0,n.__importDefault)(o)).default.absolutePath("/ajax/getUnusedAssetsStats.act");t.default=class{static populateTotalUnusedAssetsCount(){const e=document.getElementById("unused-assets-total-adornment");if(!e)return;const t=e.querySelector("span");t&&i.default.getJSON(a).done((function(e){const{dataPoints:n}=e;if(e.error||!n||!n.length)return void t.remove();const{name:i,value:o}=n[0],a="<em>"+o+"</em> "+i.toLowerCase();r.default.setInnerHTML(t,a)})).fail((function(e){t.remove()}))}}}.apply(t,i),void 0===r||(e.exports=r)},3434:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(26742),n(89152),n(10776),n(29521),n(12596),n(24819),n(51517),n(80471),n(10861),n(94917),n(50384),n(52737),n(4258),n(93660),n(48757)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f),p=(0,n.__importDefault)(p),A=(0,n.__importDefault)(A),g=(0,n.__importDefault)(g),m=(0,n.__importDefault)(m);const y=(v=(0,n.__importDefault)(v)).default.absolutePath("/ajax/relationships.act"),b=v.default.absolutePath("/ajax/loadAssets.act?unusedOnly=true"),w=v.default.absolutePath("/ajax/assets/exportCsv.act?titleOverride=Unused_Assets&unusedOnly=true"),x=(0,i.default)("#apply-filter"),C=(0,i.default)("#site-filter"),_=(0,i.default)("#unusedassets-filter"),k=document.getElementById("publishedOnly"),S=document.getElementById("notIndexableOnly"),E=document.getElementById("typesToSearch"),T=(0,i.default)("#export-csv"),B=(0,i.default)("#unusedAssetsTable"),I=(0,i.default)("#unused-assets-table-info"),D=(0,i.default)(".data-table-container"),F=(0,i.default)("#manual-relationship");let M,L;const P=function(){L.siteId?a.default.enableClicking(T[0]):a.default.disableClicking(T[0]);const e=R(L);T.attr("href",`${w}&${e}`)},R=e=>{const t=new URLSearchParams,n=e=>null!=e;return Object.entries(e).forEach((([e,i])=>{n(i)&&(Array.isArray(i)?i.filter(n):[i]).forEach((n=>t.append(`${e}[]`,n)))})),t.toString()},O=function(){return{siteId:C.data("cs.siteSelect").getSelectedSiteId(),typesToSearch:g.default.getSelectedOptions(E).map((e=>e.value)),publishStatus:k.checked?"PUBLISHED":"ANY",notIndexableOnly:S.checked.toString()}},N=function(){A.default.deselectAllRows(M),M.ajax.reload()};t.init=function(){p.default.init(_),d.default.init(),C.siteSelect(),L=O(),P(),M=A.default.init(B,null,{serverSide:!0,lengthMenu:[[10,20,30,50],[10,20,30,50]],ajax:{url:b,data:function(e){Object.assign(e,L)},dataSrc:function(e){return e.data},statusCode:{200:function(e){!function(e){let t="";e.previousReportPresent&&(t+=r.default.I18n.get("label.unusedassetsreport.created")+" "+h.default.render(e.reportCreated)+". "),e.reportNextDate&&(t+=r.default.I18n.get("label.unusedassetsreport.next.run")+" "+h.default.render(e.reportNextDate)),""==t?I.addClass("hide"):I.html(t).removeClass("hide")}(e.responseParams),D.removeClass("hide")}},error:function(e){I.html(o.default.getAjaxResponseError(e)).removeClass("hide"),D.addClass("hide")},beforeSend:function(){s.default.start(),p.default.hide(_),a.default.disableClicking(x[0])},complete:function(){s.default.done(),a.default.enableClicking(x[0])}},language:{processing:r.default.I18n.get("label.report.loading")},order:[[2,"desc"]],columns:[{data:null,render:function(e,t){return"display"===t||"filter"===t?u.default.render(e,{showIcon:!0,hoverable:!1,showPath:!0,showSite:!1}):e.path}},{data:"lastModifiedOn",render:function(e,t){return e?"display"===t||"filter"===t?h.default.render(e):e:r.default.I18n.get("common.words.never")}},{data:"lastPublishedOn",render:function(e,t){return e?"display"===t||"filter"===t?h.default.render(e):e:r.default.I18n.get("common.words.never")}},{data:"ownedBy",render:function(e,t){return e?"display"===t||"filter"===t?u.default.render({id:e,label:e,type:"user"},{showIcon:!1,hoverable:!1}):e:r.default.I18n.get("common.words.none")}}],createdRow:function(e,t){t.isRecycled&&A.default.disableRowSelection(e)},initComplete:()=>{m.default.init((0,i.default)("#unusedassets-filter"))}}),T.on("click",(function(){const e=this;a.default.disableClicking(e),setTimeout((function(){a.default.enableClicking(e)}),500)})),x.on("click",(function(){L=O(),P(),N()})),(0,i.default)(".unpublish-selection").on("click",(function(){l.default.perform.call(this,M,v.default.absolutePath("/ajax/multisubmit/confirmUnpublishEntities.act"),{publishMode:"unpublish"})})),(0,i.default)(".delete-selection").on("click",(function(){l.default.perform.call(this,M,v.default.absolutePath("/ajax/multisubmit/confirmDeleteEntities.act"),{publishMode:"unpublish"})})),F.on("click",(function(){const e=A.default.getSelectedAssets(M);if(!e.selectedIds[0]||!e.selectedTypes[0])return;const t={id:e.selectedIds[0],type:e.selectedTypes[0]};c.default.focusElementOnHide(this),c.default.open(y,t,(function(){c.default.onHide(N),f.default.REPORTING.trackReportEvent("Unused Assets","Opened Relationships Modal",t)}))}))},t.default={init:t.init}}.apply(t,i),void 0===r||(e.exports=r)},47679:function(e,t,n){var i,r,o=n(37549);i=[n,t,n(7994),n(10776),n(93541),n(26742),n(50384),n(93660),n(24819),n(80471),n(4258),n(12596),n(60377)],r=function(e,t,n,i,r,a,s,l,c,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h);class f{static init(){const e=new f;return e.populatePropertiesFromDocument(),e.addEventListeners(),o("#staleMode").val("REVIEW"),e}populatePropertiesFromDocument(){this.$siteSelect=o("#site-filter"),this.selectedSiteId=this.$siteSelect.data("selected-site-id"),this.$export=o("#export-csv"),this.$dataTableContainer=o(".data-table-container"),this.$tableInfo=o("#review-content-table-info"),this.initializeDataTable()}addEventListeners(){o("#apply-filter").on("click",(()=>{this.updateExportLink(),this.updateResults()})),o("#schedule-selection").on("click",(e=>{const t=r.default.UI.disableButton(e.currentTarget);h.default.focusElementOnHide(e.currentTarget),h.default.open(l.default.absolutePath("/ajax/multisubmit/loadScheduleReview.act"),s.default.getSelectedAssets(this.dtTable),(()=>{h.default.find(".form-control").eq(0).select(!1)}),null,t)})),o("#notify-selection").on("click",(e=>{const t=r.default.UI.disableButton(e.currentTarget);h.default.focusElementOnHide(e.currentTarget),h.default.open(l.default.absolutePath("/ajax/loadStaleContentNotification.act"),s.default.getSelectedAssets(this.dtTable),null,null,t)}))}getFolderIds(){const e=[];return document.querySelectorAll(".inline-asset-chooser").forEach((t=>{var n;const i=null===(n=t.querySelector(".asset-link"))||void 0===n?void 0:n.getAttribute("data-asset-id");i&&e.push(i)})),e}updateExportLink(){const e=this.$export.attr("href"),t=this.$siteSelect.data("cs.siteSelect").getSelectedSiteId(),n=(null==e?void 0:e.replace("siteId="+this.selectedSiteId,"siteId="+t))||"";this.$export.attr("href",n),this.selectedSiteId=t}updateResults(){this.dtTable.ajax.reload()}initializeDataTable(){this.dtTable=s.default.init(o("#staleContentReviewTable"),null,{pagingType:"listbox",ajax:{url:l.default.absolutePath("/ajax/getStaleContentReport.act"),data:e=>{const t=o(".assetType:checked"),n=o("#threshold").val();if("string"!=typeof n)throw new Error("Threshold value invalid");e.staleThreshold=n,e.mode="REVIEW",e.staleRestrictFolders=this.getFolderIds(),e.siteId=this.$siteSelect.data("cs.siteSelect").getSelectedSiteId(),e.showOnlyMyContent=o("#show-only-my-content").is(":checked"),e.assetType=t.length>1?"BOTH":t.attr("data-asset-type")},dataSrc:e=>e.entities,statusCode:{200:()=>{this.$tableInfo.addClass("hide"),this.$dataTableContainer.removeClass("hide")}},error:e=>{this.$tableInfo.html(a.default.getAjaxResponseError(e)).removeClass("hide"),this.$dataTableContainer.addClass("hide")},beforeSend:()=>{i.default.start()},complete:()=>{i.default.done()}},language:{processing:r.default.I18n.get("label.report.loading")},columns:[{data:null,render:e=>c.default.render(e,{showIcon:!0,hoverable:!1,showPath:!0,showSite:!1})},{data:null,render:(e,t)=>"display"===t||"filter"==t?u.default.render(e.reviewDate):e.reviewDate},{data:null,render:e=>e.ownedBy?c.default.render({id:e.ownedBy,label:e.ownedBy,type:"user"},{showIcon:!1,hoverable:!1}):r.default.I18n.get("common.words.none")},{data:null,render:(e,t)=>"display"===t||"filter"===t?u.default.render(e.lastModifiedOn):e.lastModifiedOn},{data:null,render:e=>c.default.render({id:e.lastModifiedBy,label:e.lastModifiedBy,type:"user"},{showIcon:!1,hoverable:!1})}],initComplete:()=>{d.default.init(o("#staleContentReviewTable"))}})}}t.default=f}.apply(t,i),void 0===r||(e.exports=r)},81559:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(92648),n(10776),n(24819),n(94917),n(51517),n(70124),n(80471),n(12993),n(50384),n(10861),n(93660),n(89152),n(26742)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f),p=(0,n.__importDefault)(p),A=(0,n.__importDefault)(A),g=(0,n.__importDefault)(g),m=(0,n.__importDefault)(m);const v=A.default.absolutePath("/ajax/loadWorkflowReport.act"),y=(0,i.default)("#workflow-reports-table"),b=(0,i.default)("#workflow-filter-container"),w=(0,i.default)("#filter-button"),x=(0,i.default)("#workflow-reports-table-info"),C=y.closest(".data-table-container"),_=(0,i.default)("#workflow-filter"),k=(0,i.default)("#site-filter"),S=k.siteSelect(),E=(0,i.default)("#quick-filter-tab-group"),T=(0,i.default)("#filter-description");let B=!0;const I=(0,i.default)("#start-date").closest(".date"),D=(0,i.default)("#end-date").closest(".date");let F;const M=document.querySelector("input[name=statusType]:checked"),L=document.getElementById("assignee-filter-form-group"),P=document.getElementById("status-radios-form-group");u.default.init(_),c.default.init(_),p.default.REPORTING.trackEvent("Viewed Workflow Reports"),F=f.default.init(y,null,{serverSide:!0,order:[[3,"desc"]],lengthMenu:[10,20,50,100],columnDefs:[{targets:1,sortable:!1},{targets:4,sortable:!1},{targets:5,sortable:!1},{targets:6,sortable:!1}],ajax:{url:v,type:"POST",data:e=>{B||(e.siteId=S.val(),e.status=(0,i.default)("[name=statusType]:checked").val(),e.startDate=I.val(),e.endDate=D.val())},error:e=>{x.html(m.default.getAjaxResponseError(e)).removeClass("hide"),C.addClass("hide")},statusCode:{200:()=>{x.addClass("hide"),C.removeClass("hide")}},beforeSend:()=>{a.default.start(),l.default.hide(b),g.default.disableClicking(w[0])},complete:()=>{a.default.done(),g.default.enableClicking(w[0])}},columns:[{data:"name",render:(e,t,n)=>"display"===t?s.default.render(e):n.name.label},{data:"relatedAsset",render:(e,t)=>void 0===e?r.default.I18n.get("common.words.na"):"display"===t?s.default.render(e):e.label},{data:"ownerUserId",render:(e,t,n)=>"display"===t?""!==n.owner?s.default.render(n.owner):r.default.I18n.get("common.words.no.one"):n.owner},{data:"startDate",render:(e,t)=>"display"===t||"filter"===t?e?d.default.render(e):r.default.I18n.get("common.words.never"):e||-1},{data:"currentStep",render:e=>e||r.default.I18n.get("common.words.na")},{data:"timeInCurrentStep",render:(e,t)=>"display"===t||"filter"===t?""!==e?d.default.render(e):r.default.I18n.get("common.words.na"):e||-1},{data:"currentStepOwner",render:(e,t)=>"display"===t?e?s.default.render(e):r.default.I18n.get("common.words.na"):e?e.label:""},{data:"dueDate",render:(e,t)=>"display"===t||"filter"===t?""!==e?d.default.render(e):r.default.I18n.get("common.words.na"):e||-1}],language:{emptyTable:r.default.I18n.get("message.workflowreport.empty.norecords"),processing:r.default.I18n.get("label.report.loading")}}),g.default.addEventListener(P,"change",(e=>{const t=e.target;g.default.toggleClass(L,"hide","completed"===t.value)}),"input[name=statusType]"),M&&M.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})),E.on("click",".quick-filter-tab",(e=>{const t=(0,i.default)(e.currentTarget),{quickFilterName:n,quickFilterValue:r}=t.data();Q(),H(t),F.ajax.url(v+`?${n}=${r}`).load(),p.default.REPORTING.trackReportEvent("Workflows","Quick Filtered",{quickFilterButton:n})})),T.on("click","button.clear-site",(()=>{k[0].selectize.clear(),R()})),T.on("click","button.clear-status",(()=>{M&&(M.checked=!0),F.ajax.url(v+"?"+_.serialize()).load(),R()})),T.on("click","button.clear-owners",(()=>{const e=_.find("#chooser-workflow-owner");(e.data("cs.chooser")||e.userGroupChooser().data("cs.chooser")).clear(),R()})),T.on("click","button.clear-dates",(()=>{(0,i.default)("#start-date").val(""),(0,i.default)("#end-date").val(""),R()})),T.on("click","button.clear-assignees",(()=>{const e=_.find("#chooser-step-owner");(e.data("cs.chooser")||e.userGroupChooser().data("cs.chooser")).clear(),R()})),w.on("click",(()=>{U(),N()}));const R=()=>{O(),N()},O=()=>{F.ajax.url(v+"?"+_.serialize()).load(),p.default.REPORTING.trackReportEvent("Workflows","Filtered Report",o.default.getQueryParams(_.serialize()))},N=()=>{const e=h.default.get("workflowReportFilterSummary"),t=i.default.map((0,i.default)('[name="Users-owners"]').parent(".chooser-tag"),(e=>(e.textContent||"").trim())),n=i.default.map((0,i.default)('[name="Users-step-owners"]').parent(".chooser-tag"),(e=>(e.textContent||"").trim())),a=i.default.map((0,i.default)('[data-asset-type="group"]'),(e=>{if(e.dataset.asset)return o.default.escape(JSON.parse(e.dataset.asset).label)})),l=e({dateRangeStart:(0,i.default)("#start-date").val(),dateRangeEnd:(0,i.default)("#end-date").val(),siteId:S.val(),siteName:S.text(),workflowOwners:t.join(", "),stepAssignees:[...a,...n].join(", "),status:(0,i.default)("[name=statusType]:checked").val(),I18n:r.default.I18n,AssetLinkRenderer:s.default});T.html(l)},U=()=>{B=!1,j((0,i.default)("#quick-filter-custom")),W(),O()},H=e=>{B=!0,j(e),W(),$(e)},$=e=>{const t=e.data("quick-filter-name").toLowerCase(),n=`message.workflow.report.tab.description.${"status"===t?"inprogress":t}`;T.text(r.default.I18n.get(n))},Q=()=>{_.find(".usergroup-chooser").each((function(){const e=(0,i.default)(this);(e.data("cs.chooser")||e.userGroupChooser().data("cs.chooser")).clear()})),k[0].selectize.clear(),_[0].reset()},W=()=>{V("waiting"===(0,i.default)("[name=statusType]:checked").val()||B)},V=e=>{F.column(4).visible(e),F.column(6).visible(e),F.column(5).visible(e)},j=e=>{E.find(".quick-filter-tab").removeClass("active"),e.addClass("active")};F.ajax.url(v+"?status=waiting").load(),(()=>{const e=r.default.Variables.get("totalWaitingWorkflows"),t=r.default.Variables.get("totalOverdueWorkflows"),n=r.default.Variables.get("totalWorkflowsInError");(0,i.default)("#quick-filter-waiting").find(".tab-statistic").text(e),(0,i.default)("#quick-filter-overdue").find(".tab-statistic").text(t),(0,i.default)("#quick-filter-error").find(".tab-statistic").text(n)})(),l.default.init(b)}.apply(t,i),void 0===r||(e.exports=r)},69614:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(93405),n(10181),n(93660),n(2687),n(14225)],r=function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s);class l{static init(){const e=(0,i.default)("#tab-content-preview"),t=(0,i.default)("#smartFieldToggle");e.on("shown.bs.tab",l.loadContentPreview),t.on("click",(()=>{a.default.smartFieldsRulesEnabled=!a.default.smartFieldsRulesEnabled,a.default.showAllFieldsWithinStructuredDataContainer(),a.default.executeSmartFieldRules(),a.default.initializeVisibleFields()})),a.default.removeModificationEvents(),a.default.initializeVisibleFields()}static loadContentPreview(){const e=document.getElementById("content-preview");e&&o.default.load({url:s.default.absolutePath("/render/entityXML.act"),params:{id:r.default.Variables.get("domId"),type:"sharedfield"},container:e})}}t.default=l}.apply(t,i),void 0===r||(e.exports=r)},24512:function(e,t,n){var i,r;i=[n,t,n(7994),n(16412),n(54474),n(60629)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o);class a{constructor(){this.cronInput=null,this.handleScheduledPublishingChange=e=>{const t=e.currentTarget;this.cronInput&&("cronExpressionFrequency"===t.id&&t.checked?this.cronInput.removeAttribute("disabled"):this.cronInput.setAttribute("disabled","true"))}}static init(){const e=new a;return e.populatePropertiesFromDocument(),e.initializeComponents(),e.addEventHandlers(),e}populatePropertiesFromDocument(){this.cronInput=document.getElementById("cronExpression")}initializeComponents(){r.default.init(),this.initSiteRoleChooser(),this.initUserGroupChooser()}addEventHandlers(){this.addScheduledPublishingHandler()}initSiteRoleChooser(){const e=i.default.find(".siteroleassignment-chooser");e.length&&e.siteRoleAssignmentChooser()}initUserGroupChooser(){const e=i.default.find();o.default.init(e);const t=i.default.find(".usergroup-chooser");t.length&&t.userGroupChooser()}addScheduledPublishingHandler(){document.querySelectorAll('[name="scheduledPublishingInfo.frequencyOfScheduledPublish"]').forEach((e=>{e.addEventListener("change",this.handleScheduledPublishingChange.bind(this))}))}}t.default=a}.apply(t,i),void 0===r||(e.exports=r)},94959:function(e,t,n){var i,r,o=n(37549);i=[n,t,n(7994),n(10861),n(50384)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),t.init=()=>{const e=document.getElementById("site-enabled-users");e&&(r.default.init(o(e),null,{order:[[1,"desc"]]}),i.default.REPORTING.trackModalOpenedEvent("Site Enabled Users",{enabledUsersCount:parseInt(e.dataset.enabledUsersCount||"0")}))}}.apply(t,i),void 0===r||(e.exports=r)},12679:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(92648),n(93541),n(4258),n(80471),n(12596),n(16479),n(24819),n(50384),n(89152),n(93660),n(26742)],r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l),c=(0,n.__importDefault)(c),u=(0,n.__importDefault)(u),d=(0,n.__importDefault)(d),h=(0,n.__importDefault)(h),f=(0,n.__importDefault)(f),p=(0,n.__importDefault)(p);const A=f.default.absolutePath("/ajax/site/enabledUsers.act"),g=f.default.absolutePath("/ajax/getSites.act"),m=f.default.absolutePath("/ajax/getSitesDetails.act"),v=f.default.absolutePath("/ajax/multisubmit/confirmPublishEntities.act"),y=f.default.absolutePath("/ajax/multisubmit/confirmUnpublishEntities.act");class b{constructor(){this.allowRefresh=!0}static init(){const e=new b;return e.initializeDatatable(),e.addEventListeners(),e}initializeDatatable(){this.$table=(0,i.default)("#data-table"),this.dtTable=d.default.init(this.$table,null,{ajax:{url:g,dataSrc:""},rowId:"id",columns:[{data:"label",render:(e,t,n,i)=>"display"!==t?e:u.default.render(n,{action:f.default.absolutePath("/site/open.act",{id:n.id})})},{data:"url",render:(e,t,n,i)=>{const r=p.default.escapeEntities(e);return'<a href="'+r+'" class="cs-tooltip" title="'+o.default.I18n.get("label.view.live")+'" target="_blank" aria-describedby="cascade-new-window-external">'+r+'<i class="ci ci-fw ci-lg ci-external-link" role="img" aria-hidden="true"></i></a>'}},{data:"lastActivity",render:(e,t,n,i)=>e?"display"===t?s.default.render(e):e:"-"},{data:"users",render:(e,t,n,i)=>{const o=r.default.isNumber(e);return"display"===t&&o?e>0?'<button type="button" class="btn btn-link btn-sm site-enabled-users" data-id="'+n.id+'">'+e+"</button>":e:o?e:"-"}},{orderable:!1,render:(e,t,n,i)=>'<a href="/entity/open.act?type=folder&siteId='+n.id+'" class="btn btn-sm btn-ghost">'+o.default.I18n.get("label.browse")+"</a>"}],initComplete:(e,t)=>{this.loadAdditionalData(),a.default.init(this.$table)}})}addEventListeners(){(0,i.default)("#table-refresh").on("click",(e=>{this.allowRefresh&&(this.allowRefresh=!1,h.default.addClass(e.currentTarget,"muted"),this.dtTable.ajax.reload((()=>{this.allowRefresh=!0,h.default.removeClass(e.currentTarget,"muted"),this.loadAdditionalData()})))})),(0,i.default)(".selected-action-single").on("click","button",(e=>{const t=e.currentTarget.dataset.action,n=this.dtTable.row({selected:!0}).data().id,i=o.default.UI.disableButton(e.currentTarget);l.default.focusElementOnHide(e.currentTarget),l.default.open(t,{id:n,type:"site"},null,(()=>{"true"===e.currentTarget.dataset.refresh&&this.dtTable.ajax.reload()}),i)})),(0,i.default)("#create-link").on("click",(e=>{const t=o.default.UI.disableButton(e.currentTarget);l.default.focusElementOnHide(e.currentTarget),c.default.openCreateModal(this.dtTable,t)})),(0,i.default)("#import-link").on("click",(e=>{const t=o.default.UI.disableButton(e.currentTarget);l.default.focusElementOnHide(e.currentTarget),c.default.openImportModal(this.dtTable,t)})),(0,i.default)(".publish-selection").on("click",(e=>{const t=o.default.UI.disableButton(e.currentTarget);l.default.focusElementOnHide(e.currentTarget),c.default.performMultiOp(v,{publishMode:"publish"},!1,this.dtTable,t)})),(0,i.default)(".unpublish-selection").on("click",(e=>{const t=o.default.UI.disableButton(e.currentTarget);l.default.focusElementOnHide(e.currentTarget),c.default.performMultiOp(y,{publishMode:"unpublish"},!1,this.dtTable,t)})),this.$table.on("click",".site-enabled-users",(e=>{const t=o.default.UI.disableButton(e.currentTarget);l.default.open(A,{siteId:e.currentTarget.dataset.id},null,null,t)}))}loadAdditionalData(){i.default.getJSON(m,(e=>{this.dtTable.rows().every((t=>{const n=this.dtTable.row(t),i=n.data(),r=e[i.id];i.users=r.users,i.lastActivity=r.lastActivity,n.invalidate()})),this.dtTable.draw()}))}}t.default=b}.apply(t,i),void 0===r||(e.exports=r)},98479:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(93405),n(10181),n(93660),n(2687),n(14225)],r=function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s);class l{static init(){const e=(0,i.default)("#tab-content-preview"),t=(0,i.default)("#smartFieldToggle");e.on("shown.bs.tab",l.loadContentPreview),t.on("click",(()=>{a.default.smartFieldsRulesEnabled=!a.default.smartFieldsRulesEnabled,a.default.showAllFieldsWithinStructuredDataContainer(),a.default.executeSmartFieldRules(),a.default.initializeVisibleFields()})),a.default.removeModificationEvents(),a.default.initializeVisibleFields()}static loadContentPreview(){const e=document.getElementById("content-preview");e&&o.default.load({url:s.default.absolutePath("/render/entityXML.act"),params:{id:r.default.Variables.get("domId"),type:"structureddatadefinition"},container:e})}}t.default=l}.apply(t,i),void 0===r||(e.exports=r)},78707:function(e,t,n){var i,r;i=[n,t,n(7994),n(93541),n(93405),n(93660),n(15037),n(28327)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importStar)(r),o=(0,n.__importDefault)(o);const a=document.getElementById("content-preview");if(a){const e={url:o.default.absolutePath("/render/entityXML.act"),params:{id:i.default.Variables.get("domId"),type:"template",renderMode:r.RenderMode.XML},container:a};r.default.load(e)}}.apply(t,i),void 0===r||(e.exports=r)},61015:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(12596),n(16412),n(14741),n(26742),n(93660)],r=function(e,t,n,i,r,o,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importDefault)(a),s=(0,n.__importDefault)(s),l=(0,n.__importDefault)(l);const u=(c=(0,n.__importDefault)(c)).default.absolutePath("/ajax/user/regenerateApiKey.act"),d=c.default.absolutePath("/ajax/user/revokeApiKey.act"),h=e=>`${r.default.I18n.get(e)} ${r.default.I18n.get("prompt.api.key.confirmation.post")}`;t.init=()=>{(0,i.default)(".regenerate-key-link").click((function(){if("true"===this.getAttribute("data-regenerate")&&!confirm(h("prompt.api.key.confirmation.regenerate")))return;const e=r.default.UI.disableButton(this);o.default.focusElementOnHide(this),o.default.open(u,{},(()=>{a.default.onHide((()=>location.reload()))}),null,e)})),(0,i.default)(".revoke-key-link").click((function(){if(!confirm(h("prompt.api.key.confirmation.revoke")))return;const e=r.default.UI.disableButton(this);i.default.getJSON(d,{},(t=>{t.error?(s.default.showText(t.error),e()):s.default.registerAndReload(l.default.getJsonResponseStatus(t))}))}))}}.apply(t,i),void 0===r||(e.exports=r)},40277:function(e,t,n){var i,r;i=[n,t,n(7994),n(37549),n(93541),n(93660),n(93405),n(6293),n(2687),n(14225),n(90660)],r=function(e,t,n,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r),o=(0,n.__importDefault)(o),a=(0,n.__importStar)(a),t.default=class{constructor(){this.$formPreview=(0,i.default)("#form-preview").parent(),this.$workflowView=(0,i.default)("#workflowdef-view"),this.$resetLayoutBtn=(0,i.default)("#reset-layout"),this.$draggableSteps=this.$workflowView.find(".draggable-step"),(0,i.default)("#tab-content-preview").on("shown.bs.tab",(()=>this.loadContentPreview())),(0,i.default)("#tab-workflowdef-view").on("shown.bs.tab",(()=>this.$formPreview.addClass("no-background"))),this.initializeJsPlumb(),this.initializeDraggableSteps(),this.addResetLayoutButtonClickHandler(),this.addScopeChangeHandler()}registerConnections(e){this.jsPlumb.batch((()=>{e.forEach((e=>this.registerConnection(e)))}))}registerConnection(e){const t=document.getElementById(e.sourceId);if(!t)return;if("FORWARD"===e.moveType?e.targetId=(0,i.default)(t).parents(".col-wrapper").next().find(".panel").attr("id"):"BACK"===e.moveType&&(e.targetId=(0,i.default)(t).parents(".col-wrapper").prev().find(".panel").attr("id")),!e.targetId)return;const n=this.jsPlumb.connect({source:t,target:document.getElementById(e.targetId)});n&&n.setData({moveType:e.moveType})}initializeJsPlumb(){this.jsPlumb=(0,s.newInstance)({container:this.$workflowView[0],connectionsDetachable:!1,connector:{type:"Flowchart",options:{stub:10,cornerRadius:10,gap:5}},anchors:[[1,0,1,0,0,10],[0,0,-1,0,0,20]],endpoint:{type:"Rectangle",options:{width:10,height:10}},endpointStyle:{fill:"#fff",stroke:"#333"}})}initializeDraggableSteps(){this.$draggableSteps.draggable({containment:!1,cursor:"move",handle:".panel-header",stack:".ordered-step"}).on("dragstart",((e,t)=>{this.$currentFocusedStep&&(this.highlightConnections(this.$currentFocusedStep,!1),this.$currentFocusedStep=void 0);const n=t.helper.find(".panel");this.highlightConnections(n,!0)})).on("drag",(()=>this.jsPlumb.repaintEverything())).on("dragstop",((e,t)=>{const n=t.helper.find(".panel");this.highlightConnections(n,!1),this.jsPlumb.repaintEverything()})),this.addDraggableStepsClickHandler()}addDraggableStepsClickHandler(){this.$draggableSteps.on("click",(e=>{const t=(0,i.default)(e.target).find(".panel");this.focusStep(t)}))}addResetLayoutButtonClickHandler(){this.$resetLayoutBtn.on("click",(()=>{this.$draggableSteps.css({top:"0px",left:"0px"}),this.jsPlumb.repaintEverything()}))}addScopeChangeHandler(){(0,i.default)('input[name="scope"]').on("change",(e=>{const t=e.target;this.$workflowView.attr("scope",t.value),this.jsPlumb.repaintEverything()}))}focusStep(e){if(this.$currentFocusedStep){if(this.$currentFocusedStep.is(e))return;this.highlightConnections(this.$currentFocusedStep,!1)}this.highlightConnections(e,!0),this.$currentFocusedStep=e}loadContentPreview(){const e=document.getElementById("content-preview");e&&(this.$formPreview.removeClass("no-background"),a.default.load({url:o.default.absolutePath("/render/entityXML.act"),params:{id:r.default.Variables.get("domId"),type:"workflowdefinition",renderMode:a.RenderMode.XML},container:e}))}highlightConnections(e,t){let n=this.jsPlumb.select({target:e});t?n.addClass("cs-hover"):n.removeClass("cs-hover"),n=this.jsPlumb.select({source:e.find(".step-action")}),t?n.addClass("cs-hover"):n.removeClass("cs-hover")}}}.apply(t,i),void 0===r||(e.exports=r)},74663:function(e,t,n){var i,r;i=[n,t,n(7994),n(92648),n(26742)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.set=t.get=void 0,i=(0,n.__importDefault)(i),r=(0,n.__importDefault)(r);const o="var.",a={};t.get=(e,t)=>{if(a[e=o+e])return a[e];const n=document.getElementById(e);if(!n)return t||"";const s="true"===n.getAttribute("data-cacheable");let l;l=n.tagName.match(/input/i)?n.value:n.innerHTML;const c=r.default.parseJson(l,null);return i.default.has(c,"value")&&(l=c.value),s&&(a[e]=l),l},t.set=(e,t)=>{a[e=o+e]=t},t.default={get:t.get,set:t.set}}.apply(t,i),void 0===r||(e.exports=r)},53301:function(e,t,n){"use strict";var i,r;i=[n(37549),n(93541),n(26347),n(39185),n(14741),n(19634),n(39971),n(78751),n(13482),n(65086),n(661),n(71545),n(90660),n(39362)],r=function(e,t,i,r,o,a,s){window.loadAndExecuteModule=async(e,t=!0)=>(window.Cascade_modulesLoaded=!1,Array.isArray(e)?Promise.all(e.map(loadAndExecuteModule,!1)).then((e=>(window.Cascade_modulesLoaded=!0,e))):((new Date).getTime(),new Promise((i=>{const r=(e=>{switch(e){case"modules/modals/accessModal":return n(72812);case"modules/modals/analyticsModal":return n(3718);case"modules/modals/assignWorkflowsModal":return n(2181);case"modules/modals/auditsModal":return n(34786);case"modules/modals/datacheck/dataCheckModal":return n(44590);case"modules/modals/draftsModal":return n(36958);case"modules/modals/effectiveAbilitiesModal":return n(11285);case"modules/modals/exportModal":return n(99168);case"modules/modals/locksModal":return n(73882);case"modules/modals/manageSiteMoveRenameModal":return n(43259);case"modules/modals/publishModal":return n(6367);case"modules/modals/relationshipsModal":return n(83022);case"modules/modals/startWorkflow":return n(73710);case"modules/modals/tagUsageModal":return n(52283);case"modules/modals/testConnectivityModal":return n(25495);case"modules/modals/versionsModal":return n(58301);case"modules/modals/workflowCapableModal":return n(30035);case"modules/modals/workflowsModal":return n(39204);case"modules/codeEditor":return n(2546);case"modules/structuredData":return n(10181);case"modules/siteimprove":return n(34848);case"modules/usagetracking/eventTracker":return n(10861);case"pages/_common/delete":return n(90095);case"pages/_common/moveRename":return n(98720);case"pages/_common/openContainer":return n(88229);case"pages/_common/typeChoiceAdmin":return n(65148);case"pages/_common/typeChoiceHome":return n(87876);case"pages/administration/accessibilityPreferences":return n(94356);case"pages/administration/aiPreferences":return n(55419);case"pages/administration/announcements":return n(6956);case"pages/administration/assetFactoryPlugins":return n(24986);case"pages/administration/snippets":return n(25377);case"pages/administration/customAuthentication":return n(76209);case"pages/administration/dashboard":return n(22940);case"pages/administration/dictionary/create":return n(6682);case"pages/administration/dictionary/open":return n(83126);case"pages/administration/editorConfigurations":return n(78828);case"pages/administration/exportDatabase":return n(2045);case"pages/administration/externallinkchecking/preferences":return n(66521);case"pages/administration/ldapConfig":return n(89225);case"pages/administration/loggingConfig":return n(7875);case"pages/administration/notifications":return n(82488);case"pages/administration/optimizeDatabase":return n(86036);case"pages/administration/preferences":return n(4345);case"pages/administration/publishTriggers":return n(15490);case"pages/administration/systemInfo":return n(27547);case"pages/administration/tags":return n(80539);case"pages/administration/workflowTriggers":return n(16034);case"pages/assetfactory/edit":return n(58482);case"pages/assetfactory/open":return n(35690);case"pages/assetfactorycontainer/edit":return n(1171);case"pages/assetfactorycontainer/open":return n(59935);case"pages/block/edit-feed":return n(90148);case"pages/block/edit-index":return n(37162);case"pages/block/edit-structureddata":return n(84651);case"pages/block/edit-text":return n(72203);case"pages/block/edit-xml":return n(40359);case"pages/block/open-feed":return n(18541);case"pages/block/open-index":return n(41645);case"pages/block/open-structureddata":return n(35058);case"pages/block/open-text":return n(14350);case"pages/block/open-xml":return n(90368);case"pages/connector/edit-ga":return n(14070);case"pages/connector/edit-spectate":return n(80277);case"pages/connector/edit-twitter":return n(39875);case"pages/connector/edit-wp":return n(61525);case"pages/connector/open-ga":return n(47874);case"pages/connector/open-spectate":return n(92249);case"pages/connector/open-twitter":return n(57287);case"pages/connector/open-wp":return n(34737);case"pages/contenttype/edit":return n(25415);case"pages/contenttype/open":return n(10451);case"pages/dashboard/home":return n(19027);case"pages/dashboard/myContent":return n(9789);case"pages/destination/edit":return n(23572);case"pages/destination/open":return n(63748);case"pages/editorconfiguration/edit":return n(85327);case"pages/editorconfiguration/open":return n(12907);case"pages/file/bulkUpload":return n(55663);case"pages/file/edit":return n(9595);case"pages/file/open":return n(22455);case"pages/file/unpackForm":return n(41118);case"pages/file/unpackReport":return n(41147);case"pages/folder/open":return n(68144);case"pages/folder/bulkchange":return n(21608);case"pages/folder/edit":return n(14672);case"pages/format/open":return n(80388);case"pages/format/edit":return n(95553);case"pages/group/edit":return n(90085);case"pages/group/open":return n(11801);case"pages/license":return n(26846);case"pages/login":return n(97449);case"pages/message/edit":return n(65841);case"pages/message/open":return n(57167);case"pages/metadataset/edit":return n(445);case"pages/metadataset/open":return n(83649);case"pages/page/open":return n(10872);case"pages/page/edit":return n(27424);case"pages/page/edit-in-context":return n(11084);case"pages/pageconfigurationset/edit":return n(61935);case"pages/pageconfigurationset/open":return n(20875);case"pages/publishing/publish-queue":return n(71974);case"pages/publishing/publish-scheduled":return n(12898);case"pages/publishset/edit":return n(41899);case"pages/publishset/open":return n(81575);case"pages/recyclebin/view":return n(14603);case"pages/reference/create":return n(60379);case"pages/reference/open":return n(48071);case"pages/reporting/activeUsers":return n(1630);case"pages/reporting/analytics":return n(36944);case"pages/reporting/backgroundTasks":return n(2398);case"pages/reporting/brokenLinks":return n(96627);case"pages/reporting/contentOwnership":return n(50548);case"pages/reporting/dashboard":return n(93825);case"pages/reporting/staleContent":return n(76260);case"pages/reporting/scheduleReview":return n(60855);case"pages/reporting/unusedAssets":return n(3434);case"pages/reporting/upcomingReview":return n(47679);case"pages/reporting/userActivity":return n(70516);case"pages/reporting/workflows":return n(81559);case"pages/reporting/contentinventory/contentInventoryReport":return n(47260);case"pages/role/edit":return n(13304);case"pages/role/open":return n(49416);case"pages/search/indexing":return n(41768);case"pages/search/open":return n(79264);case"pages/security/open":return n(39070);case"pages/sharedfield/edit":return n(35201);case"pages/sharedfield/open":return n(69614);case"pages/site/edit":return n(24512);case"pages/site/namingIssues":return n(73625);case"pages/site/open":return n(70213);case"pages/sites/enabledUsersModal":return n(94959);case"pages/sites/list":return n(12679);case"pages/structureddatadefinition/edit":return n(38338);case"pages/structureddatadefinition/open":return n(98479);case"pages/symlink/edit":return n(80605);case"pages/symlink/open":return n(6337);case"pages/tasks/open-asset":return n(94791);case"pages/tasks/dashboard":return n(62188);case"pages/tasks/edit":return n(84486);case"pages/tasks/open":return n(43838);case"pages/template/edit":return n(92422);case"pages/template/open":return n(78707);case"pages/transport/edit-cloud":return n(24663);case"pages/transport/edit-db":return n(63190);case"pages/transport/edit-fs":return n(55915);case"pages/transport/edit-ftp":return n(41896);case"pages/transport/open":return n(76567);case"pages/user/apiKey":return n(61015);case"pages/user/edit":return n(22437);case"pages/user/generateApiKeyModal":return n(19224);case"pages/user/open":return n(55545);case"pages/user/preferences":return n(77067);case"pages/workflow/open":return n(15739);case"pages/workflowdefinition/edit":return n(2788);case"pages/workflowdefinition/open":return n(40277);case"pages/workflowemail/edit":return n(46945);case"pages/workflowemail/open":return n(7717);case"modules/elErrorHandler":return n(19634)}})(e);t&&(window.Cascade_modulesLoaded=!0),i(r)})))),window.Cascade=t,window.$=e,window.jQuery=e,e(".container").length&&(t.UI.init(),i.init(),r.init(),o.init(),a.default.init())}.apply(t,i),void 0===r||(e.exports=r)},91314:function(e,t,n){var i,r;i=[n(37549),n(93660)],void 0===(r=function(e,t){var n=t.default.getCurrentUrlWithoutHash(),i=function(e){n!==t.default.getCurrentUrlWithoutHash()&&(n=t.default.getCurrentUrlWithoutHash(),location.reload())};return e(window).off("popstate",i).on("popstate",i),{pushNewState:function(e,t){e&&(history.pushState(t||{},null,e),n=e)},replaceState:function(e,t){e&&history.replaceState(t||{},null,e)}}}.apply(t,i))||(e.exports=r)},50384:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(71651),n(65872),n(84551),n(89152),n(78907),n(83772),n(72378),n(54086),n(3080),n(65216)],r=function(e,t,n,i,r,o,a){e.fn.dataTable.Api.register("row().show()",(function(){var e=this.table().page.info(),t=this.index(),n=this.table().rows()[0].indexOf(t);if(n>=e.start&&n<e.end)return this;var i=Math.floor(n/this.table().page.len());return this.table().page(i),this}));var s={order:[],dom:"lfrtpi",info:!0,select:{info:!0,style:"multi"},pageLength:20,lengthMenu:[[10,20,30,-1],[10,20,30,"All"]],autoWidth:!1,deferRender:!0,orderClasses:!1,responsive:!0,searchDelay:250,language:{search:'<i class="ci ci-fw ci-search" role="img" aria-hidden="true"></i><span class="sr-only">table search</span> _INPUT_',searchPlaceholder:t.I18n.get("label.search","Search"),info:"<strong>_START_</strong>-<strong>_END_</strong> "+t.I18n.get("common.word.of","of")+" <strong>_TOTAL_</strong> ",infoEmpty:"",lengthMenu:"<span>"+t.I18n.get("label.show","Show")+":</span> _MENU_",paginate:{first:"<<",previous:"<",next:">",last:">>"},aria:{paginate:{first:"First",last:"Last",previous:"Previous",next:"Next"}}},multiop:!0,keys:{columns:[0],keys:[i.CODES.DOM_VK_UP,i.CODES.DOM_VK_K,i.CODES.DOM_VK_DOWN,i.CODES.DOM_VK_J,i.CODES.DOM_VK_X,i.CODES.DOM_VK_SPACE]}},l=function(e,t,i,r){var o=i.oApi;if(e.length>1500){var a=n.chunk(e,1500);t({data:a.shift()}),setTimeout((function(){t({data:a.shift()}),a.length>0?setTimeout(arguments.callee,1):(o._fnProcessingDisplay(i,!1),n.isFunction(r)&&r(e))}),1)}else t({data:e}),o._fnProcessingDisplay(i,!1),n.isFunction(r)&&r(e)},c=function(e){e.length&&e.find("tbody tr:eq(0)").addClass("focused")},u=function(t,n,i,r){var o=e(this),a=d(o),s=a.find(".selected-asset-actions"),l=a.find(".selected-status"),c=s.find(".selected-action-multi"),u=s.find(".selected-action-single"),h=n.rows(r).nodes().to$(),f=n.rows({selected:!0}).count(),p=n.page.info().recordsTotal;h.find('input[type="checkbox"],input[type="radio"]').prop("checked","select"===t.type),u.toggleClass("hide",1!==f),c.toggleClass((function(e,t,n){return-1!==t.indexOf("selected-action-single")&&n?"":"hide"}),f<1),f<1&&(u.trigger("mouseleave"),c.trigger("mouseleave")),l.removeClass("ci-selected-none ci-selected-some ci-selected-all").addClass("ci-selected"+(f>0?f===p?"-all":"-some":"-none"))},d=function(e){return e.length?e.data("$tableControlsWrapper"):null},h=function(t){var n=e.fn.dataTable.Api(".dataTable:tabbable").table(":last"),i=e(n.node(),{search:"applied"});return t=!1!==t,i.length&&i.data("selectable")&&(!1===t||t&&!i.data("focused"))?i:[]},f=function(e){var t=e.nodes().to$();t.hasClass("disable-selection")||(t.hasClass("selected")?e.deselect():e.select())},p=!1;return p||(p=!0,e(document).on("keyup",(function(t){if(i.CODES.DOM_VK_TAB===t.which){var n,r,o,a,s=e(t.target).closest("tr");s.length&&s[0].id&&(a=s.closest("table.selectable")).length&&(o=(n=a.dataTable().api()).row(".focused"),(r=n.row("#"+s[0].id)).index()!==o.index()&&n.cell(r.index(),0).focus())}})),r.add(["j","k"],(function(e,t){var n,i,r=h();r.length&&(i=(n=r.dataTable().api()).row(".focused"),r.data("focused",!0).trigger("focus"),n.cell(i.index(),0).focus())})),r.add(["x"],(function(){var e,t=h();return t.length&&(e=t.dataTable().api(),f(e.row(".focused"))),!1})),r.add([",",",+s"],(function(e,t){var n,i,r=h(!1);if(r.length){if(n=r.dataTable().api(),i=d(r),n.cell.blur(),","!==t)return i.find(".dataTables_filter input").trigger("focus"),!1;i.find(".btn-table:eq(0)").trigger("focus")}}))),{init:function(r,l,d){var h,p=r.closest(".data-table-container"),A=o.findClosestOptiscrollElement(r);if(r.data("$tableControlsWrapper",p.find(".table-controls-wrapper")),l&&r.on("init.dt",l),d=e.extend(!0,{},s,d||{}),r.data("empty-text")&&(d.language=d.language||{},d.language.emptyTable=r.data("empty-text")),!1===r.data("selectable")?(d.select=!1,n.isEmpty(d.order)&&(d.order=[[0,"asc"]])):(d.columns&&d.columns.unshift({data:null,orderable:!1,className:"multi-select",render:function(e,n,i,r){var o="single"===d.select.style?"radio":"checkbox",a="ms-label-"+e.id||0;return'<div class="'+o+'"><input type="'+o+'" aria-labelledby="'+a+'"><label><span class="sr-only" id="'+a+'">'+t.I18n.get("label.multi.submit.select.row","Click to select row")+"</span></label></div>"}}),n.isEmpty(d.order)&&(d.order=[[1,"asc"]]),n.has(d,"keys")||(d.keys={columns:0})),d.serverSide){d.select&&(d.rowCallback=function(e,t){n.has(r.data("rowsSelected"),t.DT_RowId)&&h.row("#"+t.DT_RowId).select()});var g=d.initComplete;d.initComplete=function(e,t){g&&g.call(this,e,t);var i=p.find(".dataTables_filter").find("input");i.off("keyup.DT search.DT input.DT paste.DT cut.DT").on("keyup.DT search.DT input.DT paste.DT cut.DT",n.debounce((function(){h.search(i.val()).draw()}),200))}}return!1===r.data("paging")&&(d.paging=!1),h=r.DataTable(d).on("draw.dt",(function(t,n){!function(t){t.find(".paginate_button").each((function(){var t=e(this),n=t.text();if(isNaN(n)){if(void 0===t.attr("aria-label"))return;t.attr("aria-label",t.attr("aria-label")+" page"),t.addClass("cs-tooltip")}else t.attr("aria-label","Page "+n)}))}(p)})),p.find(".dataTables_length select").selectize({openOnFocus:!1}),p.find(".dataTables_length, .dataTables_filter").appendTo(p.find(".table-controls-right")),d.select&&(p.find(".asset-selection").on("click",(function(){r.trigger("selectAllRows")})),p.find(".clear-selection").on("click",(function(){r.trigger("deselectAllRows")})),h.on("selectAllRows",(function(){h.rows({page:"current"}).select()})).on("deselectAllRows",(function(){h.rows().deselect()})).on("select",u).on("deselect",u).on("user-select",(function(e,t,n,i,r){const o=r.target;if(function(e){return null!==a.getClosest(e,".form-control")}(o))return!1;(function(e){var t=a.getClosestParent(e,"tr");return a.hasClass(t,"disable-selection")})(o)&&e.preventDefault();var s=t.row(i.index().row),l=t.cell(s.index(),0);l.focus(),l.nodes().to$().trigger("focus")})).on("key-focus",(function(e,t,n,o){r.data("focused",!0),r.find("tr.focused").removeClass("focused");var a=n.nodes().to$();a.parent().addClass("focused"),o&&[i.CODES.DOM_VK_DOWN,i.CODES.DOM_VK_UP].includes(o.which)&&a.trigger("focus")})).on("key",(function(t,r,o,a,s){var l=r.row(a.index().row);if(function(e){return e===i.CODES.DOM_VK_X||e===i.CODES.DOM_VK_SPACE}(o)){if(i.CODES.DOM_VK_SPACE===o&&n.has(s,"target")&&"INPUT"===s.target.nodeName)return;f(l)}else if(i.CODES.DOM_VK_J===o||i.CODES.DOM_VK_K===o){var c=i.CODES.DOM_VK_J===o?i.CODES.DOM_VK_DOWN:i.CODES.DOM_VK_UP,u=e.Event("keydown.keyTable",{keyCode:c,which:c});e(document).trigger(u)}})),d.serverSide&&(r.data("rowsSelected",{}),h.on("selectAllRows",(function(){for(var e=h.rows().data(),t=0;t<e.length;t++){var n=e[t];r.data("rowsSelected")[n.DT_RowId]=n}})).on("deselectAllRows",(function(){r.data("rowsSelected",{})})).on("deselect",(function(e,t,n,i){if("row"===n){var o=h.row(i[0]).data();delete r.data("rowsSelected")[o.DT_RowId]}})).on("select",(function(e,t,n,i){if("row"===n){"single"===t.settings()[0]._select.style&&r.data("rowsSelected",{});var o=h.row(i[0]).data();r.data("rowsSelected")[o.DT_RowId]=o}}))),r.on("init.dt",(function(){d.keys&&(r.attr("tabindex",0),r.find("tbody tr.focused").length||c(r),r.on("blur.datatable",(function(e){r.data("focused",!1)})))})),r.on("draw.dt",(function(t,n){!function(t,n){if(t.length){var i=n.page.info(),r=t.attr("id"),o=e("#"+r+"_length"),a=e("#"+r+"_paginate");o.toggle(i.recordsTotal>i.length),a.toggle(i.pages>1),i.page>i.pages&&Api.page("last").draw("page")}}(r,new e.fn.dataTable.Api(n)),A.length&&o.update(A)})),h.rows(".selected").select()),h},deselectAllRows:function(t){e(t.table().node()).trigger("deselectAllRows")},focusFirstTableRow:c,getSelectedAssets:function(e){const t={selectedIds:[],selectedTypes:[]},i=this.getSelectedRowsFromTable(e);return n.forEach(i,(function(e){t.selectedIds.push(e.id),t.selectedTypes.push(e.type)})),t},getSelectedRowsFromTable:function(t){if(!t)return[];const i=e(t.table().node());if(!i.length)return[];let r=i.data("rowsSelected");return n.isEmpty(r)?t.rows({selected:!0}).data()||[]:r},iterateSelectedRowsData:function(e,t){if(!e||!t)return;const i=this.getSelectedRowsFromTable(e);n.forEach(i,(function(n){t.call(e,n)}))},getControlWrapperForTable:d,loadTableDataFromJSONInChunks:function(e,t,n,i){n.oApi._fnProcessingDisplay(n,!0),l(e,t,n,i)},loadTableDataFromUrlInChunks:function(t,n,i,r,o){r.oApi._fnProcessingDisplay(r,!0),e.getJSON(t,(function(e){l(e,i,r,o)}))},performMultiOp:function(t,n,i,r,o,a){var s=this;a=null==a||a,e.post(t,n,(function(e,t,n){s.deselectAllRows(i),i.ajax.reload((function(){s.processOperationResults(e.results,i),r&&r(e,t,n)}),a)})).always((function(){o&&o()}))},processOperationResults:function(t,i){i.rows().count()>0&&t&&t.length&&n.forEach(t,(function(t){if(t.error){var n=e(i.row("#"+t.id).node());if(0==n.length&&(n=e(i.row("#row-"+t.id).node())),0==n.length)return;var r=n.find("td:nth-child(2)"),o=r.find(".operation-error");o.length?o.attr("title",t.error):r.prepend('<i class="ci ci-alert-circle text-error operation-error cs-tooltip" title="'+t.error+'" role="img"></i>')}}))},isInitialized:function(t){return e.fn.DataTable.isDataTable(t)},disableRowSelection:function(e){e&&(a.addClass(e,"disable-selection"),a.addClass(e.querySelector(".checkbox, .radio"),"disabled"))}}}.apply(t,i),void 0===r||(e.exports=r)},95513:function(e,t,n){var i,r;i=[n(92648),n(78751),n(41089),n(28615),n(60629)],void 0===(r=function(e){return{determinePlugin:function(t){var n=t[0].className.match(/([a-z]+)-chooser/i);if(e.isNull(n))return"assetChooser";switch(n[1]){case"role":return"roleChooser";case"siteroleassignment":return"siteRoleAssignmentChooser";case"usergroup":return"userGroupChooser";default:return"assetChooser"}},getChooserFromElement:function(e){var t=this.determinePlugin(e);return e.data("cs.chooser")||e[t]().data("cs.chooser")}}}.apply(t,i))||(e.exports=r)},3946:function(e,t,n){var i,r;i=[n(2826)],void 0===(r=function(e){var t="MM-DD-YYYY";return{MONTH_DAY_YEAR_FORMAT:t,TIME_FORMAT:"hh:mm A",formatDate:function(t,n){return t||(t=new Date),e(t).format(n)},parseFormattedDateString:function(t,n){var i=e(t,n,!0);return i.isValid()?i.toDate():new Date(t)},parseFormattedTimeString:function(n,i){var r=[e().format(t),n].join(" "),o=[t,i].join(" ");return this.parseFormattedDateString(r,o)}}}.apply(t,i))||(e.exports=r)},89152:function(e,t,n){var i;void 0===(i=function(){var e="disabled";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});const t=function(e){const t=document.createElement("script");for(let n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);t.appendChild(document.createTextNode(e.innerHTML)),n(t,e)},n=function(e,t){t&&e&&t.parentNode&&t.parentNode.replaceChild(e,t)};return{getClosest:function(e,t){for(;e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},getClosestParent:function(e,t){return e?this.getClosest(e.parentNode,t):null},isVisible:function(e){return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},toggleClass:function(e,t,n){e&&t&&(!0===n?e.classList.add(t):!1===n?e.classList.remove(t):e.classList.toggle(t))},addClass:function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.toggleClass(e,t[n],!0);else this.toggleClass(e,t,!0)},removeClass:function(e,t){this.toggleClass(e,t,!1)},reinsertElementIntoDom:function(e){e&&e.parentNode&&e.parentNode.insertBefore(e,e.nextSibling)},hasClass:function(e,t){return e&&e.classList.contains(t)},getAttribute:function(e,t){return!(!e||!t)&&e.getAttribute(t)},setAttribute:function(e,t,n){e&&t&&e.setAttribute(t,n)},removeAttribute:function(e,t){e&&t&&e.removeAttribute(t)},toggleClicking:function(e,t){e&&((void 0===t?this.hasClickingDisabled(e):!0===t||"function"==typeof t&&t())?this.enableClicking(e):this.disableClicking(e))},disableClicking:function(t){this.setAttribute(t,"disabled","disabled"),this.addClass(t,e)},enableClicking:function(t){this.removeAttribute(t,"disabled"),this.removeClass(t,e)},hasClickingDisabled:function(t){var n=this.getAttribute(t,"disabled");return!0===n||"true"===n||"disabled"===n||this.hasClass(t,e)},isElementInDom:function(e){return document.body.contains(e)},toggleExpandedElementState:function(e,t){var n,i=this.getAttribute(e,"aria-expanded"),r=this.getAttribute(e,"aria-controls");if(i&&r){n=void 0===t?"true"!==i:!0===t||"function"==typeof t&&t();for(var o=r.split(" "),a=0;a<o.length;a++){var s=document.getElementById(o[a]);this.toggleClass(s,"expanded",n)}this.setAttribute(e,"aria-expanded",n)}},setInnerHTML:function(e,n){e&&(e.innerHTML=n,e.querySelectorAll("script").forEach(t))},replaceChild:n,addEventListener:function(e,t,n,i){if(e){if(i){const r=e=>{if(!e.target)return;const t=e.target.closest(i);t&&n.call(t,e)};return e.addEventListener(t,r),r}{const i=t=>{n.call(e,t)};return e.addEventListener(t,i),i}}},removeEventListener:function(e,t,n){e&&e.removeEventListener(t,n)}}}.call(t,n,t,e))||(e.exports=i)},30819:function(e,t,n){var i,r;i=[n(26742)],void 0===(r=function(e){var t="data-draft-being-saved";return{isDraftBeingSaved:function(){return"true"===e.getStandardFormForModal().attr(t)},setDraftBeingSaved:function(n){return e.getStandardFormForModal().attr(t,n)}}}.apply(t,i))||(e.exports=r)},52737:function(e,t,n){var i,r;i=[n(37549),n(89152)],void 0===(r=function(e,t){var n=function(e,n){return!!e&&!!t.hasClass(e,"sd-group")&&(!n||t.hasClass(e,"multi-group"))},i=function(e,r){var o,a;return e?n(e,!0===r)?e:(a=(o=e.getAttribute("data-parent-group"))?document.getElementById(o):t.getClosestParent(e,".sd-group[id]"),i(a,r)):null};return{isPlainDropdownFormControl:function(e){return e.is("select")&&!e.data("create")&&!this.isMultipleDropdownFormControl(e)},isMultipleDropdownFormControl:function(e){return e[0].hasAttribute("multiple")},isOptionElementSelected:function(e){return e&&"OPTION"===e.nodeName&&e.selected},getFirstSelectedOption:function(e){var t=e.options;if(t)for(var n=0;n<t.length;n++)if(this.isOptionElementSelected(t[n]))return t[n];return null},getSelectedOptions:function(e){if(!e||null===e.options||void 0===e.options)return[];var t=e.options,n=[];if(t&&t.length)for(var i=0;i<t.length;i++)this.isOptionElementSelected(t[i])&&n.push(t[i]);return n},getEmptyValueOptions:function(e){var t=[];if(e)for(var n=0;n<e.length;n++)""===e.value&&t.push(e[n]);return t},isStructuredDataGroup:n,isMultipleStructuredDataGroup:function(e){return n(e,!0)},isWysiwygFormControl:function(e){return t.hasClass(e,"wysiwyg")},isDropdownFormGroup:function(e){return t.hasClass(e,"sd-field-type-DROPDOWN")},isMultiselectFormGroup:function(e){return t.hasClass(e,"sd-field-type-MULTISELECTOR")},isCheckboxFormGroup:function(e){return t.hasClass(e,"sd-field-type-CHECKBOX")},isRadioFormGroup:function(e){return t.hasClass(e,"sd-field-type-RADIOBUTTON")},isTextareaFormGroup:function(e){return t.hasClass(e,"sd-field-type-TEXT_AREA")},isWysiwygFormGroup:function(e){return t.hasClass(e,"sd-field-type-WYSIWYG")},isChooserFormGroup:function(e){return t.hasClass(e,"sd-field-type-CHOOSER")},getSerializableFields:function(t){var n=t.find(":input").not(".disable-form-serialization :input");return function(t){return t.filter((function(t,n){var i=e(n);return!(i.hasClass("asset-chooser-id")||i.hasClass("chooser-id")||i.hasClass("chooser-old-id")||i.hasClass("chooser-path"))||""!==i.val()}))}(n)},locateFirstVisibleFieldInGroup:function(t){const n=document.getElementById(t[0].id+"-body");if(n){let t=n.querySelector(":scope > .form-group:not(.hide)");return t||(t=n.querySelector(":scope > .sd-multi-group > .form-group:not(.hide)")),e(t)}return e()},getClosestParentGroup:function(e){var t,n;return e?(t=function(e){return e&&e.cs_parentGroup||null}(e),t||(function(e,t){e&&(e.cs_parentGroup=t||null)}(e,n=i(e)),n)):null},getClosestMultipleParentGroup:function(e){var t,n;return e?(t=function(e){return e&&e.cs_parentGroup_multiOnly||null}(e),t||(function(e,t){e&&(e.cs_parentGroup_multiOnly=t||null)}(e,n=i(e,!0)),n)):null},getClosestFormGroupWrapper:function(e){return e?(e.cs_formGroup||(e.cs_formGroup=t.getClosest(e,".form-group")),e.cs_formGroup):null},isClosestParentGroupBodyNotVisible:function(e){var n,i=this.getClosestParentGroup(e);return!!i&&(n=document.getElementById(i.id+"-body"),!t.isVisible(n))},fieldAllowsChangeEvent:function(e){return!t.hasClass(e,"no-warn")}}}.apply(t,i))||(e.exports=r)},78906:function(e,t,n){var i,r;i=[n(89152)],void 0===(r=function(e){return{enableTrackingOnElement:function(t,n){e.hasClass(t,"fs-exclude")?requestAnimationFrame((function(){e.removeClass(t,"fs-exclude"),e.reinsertElementIntoDom(t),n&&n(t)})):n&&n(t)}}}.apply(t,i))||(e.exports=r)},71651:function(e,t,n){var i;void 0===(i=function(e){return{CODES:{DOM_VK_CANCEL:3,DOM_VK_HELP:6,DOM_VK_BACK_SPACE:8,DOM_VK_TAB:9,DOM_VK_CLEAR:12,DOM_VK_RETURN:13,DOM_VK_ENTER:14,DOM_VK_SHIFT:16,DOM_VK_CONTROL:17,DOM_VK_ALT:18,DOM_VK_PAUSE:19,DOM_VK_CAPS_LOCK:20,DOM_VK_ESCAPE:27,DOM_VK_SPACE:32,DOM_VK_PAGE_UP:33,DOM_VK_PAGE_DOWN:34,DOM_VK_END:35,DOM_VK_HOME:36,DOM_VK_LEFT:37,DOM_VK_UP:38,DOM_VK_RIGHT:39,DOM_VK_DOWN:40,DOM_VK_PRINTSCREEN:44,DOM_VK_INSERT:45,DOM_VK_DELETE:46,DOM_VK_0:48,DOM_VK_1:49,DOM_VK_2:50,DOM_VK_3:51,DOM_VK_4:52,DOM_VK_5:53,DOM_VK_6:54,DOM_VK_7:55,DOM_VK_8:56,DOM_VK_9:57,DOM_VK_SEMICOLON:59,DOM_VK_EQUALS:61,DOM_VK_A:65,DOM_VK_B:66,DOM_VK_C:67,DOM_VK_D:68,DOM_VK_E:69,DOM_VK_F:70,DOM_VK_G:71,DOM_VK_H:72,DOM_VK_I:73,DOM_VK_J:74,DOM_VK_K:75,DOM_VK_L:76,DOM_VK_M:77,DOM_VK_N:78,DOM_VK_O:79,DOM_VK_P:80,DOM_VK_Q:81,DOM_VK_R:82,DOM_VK_S:83,DOM_VK_T:84,DOM_VK_U:85,DOM_VK_V:86,DOM_VK_W:87,DOM_VK_X:88,DOM_VK_Y:89,DOM_VK_Z:90,DOM_VK_CONTEXT_MENU:93,DOM_VK_NUMPAD0:96,DOM_VK_NUMPAD1:97,DOM_VK_NUMPAD2:98,DOM_VK_NUMPAD3:99,DOM_VK_NUMPAD4:100,DOM_VK_NUMPAD5:101,DOM_VK_NUMPAD6:102,DOM_VK_NUMPAD7:103,DOM_VK_NUMPAD8:104,DOM_VK_NUMPAD9:105,DOM_VK_MULTIPLY:106,DOM_VK_ADD:107,DOM_VK_SEPARATOR:108,DOM_VK_SUBTRACT:109,DOM_VK_DECIMAL:110,DOM_VK_DIVIDE:111,DOM_VK_F1:112,DOM_VK_F2:113,DOM_VK_F3:114,DOM_VK_F4:115,DOM_VK_F5:116,DOM_VK_F6:117,DOM_VK_F7:118,DOM_VK_F8:119,DOM_VK_F9:120,DOM_VK_F10:121,DOM_VK_F11:122,DOM_VK_F12:123,DOM_VK_F13:124,DOM_VK_F14:125,DOM_VK_F15:126,DOM_VK_F16:127,DOM_VK_F17:128,DOM_VK_F18:129,DOM_VK_F19:130,DOM_VK_F20:131,DOM_VK_F21:132,DOM_VK_F22:133,DOM_VK_F23:134,DOM_VK_F24:135,DOM_VK_NUM_LOCK:144,DOM_VK_SCROLL_LOCK:145,DOM_VK_COMMA:188,DOM_VK_PERIOD:190,DOM_VK_SLASH:191,DOM_VK_BACK_QUOTE:192,DOM_VK_OPEN_BRACKET:219,DOM_VK_BACK_SLASH:220,DOM_VK_CLOSE_BRACKET:221,DOM_VK_QUOTE:222,DOM_VK_META:224}}}.call(t,n,t,e))||(e.exports=i)},78364:function(e,t,n){var r,o;r=[n(37549),n(74663),n(52737),n(26742),n(24819)],void 0===(o=function(e,t,n,r,o){return{getEmptyFieldValueMarkup:function(e){return e=e||"label.field.empty",'<span class="empty-text-value">'+t.get(e)+"</span>"},getEmptyWysiwygFieldValueMarkup:function(){return this.getEmptyFieldValueMarkup("label.field.wysiwyg.empty")},convertHtmlMarkupToPlainText:function(e){if(!e||!e.length)return"";var t=document.createElement("div");return t.innerHTML=e,t.innerText},getValueFromTextBasedFormField:function(e){var t=e.find('input:not(.pd-field):not([type="hidden"]):eq(0)'),n=t.length?t.val():"";return this.convertHtmlMarkupToPlainText(n)||this.getEmptyFieldValueMarkup()},getPlainTextValueFromTextareaOrWysiwygFormField:function(e){var t=e.find("textarea:eq(0)");return t.length?this.convertHtmlMarkupToPlainText(t[0].value)||(n.isWysiwygFormControl(t[0])?this.getEmptyWysiwygFieldValueMarkup():this.getEmptyFieldValueMarkup()):this.getEmptyFieldValueMarkup()},getSelectedOptionLabelsFromSelectField:function(e){var t=e.find("select:eq(0)");if(!t.length)return this.getEmptyFieldValueMarkup();var i,r=t[0],o=[];for(i=0;i<r.options.length;i++){var a=r.options[i];n.isOptionElementSelected(a)&&a.value&&o.push(a.label)}return o.length?o.join(", "):this.getEmptyFieldValueMarkup()},getCheckedValuesFromCheckboxOrRadioFormField:function(e){var t=e.find(".checkbox:eq(0), .radio:eq(0)");if(!t.length)return this.getEmptyFieldValueMarkup();var n=t.find("input"),r=[];for(i=0;i<n.length;i++)if(n[i].checked){var o=n.eq(i).next("label:first"),a=o.length?o.text().trim():n[i].value;a.length&&r.push(a)}return r.length?r.join(", "):this.getEmptyFieldValueMarkup()},getChosenAssetMarkupFromAssetChooserFormField:function(e){var t=e.find(".asset-chooser:eq(0)");if(!t.length)return this.getEmptyFieldValueMarkup();var n=t.assetChooser().data("cs.chooser");return!n||n.isEmpty()?this.getEmptyFieldValueMarkup():o.render(n.getAssetFromChosen(),{textOnly:!0})},getFieldValueForGroupPreview:function(e){var t;return!e||0===e.length||n.isStructuredDataGroup(e[0])?"":(t=e[0],n.isDropdownFormGroup(t)||n.isMultiselectFormGroup(t)?this.getSelectedOptionLabelsFromSelectField(e):n.isCheckboxFormGroup(t)||n.isRadioFormGroup(t)?this.getCheckedValuesFromCheckboxOrRadioFormField(e):n.isTextareaFormGroup(t)||n.isWysiwygFormGroup(t)?this.getPlainTextValueFromTextareaOrWysiwygFormField(e):n.isChooserFormGroup(t)?this.getChosenAssetMarkupFromAssetChooserFormField(e):this.getValueFromTextBasedFormField(e))},getFieldLabelMarkupForGroupPreview:function(e){var t="";if(!e||!e.length)return"";if(n.isStructuredDataGroup(e[0])){if(t="Group",n.isMultipleStructuredDataGroup(e[0])){var i=e.attr("data-total-number-of-type");t+='<span class="label">'+(i>9?"9+":i)+"</span>"}t+=": ",t+=r.escapeEntities(e.find("span.sd-group-label:eq(0)").text())}else t=r.escapeEntities(e.find("label:eq(0)").text());return t}}}.apply(t,r))||(e.exports=o)},78576:function(e,t,n){var i,r;i=[n(52737)],void 0===(r=function(e){var t=function(e){return e?(e.cs_pdField||(e.cs_pdField=document.getElementById(e.id+"-pdfield")),e.cs_pdField):null},n=function(n){var i=e.getClosestFormGroupWrapper(n);if(!i)return!1;var r=t(i);return r&&""!==r.name};return{isHiddenBySmartFields:function(t){return!!n(t)||function(t){for(var i,r=e.getClosestParentGroup(t);r;){if(n(r))return!0;i=r.getAttribute("data-parent-group"),r=!!i&&e.getClosestParentGroup(document.getElementById(i))}return!1}(t)},followsMultipleGroupRules:function(t,n){var i=document.getElementById("dd-field-"+n),r=e.getClosestFormGroupWrapper(document.getElementById(t));if(!r||!i)return!1;var o,a=e.getClosestMultipleParentGroup(r),s=e.getClosestMultipleParentGroup(i);if(a&&s){for(;s;){if(s.id===a.id)return!0;o=s.getAttribute("data-parent-group"),s=!!o&&e.getClosestParentGroup(document.getElementById(o))}return!1}return!0},smartFieldValueMatches:function(t,n){if(!t)return!1;if(t.type.match(/radio|checkbox/))return t.checked;if(t.options){for(var i=t.options,r=0;r<i.length;r++)if(i[r].value===n)return e.isOptionElementSelected(i[r]);return!1}return t.value===n},getHiddenProgressiveDisclosureInput:t}}.apply(t,i))||(e.exports=r)},26742:function(e,t,n){var i,r,o=n(37549);i=[n(92648),n(86016),n(93660),n(89152)],void 0===(r=function(e,t,n,i){var r="http://www.w3.org/1999/xhtml",a=function(e){return e&&!e.disabled&&i.isVisible(e)&&!i.getClosest(e,".date")},s=function(e,t){if(t&&t.length)for(var n=t[0].querySelectorAll(e),i=0;i<n.length;i++){var r=n[i];if(a(r)){r.focus();break}}};return{createElement:function(e,t){return document.createElementNS?document.createElementNS(t||r,e):document.createElement(e)},getDocumentHead:function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},getFrameDocument:function(e){return e?e.contentDocument||e.contentWindow.document:null},hasCssString:function(e,t){var n,i=0;if((t=t||document).createStyleSheet&&(n=t.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===e)return!0;return!1},loadCssFile:function(e,t){if(t.createStyleSheet)t.createStyleSheet(e);else{var n=t.createElementNS?t.createElementNS(r,"link"):t.createElement("link");n.rel="stylesheet",n.href=e,this.getDocumentHead(t).appendChild(n)}},loadCssString:function(e,t,n){if(n=n||document,t&&this.hasCssString(t,n))return null;var i;n.createStyleSheet?((i=n.createStyleSheet()).cssText=e,t&&(i.owningElement.id=t)):((i=n.createElementNS?n.createElementNS(r,"style"):n.createElement("style")).appendChild(n.createTextNode(e)),t&&(i.id=t),this.getDocumentHead(n).appendChild(i))},getJsonResponseStatus:function(e){var t,n="unknown";return e.error?(n="danger",t=e.error):e.warning?(n="warning",t=e.warning):e.success&&(n="success",t=e.success),{status:n,message:t}},escapeEntities:function(t){return e.escape(t)},removeAnyScriptTags:function(e){return e.replace(/<.*?script.*?>.*?<\/.*?script.*?>/gim,"")},getAjaxResponseError:function(e){var t=Cascade.I18n.get("title.error");if(!e)return t;if(409===e.status)return"Multiple submissions detected. Please try again.";var n=e.responseJSON;return n?n.error||n.message||t:e.responseText||t},getStandardForm:function(e){var t;return(e=e&&e.length?e:o(".container")).is("form")?e:(0==(t=e.find("#editform, form")).length&&(t=e.parents("#editform, form")),t.first())},getStandardFormForModal:function(){return this.getStandardForm(o("#ajax-modal"))},focusFirstFormField:function(e){s("textarea, input, .chooser",e)},focusFirstFocusableElement:function(e){s("textarea, input, .chooser, a, button",e)},addButtonToFormAction:function(e,t){var i=e.attr("name"),r=e.attr("value"),o={};o[i]=r,t.attr("action",n.default.addOrUpdateParams(t.attr("action"),o))},parseJson:function(e,t,n){try{return JSON.parse(e)}catch(e){return n&&n(e),t}},getFileExtension:function(n,i){var r,o,a,s;return n?(a=!(e.has(i,"preserveCase")&&!1===i.preserveCase),s=!(e.has(i,"preservePeriod")&&!1===i.preservePeriod),r=t(n,{preserveCase:a}),s&&r&&(o=e.endsWith(n.toLowerCase(),"."+r.toLowerCase()),r=o?"."+r:r),r):null},highlight:function(t,n){var i;return e.isEmpty(t)?"":(n=n.trim()||"",i=e.buildQueryRegExp(n),n&&i.test(t)?t.replace(i,'<span class="search-highlight">$&</span>'):t)},stripSurroundingQuotes:function(t){return e.replace(t,/(^(\"|\')+|(\"|\')+$)/g,"")},stripAllQuotes:function(t){return e.replace(t,/['"]+/g,"")}}}.apply(t,i))||(e.exports=r)},69344:function(e,t,n){var i,r,o=n(37549);i=[n(78576)],void 0===(r=function(e){return{shouldValidate:function(t){var n;return!(!t||-1!==t.className.indexOf("novalidation")||!t.name)&&(!(n=t.getAttribute("data-validation-condition"))||("smart-fields"===n?!e.isHiddenBySmartFields(t):o(n).length))},shouldFormValidate:function(e){return e.length&&!e[0].hasAttribute("formnovalidate")}}}.apply(t,i))||(e.exports=r)},3143:function(e,t,n){var i,r;i=[n(92648),n(37549)],void 0===(r=function(e,t){return{retrieveLabelKeyForPlaceholder:function(e){if(""!==e)return-1===e.indexOf("WORKFLOW_NAME")&&-1===e.indexOf("LINK_TO_WORKFLOW")&&(e=e.replace(/WORKFLOW/g,"")),Cascade.I18n.get("label.workflowemail.placeholder."+e.replace(/{/g,"").replace(/}/g,"").replace(/_/g,"").toLowerCase())}}}.apply(t,i))||(e.exports=r)},2687:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(12596),n(92525),n(8999)],void 0===(r=function(e,t,n,i,r){e("#create-leaf-link, #create-container-link").click((function(){var n=e(this).attr("data-type"),r=t.Variables.get("currentSiteId");e("#menu-action li").removeClass("open"),i.focusElementOnHide(this),i.getAdminChoices(n,r)})),r.init()}.apply(t,i))||(e.exports=r)},72622:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(22360)],void 0===(r=function(e,t,n,i){var r=e(".secondary-menu-content").find(".asset-tree-wrapper");r.length&&i.load(r)}.apply(t,i))||(e.exports=r)},39185:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(14741),n(12993),n(26742),n(93660),n(26347),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c=a.default.absolutePath("/ajax/markLastAnnouncementRead.act"),u=!1,d={NOTIFICATION:"urgent",URGENT:"urgent"};return{init:function(){s.listenTo("BROADCAST_MESSAGE",(function(n){u||(u=!0,i.showHtml({icon:"ci ci-alert-circle",title:t.escape(n.subject),message:o.removeAnyScriptTags(n.message)},{type:d[n.urgency],delay:0,placement:{from:"bottom",align:"center"},template:r.get("announcementNotification")({type:d[n.urgency]}),onClose:function(){e.get(c),u=!1,l.GENERAL.trackEvent("Read Announcement Notification")}}))}))}}}.apply(t,i))||(e.exports=r)},92525:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(12596),n(16412),n(65872),n(51953),n(91314),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c="action",u=function(){var e=this,t=e.getAttribute("data-action"),o={id:n.Variables.get("domId"),type:n.Variables.get("domType")};t&&(i.focusElementOnHide(e),i.open(t,o,(function(){d(e.id.replace("-link","")),r.onHide((function(){d()}))}),null,n.UI.disableButton(e)))},d=function(e){var n="",i={};t.isEmpty(e)?n=l.default.removeUrlParameter(location.href,"action"):(i[c]=e,n=l.default.addOrUpdateParams(location.href,i)),s.replaceState(n,i)},h=function(e){var t=e.getAttribute("data-shortcut");t&&o.add(t,(function(){e.focus(),e.click()}))};return{init:function(){var n=e("#page-menu");n.length&&(n.off("click",".action-modal",u).on("click",".action-modal",u),function(e){var n,i=(n=l.default.getUrlParameter(null,c),t.getPath(history,"history.state.action",n));i&&e.find("#"+i+"-link").focus().click()}(n),function(t){var n=e("#create-link"),i=e("#details-link"),r=e("#show-regions"),a=t.find("[data-shortcut]");if(a.length)for(var s=0;s<a.length;s++)h(a[s]);i.length&&o.add("i",(function(){i.trigger("focus").trigger("click")})),n.length&&o.add("+",(function(){n.trigger("focus").trigger("click")})),r.length&&o.add("s",(function(){r.trigger("click")}))}(n),a.init(n))}}}.apply(t,i))||(e.exports=r)},78751:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(41057),n(20783),n(11688),n(95735),n(68137),n(93918),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){var u=c.default.absolutePath("/ajax/chooser/loadAssetChooserPanel.act?"),d=/folder|container|publishable/,h=c.default.absolutePath("/ajax/addHistoryItem.act"),f=c.default.absolutePath("/ajax/getHistory.act?"),p=c.default.absolutePath("/ajax/getUserStarredEntities.act?"),A=c.default.absolutePath("/ajax/getSwitchableSites.act"),g=e(document),m=function(t,n){return r.call(this,t,n),this.options.hasRecent="editorconfiguration"!==this.options.type&&void 0===this.options.restrictToFolder,this.options.hasUpload="file"===this.options.type||"linkable"===this.options.type||"foldercontained"===this.options.type||"homeareapublishable"===this.options.type,this.options.isContainerChooser=null!==this.options.type.match(d),this.ui.$fieldId=e(document.getElementById(this.options.fieldId)),this.ui.$fieldPath=e(document.getElementById(this.options.fieldPath)),this.ui.$chosenName=this.$elem.find(".asset-chooser-name"),this.ui.$chosenPath=this.$elem.parent().next().find(".asset-chooser-path"),this.ui.$placeholder=this.$elem.find(".asset-chooser-placeholder"),this.$elem.trigger("init.cs.chooser.asset"),this};(m.prototype=t.create(r.prototype,{constructor:m,defaults:t.defaultsDeep({hasRecent:!0,hasUpload:!0,isContainerChooser:!1,chosenTemplate:{$elem:null,id:"",label:"",path:"",breadcrumb_string:"",parentContainer:{id:""},siteId:n.Variables.get("currentSiteId","")},crossSiteRule:"CROSS_SITE"},r.prototype.defaults)})).initializePanel=function(){var c=this,d=this.getAssetFromChosen(),g=void 0!==this.options.restrictToFolder,m={filterType:this.options.type,crossSiteRule:this.options.crossSiteRule,originalSiteId:this.options.originalSiteId},v=function(e){return e.id?e.siteId:n.Variables.get("modalDomSiteId",e.siteId)}(d),y={hasRecent:this.options.hasRecent,hasUpload:this.options.hasUpload,filter:this.options.type,originalSiteId:this.options.originalSiteId,siteId:v};g&&(t.set(y,"restrictToFolderPath",this.options.restrictToFolder.path),t.set(y,"restrictToFolderId",this.options.restrictToFolder.id));var b=f+t.toQuery(m),w=p+t.toQuery(m),x=function(){return u+t.toQuery(y)};switch(r.prototype.initializePanel.call(this,{onSubmit:function(){var n=t.values(c.Panel.currentTab.getChosen())[0];c.setChosen(c.Panel.currentTab.getChosen()),o.set(b,null),o.set(w,null),e.get(h,{id:n.id,type:n.type}),function(e){e&&e.siteId&&e.siteId!==y.siteId&&(y.siteId=e.siteId,c.Panel.options.openAction=x())}(n)},headingText:this.options.headingText,submitButtonText:this.options.submitButtonText,openAction:x()}),this.$elem.on("loaded.cs.chooser.panel",(function(){var e,t;(e=c.Panel.find(".nav")).children("li").length<2&&e.hide(),(t=c).getPanel().find(".show-all-types").on("click",(function(){t.$elem.one("hidden.cs.chooser.panel",(function(){var e=t.options.type;t.options.type=e.substring(0,e.indexOf("_")),t.initializePanel(),t.getPanel().open(),t.options.type=e})),t.getPanel().hide()}))})),this.options.hasRecent&&(this.Panel.addTab("#chooser-panel-tab-recent",new a.default("#chooser-panel-tab-recent",{datatables:{ajax:{dataSrc:"history",url:b},ordering:!1}},this.Panel)),this.Panel.addTab("#chooser-panel-tab-starred",new a.default("#chooser-panel-tab-starred",{datatables:{ajax:{url:w,dataSrc:function(e){for(var t=[],n=0;n<e.starredEntities.length;n++)t.push(e.starredEntities[n].asset);return t}},ordering:!1}},this.Panel))),this.options.type){case"site":this.Panel.addTab("#chooser-panel-tab-sites",new a.default("#chooser-panel-tab-sites",{datatables:{ajax:{dataSrc:"sites",url:A}}},this.Panel));break;case"editorconfiguration":this.Panel.addTab("#chooser-panel-tab-browse",new s.default("#chooser-panel-tab-browse",{ajaxParams:{id:d.parentContainer.id,type:this.options.type,filterType:this.options.type,siteId:this.isEmpty()?n.Variables.get("modalDomSiteId",this.options.originalSiteId):d.siteId},datatables:{ajax:{dataSrc:function(e){return i.deactivate(c.Panel.$elem),t.has(e,"searchResults")?e.searchResults||[]:e.children}}},crossSiteRule:this.options.crossSiteRule,onRowChildShow:function(e){i.activate(e.child(),!1,!0)},onRowChildHide:function(e){i.deactivate(e.child())}},this.Panel)),this.$elem.on("hide.cs.chooser.panel",(function(){i.deactivate(c.Panel.$elem)}));break;default:var C=this.isEmpty()||d.isRecycled,_=C?"":d.parentContainer.id,k=C?n.Variables.get("modalDomSiteId",this.options.originalSiteId):d.siteId;g&&(k=this.options.restrictToFolder.siteId,_=this.options.restrictToFolder.id),this.Panel.addTab("#chooser-panel-tab-browse",new s.default("#chooser-panel-tab-browse",{ajaxParams:{id:_,type:this.options.type,filterType:this.options.type,siteId:k,restrictToFolderPath:g?this.options.restrictToFolder.path:"",restrictToFolderId:g?this.options.restrictToFolder.id:""},crossSiteRule:this.options.crossSiteRule,hasRestrictToFolder:g},this.Panel)),this.options.hasUpload&&this.Panel.addTab("#chooser-panel-tab-upload",new l.default("#chooser-panel-tab-upload",{ajaxParams:{id:_,type:"folder",filterType:"folder",siteId:k,restrictToFolderPath:g?this.options.restrictToFolder.path:"",restrictToFolderId:g?this.options.restrictToFolder.id:"",includeRestrictions:!0},crossSiteRule:this.options.crossSiteRule,allowContainerSelection:!0,hasRestrictToFolder:g},this.Panel))}},m.prototype.isEmpty=function(){return t.isEmpty(this.getAssetFromChosen().id)},m.prototype.getAssetFromChosen=function(){var n=t.values(this.getChosen())[0];return e.extend(!0,{},this.defaults.chosenTemplate,t.isObject(n)?n:{})},m.prototype.getValidationField=function(){return this.ui.$fieldId},m.prototype.updateUI=function(){var e="",t=this.options.ariaLabel,n=this.getAssetFromChosen(),i=this.isEmpty();this.ui.$fieldId.val(n.id).trigger("change"),this.ui.$fieldPath.val(n.path).trigger("change"),i?this.$elem.attr({"data-asset-id":"","data-asset-type":""}):(t=n.tOrDN||n.label,e=n.breadcrumb_string||n.path,this.$elem.attr({"data-asset-id":n.id,"data-asset-type":n.type})),this.isClean()||this.ui.$wrapper.removeClass("isrecycled"),this.ui.$chosenName.html(t),this.ui.$chosenPath.parent().toggleClass("hide",i||"site"===n.type),this.ui.$chosenPath.attr("title",e).text(e),r.prototype.updateUI.call(this)},m.prototype.clear=function(){this.setChosen({}),r.prototype.clear.call(this)},e.fn.assetChooser=function(t){return this.each((function(){e.data(this,"cs.chooser")||e.data(this,"cs.chooser",new m(this,t))}))},g.on("click.cs.chooser.asset",".asset-chooser",t.debounce((function(t){var n=e(this),i=n.data("cs.chooser")||n.assetChooser().data("cs.chooser");i.isPanelLoading()||(i.updateUI(),i.initializePanel(),i.getPanel().open())}),150)),g.on("click.cs.chooser.asset",".asset-chooser-clear",(function(t){var n=e(this).prev(".asset-chooser"),i=n.data("cs.chooser")||n.assetChooser().data("cs.chooser");i.updateUI(),i.clear()})),g.on("click.cs.chooser.asset",".asset-chooser-path-wrapper",(function(){e(this).toggleClass("expanded")})),g.on("focus.cs.chooser.asset",".asset-chooser-clear",(function(t){e(this).parent().addClass("focus")})),g.on("blur.cs.chooser.asset",".asset-chooser-clear",(function(t){e(this).parent().removeClass("focus")}))}.apply(t,i))||(e.exports=r)},13482:function(e,t,n){var i,r;i=[n(37549),n(93541),n(12596),n(16412),n(42505),n(47807),n(14741),n(99274),n(81538),n(26742),n(93660),n(71651),n(89152),n(59251),n(10861),n(35974),n(51953)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g){var m,v=u.default.absolutePath("/ajax/loadAssetContextMenu.act"),y={},b=!1,w=function(e,t,n){e.data("bs.popover")?e.data("bs.popover").options.content=n:e.popover({html:!0,placement:"bottom",container:t,viewport:{selector:t,padding:0},trigger:"manual",template:'<div class="popover asset-context-menu" role="tooltip" data-cy="asset-context-menu"><div class="arrow"></div><div class="popover-content"></div></div>',content:n})},x=function(t){h.isElementInDom(t[0])?t.trigger("popover.hide"):e(".popover.asset-context-menu").remove()},C=function(){var t=e(".asset-context-menu.in");if(t.length){var n=t.find("a,button"),i=n.first(),r=n.last(),o=t.find(".actions-menu-more-btn");t.on("keydown","a,button",(function(t){var n=e(this);t.which===d.CODES.DOM_VK_TAB&&(t.shiftKey&&n.is(i)||n.is(r)||n.is(o)&&!o.hasClass("sr-only"))&&(t.preventDefault(),x(m),m.focus())})),i.focus()}},k=function(){if(m.length){var e=m[0].dataset.assetId,t=m[0].dataset.assetType;delete y[t+e],m.data("popoverInit",!1)}},S={initialize:function(n){var i=this,r=e(n);r.on({"popover.show":function(t){var n=e(this);if(_.isBoolean(n.data("popoverOpen"))&&n.data("popoverOpen"))return!1;var o=n.attr("data-asset-id"),a=n.attr("data-asset-type");if(!o||!a)return!1;if(m&&!m.is(n)&&x(m),(m=n).data("popoverOpen",!0),_.isBoolean(m.data("popoverInit"))&&m.data("popoverInit"))m.popover("show");else{var s=function(e){var t;return(t=e.closest(".mce-window").length?e.closest(".mce-form"):e.closest(".optiscroll-content, .dropdown-menu-scroll")).length?(t.uniqueId(),"#"+t.attr("id")):"body"}(m);m.data("popoverInit",!0),function(e,t){p.INTERFACE.trackEvent("Opened Context Menu",{assetId:e,assetType:t})}(o,a),_.isEmpty(y[a+o])?e.ajax({url:v,data:{id:o,type:a},success:function(e){y[a+o]=e,w(m,s,e),m.popover("show")}}):(w(m,s,y[a+o]),m.popover("show")),g.init(r,k)}i.isMoreActionsShown()&&r.find(".actions-menu button.actions-menu-more-btn").trigger("click")},"shown.bs.popover":C,keydown:function(t){var n=e(this);t.which===d.CODES.DOM_VK_BACK_QUOTE&&(t.preventDefault(),n.trigger("popover.show"))},"popover.hide":function(t){var n=e(this);n.popover("hide"),n.data("popoverOpen",!1)},contextmenu:function(t){t.preventDefault(),e(this).trigger("popover.show")},click:function(e){b&&e.preventDefault()},touchstart:function(t){b=!0;var n=e(this);n.data("touchstartTimestamp",(new Date).getTime()),n.data("touchstartTimer",setTimeout((function(){n.trigger("popover.show")}),500))},touchmove:function(t){clearTimeout(e(this).data("touchstartTimer"))},touchcancel:function(t){clearTimeout(e(this).data("touchstartTimer"))},touchend:function(t){var n=e(this);(new Date).getTime()-n.data("touchstartTimestamp")<500&&(clearTimeout(n.data("touchstartTimer")),this.href&&(window.location=this.href))}},".asset-link.hoverable, .chooser, .chooser-tag"),r.on("click",(function(t){if(m){var n=e(".asset-context-menu");n.is(t.target)||0!==n.has(t.target).length||m.is(t.target)||0!==m.has(t.target).length||(r=t.target,(o=h.getClosest(r,"button.js-entity-star"))&&m[0].dataset.assetId===o.dataset.entityId&&k(),i.hide())}var r,o})),new o(".asset-context-menu .copy-path").on("success",(function(n){var i=e(n.trigger);i.one("mouseleave",_.debounce((function(){A.setContent(i,t.I18n.get("label.copy.path"))}),250)),A.setContent(i,t.I18n.get("label.copy.path.copied")),A.showTooltip(i),p.INTERFACE.trackEvent("Copied Path from Context Menu")})),r.on("click.cs.contextmenu",".asset-context-menu .actions-menu button.actions-menu-more-btn",this._showMoreActions.bind(this)),r.on("click.cs.contextmenu",".asset-context-menu .actions-menu button.context-link-modal",this.modalAction.bind(this)),r.on("click.cs.contextmenu",".asset-context-menu .actions-menu button.context-link-js.lock-link",this.lockAction.bind(this)),r.on("click.cs.contextmenu",".asset-context-menu .actions-menu button.context-link-js.discard-link",this.discardDraftAction.bind(this)),r.on("click.cs.contextmenu",".asset-context-menu .actions-menu button.context-link-js.breaklock-link",this.breakLockAction.bind(this)),r.on("click.cs.contextmenu",".asset-context-menu .actions-menu button.context-link-js.resolve-link",this.resolveAction.bind(this)),r.on("click.cs.contextmenu",".asset-context-menu .actions-menu button.context-link-js.unresolve-link",this.reopenAction.bind(this)),r.on("click.cs.contextmenu",".asset-context-menu .actions-menu button.context-link-js.markasreviewed-link",this.markReviewedAction.bind(this))},hide:function(){m&&(x(m),m=null)},insideModal:function(){return m&&e.contains(n.find()[0],m[0])},getTinyWindow:function(){return m&&m.closest(".mce-window")},isInRegionsSidebar:function(){return"page"===t.Variables.get("domType")&&m&&m.closest(".regions").length>0},isMoreActionsShown:function(){return m&&!0===m.data("more-actions-shown")},determineContextPageAndBlock:function(){return this.isInRegionsSidebar()?{contextPageId:t.Variables.get("domId"),contextBlockId:m.closest(".region-assignments").find('a[data-asset-type="block"]').attr("data-asset-id")}:null},_contextAction:function(r,o){var a=t.UI.disableButton(r.currentTarget),s=e(r.currentTarget).closest(".actions-menu"),l=s.data("asset-id"),c=s.data("asset-type"),u=this.getTinyWindow();if(n.focusElementOnHide(r.currentTarget),this.insideModal()||u){var d=f.shouldWarn();f.enableWarnings();var h=function(){u&&u.find(".mce-close").click(),o(l,c,a)},p=function(){i.find("form").off("cancel.warning.dialog",p),i.find(".modal").off("hidden.bs.modal",h),d?f.enableWarnings():f.disableWarnings(),a()};i.find("form").on("cancel.warning.dialog",p),i.hide(h)}else o(l,c,a),this.hide()},_showMoreActions:function(t){var n=e(t.currentTarget);n.addClass("sr-only").attr("tabindex","-1"),n.next(".actions-menu-more").removeClass("hide"),m&&m.data("more-actions-shown",!0)},lockAction:function(e){this._contextAction(e,(function(e,t,n){r.checkoutAsset(e,t,n)}))},discardDraftAction:function(e){this._contextAction(e,(function(e,t,n){s.default.discardDraft({identifier:{id:e,type:t},forward:!0,successCallback:function(e){var t=c.getJsonResponseStatus(e);e.success&&a.registerAndReload(t)}}).then(n)}))},breakLockAction:function(e){this._contextAction(e,(function(e,t,n){r.breakLock(e,t,!1,n)}))},resolveAction:function(e){this._contextAction(e,(function(e,t,n){l.updateResolutionStatus(!1,{id:e},n)}))},reopenAction:function(e){this._contextAction(e,(function(e,t,n){l.updateResolutionStatus(!0,{id:e},n)}))},markReviewedAction:function(t){this._contextAction(t,(function(t,n,i){e.ajax({url:u.default.absolutePath("/ajax/markAsReviewed.act"),data:{id:t,type:n},success:function(e){var t=c.getJsonResponseStatus(e);e&&a.showHtml(t.message,{type:t.status})}}).done((function(){}))}))},modalAction:function(e){var t=this,i=h.getClosest(e.currentTarget,"button");this._contextAction(e,(function(e,r,o){var a=h.getAttribute(i,"data-action"),s=t.determineContextPageAndBlock();s&&(a=u.default.addOrUpdateParams(a,s)),n.open(a,{id:e,type:r},null,null,o)}))}};return S.initialize("body"),S}.apply(t,i))||(e.exports=r)},24819:function(e,t,n){var i,r,o=n(37549);i=[n(92648),n(93541),n(12993),n(26742),n(93660)],void 0===(r=function(e,t,n,i,r){var a=n.get("assetLinkAssetTree"),s=n.get("assetLinkNormal"),l=n.get("assetLinkThumbnail"),c=n.get("assetLinkTypeaheadSearch"),u=n.get("assetLinkDataTableRow"),d=r.default.absolutePath("/render/profilePicture.act",{userId:""}),h={action:"",showIcon:!0,recycled:!1,hoverable:!0,styleClass:"",includeTOrDN:!1,showLabel:!0,showPath:!1,showSite:!0},f=function(e){e.tagName="span",e.action="",e.target="",e.openInNewWindow=!1},p=function(t,n){var i={id:n.id,type:n.type};t.tagName="a",t.direct&&(i.direct=!0),"snippet"===i.type?t.url=r.default.absolutePath("/administration/snippets.act"):t.url=r.default.absolutePath("/entity/open.act",i),e.isEmpty(t.action)&&(t.action=t.url),t.action='href="'+t.action+'"',t.target=A(t.target),t.openInNewWindow='target="_blank"'===t.target};const A=function(e){return e?e.startsWith("target=")?e:'target="'+e+'"':""};var g=function(t,n){t.label=n.fNm||n.label||n.path,n.isDeleted&&(f(t),t.recycled=!0),e.isNil(n.hasProfilePicture)||(e.isEmpty(t.showProfilePicture)||!1!==t.showProfilePicture)&&(t.showProfilePicture=!0,t.showIcon=!1,n.hasProfilePicture?t.profilePictureUrl=d+n.id:t.initial=n.userInitial,["medium","large"].includes(t.profileSize)?t.profileSize="profile-picture-"+t.profileSize:t.profileSize="")},m=function(e,t){e.title=t.title||t.name,e.label=e.title,e.displayPath=t.value,e.hoverable=!1},v=function(){return"<em>"+t.I18n.get("label.field.empty")+"</em>"},y=function(e){return o.extend(!0,{},h,e||{})},b=function(t,n){var i=t.path;return n&&t.breadcrumb_string?i=t.breadcrumb_string:e.startsWith(i,"/")||(i="/"+i),i},w=function(n,i){e.isEmpty(i.tOrDN)?(n.label=i.label,n.title=i.label):n.includeTOrDN?(n.label="<b>"+i.tOrDN+"</b> "+i.label,n.title=i.label):(n.label=i.tOrDN,n.title=i.tOrDN),e.isEmpty(n.label)&&(n.label=t.I18n.get("title.untitled.drafts"),n.title=t.I18n.get("title.untitled.drafts"))};return{render:function(n,i){return e.isEmpty(n)?v():(i=y(i),(i=o.extend(!0,{},{target:"",direct:!1},i)).tagName=i.tagName||"a",i.textOnly||"span"===i.tagName?f(i):p(i,n),w(i,n),i.showPath&&(i.displayPath=b(n,i.showSite)),"user"===n.type?g(i,n):"snippet"===n.type&&m(i,n),s({asset:n,settings:i,I18n:t.I18n}))},renderThumbnailLink:function(n,i){return e.isEmpty(n)?v():(i=y(i),p(i,n),w(i,n),i.showPath&&(i.displayPath=b(n,i.showSite)),"user"===n.type?g(i,n):"snippet"===n.type&&m(i,n),l({asset:n,settings:i,I18n:t.I18n}))},renderTypeaheadResultLink:function(n,i){return e.isEmpty(n)?v():(i=y(i),i=o.extend(!0,{},{isHistoryEntry:!1,isStarredEntry:!1},i),p(i,n),w(i,n),i.displayPath=b(n,i.showSite),"user"===n.type?g(i,n):"snippet"===n.type&&m(i,n),c({asset:n,settings:i,I18n:t.I18n}))},renderDataTableRowLink:function(n,i){return e.isEmpty(n)?v():(i=y(i),p(i,n),w(i,n),i.displayPath=b(n,i.showSite),"snippet"===n.type&&m(i,n),u({asset:n,settings:i,I18n:t.I18n}))},renderAssetTreeLink:function(n){if(e.isEmpty(n))return v();var i=y(i);return p(i,n),w(i,n),a({asset:n,settings:i,I18n:t.I18n})}}}.apply(t,i))||(e.exports=r)},22360:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(12993),n(24819),n(84551),n(12596),n(26347),n(10861),n(89152),n(93660),n(90660)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u){const d="TITLE_OR_DISPLAY_NAME_OR_NAME",h=i.get("assetTree"),f=i.get("assetTreeLevel"),p={},A=function(n){const i=t.Variables.get("highlightedAssetId");return i?n.find(".asset-link[data-asset-id="+i+"]"):e()},g=function(e){return n.isEmpty(e)?"":f({renderChildren:g,children:e,AssetLinkRenderer:r})},m=function(e,t){let i,r;"folder"===e.attr("data-asset-type")&&(t=n.isNumber(t)?t:250,i=e.find(".ci-asset"),r=e.siblings("ul"),e.toggleClass("open"),i.toggleClass("active"),r.attr("data-folder-loaded")?r.toggle(t):y(r,t))},v=function(t){t.find("li:not(:first)").draggable({helper:"clone",refreshPositions:!0}),t.find(".asset-link").droppable({hoverClass:"drag-highlight",tolerance:"pointer",addClasses:"false",accept:"li",over:n.debounce((function(t,n){const i=c.getClosest(t.target,"li.foldable");if(!i)return;const r=i.querySelector("ul");n.draggable[0].cs_destinationContainer=r,r&&!c.isVisible(r)&&m(e(t.target))}),250),drop:function(e,t){if(!t.draggable.length||!t.helper.length)return;if(c.hasClass(t.helper[0],"ui-dropped"))return;const n=t.draggable[0].cs_destinationContainer,i=t.draggable[0].querySelector(".asset-link");if(!n||!i)return;const r=i.dataset.assetId,o=i.dataset.assetType,s=n.dataset.folderId;c.addClass(t.helper[0],"ui-dropped"),t.draggable[0].cs_destinationContainer=null,l.INTERFACE.trackAssetEvent("Drag/Dropped to Move in Asset Tree",{assetId:r,assetType:o}),a.focusElementOnHide(i),a.open(u.default.absolutePath("/ajax/move.act",{selectedContainerId:s}),{id:r,type:o})}})},y=function(t,i){i=n.isNumber(i)?i:250;const r={id:t.attr("data-folder-id"),type:"folder",linkType:d};e.get(u.default.absolutePath("/ajax/getcontainerchildren.act"),r,(function(e){e.children&&(t.html(g(e.children)),t.show(i),b(t,!1)),v(t),t.attr("data-folder-loaded",!0)}))},b=function(e,t){const n=A(e);if(n.length&&(n.addClass("active"),t)){const t=e.parents(".secondary-menu-content"),i=n.offset().top-t.height()/2-t.offset().top;o.scrollToInstant(t,i)}},w=function(n,i,o){let a,s;e.get(u.default.absolutePath("/ajax/navigationtree.act"),{id:t.Variables.get("highlightedAssetId"),type:t.Variables.get("highlightedAssetType"),siteId:t.Variables.get("currentSiteId"),linkType:d,subcontainerIds:i},(function(t){n.html(h({tree:t,renderChildren:g,AssetLinkRenderer:r})),e(".recycle-bin-size").text(t.recycleBinSize),a=A(n),a.length&&(s=a.parent().parents("li"),s.length&&s.each((function(){const t=e(this).children(".asset-link");t.length&&m(t,0)})),m(a,0),b(n,!o)),v(n),o&&o()}),"json")},x=function(t){const n=e("ul[data-folder-loaded='true']");for(let e=0;e<n.length;e++)t(n[e])};return p.load=function(t){t=t.length?t:e(".secondary-menu-content .asset-tree-wrapper"),o.enable(t.parents(".secondary-menu-content")),w(t),t.on("click",".foldable > .asset-link",(function(t){t.preventDefault(),m(e(this))})),e("body").on("cs.assetlisting.changed",(function(){const n=t.parents(".secondary-menu-content"),i=o.getScrollTop(n),r=[];x((function(e){const t=e.dataset.folderId;t&&"none"!==e.style.display&&r.push(t)})),w(t,JSON.stringify(r),(function(){x((function(t){const n=t.dataset.folderId;n&&"none"===t.style.display&&m(e(".asset-link[data-asset-id='"+n+"']"),0)})),o.scrollToInstant(n,i)}))})),s.listenTo("COMMAND",(function(t){"REFRESH_ASSET_LISTING"===t.command&&e("body").trigger("cs.assetlisting.changed")}))},p}.apply(t,i))||(e.exports=r)},20783:function(e,t,n){var i,r;i=[n(37549),n(92648),n(72044),n(26742),n(89152),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a=function(n,r){this.elem=n,this.$elem=e(n),this.ui={},this.uID=this.elem.id||t.uniqueId("chooser-"),this.metadata=this.$elem.data("chooser-options"),t.isString(this.metadata)&&(this.metadata=i.parseJson(t.escapeJSON(this.metadata),{})),this.options=e.extend(!0,{},this.defaults,r,this.metadata),this.options.chosen=this._sanitizeChosen(this.options.chosen),this.options.originalChosen=this.options.chosen,this.$elem.attr("aria-label")&&(this.options.ariaLabel=this.$elem.attr("aria-label")),this.ui.$wrapper=this.$elem.parent(),this.ui.$clearButton=this.ui.$wrapper.find(".chooser-clear"),this.ui.$clearButton.on("click.clear.cs.chooser",e.proxy(this.clear,this)),this.options.isClean=!0};return a.prototype.defaults={ariaLabel:"Choose...",chosen:{},hasClear:!0,isClean:!0,multiple:!1,includeRestrictions:!1},a.prototype.clear=function(){this.$elem.trigger("clear.cs.chooser"),this.$elem.trigger("focus")},a.prototype.disable=function(){r.disableClicking(this.elem),this.ui.$clearButton.hide(),this.$elem.trigger("disabled.cs.chooser")},a.prototype.enable=function(){r.enableClicking(this.elem),this.options.hasClear&&!this.isEmpty()&&this.ui.$clearButton.show(),this.$elem.trigger("enabled.cs.chooser")},a.prototype.disableClearButton=function(){this.options.hasClear=!1,this.ui.$clearButton.hide()},a.prototype.enableClearButton=function(){this.options.hasClear=!0,this.isEmpty()||this.ui.$clearButton.show()},a.prototype.find=function(e){return e?this.$elem.find(e):this.$elem},a.prototype.getChosen=function(){return this.options.chosen},a.prototype.resetChosen=function(){this.setChosen(this.options.originalChosen)},a.prototype.getPanel=function(){return this.Panel},a.prototype.initializePanel=function(e,t){e=e||{},t=t||{},this.Panel=new n(e,this,t)},a.prototype.isPanelOpen=function(){var e=this.getPanel();return null!=e&&e.options.isOpen},a.prototype.isPanelLoading=function(){var e=this.getPanel();return null!=e&&e.isLoading()},a.prototype.isClean=function(){var e=t.keys(this.options.chosen),n=t.keys(this.options.originalChosen);return!(e.length>n.length?t.difference(e,n):t.difference(n,e)).length},a.prototype.isEmpty=function(){return t.isEmpty(this.getChosen())},a.prototype._sanitizeChosen=function(e){var n={},i=function(e){return!!t.has(e,"id")&&(t.isNumber(e.id)||!t.isEmpty(e.id))};return t.isEmpty(e)?n:i(e)?(n[e.id]=t.cloneDeep(e),n):(t.isArray(e)&&(e=t.keyBy(e,"id")),t.forEach(e,(function(e,t){i(e)&&(n[e.id]=e)})),n)},a.prototype.setChosen=function(e){this.options.chosen=this._sanitizeChosen(e),this.updateUI()},a.prototype.loadAndSetChosen=function(t,n,i){var r=this;e.getJSON(o.default.absolutePath("/ajax/getAssetInfo.act"),{type:n,id:t},(function(e){r.setChosen(e.dom),i&&i()}))},a.prototype.updateUI=function(){this.isEmpty()&&this.options.placeholderText?this.$elem.attr({"aria-label":this.options.placeholderText,title:this.options.placeholderText}):this.$elem.attr({title:this.options.path}),this.options.hasClear&&this.ui.$clearButton.toggle(!this.isEmpty())},a}.apply(t,i))||(e.exports=r)},11688:function(e,t,n){var i,r;i=[n(92648)],void 0===(r=function(e){var t={};return{get:function(e){return t[e]||null},set:function(e,n){t[e]=n}}}.apply(t,i))||(e.exports=r)},60226:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(20783),n(95735),n(24819),n(12993)],void 0===(r=function(e,t,n,i,r,o,a){var s=a.get("chooserSingleSelection"),l=a.get("chooserTags"),c=function(n,r){i.call(this,n,r);var o=this;this.ui.$tags=this.ui.$wrapper.next(".chooser-tags"),this.ui.$tags.on("click",".chooser-tag-remove",(function(n){var i=e(this).parents("[data-asset]").eq(0);if(!i.length)return!1;var r=i.data("asset");i.remove(),delete o.options.chosen[r.id],o.$elem.trigger("removetag.cs.chooser",r),t.isEmpty(o.options.chosen)&&o.updateUI()})),this.ui.$validationField=this.ui.$wrapper.find(".chooser-validation")};return(c.prototype=t.create(i.prototype,{constructor:c,defaults:t.defaultsDeep({fieldName:"",fieldNameSuffix:"Select",multiple:!1},i.prototype.defaults)})).getValidationField=function(){return this.ui.$validationField},c.prototype.updateUI=function(){var e=this.getChosen(),n={chosen:e,fieldName:this.options.fieldName};if(this.options.multiple)this.ui.$tags.html(this.isEmpty()?"":l(n));else if(this.isEmpty())this.$elem.attr({"data-asset-id":"","data-asset-type":""}),this.find("span.chooser-name").text(this.options.ariaLabel);else{var r=t.values(e)[0];n.chosen=r,this.$elem.attr({"data-asset-id":r.id,"data-asset-type":r.type}),this.find("span.chooser-name").html(s(n))}this.ui.$validationField.val(this.isEmpty()?"":"true"),i.prototype.updateUI.call(this)},c.prototype.clear=function(){this.setChosen({}),i.prototype.clear.call(this)},c.prototype.syncPanelTabsToChosen=function(){var n={};e.each(this.Panel.tabs,(function(e,i){n=t.merge(n,i.getChosen())})),this.setChosen(n)},c.prototype.syncTagsToChosen=function(){var n=this,i=this.ui.$tags.find("[data-asset]");this.options.chosen={},i.each((function(){var i=e(this).data("asset");t.isEmpty(i)||(n.options.chosen[i.id]=i)}))},c}.apply(t,i))||(e.exports=r)},72044:function(e,t,n){var i,r;i=[n(37549),n(92648),n(94917),n(71651),n(89152),n(10861)],void 0===(r=function(e,t,n,i,r,o){var a=function(){this.options.onSubmit(),this.getChooser().find().trigger("submit.cs.chooser.panel"),this.hide()},s=function(){var t,n,i=this;this.isLoading()||(this.Chooser.find().trigger("show.cs.chooser.panel"),this.$elem.addClass("loading"),e.get(this.options.openAction,(function(r){i.$modalFlyout.html(r),i.$body.addClass("chooser-panel-open"),i.$body.find(".modal-backdrop").first().addClass("chooser-panel-backdrop"),t=i.find("#chooser-panel-cancel"),n=i.find("#chooser-panel-submit"),i.options.headingText&&i.find("#chooser-panel-heading > .modal-title").text(i.options.headingText),i.options.submitButtonText&&n.text(i.options.submitButtonText),t.on("click.cancel.cs.chooser.panel",e.proxy(i.cancel,i)),n.on("click.submit.cs.chooser.panel",e.proxy(i.submit,i))})).fail((function(e,t,n){i.$modalFlyout.html(n)})).always((function(){i.$elem.removeClass("loading"),i.getChooser().find().trigger("loaded.cs.chooser.panel")})))},l=function(t,n,i){this.Chooser=n,this.$body=e("body"),this.$elem=this.$body.find("#chooser-panel-flyout"),this.$modalFlyout=this.$elem.find(".modal-flyout"),this.options=e.extend(!0,{},this.defaults,t),this.currentTab=null,this.tabs={},this.tabOrder=[],i.length&&e.each(i,e.proxy(this.addTab,this))};return l.prototype.defaults={eventDuration:250,isOpen:!1,onSubmit:function(){},openAction:""},l.prototype._resetEventHandlers=function(){this.$elem.off("submit.cs.chooser.panel").off("hide.bs.tab").off("show.bs.tab").off("shown.bs.tab")},l.prototype._initializeEventHandlers=function(){var n=this;this._resetEventHandlers(),this.$elem.on("submit.cs.chooser.panel",a.bind(this)),e.data(this.$elem,"cs.chooser.panel",this),this.$elem.on("hide.bs.tab",'a[data-toggle="pill"]',(function(e){n.$elem.trigger("hide.cs.chooser.tab")})),this.$elem.on("show.bs.tab",'a[data-toggle="pill"]',(function(i){var r=!0;n.currentTab=n.getTabByName(i.target.hash),n.currentTab.load(),n.getChooser().options.multiple?e.each(n.tabs,(function(e,n){if(!t.isEmpty(n.getChosen()))return r=!1,!1})):r=t.isEmpty(n.currentTab.getChosen()),r?n.disableSubmitButton():n.enableSubmitButton(),n.$elem.trigger("show.cs.chooser.tab")})),this.$elem.on("shown.bs.tab",'a[data-toggle="pill"]',(function(e){n.currentTab.find("[autofocus]").trigger("focus"),n.$elem.trigger("shown.cs.chooser.tab")}))},l.prototype._initializeFlyout=function(){var i=this;n.init(this.$elem,{onShow:s.bind(this),onShown:function(){i.options.isOpen=!0,e("#ajax-modal").find(".modal").attr("tabindex",""),i.$elem.addClass("is-visible").scrollTop(0),i.Chooser.find().attr("aria-expanded",!0).trigger("shown.cs.chooser.panel"),t.delay((function(){i.$elem.find('[data-toggle="pill"]').eq(0).trigger("show.bs.tab"),i.$elem.trigger("focus")}),i.options.eventDuration),o.CONTENT.trackAssetEventFromModal("Opened Chooser Panel",i.Chooser.metadata)},onHide:function(){i.$body.removeClass("chooser-panel-open"),i.$body.find(".modal-backdrop").removeClass("chooser-panel-backdrop"),i.Chooser.find().trigger("hide.cs.chooser.panel")},onHidden:function(){i.$modalFlyout.html(""),i.options.isOpen=!1,e("#ajax-modal").find(".modal").attr("tabindex","-1"),i.Chooser.find().trigger("hidden.cs.chooser.panel").trigger("focus")}})},l.prototype.addTab=function(e,n){t.isEmpty(n.Panel)&&(n.Panel=this),this.tabs[e]=n,this.tabOrder.push(e)},l.prototype.disableSubmitButton=function(){r.disableClicking(this.find("#chooser-panel-submit")[0])},l.prototype.enableSubmitButton=function(){r.enableClicking(this.find("#chooser-panel-submit")[0])},l.prototype.getTabByIndex=function(e){return this.tabs[this.tabOrder[e]]||null},l.prototype.getTabByName=function(e){return this.tabs[e]||null},l.prototype.getTabCount=function(){return this.tabOrder.length},l.prototype.hide=function(){this.$elem.modal("hide")},l.prototype.cancel=function(e){e&&e.preventDefault(),this.getChooser().find().trigger("cancel.cs.chooser.panel")},l.prototype.find=function(e){return e?this.$elem.find(e):this.$elem},l.prototype.getChooser=function(){return this.Chooser},l.prototype.open=function(){this.isLoading()||(this._initializeEventHandlers(),this._initializeFlyout(),this.$elem.modal("show"))},l.prototype.setCurrentTab=function(e){this.currentTab=e},l.prototype.submit=function(e){e&&e.preventDefault(),this.currentTab.onBeforeSubmit?this.currentTab.onBeforeSubmit():a.call(this)},l.prototype.isLoading=function(){return this.$elem.hasClass("loading")},l}.apply(t,i))||(e.exports=r)},17030:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(29840),n(20783),n(4155),n(26347),n(10861),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c=l.default.absolutePath("/ajax/chooser/loadCliveChooserPanel.act?"),u=function(e){return t.has(e,"asset")&&!t.isEmpty(e.asset)},d=function(e,t){return r.call(this,e,t),this.$elem.trigger("init.cs.chooser.asset"),this};(d.prototype=t.create(r.prototype,{constructor:d,defaults:t.defaultsDeep({chosenTemplate:{id:"",type:"",embed_link:""}},r.prototype.defaults)})).initializePanel=function(){var a,l=this,d={sideId:n.Variables.get("modalDomSiteId",n.Variables.get("currentSiteId"))},h=e(window),f=function(e){if(r=e,o=t.get(r,"originalEvent.origin")||"",(a=n.Variables.get("cliveUrl"))&&o.startsWith(a)){var r,o,a,s=function(e){return t.get(e,"originalEvent.data.selected")||{}}(e);if(u(s))return l.Panel.enableSubmitButton(),void l.Panel.currentTab.setChosen(function(e){var n;return u(e)?((n=t.clone(e.asset)).type=e.dataType,n.embed_link=e.embed_link,n):{}}(s));var c=function(e){return t.get(e,"originalEvent.data.action")||""}(e);if(c){var d=document.getElementById(n.Variables.get("cliveFrameId")),h=n.Variables.get("cliveAuthTokenCookieName");if("loadCliveAuthToken"===c&&d){var f=i.get(h);d.contentWindow.postMessage({action:"authTokenLoaded",authToken:f},"*")}else if("saveCliveAuthToken"===c){var p=function(e){return t.get(e,"originalEvent.data.authToken")||""}(e);p&&i.set(h,p,{expires:14})}else"deleteCliveAuthToken"===c&&i.remove(h)}}};this.isEmpty()||(a=this.getChosenAsset(),d.id=a.id,d.type=a.type),r.prototype.initializePanel.call(this,{onSubmit:function(){var e,n=l.Panel.currentTab.getChosen();t.isEmpty(n)||(l.setChosen(n),e=n,s.INTEGRATION.trackEvent("Chose Clive Asset",e),l.$elem.trigger("cliveembed.cs.chooser.panel.tab",n))},headingText:this.options.headingText,openAction:c+t.toQuery(d)}),h.on("message",f),this.Panel.addTab("#chooser-panel-tab-clive",new o.default("#chooser-panel-tab-clive",{},this.Panel)),this.find().on("hide.cs.chooser.panel",(function(){h.off("message",f)}))},d.prototype.getChosenAsset=function(){var n=t.values(this.getChosen())[0];return e.extend(!0,{},this.defaults.chosenTemplate,t.isObject(n)?n:{})},e.fn.cliveChooser=function(t){return this.each((function(){e.data(this,"cs.chooser")||e.data(this,"cs.chooser",new d(this,t))}))},e(document).on("click.cs.chooser.clive",".clive-chooser, .mce-clive-chooser",(function(t){var n=e(this),i=n.data("cs.chooser")||n.cliveChooser().data("cs.chooser");i.initializePanel(),i.getPanel().open()}))}.apply(t,i))||(e.exports=r)},2546:function(e,t,n){var i,r;i=[n(37549),n(92648),n(29840),n(71053),n(41294),n(75286),n(89937),n(53376),n(42955),n(69616),n(46459),n(93245),n(2608),n(84877),n(42990),n(64284),n(19580),n(42759),n(90660),n(63115),n(17710)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m){var v="codeEditorAceSettings",y=function(t,r){l.call(this,t,r);var o=this;this.initialized=!1;try{this.options.ace=e.extend(!0,{},this.options.ace,n.getJSON(v))}catch(e){}if(this.ui={tagName:this.$elem[0].tagName,isTextarea:!!this.$elem[0].tagName.match(/textarea/i),$body:e("body"),$parent:this.$elem.parent()},""===this.options.initialContent&&(this.options.initialContent=this.ui.isTextarea?this.$elem.val():this.$elem.text()),this.$elem.hide(),this.$elem.wrap(this.options.wrapperHtml),this.ui.$wrapper=this.$elem.parent(),this.ui.$editor=e(this.options.editorHtml),this.ui.isTextarea?(this.$elem.wrap(this.options.textareaWrapperHtml),this.ui.$textarea=this.$elem.parent(),this.$elem.css("display","block")):(this.ui.$textarea=e(this.options.textareaWrapperHtml),this.ui.$textarea.append(e(this.options.textareaHtml)),this.ui.$wrapper.append(this.ui.$textarea)),this.ui.$wrapperParent=this.ui.$wrapper.parent(),this.ui.$wrapper.css({height:this.options.height,width:this.options.width}),this.ui.$wrapper.append(this.ui.$editor),this.ui.$wrapper.prepend(this.Toolbar),this.options.resizable&&this.ui.$wrapper.resizable({handles:"s",minHeight:this.options.height<250?this.options.height:250,resize:function(e,t){o.resize(t.size.height,o.options.width)}}),this.Ace=i.edit(this.ui.$editor[0],{enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.registerCustomSnippets(),this.initializeModes(),this.initializeEvents(),this.options.filePath?this.updateModeFromPath(this.options.filePath):this.updateModeFromName(this.options.ace.mode),this.initializeToolbar(),this.initializeToggleCheckbox(),a.any&&(this.options.ace.enabled=!1,this.options.showToggleCheckbox=!1),this.updateOption("showFullscreen",this.options.showFullscreen),this.updateOption("showToggleCheckbox",this.options.showToggleCheckbox),this.updateOption("showToolbar",this.options.showToolbar),this.options.disableToolbar=!this.options.showToolbar,this.setInitialValue(this.options.initialContent),this.updateOption("ace.readOnly",this.options.ace.readOnly),this.updateOption("ace.enabled",this.options.ace.enabled),this.initialized=!0,this.options.fileRenderPath){var s=this.options.fileRenderPath;e.get(s,(function(e){o.setInitialValue(e)})).fail((function(){})).always((function(){e.proxy(o.options.onReady,o)()}))}else e.proxy(this.options.onReady,this)()};return(y.prototype=t.create(l.prototype,{constructor:y,defaults:{controls:{settings:{icon:"ci-settings",disabled:!1,visible:!0,labels:{"ace.showFoldWidgets":"Code Folding","ace.showInvisibles":"Show Whitespace Characters","ace.useWorker":"Code Validation","ace.highlightActiveLine":"Highlight Active Line","ace.highlightGutterLine":"Highlight Gutter Line","ace.showGutter":"Show Gutter","ace.highlightSelectedWord":"Highlight Selected Word","ace.fontSize":"Font Size","ace.softWrap":"Wrap Lines","ace.softWrap.false":"Off","ace.softWrap.true":"On","ace.softWrap.auto":"Automatic","ace.mode":"Change Syntax"},tooltip:"Settings"},format:{icon:"ci-code",disabled:!1,visible:!0,tooltip:"Format Code"},fullscreen:{icon:"ci-expand",disabled:!1,visible:!0,smallicon:"ci-shrink",tooltip:"Toggle Fullscreen Mode"},help:{icon:"ci-help",href:"https://www.hannonhill.com/cascadecms/8/kb/content-authoring/advanced-code-editor/",disabled:!1,visible:!0,tooltip:"Code Editor Help"},documentation:{icon:"ci-documentation",disabled:!1,visible:!0,tooltip:"Velocity Documentation",modalTarget:"#velocity-doc-flyout"},stats:{visible:!0}},disableToolbar:!1,editorHtml:"<div class='cscd-editor'></div>",filePath:null,formFieldName:"codeeditor",height:"500px",initialContent:"",modes:{asciidoc:["AsciiDoc","asciidoc"],coffee:["CoffeeScript","^Cakefile|coffee|cf"],coldfusion:["ColdFusion","cfm"],css:["CSS","css"],diff:["Diff","diff|patch"],dot:["Dot","dot"],groovy:["Groovy","groovy"],haml:["HAML","haml"],html:["HTML","htm|html|xhtml"],jsp:["JSP","jsp"],javascript:["JavaScript","js"],json:["JSON","json"],less:["LESS","less"],makefile:["Makefile","^GNUmakefile|^makefile|^Makefile|^OCamlMakefile|make"],markdown:["Markdown","md|markdown"],perl:["Perl","pl|pm"],pgsql:["pgSQL","pgsql"],php:["PHP","php|phtml"],python:["Python","py"],rdoc:["RDoc","Rd"],rhtml:["RHTML","Rhtml"],ruby:["Ruby","ru|gemspec|rake|rb"],scss:["SCSS","scss|sass"],sql:["SQL","sql"],svg:["SVG","svg"],textile:["Textile","textile"],vbscript:["VBScript","vbs"],velocity:new c.default,xml:["XML","xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl"],yaml:["YAML","yaml"]},onReady:function(){},resizable:!0,showFullscreen:!1,showToggleCheckbox:!0,showToolbar:!0,textareaHtml:"<textarea>",textareaWrapperHtml:"<div class='cscd-textarea'></div>",toggleCheckboxHtml:"<div class='cscd-editor-toggler'></div>",toggleCheckboxLabel:"Advanced editor",width:"100%",wrapperHtml:"<div class='cscd-editor-wrapper cscd-codeeditor'></div>",ace:{enabled:!0,foldStyle:"markbegin",fontSize:"12px",indentGuides:!0,highlightActiveLine:!0,highlightGutterLine:!0,highlightSelectedWord:!0,hScrollBarAlwaysVisible:!1,mode:"text",readOnly:!1,showFoldWidgets:!0,showGutter:!0,showInvisibles:!1,showPrintMargin:!0,softWrap:!1,useWorker:!1,theme:"textmate"}}})).focus=function(){this.options.ace.enabled?this.Ace.focus():this._getTextareaField().focus()},y.prototype.getValue=function(){return this.options.ace.enabled?this.Ace.getValue():this._getTextareaField().val()},y.prototype.initializeEvents=function(){var e=this;this.$elem.on("resize.codeeditor.ace",(function(){e.resizeAce(!0)})),this.eventListen("options.height",(function(t){(t=t||e.defaults.height)&&e.ui.$wrapper.height(t),e.$elem.trigger("resize.codeeditor.ace")})),this.eventListen("options.showFullscreen",(function(n){e.options.showFullscreen=t.isBoolean(n)?n:e.defaults.showFullscreen,e.ui.$wrapper.appendTo(e.options.showFullscreen?e.ui.$body:e.ui.$wrapperParent),e.ui.$wrapper.toggleClass("fullscreen",e.options.showFullscreen),e.ui.$body.toggleClass("codeeditor-fullscreen",e.options.showFullscreen),this.options.resizable&&e.ui.$wrapper.resizable("option","disabled",e.options.showFullscreen),e.ui.$wrapper.removeClass("ui-state-disabled"),e.$elem.trigger("resize.codeeditor.ace")})),this.eventListen("options.showToggleCheckbox",(function(n){e.options.showToggleCheckbox=t.isBoolean(n)?n:e.defaults.showToggleCheckbox,e.ui.toggleCheckbox.toggle(e.options.showToggleCheckbox),e.$elem.trigger("resize.codeeditor.ace")})),this.eventListen("options.showToolbar",(function(n){e.options.showToolbar=t.isBoolean(n)?n:e.defaults.showToolbar,e.Toolbar.toggleVisibility(e.options.showToolbar),e.$elem.trigger("resize.codeeditor.ace")})),this.eventListen("options.width",(function(t){(t=t||e.defaults.width)&&e.ui.$wrapper.width(t),e.$elem.trigger("resize.codeeditor.ace")})),this.eventListen("options.ace.enabled",(function(n){e.syncValues(),e.options.ace.enabled=t.isBoolean(n)?n:e.defaults.ace.enabled,e.ui.$wrapper.toggleClass("ace-disabled",!e.options.ace.enabled),!0!==e.options.disableToolbar&&e.updateOption("showToolbar",e.options.ace.enabled)})),this.eventListen("options.ace.fontSize",(function(t){e.options.ace.fontSize=t||e.defaults.ace.fontSize,e.Ace.setFontSize(e.options.ace.fontSize),e._persistAceSettings()})),this.eventListen("options.ace.highlightActiveLine",(function(n){e.options.ace.highlightActiveLine=t.isBoolean(n)?n:e.defaults.ace.highlightActiveLine,e.Ace.setHighlightActiveLine(e.options.ace.highlightActiveLine),e._persistAceSettings()})),this.eventListen("options.ace.highlightGutterLine",(function(n){e.options.ace.highlightGutterLine=t.isBoolean(n)?n:e.defaults.ace.highlightGutterLine,e.Ace.renderer.setHighlightGutterLine(e.options.ace.highlightGutterLine),e._persistAceSettings()})),this.eventListen("options.ace.highlightSelectedWord",(function(n){e.options.ace.highlightSelectedWord=t.isBoolean(n)?n:e.defaults.ace.highlightSelectedWord,e.Ace.setHighlightSelectedWord(e.options.ace.highlightSelectedWord),e._persistAceSettings()})),this.eventListen("options.ace.hScrollBarAlwaysVisible",(function(n){e.options.ace.hScrollBarAlwaysVisible=t.isBoolean(n)?n:e.defaults.ace.hScrollBarAlwaysVisible,e.Ace.renderer.setHScrollBarAlwaysVisible(e.options.ace.hScrollBarAlwaysVisible),e._persistAceSettings()})),this.eventListen("options.ace.mode",(function(t){e.options.ace.mode=e.ModeManager.getMode(t),e.Ace.session.setMode(e.options.ace.mode.isCustom?e.options.ace.mode:e.options.ace.mode.modePath)})),this.eventListen("options.ace.readOnly",(function(n){e.options.ace.readOnly=t.isBoolean(n)?n:e.defaults.ace.readOnly,e.Ace.setReadOnly(e.options.ace.readOnly),e._getTextareaField().attr("readonly",!0===e.options.ace.readOnly&&"readonly")})),this.eventListen("options.ace.showFoldWidgets",(function(n){e.options.ace.showFoldWidgets=t.isBoolean(n)?n:e.defaults.ace.showFoldWidgets,e.Ace.setShowFoldWidgets(e.options.ace.showFoldWidgets),e._persistAceSettings()})),this.eventListen("options.ace.showGutter",(function(n){e.options.ace.showGutter=t.isBoolean(n)?n:e.defaults.ace.showGutter,e.Ace.renderer.setShowGutter(e.options.ace.showGutter),e._persistAceSettings()})),this.eventListen("options.ace.showInvisibles",(function(n){e.options.ace.showInvisibles=t.isBoolean(n)?n:e.defaults.ace.showInvisibles,e.Ace.setShowInvisibles(e.options.ace.showInvisibles),e._persistAceSettings()})),this.eventListen("options.ace.showPrintMargin",(function(n){e.options.ace.showPrintMargin=t.isBoolean(n)?n:e.defaults.ace.showPrintMargin,e.Ace.renderer.setShowPrintMargin(e.options.ace.showPrintMargin),e._persistAceSettings()})),this.eventListen("options.ace.softWrap",(function(t){switch(e.options.ace.softWrap=t||e.defaults.ace.softWrap,e.options.ace.softWrap){case!1:case"false":e.Ace.session.setUseWrapMode(!1);break;case"auto":e.Ace.session.setUseWrapMode(!0),e.Ace.session.setWrapLimitRange(null,null);break;default:e.Ace.session.setUseWrapMode(!0);var n=e.Ace.renderer.getPrintMarginColumn();e.Ace.session.setWrapLimitRange(n,n),e.Ace.renderer.setPrintMarginColumn(n)}e._persistAceSettings()})),this.eventListen("options.ace.useWorker",(function(n){e.options.ace.useWorker=t.isBoolean(n)?n:e.defaults.ace.useWorker,e.Ace.session.setUseWorker(e.options.ace.useWorker),e._persistAceSettings()}))},y.prototype.registerCustomSnippets=function(){const e=r.snippetManager,t=e.parseSnippetFile(u.default.content);e.register(t,u.default.scope)},y.prototype.initializeModes=function(){var n=this;this.ModeManager=new h(this.defaults.ace.mode),e.each(this.options.modes,(function(e,t){t.isCustom?n.ModeManager.registerCustom(t):n.ModeManager.register(e,t[0],t[1])})),t.isUndefined(this.ModeManager.getDefaultMode())&&this.ModeManager.register("text","Text","txt")},y.prototype.initializeToggleCheckbox=function(){var t=this;this.ui.toggleCheckbox=e(this.options.toggleCheckboxHtml),this.ui.toggleCheckbox.html("<input type='checkbox' id='toggle-checkbox-"+this.uID+"' /><label for='toggle-checkbox-"+this.uID+"'>"+this.options.toggleCheckboxLabel+"</label>"),e("input",this.ui.toggleCheckbox).attr("checked",this.options.ace.enabled).on("click",(function(){t.toggleEditor(),t.focus()})),this.ui.$wrapper.prepend(this.ui.toggleCheckbox)},y.prototype.initializeToolbar=function(){var n=this;l.prototype.initializeToolbar.call(this),this.Toolbar.appendControl("settings",new d("settings",{html:t.template(A)({disabled:n.options.controls.settings.disabled,editorUId:n.uID,icon:n.options.controls.settings.icon,labels:n.options.controls.settings.labels,modes:n.ModeManager.getModes(),tooltip:n.options.controls.settings.tooltip,visible:n.options.controls.settings.visible}),ordinal:0,type:"dropdown",visible:n.options.controls.settings.visible,disabled:n.options.controls.settings.disabled,exec:function(){this.$elem.find("button").dropdown("toggle")},onReady:function(){var t=this.getEditor(),i=this.$elem.find("input,select");this.$elem.on("change","input,select",(function(){var e=this.attributes["data-option"].value;n.updateOption(e,this["SELECT"===this.tagName?"value":"checked"])})),e.each(i,(function(){var i=this,r=this.attributes["data-option"].value,o="ace.mode"===r?t.getOption(r).name:t.getOption(r);n.eventListen("options."+r,(function(e){i["SELECT"===i.tagName?"value":"checked"]=e})),this["SELECT"===this.tagName?"value":"checked"]=o,e(this).trigger("change")}))}})),this.Toolbar.appendControl("fullscreen",new d("fullscreen",{html:t.template(f)({disabled:n.options.controls.fullscreen.disabled,icon:n.options.controls.fullscreen.icon,tooltip:n.options.controls.fullscreen.tooltip,visible:n.options.controls.fullscreen.visible}),ordinal:0,disabled:n.options.controls.fullscreen.disabled,visible:n.options.controls.fullscreen.visible,exec:function(){return this.getEditor().toggleFullscreen(),!1},onReady:function(){var t=this;this.getEditor(),n.eventListen("options.showFullscreen",(function(i){e("i",t.$elem).toggleClass(n.options.controls.fullscreen.smallicon,i||!1)}))}})),this.Toolbar.appendControl("format",new d("format",{html:t.template(f)({disabled:n.options.controls.format.disabled,icon:n.options.controls.format.icon,tooltip:n.options.controls.format.tooltip,visible:n.options.controls.format.visible}),disabled:n.options.controls.format.disabled,visible:n.options.controls.format.visible,exec:function(){var e=this.getEditor();return e.setValue(e.getValue(),!0),!1},onReady:function(){n.eventListen("options.ace.mode",(function(e){n.eventFire("editor/control/"+(e.match(/css|html|xml/)?"enable":"disable")+"/format")})),n.eventFire("editor/control/"+(n.getOption("ace.mode").name.match(/css|html|xml/)?"enable":"disable")+"/format")}})),this.Toolbar.appendControl("help",new d("help",{html:t.template(p)({disabled:n.options.controls.help.disabled,href:n.options.controls.help.href,icon:n.options.controls.help.icon,tooltip:n.options.controls.help.tooltip,visible:n.options.controls.help.visible}),disabled:n.options.controls.help.disabled,visible:n.options.controls.help.visible,exec:function(){return this.$elem.off("click"),!0}})),n.options.showDocumentation&&this.Toolbar.appendControl("documentation",new d("documentation",{html:t.template(m)({disabled:n.options.controls.documentation.disabled,href:n.options.controls.documentation.href,modalTarget:n.options.controls.documentation.modalTarget,icon:n.options.controls.documentation.icon,tooltip:n.options.controls.documentation.tooltip,visible:n.options.controls.documentation.visible}),disabled:n.options.controls.documentation.disabled,visible:n.options.controls.documentation.visible,exec:function(){return this.$elem.off("click"),!0}})),this.Toolbar.appendControl("stats",new d("stats",{html:t.template(g)(),disabled:!0,visible:n.options.controls.stats.visible,ordinal:0,ordinal:0,onReady:function(){var i=this,r=(this.getEditor(),n.Ace.getCursorPosition()),o=r.row+1,a=r.column+1,s=n.getOption("ace.mode");e("span",i.$elem).off("click"),e(".cscd-editor-position",i.$elem).text(o+":"+a),e(".cscd-editor-mode",i.$elem).text(s.desc),n.Ace.selection.on("changeCursor",t.debounce((function(){var t=n.Ace.getCursorPosition(),r=t.row+1,o=t.column+1;e(".cscd-editor-position",i.$elem).text(r+":"+o)}),200)),n.Ace.on("change",(function(){n.Ace.session.getUndoManager().isClean()||e(document).trigger("cs.form.change")})),n.eventListen("options.ace.mode",(function(t){e(".cscd-editor-mode",i.$elem).text(n.ModeManager.getMode(t).desc)}))}})),this.ui.$wrapper.prepend(this.Toolbar.$elem),this.Ace.on("focus",(function(e){n.Toolbar.resetControlStates()}))},y.prototype.isClean=function(){return this.options.ace.enabled||this.syncValues(),this.Ace.session.getUndoManager().isClean()},y.prototype.resize=function(e,t){this.updateOptions({height:e,width:t}),!0===this.getOption("showFullscreen")&&this.updateOption("showFullscreen",!1)},y.prototype.resizeAce=function(e){this.Ace.resize(!0===e)},y.prototype.setInitialValue=function(e){var n=this;this.setValue(e),t.defer((function(){n.Ace.session.getUndoManager().reset()}))},y.prototype.setValue=function(e,n){n=!!t.isBoolean(n)&&n;var i=this.getOption("ace.mode");if(n)try{i.name.match(/html|xml/)?e=o.xml(e):"css"===i.name&&(e=o.css(e))}catch(e){console.error("Failed to beautify the editor's content.",e)}this.Ace.setValue(e,-1),this.Ace.gotoLine(0,0,!1),this.Ace.renderer.updateFull(!0),this._getTextareaField().val(e)},y.prototype.syncValues=function(){this.options.ace.enabled?this._getTextareaField().val(this.Ace.getValue()):(this.Ace.setValue(this._getTextareaField().val(),-1),this.Ace.gotoLine(0,0,!1),this.Ace.renderer.updateFull(!0))},y.prototype.toggleEditor=function(){this.updateOption("ace.enabled",!this.options.ace.enabled)},y.prototype.toggleFullscreen=function(e){e=e||!this.getOption("showFullscreen"),this.updateOption("showFullscreen",e)},y.prototype.updateModeFromName=function(e){this.updateOption("ace.mode",e)},y.prototype.updateModeFromPath=function(e){var t=this.ModeManager.getModeFromPath(e);this.updateOption("ace.mode",t.name)},y.prototype._getTextareaField=function(){return this.ui.isTextarea?this.$elem:e("textarea",this.ui.$textarea)},y.prototype._persistAceSettings=function(){this.initialized&&n.set(v,t.pick(this.options.ace,["foldStyle","fontSize","indentGuides","highlightActiveLine","highlightGutterLine","highlightSelectedWord","hScrollBarAlwaysVisible","showFoldWidgets","showGutter","showInvisibles","showPrintMargin","softWrap","useWorker","theme"]),{expires:365})},e.fn.cascadeCodeEditor=function(t){return this.each((function(){if(!e.data(this,"cscd-codeeditor")){var n=e(this),i=new y(n,t);e.data(this,"cscd-codeeditor",i),s.addPreSubmitHandler(n.closest("form"),(function(){return i.syncValues(),!0}))}}))},{syncAllValues:function(t){t&&t.length&&t.find(".code-editor").each((function(){e(this).data("cscd-codeeditor").syncValues()}))}}}.apply(t,i))||(e.exports=r)},6365:function(e,t,n){var i,r;i=[n(37549),n(92648),n(89937),n(93541),n(4258),n(84551),n(50384),n(89152),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c=e("#menu-action").find("a, button"),u=(e("#page-content"),function(){r.default.init(this),d(this)}),d=function(e){e.api().on("select",h).on("deselect",h)},h=function(e,t,n,i){for(var r=t.rows({selected:!0}).count(),o=0;o<c.length;o++)s.toggleClicking(c[o],r<1)};return{init:function(t,n,r){var o=t.find("table"),s={id:i.Variables.get("domId"),type:i.Variables.get("domType"),linkType:"TITLE_OR_DISPLAY_NAME_OR_NAME"},c={serverSide:!0,ajax:{url:l.default.absolutePath("/ajax/getcontainertablechildren.act",s)},order:[[1,"asc"]]};return r&&e.extend(!0,c,r),c.initComplete=u,a.init(o,n,c)}}}.apply(t,i))||(e.exports=r)},536:function(e,t,n){var i,r;i=[n(37549),n(92648),n(14741),n(60629),n(93660)],void 0===(r=function(e,t,n,i,r){var o=e("#chooser-owner");i.init(e("#details-properties")),o.on("submit.cs.chooser.panel clear.cs.chooser.asset",(function(){var i,o,a,s=e(this),l=s.data("cs.chooser")||s.userGroupChooser().data("cs.chooser");i=Cascade.Variables.get("domId"),o=l,a=t.keys(o.getChosen())[0]||"",e.ajax({url:r.default.absolutePath("/ajax/assignContentOwner.act"),data:{ids:JSON.stringify([i]),userId:a},success:function(e){e.success?o.options.originalChosen=o.getChosen():(o.resetChosen(),n.showText(e.message,{type:"danger"}))},error:function(e,t,i){o.resetChosen(),n.showText(e.responseText,{type:"danger"})}})}))}.apply(t,i))||(e.exports=r)},76011:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(20783),n(11688),n(4155),n(10861),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s){const l=s.default.absolutePath("/ajax/chooser/loadDAMAssetChooserPanel.act?"),c=e(window),u=function(e){return e.originalEvent.data||{}},d=function(e){const n=u(e);return t.has(n,"action")&&!t.isEmpty(n.action)},h=function(e,t){a.INTEGRATION.trackEvent("Chose DAM Asset",{filename:e.filename,url:e.url,integration:t})},f=function(){c.off("message.widen.embed").off("message.webdam.submit").off("message.webdam.close")};var p=function(e,t){return i.call(this,e,t),this.setChosen({}),this.$elem.trigger("init.cs.chooser.asset"),this};(p.prototype=t.create(i.prototype,{constructor:p,defaults:t.defaultsDeep({widenEnabled:!1,webdamEnabled:!1,chosenTemplate:{}},i.prototype.defaults)})).initializePanel=function(){const e=this;i.prototype.initializePanel.call(this,{onSubmit:function(){},headingText:this.options.headingText,openAction:l+"siteId="+n.Variables.get("modalDomSiteId",n.Variables.get("currentSiteId"))}),this.Panel.addTab("#chooser-panel-tab-widendam",new o.default("#chooser-panel-tab-widendam",{onLoad:function(n){f(),c.on("message.widen.embed",(function(i){if(!d(i))return;const r=u(i);if("embed"===r.action&&!t.isEmpty(r.items)){const t=r.items[0];t.url=t.embed_link,n.setChosen(t),h(t,"widen"),e.triggerCustomEmbedEventAndClosePanel(t)}}))}},this.Panel)),this.Panel.addTab("#chooser-panel-tab-webdam",new o.default("#chooser-panel-tab-webdam",{onLoad:function(n){f(),c.on({"message.webdam.submit":function(i){if(!d(i))return;const r=u(i);"submit"!==r.action||t.isEmpty(r.params)||(n.setChosen(r.params),h(r.params,"webdam"),e.triggerCustomEmbedEventAndClosePanel(r.params))},"message.webdam.close":function(t){d(t)&&"close"===u(t).action&&e.Panel.hide()}})}},this.Panel))},p.prototype.triggerCustomEmbedEventAndClosePanel=function(e){this.$elem.trigger("damembed.cs.chooser.panel.tab",e),this.Panel.hide()},e.fn.damAssetChooser=function(t){return this.each((function(){e.data(this,"cs.chooser")||e.data(this,"cs.chooser",new p(this,t))}))},e(document).on("click.cs.chooser.damasset",".damasset-chooser",(function(t){const n=e(this),i=n.data("cs.chooser")||n.damAssetChooser().data("cs.chooser");i.initializePanel(),i.getPanel().open()}))}.apply(t,i))||(e.exports=r)},72522:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(93660),n(24819),n(59114)],void 0===(r=function(e,t,n,i,r){var o=i.default.absolutePath("/ajax/reporting/analytics/individualForSite.act");return{init:function(i,a,s){var l=i.find("table"),c=l.data("sort-order")||"desc",u={dom:"frt",info:!1,processing:!0,deferRender:!0,responsive:!1,scrollY:"400px",scroller:{loadingIndicator:!0,displayBuffer:60,boundaryScale:.75,rowHeight:"auto",serverWait:400},serverSide:!0,ajax:{url:o,type:"POST"},language:{emptyTable:t.I18n.get("table.anlytics.empty"),processing:t.I18n.get("label.report.loading")},order:[[3,c]],createdRow:function(t,n,i){e(t).addClass("stat-row").data({nindividualstats:n.nIndividualStats||0,shorturl:n.shortUrl||""})},columns:[{class:"pageviews-expand",width:"5%",orderable:!1,data:null,render:function(e,n,i,r){var o="";return"screenPageViews"===r.settings.json.responseParams.sortBy&&e.nIndividualStats>1&&(o='<button type="button" class="cs-tooltip" aria-label="'+t.I18n.get("title.show.all.related.urls")+'"><i class="ci ci-angle-right" role="img" aria-hidden="true"></i></button>'),o}},{width:"40%",data:null,defaultContent:"",render:function(e,t,n,i){return"display"===t?'<a href="'+i.settings.json.responseParams.analyticsSiteUrl+e.escapedUrl+'" target="_blank" aria-describedby="cascade-new-window-external">'+e.urlWithInvisibleSpaces+'<i class="ci ci-18 ci-external-link"></i></a>':e.url}},{width:"40%",data:null,defaultContent:"",render:function(e,t,n,i){return _.isEmpty(e.asset)?"":"display"===t?r.render(e.asset,{}):e.asset.tOrDn||e.asset.label}},{width:"15%",data:null,render:function(e,t,n,i){var r;return"screenPageViews"===i.settings.json.responseParams.sortBy?r=e.screenPageViews:"engagementRate"===i.settings.json.responseParams.sortBy&&(r="display"===t?e.engagementRateAsString:e.engagementRate),r}}]};return s&&e.extend(!0,u,s),n.init(l,a,u)}}}.apply(t,i))||(e.exports=r)},48890:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(93660),n(24819),n(80471)],void 0===(r=function(e,t,n,i,r,o){return{init:function(t,a,s){var l=t.find("table"),c={ajax:{url:i.default.absolutePath("/ajax/getContentOwnership.act"),dataSrc:"content"},order:[[2,"desc"]],rowId:"id",columns:[{data:"tOrDN",render:function(e,t,n,i){return"display"===t?r.render(n,{showPath:!0}):e||n.label}},{data:null,render:function(e,t,n,i){return"display"===t?r.render({id:e.siteId,type:"site",label:e.siteName},{}):e.siteName}},{data:"modified",render:function(e,t,n,i){return"display"===t?o.render(e):e}}]};return s&&e.extend(!0,c,s),n.init(l,a,c)}}}.apply(t,i))||(e.exports=r)},58340:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(4258),n(24819),n(80471),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){return{init:function(t,s,l){var c=t.find("table"),u={ajax:{url:a.default.absolutePath("/ajax/getDrafts.act",{maxSize:"unlimited"}),dataSrc:"drafts"},order:[[3,"desc"]],rowId:"id",columns:[{data:"tOrDN",render:function(e,t,n,i){return"display"===t?r.render(n,{showPath:!0,direct:!0}):e||n.label}},{data:null,render:function(e,t,n,i){return"display"===t?r.render({id:e.siteId,type:"site",label:e.siteName},{}):e.siteName}},{data:"modified",render:function(e,t,n,i){return"display"===t?o.render(e):e}}],initComplete:function(){i.default.init(this)}};return l&&e.extend(!0,u,l),n.init(c,s,u)}}}.apply(t,i))||(e.exports=r)},14890:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(24819),n(80471),n(93660)],void 0===(r=function(e,t,n,i,r,o){return{init:function(t,a,s){var l=t.find("table"),c={ajax:{url:o.default.absolutePath("/ajax/getHistory.act"),dataSrc:"history"},order:[[2,"desc"]],rowId:"id",columns:[{data:"tOrDN",render:function(e,t,n,r){return"display"===t?i.render(n,{showPath:!0}):e||n.label}},{data:null,render:function(e,t,n,r){return e.siteId?"display"===t?i.render({id:e.siteId,type:"site",label:e.siteName},{}):e.siteName:""}},{data:"time",render:function(e,t,n,i){return"display"===t?r.render(e):e}}]};return s&&e.extend(!0,c,s),n.init(l,a,c)}}}.apply(t,i))||(e.exports=r)},1318:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(4258),n(24819),n(80471),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){return{init:function(t,s,l){var c=t.find("table"),u={ajax:{url:a.default.absolutePath("/ajax/getLockedAssets.act",{maxSize:"unlimited"}),dataSrc:"lockedAssets"},order:[[3,"desc"]],rowId:"id",columns:[{data:"tOrDN",render:function(e,t,n,i){return"display"===t?r.render(n,{showPath:!0}):e||n.label}},{data:null,render:function(e,t,n,i){return"display"===t?r.render({id:e.siteId,type:"site",label:e.siteName},{}):e.siteName}},{data:"lockedOn",render:function(e,t,n,i){return"display"===t?o.render(e):e}}],initComplete:function(){i.default.init(this)}};return l&&e.extend(!0,u,l),n.init(c,s,u)}}}.apply(t,i))||(e.exports=r)},50894:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(93660),n(4258),n(24819),n(80471)],void 0===(r=function(e,t,n,i,r,o,a){return{init:function(t,s,l){var c=t.find("table"),u={ajax:{url:i.default.absolutePath("/ajax/getUserStarredEntities.act"),dataSrc:"starredEntities"},order:[[3,"desc"]],rowId:"id",columns:[{data:"asset",render:function(e,t,n,i){return"display"===t?o.render(e,{showPath:!0}):e.tOrDn||e.label}},{data:"asset",render:function(e,t,n,i){return e.siteId?"display"===t?o.render({id:e.siteId,type:"site",label:e.siteName},{}):e.siteName:""}},{data:"createdOn",render:function(e,t,n,i){return"display"===t?a.render(e):e}}],initComplete:function(){r.default.init(this)}};return l&&e.extend(!0,u,l),n.init(c,s,u)}}}.apply(t,i))||(e.exports=r)},90815:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(50384),n(93660),n(4258),n(24819),n(80471)],void 0===(r=function(e,t,n,i,r,o,a,s){return{init:function(t,o,l,c){var u=t.find("table"),d=r.default.absolutePath("/ajax/getUserTasks.act"),h={responsive:!0,columnDefs:[{targets:0,sortable:!1}]};return"active"===c&&e.extend(!0,h,{ajax:{url:d,dataSrc:function(e){return e.userTasks.activeTasks}},order:[[1,"desc"],[3,"asc"]],columns:[{data:null,render:function(e,t,n,i){return"display"===t?'<i class="ci ci-fw ci-priority-'+(e.priority?e.priority.toLowerCase():"none")+'" role="img" aria-label="'+e.priorityValue+'"></i>':e.priorityValue}},{data:null,render:function(e,t,n,i){return"display"===t?a.render(e,{showIcon:!1,hoverable:!0}):e.label}},{data:"dueDate",render:function(e,t,i,r){return"display"===t?null!==e?s.render(e):n.I18n.get("common.words.none"):null===e?n.I18n.get("common.words.none"):e}}]}),"completed"===c&&e.extend(!0,h,{ajax:{url:d,dataSrc:function(e){return e.userTasks.completedTasks}},order:[[4,"desc"]],columns:[{data:null,render:function(e,t,n,i){return"display"===t?'<i class="ci ci-fw ci-priority-'+(e.priority?e.priority.toLowerCase():"none")+'" role="img" aria-label="'+e.priorityValue+'"></i>':e.priorityValue}},{data:null,render:function(e,t,n,i){return"display"===t?a.render(e,{showIcon:!1,hoverable:!0}):e.label}},{data:null,render:function(e,t,i,r){return void 0===e.assignedId?n.I18n.get("common.words.no.one"):"display"===t?a.render({id:e.assignedId,label:e.assignedId,type:"user"},{hoverable:!0}):e.assignedId}},{data:"completedAt",render:function(e,t,n,i){return"display"===t?s.render(e):e}}]}),"created"===c&&e.extend(!0,h,{ajax:{url:d,dataSrc:function(e){return e.userTasks.createdTasks}},order:[[1,"desc"],[4,"asc"]],columns:[{data:null,render:function(e,t,n,i){return"display"===t?'<i class="ci ci-fw ci-priority-'+(e.priority?e.priority.toLowerCase():"none")+'" role="img" aria-label="'+e.priorityValue+'"></i>':e.priorityValue}},{data:null,render:function(e,t,n,i){return"display"===t?a.render(e,{showIcon:!1,hoverable:!0}):e.label}},{data:null,render:function(e,t,i,r){return void 0===e.assignedId?n.I18n.get("common.words.no.one"):"display"===t?a.render({id:e.assignedId,label:e.assignedId,type:"user"},{hoverable:!0}):e.assignedId}},{data:"dueDate",render:function(e,t,i,r){return"display"===t?null!==e?s.render(e):n.I18n.get("common.words.none"):null===e?n.I18n.get("common.words.none"):e}}]}),"participating"===c&&e.extend(!0,h,{ajax:{url:d,dataSrc:function(e){return e.userTasks.participatingTasks}},order:[[1,"desc"],[4,"asc"]],columns:[{data:null,render:function(e,t,n,i){return"display"===t?'<i class="ci ci-fw ci-priority-'+(e.priority?e.priority.toLowerCase():"none")+'" role="img" aria-label="'+e.priorityValue+'"></i>':e.priorityValue}},{data:null,render:function(e,t,n,i){return"display"===t?a.render(e,{showIcon:!1,hoverable:!0}):e.label}},{data:null,render:function(e,t,i,r){return void 0===e.assignedId?n.I18n.get("common.words.no.one"):"display"===t?a.render({id:e.assignedId,label:e.assignedId,type:"user"},{hoverable:!0}):e.assignedId}},{data:"dueDate",render:function(e,t,i,r){return"display"===t?null!==e?s.render(e):n.I18n.get("common.words.none"):null===e?n.I18n.get("common.words.none"):e}}]}),l&&e.extend(!0,h,l),i.init(u,o,h)}}}.apply(t,i))||(e.exports=r)},86048:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(93660),n(24819),n(80471)],void 0===(r=function(e,t,n,i,r,o){return{init:function(t,a,s){var l=t.find("table"),c={ajax:{url:i.default.absolutePath("/ajax/getWorkflows.act"),dataSrc:"workflows"},order:[[1,"desc"]],rowId:"id",columns:[{data:"tOrDN",render:function(e,t,n,i){return"display"===t?r.render(n,{}):e||n.label}},{data:"startDate",render:function(e,t,n,i){return"display"===t?o.render(e):e}},{data:"endDate",render:function(e,t,n,i){return"display"===t?o.render(e):e}},{data:"owner",render:function(e,t,n,i){return r.render({id:e.id,type:e.type,label:e.id})}},{data:"currentStepOwner",render:function(e,t,n,i){return r.render({id:e.id,type:e.type,label:e.id})}}]};return s&&e.extend(!0,c,s),n.init(l,a,c)}}}.apply(t,i))||(e.exports=r)},11109:function(e,t,n){var i,r;i=[n(37549),n(92648),n(12993),n(40551),n(26742)],void 0===(r=function(e,t,n,i,r){return{sharedFieldType:"CALENDAR",properties:["shared-field","identifier","label","help-text","default-calendar","required","multiple","minimum-number","maximum-number","restrict-to-groups"],start:function(e){i.start(e),e.fieldType="calendar",e.required=!1,e.defaultValue="",e.helpText=""},test:function(e){return"text"===e.nodeName&&null!=e.attributes.getNamedItem("type")&&"calendar"===e.attributes.getNamedItem("type").value},convertXmlElementToTreeElement:function(e,t){t.fieldType="calendar",i.convertXmlElementToTreeElement(e,t),t.defaultValue=null==e.attributes.getNamedItem("default")?"":e.attributes.getNamedItem("default").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value},getBlank:function(e){return n.get("ddBuilder/calendar")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){i.onContextMenuLoaded(e)},updateUI:function(e){var t=e.id;i.updateUI(e),document.getElementById(t).value=e.defaultValue},save:function(t){var n=t.id;return!!i.save(t)&&(t.defaultValue=document.getElementById("default-"+n).value,t.defaultValueOverwritten="true"===e("#default-"+n).attr("data-overwritten"),t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten"),t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),!0)},generateXml:function(e){var t='<text type="calendar"';return t+=i.generateXml(e),t+=""===e.defaultValue?"":' default="'+r.escapeEntities(e.defaultValue)+'"',t+=e.required?' required="true"':"",(t+=""===e.helpText?"":' help-text="'+r.escapeEntities(e.helpText)+'"')+"/>\r\n"}}}.apply(t,i))||(e.exports=r)},19886:function(e,t,n){var i,r;i=[n(37549),n(92648),n(61491),n(83299),n(46418),n(26742),n(12993),n(40551)],void 0===(r=function(e,t,n,i,r,o,a,s){return{sharedFieldType:"CHECKBOX",properties:["shared-field","identifier","label","help-text","required","items","multiple","minimum-number","maximum-number","restrict-to-groups"],start:function(e){s.start(e),e.fieldType="checkbox",e.helpText="",e.checkboxItems=[{value:"Yes",selected:!1}]},test:function(e){return"text"===e.nodeName&&null!=e.attributes.getNamedItem("type")&&"checkbox"===e.attributes.getNamedItem("type").value},convertXmlElementToTreeElement:function(e,t){t.fieldType="checkbox",s.convertXmlElementToTreeElement(e,t),t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value;for(var i=[],r=0,o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if("checkbox-item"===a.nodeName&&null!=a.attributes.getNamedItem("value")){var l={value:a.attributes.getNamedItem("value").value,label:null!=a.attributes.getNamedItem("label")?a.attributes.getNamedItem("label").value:"",selected:null!=a.attributes.getNamedItem("checked")&&"true"===a.attributes.getNamedItem("checked").value};n.insertShowFields(a,l),i[r]=l,r++}}t.checkboxItems=i},getBlank:function(e){return a.get("ddBuilder/itemsField")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){i.addFieldItemsToContextMenu(e.id,e.checkboxItems,!0),s.onContextMenuLoaded(e)},updateUI:function(e){var t=e.id;i.insertBlankItemsUI(e.checkboxItems,t,"ddBuilder/checkboxItems"),s.updateUI(e)},save:function(t){var i=t.id;if(!s.save(t))return!1;for(var r=0,o=document.getElementById("item-"+i+"-"+r);null!=o;){if(""===o.value)return alert("Checkbox item value must not be empty"),!1;r++,o=document.getElementById("item-"+i+"-"+r)}t.required=document.getElementById("required-yes-"+i).checked,t.requiredOverwritten="true"===e("#required-yes-"+i).attr("data-overwritten"),r=0,o=document.getElementById("item-"+i+"-"+r);for(var a=[];null!=o;){var l={value:o.value,label:document.getElementById("label-"+i+"-"+r).value,selected:document.getElementById("item-selected-yes-"+i+"-"+r).checked};n.updateShowFields(i,r,l),a[r]=l,r++,o=document.getElementById("item-"+i+"-"+r)}return t.checkboxItems=a,t.helpText=document.getElementById("help-text-"+i).value,t.helpTextOverwritten="true"===e("#help-text-"+i).attr("data-overwritten"),!0},generateXml:function(e,t){var i='<text type="checkbox"';i+=s.generateXml(e),i+=e.required?' required="true"':"",i+=""===e.helpText?"":' help-text="'+o.escapeEntities(e.helpText)+'"',i+=">\r\n";for(var a=0;a<e.checkboxItems.length;a++){var l=e.checkboxItems[a];i=r.addIndents(i,t+2),i+='<checkbox-item value="'+o.escapeEntities(l.value)+'"'+(l.selected?' checked="true"':""),i+=l.label?' label="'+o.escapeEntities(l.label)+'"':"",i+=n.generateShowFieldsXml(l),i+="/>\r\n"}return(i=r.addIndents(i,t))+"</text>\r\n"}}}.apply(t,i))||(e.exports=r)},51022:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93660),n(26742),n(12993),n(40551),n(10861),n(46418)],void 0===(r=function(e,t,n,i,r,o,a,s){var l={sharedFieldType:"CHOOSER",properties:["shared-field","identifier","label","chooser-type","help-text","required","multiple","minimum-number","maximum-number","restrict-to-groups","render-content-depth","restrict-to-folder"]},c={page:"Page",file:"File",block:"Block",symlink:"Link","page,file,symlink":"File, Page, or Link"};l.start=function(e,t){t||(t="page"),o.start(e),e.identifier=e.identifier.replace("text","asset"),e.fieldType="chooser",e.chooserType=t,e.required=!1,e.helpText="",e.renderContentDepth="",e.restrictToFolder=""},l.test=function(e){return"asset"===e.nodeName&&null!=e.attributes.getNamedItem("type")},l.convertXmlElementToTreeElement=function(e,t){t.fieldType="chooser",o.convertXmlElementToTreeElement(e,t),t.chooserType=null==e.attributes.getNamedItem("type")?"":e.attributes.getNamedItem("type").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value,t.renderContentDepth=null==e.attributes.getNamedItem("render-content-depth")?"":e.attributes.getNamedItem("render-content-depth").value,t.restrictToFolder=null===e.attributes.getNamedItem("restrict-to-folder")?"":e.attributes.getNamedItem("restrict-to-folder").value},l.onInsert=function(t){e("#"+t.id).on("click.cs.chooser.asset",(function(){return!1}))},l.getBlank=function(e){return r.get("ddBuilder/chooser")({sddBuilderCounter:e.id,chooserType:u(e.chooserType),chooserLabel:c[e.chooserType]})},l.onContextMenuLoaded=function(t){if(e("#render-content-depth-"+t.id).val(t.renderContentDepth),e("#chooser-type-"+u(t.chooserType)+"-"+t.id).prop("checked",!0),t.restrictToFolder){var i=s.getRestrictToFolderPath(t.restrictToFolder);e.getJSON(n.default.absolutePath("/ajax/getAssetInfo.act"),{path:i,type:"folder",siteId:Cascade.Variables.get("currentSiteId"),restrictToFolderPath:t.restrictToFolder},(function(n){if(!n.error){var i=e("#restrict-to-folder-"+t.id);i.length&&i.assetChooser().data("cs.chooser").setChosen(n.dom),a.CONTENT.trackAssetEventFromModal("Chose Restrict to Folder in Data Definition",{fieldType:t.fieldType})}}))}o.onContextMenuLoaded(t)},l.updateUI=function(e){o.updateUI(e)},l.save=function(t){var n=t.id,i=e("#restrict-to-folder-"+n).assetChooser().data("cs.chooser");if(!o.save(t))return!1;var r=document.getElementById("render-content-depth-"+n).value;return"unlimited"!==r&&""!==r&&isNaN(r)?(alert('Render content depth must be either empty, a number or "unlimited"'),!1):(t.chooserType=e("input[name='chooser-type-"+n+"']:checked").val(),t.renderContentDepth=document.getElementById("render-content-depth-"+n).value,t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten"),t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),t.restrictToFolder=!i.isEmpty()&&i.getAssetFromChosen(),e("#"+n+" .chooser-type").removeClass("ci-page ci-block ci-file ci-symlink ci-linkable").addClass("ci-"+u(t.chooserType)),e("#"+n+" .chooser-name").text(c[t.chooserType]),!0)},l.generateXml=function(e){var r='<asset type="'+e.chooserType+'"';if(r+=o.generateXml(e),r+=""===e.renderContentDepth?"":' render-content-depth="'+i.escapeEntities(e.renderContentDepth)+'"',r+=e.required?' required="true"':"",r+=""===e.helpText?"":' help-text="'+i.escapeEntities(e.helpText)+'"',e.restrictToFolder){var a=t.isString(e.restrictToFolder)?e.restrictToFolder:e.restrictToFolder.path;r+=' restrict-to-folder="'+n.default.relationshipPathToContentLink(a)+'"'}return r+"/>\r\n"};var u=function(e){return"page,file,symlink"===e?"linkable":e};return l}.apply(t,i))||(e.exports=r)},86412:function(e,t,n){var i,r;i=[n(37549),n(92648)],void 0===(r=function(e,t){var n={init:function(t,i,r,o){n.tree={},n.treeBackup={},n.sddBuilderCounter=1,n.fieldCounter=1,n.defaultSiteConfig={},n.defaultSiteConfigCSSFile="",n.builderType="",n.fieldTypes=[],n.fieldTypeMap=t,n.sharedFieldType=o,n.isEdit=i,n.isStructuredDataUpgraded=r;var a=e("#content-editor");for(var s in n.xmlEditor=a.data("cscd-codeeditor"),n.fieldTypeMap)n.fieldTypeMap.hasOwnProperty(s)&&n.fieldTypes.push(s);n.sharedFieldCache={}},reset:function(){n.tree={firstChild:{id:"1",fieldType:"droppable"},id:"sdd-builder-main",isRoot:!0},n.tree.firstChild.parent=n.tree,n.fieldCounter=1,n.sddBuilderCounter=1},getFieldPath:function(e){if(null==e||null==e.identifier)return"";var t=n.getFieldPath(e.parent);return""!==t&&(t+="/"),t+e.identifier},getReadableFieldPath:function(e){if(null==e||null==e.identifier||"comment"===e.fieldType)return"";var t=n.getReadableFieldPath(e.parent);return""!==t&&(t+="/"),t+(e.label||e.identifier)},incrementFieldCounter:function(){for(n.fieldCounter++;i(n.tree);)n.fieldCounter++}},i=function(e){return!(!e.firstChild||!i(e.firstChild))||e.identifier==="text"+n.fieldCounter||e.identifier==="group"+n.fieldCounter||e.identifier==="asset"+n.fieldCounter||!(!e.next||!i(e.next))};return n}.apply(t,i))||(e.exports=r)},93831:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26340),n(59251),n(86412),n(61491),n(46418),n(47430),n(4033),n(19882),n(19886),n(4658),n(99412),n(84695),n(11109),n(28506),n(79196),n(51022),n(68720),n(94254),n(56495),n(40618),n(10181),n(69651),n(53376),n(26742),n(90660),n(6872)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b,w,x,C,_,k){var S=function(){r.reset(),b.resetIdToTreeElementCache();var t=r.xmlEditor.getValue(),n=e("#sdd-builder-main");C.deactivateWysiwygs(n),v.preloadSharedFields(t,(function(){t||(t="<system-data-structure>\r\n</system-data-structure>",r.xmlEditor.setValue(t)),r.sddBuilderCounter++;var e=w.getDataDefinitionXmlDocument(t);null!=e&&(b.convertXmlToTreeElements(e.childNodes[0].childNodes,r.tree.firstChild.id),"droppable"===r.tree.firstChild.fieldType&&null==r.tree.firstChild.next&&r.sharedFieldType&&r.fieldTypes.forEach((function(e){var t=r.fieldTypeMap[e];t.sharedFieldType===r.sharedFieldType&&(t.start(r.tree.firstChild),a.updateXml())})),a.insertTreeElementsToUI(r.tree,"sdd-builder-main"),o.rebuildShowFieldRulesAndFieldPaths())}))};return{init:function(t,o,a,b){if("StructuredDataDefinition"!==a&&"SharedField"!==a)throw"Invalid forType argument";r.init({textfield:s,textarea:l,wysiwyg:c,checkbox:u,dropdown:d,radiobutton:h,multiselector:f,calendar:p,datetime:A,group:g,chooser:m,sharedfield:v,unknownsharedfield:y},t,o,b),r.builderType=a,"SharedField"===a&&r.fieldTypes.forEach((function(e){var t=r.fieldTypeMap[e];"shared-field"===t.properties[0]&&t.properties.shift()})),x.reset();var C=_.getStandardFormForModal(),E=e("#content-editor");r.defaultSiteConfig=k.parseJson(Cascade.Variables.get("siteDefaultConfig"),{}),r.defaultSiteConfigCSSFile=Cascade.Variables.get("siteDefaultConfigCSSFile"),S(),e("#sdd-builder-toolbar > div").draggable({helper:function(){return e(this).clone().css("opacity",.67)},cursor:"move"}),_.addPreSubmitHandler(C,(function(){return w.validateDataDefinitionXml()})),C.on({"shown.bs.tab":function(){var e=this.getAttribute("data-type");"xml"===e?E.trigger("resize.codeeditor.ace"):"builder"===e&&S()}},".modal-nav a"),n.default.get().addNameChangeHandler((function(t,n){""===n&&(n="system-data-structure"),e(".sdd-builder-content .form-section-header .title").text(n)})),i.restoreOriginalForm(_.getStandardFormForModal().serialize())}}}.apply(t,i))||(e.exports=r)},28506:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26742),n(12993),n(40551)],void 0===(r=function(e,t,n,i,r){return{sharedFieldType:"DATETIME",properties:["shared-field","identifier","label","help-text","default-datetime","required","multiple","minimum-number","maximum-number","restrict-to-groups"],start:function(e){r.start(e),e.fieldType="datetime",e.required=!1,e.defaultValue="",e.helpText=""},test:function(e){return"text"===e.nodeName&&null!=e.attributes.getNamedItem("type")&&"datetime"===e.attributes.getNamedItem("type").value},convertXmlElementToTreeElement:function(e,t){t.fieldType="datetime",r.convertXmlElementToTreeElement(e,t),t.defaultValue=null==e.attributes.getNamedItem("default")?"":e.attributes.getNamedItem("default").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value},getBlank:function(e){return i.get("ddBuilder/datetime")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){r.onContextMenuLoaded(e)},updateUI:function(e){var t=e.id;r.updateUI(e),document.getElementById(t).value=e.defaultValue},save:function(t){var n=t.id;return!!r.save(t)&&(t.defaultValue=document.getElementById("default-"+n).value,t.defaultValueOverwritten="true"===e("#default-"+n).attr("data-overwritten"),t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten"),t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),!0)},generateXml:function(e){var t='<text type="datetime"';return t+=r.generateXml(e),t+=""===e.defaultValue?"":' default="'+n.escapeEntities(e.defaultValue)+'"',t+=e.required?' required="true"':"",(t+=""===e.helpText?"":' help-text="'+n.escapeEntities(e.helpText)+'"')+"/>\r\n"}}}.apply(t,i))||(e.exports=r)},4658:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26742),n(12993),n(40551),n(45298),n(86412),n(61491),n(83299),n(46418)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){return{sharedFieldType:"DROPDOWN",properties:["shared-field","identifier","label","help-text","default","required","allow-custom-values","items","multiple","minimum-number","maximum-number","restrict-to-groups"],start:function(e){r.start(e),e.fieldType="dropdown",e.required=!1,e.helpText="",e.dropdownItems=[],e.defaultValue="",e.allowCustomValues=!1,e.dropdownItems[0]={value:"",selected:!1}},test:function(e){return"text"===e.nodeName&&null!=e.attributes.getNamedItem("type")&&"dropdown"===e.attributes.getNamedItem("type").value},convertXmlElementToTreeElement:function(e,t){t.fieldType="dropdown",r.convertXmlElementToTreeElement(e,t),t.defaultValue=null==e.attributes.getNamedItem("default")?"":e.attributes.getNamedItem("default").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value,t.allowCustomValues=null!=e.attributes.getNamedItem("allow-custom-values")&&"true"===e.attributes.getNamedItem("allow-custom-values").value;for(var n=[],i=0,o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if("dropdown-item"===a.nodeName){var l=a.attributes.getNamedItem("value"),c={value:l?l.value:"",label:null!=a.attributes.getNamedItem("label")?a.attributes.getNamedItem("label").value:""};c.selected=c.value===t.defaultValue,s.insertShowFields(a,c),n[i]=c,i++}}t.dropdownItems=n},getBlank:function(e){return i.get("ddBuilder/itemsField")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){o.updateYesNoField("allowCustomValues",e.allowCustomValues,e.id),l.addFieldItemsToContextMenu(e.id,e.dropdownItems),r.onContextMenuLoaded(e)},updateUI:function(n){var i=n.id;n.allowCustomValues&&-1===t.findIndex(n.dropdownItems,["value",n.defaultValue])&&n.dropdownItems.unshift({value:n.defaultValue,selected:!0}),l.insertBlankItemsUI(n.dropdownItems,i,"ddBuilder/dropdownItems"),e("#"+i).attr({"data-create":n.allowCustomValues,placeholder:Cascade.I18n.get("label.structureddata.dropdown.placeholder")}),r.updateUI(n)},save:function(t){var n=t.id;if(!r.save(t))return!1;t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten");for(var i=0,o=document.getElementById("item-"+n+"-"+i),a=[];null!=o;){var l={value:o.value,label:document.getElementById("label-"+n+"-"+i).value};s.updateShowFields(n,i,l),a[i]=l,i++,o=document.getElementById("item-"+n+"-"+i)}return t.defaultValue=document.getElementById("default-"+n).value,t.defaultValueOverwritten="true"===e("#default-"+n).attr("data-overwritten"),t.dropdownItems=a,t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),t.allowCustomValues=document.getElementById("allowCustomValues-yes-"+n).checked,!0},generateXml:function(e,t){var i='<text type="dropdown"';i+=r.generateXml(e),i+=""===e.defaultValue?"":' default="'+n.escapeEntities(e.defaultValue)+'"',i+=e.required?' required="true"':"",i+=""===e.helpText?"":' help-text="'+n.escapeEntities(e.helpText)+'"',i+=e.allowCustomValues?' allow-custom-values="true"':"",i+=">\r\n";for(var o=0;o<e.dropdownItems.length;o++){var a=e.dropdownItems[o];i=c.addIndents(i,t+2),i+='<dropdown-item value="'+n.escapeEntities(a.value)+'"',i+=a.label?' label="'+n.escapeEntities(a.label)+'"':"",i+=s.generateShowFieldsXml(a),i+="/>\r\n"}return(i=c.addIndents(i,t))+"</text>\r\n"}}}.apply(t,i))||(e.exports=r)},40551:function(e,t,n){var i,r;i=[n(37549),n(92648),n(51517),n(10181),n(26742),n(86412),n(45298),n(68720),n(61491),n(46418)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){var u=function(e){return e&&"true"===e.getAttribute("data-overwritten")},d={start:function(e){e.identifier="text"+o.fieldCounter,o.incrementFieldCounter(),i.addFieldPath(o.getFieldPath(e),o.sddBuilderCounter),e.id=""+o.sddBuilderCounter,o.sddBuilderCounter++,e.label="",e.multiple=!1,e.maximumNumber="",e.minimumNumber="",e.restrictToGroups="",e.sharedField=""},convertXmlElementToTreeElement:function(e,t){t.id=""+o.sddBuilderCounter,o.sddBuilderCounter++;var n=e.attributes.getNamedItem("identifier");null!=n&&n.value||alert("Identifier is missing"),t.identifier=null==n?"":n.value,t.label=null==e.attributes.getNamedItem("label")?"":e.attributes.getNamedItem("label").value,t.multiple=null!=e.attributes.getNamedItem("multiple")&&"true"===e.attributes.getNamedItem("multiple").value,t.maximumNumber=null==e.attributes.getNamedItem("maximum-number")?"":e.attributes.getNamedItem("maximum-number").value,t.minimumNumber=null==e.attributes.getNamedItem("minimum-number")?"":e.attributes.getNamedItem("minimum-number").value,t.restrictToGroups=null==e.attributes.getNamedItem("restrict-to-groups")?"":e.attributes.getNamedItem("restrict-to-groups").value,t.fieldId=null==e.attributes.getNamedItem("field-id")?"":e.attributes.getNamedItem("field-id").value,t.sharedField=""},updateUI:function(t){var i=e("#"+t.id).parents(".form-group,.form-group-collapsible-header").first();i.find(".form-group-controls, .form-group-control-index").toggle(!0===t.multiple),i.find(".sd-field").toggleClass("multiple",!0===t.multiple),i.find(".field-label").toggleClass("required",!0===t.required).text(""===t.label?t.identifier:t.label),i.find(".help-block").toggle(""!==t.helpText).text(t.helpText),c.getFieldContextMenu(t).hide(),n.init(i)},generateXml:function(e){var t=" ";return t+='identifier="'+r.escapeEntities(e.identifier)+'"',t+=""===e.label?"":' label="'+r.escapeEntities(e.label)+'"',t+=e.multiple?' multiple="true"':"",t+=""!==e.maximumNumber?' maximum-number="'+r.escapeEntities(e.maximumNumber)+'"':"",t+=""!==e.minimumNumber?' minimum-number="'+r.escapeEntities(e.minimumNumber)+'"':"",(t+=""===e.restrictToGroups?"":' restrict-to-groups="'+r.escapeEntities(e.restrictToGroups)+'"')+(e.fieldId?' field-id="'+r.escapeEntities(e.fieldId)+'"':"")},save:function(t){var n,i,r,a,s,c=t.id,d=document.getElementById("identifier-"+c),h=e("#shared-field-"+c).assetChooser().data("cs.chooser");if(!d||""===d.value)return alert("Identifier cannot be empty"),!1;if(""!==(i=document.getElementById("maximum-number-"+c)).value&&isNaN(i.value))return alert("Maximum number needs to be a number"),!1;if(""!==(r=document.getElementById("minimum-number-"+c)).value&&isNaN(r.value))return alert("Minimum number needs to be a number"),!1;if(a=document.getElementById("multiple-yes-"+c),o.isEdit&&!t.createdInThisSession){var f="",p=!1;if(("group"===t.fieldType&&t.multiple!==a.checked||t.multiple&&!a.checked)&&(p=!0),p?f=['Changing the "Multiple" value for a field'," can result in content loss in pages using this field",". Are you sure you want to continue?"].join("group"===t.fieldType?" group":""):i.value&&(!t.maximumNumber||parseInt(t.maximumNumber)>parseInt(i.value))&&(f='Changing the "Maximum" value for a field can result in content loss in pages using this field. Are you sure you want to continue?'),f&&!confirm(f))return!1}return n=document.getElementById("label-"+c),s=document.getElementById("restrict-to-groups-"+c),d.value===t.identifier&&n.value===t.label||l.discardFieldPathFromReadableFieldPathCache(o.getFieldPath(t)),t.identifier=d.value,t.label=n.value,t.labelOverwritten=u(n),t.multiple=a.checked,t.maximumNumber=t.multiple?i.value:"",t.maximumNumberOverwritten=u(i),t.minimumNumber=t.multiple?r.value:"",t.minimumNumberOverwritten=u(r),t.restrictToGroups=s.value,h&&!h.isEmpty()?t.sharedField=h.getAssetFromChosen():t.sharedField&&"unknownsharedfield"===t.fieldType||(t.sharedField=!1),!0},onContextMenuLoaded:function(e){f(e),h(e)}},h=function(e){var t=c.getFieldContextMenu(e);t.find(".advanced-link").removeClass("hide"),t.find("tr.advanced").addClass("hide")},f=function(t){for(var i=t.id,r=s.getSharedFieldContentLink(t),l=s.isSharedFieldAssigned(t),u=c.getFieldContextMenu(t),d=u.find("tr:not(:first):not(:last):not(:nth-last-child(2))"),h=0;h<d.length;h++){var f=d[h],p=e(f),A=!1;if(l){var g=p.find("td:nth-child(3) input");A="always-overwrite"!==g.attr("data-property-type"),"overwritable"===g.attr("data-property-type")&&l&&t[g.attr("data-property")+"Overwritten"]&&(A=!1)}s.disableProperty(p,A),p.find(".property-overwrite-toggle").prop("checked",!A).parent().toggleClass("hide",!l||"SharedField"===o.builderType)}var m=e("#shared-field-"+i);if(m.length){var v,y=m.assetChooser().data("cs.chooser");if(l){var b=o.sharedFieldCache[r].dom;b&&(y.setChosen(b),v=b.label)}else y.setChosen(""),v="Custom";e("#shared-field-name-"+i).text(v)}e("#identifier-"+i).val(t.identifier),e("#label-"+i).val(t.label),e("#maximum-number-"+i).val(t.maximumNumber),e("#minimum-number-"+i).val(t.minimumNumber),e("#minimum-number-row-"+t.id+", #maximum-number-row-"+t.id).toggleClass("hide",l&&!t.multiple),e("#restrict-to-groups-"+i).val(t.restrictToGroups),e("#help-text-"+i).val(t.helpText),e("#default-"+i).val(t.defaultValue),e("#regular-expression-"+i).val(t.regularExpression),e("#input-data-format-"+i).val(t.inputDataFormat),e("#maxlength-"+i).val(t.maxlength),e("#size-"+i).val(t.size),e("#rows-"+i).val(t.rows),e("#cols-"+i).val(t.cols),a.updateYesNoField("multiple",t.multiple,i),a.updateYesNoField("required",t.required,i),n.init(u)};return d}.apply(t,i))||(e.exports=r)},83299:function(e,t,n){var i,r;i=[n(37549),n(92648),n(12993),n(61491)],void 0===(r=function(e,t,n,i){var r=function(e,t,r,o){return n.get("ddBuilder/contextMenuItem")({sddBuilderCounter:e,id:t,includeSelected:o,item:r,showFieldsMarkup:i.generateShowFieldsMarkup(r.showFields,e)})};return{insertBlankItemsUI:function(e,t,i){document.getElementById("items-"+t).innerHTML=n.get(i)({sddBuilderCounter:t,items:e})},addFieldItemsToContextMenu:function(n,o,a){a=!0===a;var s=e("#items-cell-"+n),l="";if(s.length){(function(n,o,a){n.off(".ddbuilder.fielditem").on("click.add.ddbuilder.fielditem",".builder-add",(function(){var n=t.toInteger(this.getAttribute("data-itemidx"));!function(t,n,i){var o={value:""};i&&(o.selected=!1),e("#items-cell-"+t).append(r(t,n,o,i))}(o,n+1,a)})).on("click.remove.ddbuilder.fielditem",".builder-remove",(function(){var e,t;e=o,(t=document.getElementById("items-cell-"+e))&&t.removeChild(t.lastChild)})).on("change.add.ddbuilder.showfield","select.field",(function(){i.addShowFieldItem(e(this))})).on("click.remove.ddbuilder.showfield",".remove-show-field-item",(function(){i.removeShowFieldItem(e(this))}))})(s,n,a),s.html("");for(var c=0;c<o.length;c++)l+=r(n,c,o[c],a);s.html(l)}}}}.apply(t,i))||(e.exports=r)},45298:function(e,t,n){var i,r;i=[n(37549),n(92648)],void 0===(r=function(e,t){return{updateYesNoField:function(t,n,i){e("#"+t+"-yes-"+i).prop("checked",n),e("#"+t+"-no-"+i).prop("checked",!n)},updateCheckboxField:function(t,n,i){e("#"+t+"-"+i).prop("checked",n)}}}.apply(t,i))||(e.exports=r)},79196:function(e,t,n){var i,r;i=[n(37549),n(92648),n(12993),n(40551),n(45298),n(86412),n(68720),n(46418),n(61491)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c={sharedFieldType:"GROUP",properties:["shared-field","identifier","label","collapsed","multiple","minimum-number","maximum-number","restrict-to-groups"],start:function(e){i.start(e),e.identifier=e.identifier.replace("text","group"),e.fieldType="group",e.collapsed=!1,e.firstChild={id:"sdd-droppable-"+e.id,parent:e,fieldType:a.isSharedFieldAssigned(e)?"blank":"droppable"}},test:function(e){return"group"===e.nodeName},convertXmlElementToTreeElement:function(e,t){t.fieldType="group",i.convertXmlElementToTreeElement(e,t),t.collapsed=null==e.attributes.getNamedItem("collapsed")?"":"true"===e.attributes.getNamedItem("collapsed").value,t.firstChild||(t.firstChild={id:"sdd-droppable-"+t.id,parent:t,fieldType:a.isSharedFieldAssigned(t)?"blank":"droppable"})},getBlank:function(e){return n.get("ddBuilder/group")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){r.updateYesNoField("collapsed",e.collapsed,e.id),i.onContextMenuLoaded(e)},updateUI:function(t){var n=t.id;i.updateUI(t),e("#identifier-a-"+n).attr("class","ci ci-angle-"+(t.collapsed?"right":"down")).parent().attr("aria-label",t.collapsed?Cascade.I18n.get("collapsible.section.open.label"):Cascade.I18n.get("collapsible.section.close.label"));var r=a.getAncestorSharedField(t),o=e("#sdd-builder-2"+n);o.toggleClass("hide",null!=r);var c=e("#shared-field-group-children-"+n);c.toggleClass("hide",null==r),r?(c.html(""),u(t.firstChild,r,"shared-field-group-children-"+t.id,t,null,0)):(o.html(""),s.insertTreeElementsToUI(t,o.attr("id"))),l.rebuildShowFieldRulesAndFieldPaths()},save:function(e){var t=e.id;return!!i.save(e)&&(e.collapsed=document.getElementById("collapsed-yes-"+t).checked,!0)},generateXml:function(e,t){var n="<group";return n+=i.generateXml(e),n+=e.collapsed?' collapsed="true"':"",n+=">\r\n",n+=s.generateXml(e.firstChild,t+2),(n=s.addIndents(n,t))+"</group>\r\n"}},u=function(t,n,i,r,a,s){if(t){var l="group-inner-"+r.id+"-"+s;t.parent=r,t.id=l,t.previous=a,d(t.checkboxItems,n),d(t.dropdownItems,n),d(t.multiselectorItems,n),d(t.radiobuttonItems,n),e("#"+i).append('<div id="sdd-builder-inside-'+t.id+'">'+h(t)+"</div>");var c=o.fieldTypeMap[t.fieldType];u(t.next,n,i,r,t,s+1),c&&c.updateUI(t)}},d=function(e,t){e&&e.forEach((function(e){var n=[],i=e.originalShowFields?e.originalShowFields:e.showFields;i&&(i.forEach((function(e){var i=o.getFieldPath(t);-1!==e.indexOf("/")&&(i+="/~"+e.substring(e.indexOf("/"))),n.push(i)})),e.originalShowFields=i,e.showFields=n)}))},h=function(e){var t=o.fieldTypeMap[e.fieldType];return t?t.getBlank(e):""};return c}.apply(t,i))||(e.exports=r)},84695:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26742),n(12993),n(40551),n(61491),n(83299),n(46418)],void 0===(r=function(e,t,n,i,r,o,a,s){return{sharedFieldType:"MULTISELECTOR",properties:["shared-field","identifier","label","help-text","required","items","multiple","minimum-number","maximum-number","restrict-to-groups"],start:function(e){r.start(e),e.fieldType="multiselector",e.required=!1,e.helpText="",e.multiselectorItems=[],e.multiselectorItems[0]={value:"",selected:!1}},test:function(e){return"text"===e.nodeName&&null!=e.attributes.getNamedItem("type")&&"multi-selector"===e.attributes.getNamedItem("type").value},convertXmlElementToTreeElement:function(e,t){t.fieldType="multiselector",r.convertXmlElementToTreeElement(e,t),t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value;for(var n=[],i=0,a=0;a<e.childNodes.length;a++){var s=e.childNodes[a];if("selector-item"===s.nodeName&&null!=s.attributes.getNamedItem("value")){var l={value:s.attributes.getNamedItem("value").value,label:null!=s.attributes.getNamedItem("label")?s.attributes.getNamedItem("label").value:"",selected:null!=s.attributes.getNamedItem("selected")&&"true"===s.attributes.getNamedItem("selected").value};o.insertShowFields(s,l),n[i]=l,i++}}t.multiselectorItems=n},getBlank:function(e){return i.get("ddBuilder/itemsField")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){a.addFieldItemsToContextMenu(e.id,e.multiselectorItems,!0),r.onContextMenuLoaded(e)},updateUI:function(t){var n=t.id;e("#"+n).attr("placeholder",Cascade.I18n.get("label.structureddata.dropdown-multiple.placeholder")),a.insertBlankItemsUI(t.multiselectorItems,n,"ddBuilder/multiselectItems"),r.updateUI(t)},save:function(t){var n=t.id;if(!r.save(t))return!1;t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten");for(var i=0,a=document.getElementById("item-"+n+"-"+i),s=[];null!=a;){var l={value:a.value,label:document.getElementById("label-"+n+"-"+i).value,selected:document.getElementById("item-selected-yes-"+n+"-"+i).checked};o.updateShowFields(n,i,l),s[i]=l,i++,a=document.getElementById("item-"+n+"-"+i)}return t.multiselectorItems=s,t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),!0},generateXml:function(e,t){var i='<text type="multi-selector"';i+=r.generateXml(e),i+=e.required?' required="true"':"",i+=""===e.helpText?"":' help-text="'+n.escapeEntities(e.helpText)+'"',i+=">\r\n";for(var a=0;a<e.multiselectorItems.length;a++){var l=e.multiselectorItems[a];i=s.addIndents(i,t+2),i+='<selector-item value="'+n.escapeEntities(l.value)+'"'+(l.selected?' selected="true"':""),i+=l.label?' label="'+n.escapeEntities(l.label)+'"':"",i+=o.generateShowFieldsXml(l),i+="/>\r\n"}return(i=s.addIndents(i,t))+"</text>\r\n"}}}.apply(t,i))||(e.exports=r)},99412:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26742),n(12993),n(40551),n(61491),n(83299),n(46418)],void 0===(r=function(e,t,n,i,r,o,a,s){return{sharedFieldType:"RADIOBUTTON",properties:["shared-field","identifier","label","help-text","default","required","items","multiple","minimum-number","maximum-number","restrict-to-groups"],start:function(e){r.start(e),e.fieldType="radiobutton",e.required=!1,e.helpText="",e.radiobuttonItems=[],e.defaultValue="",e.radiobuttonItems[0]={value:"Yes"}},test:function(e){return"text"===e.nodeName&&null!=e.attributes.getNamedItem("type")&&"radiobutton"===e.attributes.getNamedItem("type").value},convertXmlElementToTreeElement:function(e,t){t.fieldType="radiobutton",r.convertXmlElementToTreeElement(e,t),t.defaultValue=null==e.attributes.getNamedItem("default")?"":e.attributes.getNamedItem("default").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value;for(var n=[],i=0,a=0;a<e.childNodes.length;a++){var s=e.childNodes[a];if("radio-item"===s.nodeName){var l={value:null!=s.attributes.getNamedItem("value")?s.attributes.getNamedItem("value").value:"",label:null!=s.attributes.getNamedItem("label")?s.attributes.getNamedItem("label").value:""};o.insertShowFields(s,l),n[i]=l,i++}}t.radiobuttonItems=n},getBlank:function(e){return i.get("ddBuilder/itemsField")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){a.addFieldItemsToContextMenu(e.id,e.radiobuttonItems),r.onContextMenuLoaded(e)},updateUI:function(t){var n=t.id;a.insertBlankItemsUI(t.radiobuttonItems,n,"ddBuilder/radioItems"),e("#"+n+" input[value='"+t.defaultValue+"']").prop("checked",!0),r.updateUI(t)},save:function(t){var n=t.id;if(!r.save(t))return!1;for(var i=0,a=document.getElementById("item-"+n+"-"+i);null!=a;){if(""===a.value)return alert("Radiobutton item value must not be empty"),!1;i++,a=document.getElementById("item-"+n+"-"+i)}t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten"),i=0,a=document.getElementById("item-"+n+"-"+i);for(var s=[];null!=a;){var l={value:a.value,label:document.getElementById("label-"+n+"-"+i).value};o.updateShowFields(n,i,l),s[i]=l,i++,a=document.getElementById("item-"+n+"-"+i)}return t.defaultValue=document.getElementById("default-"+n).value,t.defaultValueOverwritten="true"===e("#default-"+n).attr("data-overwritten"),t.radiobuttonItems=s,t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),!0},generateXml:function(e,t){var i='<text type="radiobutton"';i+=r.generateXml(e),i+=""===e.defaultValue?"":' default="'+n.escapeEntities(e.defaultValue)+'"',i+=e.required?' required="true"':"",i+=""===e.helpText?"":' help-text="'+n.escapeEntities(e.helpText)+'"',i+=">\r\n";for(var a=0;a<e.radiobuttonItems.length;a++){var l=e.radiobuttonItems[a];i=s.addIndents(i,t+2),i+='<radio-item value="'+n.escapeEntities(l.value)+'"',i+=l.label?' label="'+n.escapeEntities(l.label)+'"':"",i+=o.generateShowFieldsXml(l),i+="/>\r\n"}return(i=s.addIndents(i,t))+"</text>\r\n"}}}.apply(t,i))||(e.exports=r)},68720:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93660),n(86412),n(56495),n(40618),n(26742)],void 0===(r=function(e,t,i,r,o,a,s){var l={sharedFieldType:"",properties:["shared-field","identifier","label","collapsed","multiple","minimum-number","maximum-number","restrict-to-groups"],test:function(e){return"StructuredDataDefinition"===r.builderType&&"shared-field"===e.nodeName},convertXmlElementToTreeElement:function(e,t){var n=""+r.sddBuilderCounter;t.id=n,r.sddBuilderCounter++,t.sharedField=null==e.attributes.getNamedItem("path")?"":e.attributes.getNamedItem("path").value;var i,a,s=r.sharedFieldCache[t.sharedField];s?(o.clone(s.treeElement,t),a=t,null!=(i=e).attributes.getNamedItem("identifier")&&(a.identifier=i.attributes.getNamedItem("identifier").value),null!=i.attributes.getNamedItem("label")&&(a.label=i.attributes.getNamedItem("label").value,a.labelOverwritten=!0),null!=i.attributes.getNamedItem("help-text")&&(a.helpText=i.attributes.getNamedItem("help-text").value,a.helpTextOverwritten=!0),null!=i.attributes.getNamedItem("default")&&(a.defaultValue=i.attributes.getNamedItem("default").value,a.defaultValueOverwritten=!0),null!=i.attributes.getNamedItem("required")&&(a.required="true"===i.attributes.getNamedItem("required").value,a.requiredOverwritten=!0),null!=i.attributes.getNamedItem("minimum-number")&&(a.minimumNumber=i.attributes.getNamedItem("minimum-number").value,a.minimumNumberOverwritten=!0),null!=i.attributes.getNamedItem("maximum-number")&&(a.maximumNumber=i.attributes.getNamedItem("maximum-number").value,a.maximumNumberOverwritten=!0),t.fieldId=null==e.attributes.getNamedItem("field-id")?"":e.attributes.getNamedItem("field-id").value,o.bankInIdToTreeElementInCache(t)):console.log("No shared field found: ",t.sharedField)},generateXml:function(e){var t='<shared-field path="'+l.getSharedFieldContentLink(e)+'" identifier="'+s.escapeEntities(e.identifier)+'"';return t+=e.labelOverwritten?' label="'+s.escapeEntities(e.label)+'"':"",t+=e.helpTextOverwritten?' help-text="'+s.escapeEntities(e.helpText)+'"':"",t+=e.defaultValueOverwritten?' default="'+s.escapeEntities(e.defaultValue)+'"':"",t+=e.requiredOverwritten?' required="'+(e.required?"true":"false")+'"':"",t+=e.minimumNumberOverwritten?' minimum-number="'+s.escapeEntities(e.minimumNumber)+'"':"",t+=e.maximumNumberOverwritten?' maximum-number="'+s.escapeEntities(e.maximumNumber)+'"':"",(t+=e.fieldId?' field-id="'+s.escapeEntities(e.fieldId)+'"':"")+" />\r\n"},getSharedFieldContentLink:function(e){var n=e.sharedField;if(!n)return"";if(t.isString(n))return n;var r=n.path;return i.default.relationshipPathToContentLink(r)},isSharedFieldAssigned:function(e){return"StructuredDataDefinition"===r.builderType&&!!l.getSharedFieldContentLink(e)},getAncestorSharedField:function(e){return"StructuredDataDefinition"!==r.builderType?null:l.isSharedFieldAssigned(e)?e:e.parent?l.getAncestorSharedField(e.parent):null},loadSharedField:function(t,o){e.getJSON(i.default.absolutePath("/ajax/getAssetInfo.act"),{path:t.contentLink,type:"sharedfield",siteId:Cascade.Variables.get("currentSiteId")},(function(e){var i=n(94254),s=e.dom?e.dom.xml:i.buildUnknownSharedFieldPlaceholderXML(t);if(e.error&&console.log(e.error),s){var l=a.getDataDefinitionXmlDocument(s).childNodes[0].childNodes,u=c(l,null)[0];u.sharedField=t.contentLink,r.sharedFieldCache[t.contentLink]={dom:e.dom,treeElement:u}}o()}))},preloadSharedFields:function(e,t){if(e){var n=u(a.getDataDefinitionXmlDocument(e).childNodes[0].childNodes);if(0!==n.length)for(var i=0,r=0;r<n.length;r++)l.loadSharedField(n[r],(function(){++i===n.length&&t()}));else t()}else t()},disableProperty:function(e,t){var n=e.find("td:nth-child(3) input");n.attr("data-overwritten",t?"false":"true"),n.attr("disabled",t),e.find("td:not(:nth-child(2))").toggleClass("form-group form-group-md disabled",t)}},c=function(e,t){for(var n=[],i=0;i<e.length;i++){var a=e[i],s={};r.fieldTypes.forEach((function(e){var i=r.fieldTypeMap[e];if(i.test(a)){i.convertXmlElementToTreeElement(a,s),"group"===e&&c(a.childNodes,s),delete s.id,s.parent=t;var l=n.length>0?n[n.length-1]:null;o.insertElement(s,l,null),delete s.parent,delete s.previous,s.sharedField="",n.push(s)}}))}return n},u=function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n];if(r.fieldTypeMap.group.test(i))t=t.concat(u(i.childNodes));else if(r.fieldTypeMap.sharedfield.test(i)){var o=i.attributes,a=o.getNamedItem("path").value;a&&t.push({contentLink:a,field_id:null==o.getNamedItem("field-id")?"":o.getNamedItem("field-id").value,identifier:null==o.getNamedItem("identifier")?"":o.getNamedItem("identifier").value})}}return t};return l}.apply(t,i))||(e.exports=r)},61491:function(e,t,n){var i,r;i=[n(37549),n(92648),n(10181),n(26742),n(89152),n(12993),n(86412),n(68720),n(79943),n(56495)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){var u={},d=function(e){if(u[e])return u[e];var t=c.findTreeElementById(function(e){var t=n.fieldPaths[e];return t.length?t[0]:""}(e));if(!t)return"";var i=a.getReadableFieldPath(t);return u[e]=i,i},h=function(e){var t=l.getShowFieldItems(e);if(null!=t&&t.length>0)for(var i=0;i<t.length;i++){var r=t[i];null!=r.showFields&&n.registerSmartFieldDependency(e.id,r.value,l.convertShowFieldsToString(r.showFields))}null!=e.firstChild&&h(e.firstChild),null!=e.next&&h(e.next)},f=function(e,t){var i="";null!=e.identifier&&(i=""===t?e.identifier:t+"/"+e.identifier,n.addFieldPath(i,e.id)),s.isSharedFieldAssigned(e)&&(i+="/~"),null!=e.firstChild&&f(e.firstChild,i),null!=e.next&&f(e.next,t)},p=function(e){if(!e)return"";for(var t=c.findTreeElementById(e.fieldId),n="This "+(c.isGroupElement(t)?"group":"field")+" will be shown when",i=0;i<e.rules.length;i++){var r=e.rules[i],o=c.findTreeElementById(r.getParentFieldId());i>0&&(i===e.rules.length-1?n+=", or":n+=","),n+=" '"+a.getReadableFieldPath(o)+"' is '"+r.getValue()+"'"}return n+"."},A=function(e){var t=e.field.querySelectorAll(".dd-builder-field-dependency-description");if(!t.length)return null;var n=c.findTreeElementById(e.fieldId);return c.isGroupElement(n)?t[0]:t[t.length-1]};return{generateShowFieldsMarkup:function(e,i){if(e=e||[],1===Object.keys(n.fieldPaths).length)return"";var r="",o="",s=a.getFieldPath(c.findTreeElementById(i));return t.each(n.fieldPaths,(function(t,n){if(n!==s){var i=!1,a=d(n);a&&(-1!==e.indexOf(n)&&(r+=l.generateSelectedShowFieldItemMarkup(n,a),i=!0),-1===n.indexOf("~")&&(o+=l.generateShowFieldDropdownOptionMarkup(n,a,!i)))}})),l.generateShowFieldsMarkup(r,o)},rewriteShowFields:function(e,t){this.discardFieldPathFromReadableFieldPathCache(e),l.rewriteShowFieldsRecursive(a.tree.firstChild,e,t)},insertShowFields:function(t,n){var i=t.attributes.getNamedItem("show-fields");null!=i&&""!==e.trim(i.value)&&(n.showFields=l.convertStringToShowFields(i.value))},generateShowFieldsXml:function(e){var t=e.showFields;if(null==t||0===t.length)return"";var n=' show-fields="';return(n+=i.escapeEntities(l.convertShowFieldsToString(t)))+'"'},updateShowFields:function(t,n,i){i.showFields=l.getShowFieldsFromForm(e("#show-fields-"+t+"-"+n))},rebuildShowFieldRulesAndFieldPaths:function(){u={},n.init(e("#dd-builder"),!0),f(a.tree.firstChild,""),h(a.tree.firstChild),n.processSmartFieldDependencies(),function(){e(".dd-builder-field-dependency-description").addClass("hide");for(var t=Object.keys(n.smartFieldRules),i=0;i<t.length;i++){var o=n.smartFieldRules[t[i]];if(o){var a=A(o);a&&(a.innerText=p(o),r.removeClass(a,"hide"))}}}()},addShowFieldItem:function(e){var t=e.val();if(""!==t){var n=d(t),r=l.generateSelectedShowFieldItemMarkup(i.escapeEntities(t),i.escapeEntities(n));e.parents("td:first").find(".show-field-items").append(r),e.find("option[value='"+t+"']").hide(),e.val("")}},removeShowFieldItem:function(e){var t=e.parents("td:first").find(".show-field-dropdown select.field"),n=e.attr("data-path");e.parent().remove(),t.find("option[value='"+n+"']").show()},discardFieldPathFromReadableFieldPathCache:function(e){delete u[e]}}}.apply(t,i))||(e.exports=r)},79943:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26742),n(12993)],void 0===(r=function(e,t,n,i){var r=function(e,t,n){if(e)for(var i=0;i<e.length;i++){var r=e[i].showFields;if(r)for(var o=0;o<r.length;o++){var a=r[o];(a&&a===t||0===a.indexOf(t+"/"))&&(r[o]=a.replace(t,n))}}};return{convertShowFieldsToString:function(e){return null==e||0===e.length?"":e.join(", ")},convertStringToShowFields:function(t){return null==t||""===e.trim(t)?null:t.replace(/(\s)*,(\s)*/g,",").split(",")},generateSelectedShowFieldItemMarkup:function(e,t){return i.get("ddBuilder/showFieldItem")({fieldPath:n.escapeEntities(e),fieldReadablePath:n.escapeEntities(t)})},generateShowFieldDropdownOptionMarkup:function(e,t,r){return i.get("ddBuilder/showFieldDropdownOption")({fieldPath:n.escapeEntities(e),fieldReadablePath:n.escapeEntities(t),showOption:r})},generateShowFieldsMarkup:function(e,t){return i.get("ddBuilder/showFields")({showFieldItemsMarkup:e,dropdownOptionsMarkup:t})},getShowFieldItems:function(e){return"dropdown"===e.fieldType?e.dropdownItems:"checkbox"===e.fieldType?e.checkboxItems:"radiobutton"===e.fieldType?e.radiobuttonItems:"multiselector"===e.fieldType?e.multiselectorItems:null},getShowFieldsFromForm:function(t){for(var n=[],i=e(t).find("span"),r=0;r<i.length;r++){var o=i[r];n.push(o.getAttribute("data-path"))}return n},rewriteShowFieldsRecursive:function(e,t,n){null!=e&&(r(e.dropdownItems,t,n),r(e.checkboxItems,t,n),r(e.radiobuttonItems,t,n),r(e.multiselectorItems,t,n),this.rewriteShowFieldsRecursive(e.next,t,n),this.rewriteShowFieldsRecursive(e.firstChild,t,n))}}}.apply(t,i))||(e.exports=r)},4033:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26742),n(12993),n(40551)],void 0===(r=function(e,t,n,i,r){return{sharedFieldType:"TEXT_AREA",properties:["shared-field","identifier","label","help-text","default","required","multiple","minimum-number","maximum-number","restrict-to-groups","rows","cols"],start:function(e){r.start(e),e.fieldType="textarea",e.required=!1,e.defaultValue="",e.helpText="",e.rows="",e.cols=""},test:function(e){return"text"===e.nodeName&&(null==e.attributes.getNamedItem("type")||""===e.attributes.getNamedItem("type").value)&&null!=e.attributes.getNamedItem("multi-line")&&"true"===e.attributes.getNamedItem("multi-line").value},convertXmlElementToTreeElement:function(e,t){t.fieldType="textarea",r.convertXmlElementToTreeElement(e,t),t.defaultValue=null==e.attributes.getNamedItem("default")?"":e.attributes.getNamedItem("default").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value,t.rows=null==e.attributes.getNamedItem("rows")?"":e.attributes.getNamedItem("rows").value,t.cols=null==e.attributes.getNamedItem("cols")?"":e.attributes.getNamedItem("cols").value},getBlank:function(e){return i.get("ddBuilder/textArea")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){r.onContextMenuLoaded(e)},updateUI:function(t){r.updateUI(t);var n=document.getElementById(t.id);n.value=t.defaultValue,""===t.rows?n.removeAttribute("rows"):n.rows=t.rows,""===t.cols?n.removeAttribute("cols"):n.cols=t.cols,e(n).toggleClass("sized",""!==t.cols)},save:function(t){var n=t.id,i=document.getElementById("cols-"+n).value;if(""!==i&&isNaN(i))return alert("Columns needs to be a number"),!1;var o=document.getElementById("rows-"+n).value;return""!==o&&isNaN(o)?(alert("Rows needs to be a number"),!1):!!r.save(t)&&(t.defaultValue=document.getElementById("default-"+n).value,t.defaultValueOverwritten="true"===e("#default-"+n).attr("data-overwritten"),t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten"),t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),t.rows=document.getElementById("rows-"+n).value,t.cols=document.getElementById("cols-"+n).value,!0)},generateXml:function(e){var t='<text multi-line="true"';return t+=r.generateXml(e),t+=""===e.defaultValue?"":' default="'+n.escapeEntities(e.defaultValue)+'"',t+=e.required?' required="true"':"",t+=""===e.helpText?"":' help-text="'+n.escapeEntities(e.helpText)+'"',t+=""===e.rows?"":' rows="'+n.escapeEntities(e.rows)+'"',(t+=""===e.cols?"":' cols="'+n.escapeEntities(e.cols)+'"')+"/>\r\n"}}}.apply(t,i))||(e.exports=r)},47430:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26742),n(12993),n(40551)],void 0===(r=function(e,t,n,i,r){return{sharedFieldType:"TEXT_FIELD",properties:["shared-field","identifier","label","help-text","default","required","multiple","minimum-number","maximum-number","restrict-to-groups","regular-expression","input-data-format","maxlength","size"],start:function(e){r.start(e),e.fieldType="textfield",e.required=!1,e.defaultValue="",e.regularExpression="",e.inputDataFormat="",e.maxlength="",e.size="",e.helpText=""},test:function(e){return!("text"!==e.nodeName||null!=e.attributes.getNamedItem("type")&&""!==e.attributes.getNamedItem("type").value||null!=e.attributes.getNamedItem("multi-line")&&"true"===e.attributes.getNamedItem("multi-line").value||null!=e.attributes.getNamedItem("wysiwyg")&&"true"===e.attributes.getNamedItem("wysiwyg").value)},convertXmlElementToTreeElement:function(e,t){t.fieldType="textfield",r.convertXmlElementToTreeElement(e,t),t.defaultValue=null==e.attributes.getNamedItem("default")?"":e.attributes.getNamedItem("default").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.regularExpression=null==e.attributes.getNamedItem("regular-expression")?"":e.attributes.getNamedItem("regular-expression").value,t.inputDataFormat=null==e.attributes.getNamedItem("input-data-format")?"":e.attributes.getNamedItem("input-data-format").value,t.maxlength=null==e.attributes.getNamedItem("maxlength")?"":e.attributes.getNamedItem("maxlength").value,t.size=null==e.attributes.getNamedItem("size")?"":e.attributes.getNamedItem("size").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value},getBlank:function(e){return i.get("ddBuilder/text")({sddBuilderCounter:e.id})},onContextMenuLoaded:function(e){r.onContextMenuLoaded(e)},updateUI:function(t){r.updateUI(t);var n=document.getElementById(t.id);n.value=t.defaultValue,n.maxLength=""===t.maxlength?"1000":t.maxlength,n.size=""===t.size?"80":t.size,n.placeholder=t.inputDataFormat,e(n).toggleClass("sized",""!==t.size)},save:function(t){var n=t.id,i=document.getElementById("maxlength-"+n).value;if(""!==i&&isNaN(i))return alert("Maximum length needs to be a number"),!1;var o=document.getElementById("size-"+n).value;return""!==o&&isNaN(o)?(alert("Size needs to be a number"),!1):!!r.save(t)&&(t.defaultValue=document.getElementById("default-"+n).value,t.defaultValueOverwritten="true"===e("#default-"+n).attr("data-overwritten"),t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten"),t.regularExpression=document.getElementById("regular-expression-"+n).value,t.inputDataFormat=""!==t.regularExpression?document.getElementById("input-data-format-"+n).value:"",t.maxlength=i,t.size=o,t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),!0)},generateXml:function(e){var t="<text";return t+=r.generateXml(e),t+=""===e.defaultValue?"":' default="'+n.escapeEntities(e.defaultValue)+'"',t+=e.required?' required="true"':"",t+=""===e.regularExpression?"":' regular-expression="'+n.escapeEntities(e.regularExpression)+'"',t+=""!==e.inputDataFormat?' input-data-format="'+n.escapeEntities(e.inputDataFormat)+'"':"",t+=""===e.maxlength?"":' maxlength="'+n.escapeEntities(e.maxlength)+'"',t+=""===e.size?"":' size="'+n.escapeEntities(e.size)+'"',(t+=""===e.helpText?"":' help-text="'+n.escapeEntities(e.helpText)+'"')+"/>\r\n"}}}.apply(t,i))||(e.exports=r)},56495:function(e,t,n){var i,r;i=[n(37549),n(92648),n(86412)],void 0===(r=function(e,t,n){var i={},r=function(e){return e+""},o={insertDroppableAround:function(e){o.isAtRootLevelOfSharedFieldBuilder(e)||(null!=e.previous&&"droppable"===e.previous.fieldType||(o.insertElement({fieldType:"droppable",id:r(n.sddBuilderCounter),parent:e.parent},e.previous,e),n.sddBuilderCounter++),null!=e.next&&"droppable"===e.next.fieldType||(o.insertElement({fieldType:"droppable",id:r(n.sddBuilderCounter),parent:e.parent},e,e.next),n.sddBuilderCounter++))},insertElement:function(e,t,n){null==t||null==n||n.previous===t&&t.next===n&&t.parent===n.parent||alert("An error occurred: structure inconsistent");var i=null!=t?t.parent:null!=n?n.parent:e.parent;e.parent=i,null!=t?(t.next=e,e.previous=t):i&&(i.firstChild=e),null!=n&&(e.next=n,n.previous=e),this.bankInIdToTreeElementInCache(e)},isAtRootLevelOfSharedFieldBuilder:function(e){return e&&"SharedField"===n.builderType&&e.parent.isRoot},convertXmlToTreeElements:function(e,t){if(0!==e.length)for(var i=0;i<e.length;i++){var r=e[i],a=o.findTreeElementById(t),s=!1;u(r)?d(r,a):(s=!1,n.fieldTypes.forEach((function(e){var t=n.fieldTypeMap[e];t.test(r)&&(t.convertXmlElementToTreeElement(r,a),"group"===e&&o.convertXmlToTreeElements(r.childNodes,"sdd-droppable-"+a.id),s=!0)}))),s&&(o.insertDroppableAround(a),a.next&&(t=a.next.id),n.incrementFieldCounter())}},remove:function(e){var t=e.previous,n=e.next,i=e.parent;i.firstChild===e&&(i.firstChild=n),n&&(n.previous=t),t&&(t.next=n),e.previous=null,e.next=null,e.parent=null,a(e),t&&n&&"droppable"===t.fieldType&&"droppable"===n.fieldType&&this.remove(n)},clone:function(t,n){var i=t.parent,r=t.previous,o=t.next;delete t.parent,delete t.previous,delete t.next,delete n.firstChild,l(t.firstChild),e.extend(!0,n,t),t.parent=i,t.previous=r,t.next=o,c(t.firstChild,t),c(n.firstChild,n)},backupTree:function(){n.treeBackup={},o.clone(n.tree,n.treeBackup)},restoreTree:function(){n.tree={},o.clone(n.treeBackup,n.tree)},bankInIdToTreeElementInCache:function(e){e&&e.id&&(i[r(e.id)]=e)},resetIdToTreeElementCache:function(){i={}},findTreeElementById:function(e,t){e=r(e);var o=i[e];if(o){if(r(o.id)===e)return o;a(o)}return(o=s(t||n.tree,e))?(this.bankInIdToTreeElementInCache(o),o):{}},isGroupElement:function(e){return e&&"group"===e.fieldType}},a=function(e){e&&e.id&&delete i[r(e.id)]},s=function(e,t){var n;return t=r(t),r(e.id)===t?e:null!=e.firstChild&&null!=(n=s(e.firstChild,t))||null!=e.next&&null!=(n=s(e.next,t))?n:null},l=function(e){e&&(e.parent=null,e.previous=null,l(e.next),l(e.firstChild))},c=function(e,t,n){e&&(e.parent=t,e.previous=n,c(e.next,t,e),c(e.firstChild,e))},u=function(e){return"#comment"===e.nodeName},d=function(e,t){var n={id:r(t.id),parent:t.parent,fieldType:"droppable"};o.insertElement(n,t,t.next),h(e,t)},h=function(e,t){t.id="comment",t.identifier="comment",t.fieldType="comment",t.value=e.nodeValue};return o}.apply(t,i))||(e.exports=r)},94254:function(e,t,n){var i,r;i=[n(37549),n(92648),n(26742),n(12993),n(40551),n(68720),n(86412)],void 0===(r=function(e,t,n,i,r,o,a){return{sharedFieldType:"",properties:o.properties,test:function(e){return"StructuredDataDefinition"===a.builderType&&"unknown-shared-field"===e.nodeName},getBlank:function(e){var t=o.getSharedFieldContentLink(e);return i.get("ddBuilder/unknownSharedField")({sddBuilderCounter:e.id,fieldPath:t})},convertXmlElementToTreeElement:function(e,t){t.fieldType="unknownsharedfield",r.convertXmlElementToTreeElement(e,t),t.path=null==e.attributes.getNamedItem("path")?"":e.attributes.getNamedItem("path").value,t.defaultValue=null==e.attributes.getNamedItem("default")?"":e.attributes.getNamedItem("default").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value,t.minimumNumber=null==e.attributes.getNamedItem("minimum-number")?"":e.attributes.getNamedItem("minimum-number").value,t.maximumNumber=null==e.attributes.getNamedItem("maximum-number")?"":e.attributes.getNamedItem("maximum-number").value},onContextMenuLoaded:function(e){r.onContextMenuLoaded(e)},save:function(e){return r.save(e)},generateXml:function(e){var t='<shared-field path="'+(e.path?e.path:e.contentLink)+'" identifier="'+n.escapeEntities(e.identifier)+'"';return t+=e.labelOverwritten?' label="'+n.escapeEntities(e.label)+'"':"",t+=e.helpTextOverwritten?' help-text="'+n.escapeEntities(e.helpText)+'"':"",t+=e.defaultValueOverwritten?' default="'+n.escapeEntities(e.defaultValue)+'"':"",t+=e.requiredOverwritten?' required="'+(e.required?"true":"false")+'"':"",t+=e.minimumNumberOverwritten?' minimum-number="'+n.escapeEntities(e.minimumNumber)+'"':"",t+=e.maximumNumberOverwritten?' maximum-number="'+n.escapeEntities(e.maximumNumber)+'"':"",(t+=e.fieldId?' field-id="'+n.escapeEntities(e.fieldId)+'"':"")+" />\r\n"},updateUI:function(e){r.updateUI(e)},buildUnknownSharedFieldPlaceholderXML:function(e){var n="";return t.keys(e).forEach((function(t){var i=e[t];"contentLink"===t&&(t="path"),n+=t+'="'+i+'" '})),"<system-data-structure><unknown-shared-field "+n+" /></system-data-structure>"}}}.apply(t,i))||(e.exports=r)},46418:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93660),n(89152),n(68720),n(61491),n(86412),n(56495),n(69651),n(12993),n(3230),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d){var h={addIndents:function(e,t){for(var n=0;n<t;n++)e+=" ";return e},updateXml:function(){var e=h.generateXml(a.tree,0);a.xmlEditor.setValue(e),o.rebuildShowFieldRulesAndFieldPaths()},generateXml:function(e,t){var n="";if(null==e)return"";if(e.isRoot)return n="<system-data-structure>\r\n",(n+=h.generateXml(e.firstChild,t+2))+"</system-data-structure>";if(null!=e.identifier)if(n=h.addIndents(n,t),r.isSharedFieldAssigned(e))n+=r.generateXml(e);else if("comment"===e.fieldType)n+=A(e);else{var i=a.fieldTypeMap[e.fieldType];i&&(n+=i.generateXml(e,t))}return e.next&&(n+=h.generateXml(e.next,t)),n},refreshUI:function(){var t=e("#sdd-builder-main");l.deactivateWysiwygs(t),s.resetIdToTreeElementCache(),h.insertTreeElementsToUI(a.tree,"sdd-builder-main"),o.rebuildShowFieldRulesAndFieldPaths()},insertTreeElementsToUI:function(e,t){for(var n=document.getElementById(t),i=e.firstChild,r="";null!=i;){var o=a.fieldTypeMap[i.fieldType];o&&(r+=f(o.properties,o.sharedFieldType,i)),"droppable"===i.fieldType?r+='<div id="'+i.id+'" data-type="droppable"><div class="droppable"><hr /></div><div class="sdd-builder-inside" id="sdd-builder-inside-'+i.id+'"></div></div>':o&&(r+='<div class="sdd-builder-inside" id="sdd-builder-inside-'+i.id+'">'+o.getBlank(i)+"</div>"),s.bankInIdToTreeElementInCache(i),i=i.next}for(n.innerHTML=r,i=e.firstChild;null!=i;)o=a.fieldTypeMap[i.fieldType],"droppable"===i.fieldType?g(i):null!=o&&(p(i),o&&(o.updateUI(i),o.onInsert&&o.onInsert(i),"group"===i.fieldType&&g("sdd-droppable-"+i.id))),i=i.next},getFieldContextMenu:function(t){return t?e("#edit-box-"+t.id):e()},getRestrictToFolderPath:function(e){var n=t.isString(e)?e:e.path;return k(n)&&(n+="/"),n}},f=function(e,t,n){var i=!s.isAtRootLevelOfSharedFieldBuilder(n);return c.get("ddBuilder/fieldControls")({sddBuilderCounter:n.id,canDelete:i,isEdit:a.isEdit,isStructuredDataUpgraded:a.isStructuredDataUpgraded})},p=function(t){var i=t.id,o=e("#context-toolbar-"+i),l=h.getFieldContextMenu(t),c=a.fieldTypeMap[t.fieldType],f=function(t){return function(){var i=e("#shared-field-"+t).assetChooser().data("cs.chooser"),o=s.findTreeElementById(t);if(o.fieldType,i.isEmpty())o.sharedField="";else{var l=i.getAssetFromChosen(),c=n.default.relationshipPathToContentLink(l.path),u=a.sharedFieldCache[c];if(null==u)return void r.loadSharedField({contentLink:c},(function(){f(t)}));d.CONTENT.trackAssetEventFromModal("Chose Shared Field in Data Definition Builder");var p=o.fieldId;s.clone(u.treeElement,o),o.fieldId=p}h.updateXml(),h.refreshUI(),w(o)}}(i);l.on("click","button.save",(function(){c&&!c.save(t)||(h.updateXml(),b(t))})),l.on("click","button.cancel",(function(){s.restoreTree(),h.updateXml(),h.refreshUI()})),o.find("button.drag").draggable({helper:function(){return e("#sdd-builder-inside-"+i).clone().css("opacity",.67)},start:function(t,n){e(this).draggable("instance").offset.click={left:Math.floor(n.helper.width()/2),top:Math.floor(n.helper.height()/2)}},cursor:"move",cancel:!1}),o.find("button.edit").click((function(){s.backupTree(),w(t)})),o.find("button.delete").click((function(){T(t)})),l.on("click","button.advanced",(function(){B(t)})),l.on("click",".property-overwrite-toggle",(function(){var n=e(this).parents("tr").first(),i=n.find("td:nth-child(3) input"),o="true"===i.attr("data-overwritten"),s=i.attr("data-property");if(r.disableProperty(n,o),o){var l=a.sharedFieldCache[r.getSharedFieldContentLink(t)].treeElement[s];"required"===s?e("#required-"+(l?"yes":"no")+"-"+t.id).prop("checked",!0):i.val(l)}})),u.enable(l),l.on("clear.cs.chooser submit.cs.chooser.panel",".shared-field-chooser",f)},A=function(e){var t="\x3c!--";return(t+=e.value)+"--\x3e\r\n"},g=function(t){e("#"+t.id+" > .droppable").droppable({hoverClass:"hovering",drop:function(t,n){var i=n.draggable,r=e(this);S();var o=i.attr("data-type"),a=i.attr("data-sub-type"),l=r.parent().attr("id"),c=s.findTreeElementById(l);"existing"===o?m(i,c):v(c,o,a),h.updateXml()}})},m=function(e,t){var n=e.attr("data-id"),i=s.findTreeElementById(n);if(t.next!==i&&t.previous!==i&&t.parent!==i){var r=!0;if(a.isEdit&&!i.createdInThisSession&&(y(i)||y(t))&&i.parent!==t.parent&&(r=confirm('Moving a field to or from a "Multiple" group can result in content loss in pages using this field. Are you sure you want to continue?')),r){var l=a.getFieldPath(i);s.remove(i),s.insertElement(i,t,t.next),s.insertDroppableAround(i);var c=a.getFieldPath(i);o.rewriteShowFields(l,c),d.CONTENT.trackAssetEventFromModal("Reordered Field in Data Definition Builder",{fieldType:i.fieldType})}h.refreshUI()}},v=function(e,t,n){s.backupTree(),e.createdInThisSession=!0,a.fieldTypeMap[t].start(e,n),s.insertDroppableAround(e),h.refreshUI(),w(e)},y=function(e){return!!e.parent&&(!!e.parent.multiple||y(e.parent))},b=function(e){_(e),S()},w=function(e){var t=h.getFieldContextMenu(e),n=document.getElementById("context-toolbar-"+e.id);S(),E(e.id),I(e),t.show(),x(n),i.addClass(n,"open")},x=function(e){if(e)for(var t=e.querySelectorAll("button"),n=0;n<t.length;n++)i.disableClicking(t[n])},C=function(e){if(e)for(var t=e.querySelectorAll("button"),n=0;n<t.length;n++)i.enableClicking(t[n])},_=function(e){var t=a.fieldTypeMap[e.fieldType];t&&t.updateUI(e)},k=function(e){return/(.*:\/\/)([^\/]+)\/$/.test(e)},S=function(){var t=e(".context-toolbar");e(".context-menu").hide();for(var n=0;n<t.length;n++)C(t[n]),i.removeClass(t[n],"open"),t[n].style.display=""},E=function(t){e(".context-toolbar").css("display","none"),e("#context-toolbar-"+t).css("display","")},T=function(e){confirm('Are you sure you want to delete "'+(e.label||e.identifier)+'"?')&&(s.remove(e),h.updateXml(),h.refreshUI())},B=function(e){var t=h.getFieldContextMenu(e);t.find(".advanced-link").addClass("hide"),t.find(".advanced").removeClass("hide")},I=function(e){if(!e)return"";var t=a.fieldTypeMap[e.fieldType],n=h.getFieldContextMenu(e);if(!t||!n.length)return"";n.html(c.get("ddBuilder/contextMenu")({sddBuilderCounter:e.id,fieldProperties:t.properties,currentSiteId:Cascade.Variables.get("currentSiteId"),sharedFieldChooserType:t.sharedFieldType})),t.onContextMenuLoaded&&t.onContextMenuLoaded(e)};return h}.apply(t,i))||(e.exports=r)},19882:function(e,t,n){var i,r;i=[n(37549),n(92648),n(69651),n(93660),n(26742),n(12993),n(40551),n(45298),n(68720),n(86412),n(10861),n(46418)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d){return{sharedFieldType:"WYSIWYG",properties:["shared-field","identifier","label","help-text","default","required","multiple","minimum-number","maximum-number","restrict-to-groups","configuration","wysiwyg-options","restrict-to-folder"],start:function(e){a.start(e),e.fieldType="wysiwyg",e.required=!1,e.defaultValue="",e.helpText="",e.fontFormatting=!0,e.fontAssignment=!0,e.textFormatting=!0,e.insertImage=!0,e.insertTable=!0,e.htmlView=!0,e.editorConfiguration="",e.restrictToFolder=""},test:function(e){return"text"===e.nodeName&&(null==e.attributes.getNamedItem("type")||""===e.attributes.getNamedItem("type").value)&&null!=e.attributes.getNamedItem("wysiwyg")&&"true"===e.attributes.getNamedItem("wysiwyg").value},convertXmlElementToTreeElement:function(e,t){t.fieldType="wysiwyg",a.convertXmlElementToTreeElement(e,t),t.defaultValue=null==e.attributes.getNamedItem("default")?"":e.attributes.getNamedItem("default").value,t.required=null!=e.attributes.getNamedItem("required")&&"true"===e.attributes.getNamedItem("required").value,t.helpText=null==e.attributes.getNamedItem("help-text")?"":e.attributes.getNamedItem("help-text").value,t.restrictToFolder=null==e.attributes.getNamedItem("restrict-to-folder")?"":e.attributes.getNamedItem("restrict-to-folder").value,e.attributes.getNamedItem("configuration")?t.editorConfiguration=e.attributes.getNamedItem("configuration").value:(t.fontFormatting=null==e.attributes.getNamedItem("wysiwyg-toolbar-remove")||-1===e.attributes.getNamedItem("wysiwyg-toolbar-remove").value.indexOf("font formatting"),t.fontAssignment=null==e.attributes.getNamedItem("wysiwyg-toolbar-remove")||-1===e.attributes.getNamedItem("wysiwyg-toolbar-remove").value.indexOf("font assignment"),t.textFormatting=null==e.attributes.getNamedItem("wysiwyg-toolbar-remove")||-1===e.attributes.getNamedItem("wysiwyg-toolbar-remove").value.indexOf("text formatting"),t.insertImage=null==e.attributes.getNamedItem("wysiwyg-toolbar-remove")||-1===e.attributes.getNamedItem("wysiwyg-toolbar-remove").value.indexOf("insert image"),t.insertTable=null==e.attributes.getNamedItem("wysiwyg-toolbar-remove")||-1===e.attributes.getNamedItem("wysiwyg-toolbar-remove").value.indexOf("insert table"),t.htmlView=null==e.attributes.getNamedItem("wysiwyg-toolbar-remove")||-1===e.attributes.getNamedItem("wysiwyg-toolbar-remove").value.indexOf("html view"))},getBlank:function(e){return o.get("ddBuilder/wysiwyg")({sddBuilderCounter:e.id})},onInsert:function(t){var n=function(){var n=e(this).assetChooser().data("cs.chooser");e("#wysiwyg-options-"+t.id).toggleClass("hide",!n.isEmpty())};e("#editor-configuration-"+t.id).parent().on("clear.cs.chooser submit.cs.chooser.panel",".asset-chooser",n).find(".asset-chooser").each(n)},onContextMenuLoaded:function(n){var r=n.id,o=e("#restrict-to-folder-"+r),h=function(){e("#wysiwyg-options-"+r).hide()};if(n.restrictToFolder&&o.length)if(t.isString(n.restrictToFolder)){var f=d.getRestrictToFolderPath(n.restrictToFolder);e.getJSON(i.default.absolutePath("/ajax/getAssetInfo.act"),{path:f,type:"folder",siteId:Cascade.Variables.get("currentSiteId"),restrictToFolderPath:n.restrictToFolder},(function(e){e.error||(o.assetChooser().data("cs.chooser").setChosen(e.dom),u.CONTENT.trackAssetEventFromModal("Chose Restrict to Folder in Data Definition",{fieldType:n.fieldType}))}))}else o.assetChooser().data("cs.chooser").setChosen(n.restrictToFolder);if(n.editorConfiguration)if(t.isString(n.editorConfiguration)){var p=Cascade.Variables.get("currentSiteId");if(n.sharedField){var A=l.getSharedFieldContentLink(n),g=c.sharedFieldCache[A];g.dom.siteId&&(p=g.dom.siteId)}e.getJSON(i.default.absolutePath("/ajax/getAssetInfo.act"),{path:n.editorConfiguration,type:"editorconfiguration",siteId:p},(function(t){if(!t.error){var n=e("#editor-configuration-"+r);n.length&&n.assetChooser().data("cs.chooser").setChosen(t.dom)}h()}))}else{var m=e("#editor-configuration-"+r);m.length&&m.assetChooser().data("cs.chooser").setChosen(n.editorConfiguration),h()}else s.updateCheckboxField("font-formatting",n.fontFormatting,r),s.updateCheckboxField("font-assignment",n.fontAssignment,r),s.updateCheckboxField("text-formatting",n.textFormatting,r),s.updateCheckboxField("insert-image",n.insertImage,r),s.updateCheckboxField("insert-table",n.insertTable,r),s.updateCheckboxField("html-view",n.htmlView,r);a.onContextMenuLoaded(n)},updateUI:function(r){var o=r.id;a.updateUI(r);var s=e("#wysiwyg-"+o),u=s.parents(".form-group").first(),d=function(){n.deactivateWysiwygs(u),n.activateWysiwygs(u)},h=function(e){s.attr("data-configuration",JSON.stringify(e)),d()};if(s.removeAttr("data-configuration").removeData("configuration").val(r.defaultValue),r.editorConfiguration)if(t.isString(r.editorConfiguration)){var f=Cascade.Variables.get("currentSiteId");if(r.sharedField){var p=l.getSharedFieldContentLink(r),A=c.sharedFieldCache[p].dom.siteId;A&&(f=A)}e.getJSON(i.default.absolutePath("/ajax/getAssetInfo.act"),{path:r.editorConfiguration,type:"editorconfiguration",siteId:f},(function(e){e.error?h(c.defaultSiteConfig):h(e.dom.configuration)}))}else h(r.editorConfiguration.configuration);else r.fontFormatting&&r.fontAssignment&&r.textFormatting&&r.insertImage&&r.insertTable&&r.htmlView?h(c.defaultSiteConfig):(s.attr("data-styles",'["'+c.defaultSiteConfig.customStyles.split(",").join('","')+'"]'),s.attr("data-allow-style",c.defaultSiteConfig.allowStyle),s.attr("data-content-css",i.default.absolutePath("/loadstyles.act",{id:c.defaultSiteConfigCSSFile})),s.attr("data-disabled-options",JSON.stringify({font:!r.fontAssignment,textformat:!r.textFormatting,format:!r.fontFormatting,image:!r.insertImage,table:!r.insertTable,code:!r.htmlView}))),d()},save:function(t){var n=t.id,i=e("#editor-configuration-"+n).assetChooser().data("cs.chooser"),r=e("#restrict-to-folder-"+n).assetChooser().data("cs.chooser");return!!a.save(t)&&(t.defaultValue=document.getElementById("default-"+n).value,t.defaultValueOverwritten="true"===e("#default-"+n).attr("data-overwritten"),t.required=document.getElementById("required-yes-"+n).checked,t.requiredOverwritten="true"===e("#required-yes-"+n).attr("data-overwritten"),t.fontFormatting=document.getElementById("font-formatting-"+n).checked,t.fontAssignment=document.getElementById("font-assignment-"+n).checked,t.textFormatting=document.getElementById("text-formatting-"+n).checked,t.insertImage=document.getElementById("insert-image-"+n).checked,t.insertTable=document.getElementById("insert-table-"+n).checked,t.htmlView=document.getElementById("html-view-"+n).checked,t.helpText=document.getElementById("help-text-"+n).value,t.helpTextOverwritten="true"===e("#help-text-"+n).attr("data-overwritten"),t.editorConfiguration=!i.isEmpty()&&i.getAssetFromChosen(),t.restrictToFolder=!r.isEmpty()&&r.getAssetFromChosen(),!0)},generateXml:function(e){var n='<text wysiwyg="true"';if(n+=a.generateXml(e),n+=""===e.defaultValue?"":' default="'+r.escapeEntities(e.defaultValue)+'"',n+=e.required?' required="true"':"",n+=""===e.helpText?"":' help-text="'+r.escapeEntities(e.helpText)+'"',e.editorConfiguration?n+=' configuration="'+(t.isString(e.editorConfiguration)?e.editorConfiguration:e.editorConfiguration.path)+'"':e.fontFormatting&&e.fontAssignment&&e.textFormatting&&e.insertImage&&e.insertTable&&e.htmlView||(n+=' wysiwyg-toolbar-remove="',n+=e.fontFormatting?"":"font formatting,",n+=e.fontAssignment?"":"font assignment,",n+=e.textFormatting?"":"text formatting,",n+=e.insertImage?"":"insert image,",n+=e.insertTable?"":"insert table,",n+=e.htmlView?"":"html view,",n+='"'),e.restrictToFolder){var o=t.isString(e.restrictToFolder)?e.restrictToFolder:e.restrictToFolder.path;n+=' restrict-to-folder="'+i.default.relationshipPathToContentLink(o)+'"'}return n+"/>\r\n"}}}.apply(t,i))||(e.exports=r)},40618:function(e,t,n){var i,r;i=[n(37549),n(92648),n(86412)],void 0===(r=function(e,t,n){var i={getDataDefinitionXmlDocument:function(t){var i;-1===t.indexOf("system-data-structure")&&"SharedField"===n.builderType&&(t="<system-data-structure>"+t+"</system-data-structure>");try{i=e.parseXML(t)}catch(e){return alert(e.message),null}return 1!==i.childNodes.length?(alert("Parsing error - document has more than one root element"),null):"parsererror"===i.childNodes[0].nodeName?(alert("Could not parse the XML - please make sure it is well-formed"),null):i},validateDataDefinitionXml:function(){var e=i.getDataDefinitionXmlDocument(n.xmlEditor.getValue());return null!=e&&r(e.childNodes[0].childNodes)}},r=function(e){for(var t=0,i=[],a=0;a<e.length;a++){var s=e[a];if("#text"!==s.nodeName&&"#comment"!==s.nodeName){var l=!1;if(n.fieldTypes.forEach((function(e){n.fieldTypeMap[e].test(s)&&(l=!0)})),!l)return alert("Tag '"+s.nodeName+"' is not a valid element."),!1;if("shared-field"===s.nodeName){if("SharedField"===n.builderType)return alert("Tag 'shared-field' is not allowed in Shared Fields."),!1;if(null==s.attributes.getNamedItem("path")||""===s.attributes.getNamedItem("path").value)return alert("Tag 'shared-field' needs a 'path' attribute."),!1}if(null==s.attributes.getNamedItem("identifier")||""===s.attributes.getNamedItem("identifier").value)return alert("Tag '"+s.nodeName+"' needs an 'identifier' attribute."),!1;for(var c=s.attributes.getNamedItem("identifier").value,u=0;u<i.length;u++)if(i[u]===c)return alert("Identifier '"+c+"' is used more than once."),!1;if(i[t]=c,n.fieldTypeMap.group.test(s)&&!r(s.childNodes))return!1;if("asset"===s.nodeName){if(null==s.attributes.getNamedItem("type")||""===s.attributes.getNamedItem("type").value)return alert("Tag 'asset' needs a 'type' attribute."),!1;if("page"!==s.attributes.getNamedItem("type").value&&"file"!==s.attributes.getNamedItem("type").value&&"symlink"!==s.attributes.getNamedItem("type").value&&"block"!==s.attributes.getNamedItem("type").value&&"page,file,symlink"!==s.attributes.getNamedItem("type").value)return alert("In 'asset' tag, 'type' attribute needs to be either one of these: 'page', 'file', 'symlink', 'block' or 'page,file,symlink'"),!1}else{if(n.fieldTypeMap.checkbox.test(s)&&!o(s,"checkbox-item"))return!1;if(n.fieldTypeMap.dropdown.test(s)&&!o(s,"dropdown-item"))return!1;if(n.fieldTypeMap.radiobutton.test(s)&&!o(s,"radio-item"))return!1;if(n.fieldTypeMap.multiselector.test(s)&&!o(s,"selector-item"))return!1;if(n.fieldTypeMap.datetime.test(s)){var d=s.attributes.getNamedItem("default");if(null!=d&&""!==d&&isNaN(parseInt(d.value)))return alert("The default value for datetime type must be a number."),!1}}t++}}return 0!==t||(alert("A group must have at least one element."),!1)},o=function(e,t){for(var n=e.childNodes,i=0;i<n.length;i++){var r=n[i];if(r.nodeName!==t&&"#text"!==r.nodeName&&"#comment"!==r.nodeName)return alert("Tag '"+r.nodeName+"' is invalid. It needs to be '"+t+"'."),!1;if(r.nodeName===t){if(null==r.attributes.getNamedItem("value"))return alert("Tag '"+r.nodeName+"' needs to have a 'value' attribute."),!1;if(null!=r.attributes.getNamedItem("show-fields")&&-1!==r.attributes.getNamedItem("show-fields").value.indexOf("~"))return alert("Character '~' is illegal in 'show-fields' attribute."),!1}}return!0};return i}.apply(t,i))||(e.exports=r)},10257:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648)],void 0===(r=function(e,t,n){var i=e("#header"),r=e("#page-content"),o=e("#navbar-primary");if(i.length&&r.length&&o.length){var a=e(document),s=e(window),l=!1,c=parseInt(r.css("padding-top").replace(/px/,"")),u=0,d=0,h=0,f=function(){var e,t,n,f,p=s.scrollTop();p!==h&&(t=a.height()-s.height(),e=p>h||p>=t,i.hasClass("affix")&&p>20&&e!==l&&(i.toggleClass("compressed",e),l=e),h=p),(n=i.hasClass("compressed")?-1*o.outerHeight():0)!==u&&(i.css("top",n),u=n),(f=i.hasClass("affix")?i.outerHeight()+c:c)!==d&&(r.css("padding-top",f),d=f)};i.affix({offset:{top:1}}),i.on("affixed.bs.affix affixed-top.bs.affix",f),s.on({"resize orientationchange":n.debounce(f,200),scroll:n.debounce(f,15)}),f()}}.apply(t,i))||(e.exports=r)},63673:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(12993),n(53376),n(2546),n(90660)],void 0===(r=function(e,t,n,i,r){var o,a=i.get("dynamicMetadataReadOnlyFieldItem");return{init:function(s,l){var c=[],u=[],d=function(i,r,c,d){r=r||"",d=!!t.isBoolean(d)&&d;var h,p=f(i),A=s.find("input#dynamicInfo-"+i+"-metadataType"),g="",m=(g=A.length?A.val().toLowerCase():s.find('div[data-field-id="'+i+'"]').data("field-type").toLowerCase()).match(/radio|checkbox|multiselect/i);if(u[i]?u[i]++:u[i]=1,h=u[i],g.match(/radio|dropdown/i)&&p.find("input[type=checkbox]:checked").length>0&&(d=!1),l)p.append(a({checked:d,fieldId:i,value:r,label:c}));else{var v=e(o({I18n:n.I18n,fieldId:i,idx:h,value:r,label:c,required:m}));v.find("input[type=checkbox]").attr("checked",d),p.append(v)}p.find(".deleteItem").toggle(1!==h)},h=function(e){f(e).find("input.item-value").last().focus()},f=function(e){return s.find("#textFields"+e)},p=function(n){var i=s.find("input#dynamicInfo-"+n+"-metadataType").val().toLowerCase(),r="";g(n),n&&i.match(/checkbox|radio|dropdown|multiselect/i)&&(r="<"+i+">\n",f(n).find(".dm-field-item").each((function(){var n=e(this),i=n.find(".item-value"),o=n.find(".item-label"),a=t.escape(t.trim(i.val())),s=t.escape(t.trim(o.val())),l=n.find(".checkbox").find("input:checkbox").is(":checked");r+="\t<item"+(!0===l?' default="true"':"")+(s?' label="'+s+'"':"")+">"+a+"</item>\n"})),r+="</"+i+">",c["dynamicInfo-"+n+"-configuration"].setValue(r))},A=function(i){var r,o=c["dynamicInfo-"+i+"-configuration"].getValue();if(g(i),""===o)d(i,"","");else try{r=e(e.parseXML(o)),f(i).html(""),r.find("item").each((function(){var e="true"===this.getAttribute("default")||!1;d(i,t.escape(this.textContent),t.escape(this.getAttribute("label")),e)}))}catch(e){return g(i,n.I18n.get("error.metadataset.dynamicfield.invalid.configuration.xml")),!1}},g=function(e,t){t=t||"",s.find("#dm-wrapper-"+e+"-errormsg").text(t)};return l||(o=i.getFromjQueryObject(e("#dynamicFieldItemTemplate"),"dynamicFieldItemTemplate"),s.on("keyup search cut paste input change",".dynamicinfo-label",t.debounce((function(){var i,r=e(this),o=r.closest(".form-group-collapsible-body").prev(".form-group-collapsible-header").find(".title"),a=(i=r.val(),t.chain(i).trim().escape().value());t.isEmpty(a)&&(a=n.I18n.get("label.field.empty")),o.find("span").text(a)}),250)),s.on("change",".field-values.DROPDOWN input:checkbox, .field-values.RADIO input:checkbox",(function(){var t=e(this),n=this.checked;t.closest("ul").find("input:checkbox").attr("checked",!1),this.checked=n})),s.on("click",".addItem",(function(){var e=this.getAttribute("data-textFieldsId");d(e),h(e)})),s.on("click",".deleteItem",(function(){var t=this.getAttribute("data-textFieldsId"),n=e(this),i=f(t);2===i.find(".form-group").length&&i.find(".deleteItem").hide(),n.closest(".dm-field-item").remove(),h(t)})),s.on({"show.bs.tab":function(){var e=this.getAttribute("data-idx");"basic"===this.getAttribute("data-type")?A(e):p(e)},"shown.bs.tab":function(){var e=this.getAttribute("data-idx");"advanced"===this.getAttribute("data-type")&&c["dynamicInfo-"+e+"-configuration"].$elem.trigger("resize.codeeditor.ace")}},".tab-configuration"),s.find(".field-values").sortable({cursor:"ns-resize",items:".dm-field-item",tolerance:"pointer",axis:"y",start:function(e,t){var n=t.item.closest(".field-values");!n.data("ui-refreshed")&&(n.sortable("refreshPositions"),n.data("ui-refreshed",!0)),t.placeholder.height(t.item.height())}}),r.addPreSubmitHandler(r.getStandardForm(s),(function(){var i=!0,o="",a="";return r.getStandardForm(s).find("input.dynamicInfo-metadataType").each((function(){var r=this.id.match(/dynamicInfo-([0-9]+)-metadataType/)[1],s=e(this).closest(".dynamic-metadata-field-group").find(".nav li.active a");if(g(r),1===s.length)if(-1!==s.attr("id").indexOf("basic"))p(r);else try{c["dynamicInfo-"+r+"-configuration"].syncValues();var l=e(e.parseXML(c["dynamicInfo-"+r+"-configuration"].getValue())).find("item");if(!l.length)throw n.I18n.get("error.dynamic.metadata.definition.configuration.novalues");l.each((function(){if(t.isEmpty(t.trim(this.textContent)))throw n.I18n.get("error.dynamic.metadata.definition.configuration.empty")}))}catch(e){""===a&&(a=s.attr("id")),g(r,o=e),i=!1}})),!1===i&&(window.location.hash=a,alert(o)),i}))),s.find(".code-editor").each((function(){var t=e(this),n=t.attr("id"),i=n.match(/dynamicInfo-([0-9]+)-configuration/)[1];t.cascadeCodeEditor({onReady:function(){c[n]=this,A(i)}})})),{syncDefinitions:function(){s.find(".nav.btn-group > li.active > a[data-type='basic']").each((function(){p(e(this).attr("data-idx"))}))}}}}}.apply(t,i))||(e.exports=r)},59251:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(70124),n(71651)],void 0===(r=function(e,t,n,i,r){var o,a=e("#ajax-modal"),s=!1,l=!1,c=function(e){l?confirm(n.I18n.get("message.lose.changes.warning"))?(a.find("form").trigger("confirm.warning.dialog"),u()):(e.preventDefault(),e.stopImmediatePropagation(),a.find("form").trigger("cancel.warning.dialog")):u()},u=function(){d(),function(){l=s=!1,e(document).off("cs.form.change",this.formHasChanged)}()},d=function(){e(window).unbind("beforeunload")};e(window).on("beforeunload",(function(){if(s&&l)return n.I18n.get("message.lose.changes.warning")}));var h={enableWarnings:function(){s=!0},disableWarnings:function(){s=!1,d()},disableAndStopListening:function(){u()},shouldWarn:function(){return s},hasFormChanged:function(){return l},getOriginalForm:function(){return o},restoreOriginalForm:function(e){o=e,l=!1},formHasChanged:function(){e(document).trigger("cs.draft.save"),s=o!==a.find("form").serialize(),l=!0},init:function(){var t=a.find("form");o=t.serialize(),e(document).on("cs.form.change",this.formHasChanged),i.init(t),a.find(".modal").on("hide.bs.modal",(function(e){t.off("change.formchange keydown.formchange paste.formchange"),s&&c(e)})),a.find("#primary-submit, .primary").on("click",(function(){s=l=!1,d()}))},initForDraftEnabled:function(){a.find("#close-modal").on("click",(function(t){t.preventDefault(),"editform"===a.find("form").attr("id")?(l&&e(document).trigger("cs.draft.save"),u()):c(t)})),a.find("#save-draft-link, .startSaveButton, .startChecksButton").on("click",(function(){s=l=!1,d()}))},initForNonDraftEnabled:function(){h.init()}};return h}.apply(t,i))||(e.exports=r)},52797:function(e,t,n){var i;void 0===(i=function(){var e=function(e,t,n){var i;this.name=e,this.desc=t,this.modePath="ace/mode/"+e,i=/\^/.test(n)?n.replace(/\|(\^)?/g,(function(e,t){return"$|"+(t?"^":"^.*\\.")}))+"$":"^.*\\.("+n+")$",this.extRe=new RegExp(i,"gi")};return e.prototype.supportsFile=function(e){return e.match(this.extRe)},e}.call(t,n,t,e))||(e.exports=i)},2608:function(e,t,n){var i,r,o=n(37549);i=[n(52797)],void 0===(r=function(e){var t=function(e){this.defaultModeKey=e||"text",this.modes={}};return t.prototype.getModeFromPath=function(e){var t=this.getModes(),n=e.split(/[\/\\]/).pop(),i=null;return o.each(t,(function(){this.supportsFile(n)&&(i=this)})),i||this.getDefaultMode()},t.prototype.getDefaultMode=function(){return this.modes[this.defaultModeKey]||void 0},t.prototype.getMode=function(e){return this.modes[e]||this.getDefaultMode()},t.prototype.getModes=function(){return this.modes},t.prototype.register=function(t,n,i){this.modes[t]=new e(t,n,i)},t.prototype.registerCustom=function(e){this.modes[e.name]=e},t}.apply(t,i))||(e.exports=r)},93245:function(e,t,n){var i,r;i=[n(37549),n(92648),n(89152)],void 0===(r=function(e,t,n){var i=function(t,n,i){this.name=t||String(Math.floor(99999*Math.random())),this.toolbar=i||{},this.settings=e.extend(!0,{},{disabled:!1,hidden:!1,ordinal:null,type:"button",exec:function(){},onReady:function(){}},n),this.$elem=e(this.settings.html),this.bindEvents()};return i.prototype.bindEvents=function(){var t=this;switch(this.settings.exec=e.proxy(this.settings.exec,this),this.settings.onReady=e.proxy(this.settings.onReady,this),this.settings.type){case"button":t.$elem.on("click",(function(i){var r=e(this);if(n.hasClickingDisabled(this))return r.blur(),!1;var o=t.settings.exec();return void 0!==o&&"boolean"==typeof o?(r.toggleClass("active",o),!1===o&&r.blur(),o):(r.toggleClass("active"),!1)}));break;case"dropdown":t.$elem.find(".dropdown-menu").click((function(e){e.stopPropagation()}))}},i.prototype.getEditor=function(){return this.getToolbar().editor},i.prototype.getToolbar=function(){return this.toolbar},i}.apply(t,i))||(e.exports=r)},42955:function(e,t,n){var i,r;i=[n,n(1240),n(67275)],void 0===(r=function(e,t,i){var r=n(37549),o=n(92648),a=function(e,n){this.elem=e,this.$elem=r(e),this.ui={},this.uID=this.elem.id||o.uniqueId("editor-"),this.Mediator=new t,this.metadata=this.$elem.data("editor-options"),"string"==typeof this.metadata&&(this.metadata={}),this.options=r.extend(!0,{},this.defaults,n,this.metadata)};return a.prototype.defaults={},a.prototype.eventFire=function(e,t){this.Mediator.publish(this.eventSanitizeTopic(e),t)},a.prototype.eventListen=function(e,t){this.Mediator.subscribe(this.eventSanitizeTopic(e),t,{},this)},a.prototype.eventRemove=function(e){this.Mediator.remove(this.eventSanitizeTopic(e))},a.prototype.eventSanitizeTopic=function(e){return e.replace(/\./g,":")},a.prototype.getOption=function(e){return-1!==e.indexOf("options.")&&(e=e.replace("options.","")),o.getPath(this.options,e,null)},a.prototype.initializeToolbar=function(e){e=e||{},this.Toolbar=new i(this,e)},a.prototype.updateOption=function(e,t){-1===e.indexOf("options.")&&(e="options."+e),this.eventFire(e,t)},a.prototype.updateOptions=function(e){var t=this;o.isObject(e)&&r.each(e,(function(e,n){t.updateOption(e,n)}))},a}.apply(t,i))||(e.exports=r)},67275:function(e,t,n){var i,r;i=[n(37549),n(92648),n(89152),n(93245),n(21196)],void 0===(r=function(e,t,n,i,r){var o=function(n,i){var o=this;if(this.$elem=e(r),this.editor=n,this.controls=e.extend(!0,{},i||{}),!1===t.isEmpty(this.controls)){var a=0;e.each(this.controls,(function(e,t){t.ordinal=t.ordinal||o.controls.length,o.addControl(t.ordinal<a?"append":"prepend",e,t),a=t.ordinal}))}};return o.prototype.addControl=function(e,r,o){e=e.match(/^(?:append|prepend)$/)?e:"append";var a=o instanceof i?o:new i(r,o,this);t.isEmpty(a.toolbar)&&(a.toolbar=this),this.$elem[e](a.$elem),this.editor.eventListen("editor/control/disable/"+r,(function(e){a.settings.disabled=!0,n.disableClicking(a.$elem[0])})),this.editor.eventListen("editor/control/enable/"+r,(function(e){a.settings.disabled=!1,n.enableClicking(a.$elem[0])})),this.controls[r]=a,a.settings.onReady()},o.prototype.appendControl=function(e,t){this.addControl("append",e,t)},o.prototype.prependControl=function(e,t){this.addControl("prepend",e,t)},o.prototype.disableControls=function(e){this.toggleControls("disable",e)},o.prototype.enableControls=function(e){this.toggleControls("enable",e)},o.prototype.toggleControls=function(n,i){if(i=i||[],t.isString(i)&&(i=[i]),t.isEmpty(i))this.editor.eventFire("editor/control/"+n);else{var r=this;e.each(this.controls,(function(e,t){if(-1!==i.indexOf(e))return!0;r.editor.eventFire("editor/control/"+n+"/"+e)}))}},o.prototype.resetControlStates=function(){this.$elem.find(".active").removeClass("active")},o.prototype.toggleVisibility=function(e){this.$elem.toggleClass("hide",!(!t.isBoolean(e)||e))},o}.apply(t,i))||(e.exports=r)},41057:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541)],void 0===(r=function(e,t,i){var r,o,a,s="tiny-name",l=function(e){a?e():Promise.resolve().then((function(){var t=[n(69651)];(function(t){a=t,e()}).apply(null,t)})).catch(n.oe)},c=function(e,t,n){"edit"==t?e.find("[tiny-name=cut], [tiny-name=copy], [tiny-name=paste], [tiny-name=pastetext], [tiny-name=selectall]").toggleClass("hide",!n):"format"==t?e.find("[tiny-name=strikethrough], [tiny-name=superscript], [tiny-name=subscript], [tiny-name=removeformat]").toggleClass("hide",!n):"insert"==t?e.find("[tiny-name=charmap], [tiny-name=hr], [tiny-name=insertdatetime]").toggleClass("hide",!n):"view"==t?e.find("[tiny-name=visualaid], [tiny-name=visualblocks]").toggleClass("hide",!n):"tools"==t&&e.find("[tiny-name=spellchecker]").toggleClass("hide",!n)},u=function(e,n){n||(e.toolbar1=a.removeStyleAttributeButtons(e.toolbar1),e.toolbar2=a.removeStyleAttributeButtons(e.toolbar2),e.plugins=t.difference(e.plugins,["advlist"]))};return{toggleMenuItemsButtons:c,activate:function(n,d,h,f){l((function(){if(o=function(o){r=o.editor;var l,u,p,A=e(r.getElement());n.has(A).length&&(l=a.getEditorConfiguration(A),t.has(l,"buttons")||(p=a.getEditorConfigDefaults(!0),l={menuItems:t.keys(p.menu),buttons:t.concat(p.toolbar1,p.toolbar2),customStyles:"",customStyleFormats:"",schema:"all",allowStyle:!0}),t.has(l,"schema")||(l.schema="all"),u=r.addButton,d&&(r.addButton=function(e,n){var i;return t.isFunction(n)&&(n=n()),-1===l.buttons.indexOf(e)&&(n.classes=n.classes?n.classes+" removed":"removed"),i=n.onPostRender||null,n.onPostRender=function(n){if(this.$el.attr(s,e),t.isFunction(i))return i.call(this,n)},u.call(this,e,n)}),r.on("Init",(function(){var o,a,p,A,g,m=e(r.getContainer());if(m.addClass("mce-toolbar-"+(d?"edit":"view")+(h?"-scaled":"")),m.find("[role=toolbar].mce-first").after('<span class="mce-toolbar-divider">'+i.I18n.get("label.editorconfiguration.buttons.only.available.in.menus")+"</span>"),d)m.find(".mce-menubar .mce-menubtn").each((function(){var t=e(this),n=t.text().toLowerCase().trim();t.attr(s,n),-1===l.menuItems.indexOf(n)&&(t.addClass("mce-removed"),c(m,n,!1))}));else{m.find(".mce-btn").on("click",(function(){return!1})),n.find(".allow-style").text(l.allowStyle?i.I18n.get("generic.word.yes"):i.I18n.get("generic.word.no")),-1===l.buttons.indexOf("styleselect")&&n.find(".hidden-formats-group").html(i.I18n.get("label.editorconfiguration.formatting.hidden.formats")),l.customStyles?(n.find(".custom-styles").text(l.customStyles),e(".customStyleFormatsFormGroup").toggleClass("hide",!0)):(n.find(".custom-style-formats").text(t.isEmpty(l.customStyleFormats)?i.I18n.get("common.words.none"):(A=l.customStyleFormats,g="",e.each(t.orderBy(A,["title"],["asc"]),(function(e,t){g+=t.title,e<A.length-1&&(g+=", ")})),g)),e(".customStylesFormGroup").toggleClass("hide",!0)),n.find(".visible-default-formats").text((o=l.visibleDefaultFormats,a="",p=[],void 0===o?a=i.I18n.get("label.editorconfiguration.default.formats.all"):t.isEmpty(o)?a=i.I18n.get("label.editorconfiguration.default.formats.none"):(t.each(t.unionBy(o.headings,o.inline,o.blocks,"title"),(function(e){p.push(e.title)})),a=t.join(t.orderBy(p),", ")),a));var v="";"all"==l.schema?v=i.I18n.get("label.editorconfiguration.preview.schema.all.helptext"):"html5"==l.schema?(v=i.I18n.get("label.editorconfiguration.preview.schema.html5.helptext"),l.invalidElements&&(v+="excluding ("+l.invalidElements+")")):"custom"==l.schema&&(v=i.I18n.get("label.editorconfiguration.preview.schema.custom.helptext")+" ("+l.validElements+")"),n.find(".configuration-schema").text(v)}r.addButton=u,f&&f()})))},tinymce.EditorManager.on("AddEditor",o,!0),d){var l=e.extend(!0,{},a.getEditorConfigDefaults(!0)),p=a.getEditorConfiguration(n.find("#tiny-toolbar-editor"));u(l,!(!1===p.allowStyle)),a.initializeWysiwygForEditorConfig("tiny-toolbar-editor",l)}else a.activateWysiwygs(n,{editorConfigPreview:!0})}))},deactivate:function(e){l((function(){a.deactivateWysiwygs(e),o&&tinymce.EditorManager.off("AddEditor",o)}))},showProperButtons:function(t,n){l((function(){var i=e("#tiny-toolbar-editor").parent();a.deactivateWysiwygs(i);var r=e.extend(!0,{},a.getEditorConfigDefaults(!0));u(r,t),r.onInit=n,a.initializeWysiwygForEditorConfig("tiny-toolbar-editor",r)}))}}}.apply(t,i))||(e.exports=r)},8999:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(24819),n(14741),n(12993),n(2826),n(80471),n(10776),n(26347),n(10861),n(89152),n(93660),n(23806)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f){var p=h.default.absolutePath("/ajax/entityComment.act"),A=n.Variables.get("domId"),g=n.Variables.get("domType"),m=e("#entity-comments"),v=o.get("entityComment"),y=o.get("entityCommentReply"),b=function(e){return e.time=s.render(e.timestamp),e.I18n=n.I18n,e.AssetLinkRenderer=i,e},w=function(e){return v(b(e))},x=function(e,t){t.parents(".entity-comment-wrapper").find(".comment-reply").hide(),t.append(y(b(e)))},C=function(){var t=e(".entity-comment-wrapper:not(.comment-resolved)").length,n=e("#comment-count");n.text(t),n.toggleClass("hide",t<=0),n.prev().toggleClass("ci-fw",t>0)},_=function(t){l.start(),e.get(p,{action:"get",id:A,type:g},(function(n){if(l.done(),n.error)r.showText(n.error);else{var i=n.result;e.each(i,(function(t,n){var i=e(w(n));e.each(n.replies,(function(e,t){x(t,i.find(".comment-replies"))})),m.append(i)})),setTimeout((function(){e("#new-comment-text").focus()}),0),C(),t&&t()}}))};f.default.init(e(".container")),e("li.comment-dropdown").on({"show.bs.dropdown":function(){var t=e(this);"yes"!==t.data("loaded")&&_((function(){t.data("loaded","yes")}))},"shown.bs.dropdown":function(){e("#new-comment-text").focus()}});var k={ADD_COMMENT:function(e){m.append(w(e.comment)),C()},ADD_REPLY:function(t){var n=t.parentCommentId,i=e('.entity-comment[data-id="'+n+'"]').parents(".entity-comment-wrapper").find(".comment-replies");x(t.comment,i)},UPDATE_COMMENT_RESOLUTION:function(t){e('.entity-comment[data-id="'+t.comment.id+'"]').parents(".entity-comment-wrapper").toggleClass("comment-resolved",t.comment.resolved),C()},DELETE_COMMENT:function(t){var n=e('.entity-comment[data-id="'+t.comment.id+'"], .entity-comment-reply[data-reply-id="'+t.comment.id+'"]');n.hasClass("entity-comment-reply")?S(n.parents(".comment-profile-container"),n):(n.parents(".entity-comment-wrapper").remove(),C())}};e("#post-entity-comment").on("click",(function(){var t=e("#new-comment-text");d.disableClicking(this),e.post(p,{action:"post",id:A,type:g,text:t.val()},(function(n){if(n.error)r.showText(n.error);else{var i=n.result;m.append(w(i)),t.val(""),C(),u.COLLABORATION.trackEvent("Added Entity Comment"),e(document).trigger("add.cs.entity.comments")}})).always((function(){t.trigger("change")}))})),e("#new-comment-text").on("input",t.debounce((function(){var e=document.getElementById("post-entity-comment");d.toggleClicking(e,this.value.length>0)}),250)),e("#show-resolved-comments").on("click",(function(){d.toggleClass(m[0],"show-resolved",this.checked)})),m.on("click",".comment-resolve",(function(){var t=e(this).parents(".entity-comment"),i=n.UI.disableButton(this);e.get(p,{action:"resolve",id:t.data("id")},(function(e){e.error?r.showText(e.error):(t.parents(".entity-comment-wrapper").addClass("comment-resolved"),C(),u.COLLABORATION.trackEvent("Resolved Entity Comment"))})).always(i)})),m.on("click",".comment-unresolve",(function(){var t=e(this).parents(".entity-comment"),i=n.UI.disableButton(this);e.get(p,{action:"unresolve",id:t.data("id")},(function(e){e.error?r.showText(e.error):(t.parents(".entity-comment-wrapper").removeClass("comment-resolved"),C(),u.COLLABORATION.trackEvent("Unresolved Entity Comment"))})).always(i)})),m.on("click",".comment-reply-close",(function(){e(this).parents(".comment-reply-form").addClass("hide")})),m.on("click",".comment-reply",(function(){$form=e(this).parents(".entity-comment-wrapper").find(".comment-reply-form"),$form.removeClass("hide"),$form.find(".comment-reply-text").focus()})),m.on("click",".comment-reply-submit",(function(){var t=e(this).parents(".entity-comment-wrapper").find(".entity-comment"),n=e(this).parents(".entity-comment-wrapper"),i=n.find(".comment-reply-text");d.disableClicking(this),e.get(p,{action:"reply",id:t.data("id"),text:i.val()},(function(t){if(t.error)r.showText(t.error);else{var o=t.result;x(o,n.find(".comment-replies")),i.val(""),n.find(".comment-reply-form").addClass("hide"),u.COLLABORATION.trackEvent("Replied to Entity Comment"),e(document).trigger("reply.cs.entity.comments")}})).always((function(){i.trigger("change")}))})),m.on("input",".comment-reply-text",t.debounce((function(){var t=e(this).closest(".comment-reply-form").find(".comment-reply-submit");d.toggleClicking(t[0],this.value.length>0)}),250)),m.on("click",".comment-delete",(function(){if(confirm(n.I18n.get("message.comment.delete"))){var t=e(this).parents(".entity-comment-wrapper").find(".entity-comment"),i=e(this).parents(".entity-comment-wrapper"),o=n.UI.disableButton(this);e.get(p,{action:"delete",id:t.data("id")},(function(e){e.error?r.showText(e.error):(i.remove(),C())})).always(o)}}));var S=function(e,t){if(!e.next().length){var n=e.prev();n.length||(n=t.parents(".entity-comment-wrapper").find(".comment-profile-container:first")),n.find(".comment-reply").show()}e.remove()};return m.on("click",".comment-reply-delete",(function(){if(confirm(n.I18n.get("message.comment.delete.reply"))){var t=e(this).parents(".comment-profile-container"),i=e(this).parents(".entity-comment-reply"),o=n.UI.disableButton(this);e.get(p,{action:"delete",id:i.data("reply-id")},(function(e){e.error?r.showText(e.error):(S(t,i),u.COLLABORATION.trackEvent("Deleted Entity Comment"))})).always(o)}})),c.listenTo("COMMAND",(function(t){var n=k[t.command];n&&(m.is(":empty")?_((function(){e("li.comment-dropdown > a").data("loaded","yes")})):n(t))})),{loadInstantly:_}}.apply(t,i))||(e.exports=r)},51953:function(e,t,n){var i,r;i=[n(37549),n(93541),n(14741),n(35974),n(10861),n(26742),n(89152),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=s.default.absolutePath("/ajax/entitystar/create.act"),c=s.default.absolutePath("/ajax/entitystar/delete.act"),u=function(e){return e.entityStarId&&""!==e.entityStarId},d=function(e,n){var r=u(n);e.find("i.ci").toggleClass("ci-star ci-starred"),e.data("entity-star-id",n.entityStarId),i.setContent(e,t.I18n.get(r?"label.starred":"label.not.starred"))},h=function(i){var a,s=e(this),h=t.UI.disableButton(this),f={entityStarId:(a=s).data("entity-star-id"),entityId:a.attr("data-entity-id"),entityType:a.data("entity-type")},p=u(f),A=function(e){return u(e)?c:l}(f),g=function(e){return u(e)?{id:e.entityStarId}:{id:e.entityId,type:e.entityType}}(f);e.post(A,g,(function(t){if(t.success){for(var o={entityStarId:p?"":t.id,entityId:f.entityId,entityType:f.entityType},a=document.querySelectorAll("button.js-entity-star"),s=0;s<a.length;s++){var l=a[s];l.dataset.entityId===f.entityId&&d(e(l),o)}r.CONTENT.trackEvent((p?"Unstarred":"Starred")+" Entity",{assetType:o.entityType,assetId:o.entityId,entityStarId:o.entityStarId}),i&&i(o)}else t.error&&n.showText(t.error,{type:"danger"})})).error((function(e){n.showText(o.getAjaxResponseError(e),{type:"danger"})})).always(h)};return{init:function(t,n){(t=t&&t.length?t:e("body")).off("click","button.js-entity-star").on("click","button.js-entity-star",(function(){h.call(this,n)}))}}}.apply(t,i))||(e.exports=r)},41877:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(16412),n(14741),n(26340),n(14044)],void 0===(r=function(e,t,n,i,r,o){var a=function(t,n,i,r,o,a,s){var c=e("#fileUpload"),u=l.canBulkUpload(),d=l.hasFile();if(u&&(d||n.files.length>1)){var h=!0;if(r){var f=r(n);h=void 0===f||!!f}h&&l.sendBulkUpload(n,i,o,a,s)}else!u&&n.files.length>1&&(n.files=[n.files[0]]);c.data("uploadCount",n.files.length+(u&&d?1:0))},s=function(e){if(e){var t=o.default.get();t.updateCurrentName(e),t.updateOriginalName(e)}},l={init:function(e,t){this.url=e,this.uploadCompleteCallback=t||null,this.initUploader()},stripExtension:function(e){var t;return e&&(t=e.lastIndexOf("."))>0?e.substr(0,t):e},uploadedFileNameWithExtension:function(e){var t=e.files?e.files[0]:null;return t?t.name:null},uploadedFileNameWithoutExtension:function(e){var t=this.uploadedFileNameWithExtension(e);return t?this.stripExtension(t):t},updateNameFieldWithUploadedFileName:function(e){s(this.uploadedFileNameWithExtension(e))},updateNameFieldWithUploadedFileNameWithoutExtension:function(e){s(this.uploadedFileNameWithoutExtension(e))},initUploader:function(){var t=this;i.onHidden(l.destroy),e("#fileUpload").fileupload({url:this.url,dataType:"html",add:function(e,t){n.toggleFormButtonsOff(),t.submit()},done:function(i,r){var o=e("#fileUpload");o.fileupload("destroy"),e("#fileUploadArea").html(r.result),n.toggleFormButtonsOn(),t.initUploader(),t.uploadCompleteCallback&&t.uploadCompleteCallback(r),o.focus()},progressall:function(t,n){e("#uploadProgress").show();var i=parseInt(n.loaded/n.total*100,10);e("#uploadProgressBar").css("width",i+"%")},sequentialUploads:!0})},sendSingleUpload:function(t,n,i,r,o){e("#fileUpload").fileupload("option",{url:n,paramName:null}),t.submit().success((function(e,t,n){i&&i(!1,e,t,n)})).error((function(e,t,n){r&&r(!1,e,t,n)})).complete((function(e,t,n){o&&o(!1,e,t,n)}))},sendBulkUpload:function(t,n,i,r,o){for(var a=e("#fileUpload"),s=[],l=0;l<t.files.length;l++)s.push("fileUploads["+l+"]");a.fileupload("option",{url:n,paramName:s}),a.fileupload("send",{files:t.files}).success((function(e,t,n){i&&i(!0,e,t,n)})).error((function(e,t,n){r&&r(!0,e,t,n)})).complete((function(e,t,n){o&&o(!0,e,t,n)}))},initBulkUploader:function(t,n,r,o,s,c,u,d){var h=this;i.onHidden(l.destroy),e("#fileUpload").fileupload({dataType:"html",singleFileUploads:!0,change:function(e,t){a(0,t,n,o,c,u,d)},drop:function(e,t){a(0,t,n,o,c,u,d)},add:function(n,i){var r=e("#fileUpload").data("uploadCount");if(!r||1===r){var a=!0;if(o){var s=o(i);a=void 0===s||!!s}a&&h.sendSingleUpload(i,t,c,u,d)}},done:function(e,i){!r&&i.files.length>1||h.refreshBulkUploader(i.result,(function(){h.initBulkUploader(t,n,r,o,s,c,u,d),s&&s(i)}))},progressall:function(t,n){e("#uploadProgress").show();var i=parseInt(n.loaded/n.total*100,10);e("#uploadProgressBar").css("width",i+"%")}})},refreshBulkUploader:function(t,n){l.destroy(),e("#fileUploadArea").html(t),n&&n()},destroy:function(){try{e("#fileUpload").fileupload("destroy")}catch(e){}},hasFile:function(){return"true"===e("#fileUpload").attr("data-has-file")},canBulkUpload:function(){return e("#fileUpload")[0].hasAttribute("multiple")},initBrowserDragUpload:function(e,n){e.off("dragover dragenter").on("dragover dragenter",(function(e){e.preventDefault(),e.stopPropagation()})),e.off("drop").on("drop",(function(e){if(e.preventDefault(),e.originalEvent.dataTransfer){var i=e.originalEvent.dataTransfer.files[0];if(!function(e){if(!e)return!0;var n=1*t.Variables.get("maxFileUploadLimitInBytes",1);return e.size<n}(i))return r.showError(t.I18n.get("error.file.too.large").replace(/\{0\}/,t.Variables.get("maxFileUploadLimitInKB"))),!1;var o=new FileReader;o.onload=function(){n&&n(o.result,i)},o.readAsText(i)}return!1}))}};return l}.apply(t,i))||(e.exports=r)},94917:function(e,t,n){var i,r;i=[n(37549),n(92648),n(84551),n(65872),n(89152)],void 0===(r=function(e,t,n,i,r){const o=e(document),a=document.body;let s=!1,l=!1;const c=t=>{const n=e(".modal.in");let i,r;n.length&&!n.is(t.target)&&(i=A(n),i&&(r=g(t.target),r?p(i)!==p(r)?d(n):f(n[0],t.target):u(n)))},u=e=>{h(e),s=!1,l=!1},d=e=>{h(e),s=!1,l=!0},h=e=>e.modal("hide"),f=(e,t)=>{r.removeClass(e,"top"),r.addClass(t,"top"),s=!0,l=!1},p=e=>r.hasClass(e,"from-right")?"from-right":"from-left",A=e=>e&&e.length?g(e[0]):null,g=e=>e?e.querySelector(":scope > .modal-flyout"):null;return o.off("show.bs.modal",c).on("show.bs.modal",".modal",c),{init:(e,o)=>{if(!A(e))return;const c=document.getElementById("generic-flyout-wrapper");if(e.off("show.bs.modal").off("shown.bs.modal").off("hide.bs.modal").off("hidden.bs.modal"),e.on("show.bs.modal",(n=>{r.hasClass(e[0],"fade")&&e.one("transitionend",(t=>{r.hasClass(e[0],"in")&&e.trigger("shown.bs.modal")})),r.addClass(a,"generic-flyout-open"),r.addClass(a.querySelector(".modal-backdrop"),"generic-flyout-backdrop"),i.lockKeyboardShortcuts(),t.hasValidProperty(o,"onShow",t.isFunction)&&o.onShow(n)})),e.on("shown.bs.modal",(function(i){const a=e.find(".modal-flyout-content");n.enable(a),n.attachEventListener(a,"scroll",t.debounce((e=>{r.toggleClass(a[0],"is-scrolled",e.detail.scrollTop&&e.detail.scrollTop>0)}),50)),t.hasValidProperty(o,"onShown",t.isFunction)&&o.onShown(i)})),e.on("hide.bs.modal",(e=>{0===(e=>{const n=document.querySelectorAll(".modal-generic-flyout.fade.in");return t.filter(n,(t=>t!==e))})(e.currentTarget).length&&r.removeClass(a,"generic-flyout-open"),r.removeClass(a.querySelector(".modal-backdrop.generic-flyout-backdrop"),"generic-flyout-backdrop"),i.unlockKeyboardShortcuts(),t.hasValidProperty(o,"onHide",t.isFunction)&&o.onHide(e)})),e.on("hidden.bs.modal",(e=>{s&&r.addClass(a,"modal-open"),l&&r.addClass(a,"generic-flyout-open"),t.hasValidProperty(o,"onHidden",t.isFunction)&&o.onHidden(e)})),t.hasValidProperty(o,"keyboardShortcut",t.isString)&&i.add(o.keyboardShortcut,(()=>(e.modal("toggle"),!1))),r.hasClass(e[0],"modal-generic-flyout")){if(e[0].id){const t=c.querySelector("#"+e[0].id);t&&t.remove()}c.appendChild(e[0])}},hide:h}}.apply(t,i))||(e.exports=r)},70124:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(52737)],void 0===(r=function(e,t,n,i){var r=e(document),o=function(e){r.trigger("cs.form.change",[e])};return{init:function(n){n.on("input.formchange","input, select, textarea",t.debounce((function(e){i.fieldAllowsChangeEvent(e.target)&&o(e)}),250)),n.on("dp.change",".date > input",(function(e){e.preventDefault(),i.fieldAllowsChangeEvent(this)&&o(e)})),n.on("submit.cs.chooser.panel",".chooser",(function(t){i.fieldAllowsChangeEvent(this)&&(e(this).data("cs.chooser").isClean()||o(t))})).on("clear.cs.chooser removetag.cs.chooser",".chooser",(function(e){i.fieldAllowsChangeEvent(this)&&o(e)}))}}}.apply(t,i))||(e.exports=r)},51517:function(e,t,n){var i,r;i=[n(93541),n(37549),n(34215),n(37744),n(53941),n(89492),n(52737),n(89152)],void 0===(r=function(e,t,n,i,r,o,a,s){const l=t("body"),c=function(e){if(s.hasClass(e,"datepicker-initialized"))return!0;if(a.isClosestParentGroupBodyNotVisible(e))return!1;try{return new i(e),!0}catch(e){return console.debug("Encountered an error while initializing date picker field",e),!1}},u=function(e){let t;if(s.hasClass(e,"dropdown-initialized"))return!0;if(a.isClosestParentGroupBodyNotVisible(e))return!1;try{t=new r(e)}catch(e){return console.debug("Encountered an error while initializing dropdown field",e),!1}return t.addEventHandler("change",(function(){o.validateField(t.getJqueryElement())})),t.addEventHandler("blur",(function(){t.isClearDisabled()&&""===t.getValue()&&t.resetValueToDefault(),o.validateField(t.getJqueryElement())})),!0},d=function(e){return(e=p(e))[0].querySelectorAll(".date")},h=function(e){return(e=p(e))[0].querySelectorAll("select.form-control-selectize")},f=function(e){e=p(e),setTimeout((function(){e.find(".prevent-autofill").removeAttr("readonly")}),300)},p=function(e){return e&&e.length?e:l};return{init:function(e){e=p(e);const t=d(e);n.instantlyInitializeFields(t,c);const i=h(e);n.instantlyInitializeFields(i,u),f(e)},lazyInit:function(e){e=p(e);const t=d(e);n.lazyInitializeFields(t,c);const i=h(e);n.lazyInitializeFields(i,u),f(e)},getLazyInitializer:function(){return n}}}.apply(t,i))||(e.exports=r)},53376:function(e,t,n){var i,r;i=[n(37549),n(92648),n(74663),n(93541),n(10776),n(89492),n(51517),n(26742),n(93660),n(14741),n(59251),n(84551),n(65872),n(30819),n(52737),n(89152)],void 0===(r=function(e,t,i,r,o,a,s,l,c,u,d,h,f,p,A,g){var m=c.default.absolutePath("/ajax/"),v="in-progress",y={failure:"failure-callbacks",success:"success-callbacks"},b={pre:"pre-submit-handler",standard:"submit-handler",ajaxModify:"ajax-modify-handlers"},w="ctrl+alt+s",x={},C=null;x.toggleFormButtonsOff=function(e){if(e&&e.length)for(var t=e.find('[type="submit"]'),n=0;n<t.length;n++)g.disableClicking(t[n])},x.toggleFormButtonsOn=function(e){if(e&&e.length)for(var t=e.find('[type="submit"]'),n=0;n<t.length;n++)g.enableClicking(t[n])},x.executeWhenFormReadyToSubmit=function(e){var t={};return r.Variables.get("formReadyToSubmit")<=0?(e(),{}):(t.interval=window.setInterval((function(){r.Variables.get("formReadyToSubmit")<=0&&(e(),x.clearReadyToSubmitTimers(t))}),100),t.timeout=window.setTimeout((function(){x.clearReadyToSubmitTimers(t),r.Variables.set("formReadyToSubmit",0),e()}),15050),t)},x.clearReadyToSubmitTimers=function(e){e.interval&&window.clearInterval(e.interval),e.timeout&&window.clearTimeout(e.timeout)};var _=function(e,t){for(var n=e.find(".form-group-collapsible-body.collapse"),i=0;i<n.length;i++){var r=n[i],o=r.previousElementSibling,a=!t[r.id];g.toggleClass(r,"in",a),r.setAttribute("aria-expanded",a+""),g.toggleClass(o,"collapsed",!a)}},k=function(e,n){var i;if(n=t.has(b,n)?n:"standard",i=e.data(b[n]))for(var r=0;r<i.length;r++)if(!1===(0,i[r])())return!1;return!0},S=function(e,n,i){var r;if(n=t.has(y,n)?n:"success",null!=(r=e.data(y[n])))for(var o=0;o<r.length;o++)r[o](i)};x.addCallback=function(e,n,i){var r;e=e||x.getStandardForm(),i=t.has(y,i)?i:"success",(r=e.data(y[i]))||(r=[],e.data(y[i],r)),r.push(n)},x.addSuccessCallback=function(e,t){x.addCallback(e,t)},x.addFailureCallback=function(e,t){x.addCallback(e,t,"failure")},x.registerModalLoadCallback=function(e){C=e};var E=!1;return x.postFormData=function(t,n,i,r,o,a){E?setTimeout((function(){x.postFormData(t,n,i,r,o,a)}),100):(E=!0,e.post(t,n,i,r).fail(a).always((function(){E=!1,o&&o()})))},x.ajaxModify=function(i,r,a){var l=t.get(a,"callback"),c=t.get(a,"skipPersistCollapsedStates",!1),u=t.get(a,"data",""),f=x.getStandardForm(i),p=d.getOriginalForm(),m=t.get(a,"replaceModal",!1);o.start(),k(f,"pre"),k(f,"ajaxModify");var v=A.getSerializableFields(f).serialize();u.length&&(v+="&"+u),x.postFormData(r,v,(function(t){var r,o,a=C,u=c?{}:function(e){for(var t={},n=e.find(".form-group-collapsible-body.collapse"),i=0;i<n.length;i++){var r=n[i];t[r.id]=!g.hasClass(r,"in")}return t}(i),f=i.find(".modal-nav li.active a").attr("id"),A=i.find(".modal-scroll-wrapper").length>0?i.find(".modal-scroll-wrapper"):i.closest(".modal-scroll-wrapper"),v=h.getScrollTop(A);m?Promise.resolve().then((function(){var i=[n(16412)];(function(n){d.disableAndStopListening(),n.refresh(t,(function(){r=n.find(),c||_(r,u),f&&r.find("#"+f).tab("show"),a&&a(),d.restoreOriginalForm(p),setTimeout((function(){o=r.find(".modal-scroll-wrapper"),h.scrollToInstant(o,v)}),250),l&&l(r),e(document).trigger("cs.form.change")}))}).apply(null,i)})).catch(n.oe):(r=e(t),_(r,u),i.replaceWith(r),f&&r.find("#"+f).tab("show"),l&&l(r),x.bind(r),s.init(r),setTimeout((function(){o=r.find(".modal-scroll-wrapper").length>0?r.find(".modal-scroll-wrapper"):r.closest(".modal-scroll-wrapper"),h.scrollToInstant(o,v)}),250),d.restoreOriginalForm(p),e(document).trigger("cs.form.change"))}),void 0,(function(){o.done()}))},x.isOkToSubmit=function(e){var t=e&&e.data("isOkToSubmit");return"function"!=typeof t||t()},x.updateIsOkToSubmit=function(e,t){e&&e.data("isOkToSubmit",t)},x.ajaxSubmit=function(i){if(!x.isOkToSubmit(i))return setTimeout((function(){x.ajaxSubmit(i)}),10),v;var s=function(){return x.toggleFormButtonsOn(i),!1};if(!k(i,"pre"))return s();if(i[0].onsubmit&&!1===i[0].onsubmit())return s();if(!a.isFormValid(i))return s();if(!k(i))return s();o.start();var d=i.find(".validationError"),h=A.getSerializableFields(i).serialize(),f=i.data("custom-data");f&&(t.isString(f)||(f=t.toQuery(f)),"true"===i.attr("data-overwrite-form-data")||t.isEmpty(h)?h=f:h+="&"+f);var p=r.Variables.get("domId"),g=r.Variables.get("domType");return x.postFormData(i.attr("action"),h+"&formsubmit=true&viewingId="+p+"&viewingType="+g,(function(r){if(t.isObject(r)){if(d.addClass("hide"),t.has(r,"error")){const e=t.isArray(r.error)?"<ul><li>"+t.map(r.error,t.escape).join("</li>")+"</li></ul>":t.escape(r.error);return d.html(e).removeClass("hide"),S(i,"failure",r),void x.toggleFormButtonsOn(i)}const o=l.getJsonResponseStatus(r);r.forward?u.registerAndNavigate(c.default.absolutePath(r.forward),o):Promise.resolve().then((function(){var t=[n(16412)];(function(t){t.hide(),r.refresh?u.registerAndReload(o):(u.show(o),S(i,"success",r),e("body").trigger("cs.formsubmit.success",r))}).apply(null,t)})).catch(n.oe)}else S(i,"success",r),e("body").trigger("cs.formsubmit.success",r)}),void 0,(function(){o.done()}),(function(e){d.text(r.I18n.get("error.action.modal.request.failed")+": "+l.getAjaxResponseError(e)).removeClass("hide"),S(i,"failure",e),x.toggleFormButtonsOn(i)})),v},x.updateForm=function(e,n){if(p.isDraftBeingSaved())return setTimeout((function(){x.updateForm(e,n)}),100);var r=t.get(n,"callback"),o=t.get(n,"skipPersistCollapsedStates",!1),a=x.getStandardForm(e);a.attr("data-issubmitting",!0),x.ajaxModify(e,m+i.get("modalFormName")+"Modify.act",{callback:function(){a.attr("data-issubmitting",!1),r&&r()},replaceModal:1===e.closest("#ajax-modal").length,skipPersistCollapsedStates:o})},x.onSubmitForm=function(){var t=e(this);x.toggleFormButtonsOff(t),function(e){e.find('input[name="formsubmit"]').length||e.append('<input type="hidden" name="formsubmit" value="true"/>')}(t);var n=x.submitStandardForm(t);return n&&n!==v?r.Variables.get("formReadyToSubmit")<=0:(n!==v&&x.toggleFormButtonsOn(t),!1)},x.submitStandardForm=function(e){return"true"===(e=e&&e.length&&e.is("form")?e:x.getStandardForm()).attr("data-ajax-submit")?x.ajaxSubmit(e):!(!k(e,"pre")||e[0].onsubmit&&0==e[0].onsubmit()||!a.isFormValid(e)||!k(e)||(e[0].onsubmit=null,x.executeWhenFormReadyToSubmit(e[0].submit.bind(e[0])),0))},x.getStandardForm=function(e){return l.getStandardForm(e)},x.getStandardFormForModal=function(){return l.getStandardFormForModal()},x.isFormBeingSubmitted=function(e){return(e=e||x.getStandardForm())[0].getAttribute("data-issubmitting")||!1},x.bind=function(e){var t=x.getStandardForm(e);t.length&&(t.data("submit-bound")&&(window.console&&console.warn("Submit was already bound, removing previously bound event handler"),t.off("submit",x.onSubmitForm)),t.on("submit",x.onSubmitForm),t.data("submit-bound",!0),a.initialize(t),f.remove(w),f.add(w,(function(){t.find("#primary-submit, .primary").click()})))},x.addSubmitHandler=function(e,n,i,r){var o;if(e=e||x.getStandardForm(),r=t.has(b,r)?r:"standard",(o=e.data(b[r]))||(o=[],e.data(b[r],o)),o.push(n),"standard"===r&&i){var a=e.data("ajax-modify-handlers");a||(a=[],e.data("ajax-modify-handlers",a)),a.push(n)}},x.addPreSubmitHandler=function(e,t){e=e||x.getStandardForm(),x.addSubmitHandler(e,t,!1,"pre")},x.bind(),f.addStopCallback((function(e,t,n){if(n===w)return!1})),x}.apply(t,i))||(e.exports=r)},37744:function(e,t,n){var i,r;i=[n(37549),n(34897),n(89152),n(3946)],void 0===(r=function(e,t,i,r){var o="datetime",a="date",s="time",l=[o,a,s],c=function(t){if(!t)throw"Date picker fields require a valid element";if(this.element=t,this.$element=e(t),this.pickerType=this.$element.data("picker-type")||a,!l.includes(this.pickerType))throw"Date picker did not have a valid type, aborting initialization";this.dateFormat=function(e){if((e=e||a)===s)return r.TIME_FORMAT;var t=[r.MONTH_DAY_YEAR_FORMAT];return e===o&&t.push(r.TIME_FORMAT),t.join(" ")}(this.pickerType),this.hasInvalidValue=!1,this.lastValidValue="",this._initializeUI()};return c.prototype._isTimePickerOnly=function(){return this.pickerType===s},c.prototype._initializeUI=function(){var e=this;this.widgetInstance=t(this.element,{wrap:!0,disableMobile:!0,clickOpens:!1,noCalendar:this._isTimePickerOnly(),allowInput:!0,enableTime:-1!==this.pickerType.indexOf(s),dateFormat:this.dateFormat,defaultHour:0,ariaDateFormat:r.MONTH_DAY_YEAR_FORMAT,parseDate:function(t,n){var i=(t||"").replace(/([\d]{1,2}:[\d]{1,2})(?::|\s)*([a|p])m?$/i,"$1 $2M");return e._isTimePickerOnly()?r.parseFormattedTimeString(i,n):r.parseFormattedDateString(i,n)},formatDate:function(e,t){return r.formatDate(e,t)},onReady:function(t,n,i){i._input.value&&(e.lastValidValue=i._input.value)},onOpen:function(){n(16412).disableTabFocus()},onClose:function(){n(16412).enableTabFocus()},onChange:function(t,n,i){e.hasInvalidValue?e.revertToLastValidValue():(e.lastValidValue=n,e.$element.trigger("dp.change",{date:n}))},errorHandler:function(t,n){t&&-1!==t.message.indexOf("Invalid date")&&(e.hasInvalidValue=!0)}}),this.$element.find("input").attr("placeholder",this.dateFormat.toLowerCase()),i.addClass(this.element,"datepicker-initialized")},c.prototype.revertToLastValidValue=function(){var e=this.lastValidValue,t=void 0!==e;this.hasInvalidValue=!1,this.widgetInstance.setDate(e||"",t,this.dateFormat)},c}.apply(t,i))||(e.exports=r)},53941:function(e,t,n){var i,r;i=[n(37549),n(65216),n(84551),n(89152),n(52737)],r=function(e,t,n,i,r){t.define("open-on-click",(function(){var e;this.setup=(e=this.setup,function(){var t=this;e.apply(t,arguments),t.$control_input.off("mousedown"),t.$control.off("click mousedown"),t.$control.on("click",(function(){t.isOpen?t.close():t.open()})),t.$input.prevAll("label").on("click",(function(e){e.preventDefault(),t.focus()}))})})),t.define("onchange-input-event",(function(){var e;this.onChange=(e=this.onChange,function(){e.apply(this,arguments),this.$input.trigger("input")})})),t.define("custom-dropdown-scrolling",(function(){var e;this.onDropdownOpen=(e=this.onDropdownOpen,function(){var t=this;e.apply(t,arguments),_.delay((function(){n.enableDropdown(t.$dropdown_content)}),10)})}));var o=function(t){if(!t)throw"Dropdown fields require a valid select element";this.element=t,this.$element=e(t),this.firstSelectedOption=r.getFirstSelectedOption(this.element),this.defaultValue=this.firstSelectedOption?this.firstSelectedOption.value:"",this.isPlainDropdown()?(this.disableClear=!(r.getEmptyValueOptions(this.element.options).length&&this.defaultValue),this.$element.val(this.defaultValue)):this.disableClear=!1,this._initializeUI()};return o.prototype._allowsCustomValues=function(){return this.$element.data("create")},o.prototype._allowsEmptyOption=function(){return this.$element.data("allowemptyoption")||!1},o.prototype.getSelectizeInstance=function(){return this.element.selectize},o.prototype._initializeUI=function(){var e,t={create:this._allowsCustomValues(),createOnBlur:!0,allowEmptyOption:this._allowsEmptyOption(),openOnFocus:!1,plugins:["open-on-click","onchange-input-event","custom-dropdown-scrolling"]},n=(e=this.$element.data("sortfield"),_.isObject(e)?e:void 0);n&&(t.sortField=n),this.$element.selectize(t),i.addClass(this.element,"dropdown-initialized")},o.prototype.isPlainDropdown=function(){return r.isPlainDropdownFormControl(this.$element)},o.prototype.isClearDisabled=function(){return this.disableClear},o.prototype.addEventHandler=function(e,t){this.getSelectizeInstance().on(e,t)},o.prototype.getJqueryElement=function(){return this.$element},o.prototype.getValue=function(){return this.getSelectizeInstance().getValue()},o.prototype.setValue=function(e){return this.getSelectizeInstance().setValue(e)},o.prototype.resetValueToDefault=function(){return this.setValue(this.defaultValue)},o}.apply(t,i),void 0===r||(e.exports=r)},3230:function(e,t,n){var i,r;i=[n(37549),n(92648),n(14741),n(93660)],void 0===(r=function(e,t,n,i){return{enable:function(t){t.find(".cascade-hint").each((function(){var t=e(this),r=t.attr("data-hint-key"),o=-1!==Cascade.Variables.get("enabledHints").indexOf(r);t.toggleClass("hide",!o),o&&t.find("button").click((function(){e.getJSON(i.default.absolutePath("/ajax/dismisshint.act"),{hintKey:r},(function(e){e.error?n.showText(e.error,{type:"danger"}):t.addClass("hide")}))}))}))}}}.apply(t,i))||(e.exports=r)},15037:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(16412),n(12596),n(42505),n(14741),n(26742),n(53376),n(99274),n(59251),n(51517),n(90657),n(89492),n(10861),n(92525),n(93660),n(536),n(8999)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g){var m,v=window.location.search,y=e("#output-selector"),b=e("#assetversion-selector"),w=e("#menu-action"),x=e(".save-link"),C={id:n.Variables.get("domId"),type:n.Variables.get("domType")},_=function(e){if(e.stopImmediatePropagation(),m.data("saveDropdownLoaded"))x.dropdown("toggle");else{var t=n.UI.disableButton(x[0]);m.find(".validationError").addClass("hide"),r.focusElementOnHide(x),r.open(g.default.absolutePath("/entity/edit.act",{reload:!1}),C,(function(){var e=l.getStandardFormForModal();i.onModalJsComplete((function(){f.isFormValid(e)?(e.attr("data-disable-draft","true"),u.disableWarnings(),x.dropdown("toggle")):i.show((function(){var e=i.find();l.bind(e),d.init(e)}))}))}),null,t,!0)}};e(".edit-action").on("click",(function(){var t=e(this),i=n.UI.disableButton(this);r.focusElementOnHide(t),r.open("/entity/edit.act",{id:t.attr("data-id"),type:C.type},null,null,i)})),e(".discard-action").on("click",(function(){var t=n.UI.disableButton(this);p.CONTENT.trackAssetEvent("Clicked Discard Draft"),c.default.discardDraft({identifier:{id:e(this).attr("data-id"),type:C.type},forward:!0,successCallback:function(e){var t=s.getJsonResponseStatus(e);e.success&&(a.register(t),window.location=e.forward)}}).then(t)})),e(document).on("click",".notify-publish",(function(){var e=n.UI.disableButton(this),i={id:this.getAttribute("data-publish-id"),type:this.getAttribute("data-publish-type")};a.close(this),(t.isEmpty(i.id)||t.isEmpty(i.type))&&(i=C),r.focusElementOnHide(this),r.open(g.default.absolutePath("/ajax/publish.act"),i,null,null,e)})),e("#analytics-link").click((function(){var e=n.UI.disableButton(this);r.focusElementOnHide(this),r.open(g.default.absolutePath("/ajax/loadAssetStats.act"),C,null,null,e)})),e("#lock-link").click((function(){var e=n.UI.disableButton(this);o.checkoutAsset(C.id,C.type,e),p.CONTENT.trackAssetEvent("Clicked Checkout")})),e("#markasreviewed-link").click((function(){n.UI.disableButton(this),p.CONTENT.trackAssetEvent("Clicked Mark as Reviewed"),e.ajax({url:g.default.absolutePath("/ajax/markAsReviewed.act"),data:C,success:function(e){var t=s.getJsonResponseStatus(e);e&&a.showHtml(t.message,{type:t.status})}})})),m=w.find(".save-options"),h.default.init(m),x.on("click",_),e(document).on("click",".js-trigger-save",(function(e){a.close(this),_(e)})),m.on("show.bs.dropdown",(function(){m.trigger("cs.loadsavedropdown")})),e("#discard-link").on("click",(function(){var e=n.UI.disableButton(this);p.CONTENT.trackAssetEvent("Clicked Discard Draft"),c.default.discardDraft({identifier:{id:C.id,type:C.type},forward:!0,successCallback:function(e){var t=s.getJsonResponseStatus(e);e.success&&(a.register(t),window.location=e.forward)}}).then(e)})),e("#notify-link").on("click",(function(){var t=e(this);e.ajax({url:t.attr("data-action"),data:C,success:function(e){var n=s.getJsonResponseStatus(e);e&&(a.showHtml(n.message,{type:n.status}),t.text(""))}})})),e("#breaklock-link").on("click",(function(){var e=n.UI.disableButton(this);p.CONTENT.trackAssetEvent("Clicked Break Lock"),o.breakLock(C.id,C.type,!0,e)})),b.length&&b[0].selectize&&b[0].selectize.on("change",(function(e){var t,n=v;n=n.replace(/id=[^&]*/,"id="+e),y.length&&y[0].selectize&&(n=n.replace(/confId=[^&]*/,"confId="+y[0].selectize.getValue())),t=window.location.origin+window.location.pathname+n+window.location.hash,location.href=t})),e("#reassign-lock").on("click",(function(){var t=n.UI.disableButton(this),i=function(){e("#chooser-reassignLockChooser").trigger("click.cs.chooser.usergroup")};"false"==e(this).attr("data-lock-assigned-to-current-user")?e.get(g.default.absolutePath("/ajax/getEditingUsersNotification.act"),{id:n.Variables.get("domId"),workingCopy:!0},(function(e){e.message?confirm(e.message)&&i():i()})).always(t):(i(),t())})),e("#cancel-scheduled-publish").on("click",(function(){var t=e(this),i=n.UI.disableButton(this);r.focusElementOnHide(t),r.open(g.default.absolutePath("/ajax/cancelscheduledpublish.act"),C,null,null,i)})),e("#chooser-reassignLockChooser").on("submit.cs.chooser.panel",(function(){var n=e(this),i=n.data("cs.chooser")||n.userGroupChooser().data("cs.chooser"),r=t.keys(i.getChosen())[0]||"";p.CONTENT.trackAssetEvent("Re-assigned Lock"),o.reassignLock(C.id,C.type,r,(function(){location.reload()}))})),A.init()}.apply(t,i))||(e.exports=r)},28327:function(e,t,n){var i,r;i=[n(72622),n(44709)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},65872:function(e,t,n){var i,r;i=[n(92648),n(74663),n(93538),n(10861)],void 0===(r=function(e,t,n,i){var r={},o=new n,a=[],s=Boolean(t.get("userKeyboardShortcutsEnabled")),l=!1;return o.stopCallback=function(t,i,r){if(function(e){return l||!s&&!function(e){return"?"===e||"ctrl+alt+s"===e}(e)}(r))return!0;var o=n.prototype.stopCallback.call(this,t,i,r);return a.length&&e.each(a,(function(e){if(e(t,i,r))return o=!0,!1})),o},{add:function(t,n,a){e.isFunction(n)&&(a=n,n=""),t=e.isString(t)?[t]:t;for(var s=0;s<t.length;s++)r[t[s]]={description:n,callback:a};o.bind(t,(function(r,o){!function(t,n){i.INTERFACE.trackEvent("Executed Keyboard Shortcut",{shortcut:e.toString(t),description:n})}(t,n),a(r,o)}))},addStopCallback:function(t){e.isFunction(t)&&a.push(t)},removeStopCallback:function(t){e.remove(a,(function(n){return e.isEqual(n,t)}))},remove:function(t){t=e.isString(t)?[t]:t;for(var n=0;n<t.length;n++)"?"!==t[n]&&(r[t[n]]=null,o.unbind(t[n]))},enableUserShortcuts:function(){s=!0},disableUserShortcuts:function(){s=!1},isUserShortcutsEnabled:function(){return s},unlockKeyboardShortcuts:function(){l=!1},lockKeyboardShortcuts:function(){l=!0}}}.apply(t,i))||(e.exports=r)},39362:function(e,t,n){var i,r;i=[n(37549),n(74663),n(90618),n(92648),n(65872),n(82691),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){r.add("g d","Go to dashboard",(function(){location.href=a.default.absolutePath("/")})),r.add("g m","Go to My Content",(function(){location.href=a.default.absolutePath("/dashboard/myContent.act")})),r.add("g c","Go to Site Content",(function(){t.get("currentSiteId")&&(location.href=a.default.absolutePath("/entity/open.act",{type:"folder",siteId:t.get("currentSiteId")}))})),r.add("g /","Go to full search",(function(){location.href=a.default.absolutePath("/search.act")})),r.add("g a","Go to System Administration",(function(){location.href=a.default.absolutePath("/administration/dashboard.act")})),r.add("[","Toggle left sidebar",(function(){n.toggleSidebar(),e(window).trigger("resize")})),r.add(".","Open more menu for current asset",(function(){e("#menu-action").find(".more-link").dropdown("toggle")}))}.apply(t,i))||(e.exports=r)},42505:function(e,t,n){var i,r;i=[n(37549),n(93541),n(14741),n(99274),n(26742),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a=o.default.absolutePath("/ajax/checkout.act"),s=o.default.absolutePath("/ajax/breaklock.act"),l=o.default.absolutePath("/ajax/reassignlock.act");return{checkoutAsset:function(r,s,l){var c=this,u={id:r,type:s};e.post(a,u,(function(e){e.error?n.showHtml(e.error,{type:"danger",onShow:function(){this.on("click",".discard-and-checkout",(function(){var e=t.UI.disableButton(this);i.default.discardDraft({identifier:{id:r,type:s},forward:!1,successCallback:function(){c.checkoutAsset(r,s)}}).then(e)}))}}):e.forward&&n.registerAndNavigate(o.default.absolutePath(e.forward),{message:t.I18n.get("message.checkout.successful"),status:"success"})})).always(l)},breakLock:function(i,a,l,c){var u={id:i,type:a};confirm(t.I18n.get("message.break.lock"))?e.post(s,u,(function(e){if(e.error)n.showText(e.error,{type:"danger"});else if(e.forward&&e.success){var t=r.getJsonResponseStatus(e);l?n.registerAndNavigate(o.default.absolutePath(e.forward),t):n.registerAndReload(t)}})).always(c):c()},reassignLock:function(t,i,r,o){e.get(l,{username:r,id:t,type:i},(function(e){e.error?n.showText(e.error,{type:"danger"}):e.success&&(n.register({message:e.success,status:"success"}),o&&o())}))}}}.apply(t,i))||(e.exports=r)},72812:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(12596),n(12993),n(51517),n(60629),n(10861),n(89152)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c,u,d,h=function(n,i,r,o){n.attr("id");var a=n.find("tbody"),s=e(c({I18n:t.I18n,idx:d,markChanged:r,permissionOptions:{READ:1,WRITE:1,NONE:o?1:0},record:i}));return a.append(s),n.show(),d++,s},f=function(t,n){var i=t.data("permissions");u={},d=0,e.each(i,(function(e,i){u[e]=i,u[e].$row=h(t,i,!1,n)}))};return{init:function(p){c=r.get("accessRightsAssignedRow"),u={},d=0;var A=i.find("#editform"),g=i.find("#permission-table");a.init(A),i.find("#permission-all").on("change","input",(function(){A.trigger("permission.change")})),i.find("#permissions-removeall").on("click",(function(){confirm(t.I18n.get("prompt.accessrights.removeall.warning"))&&(u={},d=0,g.hide().find("tbody").html(""),A.trigger("permission.change"))})),A.on("click",".perm-remove",(function(){var t=e(this).parents("tr"),n=t.data("value");delete u[n],t.remove(),A.trigger("permission.change"),g.find("tbody > tr").length||g.hide()})),A.on("change",".perm-select",(function(t){var n=e(this),i=n.data("permission");n.parents("tr").toggleClass("border-right border-warning",n.val()!==i),n.val()!==i&&A.trigger("permission.change")})),A.on("submit.cs.chooser.panel",".usergroup-chooser",(function(){var t=e(this),r=i.find("#permission-level"),a=t.data("cs.chooser")||t.userGroupChooser().data("cs.chooser");!function(t,i,r,a){e.each(t,(function(e,t){n.isEmpty(u[e])?(t.permission=i,t.$row=h(r,t,!0,a),o.init(t.$row),u[e]=t):u[e].permission!==i&&(u[e].permission=i,u[e].$row.find("select.perm-select")[0].selectize.setValue(u[e].permission))}))}(a.getChosen(),r.val(),g,p),a.clear(),A.trigger("permission.change")})),p?(A.on("permission.change",(function(){var e=!g.find("tbody > tr").length&&!i.find("#permission-overwrite").is(":checked"),t=document.getElementById("primary-submit");l.toggleClicking(t,!e)})),i.find("#permission-copy").on("click",(function(){(!(g.find("tbody > tr").length>0)||confirm(t.I18n.get("prompt.accessrights.copyover.warning")))&&(g.find("tbody").html(""),f(g,!0),o.init(g),A.trigger("permission.change"))})),i.find("#permission-overwrite").on("click",(function(){var e="button.accessrights."+(this.checked?"overwrite_children_permissions":"merge_with_children_permissions");i.find("#primary-submit").text(t.I18n.get(e)),A.trigger("permission.change")})),s.PERMISSIONS.trackModalOpenedEvent("Access for Contents")):(f(g,!1),s.PERMISSIONS.trackModalOpenedEvent("Access"))}}}.apply(t,i))||(e.exports=r)},12596:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(16412),n(14741),n(26742),n(93660),n(53376),n(59251),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){var u,d={url:a.default.absolutePath("/entity/edit.act"),event:"Edit"},h=function(e,t){var n=(new Date).getTime()-t,i=e.find(".sd-field").length,r={duration:n};return i&&(r.sdFieldCount=i),r},f=function(t,r,a,f,p,A,g){var m=(new Date).getTime();A=!!n.isBoolean(A)&&A,i.open(t,r,"html",(function(n,r,p){(function(e,t,n){try{if(!t.startsWith(d.url))return;i.deferIfBackgroundModal((function(){c.CONTENT.trackModalOpenedEvent(d.event,h(e,n))}))}catch(e){console.error("Could not execute modal tracking:",e)}})(u=s.getStandardFormForModal(),t,m),i.find(".validationError"),l.initForNonDraftEnabled(),f&&s.addSuccessCallback(u,f),u.attr("data-ajax-submit","true"),i.find(".select-all, .select-none").click((function(){var t=e(this);t.parents("table").find("input[type=checkbox]").prop("checked",t.hasClass("select-all")).trigger("change")})),i.onShown((function(){o.focusFirstFormField(u)})),a&&a(n,r,p)}),p,A,g)};return{find:i.find,open:f,getDurationAndFieldCountData:h,focusElementOnHide:i.focusElementOnHide,onHide:i.onHide,getAdminChoices:function(e,t){var n={type:e,siteId:t||""};f(a.default.absolutePath("/ajax/startadmin.act"),n)}}}.apply(t,i))||(e.exports=r)},16412:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(10776),n(14741),n(53376),n(84551),n(51517),n(51384),n(65872),n(89152)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u){var d,h=e("#ajax-modal"),f=function(){return d&&d.length&&d.hasClass("modal")},p=function(){return f()&&d.hasClass("in")},A=function(){o.bind(h)},g=function(){s.init(h)},m=function(){d&&(d.addClass("fade"),d.find(".tab-pane").addClass("fade")),e(".modal-backdrop").addClass("fade")},v=function(){d&&(d.removeClass("fade"),d.find(".tab-pane").removeClass("fade"))},y={find:function(e){return e?h.find(e):h},hide:function(e){p()?(e&&y.onHidden(e),d.modal("hide")):e&&l.run(e)},show:function(e){p()||(d.modal("show"),a.enable(d.find(".modal-scroll-wrapper"))),this.onShown(e)},onShown:function(e){p()?e&&l.run(e):e&&d.on("shown.bs.modal",e)},onModalJsComplete:function(e){e&&d.on("modal.js.complete",e)},open:function(s,h,f,p,y,b,w){const x=this;b=!!n.isBoolean(b)&&b,w=!!n.isBoolean(w)&&w;const C=function(){e.get(s,h||{},(function(e,t,n){const i=function(){p&&(o.registerModalLoadCallback(p),l.run((function(){p(e,t,n)})))};"json"===f&&e.error?(r.showText(e.error),l.run(i)):(u.setInnerHTML(x.find()[0],e),d=x.find(".modal:not(.modal-generic-flyout)"),w&&v(),b?("true",d&&d.attr("data-opened-in-background","true"),l.run(g,i)):(x.show((function(){a.update(d.find(".modal-scroll-wrapper")),w&&m(),c.lockKeyboardShortcuts(),x.onHide((function(){c.unlockKeyboardShortcuts();const e=x.focusElementOnHide();e&&setTimeout((function(){e()}),0),x.focusElementOnHide(null)}))})),l.run(A,g,i)))}),f||"*").fail((function(e){r.showText(e.responseText||t.I18n.get("error.action.modal.request.failed"))})).always((function(){y&&y(),i.done()}))};i.start(),w?(e(".modal-backdrop").remove(),C()):this.hide(C)},refresh:function(t,n){var i=this;e(".modal-backdrop").remove(),u.setInnerHTML(i.find()[0],t),d=i.find(".modal:not(.modal-generic-flyout)"),v(),i.show(m),l.run(A,g,n)},openFromHTML:function(t,n){var r=this,a=function(){n&&(o.registerModalLoadCallback(n),l.run(n)),i.done()};i.start(),this.hide((function(){e(".modal-backdrop").remove(),u.setInnerHTML(r.find()[0],t),d=r.find(".modal:not(.modal-generic-flyout)"),r.show(),l.run(A,g,a)}))},onHide:function(e){f()&&d.on("hide.bs.modal",e)},onHidden:function(e){f()&&d.on("hidden.bs.modal",e)},focusElementOnHide:function(t){var n="cs.modal.focusElementOnHide";if(void 0===t)return h.data(n);var i=e(t);if(i.parents(".modal").length>0)return y.focusElementOnHide(null);var r=function(){i.focus()},o=i.parent().closest(".dropdown, .asset-context-menu");if(o.length>0)if(o.hasClass("asset-context-menu")){var a=e("[aria-describedby='"+o.attr("id")+"']"),s=i.attr("data-action");r=function(){setTimeout((function(){a.trigger("popover.show"),a.one("shown.bs.popover",(function(){o.find("[data-action='"+s+"']").focus()}))}),250)}}else if(o.hasClass("dropdown")){var l=o.children("[data-toggle='dropdown']");r=function(){o.hasClass("open")||l.dropdown("toggle"),i.focus()}}h.data(n,r)},disableTabFocus:function(){e("#ajax-modal").find(".modal").attr("tabindex","")},enableTabFocus:function(){e("#ajax-modal").find(".modal").attr("tabindex","-1").modal("enforceFocus")},deferIfBackgroundModal:function(e){d&&d.attr("data-opened-in-background")?y.onShown(e):e()}};return y}.apply(t,i))||(e.exports=r)},3718:function(e,t,n){var i,r;i=[n(37549),n(93541),n(12596),n(10861),n(93660)],void 0===(r=function(e,t,n,i,r){var o=r.default.absolutePath("/ajax/loadAssetStats.act");return{init:function(){var r=t.Variables.get("domId"),a=t.Variables.get("domType");e(".analytics-intervals button").click((function(){var i=t.UI.disableButton(this);n.focusElementOnHide(this),n.open(o,{id:r,type:a,interval:e(this).attr("data-interval")},null,null,i)})),i.INTEGRATION.trackModalOpenedEvent("Analytics")}}}.apply(t,i))||(e.exports=r)},2181:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(12596),n(10861),n(12993)],void 0===(r=function(e,t,i,r,o,a){var s=a.get("selectedAssetWithRemove");return{init:function(){var t=n(24819),a=e('input[name="inheritWorkflowDefinitionsStr"]');a.change((function(){e("#inherited-workflows").toggleClass("hidden","no"===a.filter(":checked").val())})),i.init(e("#inherited-workflows table"),(function(){e(this).DataTable().rows().data().length}),{dom:"lrtp"});var l=r.find("form");l.on("click",".asset-remove",(function(){var t=e(this).data("asset-id");e("#workflow-definition-"+t).remove()})),l.on("submit.cs.chooser.panel",".asset-chooser",(function(){var n=e(this),i=n.data("cs.chooser")||n.assetChooser().data("cs.chooser"),r=i.getAssetFromChosen();i.clear(),function(n){if(!(e("#workflow-definition-"+n.id).length>0)){var i=e('<div id="workflow-definition-'+n.id+'" class="assigned-workflowdefinition"/>'),r=s({selectedAsset:n,formFieldName:"workflowDefinition",AssetLinkRenderer:t,renderOptions:{showPath:!0,showSite:!0}});i.html(r),e("#assigned-workflowdefinitions").append(i)}}(r)})),o.COLLABORATION.trackModalOpenedEvent("Assign Workflows")}}}.apply(t,i))||(e.exports=r)},34786:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(16412),n(24819),n(80471),n(50384),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s){var l,c,u,d,h,f=function(){l&&l.ajax.reload()},p=function(){A(),f()},A=function(){var e=d[0]._flatpickr,t=h[0]._flatpickr;e&&t&&(t.set("minDate",e.selectedDates[0]),t.set("maxDate",new Date),e.set("maxDate",t.selectedDates[0]||new Date))};return{init:function(n,g){var m,v={id:n,type:g},y=i.find("table");(c=e("#startDateText")).data("original-value",c.val()),d=c.closest(".date"),u=e("#endDateText"),h=u.closest(".date"),A(),(m=i.find()).find("#auditAction").on("change",f),m.find("#reset-filters").on("click",(function(){c.val(c.data("original-value")),u.val(""),e("#auditAction")[0].selectize.setValue(""),f()})),m.find(".date").off("dp.change",p).on("dp.change",p),l=a.init(y,null,{serverSide:!0,lengthMenu:[[10,20,30,50],[10,20,30,50]],order:[[1,"desc"]],ajax:{url:s.default.absolutePath("/ajax/getaudits.act"),type:"GET",data:function(t){return e.extend({},t,{id:v.id,type:v.type,auditAction:e("#auditAction").val(),startDateText:e("#startDateText").val(),endDateText:e("#endDateText").val()})}},columns:[{data:null,render:function(e,n,i,o){return null!=e.originalId?r.render(e.originalId,{showIcon:!1,hoverable:!1})+t.I18n.get("common.words.as")+" "+r.render(e.user,{showIcon:!1,hoverable:!1}):r.render(e.user,{showIcon:!1,hoverable:!1})}},{data:null,render:function(e,t,n,i){return"display"===t||"filter"===t?o.render(e.time):e.time}},{data:null,render:function(e,t,n,i){return e.action}},{data:null,orderable:!1,render:function(e,t,n,i){return e.info}}]})}}}.apply(t,i))||(e.exports=r)},36958:function(e,t,n){var i,r;i=[n(37549),n(93541),n(16412),n(50384),n(24819),n(80471),n(10861),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s){var l;return{init:function(){var e={ajax:{url:s.default.absolutePath("/ajax/getDrafts.act",{maxSize:"unlimited",id:s.default.getUrlParameter(null,"id")}),dataSrc:"drafts"},order:[[2,"desc"]],rowId:"id",columns:[{data:"tOrDN",render:function(e,n,i,o){if("display"===n){var a=r.render(i,{});return""===e&&(a+="("+t.Variables.get("title.untitled.drafts")+")"),a}return e}},{data:"modified",render:function(e,t,n,i){return"display"===t?o.render(e):e}}]};l=i.init(n.find("#drafts-table"),null,e),n.find("#delete-selection").on("click",(function(){var e=t.UI.disableButton(this),n=i.getSelectedAssets(l),r=1===n.selectedIds.length?t.I18n.get("prompt.multiop.confirm.delete.single"):t.I18n.get("prompt.multiop.confirm.delete").replace(/\{0\}/,n.selectedIds.length);confirm(r)?i.performMultiOp(s.default.absolutePath("/ajax/multisubmit/deleteDrafts.act"),n,l,(function(){a.CONTENT.trackModalEvent("Drafts","Discarded Drafts",{numberOfRows:n.selectedIds.length})}),e):e()})),a.CONTENT.trackModalOpenedEvent("Drafts")}}}.apply(t,i))||(e.exports=r)},11285:function(e,t,n){var i,r;i=[n(37549),n(10776),n(10861),n(93660),n(65216)],void 0===(r=function(e,t,n,i){var r=i.default.absolutePath("/ajax/getEffectiveAbilities.act");return{init:function(i){var o=e("#effective-abilities");e("#effective-abilities-select")[0].selectize.on("change",(function(){t.start();var n={userId:i,siteId:this.getValue()};e.get(r,n,(function(e){o.html(e),t.done()}))})),n.PERMISSIONS.trackModalOpenedEvent("Effective Abilities")}}}.apply(t,i))||(e.exports=r)},99168:function(e,t,n){var i,r;i=[n(37549),n(93541),n(16412),n(10776),n(14741),n(10861),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){var s=function(t,o){e.get(a.default.absolutePath("/ajax/siteExportAvailable.act"),{tempFileName:o},(function(e){e.error?(i.done(),r.showHtml(e.error,{type:"danger"})):e.ready?(i.done(),document.location=t,n.hide()):setTimeout((function(){s(t,o)}),5e3)}),"json")};return{init:function(l){n.find(".primary").on("click",(function(){var c=e(this);i.start(),e.get(a.default.absolutePath("/entity/submitexportsite.act"),{id:l},(function(e){e.error?r.showHtml(jsonResponse.error,{type:"danger"}):(n.find(".modal-body").html("<p>"+e.success+"</p>"),c.parent().hide(),c.parent().prev().find("span.button-text").text(t.I18n.get("label.close")),o.SITE.trackModalEvent("Site Export","Requested Download"),s(e.downloadUrl,e.tempFileName))}),"json")})),o.SITE.trackModalOpenedEvent("Site Export")}}}.apply(t,i))||(e.exports=r)},43200:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(16412),n(12596),n(99274),n(59251),n(14741),n(90657),n(53376),n(35639),n(64486)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d){var h,f={},p=function(){c.clearReadyToSubmitTimers(f),f={}},A=function(){var e=i.find("#startDateText").closest(".date"),t=e.length?e[0]._flatpickr:null,n=t?t.selectedDates[0]:null,r=!!n&&new Date<n;i.find(".publishable-normal-label, .indexable-normal-label").toggleClass("hide",r),i.find(".publish-at-start-date-label, .index-at-start-date-label").toggleClass("hide",!r)};return{init:function(r){var g=i.find("form"),m=i.find("#submit-advanced");r=r||t.Variables.get("domType"),e("#save-draft-link").click((function(){return p(),h.submitAsDraft(),!1})),g.on("cs.draft.discard",(function(e,t){t.success?(h.hideOverwriteMessage(),s.showText(t.success,{type:"success"})):s.showText(t.error,{type:"danger"})})),l.default.init(m,!0),m.on({"hide.bs.dropdown":function(){p(),h.startAutosave()},"show.bs.dropdown":function(){var e=function(){m.trigger("cs.loadsavedropdown")};m.trigger("cs.preloadsavedropdown"),h.hideValidationError(),h.stopAutosave(),f=c.executeWhenFormReadyToSubmit((function(){h.submitAsDraft({background:!0,successCallback:e,failureCallback:e})}))}}),A(),g.on("dp.change",".date",(function(t){e(t.target).find("#startDateText").length&&A()})),u.initForSystemName(),d.default.init(),g.attr("data-disable-draft")||n.debounce((function(){a.initForDraftEnabled(),h=o.default.init(),i.onHidden((function(){p(),h.stopAutosave()}))}),1)()},find:i.find,onShown:i.onShown,onHide:i.onHide,togglePublishableAndIndexableLabels:A}}.apply(t,i))||(e.exports=r)},82691:function(e,t,n){var i,r;i=[n(37549),n(74663),n(92648),n(65872),n(84551),n(53376),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){var s=null,l=null;i.add("?","Bring up this help dialog",(function(){c()?(u(),o.toggleFormButtonsOn(l),s.modal("toggle")):d()}));var c=function(){return!n.isNull(s)},u=function(){s.find("#keyboardShortcutsEnabled").prop("checked",i.isUserShortcutsEnabled()).trigger("change")},d=function(){var n={id:t.get("domId"),type:t.get("domType")};e.get(a.default.absolutePath("/ajax/keyboardShortcutsModal.act"),n,(function(e){h(e)}))},h=function(t){l=e(t).appendTo("body");var n=(s=l.children(".modal")).find("#keyboardShortcutsEnabled"),a=e("#additional-shortcuts");l.attr("data-ajax-submit","true"),o.addSuccessCallback(l,(function(){s.modal("hide"),n.is(":checked")?i.enableUserShortcuts():i.disableUserShortcuts()})),o.bind(s),n.on("change",(function(){a.toggleClass("hide",!this.checked)})),r.enable(s.find(".modal-scroll-wrapper")),s.modal("toggle")}}.apply(t,i))||(e.exports=r)},73882:function(e,t,n){var i,r;i=[n(37549),n(93541),n(16412),n(24819),n(80471),n(10861),n(50384),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s){var l;return{init:function(e,c){var u=n.find("table");l=a.init(u,null,{ajax:{url:s.default.absolutePath("/ajax/getLockedAssets.act",{id:e,type:c}),dataSrc:function(e){return e.lockedAssets||[]}},order:[[2,"desc"]],rowId:"id",columns:[{data:null,render:function(e,t,n,r){return e.label=e.path,e.tOrDN&&e.tOrDN===e.label&&(e.label=""),i.render(e,{showIcon:!1,hoverable:!1})}},{data:null,render:function(e,t,n,o){return"display"===t?r.render(e.lockedOn)+" by "+i.render({id:e.lockedBy,label:e.lockedBy,type:"user"},{hoverable:!1}):e.lockedOn+e.lockedBy}}],dom:'t<"pull-left"l>p<"clearfix">'}),n.find("#break-lock-selection").on("click",(function(){var e=t.UI.disableButton(this),n=a.getSelectedAssets(l);a.performMultiOp(s.default.absolutePath("/ajax/multisubmit/breaklock.act"),n,l,(function(){o.COLLABORATION.trackModalEvent("Locks","Broke Locks",{numberOfRows:n.selectedIds.length})}),e)})),o.COLLABORATION.trackModalOpenedEvent("Locks")}}}.apply(t,i))||(e.exports=r)},43259:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(12596),n(16412),n(12993),n(53376)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},6367:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(12596),n(16412),n(12993),n(70346),n(50384),n(53376),n(10861),n(29840)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u){var d=o.get("publishSelectionSummary"),h=o.get("publishSelectionSummaryForPage"),f=o.get("unpublishSelectionSummary"),p=o.get("unpublishSelectionSummaryForPage"),A="publishSettingsShouldExpand";function g(e){var t=i.find("#outputs-table"),r={};return n.forEach(t.DataTable().rows({selected:!0}).data(),(function(n){var i=t.find("tr#"+n.DT_RowId),o=i.attr("data-enabled-destinations")||"";!e&&o.length||(r[n.DT_RowId]={name:i.attr("data-output-name"),enabledDestinations:o.split(",")})})),r}function m(e){void 0!==e&&i.find("#publish-settings").find(".title").text(e.hasClass("collapsed")?t.I18n.get("label.publish.settings.view"):t.I18n.get("label.publish.settings.hide"))}function v(){return i.find("#destinations-summary").length}function y(){const e=i.find("#nextPublishDateText, #nextUnpublishDateText");if(!e.length)return;const r=""===n.trim(e.val()),o=i.find("#primary-submit").find(".button-text ");v()?o.text(r?t.I18n.get("prompt.publish"):t.I18n.get("label.schedule.publish")):o.text(r?t.I18n.get("label.unpublish.now"):t.I18n.get("label.schedule.unpublish"))}function b(e){var r="",o=g(!0),a=function(){var e=i.find("#destinations-table"),t={};return n.forEach(e.DataTable().rows({selected:!0}).data(),(function(n){var i=e.find("tr#"+n.DT_RowId);t[n.DT_RowId]={name:i.attr("data-destination-name"),path:i.attr("data-destination-path")}})),t}(),s=function(){var e=i.find("#connectors-table"),t=[];return n.forEach(e.DataTable().rows().data(),(function(n){var i=e.find("tr#"+n.DT_RowId);t.push({name:i.attr("data-connector-name"),type:i.attr("data-connector-type")})})),t}(),l=function(e){var t=g(!1);return n.filter(t,(function(t){if(!t.enabledDestinations.length)return!1;for(var n=0;n<t.enabledDestinations.length;n++)if(e[t.enabledDestinations[n]])return!0;return!1}))}(a);n.forEach(l,(function(e){e.enabledDestinationPaths=[];for(var t=0;t<e.enabledDestinations.length;t++){var n=a[e.enabledDestinations[t]];n&&e.enabledDestinationPaths.push(n.path)}})),v()?(r="page"===e&&t.Variables.get("currentSiteId")?h({i18n:t.I18n,connectors:s,destinations:n.map(a,"path"),outputs:n.map(o,"name"),outputsWithEnabledDestinations:l,relatedContent:i.find("#includePublishRelatedContent").is(":checked"),scheduledDate:i.find("#nextPublishDateText").val()||""}):d({i18n:t.I18n,destinations:n.map(a,"path"),relatedContent:i.find("#includePublishRelatedContent").is(":checked"),scheduledDate:i.find("#nextPublishDateText").val()||""}),i.find("#publish-summary").find(".asset-link").toggleClass("hide",""===r),i.find("#destinations-summary").html(r)):(r="page"===e&&t.Variables.get("currentSiteId")?p({i18n:t.I18n,connectors:s,destinations:n.map(a,"path"),outputs:n.map(o,"name"),outputsWithEnabledDestinations:l,scheduledDate:i.find("#nextUnpublishDateText").val()||""}):f({i18n:t.I18n,destinations:n.map(a,"path"),connectors:s,scheduledDate:i.find("#nextUnpublishDateText").val()||""}),i.find("#unpublish-summary").html(r))}return{init:function(o){var d={dom:"rti",ordering:!1,pageLength:-1},h=i.find("form"),f=i.find("#publish-settings-header");if(s.init(i.find("#destinations-table"),null,d),s.init(i.find("#outputs-table"),null,d),s.init(i.find("#connectors-table"),null,d),i.find("#destinations-table, #outputs-table, #connectors-table").DataTable().on("selectAllRows",(function(){b(o)})).on("deselectAllRows",(function(){b(o)})).on("deselect",(function(e,t,n,i){b(o)})).on("select",(function(e,t,n,i){b(o)})),i.find("#nextPublishDateText, #nextUnpublishDateText").on("input",(function(t){!function(t){const r=""===n.trim(t),o=i.find("#includePublishRelatedContent"),a=i.find("#includeContentTypePublishSet");r||(o.prop("checked",!1),a.prop("checked",!1)),e("#publish-content-type-publish-set").toggleClass("hide",!r),e("#publish-related-content").toggleClass("hide",!r)}(this.value),y(),b(o)})),!v()){var p=i.find("#unpublish-selections"),g=i.find(".js-toggle-unpublish-selection");g.on("change",(function(){p.toggleClass("hide",g.filter(":checked").length<1),i.find("#"+this.getAttribute("data-for")).toggleClass("hide",!this.checked)}))}b(o),y(),i.find("#includePublishRelatedContent").on("change",b),a.init(),"true"===u.get(A)&&i.find("#publish-settings-body").collapse("show"),i.find().off("shown.bs.collapse hidden.bs.collapse"),i.find().on("shown.bs.collapse hidden.bs.collapse",(function(){u.set(A,(!f.hasClass("collapsed")).toString(),{expires:1e4}),m(f)})),i.find().off("shown.bs.modal"),i.find().on("shown.bs.modal",(function(){m(f)})),l.addSuccessCallback(h,(function(n){t.Variables.get("domId")===t.Variables.get("modalDomId")&&""===i.find("#nextPublishDateText, #nextUnpublishDateText").val()&&e(".scheduled-publish-message").remove(),i.find("#includePublishRelatedContent").is(":checked")&&(c.PUBLISHING.trackModalEvent("Publish","Published Related Content"),r.openFromHTML(n))}))},show:r.show}}.apply(t,i))||(e.exports=r)},73710:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(60629)],void 0===(r=function(e,t,n,i){return{init:function(){var r=n.getStandardFormForModal();r.attr("data-ajax-submit","true"),i.init(),e("#skip-workflow-link").on("click",(function(e){var i=t.UI.disableButton(this);r.attr("action",this.dataset.action),n.addFailureCallback(r,i),n.submitStandardForm(r)}))}}}.apply(t,i))||(e.exports=r)},76229:function(e,t,n){var i,r;i=[n(37549),n(43200),n(51517),n(69651),n(10181),n(26742),n(78906)],void 0===(r=function(e,t,n,i,r,o,a){return{init:function(e){t.init(e),t.onShown((function(){var e=o.getStandardFormForModal();e.length&&a.enableTrackingOnElement(e[0],(function(){r.initializeVisibleFields()}))})),t.onHide((function(){i.deactivateWysiwygs(t.find())}))},find:t.find}}.apply(t,i))||(e.exports=r)},52283:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(16412),n(24819),n(10861),n(50384),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=s.default.absolutePath("/ajax/getAssetsByTag.act");return{init:function(t,s){var c,u={tagName:t,siteId:s},d=i.find("table");c={ajax:{url:l+"?"+e.param(u),dataSrc:"matchingAssets"},select:!1,multiop:!1,columns:[{render:function(e,t,n){return"display"===t?r.render(n,{hoverable:!1}):n.label}},{data:"tags",render:function(e){var t="";return n.forEach(e,(function(e){t+='<span class="no-text-breaks"><i class="ci ci-tag" role="img" aria-hidden="true"></i>'+e+" </span>"})),t}}]},a.init(d,null,c),o.CONTENT.trackModalOpenedEvent("Tag Usage")}}}.apply(t,i))||(e.exports=r)},25495:function(e,t,n){var i,r;i=[n(37549),n(10776),n(16412),n(10861),n(89152),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a=o.default.absolutePath("/ajax/diagnostic/submittestconnectivity.act");return{init:function(o,s){var l={id:o,type:s};n.find(".primary").on("click",(function(o){var c=e(this);o.preventDefault(),t.start(),r.disableClicking(this),"destination"===s&&(l.numberFiles=n.find("[name=numberFiles]:checked").val(),l.sizeOfFiles=n.find("[name=sizeOfFiles]:checked").val()),e.get(a,l,(function(e){t.done(),i.PUBLISHING.trackModalEvent("Test Connectivity","Viewed Test Results"),c.parent().hide(),n.find(".form-section").html(e)}))})),i.PUBLISHING.trackModalOpenedEvent("Test Connectivity")}}}.apply(t,i))||(e.exports=r)},58301:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(16412),n(24819),n(80471),n(10861),n(50384),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c,u=function(e,t,n,r){var o=i.find(".selected-asset-actions").find(".selected-action-single");1==t.rows({selected:!0}).indexes().length&&o.each((function(){this.href=this.getAttribute("data-href").replace(/VERSION_ID/,t.rows(r).ids()[0])}))};return{init:function(e,d){var h={id:e,type:d},f=i.find("table"),p=[{width:"45%",data:null,render:function(e,t,n,i){return'<small class="text-muted">v'+(i.settings.json.versions.length-i.row)+"</small>"+r.render(e,{showIcon:!1,hoverable:!1})}},{width:"50%",data:null,render:function(e,t,n,i){var a=o.render(e.lastModifiedOn);return(a+=' <br/><span class="text-muted">by</span> ')+r.render(e.lastModifiedBy,{hoverable:!1})}}];4==f.find("th").length&&(p[0].width="25%",p[1].width="30%",p.push({width:"40%",data:function(e,t,i,r){return n.escape(e.versionComment)}})),c=s.init(f,null,{ajax:{url:l.default.absolutePath("/ajax/getAssetVersions.act",h),dataSrc:"versions"},ordering:!1,rowId:"id",columns:p}),t.Variables.get("userCanDeleteVersions")&&(c.on("select",u).on("deselect",u),i.find("#delete-selection").on("click",(function(){var e=t.UI.disableButton(this),n=s.getSelectedAssets(c),i=n.selectedIds.length,r={selectedIds:n.selectedIds,type:d},o=1===i?t.I18n.get("prompt.multiop.confirm.deleteversion.single"):t.I18n.get("prompt.multiop.confirm.deleteversion").replace(/\{0\}/,i);confirm(o)?s.performMultiOp(l.default.absolutePath("/ajax/multisubmit/deleteversions.act"),r,c,(function(){a.CONTENT.trackModalEvent("Versions","Deleted Versions",{numberOfRows:i})}),e):e()}))),a.CONTENT.trackModalOpenedEvent("Versions")}}}.apply(t,i))||(e.exports=r)},30035:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(73262),n(16412),n(35639),n(53376),n(89152)],void 0===(r=function(e,t,n,i,r,o,a,s){return{init:function(n,l,c){var u=r.find("form"),d=r.find("#primary-submit"),h=r.find("#unpublish-settings");h.toggleClass("hide",u.find(".doWorkflow").prop("checked")),u.on("submit.cs.chooser.panel","#chooser-parentContainerId",(function(){u.find(".validationError").addClass("hide");var t=e(this).data("cs.chooser").getAssetFromChosen();i.refresh({id:t.id,type:t.type},c)})),u.on("cs.noworkflowsavailable",(function(){var e=u.find(".validationError");if("false"===u.find("[name=bypassWorkflows]").val()&&"true"===u.find("[name=workflowRequired]").val()){s.disableClicking(d[0]);var n=u.find("#chooser-parentContainerId").length?"error.folder.no.workflows.available":"message.save.disabled.user.cannot.bypass.workflow";e.text(t.I18n.get(n)).removeClass("hide")}else s.enableClicking(d[0]),d.text(t.I18n.get("prompt."+c));h.addClass("hide")})),u.on("cs.workflowsavailable",(function(){s.enableClicking(d[0]),h.removeClass("hide")})),u.on("cs.doworkflowtoggleon",(function(){d.text(t.I18n.get("label.start.workflow")),h.addClass("hide")})),u.on("cs.doworkflowtoggleoff",(function(){d.text(t.I18n.get("prompt."+c)),h.removeClass("hide")})),i.init(u,n,l,c),o.initForSystemName(),a.addSuccessCallback(u,(function(e){r.openFromHTML(e)}))}}}.apply(t,i))||(e.exports=r)},39204:function(e,t,n){var i,r;i=[n(37549),n(93541),n(16412),n(10861),n(50384)],void 0===(r=function(e,t,n,i,r){return{init:function(){n.find("table").each((function(){r.init(e(this))})),i.COLLABORATION.trackModalOpenedEvent("Workflows")}}}.apply(t,i))||(e.exports=r)},35639:function(e,t,n){var i,r;i=[n(37549),n(16412),n(95513),n(93660),n(26340)],void 0===(r=function(e,t,n,i,r){var o=function(t,n,r,o){t.length&&e.ajax({url:i.default.absolutePath("/ajax/getNamingRules.act"),data:{siteId:n,type:r},dataType:"json",success:function(e){t.prev(".help-block").text(e.helpText),t.attr({"data-rule-namingrule":e.shouldFollowNamingRule,"data-rule-namingrulesiteid":n}).valid(),o&&o(e)}})},a=function(){var i=n.getChooserFromElement(e(this)).getAssetFromChosen(),a=t.find('[name="type"]').val();t.find('[name="isReference"]').val()&&(a="reference"),i&&i.siteId&&a&&o(e(r.default.get().fieldElement),i.siteId,a)};return{initForSystemName:function(){t.find().off("submit.cs.chooser.panel","#chooser-parentContainerId, #chooser-parentFolderId",a).on("submit.cs.chooser.panel","#chooser-parentContainerId, #chooser-parentFolderId",a)},populateNamingRuleHelpText:o}}.apply(t,i))||(e.exports=r)},44709:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(26742),n(93660),n(12993),n(12596),n(94917),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c,u=r.default.absolutePath("/ajax/start.act"),d=e("#add-new-flyout"),h=e("#new-menu-content"),f=e("#asset-factory-search-input"),p=o.get("newMenu"),A=o.get("newMenuContainer"),g=o.get("filterMenuContainer"),m=[],v=function(e){return A({outputContainer:v,addAssetFactory:y,container:e,i18n:t.I18n})},y=function(e){m.push(e)};s.init(d,{onShow:function(){var o=t.Variables.get("currentSiteId","");d.hasClass("loading")||d.hasClass("loaded")||(d.addClass("loading"),h.html('<i class="ci ci-fw ci-loading flyout-content-loader" aria-describedby="cascade-loading" role="img"></i>'),h.on("shown.newmenu.container",".asset-factory-container",(function(){e(this).find("button:first").focus()})),h.on("click",".asset-factory-parent",(function(){var t=e(this),n=e("#"+t.data("child-container"));t.closest(".asset-factory-container").removeClass("is-shown"),c=n.addClass("is-shown").trigger("shown.newmenu.container")})),h.on("click",".asset-factory-link",(function(){var i=e(this),r=t.UI.disableButton(this),o=i.data("id"),s=t.Variables.get("currentSiteId");l.CONTENT.trackEvent("Clicked Add Content Asset Factory",{siteId:s,id:o,type:i.data("type"),name:i.data("name"),description:n.truncate(this.title,{length:200})}),a.focusElementOnHide(i),function(e,n,i){var r={afId:e,highlightedAssetId:t.Variables.get("highlightedAssetId"),siteId:n||""};a.open(u,r,null,null,i)}(o,s,r)})),h.on("click",".back-link",(function(){var t=e(this).parents(".asset-factory-container"),n=e("#"+t.data("parent"));t.removeClass("is-shown"),c=n.addClass("is-shown").trigger("shown.newmenu.container")})),h.on("click",".filter-back-link",(function(){var t=e(this).parents(".asset-factory-container");c.addClass("is-shown").trigger("shown.newmenu.container"),t.removeClass("is-shown"),f.val("")})),f.on("input",n.debounce((function(){var r=e(this),o=e("#"+r.data("child-container")),a=r.val().toLowerCase();a?(e("#filtered-asset-factories-results").html(function(e,n){return g({results:e,i18n:t.I18n,searchValue:n})}(n.filter(m,(function(e){return e.name.toLowerCase().indexOf(a)>-1||e.description&&e.description.toLowerCase().indexOf(a)>-1?(e.filterName=i.highlight(e.name,a),e.filterDescription=i.highlight(e.description,a),!0):(e.filterName=e.name,e.filterDescription=e.description,!1)})),a)),o.addClass("is-shown"),c.removeClass("is-shown")):(c.addClass("is-shown"),o.removeClass("is-shown"))}),250)),d.on("loaded.cs.flyout",(function(){f.trigger("change")})),e.get(r.default.absolutePath("/ajax/newMenu.act",{siteId:o}),{},(function(e){h.html(p({rootContainer:e.rootContainer,error:e.error,outputContainer:v,i18n:t.I18n})),c=h.find(".asset-factory-container").first()})).fail((function(e,n,i){h.html(p({error:t.I18n.get("error.new.menu.loading")+i}))})).always((function(){d.toggleClass("loading loaded").trigger("loaded.cs.flyout")})))},onShown:function(){f.focus(),l.CONTENT.trackEvent("Opened Add Content")},keyboardShortcut:"+"})}.apply(t,i))||(e.exports=r)},14741:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(29840),n(26347),n(24819),n(93660),n(26742),n(55640)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=Number(t.Variables.get("userNotificationDuration")),c={type:"warning",showProgressbar:!0,mouse_over:"pause",position:"fixed",placement:{from:"bottom",align:"center"},offset:{x:10,y:10},element:"#notifications",z_index:99999},u=function(t,i){var r;h(t)||f(t)||(i=e.extend(!0,{},c,i||{}),n.isObject(t)&&n.has(t,"status")&&(i.type=t.status),n.isString(t)&&(t={message:t}),d(t,i),n.isNumber(i.type)&&(i.type=0===(r=i.type)?"success":1===r?"info":"warning"),e.notify(t,i))},d=function(e,t){var i=t.delay;n.isNumber(i)||(i=function(e){var t,n,i=document.createElement("div");return i.innerHTML=e,n=i.textContent.length/5/180*60*1e3,(t=Math.floor(1500+n))<8e3?t:8e3}(e.message)),t.delay=i*l},h=function(e){return n.isString(e)&&n.isEmpty(e)},f=function(e){return n.isObject(e)&&n.isEmpty(e.message)},p={show:u,showHtml:u,showFromJsonResponse:function(e){const t=s.getJsonResponseStatus(e);u(t.message,{type:t.status})},showText:function(e,t){u(n.escape(e),t)},showError:function(e){u(e,{type:"danger"})},register:function(e){i.set("message",e)},registerAndReload:function(e){this.register(e),location.reload()},registerAndNavigate:function(e,t){this.register(t),location.href=e},getMessage:function(){var e=i.getJSON("message");return e&&i.remove("message"),e},init:function(){r.listenTo("NOTIFICATION",(function(t){var n=t.notificationId;u({message:t.message,title:t.subject},{type:t.urgency,onClose:function(){e.post(a.default.absolutePath("/ajax/multisubmit/marknotifications.act",{read:!0}),{"selectedTypes[]":"message","selectedIds[]":n})}})})),r.listenTo("REPORT",(function(e){u(e.message+'<br/><a href="'+a.default.absolutePath("/notifications.act")+'">See full report in Notifications area</a>')})),r.listenTo("WEB_SOCKET_ONLY_NOTIFICATION",(function(t){try{var n=e("<div>"+t.message+"</div>"),i=n.find("[data-avatar]");if(i.length){var r=e(o.render(i.data("avatar"),{showLabel:!1}));i.prepend(r)}t.message=n.html()}catch(e){}u(t.message)}))},close:function(t){var n,i=e(t);if("container"===i.attr("data-notify"))n=i;else{var r=i.parents("[data-notify=container]");r.length&&(n=r)}n&&n.find('[data-notify="dismiss"]').trigger("click")}},A=p.getMessage();A&&p.showHtml(A.message,{type:A.status});var g=e("#messages").find(".alert");return g.length&&g.each((function(){var t=e(this),n=this.className.match(/alert-([^\s]+)/);p.showHtml(t.html(),{type:n[1]})})),p}.apply(t,i))||(e.exports=r)},88351:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(53376),n(78751)],void 0===(r=function(e,t,n,i){var r=function(e,i,r,o){var a=e.find("."+i+"Where");a.toggle(!t.isEmpty(r)),a.find("i").attr("class","ci ci-"+r),a.find("span").text(n.I18n.get("asset.type."+r)),e.toggleClass("border-right border-warning",o)};return{initialize:function(){var n=i.getStandardFormForModal();n.on("change",".page-regions input.region-override-checkbox",(function(){var t=e(this).parents("tr"),n=t.find(".asset-chooser"),i=n.data("cs.chooser")||n.assetChooser().data("cs.chooser"),o=t.data("origin"),a=t.find("."+i.options.type+"Where").data("original-origin"),s=this.checked||i.isEmpty()?"empty":i.getAssetFromChosen().id,l=this.checked||!i.isClean()?o:a;i[this.checked?"disable":"enable"](),i.ui.$fieldId.val(s),r(t,i.options.type,l,!!this.checked||!i.isClean())})),n.on("submit.cs.chooser.panel",".page-regions .asset-chooser",(function(){var t=e(this),n=t.parents("tr"),i=t.data("cs.chooser"),o=n.data("origin");r(n,i.options.type,o,!i.isClean()),i.enableClearButton()})),n.on("clear.cs.chooser.asset",".page-regions .asset-chooser",(function(n){n.preventDefault();var i=e(this),o=i.parents("tr"),a=i.data("cs.chooser"),s=o.data("output-id"),l=o.data("region-id"),c=(o.data("origin"),t.capitalize(a.options.type)),u=document.getElementById("prev"+c+"Id"+s+"r"+l),d=document.getElementById("prev"+c+"Where"+s+"r"+l);u.value?(a.loadAndSetChosen(u.value,a.options.type),a.disableClearButton()):a.setChosen(null),r(o,a.options.type,d.value,!a.isClean())}))}}}.apply(t,i))||(e.exports=r)},80471:function(e,t,n){var i,r;i=[n(92648),n(2826),n(93541),n(12993),n(80740)],void 0===(r=function(e,t,n,i){var r=i.get("relativeTime"),o=getTimeZone();t.defineLocale("en-cascade-relative-time",{parentLocale:"en",calendar:{lastDay:"["+n.I18n.get("common.word.yesterday")+"] LT",sameDay:"["+n.I18n.get("common.word.today")+"] LT",nextDay:"MMM D, YYYY LT",lastWeek:"MMM D LT",nextWeek:"MMM D, YYYY LT",sameElse:function(e){return this.isAfter(e)||this.diff(e,"years")<0?"MMM D, YYYY LT":"MMM D LT"}}});var a=function(e,n){return t(e).utcOffset(o).format(n||"llll")};return{render:function(e){var n=t(e).utcOffset(o);return n.locale("en-cascade-relative-time"),r({title:n.format("llll"),isoDate:n.format(),label:n.calendar()})},renderPlain:function(e){return e?a(e)+" ("+t(e).fromNow()+")":n.I18n.get("common.words.never")},renderFormatted:a}}.apply(t,i))||(e.exports=r)},41089:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(60226),n(95735),n(24819),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){var s=a.default.absolutePath("/ajax/chooser/loadRoleChooserPanel.act?"),l=a.default.absolutePath("/ajax/getAvailableRoles.act"),c=e(document),u=function(e,t){return i.call(this,e,t),this.setChosen(this.options.originalChosen),this.$elem.trigger("init.cs.chooser.role"),this};return(u.prototype=t.create(i.prototype,{constructor:u,defaults:t.defaultsDeep({},i.prototype.defaults)})).initializePanel=function(){var e=this;i.prototype.initializePanel.call(this,{headingText:this.options.ariaLabel,onSubmit:function(){e.syncPanelTabsToChosen()},openAction:s+(this.options.multiple?"multiple=true":"")}),this.$elem.on("show.cs.chooser.panel",(function(){e.options.multiple&&e.syncTagsToChosen()})),this.$elem.on("loaded.cs.chooser.panel",(function(){e.Panel.find(".nav").hide()})),this.Panel.addTab("#chooser-panel-tab-roles",new r.default("#chooser-panel-tab-roles",{datatables:{ajax:{url:l+(this.options.globalOnly?"?globalOnly=true":this.options.siteOnly?"?siteOnly=true":"")},columns:[{data:null,orderable:!1,render:function(e,t,n,i){var r={type:"role",id:e.id,label:e.label};return o.render(r,{textOnly:!0,hoverable:!1})}}],select:{style:this.options.multiple?"multiple":"single"}}},this.Panel))},e.fn.roleChooser=function(t){return this.each((function(){e.data(this,"cs.chooser")||e.data(this,"cs.chooser",new u(this,t))}))},c.on("click.cs.chooser.role",".role-chooser",t.debounce((function(t){var n=e(this),i=n.data("cs.chooser")||n.roleChooser().data("cs.chooser");i.isPanelLoading()||(i.getPanel()||i.initializePanel(),i.getPanel().open())}),150)),c.on("click.cs.chooser.role",".role-chooser-clear",(function(t){var n=e(this).prev(".role-chooser");(n.data("cs.chooser")||n.roleChooser().data("cs.chooser")).clear()})),c.on("focus.cs.chooser.role",".role-chooser-clear",(function(t){e(this).parent().addClass("focus")})),c.on("blur.cs.chooser.role",".role-chooser-clear",(function(t){e(this).parent().removeClass("focus")})),{init:function(t){(t=t&&t.length?t:e("body")).find(".role-chooser").roleChooser()},_RoleChooser:u}}.apply(t,i))||(e.exports=r)},51384:function(e,t,n){var i;i=function(){return{run:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if("function"==typeof t)try{t()}catch(e){console&&console.log(e.message,"from",e.stack)}}}}}.call(t,n,t,e),void 0===i||(e.exports=i)},54474:function(e,t,n){var i,r;i=[n(37549),n(93541),n(60629)],void 0===(r=function(e,t,n){return{init:function(){var t=e("#scheduling-fequency"),i=e("#destination-selection"),r=e("#scheduled-days"),o=e("#scheduled-hours"),a=e("#scheduled-cron"),s=e(".publish-start-at"),l=e(".starting-at"),c=e(".publish-at"),u=e(".selectable-destination"),d=e("#available-destinations"),h=e("#selectAllDestinations"),f=e("#selectNoneDestinations");e("#cronExpression"),t.on("change",".frequency-option",(function(){var e=t.find("input[name='scheduledPublishingInfo.frequencyOfScheduledPublish']:checked").val();r.toggleClass("in","daysOfWeek"===e),o.toggleClass("in","hourly"===e),a.toggleClass("in","cronExpression"===e),s.toggleClass("hide","cronExpression"===e),l.toggleClass("hide","daily"===e||"daysOfWeek"===e),c.toggleClass("hide","hourly"===e)})),i.on("click",".destination-mode-option",(function(){var e=i.find("input[name='scheduledPublishingInfo.publishToAllOrSelectedDestinationsOption']:checked").val();d.toggleClass("hide","selected-destinations"!==e)})),h.click((function(){u.prop("checked",!0)})),f.click((function(){u.prop("checked",!1)})),n.init()}}}.apply(t,i))||(e.exports=r)},84551:function(e,t,n){var i,r;i=[n(37549),n(24345),n(65343)],void 0===(r=function(e){var t="optiscroll";function n(e){return e.closest("."+t)}function i(e){var i=n(e);return i.length&&i.data(t)||!1}return{enable:function(e){e.hasClass(t)||(e.addClass(t),e.optiscroll({forceScrollbars:!Optiscroll.G.isTouch}))},enableDropdown:function(e){e.slimScroll({height:"auto",size:"7px",touchScrollStep:100})},scrollToInstant:function(e,t){this.scrollTo(e,t,0)},scrollTo:function(e,t,n){var r=i(e);r&&r.scrollTo(0,t,void 0===n?"auto":n)},update:function(e){var t=i(e);t&&t.update()},scrollToView:function(e,t,n){var r=i(e);r&&r.scrollIntoView(t,void 0===n?"auto":n,0)},getScrollTop:function(e){return e.find("."+t+"-content").scrollTop()},findClosestOptiscrollElement:n,attachEventListener:function(e,t,i){n(e).on(t,i)},detachEventListener:function(e,t){n(e).off(t)}}}.apply(t,i))||(e.exports=r)},14225:function(e,t,n){var i,r;i=[n(44709)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},28615:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(20783),n(41089),n(12993),n(60629)],void 0===(r=function(e,t,n,i,r,o,a){var s=o.get("roleAssignmentTags"),l=function(t,n){r._RoleChooser.call(this,t,n);var i=this.ui.$tags.find(".usergroup-chooser"),o=this.ui.$tags.find(".role-chooser");return i.each((function(){e(this).userGroupChooser().data("cs.chooser").updateUI()})),o.each((function(){e(this).roleChooser().data("cs.chooser").updateUI()})),this};(l.prototype=n.create(r._RoleChooser.prototype,{constructor:l,defaults:n.defaultsDeep({subChosen:{}},r._RoleChooser.prototype.defaults)})).initializePanel=function(){r._RoleChooser.prototype.initializePanel.call(this)},l.prototype.updateUI=function(){var r={chosen:n.sortBy(this.options.chosen,"index"),subChosen:this.options.subChosen,fieldName:this.options.fieldName,subFieldName:function(e){return"roleAssignmentInfo.rolesUserGroupInfo["+e+"].visibleAssigned"},I18n:t.I18n};this.ui.$tags.html(this.isEmpty()?"":s(r));var o=this,a=this.ui.$tags.children(".chooser-tag").children(".chooser-tag-header").children(".chooser-tag-remove"),l=this.ui.$tags.find(".chooser");l.userGroupChooser(),this.options.subChosen={},l.each((function(){var t=e(this).data("cs.chooser");t.updateUI(),o.options.subChosen[e(this).attr("id")]=t.getChosen()})),a.on("click",(function(){delete o.options.subChosen[e(this).parents(".chooser-tag").find(".chooser").attr("id")]})),l.on("submit.cs.chooser.panel",(function(){var t=e(this);o.options.subChosen[t.attr("id")]=t.data("cs.chooser").getChosen()})),i.prototype.updateUI.call(this)},e.fn.siteRoleAssignmentChooser=function(t){return this.each((function(){e.data(this,"cs.chooser")||e.data(this,"cs.chooser",new l(this,t))}))},e(document).on("click.cs.chooser.role",".siteroleassignment-chooser",n.debounce((function(t){var n=e(this),i=n.data("cs.chooser")||n.siteRoleAssignmentChooser().data("cs.chooser");i.isPanelLoading()||(i.getPanel()||i.initializePanel(),i.getPanel().open())}),150))}.apply(t,i))||(e.exports=r)},48757:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(84551),n(53941),n(93660),n(65216)],void 0===(r=function(e,t,n,i,r,o){var a=o.default.absolutePath("/ajax/getSwitchableSites.act"),s=null,l=function(t){var n=this;return this.elem=t,this.$elem=e(t),this.loading=!1,this.initialized=!1,this.dropdownField=new r(this.elem),this.dropdownField.addEventHandler("focus",(function(){if(!n.initialized&&!n.loading){if(s)return n._populateDropdown(),void(n.initialized=!0);n._setLoading(!0),e.ajax({url:a,type:"GET",success:function(e){var t;t=e.sites||[],s=t.map((function(e){return{text:e.label,value:e.id}})),n._populateDropdown(),n._setLoading(!1),n.initialized=!0}})}})),this};l.prototype.defaults={},l.prototype._populateDropdown=function(){var e=this.dropdownField.getSelectizeInstance();e.addOption(s),e.refreshOptions(!1),e.$dropdown_content&&i.enableDropdown(e.$dropdown_content)},l.prototype._setLoading=function(e){var t=this.dropdownField.getSelectizeInstance();e?t.$wrapper.addClass("loading"):t.$wrapper.removeClass("loading"),this.loading=e},l.prototype.getSelectedSiteId=function(){return this.dropdownField.getSelectizeInstance().getValue()||this.$elem.data("selected-site-id")},e.fn.siteSelect=function(t){return this.each((function(){e.data(this,"cs.siteSelect")||e.data(this,"cs.siteSelect",new l(this,t))}))}}.apply(t,i))||(e.exports=r)},65086:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(12993),n(26742),n(93660),n(94917),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=o.default.absolutePath("/ajax/getSwitchableSites.act"),c=o.default.absolutePath("/switchSite.act?siteId="),u=[],d=t.Variables.get("currentSiteId",""),h=i.get("siteSwitcherItems"),f=e("#site-switcher-flyout"),p=e("#site-switcher-list"),A=e("#site-switcher-search-input");a.init(f,{onShow:function(){f.hasClass("loading")||f.hasClass("loaded")||(f.addClass("loading"),p.html('<i class="ci ci-fw ci-loading flyout-content-loader" aria-describedby="cascade-loading" role="img"></i>'),A.on("input",n.debounce((function(){var i=e(this).val().toLowerCase().trim(),o=[];f.hasClass("loading")||(o=i.length?n.filter(u,(function(e){return-1!==e.label.toLowerCase().indexOf(i)})):u,p.html(h({sites:o,currentSiteId:d,searchValue:i,highlight:r.highlight,switchSiteAction:c,I18n:t.I18n})))}),250)),f.on("loaded.cs.flyout",(function(){A.trigger("change")})),p.on("click","a",(function(){var t=e(this).data("site-id");t&&s.SITE.trackEvent("Switched to Site",{siteId:t})})),e.get(l,{},(function(e){n.isArray(e.sites)&&!n.isEmpty(e.sites)?(e.sites=function(e){for(var t,n=[],i=[],r=0;r<e.length;r++){var o=e[r];o.id!==d?o.isStarredByUser?n.push(o):i.push(o):t=o}return t?[t].concat(n,i):n.concat(i)}(e.sites),p.html(h({currentSiteId:d,searchValue:"",sites:e.sites,highlight:r.highlight,switchSiteAction:c,I18n:t.I18n})),u=e.sites):p.html(h({error:t.I18n.get("message.no.sites.available")}))})).fail((function(e,n,i){p.html(h({error:t.I18n.get("error.sitedropdown.loading")+i}))})).always((function(){f.removeClass("loading").addClass("loaded").trigger("loaded.cs.flyout")})))},onShown:function(){A.focus(),s.SITE.trackEvent("Opened Site Switcher")},keyboardShortcut:"^"})}.apply(t,i))||(e.exports=r)},60377:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(53376),n(93660)],void 0===(r=function(e,t,n,i,r){var o=e("#staleContentFilterForm"),a=e("#staleContentFilter"),s=e("#site-filter"),l=function(e){i.ajaxModify(o,r.default.absolutePath("/ajax/updateStaleFilter.act"+e),{callback:function(e){o=e,c(e)}})};s.siteSelect(),s[0].selectize.on("change",(function(){e(".inline-asset-chooser").remove();var t=s[0].selectize.getValue();l("?mod=&siteId="+t)})),a.on("submit.cs.chooser.panel",".asset-chooser",(function(){var t=e(this).data("cs.chooser"),i=s.data("cs.siteSelect").getSelectedSiteId();l("?mod=add"+n.capitalize(t.options.type)+"&siteId="+i)})),a.on("click",".folder-filter-remove",(function(){var t=e(this),i=s.data("cs.siteSelect").getSelectedSiteId();l("?mod=remove"+n.capitalize(t.data("asset-type"))+"&folderToRemoveIdentifier="+t.data("asset-id")+"&siteId="+i)}));var c=function(t){t.find(".asset-chooser").on("click",(function(){var t=e(this).data("cs.chooser")||e(this).assetChooser().data("cs.chooser"),n=t.getAssetFromChosen();t.options.originalSiteId=n.siteId=n.id=s.data("cs.siteSelect").getSelectedSiteId(),t.setChosen(n)})),t.find("#threshold").selectize({openOnFocus:!1,create:!0,createOnBlur:!0}),t.find(".assetType").on("change",(function(){0==t.find(".assetType:checked").length&&t.find(".assetType").prop("checked",!0)}))};c(o)}.apply(t,i))||(e.exports=r)},10181:function(e,t,n){var i,r;i=[n(93541),n(37549),n(92648),n(53376),n(69651),n(78751),n(51517),n(78576),n(78364),n(93660),n(94286),n(69957),n(79941),n(41430),n(52737),n(89152),n(14741),n(10861),n(90660),n(6872)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m){var v,y,b={},w=function(e){var n=i.getStandardForm(y),o=n[0];if(o.getAttribute("data-issubmitting"))return!1;r.save(),o.setAttribute("data-issubmitting",!0);var a=e.modification,s=e.identifier,l=e.modificationIndex,u=e.parentIdentifier,d=c.default.absolutePath("/ajax/"+b.entityType+"StructuredDataModify.act",{sdIdentifier:s,sdModification:a,sdModTargetIndex:""+l,sdParentIdentifier:u}),h=t("#structured-data");return i.ajaxModify(h,d,{callback:function(){o.removeAttribute("data-issubmitting"),r.deactivateWysiwygs(n)}}),!1},x=function(e){if(!b.smartFieldRules[e])try{b.smartFieldRules[e]=new d(e)}catch(e){console.debug("Unable to initialize new DependentField.",e)}return b.smartFieldRules[e]},C=function(e){for(var t=b.fieldPaths[e.dependentFieldPath]||[],n=0;n<t.length;n++){var i=t[n];if(i&&i!==e.parentFieldId){var r=x(i);if(r&&(b.isInDataDefinitionBuilder||s.followsMultipleGroupRules(e.parentFieldId,i)))try{r.addRule(new h(e,i))}catch(e){console.debug("Unable to initialize new SmartFieldRule.",e)}}}},_=function(e){if(!e||A.hasClass(e,"sd-group-hidden"))return!1;var n=function(e){if(!b.sdGroupPreviewCache[e.id])try{b.sdGroupPreviewCache[e.id]=new u(t(e))}catch(e){console.debug("Unable to initialize new SDGroupPreview.",e)}return b.sdGroupPreviewCache[e.id]}(e);return n&&n.update(),!0},k=function(e){e.stopPropagation(),t(this).children(".hidden-input").val("true")},S=function(e){var t=p.getClosestParentGroup(this);e.stopPropagation(),_(t)},E=function(e){e.stopPropagation(),t(this).children(".hidden-input").val("false")},T=function(e){var n=t(this);e.stopPropagation(),D(n)},B=function(){requestAnimationFrame((function(){b.executeSmartFieldRules(),b.initializeVisibleFields()}))};b.init=function(e,n){b.reset(),b.isInDataDefinitionBuilder=!0===n,b.isInDataDefinitionBuilder||(y=e&&e.length?e:t("#ajax-modal"),r.deactivateWysiwygs(y),(v=i.getStandardForm(y))[0],i.addPreSubmitHandler(v,b.onStructuredDataSubmit),v.off("change.sd.smartfield","input[type='checkbox'], input[type='radio'], select",B).on("change.sd.smartfield","input[type='checkbox'], input[type='radio'], select",B),y.off("show.bs.collapse",".collapse",E).on("show.bs.collapse",".collapse",E),y.off("shown.bs.collapse",".collapse",T).on("shown.bs.collapse",".collapse",T),y.off("hide.bs.collapse",".collapse",k).on("hide.bs.collapse",".collapse",k),y.off("hidden.bs.collapse",".collapse",S).on("hidden.bs.collapse",".collapse",S),function(e){for(var t=e.find(".wysiwyg-preview-content"),n=0;n<t.length;n++){var i=t[n],r=i.previousElementSibling,o=l.convertHtmlMarkupToPlainText(i.innerText);i.innerHTML=o||l.getEmptyWysiwygFieldValueMarkup(),A.addClass(r,"hide"),A.removeClass(i,"hide")}}(y),b.applyModificationEvents())},b.reset=function(){b.smartFieldRules={},b.fieldPaths={},b.sdGroupPreviewCache={},b.smartFieldDependencies=[],b.smartFieldsRulesEnabled=!0,b.dragAndDropModificationDisabled=!1,b.isInDataDefinitionBuilder=!1,b.entityType="",b.dragAndDropPlaceholderLabel=""},b.onStructuredDataSubmit=function(){return r.save(),!0},b.addFieldPath=function(e,t){b.fieldPaths[e]=b.fieldPaths[e]||[],b.fieldPaths[e].push(t)},b.setFieldPaths=function(e){b.fieldPaths=e},b.registerSmartFieldDependenciesFromArray=function(e){e.forEach((function(e){b.registerSmartFieldDependency("field-"+e[0],e[1],e[2])}))},b.registerSmartFieldDependency=function(e,t,i){for(var r=n.toString(i).trim().split(","),o=0;o<r.length;o++)try{var a=new f(e,t,r[o]);b.smartFieldDependencies.push(a)}catch(e){console.debug("Unable to initialize SmartFieldDependency.",e)}},b.processSmartFieldDependencies=function(){for(var e=0;e<b.smartFieldDependencies.length;e++){var t=b.smartFieldDependencies[e];C(t)}b.smartFieldDependencies=[]},b.showAllFieldsWithinStructuredDataContainer=function(){var e=document.getElementById("structured-data");if(e)for(var t=e.querySelectorAll(".form-group"),n=0;n<t.length;n++)t[n]&&A.toggleClass(t[n],"hide",!1)},b.initializeVisibleFields=function(){D(y),A.addClass(document.getElementById("structured-data-preloader"),"hide")},b.executeSmartFieldRules=function(){var e=!1;if(b.smartFieldsRulesEnabled&&!b.isInDataDefinitionBuilder){for(var t=Object.keys(b.smartFieldRules),n=0;n<t.length;n++){var i=b.smartFieldRules[t[n]];if(i){var r=i.someRulesAreActive();r?i.showAndValidateNestedInputs():i.hideAndDisableNestedInputsValidation(),i.updateFieldState(r)&&(e=!0)}}e&&b.executeSmartFieldRules()}};var I=function(e){var n=t(this),i={modification:n.data("modification"),identifier:n.data("identifier")};w(i),e.stopImmediatePropagation()};b.applyModificationEvents=function(){y.on("click.sd.modify",".sd-modify",I)},b.removeModificationEvents=function(){y.off("click.sd.modify",".sd-modify",I)};var D=function(e){e&&e.length&&(M(e),r.lazyActivateWysiwygs(e),a.lazyInit(e),F(e))};const F=function(e){if(!e||!e.length)return;const t=e[0].querySelectorAll(".sd-multi-group, .sd-multi-field");a.getLazyInitializer().lazyInitializeFields(t,L)},M=function(e){if(!e||!e.length)return;const t=e[0].querySelectorAll(".sd-group");a.getLazyInitializer().lazyInitializeFields(t,_)},L=function(e){if(A.hasClass(e,"ui-sortable"))return;const n=A.hasClass(e,"sd-multi-field"),i='[data-sd-field-path="'+e.dataset.sdFieldPath+'"]',r=t(e);r.sortable({connectWith:(n?".sd-multi-field":".sd-multi-group")+i,items:(n?".sd-field":".sd-group")+i,cursor:"move",handle:"button.drag-sd",cancel:"input,textarea,button:not(.drag-sd),select,option",tolerance:"pointer",zIndex:99999,placeholder:"sd-placeholder-dropzone",start:function(t,n){e.cscdSortableItemSorted||(r.sortable("refreshPositions"),e.cscdSortableItemSorted=!0),n.placeholder.text(b.dragAndDropPlaceholderLabel)},helper:P}).on("sortupdate",R)},P=function(e,t){const n=A.hasClass(t[0],"sd-field"),i=t[0].cloneNode(n);if(A.addClass(i,"is-dragging"),!n){const e=t[0].querySelector(".form-group-collapsible-header").cloneNode(!0);i.appendChild(e)}return i},R=function(e,t){if(!t||!t.item.length||b.dragAndDropModificationDisabled)return;if(this!==t.item.parent()[0])return;const n=t.item[0],i=O(n);if(n.dataset.index===i)return;const r=p.getClosestParentGroup(n.parentElement),o=r?r.dataset.sdId:null;w({identifier:n.dataset.identifier,parentIdentifier:o,modification:"reorder",modificationIndex:i}),m.CONTENT.trackModalEvent("Edit","Reordered Structured Data",{fieldType:A.hasClass(n,"sd-field")?"field":"group"})},O=function(e){const t=e.parentElement,n=A.hasClass(e,"sd-group")?".sd-group":".sd-field";if(t){const i=1*t.dataset.startIndex,r=t.querySelectorAll(":scope > "+n);for(let t=0;t<r.length;t++)if(r[t].dataset.identifier===e.dataset.identifier)return i+t}return 1*e.dataset.index};return b.hasSmartFields=function(){return!n.isEmpty(b.smartFieldRules)},b.showModificationError=function(e){g.showText(e,{type:"danger"})},b}.apply(t,i))||(e.exports=r)},69957:function(e,t,n){var i,r;i=[n(89152),n(52737),n(78576)],void 0===(r=function(e,t,n){var i=function(e){if(!e)throw"Missing required fieldId parameter";var t=function(e){var t=document.getElementById("dd-field-"+e);return t||(t=document.getElementById("sdd-builder-inside-"+e)),t}(e);if(!t)throw["Dependent field with id, ",e,", was not found"].join("");this.fieldId=e,this.field=t,this.rules=[]};return i.prototype._ensureNestedInputs=function(){this.field.cs_nestedInputs||(this.field.cs_nestedInputs=this.field.querySelectorAll("input"))},i.prototype._ensurePdField=function(){this.pdField||(this.pdField=n.getHiddenProgressiveDisclosureInput(this.field))},i.prototype._toggleFieldVisibility=function(t){e.toggleClass(this.field,"hide",!t)},i.prototype._toggleNestedInputValidation=function(t){this._ensureNestedInputs();for(var n=0;n<this.field.cs_nestedInputs.length;n++)e.toggleClass(this.field.cs_nestedInputs[n],"novalidation",!t)},i.prototype.addRule=function(e){e&&this.rules.push(e)},i.prototype.someRulesAreActive=function(){for(var e=!1,t=0;t<this.rules.length;t++)if(this.rules[t].isActive()){e=!0;break}return e},i.prototype.updateFieldState=function(e){if(this._ensurePdField(),!this.pdField)return!1;var t=e?""!==this.pdField.name:""===this.pdField.name;return this.pdField.name=e?"":this.pdField.getAttribute("data-name"),t},i.prototype.showAndValidateNestedInputs=function(){this._toggleFieldVisibility(!0),this._toggleNestedInputValidation(!0)},i.prototype.hideAndDisableNestedInputsValidation=function(){this._toggleFieldVisibility(!1),this._toggleNestedInputValidation(!1)},i.prototype.getClosestParentGroup=function(){return t.getClosestParentGroup(this.field,!1)},i}.apply(t,i))||(e.exports=r)},94286:function(e,t,n){var i,r;i=[n(37549),n(92648),n(74663),n(52737),n(78364),n(89152)],void 0===(r=function(e,t,n,i,r,o){var a=function(e){if(!e.length)throw"Invalid $sdGroupEl parameter";var t=document.getElementById(e[0].id+"-preview");if(!t)throw["Group preview id, ",e[0].id,", was not found"].join("");this.$sdGroupEl=e,this.previewEl=t,this.previewLabelEl=document.getElementById(this.previewEl.id+"-label"),this.previewValueEl=document.getElementById(this.previewEl.id+"-value"),this.currentPreviewValue="",this.update()};return a.prototype._isCollapsedOrVisible=function(){return o.hasClass(this.previewEl,"collapsed")&&o.isVisible(this.$sdGroupEl[0])},a.prototype._setToEmptyState=function(){this.$firstVisibleFieldEl=null,this.isFirstVisibleFieldAGroup=!1,o.toggleClass(this.previewEl,"is-empty",!0)},a.prototype._setFirstVisibleFieldEl=function(e){return e&&e.length?this.$firstVisibleFieldEl&&this.$firstVisibleFieldEl.length&&t.isEqual(this.$firstVisibleFieldEl[0].id,e[0].id)?!!o.hasClass(this.previewEl,"is-empty")&&(o.toggleClass(this.previewEl,"is-empty",!1),!0):(this.$firstVisibleFieldEl=e,this.isFirstVisibleFieldAGroup=i.isStructuredDataGroup(e[0]),!0):(this._setToEmptyState(),!1)},a.prototype._setCurrentPreviewValue=function(e){return!this.isFirstVisibleFieldAGroup&&!t.isEqual(this.currentPreviewValue,e)&&(this.currentPreviewValue=e,!0)},a.prototype._updateLabelMarkupIfFieldChanged=function(e){this._setFirstVisibleFieldEl(e)&&this.previewLabelEl&&(this.previewLabelEl.innerHTML=r.getFieldLabelMarkupForGroupPreview(this.$firstVisibleFieldEl))},a.prototype._updateValueIfValueChanged=function(e){var t=r.getFieldValueForGroupPreview(e);this._setCurrentPreviewValue(t)&&this.previewValueEl&&(this.previewValueEl.innerHTML=this.currentPreviewValue)},a.prototype._updateLabelAndValueFromField=function(e){e.length&&(this._updateLabelMarkupIfFieldChanged(e),this._updateValueIfValueChanged(e),this.show())},a.prototype.hide=function(){o.toggleClass(this.previewEl,"hide",!0)},a.prototype.show=function(){o.toggleClass(this.previewEl,"preview-is-group",this.isFirstVisibleFieldAGroup),o.toggleClass(this.previewEl,"hide",!1)},a.prototype.update=function(){if(this._isCollapsedOrVisible()){var e=i.locateFirstVisibleFieldInGroup(this.$sdGroupEl);e.length?this._updateLabelAndValueFromField(e):(this._setToEmptyState(),this.hide())}},a}.apply(t,i))||(e.exports=r)},41430:function(e,t,n){var i,r;i=[n(92648)],void 0===(r=function(e){return function(t,n,i){if(i=e.toString(i).trim(),!t)throw"Missing required parentFieldId parameter";if(!n)throw"Missing required value parameter";if(!i)throw"Missing required dependentFieldPath parameter";this.parentFieldId=t,this.value=n,this.dependentFieldPath=i}}.apply(t,i))||(e.exports=r)},79941:function(e,t,n){var i,r;i=[n(41430),n(69957),n(78576)],void 0===(r=function(e,t,n){var i=function(e,t){if(!e)throw"Missing required dependency parameter";if(!t)throw"Missing required dependentField parameter";this.dependency=e,this.dependentField=t};return i.prototype._ensureField=function(){this.field||(this.field=document.getElementById(this.getParentFieldId()))},i.prototype.isActive=function(){return this._ensureField(),this.field&&n.smartFieldValueMatches(this.field,this.getValue())&&!n.isHiddenBySmartFields(this.field)},i.prototype.getParentFieldId=function(){return this.dependency.parentFieldId},i.prototype.getValue=function(){return this.dependency.value},i}.apply(t,i))||(e.exports=r)},70346:function(e,t,n){var i,r;i=[n(37549),n(93541),n(16412),n(50384),n(51954)],void 0===(r=function(e,t,n,i){var r={order:[[0,"asc"]],dom:"rtp"};return{init:function(){var o=n.find();o.find(".show-relationships").each((function(){var t=e(this);e(t.attr("href")).addClass("hide")})),o.find(".show-relationships").click((function(n){n.preventDefault();var i=e(this),r=e(i.attr("href"));r.is(":hidden")?(r.removeClass("hide"),i.text(t.I18n.get("prompt.relationships.fewer.details"))):(r.addClass("hide"),i.text(t.I18n.get("prompt.relationships.more.details")))})),i.init(o.find(".relationship-table"),null,r)}}}.apply(t,i))||(e.exports=r)},81538:function(e,t,n){var i,r;i=[n(37549),n(93541),n(14741),n(10861),n(26742),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a=o.default.absolutePath("/ajax/completeUserTask.act"),s=o.default.absolutePath("/ajax/reopenUserTask.act");return{updateResolutionStatus:function(t,o,l){var c=t?s:a;e.post(c,o,(function(e){e.error?n.showText(e.error,{type:"danger"}):e.success&&(i.COLLABORATION.trackEvent((t?"Resolved":"Unresolved")+" Task",{source:"usertask"}),n.registerAndReload(r.getJsonResponseStatus(e)))})).always(l)}}}.apply(t,i))||(e.exports=r)},35974:function(e,t,n){var i,r;i=[n(37549),n(51937)],void 0===(r=function(e){var t=".cs-tooltip",n="mouseenter focus",i="mouseleave blur",r="click",o="cs-tooltip-description",a=function(t){var n=function(e){return null!=e&&""!==e},i=function(e){if(!0!==e&&!1!==e)return t.data(o);t.data(o,e)},r=function(n,r,o){if(i())if(o){var a=e(r.tooltip);a.attr("role","tooltip"),t.attr("aria-describedby",t.attr("aria-describedby")+" "+a.attr("id")),t.removeAttr("title")}else t.is("[aria-describedby]")?t.attr("aria-describedby",t.attr("aria-describedby").replace(/tooltipster-[\d]*/gm,"").trim()):t.removeAttr("aria-describedby"),t.attr("title",n.content())},a=function(e){try{e()}catch(e){}};return{initialize:function(){var e=t.attr("title");i(n(e)),t.tooltipster({trigger:"custom",animation:"fade",animationDuration:[500,200],maxWidth:500,functionBefore:function(e){var i=function(e){var i=t.attr("aria-label");return n(e.content())?e.content():!!n(i)&&i}(e);if(!i)return!1;e.content(i)},functionReady:function(e,t){r(e,t,!0)},functionAfter:function(e,t){r(e,t,!1)}})},isInitialized:function(){return t.hasClass("tooltipstered")},isPersistent:function(){return t.hasClass("cs-tooltip-persistent")},open:function(){a((function(){t.tooltipster("open")}))},close:function(){a((function(){t.tooltipster("close")}))},closeAll:function(){for(var t=e.tooltipster.instances(),n=0;n<t.length;n++)t[n].close()},content:function(e){t.tooltipster("content")!==e&&(i()||t.attr("aria-label",e),t.tooltipster("content",e))}}},s=function(){var t=a(e(this));t.closeAll(),t.isInitialized()||t.initialize(),t.open()},l=function(t){var n=a(e(this));n.isInitialized()&&n.close()},c=function(t){a(e(this)).isPersistent()||l()};return e(document).off(n,t,s).off(i,t,l).off(r,t,c).on(n,t,s).on(i,t,l).on(r,t,c),{setContent:function(t,n){var i=a(e(t));i.isInitialized()||i.initialize(),function(e,t){e.isInitialized()&&e.content(t)}(i,n)},showTooltip:function(e){e&&e.length&&s.call(e[0])}}}.apply(t,i))||(e.exports=r)},661:function(e,t,n){var i,r;i=[n(37549),n(93541),n(26742),n(93660),n(12993),n(24819),n(94917),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=e("#typeahead-search-flyout"),c=e("#nav-search-link"),u=e("#typeahead-search-list"),d=l.find("form"),h=e("#typeahead-search-input"),f=r.get("typeaheadStarredResults"),p=r.get("typeaheadHistoryResults"),A=r.get("typeaheadSearchResults"),g=function(){var n=h.val(),r=[e.getJSON(i.default.absolutePath("/ajax/getHistory.act"),{maxSize:""!==n?5:10,filterName:n}).then((function(e){var n={I18n:t.I18n,AssetLinkRenderer:o,contextPath:i.default.getContextPath()};e.success?n.searchItems=e.history:n.error=e.error,s+=p(n)})),e.getJSON("/ajax/getUserStarredEntities.act",{maxSize:""!==n?5:10,filterName:n}).then((function(e){var n={I18n:t.I18n,AssetLinkRenderer:o,contextPath:i.default.getContextPath()};e.success?n.searchItems=e.starredEntities:n.error=e.error,a+=f(n)}))],a="",s="",l="";h.data("lastQuery",n),u.addClass("loading").html('<i class="ci ci-fw ci-loading flyout-content-loader" aria-describedby="cascade-loading" role="img"></i>'),_.isEmpty(n)||r.push(e.ajax({url:i.default.absolutePath("/ajax/search.act"),type:"POST",contentType:"application/json",data:JSON.stringify({quickQuery:n}),dataType:"json"}).then((function(e){var n={I18n:t.I18n,AssetLinkRenderer:o,currentSiteId:t.Variables.get("currentSiteId")};e.success?(n.searchItems=e.searchResults||[],n.hasSearchItems=n.searchItems&&n.searchItems.length,n.searchItemsInCurrentSite=[],n.searchItemsOutsideCurrentSite=[],n.searchItemsFromSystem=[],n.hasSearchItems&&n.searchItems.forEach((function(e){e.siteId?e.siteId===t.Variables.get("currentSiteId")?n.searchItemsInCurrentSite.push(e):n.searchItemsOutsideCurrentSite.push(e):n.searchItemsFromSystem.push(e)})),n.hasSearchItemsInCurrentSite=n.searchItemsInCurrentSite.length,n.hasSearchItemsOutsideCurrentSite=n.searchItemsOutsideCurrentSite.length,n.hasSearchItemsFromSystem=n.searchItemsFromSystem.length):n.error=e.error,l+=A(n)}))),e.when.apply(null,r).then((function(){u.removeClass("loading").html([l,a,s].join(""))}))};l.on("click",".nav-search-close",(function(){c.dropdown("toggle")})),l.on("click","#gotoFullSearch",(function(e){h.prop("disabled",!1),d.submit()})),h.on("keyup search cut paste input change",_.debounce((function(){h.data("lastQuery")!==h.val()&&(s.SEARCHREPLACE.trackEvent("Performed Typeahead Search",{query:h.val()}),g())}),250)),a.init(l,{onShow:g,onShown:function(){h.focus(),s.SEARCHREPLACE.trackEvent("Opened Typeahead Search")},keyboardShortcut:"/"})}.apply(t,i))||(e.exports=r)},10861:function(e,t,n){var i,r;i=[n(92648),n(93541),n(74663),n(46745)],void 0===(r=function(e,t,n,i){var r={GENERAL:{},ADMINISTRATION:{},DASHBOARD:{},COLLABORATION:{},CONTENT:{},INTEGRATION:{},INTERFACE:{},PERMISSIONS:{},PUBLISHING:{},REPORTING:{},SEARCHREPLACE:{},SITE:{}},o=function(t){var i=n.get("modalDomId"),r=n.get("modalDomType");i&&r&&e.merge(t,{assetId:i,assetType:r})},a=function(e){this.category=e||"general"};return a.prototype.trackEvent=function(t,n){(function(t,n){e.merge(t,{eventCategory:n})})(n=n||{},this.category),function(t){if(window.Cascade_featureFlags&&window.Cascade_featureFlags.user){var n={};Object.keys(window.Cascade_featureFlags.user).forEach((function(e){n["feature_user_"+e]=window.Cascade_featureFlags.user[e]})),e.merge(t,n)}}(n),i.pushEventToDataLayer(t,n)},a.prototype.trackAssetEvent=function(t,i){(function(t){var i=n.get("domId"),r=n.get("domType");i&&r&&e.merge(t,{assetId:i,assetType:r})})(i=i||{}),this.trackEvent(t,e.merge({source:"entity"},i))},a.prototype.trackAssetEventFromModal=function(t,n){o(n=n||{}),this.trackEvent(t,e.merge({source:"modal"},n))},a.prototype.trackModalEvent=function(t,n,i){o(i=i||{}),this.trackEvent(n,e.merge({source:"modal",modal:t},i))},a.prototype.trackModalOpenedEvent=function(e,t){this.trackModalEvent(e,"Opened "+e+" Modal",t)},a.prototype.trackReportEvent=function(t,n,i){this.trackEvent(n,e.merge({report:t},i))},e.each(r,(function(e,t){r[t]=new a(t.toLowerCase())})),t.EventTracker=r,r}.apply(t,i))||(e.exports=r)},46745:function(e,t,n){var i,r;i=[n(92648)],void 0===(r=function(e){return{pushEventToDataLayer:function(t,n){e.isNil(window.dataLayer)||e.isEmpty(t)||window.dataLayer.push({_clear:!0,event:"cascade-event",cascadeEventName:t,cascadeEventData:e.isPlainObject(n)?n:{}})}}}.apply(t,i))||(e.exports=r)},60629:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(60226),n(95735),n(75897),n(24819),n(93660),n(12993)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=s.default.absolutePath("/ajax/chooser/loadUserAndGroupChooserPanel.act?"),c=s.default.absolutePath("/ajax/getAvailableGroups.act",{extraData:!1}),u=s.default.absolutePath("/ajax/getAvailableUsers.act",{extraData:!1}),d=e(document),h=function(n,r){i.call(this,n,r);var o=this,a=this.options.fieldName;return this.options.fieldName=function(e){return a+t.capitalize(e.type)+(o.options.multiple?"s":"")+o.options.fieldNameSuffix},this.setChosen(this.options.originalChosen),this.$elem.on("loaded.cs.chooser.panel",(function(){o.options.includeUsers&&o.options.includeGroups||o.options.includeCustomEmails||o.Panel.find(".nav").hide(),o.Panel.$elem.find(".choose-myself").on("click",(function(){o.selectUserAndSubmit(e(this).attr("data-current-username"))}))})),this.$elem.trigger("init.cs.chooser.usergroup"),this};return(h.prototype=t.create(i.prototype,{constructor:h,defaults:t.defaultsDeep({includeCustomEmails:!1,includeGroups:!0,includeUsers:!0,restrictToType:"",restrictToValue:""},i.prototype.defaults)})).initializePanel=function(){var e=this,n={includeCustomEmails:this.options.includeCustomEmails,includeGroups:this.options.includeGroups,includeUsers:this.options.includeUsers,multiple:this.options.multiple,requireUserEmail:!1};i.prototype.initializePanel.call(this,{headingText:this.options.ariaLabel,onSubmit:function(){e.syncPanelTabsToChosen()},openAction:l+t.toQuery(n)}),this.$elem.on("show.cs.chooser.panel",(function(){e.options.multiple&&e.syncTagsToChosen()})),this.options.includeUsers&&this.Panel.addTab("#chooser-panel-tab-users",new r.default("#chooser-panel-tab-users",{datatables:{ajax:{url:u+"&restrictToType="+e.options.restrictToType+"&restrictToValue="+e.options.restrictToValue+"&allUsers="+e.options.allUsers,dataSrc:function(n){var i=e.Panel.$elem.find(".choose-myself"),r=i.attr("data-current-username");return i.toggleClass("hide",!t.filter(n,{path:r}).length),n},error:function(e){alert(e.responseJSON.message)}},dom:"lfrtpi",columns:[{data:null,render:function(e,t,n,i){var r={textOnly:!0,hoverable:!1,showPath:!!e.fNm};return a.render(e,r)}}],select:{style:this.options.multiple?"multiple":"single"}},onLoad:function(e){e.originalChosen=t.keyBy(t.filter(e.originalChosen,{type:"user"}),"id")}},this.Panel)),this.options.includeGroups&&this.Panel.addTab("#chooser-panel-tab-groups",new r.default("#chooser-panel-tab-groups",{datatables:{ajax:{url:c+"&restrictToType="+e.options.restrictToType+"&restrictToValue="+e.options.restrictToValue,error:function(e){alert(e.responseJSON.message)}},dom:"lfrtpi",columns:[{data:null,render:function(e,t,n,i){return a.render(e,{textOnly:!0,hoverable:!1})}}],select:{style:this.options.multiple?"multiple":"single"}},onLoad:function(e){e.originalChosen=t.keyBy(t.filter(e.originalChosen,{type:"group"}),"id")}},this.Panel)),this.options.includeCustomEmails&&this.Panel.addTab("#chooser-panel-tab-customemails",new o.default("#chooser-panel-tab-customemails",{onLoad:function(e){e.originalChosen=t.keyBy(t.filter(e.originalChosen,{type:"email"}),"id")}},this.Panel))},h.prototype.selectUserAndSubmit=function(e){var t={};t[e]={};var n=this.Panel.getTabByName("#chooser-panel-tab-users");n.selectChosen(t,n.dataTable),this.Panel.submit()},e.fn.userGroupChooser=function(t){return this.each((function(){e.data(this,"cs.chooser")||e.data(this,"cs.chooser",new h(this,t))}))},d.on("click.cs.chooser.usergroup",".usergroup-chooser",t.debounce((function(t){var n=e(this),i=n.data("cs.chooser")||n.userGroupChooser().data("cs.chooser");i.isPanelLoading()||(i.getPanel()||i.initializePanel(),i.getPanel().open())}),150)),d.on("click.cs.chooser.usergroup",".usergroup-chooser-clear",(function(t){var n=e(this).prev(".usergroup-chooser");(n.data("cs.chooser")||n.userGroupChooser().data("cs.chooser")).clear()})),d.on("focus.cs.chooser.usergroup",".usergroup-chooser-clear",(function(t){e(this).parent().addClass("focus")})),d.on("blur.cs.chooser.usergroup",".usergroup-chooser-clear",(function(t){e(this).parent().removeClass("focus")})),{init:function(t){(t=t&&t.length?t:e("body")).find(".usergroup-chooser").each((function(){e(this).userGroupChooser()}))}}}.apply(t,i))||(e.exports=r)},89492:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(39213),n(72222),n(83095),n(20432),n(57272),n(95513),n(69344),n(78576),n(52737),n(89152),n(73007),n(46507),n(11839)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h){var f={};function p(e){e.length&&(t.each(f,(function(e){e.removeClass("has-error-indicator")})),f={},A(e.find(".has-error")))}function A(n){n.length&&t.each(n,(function(t,n){if(u.isHiddenBySmartFields(t))return!0;e(t).parentsUntil("form").each((function(){if(""!==this.id&&!f[this.id]){var t,n=e(this);if(n.hasClass("tab-pane"))t=e("#tab-"+this.id);else{if(!n.hasClass("form-group-collapsible"))return!0;t=e("#"+this.id+"-header")}t.addClass("has-error-indicator"),f[this.id]=t}}))}))}function g(e){return function(t){var n,i=d.getClosestFormGroupWrapper(t);(n=i&&h.hasClass(i,"sd-multi-field")?h.getClosest(t,".row",!1):i)&&h.toggleClass(n,"has-error",e)}}e.validator.setDefaults({highlight:g(!0),unhighlight:g(!1),errorElement:"span",errorClass:"help-block help-block-validator",errorPlacement:function(t,n){var i=n.closest(".form-group, .row");if(!n.is(":checkbox")||i.find("input[type='checkbox']:first").is(n)){var r=e("<span class='error-alert sr-only' aria-live='assertive' />");r.text("error with "+i.children("label").text()+" "+t.text()),r.appendTo(i),t.appendTo(i)}},onfocusout:function(t){return e(t).valid(),!0},ignore:".novalidation, :not([name])",invalidHandler:function(t,i){var r=e(this),o=e("#generic-validation-error"),a=r.find(".validationError");o.length?o.removeClass("hide"):(a.html(n.I18n.get("error.generic.validation")),a.removeClass("hide")),p(r),i.errorList[0].element.focus()},showErrors:function(t,n){var i=this,r=i.invalidElements();e.when(i.defaultShowErrors()).then((function(){r.length?A(r):p(e(i.currentForm))}))}});var m=function(e,t){c.shouldValidate(e[0])&&(t=t||e.closest("form")).length&&c.shouldFormValidate(t)&&t.validate().element(e)};return{initialize:function(n){c.shouldFormValidate(n)&&(n.find("input[type='checkbox']").on("change blur",(function(){var t=e(this).closest(".form-group").find("input[type='checkbox']");t.length&&m(t,n)})),n.on("clear.cs.chooser submit.cs.chooser.panel cancel.cs.chooser.panel",".chooser",(function(){var t,i=e(this);i.hasClass("novalidation")||(t=l.getChooserFromElement(i),m(t.getValidationField(),n))})),n.on("blur",".chooser",(function(){var t,i=e(this);i.hasClass("novalidation")||(t=l.getChooserFromElement(i)).isPanelOpen()||m(t.getValidationField(),n)})),n.on("input","input[maxlength]",t.debounce((function(n){var i=e(this),r=t.toInteger(this.getAttribute("maxlength"));i.parent().find(".help-block-maxlength").toggleClass("hide",i.val().length!==r)}),250)),e.when(n.validate()).then((function(){p(n)})))},validateField:m,isFormValid:function(e){return!c.shouldFormValidate(e)||e.valid()}}}.apply(t,i))||(e.exports=r)},11839:function(e,t,n){var i,r;i=[n(37549),n(93541),n(69344),n(26742),n(93660),n(73007)],void 0===(r=function(e,t,n,i,r){var o="customCSSClasses";e.validator.addMethod(o,(function(t,i){return!function(e){var t=e.getAttribute("data-rule-customcssclasses");return n.shouldValidate(e)&&(!0===t||"true"===t)}(i)||e.validator.methods.remote.call(this,t,i,{url:r.default.absolutePath("/ajax/validation/customCSSClasses.act"),type:"post",data:{value:t},dataType:"html",async:!1},o)}))}.apply(t,i))||(e.exports=r)},20432:function(e,t,n){var i,r;i=[n(37549),n(93541),n(69344),n(73007)],void 0===(r=function(e,t,n){e.validator.addMethod("matchingValues",(function(t,i){var r;if(!n.shouldValidate(i))return!0;var o=(r=e(i)).data("field-matching-selector"),a=r.data("ignore-empty-fields"),s=e(o),l=!0;return s.each((function(e){this.id!==i.id&&this.value!==t&&(a?""!==t&&""!==this.value&&(l=!1):l=!1)})),l}))}.apply(t,i))||(e.exports=r)},46507:function(e,t,n){var i,r;i=[n(37549),n(93541),n(69344),n(26742),n(93660),n(73007)],void 0===(r=function(e,t,n,i,r){var o="namingRule";e.validator.addMethod(o,(function(t,i){return!function(e){var t=e.getAttribute("data-rule-namingrule");return n.shouldValidate(e)&&(!0===t||"true"===t)}(i)||e.validator.methods.remote.call(this,t,i,{url:r.default.absolutePath("/ajax/validation/namingRules.act"),type:"post",data:{fieldName:i.name,fieldId:i.id,value:t,siteId:i.getAttribute("data-rule-namingrulesiteid")},dataType:"html",async:!1},o)}))}.apply(t,i))||(e.exports=r)},72222:function(e,t,n){var i,r;i=[n(37549),n(93541),n(69344),n(73007)],void 0===(r=function(e,t,n){e.validator.addMethod("regex",(function(t,i){var r;if(!n.shouldValidate(i))return!0;var o=(r=e(i)).attr("data-regex-pattern"),a=r.attr("data-regex-modifiers");if(""==t)return!0;try{return new RegExp(o,a).test(t)}catch(e){return!0}}))}.apply(t,i))||(e.exports=r)},83095:function(e,t,n){var i,r;i=[n(37549),n(93541),n(69344),n(52737),n(73007)],void 0===(r=function(e,t,n,i){e.validator.addMethod("requiredCustom",(function(t,r){var o,a;if(!n.shouldValidate(r))return!0;if((o=e(r)).is(":checkbox")){var s=o.closest(".form-group");return e("input[type='checkbox']:checked",s).length>0}return o.is(":radio")?e('input[name="'+o.attr("name")+'"]:checked').val():"select"===r.nodeName.toLowerCase()?(i.isPlainDropdownFormControl(o)&&o.val(o.find("option[selected]").val()),(a=o.val())&&a.length):!(!t||0===t.length)}))}.apply(t,i))||(e.exports=r)},39213:function(e,t,n){var i,r;i=[n(37549),n(93541),n(69344),n(73007)],void 0===(r=function(e,t,n){e.validator.addMethod("uniqueValue",(function(t,i){if(!n.shouldValidate(i))return!0;var r=e(i).data("field-unique-selector"),o=e(r),a=!0;return o.each((function(e){this!==i&&this.value.toLowerCase()===t.toLowerCase()&&(a=!1)})),a}))}.apply(t,i))||(e.exports=r)},57272:function(e,t,n){var i,r;i=[n(37549),n(92648),n(69344),n(73007)],void 0===(r=function(e,t,n){var i=new RegExp("^(?:(?:(?:"+["http","https"].join("|")+"):)?//)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))?)(?::\\d{2,5})?(?:[/?#].*)?$","i"),r=new RegExp("^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[-\b\v\f-!#-[]-]|\\\\[-\t\v\f-])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[-\b\v\f-!-ZS-]|\\\\[-\t\v\f-])+)\\])$","i");e.validator.addMethod("url",(function(e,o){return!(n.shouldValidate(o)&&!t.isEmpty(e))||function(e){var t=e.getAttribute("data-rule-allowmailto");return!0===t||"true"===t}(o)&&function(e){try{return e.startsWith("mailto:")&&r.test(e.replace("mailto:",""))}catch(e){return!0}}(e)||function(e){try{return i.test(e)}catch(e){return!0}}(e)}))}.apply(t,i))||(e.exports=r)},69320:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(10776),n(16412),n(14741),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){var s=a.default.absolutePath("/ajax/submitAccessToken.act"),l=a.default.absolutePath("/ajax/verifyConnector.act"),c=function(e){e.message&&o.registerAndReload({message:e.message,status:e.success?"success":"danger"})},u=function(r,o){var a={action:r?"unverify":"verify",id:n.Variables.get("domId"),type:n.Variables.get("domType")};i.start(),e.get(l,a).success((function(e,n,r){var a=!0;i.done(),t.isFunction(o)&&(a=!1!==o(e)),a&&c(e)}))};return{submitAccessToken:function(o){var a=e("#accessToken").val(),l={id:n.Variables.get("domId"),token:a};i.start(),e.get(s,l).success((function(e,n,a){i.done(),r.hide(),c(e),t.isFunction(o)&&o(e)}))},verify:function(e){u(!1,e)},unverify:function(e){u(!0,e)}}}.apply(t,i))||(e.exports=r)},39971:function(e,t,n){var i,r;i=[n(37549),n(92648)],void 0===(r=function(e,t){var n=e("#viewport"),i=function(){if(screen.width<360){var e=screen.width/360;n.attr("content","width=360,initial-scale="+e+",maximum-scale=1.0")}else n.attr("content","width=device-width,initial-scale=1,maximum-scale=1.0")};i(),e(window).on("orientationchange",t.debounce(i,200))}.apply(t,i))||(e.exports=r)},26347:function(e,t,n){var i,r;i=[n(37549),n(93660)],void 0===(r=function(e,t){var n={};return{init:function(){var i=window.location,r=Cascade.Variables.get("domId"),o=Cascade.Variables.get("domType"),a=("https:"===i.protocol?"wss:":"ws:")+"//"+i.host+t.default.absolutePath("/websocket",{id:r,type:o});new WebSocket(a).onmessage=function(t){var i=JSON.parse(t.data),r=n[i.type];r&&e.each(r,(function(e,t){t(i)}))}},listenTo:function(e,t){var i=n[e];i||(i=[],n[e]=i),i.push(t)}}}.apply(t,i))||(e.exports=r)},76560:function(e,t,n){var i,r;i=[n(37549),n(93541),n(16412),n(51517),n(53376),n(41089),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){var s,l=a.default.absolutePath("/ajax/switchWorkflowDefinitionTab.act"),c=function(e){s.find("input[name='tab']").val(e)},u=function(t){var n=a.default.absolutePath("/ajax/workflowDefinitionFormModify.act"),o=e("#actionMod").val(),l=e("#stepIdx").val(),u=e("#stepMod").val(),h=e("#actionIdx").val(),f=e("#triggerIdx").val(),p=e("#paramIdx").val(),A=e("#modStepType").val(),g=t.find("li.active a").data("type");r.ajaxModify(t,n,{callback:function(e){d(s=e,o,l,u,h,f,p,A),c(g),i.init(s)},replaceModal:!0})},d=function(e,t,n,i,r,o,a,s){var l=!1;if(""!==i){"add"==i&&(l=!0);var c=e.find("#focus").parent().find(".step-identifier");h(c.first(),l)}else if(""!==t){"add"==t&&(l=!0);var u=e.find("#focus").parent().find(".action-identifier");h(u.first(),l)}else if(""!==a){var d=e.find('.form-group-collapsible-header[data-target="#trigger-'+s+n+"-"+r+"-"+o+'"]').parent(),f=d.find(".param-name").last();f.length||(f=d.find(".add-param")),h(f,!1)}else{var p=e.find("#focus").next(".add-param");0==p.length&&(p=e.find('.add-trigger[data-step-idx="'+n+'"][data-action-idx="'+r+'"][data-step-type="'+s+'"]')),h(p.attr("tabindex",-1),l)}},h=function(e,t){setTimeout((function(){e.focus(),t&&e.select()}),500)},f=function(t){e("#stepIdx").val(t.data("step-idx")),e("#modStepType").val(t.data("step-type"))},p=function(t){e("#actionIdx").val(t.data("action-idx")),e("#triggerIdx").val(t.data("trigger-idx")),e("#triggerMod").val(t.data("mod"))};return{init:function(){(s=n.find("#editform")).find(".step-label").on("keyup",(function(){var t=e(this),n=t.data("step-id");e("#step-header-label"+n).text(t.val()),s.find(".step-select"),e(".step-select option").each((function(){e(this).hasClass(n)&&e(this).text(t.val())}))})),s.find(".action-label").on("keyup",(function(){var t=e(this);e("#action-header-label"+t.data("step-id")+"-"+t.data("action-idx")).text(t.val())})),s.find(".step-identifier").on("keyup",(function(){var t=e(this);""===e('.step-label[data-step-id="'+t.data("step-id")+'"]').val()&&e("#step-header-label"+t.data("step-id")).text(t.val())})),s.find(".allow-reassignment").on("click",(function(){var t=e(this),n=t.data("step-id"),i=t.prop("checked");e("#restrict-reassign-"+n).toggle(i)})),s.find(".toggle-restrict-chooser").on("click",(function(){var t=e(this),n=t.val(),i=t.data("step-id");e("#restrict-user-chooser"+i).toggle("user"==n),e("#restrict-group-chooser"+i).toggle("group"==n),e("#restrict-role-chooser"+i).toggle("role"==n)})),s.find(".default-type").on("click",(function(){var t=e(this),n=t.val(),i=t.data("step-id");e("#default-user-chooser"+i).hide(),e("#default-group-chooser"+i).hide(),e("#default-"+n+"-chooser"+i).show()})),s.find(".add-step, .remove-step, .step-up, .step-down").on("click",(function(t){t.stopPropagation();var n=e(this);f(n),e("#stepMod").val(n.data("mod")),u(s)})),s.find(".add-action, .remove-action").on("click",(function(t){t.stopPropagation();var n=e(this);f(n),e("#actionMod").val(n.data("mod")),e("#actionIdx").val(n.data("action-idx")),u(s)})),s.find(".add-trigger").on("click",(function(t){t.stopPropagation();var n=e(this),i=e("#trigClass"+n.data("step-id")+"-"+n.data("action-idx"));if(i){var r=i.val();r&&(e("#triggerClass").val(r),p(n),f(n),u(s))}})),s.find(".remove-trigger").on("click",(function(t){t.stopPropagation();var n=e(this);p(n),f(n),u(s)})),s.find(".add-param, .remove-param").on("click",(function(t){t.stopPropagation();var n=e(this);f(n),p(n),e("#paramIdx").val(n.data("param-idx")),u(s)})),s.find(".step-type").on("change",(function(){var t=e(this);"system"===t.val()?e("#assign-info"+t.data("step-id")).css("display","none"):e("#assign-info"+t.data("step-id")).css("display","block")})),o.init(s),e("[role=tab]").on({"show.bs.tab":function(t){var n=e(this).data("type");if("builder"===n||"xml"===n){var i=s.find("input[name='tab']").val();if(i&&i==n)return;i||c("builder"===n?"xml":"builder"),r.ajaxModify(s,l,{callback:function(e){s=e,c(n)},replaceModal:!0})}}})}}}.apply(t,i))||(e.exports=r)},73262:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(24819),n(14741),n(26742),n(93660),n(80471)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=function(e){var t=e.find(".doWorkflow").prop("checked");e.find(".available-workflows-wrapper").toggleClass("hide",!t),e.trigger("cs.doworkflowtoggle"+(t?"on":"off"))},c=function(n,r,o){r.selectize({valueField:"workflowid",labelField:"workflowname",searchField:"workflowname",create:!1,preload:!0,openOnFocus:!1,load:function(s,c){e.ajax({url:a.default.absolutePath("/ajax/getAvailableWorkflows.act"),type:"GET",data:o,error:function(){c()},success:function(o){var a=n.find(".workflow-settings"),s=n.find(".selectize-workflows-wrapper"),u=o.workflowrequired,d=o.canbypassworkflow,h=n.find(".doWorkflow");if(n.find("[name=bypassWorkflows]").val(d),n.find("[name=workflowRequired]").val(u),t.isEmpty(o.availableworkflows))return a.addClass("hide"),h.prop("checked",!1),h.parent().addClass("hide"),n.trigger("cs.noworkflowsavailable"),void l(n);c(o.availableworkflows);var f=o.availableworkflows[0],p=o.availableworkflows.length;if(r[0].selectize.setValue(f.workflowid),e(".asset-link",s.parent()).remove(),1==p){s.addClass("hide");var A={id:f.workflowid,type:"workflowdefinition",label:f.workflowname};e(i.render(A)).insertBefore(s)}else s.removeClass("hide");a.removeClass("hide"),h.prop("checked",!0),h.parent().toggleClass("hide",!d&&u),n.trigger("cs.workflowsavailable"),l(n)}})}})};return{context:null,init:function(e,t,n,i){if(e){this.context=e;var r=e.find("select.available-workflows");if(r.length)return c(e,r,{id:t,type:n,workflowType:i}),e.find(".doWorkflow").change((function(){l(e)})),!0}},refresh:function(e,t){if(this.context){var n=this.context.find("select.available-workflows");n.length&&n[0].selectize&&(n[0].selectize.destroy(),c(this.context,n,{id:e.id,type:e.type,workflowType:t}))}}}}.apply(t,i))||(e.exports=r)},5726:function(e,t,n){var i,r,o,a,s=n(37549);i={},r=function(e){var t=i[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=i[e],n=t.deps,o=t.defn,a=n.length,s=new Array(a),l=0;l<a;++l)s[l]=r(n[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+e+"] returned undefined";t.instance=c}(e),t.instance},o=function(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;i[e]={deps:t,defn:n,instance:void 0}},(a=function(e,t){o(e,[],(function(){return t}))})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.PluginManager")})),o("tinymce.core.html.Node",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.html.Node")})),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.Env")})),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.Tools")})),o("tinymce.plugins.cascade.core.StringUtils",[],(function(){return{isEqual:function(e,t){return e===t},truncate:function(e,t){return e.length>t?e.substr(0,t-1)+"...":e}}})),o("tinymce.plugins.cascade.core.Utils",["tinymce.core.util.Tools","tinymce.plugins.cascade.core.StringUtils"],(function(e,t){return{isCreatingNewElement:function(e,t){return t.selection.getNode().nodeName.toLowerCase()!==e},createTemporaryElement:function(e,t){var n=e.dom.create(t,{});return e.selection.getNode().append(n),n},buildListItems:function(n,i,r){var o=function(n,r){var a;return r=r||[],e.each(n,(function(e){"string"==typeof e&&(e={text:e,name:e,value:e}),(a={name:e.name,type:e.type||"",text:e.text||e.title}).text=t.truncate(a.text,50),e.menu?a.menu=o(e.menu):(a.value=e.value,i&&i(a)),r.push(a)})),r};return o(n,r||[])},prepareClassListForListItems:function(e,t){return"object"!=typeof e[0]&&e.unshift({text:"None",value:""}),t.class&&-1===e.indexOf(t.class)&&e.push(t.class),e},convertTinyMCEFieldToJqueryObject:function(e){var t=e?e.getEl():null;return s(t)},getGlobalCascadeVariable:function(){return Cascade},getContextPath:function(){return window.Cascade_contextPath}}})),o("tinymce.plugins.clive.core.Nodes",["tinymce.core.html.Node","tinymce.core.Env","tinymce.plugins.cascade.core.Utils"],(function(e,t,n){return{embedToPlaceHolderConverter:function(i){return function(i){for(var r,o,a,s,l,c=i.length;c--;)(r=i[c]).parent&&(o=r.attr("src")||"",a=r.attr("data-clive-id")||"",s=r.attr("data-clive-type")||"",o&&a&&s&&((l=new e("img",1)).shortEnded=!0,l.attr({width:"100%",height:"250",style:"background-image:url('"+n.getContextPath()+"/assets/img/logo-clive.svg');background-size:25%;",src:t.transparentSrc,"data-mce-placeholder":"true","data-mce-object-class":r.attr("class"),"data-mce-object-style":r.attr("style"),"data-mce-clive-src":o,"data-mce-clive-id":a,"data-mce-clive-type":s,class:"mce-object mce-object-clive"}),r.replace(l)))}},placeHolderToEmbedConverter:function(t){return function(t,n){for(var i,r,o,a,s,l=t.length;l--;)(i=t[l]).parent&&(o=i.attr("data-mce-clive-src")||"",a=i.attr("data-mce-clive-id")||"",s=i.attr("data-mce-clive-type")||"",o&&a&&s&&((r=new e("script",1)).attr({class:i.attr("data-mce-object-class")||null,style:i.attr("data-mce-object-style")||null,src:o,"data-clive-id":a,"data-clive-type":s,async:"true"}),i.replace(r)))}},handleInsertCliveEmbedHtml:function(e,t){var n,i=e.dom.select("img[data-mce-clive-src]"),r=t.embed_link||"",o=t.id||"",a=t.type||"";r&&o&&a&&(n='<script src="'+r+'" data-clive-id="'+o+'" data-clive-type="'+a+'" async="true"><\/script>',e.insertContent(n),function(e,t){var n,i,r=e.dom.select("img[data-mce-clive-src]");for(n=0;n<t.length;n++)for(i=r.length-1;i>=0;i--)t[n]===r[i]&&r.splice(i,1);e.selection.select(r[0])}(e,i),e.nodeChanged())}}})),a("global!$",s),o("tinymce.plugins.clive.core.Utils",["global!$"],(function(e){return{convertTinyMCEFieldToJqueryObject:function(t){var n=t?t.getEl():null;return e(n)}}})),o("tinymce.plugins.clive.Plugin",["tinymce.core.PluginManager","tinymce.plugins.clive.core.Nodes","tinymce.plugins.clive.core.Utils"],(function(e,t,n){return e.add("clive",(function(e){e.on("preInit",(function(){e.parser.addNodeFilter("script",t.embedToPlaceHolderConverter(e)),e.serializer.addAttributeFilter("data-mce-clive-src",t.placeHolderToEmbedConverter(e))})),this.registerChooserEvent=function(){var i=e.dom,r=e.selection.getNode(),o=n.convertTinyMCEFieldToJqueryObject(this),a=o.data("cs.chooser")||o.cliveChooser().data("cs.chooser"),s={};r&&(s={id:i.getAttrib(r,"data-mce-clive-id",""),type:i.getAttrib(r,"data-mce-clive-type","")}),a.setChosen(s),o.off("cliveembed.cs.chooser.panel.tab").on("cliveembed.cs.chooser.panel.tab",(function(n,i){i&&t.handleInsertCliveEmbedHtml(e,i)}))},e.addButton("clive",{icon:"clive",tooltip:"Clive",classes:"clive-chooser",onclick:this.registerChooserEvent,stateSelector:["img[data-mce-clive-src]"]}),e.addMenuItem("clive",{icon:"clive",text:"Clive",classes:"clive-chooser",onclick:this.registerChooserEvent,context:"insert",stateSelector:["img[data-mce-clive-src]"]})})),function(){}})),r("tinymce.plugins.clive.Plugin")()},23656:function(){var e,t,n,i,r;t={},n=function(e,n,i){if("string"!=typeof e)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+e;if(void 0===i)throw"no definition function for "+e;t[e]={deps:n,defn:i,instance:void 0}},i=function(e){var n=t[e];if(void 0===n)throw"module ["+e+"] was undefined";return void 0===n.instance&&function(e){for(var n=t[e],r=n.deps,o=n.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=i(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+e+"] returned undefined";n.instance=c}(e),n.instance},r=n,e=tinymce.util.Tools.resolve,r("global!tinymce.util.Tools.resolve",[],(function(){return e})),r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.PluginManager")})),r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.dom.DOMUtils")})),r("tinymce.plugins.code.api.Settings",["tinymce.core.dom.DOMUtils"],(function(e){return{getMinWidth:function(e){return e.getParam("code_dialog_width",600)},getMinHeight:function(t){return t.getParam("code_dialog_height",Math.min(e.DOM.getViewPort().h-200,500))}}})),r("tinymce.plugins.code.core.Content",[],(function(){return{setContent:function(e,t){e.fire("CodePluginDialogSubmitted",t),e.focus(),e.undoManager.transact((function(){e.setContent(t.data.code)})),e.selection.setCursorLocation(),e.nodeChanged()},getContent:function(e){return e.getContent({source_view:!0})}}})),r("tinymce.plugins.code.ui.Dialog",["tinymce.plugins.code.api.Settings","tinymce.plugins.code.core.Content"],(function(e,t){return{open:function(n){var i=e.getMinWidth(n),r=e.getMinHeight(n);n.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:i,minHeight:r,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){t.setContent(n,e)}}).find("#code").value(t.getContent(n)),n.fire("CodePluginDialogLoaded")}}})),r("tinymce.plugins.code.api.Commands",["tinymce.plugins.code.ui.Dialog"],(function(e){return{register:function(t){t.addCommand("mceCodeEditor",(function(){e.open(t)}))}}})),r("tinymce.plugins.code.ui.Buttons",["tinymce.plugins.code.ui.Dialog"],(function(e){return{register:function(t){t.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){e.open(t)}}),t.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:function(){e.open(t)}})}}})),r("tinymce.plugins.code.Plugin",["tinymce.core.PluginManager","tinymce.plugins.code.api.Commands","tinymce.plugins.code.ui.Buttons"],(function(e,t,n){return e.add("code",(function(e){return t.register(e),n.register(e),{}})),function(){}})),i("tinymce.plugins.code.Plugin")()},12120:function(e,t,n){var i,r,o,a,s=n(37549);i={},r=function(e){var t=i[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=i[e],n=t.deps,o=t.defn,a=n.length,s=new Array(a),l=0;l<a;++l)s[l]=r(n[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+e+"] returned undefined";t.instance=c}(e),t.instance},o=function(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;i[e]={deps:t,defn:n,instance:void 0}},(a=function(e,t){o(e,[],(function(){return t}))})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.PluginManager")})),o("ephox.katamari.api.Global",[],(function(){return"undefined"!=typeof window?window:Function("return this;")()})),o("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],(function(e){var t=function(t,n){for(var i=void 0!==n?n:e,r=0;r<t.length&&null!=i;++r)i=i[t[r]];return i},n=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},i=function(t,i){for(var r=void 0!==i?i:e,o=0;o<t.length;++o)r=n(r,t[o]);return r};return{path:t,resolve:function(e,n){var i=e.split(".");return t(i,n)},forge:i,namespace:function(e,t){var n=e.split(".");return i(n,t)}}})),o("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],(function(e){return{getOrDie:function(t,n){var i=function(t,n){return e.resolve(t,n)}(t,n);if(void 0===i)throw t+" not available on this browser";return i}}})),o("ephox.sand.api.URL",["ephox.sand.util.Global"],(function(e){var t=function(){return e.getOrDie("URL")};return{createObjectURL:function(e){return t().createObjectURL(e)},revokeObjectURL:function(e){t().revokeObjectURL(e)}}})),a("global!document",document),a("global!Math",Math),a("global!RegExp",RegExp),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.Env")})),o("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.ui.Factory")})),o("tinymce.core.util.JSON",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.JSON")})),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.Tools")})),o("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.XHR")})),o("tinymce.plugins.image.api.Settings",[],(function(){return{hasDimensions:function(e){return e.getParam("image_dimensions",!0)},hasAdvTab:function(e){return e.getParam("image_advtab",!1)},getPrependUrl:function(e){return e.getParam("image_prepend_url","")},getClassList:function(e){return e.getParam("image_class_list")},hasDescription:function(e){return e.getParam("image_description",!0)},hasImageTitle:function(e){return e.getParam("image_title",!1)},hasImageCaption:function(e){return e.getParam("image_caption",!1)},getImageList:function(e){return e.getParam("image_list",!1)},isExternalOnly:function(e){return e.getParam("image_external_only",!1)},getRestrictToFolderId:function(e){return e.getParam("image_restrict_to_folder_id")}}})),o("ephox.sand.api.XMLHttpRequest",["ephox.sand.util.Global"],(function(e){return function(){return new(e.getOrDie("XMLHttpRequest"))}})),a("global!window",window),o("tinymce.core.util.Promise",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.Promise")})),o("tinymce.plugins.image.core.Uploader",["ephox.sand.api.XMLHttpRequest","global!document","global!window","tinymce.core.util.Promise","tinymce.core.util.Tools"],(function(e,t,n,i,r){var o=function(){};return function(t){var a=function(i,r,o,a){var s,l;(s=new e).open("POST",t.url),s.withCredentials=t.credentials,s.upload.onprogress=function(e){a(e.loaded/e.total*100)},s.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var e,n,i;s.status<200||s.status>=300?o("HTTP Error: "+s.status):(e=JSON.parse(s.responseText))&&"string"==typeof e.location?r((n=t.basePath,i=e.location,n?n.replace(/\/$/,"")+"/"+i.replace(/^\//,""):i)):o("Invalid JSON: "+s.responseText)},(l=new n.FormData).append("file",i.blob(),i.filename()),s.send(l)};return t=r.extend({credentials:!1,handler:a},t),{upload:function(e){return t.url||t.handler!==a?function(e,t){return new i((function(n,i){try{t(e,n,i,o)}catch(e){i(e.message)}}))}(e,t.handler):i.reject("Upload url missng from the settings.")}}}})),o("tinymce.plugins.cascade.core.StringUtils",[],(function(){return{isEqual:function(e,t){return e===t},truncate:function(e,t){return e.length>t?e.substr(0,t-1)+"...":e}}})),o("tinymce.plugins.cascade.core.Utils",["tinymce.core.util.Tools","tinymce.plugins.cascade.core.StringUtils"],(function(e,t){return{isCreatingNewElement:function(e,t){return t.selection.getNode().nodeName.toLowerCase()!==e},createTemporaryElement:function(e,t){var n=e.dom.create(t,{});return e.selection.getNode().append(n),n},buildListItems:function(n,i,r){var o=function(n,r){var a;return r=r||[],e.each(n,(function(e){"string"==typeof e&&(e={text:e,name:e,value:e}),(a={name:e.name,type:e.type||"",text:e.text||e.title}).text=t.truncate(a.text,50),e.menu?a.menu=o(e.menu):(a.value=e.value,i&&i(a)),r.push(a)})),r};return o(n,r||[])},prepareClassListForListItems:function(e,t){return"object"!=typeof e[0]&&e.unshift({text:"None",value:""}),t.class&&-1===e.indexOf(t.class)&&e.push(t.class),e},convertTinyMCEFieldToJqueryObject:function(e){var t=e?e.getEl():null;return s(t)},getGlobalCascadeVariable:function(){return Cascade},getContextPath:function(){return window.Cascade_contextPath}}})),o("tinymce.plugins.image.core.Utils",["tinymce.plugins.image.api.Settings","global!Math","global!document","tinymce.plugins.cascade.core.Utils"],(function(e,t,n,i){var r=function(e){return e.ImageAssetChooser},o=function(e,t){var n=e.baseURI.protocol+"://"+e.baseURI.authority;return t.startsWith(n)?t.replace(n,""):t},a=function(e){return null!==e.match(/^(?:site:\/\/|\/)\w/)};return{getImageSize:function(e,i){var r=n.createElement("img");function o(e,t){r.parentNode&&r.parentNode.removeChild(r),i({width:e,height:t})}r.onload=function(){o(t.max(r.width,r.clientWidth),t.max(r.height,r.clientHeight))},r.onerror=function(){o()};var a=r.style;a.visibility="hidden",a.position="fixed",a.bottom=a.left=0,a.width=a.height="auto",n.body.appendChild(r),r.src=e},removePixelSuffix:function(e){return e&&(e=e.replace(/px$/,"")),e},addPixelSuffix:function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},mergeMargins:function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},getAssetChooser:r,getChosenFromAssetChooser:function(e){return r(e).getAssetFromChosen()},setAssetChooser:function(e,t){t.ImageAssetChooser=e},getGlobalCascadeVariable:function(){return Cascade},getInternalLinkChooser:function(){return s(n.getElementById("chooser-imageId"))},getInternalLinkChooserPathFieldElement:function(){return n.getElementById("imagePath")},internalPathToRenderFileURL:function(e){return e?i.getContextPath()+"/render/file.act?path="+encodeURI(e):""},isInternalUrl:a,generateEnabledDAMIntegrationsLabelFromEditorSettings:function(e){var t=[];return e.settings.dam_widen_enabled&&t.push("Widen Collective"),e.settings.dam_webdam_enabled&&t.push("Webdam"),t.join(" or ")},getSourceType:function(t,n,i){return e.isExternalOnly(i)?"external":null===t||a(n)?"internal":"external"},updateNodesInternalSrc:function(e){return function(t,n){for(var i=0;i<t.length;i++){var r=t[i],a=r.attr("src");if(void 0!==a){var s=o(e,a);r.attr("src",s)}}}},removeInstanceHostFromSrc:o}})),o("tinymce.plugins.cascade.core.ObjectUtils",[],(function(){return{sortByProperty:function(e,t){return e.sort((function(e,n){var i=(e[t]||"").toUpperCase(),r=(n[t]||"").toUpperCase();return i<r?-1:i>r?1:0}))}}})),o("tinymce.plugins.cascade.core.InlineStylesUtils",["tinymce.core.util.Tools"],(function(e){return{parse:function(t){var n={};if(!(t=e.trim(t))||!t.length)return n;var i=t.split(";");return e.each(i,(function(t){var i=t.split(":");2===i.length&&(n[e.trim(i[0])]=e.trim(i[1]))})),n},serialize:function(t){var n=[];return e.each(t,(function(e,t){n.push(t+": "+e)})),n.join("; ")}}})),o("tinymce.plugins.cascade.core.CustomStyleFormatsUtils",["tinymce.core.util.Tools","tinymce.core.util.JSON","tinymce.plugins.cascade.core.Utils","tinymce.plugins.cascade.core.StringUtils","tinymce.plugins.cascade.core.ObjectUtils","tinymce.plugins.cascade.core.InlineStylesUtils"],(function(e,t,n,i,r,o){var a=function(t){if(!e.isArray(t)||!t.length)return"";var n="Custom Formats";"class"===t[0].type&&(n="CSS Classes");var i='<optgroup label="'+n+'">';return(i+=s(r.sortByProperty(t,"name")))+"</optgroup>"},s=function(t){var n="";return e.each(t,(function(e){n+=l(e)})),n},l=function(e){var n=i.truncate(e.text||e.title,50);return'<option value="'+e.name+'"'+(e.selected?" selected":"")+" data-item='"+t.serialize(e)+"'>"+n+"</option>"},c=function(e){return t.parse(e.getAttribute("data-item"))},u=function(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++)e[n].selected&&t.push(e[n]);return t},d=function(e){return e.getParam("custom_style_formats",[])},h=function(e){var t=[];return e&&e.length?(Array.isArray(e)?t=t.concat(e):e.length&&(t=t.concat(e.trim().split(" "))),n.buildListItems(t,(function(e){e.type="class"}))):t},f=function(e,t){if(!e.length&&!t.length)return"";var n='<select id="formatSelect" multiple>';return n+=a(e),(n+=a(t))+"</select>"},p=function(t){var n={};return e.each(t,(function(t){var i=c(t);"format"===i.type&&i.styles&&e.each(i.styles,(function(e,t){n[t]=e}))})),n};return{getCustomStyleFormats:d,generateFormatMultiSelectHtml:function(t,i,r,o){var a,s=[],l=[];return t.length&&(s=function(t,i){var r=d(t),o=[],a=t.selection.getNode(),s=n.isCreatingNewElement(i,t);return s&&(a=n.createTemporaryElement(t,i)),e.each(r,(function(e){var n=e.name,i=!!t.formatter.matchNode(a,n,!1);t.dom.is(a,e.selector)&&(e.selected=i,e.type="format",o.push(e))})),s&&t.dom.remove(a),o}(o,r)),(a=h(i)).length&&(l=function(t,n,i){var r=[],o={};return e.each(t,(function(t){t.classes&&e.each(t.classes,(function(e){o[e]=!0}))})),e.each(n,(function(e){o[e.name]||(i&&i(e),r.push(e))})),r}(s,a,(function(e){e.selected=!0}))),f(s,l)},generateClassNamesFromSelectedFormatOptions:function(t){var n=[];return e.each(t,(function(t){var i,r="class"===(i=c(t)).type?[i.name]:"format"===i.type&&e.isArray(i.classes)?i.classes:[];e.each(r,(function(e){n.includes(e)||n.push(e)}))})),n},generateClassMultiSelectHtml:function(t,n){var i=h(n),r=h(t),o={},a=[];return e.each(i,(function(e){o[e.name]||(e.selected=!0,o[e.name]=!0,a.push(e))})),e.each(r,(function(e){o[e.name]||a.push(e)})),f(a)},mergeSelectedFormatStylesWithExistingStyles:function(t,n){var r=u(t),a=p(r);if(n&&e.trim(n).length){var s=function(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++)e[n].selected||t.push(e[n]);return t}(t),l=p(s),c=o.parse(e.trim(n));e.each(c,(function(e,t){i.isEqual(e,l[t])||a[t]||(a[t]=e)}))}return o.serialize(a)},getFormatHelpText:function(){return'<span class="help-block">Ctrl/Cmd + click to select multiple formats</span>'},getSelectedFormatOptions:u}})),o("tinymce.plugins.image.ui.Dialog",["ephox.sand.api.URL","global!document","global!Math","global!RegExp","tinymce.core.Env","tinymce.core.ui.Factory","tinymce.core.util.JSON","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.image.api.Settings","tinymce.plugins.image.core.Uploader","tinymce.plugins.image.core.Utils","tinymce.plugins.cascade.core.Utils","tinymce.plugins.cascade.core.CustomStyleFormatsUtils"],(function(e,t,n,i,r,o,a,l,c,u,d,h,f,p){return function(e){function t(t){var i,o,d,A,g,m,v,y,b,w,x,C,_,k,S,E={},T=e.dom,B=!1!==e.settings.image_dimensions,I="",D=!1,F=p.getCustomStyleFormats(e),M=h.getGlobalCascadeVariable().Variables.get("aiFeaturesEnabled");function L(e){var t=i.find("#altContainer")[0].parent(),n=i.find("#altHelpText")[0].parent(),r=i.find("#decorative")[0],o=r.checked();e=!1!==e,t[o?"hide":"show"](),n[o?"hide":"show"](),t.reflow(),e&&r.focus()}function P(){var e=this.checked(),t=i.find("#"+("source_type_internal"===this.name()?"source_type_external":"source_type_internal"));this.name()!=="source_type_"+E.source_type?(this.checked(e),t.checked(!e),"source_type_internal"===this.name()&&this.checked()?(i.find("#internalSrc").show(),i.find("#externalSrc").hide(),i.find("#damassetChooserLink").hide(),E.source_type="internal"):(i.find("#internalSrc").hide(),i.find("#externalSrc").show(),i.find("#damassetChooserLink").show(),E.source_type="external"),H()):this.checked(!0)}function R(t){return e.schema.getTextBlockElements()[t.nodeName]}function O(){var e,t,r,o;e=i.find("#width")[0],t=i.find("#height")[0],e&&t&&(r=parseInt(e.value(),10),o=parseInt(t.value(),10),i.find("#constrain")[0].checked()&&A&&g&&r&&o&&(parseInt(A,10)!==r?(o=n.round(r/A*o),isNaN(o)||t.value(o)):(r=n.round(o/g*r),isNaN(r)||e.value(r))),A=r,g=o)}function N(){if(u.hasAdvTab(e)){var t=i.toJSON(),n=T.parseStyle(t.style);n=h.mergeMargins(n),t.vspace&&(n["margin-top"]=n["margin-bottom"]=h.addPixelSuffix(t.vspace)),t.hspace&&(n["margin-left"]=n["margin-right"]=h.addPixelSuffix(t.hspace)),t.border&&(n["border-width"]=h.addPixelSuffix(t.border)),i.find("#style").value(T.serializeStyle(T.parseStyle(T.serializeStyle(n))))}}function U(){var t,n;if(N(),O(),(E=l.extend(E,i.toJSON())).source_type_internal){var r=h.getChosenFromAssetChooser(e).path,a=r.match(/(.*):([^\/].*)/);if(""===r||"/"===r)return e.windowManager.alert("Please choose an image asset to insert."),!1;E.src=a?"site://"+a[1]+"/"+a[2]:r,E.src=h.internalPathToRenderFileURL(E.src)}else if(E.src=E.externalSrc,""===E.src||"https://"===E.src)return e.windowManager.alert("Please fill in the image URL."),!1;if(E.alt||(E.alt=""),E.title||(E.title=""),E.decorative||(E.decorative=!1),""===E.width&&(E.width=null),""===E.height&&(E.height=null),E.style||(E.style=null),!E.decorative&&!E.alt.length)return e.windowManager.alert("Please provide an Image Description to ensure that your content is accessible. If this is a decorative image, please mark it as decorative."),!1;E.decorative&&(E.alt="");var s=f.convertTinyMCEFieldToJqueryObject(i.find("#format")[0]);if(s.length){var c=s.find("select")[0],u=p.getSelectedFormatOptions(c.options),d=p.generateClassNamesFromSelectedFormatOptions(u);E.class=d&&d.length?d.sort().join(" "):null;var A=p.mergeSelectedFormatStylesWithExistingStyles(c.options,E.style);E.style=A&&A.length?A:null}E={src:E.src,alt:E.alt,title:E.title,width:E.width,height:E.height,style:E.style||"",caption:E.caption,class:E.class||""},e.undoManager.transact((function(){if(E.src){if(""===E.title&&(E.title=null),o?(T.setAttribs(o,E),E.alt.length||o.setAttribute("alt","")):(E.id="__mcenew",e.focus(),e.selection.setContent(T.createHTML("img",E)),o=T.get("__mcenew"),T.setAttrib(o,"id",null)),e.editorUpload.uploadImagesAuto(),!1===E.caption&&T.is(o.parentNode,"figure.image")&&(t=o.parentNode,T.setAttrib(o,"contenteditable",null),T.insertAfter(o,t),T.remove(t),e.selection.select(o),e.nodeChanged()),!0!==E.caption)!function(t){function n(){t.onload=t.onerror=null,e.selection&&(e.selection.select(t),e.nodeChanged())}t.onload=function(){E.width||E.height||!B||T.setAttribs(t,{width:t.clientWidth,height:t.clientHeight}),n()},t.onerror=n}(o);else if(!T.is(o.parentNode,"figure.image")){n=o,(o=o.cloneNode(!0)).contentEditable=!0,(t=T.create("figure",{class:"image"})).appendChild(o),t.appendChild(T.create("figcaption",{contentEditable:!0},"Caption")),t.contentEditable=!1;var i=T.getParent(n,R);i?T.split(i,n,t):T.replace(t,n),e.selection.select(t)}}else if(o){var r=T.is(o.parentNode,"figure.image")?o.parentNode:o;T.remove(r),e.focus(),e.nodeChanged(),T.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}}))}function H(t){var n=h.getChosenFromAssetChooser(e).path,r="external"===E.source_type?i.find("#externalSrc")[0].value():h.internalPathToRenderFileURL(n);h.getImageSize(r,(function(e){B&&(e.width&&e.height?(A=e.width,g=e.height):(A="",g=""),i.find("#width").value(A),i.find("#height").value(g))})),D||"internal"!==E.source_type||function(e,t){c.send({url:f.getContextPath()+"/ajax/getAssetInfo.act?type=file&path="+e,error:function(){t("")},success:function(e){e=a.parse(e),t(e&&e.dom?e.dom.tOrDN:"")}})}(n,(function(e){e&&i.find("#alt").value(e)})),j()}o=e.selection.getNode(),(d=T.getParent(o,"figure.image"))&&(o=T.select("img",d)[0]),o&&("IMG"!==o.nodeName||o.getAttribute("data-mce-object")||o.getAttribute("data-mce-placeholder"))&&(o=null),o&&(A=T.getAttrib(o,"width"),g=T.getAttrib(o,"height"),(E={src:T.getAttrib(o,"src"),alt:T.getAttrib(o,"alt"),title:T.getAttrib(o,"title"),class:T.getAttrib(o,"class"),width:A,height:g,caption:!!d}).decorative=!E.alt.length),E.source_type=h.getSourceType(o,E.src,e);var $=[];if(v={name:"externalSrc",type:"textbox",size:40,label:"Image Source",value:"external"===E.source_type&&E.src?E.src:"https://",onchange:H},!u.isExternalOnly(e)){t.length&&($.push({type:"container",label:"Image Type",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"source_type_internal",type:"checkbox",checked:"internal"===E.source_type,onclick:P,text:"Internal"},{name:"source_type_external",type:"checkbox",checked:"external"===E.source_type,onclick:P,text:"External"}]}),v.hidden="external"!==E.source_type,v={type:"container",name:"sourceContainer",label:"Image Source",minHeight:60,items:[v,{name:"internalSrc",type:"container",hidden:"internal"!==E.source_type,html:t}]});var Q=h.generateEnabledDAMIntegrationsLabelFromEditorSettings(e);Q.length&&v.items.push({type:"container",name:"damassetChooserLink",label:"",layout:"flex",direction:"column",align:"center",spacing:5,hidden:!0,items:[{name:"damassetChooserLinkHtml",type:"container",html:'<a href="javascript:void(0);" class="damasset-chooser">Browse '+Q+" for external images</a>"}]})}$.push(v);var W=function(){var t=i.find("#source_type_internal");if(t&&t.checked()){var n=h.getChosenFromAssetChooser(e).id;if(!n)return void e.windowManager.alert("Please choose an image asset to insert.");y.hide(),w.hide(),x.hide(),b.show(),c.send({url:f.getContextPath()+"/ajax/ai/suggestContent.act?id="+n+"&fieldId=altText&threadId="+I,error:function(t){b.hide(),console.error("Unable to suggest alt text",t),e.windowManager.alert("Unable to suggest alt text. Please try again later.")},success:function(t){var n=a.parse(t);return!1===n.success?(console.error("Unable to suggest alt text: ",n.message),void e.windowManager.alert(n.message||"Unable to suggest alt text. Please try again later.")):n.suggestion?(b.hide(),y.getEl().innerText=n.suggestion,y.getEl().title=n.suggestion,y.show(),I=n.threadId,void x.show()):(console.error("No suggestion provided",n),void e.windowManager.alert("Unable to suggest alt text. Please try again later."))}})}else e.windowManager.alert("This feature is currently supported only for internal images.")},V=function(){S.value=y.getEl().innerText;var e=window.Cascade.EventTracker;e?e.CONTENT.trackEvent("Applied AI content suggestion",{assetId:this.assetId,fieldName:"altText"}):console.error("Event tracking not present"),j()},j=function(){y.hide(),x.hide(),M&&"external"!==E.source_type?(w.show(),I=""):w.hide()};if(u.hasDescription(e)){$.push({type:"container",label:"Decorative",layout:"flex",direction:"column",align:"left",spacing:5,items:[{name:"decorative",type:"checkbox",checked:E.decorative,onclick:L,text:"This is a decorative image, no description needed."}]});var z=[{name:"alt",type:"textbox",size:50,onchange:function(){D=!0},classes:"image-decoration"},{name:"altHelpText",type:"label",text:"Image's title, display name or custom text",classes:"image-decoration-help-block"},{type:"container",name:"altAiSuggestionContainer",html:"",classes:"ctip-ai-suggestion",hidden:!0},{type:"container",name:"altAiLoadingIndicatorContainer",html:'<i aria-hidden="true" role="img" class="ci ci-loading ci-18 " aria-labelledby="cascade-loading"></i>',hidden:!0},{type:"container",name:"altAiSuggestButtonContainer",html:'<button type="button" class="btn-link btn-md ctip-ai-generate">\n  <i aria-hidden="true" role="img" class="ci ci-creation ci-18 button-icon"></i>\n  <span data-cy="button-text" class="button-text ">Suggest</span>\n</button>',classes:"ctip-ai-buttons",hidden:!0},{type:"container",name:"altAiApplyRefreshButtonsContainer",html:'<button type="button" class="btn-link btn-md ctip-ai-apply">\n<i aria-hidden="true" role="img" class="ci ci-ai-suggestion-add ci-18 button-icon"></i>\n<span data-cy="button-text" class="button-text ">Apply</span>\n</button>&nbsp;<button type="button" class="btn-link btn-md ctip-ai-refresh">\n<i aria-hidden="true" role="img" class="ci ci-reload ci-18 button-icon"></i>\n<span data-cy="button-text" class="button-text ">Try again</span>\n</button>',classes:"ctip-ai-buttons",hidden:!0}];$.push({type:"container",label:"Image description",name:"altContainer",layout:"flex",direction:"column",align:"left",spacing:5,items:z})}u.hasImageTitle(e)&&$.push({name:"title",type:"textbox",label:"Image Title"}),B&&$.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:O,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:O,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]});var K="",G=u.getClassList(e);if(F.length?K=p.generateFormatMultiSelectHtml(F,E.class,"img",e):G.length&&(K=p.generateClassMultiSelectHtml(G,E.class)),K.length&&$.push({name:"format",type:"container",label:"Styling",style:"max-width:100%",html:K+p.getFormatHelpText()}),u.hasAdvTab(e)||e.settings.images_upload_url){var q=[];u.hasImageCaption(e)&&r.ceFalse&&q.push({name:"caption",type:"checkbox",label:"Figure/Caption",text:"Use figure and figcaption for this image"});var Y=[{title:"General",type:"form",items:$}];u.hasAdvTab(e)&&(o&&(o.style.marginLeft&&o.style.marginRight&&o.style.marginLeft===o.style.marginRight&&(E.hspace=h.removePixelSuffix(o.style.marginLeft)),o.style.marginTop&&o.style.marginBottom&&o.style.marginTop===o.style.marginBottom&&(E.vspace=h.removePixelSuffix(o.style.marginTop)),o.style.borderWidth&&(E.border=h.removePixelSuffix(o.style.borderWidth)),E.style=e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(o,"style")))),q.push({label:"Style",name:"style",type:"textbox",onchange:function(){if(u.hasAdvTab(e)){var t=i.toJSON(),n=T.parseStyle(t.style);i.find("#vspace").value(""),i.find("#hspace").value(""),((n=h.mergeMargins(n))["margin-top"]&&n["margin-bottom"]||n["margin-right"]&&n["margin-left"])&&(n["margin-top"]===n["margin-bottom"]?i.find("#vspace").value(h.removePixelSuffix(n["margin-top"])):i.find("#vspace").value(""),n["margin-right"]===n["margin-left"]?i.find("#hspace").value(h.removePixelSuffix(n["margin-right"])):i.find("#hspace").value("")),n["border-width"]&&i.find("#border").value(h.removePixelSuffix(n["border-width"])),i.find("#style").value(T.serializeStyle(T.parseStyle(T.serializeStyle(n))))}}}),q.push({type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:N},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}),Y.push({title:"Advanced",type:"form",pack:"start",items:q})),i=e.windowManager.open({title:"Insert/edit image",data:E,bodyType:"tabpanel",body:Y,onSubmit:U,onOpen:function(){var e;S=i.find("#alt")[0].getEl(),y=i.find("#altAiSuggestionContainer")[0],b=i.find("#altAiLoadingIndicatorContainer")[0],w=i.find("#altAiSuggestButtonContainer")[0],x=i.find("#altAiApplyRefreshButtonsContainer")[0],y&&(C=w.getEl().querySelector(".ctip-ai-generate"),_=x.getEl().querySelector(".ctip-ai-apply"),k=x.getEl().querySelector(".ctip-ai-refresh"),C.addEventListener("click",W),k.addEventListener("click",W),_.addEventListener("click",V)),S.addEventListener("focus",(function(){e=S.style.width,S.style.width="auto",S.style.minWidth=e,S.style.maxWidth=window.innerWidth-S.getBoundingClientRect().left-12+"px",s(S).parents(".mce-abs-layout-item").addClass("focused")})),S.addEventListener("blur",(function(){s(S).parents(".mce-abs-layout-item").removeClass("focused"),S.style.width=e,S.style.minWidth="auto"})),j()}})}else i=e.windowManager.open({title:"Insert/edit image",data:E,body:$,onSubmit:U});L(!1),m=h.getInternalLinkChooser(),h.setAssetChooser(m.assetChooser().data("cs.chooser"),e),m.on("clear.cs.chooser submit.cs.chooser.panel",H),f.convertTinyMCEFieldToJqueryObject(i.find("#damassetChooserLinkHtml")[0]).find(".damasset-chooser").on("damembed.cs.chooser.panel.tab",(function(e,t){var n=i.find("#externalSrc"),r=i.find("#alt");n.value(t.url),n.fire("change"),r.value()||r.value(t.filename)})),f.convertTinyMCEFieldToJqueryObject(i.find("#sourceContainer")[0]).prev("label").addClass("source-control-label")}return{open:function(){!function(t){var n=u.getRestrictToFolderId(e),i=h.getGlobalCascadeVariable().Variables,r=i.get("modalDomSiteId",i.get("currentSiteId")),o=f.getContextPath()+"/imagepopup.act?src=<IMG_SRC>&currentSiteId="+r;n&&(o+="&restrictToFolderId="+n);var a,s,l,d=e.selection,p=e.dom;a=d.getNode(),(s=p.getParent(a,"figure.image"))&&(a=p.select("img",s)[0]),l=a?h.removeInstanceHostFromSrc(e,p.getAttrib(a,"src")):"",h.isInternalUrl(l)?p.setAttrib(a,"src",l):l="",c.send({url:o.replace("<IMG_SRC>",encodeURIComponent(l)),error:function(){t("")},success:function(e){t(e)}})}(t)}}}})),o("tinymce.plugins.image.api.Commands",["tinymce.plugins.image.ui.Dialog"],(function(e){return{register:function(t){t.addCommand("mceImage",e(t).open)}}})),o("tinymce.plugins.image.core.FilterContent",["tinymce.core.util.Tools","tinymce.plugins.image.core.Utils"],(function(e,t){var n=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},i=function(t){return function(i){for(var r,o=i.length,a=function(e){e.attr("contenteditable",t?"true":null)};o--;)r=i[o],n(r)&&(r.attr("contenteditable",t?"false":null),e.each(r.getAll("figcaption"),a),e.each(r.getAll("img"),a))}},r=function(e,t){for(var n,i=e.length;i--;)"img"===(n=e[i]).name&&n.attr("caption",null)};return{setup:function(e){e.on("preInit",(function(){e.parser.addNodeFilter("figure",i(!0)),e.serializer.addNodeFilter("figure",i(!1)),e.serializer.addAttributeFilter("caption",r),e.serializer.addNodeFilter("img",t.updateNodesInternalSrc(e)),e.parser.addNodeFilter("img",t.updateNodesInternalSrc(e))}))}}})),o("tinymce.plugins.image.ui.Buttons",["tinymce.plugins.image.ui.Dialog"],(function(e){return{register:function(t){t.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:e(t).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),t.addMenuItem("image",{icon:"image",text:"Image",onclick:e(t).open,context:"insert",prependToContext:!0})}}})),o("tinymce.plugins.image.Plugin",["tinymce.core.PluginManager","tinymce.plugins.image.api.Commands","tinymce.plugins.image.core.FilterContent","tinymce.plugins.image.ui.Buttons"],(function(e,t,n,i){return e.add("image",(function(e){n.setup(e),i.register(e),t.register(e)})),function(){}})),r("tinymce.plugins.image.Plugin")()},10675:function(e,t,n){var i,r,o,a,s=n(37549);i={},r=function(e){var t=i[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=i[e],n=t.deps,o=t.defn,a=n.length,s=new Array(a),l=0;l<a;++l)s[l]=r(n[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+e+"] returned undefined";t.instance=c}(e),t.instance},o=function(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;i[e]={deps:t,defn:n,instance:void 0}},(a=function(e,t){o(e,[],(function(){return t}))})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.PluginManager")})),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.VK")})),o("tinymce.plugins.link.api.Settings",[],(function(){var e=function(e){return e.target_list},t=function(e){return e.rel_list},n=function(e){return e.link_class_list};return{assumeExternalTargets:function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},hasContextToolbar:function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},getLinkList:function(e){return e.link_list},hasDefaultLinkTarget:function(e){return"string"==typeof e.default_link_target},getDefaultLinkTarget:function(e){return e.default_link_target},getTargetList:e,setTargetList:function(e,t){e.settings.target_list=t},shouldShowTargetList:function(t){return!1!==e(t)},getRelList:t,hasRelList:function(e){return void 0!==t(e)},getLinkClassList:n,hasLinkClassList:function(e){return void 0!==n(e)},shouldShowLinkTitle:function(e){return!1!==e.link_title},allowUnsafeLinkTarget:function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target},shouldShowLinkAnchor:function(e){return!1!==e.link_anchor},isExternalOnly:function(e){return e.getParam("link_external_only",!1)},getRestrictToFolderId:function(e){return e.getParam("link_restrict_to_folder_id")}}})),a("global!document",document),a("global!window",window),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.dom.DOMUtils")})),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.Env")})),o("tinymce.plugins.link.core.OpenUrl",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.core.Env"],(function(e,t,n,i){return{open:function(r){if(!i.ie||i.ie>10){var o=e.createElement("a");o.target="_blank",o.href=r,o.rel="noreferrer noopener";var a=e.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,null),function(t,n){e.body.appendChild(t),t.dispatchEvent(n),e.body.removeChild(t)}(o,a)}else{var s=t.open("","_blank");if(s){s.opener=null;var l=s.document;l.open(),l.write('<meta http-equiv="refresh" content="0; url='+n.DOM.encode(r)+'">'),l.close()}}}}})),a("global!RegExp",RegExp),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.Tools")})),o("tinymce.plugins.cascade.core.StringUtils",[],(function(){return{isEqual:function(e,t){return e===t},truncate:function(e,t){return e.length>t?e.substr(0,t-1)+"...":e}}})),o("tinymce.plugins.cascade.core.Utils",["tinymce.core.util.Tools","tinymce.plugins.cascade.core.StringUtils"],(function(e,t){return{isCreatingNewElement:function(e,t){return t.selection.getNode().nodeName.toLowerCase()!==e},createTemporaryElement:function(e,t){var n=e.dom.create(t,{});return e.selection.getNode().append(n),n},buildListItems:function(n,i,r){var o=function(n,r){var a;return r=r||[],e.each(n,(function(e){"string"==typeof e&&(e={text:e,name:e,value:e}),(a={name:e.name,type:e.type||"",text:e.text||e.title}).text=t.truncate(a.text,50),e.menu?a.menu=o(e.menu):(a.value=e.value,i&&i(a)),r.push(a)})),r};return o(n,r||[])},prepareClassListForListItems:function(e,t){return"object"!=typeof e[0]&&e.unshift({text:"None",value:""}),t.class&&-1===e.indexOf(t.class)&&e.push(t.class),e},convertTinyMCEFieldToJqueryObject:function(e){var t=e?e.getEl():null;return s(t)},getGlobalCascadeVariable:function(){return Cascade},getContextPath:function(){return window.Cascade_contextPath}}})),o("tinymce.core.util.JSON",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.JSON")})),o("tinymce.plugins.cascade.core.ObjectUtils",[],(function(){return{sortByProperty:function(e,t){return e.sort((function(e,n){var i=(e[t]||"").toUpperCase(),r=(n[t]||"").toUpperCase();return i<r?-1:i>r?1:0}))}}})),o("tinymce.plugins.cascade.core.InlineStylesUtils",["tinymce.core.util.Tools"],(function(e){return{parse:function(t){var n={};if(!(t=e.trim(t))||!t.length)return n;var i=t.split(";");return e.each(i,(function(t){var i=t.split(":");2===i.length&&(n[e.trim(i[0])]=e.trim(i[1]))})),n},serialize:function(t){var n=[];return e.each(t,(function(e,t){n.push(t+": "+e)})),n.join("; ")}}})),o("tinymce.plugins.cascade.core.CustomStyleFormatsUtils",["tinymce.core.util.Tools","tinymce.core.util.JSON","tinymce.plugins.cascade.core.Utils","tinymce.plugins.cascade.core.StringUtils","tinymce.plugins.cascade.core.ObjectUtils","tinymce.plugins.cascade.core.InlineStylesUtils"],(function(e,t,n,i,r,o){var a=function(t){if(!e.isArray(t)||!t.length)return"";var n="Custom Formats";"class"===t[0].type&&(n="CSS Classes");var i='<optgroup label="'+n+'">';return(i+=s(r.sortByProperty(t,"name")))+"</optgroup>"},s=function(t){var n="";return e.each(t,(function(e){n+=l(e)})),n},l=function(e){var n=i.truncate(e.text||e.title,50);return'<option value="'+e.name+'"'+(e.selected?" selected":"")+" data-item='"+t.serialize(e)+"'>"+n+"</option>"},c=function(e){return t.parse(e.getAttribute("data-item"))},u=function(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++)e[n].selected&&t.push(e[n]);return t},d=function(e){return e.getParam("custom_style_formats",[])},h=function(e){var t=[];return e&&e.length?(Array.isArray(e)?t=t.concat(e):e.length&&(t=t.concat(e.trim().split(" "))),n.buildListItems(t,(function(e){e.type="class"}))):t},f=function(e,t){if(!e.length&&!t.length)return"";var n='<select id="formatSelect" multiple>';return n+=a(e),(n+=a(t))+"</select>"},p=function(t){var n={};return e.each(t,(function(t){var i=c(t);"format"===i.type&&i.styles&&e.each(i.styles,(function(e,t){n[t]=e}))})),n};return{getCustomStyleFormats:d,generateFormatMultiSelectHtml:function(t,i,r,o){var a,s=[],l=[];return t.length&&(s=function(t,i){var r=d(t),o=[],a=t.selection.getNode(),s=n.isCreatingNewElement(i,t);return s&&(a=n.createTemporaryElement(t,i)),e.each(r,(function(e){var n=e.name,i=!!t.formatter.matchNode(a,n,!1);t.dom.is(a,e.selector)&&(e.selected=i,e.type="format",o.push(e))})),s&&t.dom.remove(a),o}(o,r)),(a=h(i)).length&&(l=function(t,n,i){var r=[],o={};return e.each(t,(function(t){t.classes&&e.each(t.classes,(function(e){o[e]=!0}))})),e.each(n,(function(e){o[e.name]||(i&&i(e),r.push(e))})),r}(s,a,(function(e){e.selected=!0}))),f(s,l)},generateClassNamesFromSelectedFormatOptions:function(t){var n=[];return e.each(t,(function(t){var i,r="class"===(i=c(t)).type?[i.name]:"format"===i.type&&e.isArray(i.classes)?i.classes:[];e.each(r,(function(e){n.includes(e)||n.push(e)}))})),n},generateClassMultiSelectHtml:function(t,n){var i=h(n),r=h(t),o={},a=[];return e.each(i,(function(e){o[e.name]||(e.selected=!0,o[e.name]=!0,a.push(e))})),e.each(r,(function(e){o[e.name]||a.push(e)})),f(a)},mergeSelectedFormatStylesWithExistingStyles:function(t,n){var r=u(t),a=p(r);if(n&&e.trim(n).length){var s=function(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++)e[n].selected||t.push(e[n]);return t}(t),l=p(s),c=o.parse(e.trim(n));e.each(c,(function(e,t){i.isEqual(e,l[t])||a[t]||(a[t]=e)}))}return o.serialize(a)},getFormatHelpText:function(){return'<span class="help-block">Ctrl/Cmd + click to select multiple formats</span>'},getSelectedFormatOptions:u}})),o("tinymce.plugins.link.core.Utils",["global!document","global!RegExp","tinymce.core.util.Tools","tinymce.plugins.link.api.Settings","tinymce.plugins.cascade.core.Utils","tinymce.plugins.cascade.core.CustomStyleFormatsUtils"],(function(e,t,n,i,r,o){var a=function(e,t){var i=["noopener"],r=e?e.split(/\s+/):[],o=function(e){return e.filter((function(e){return-1===n.inArray(i,e)}))};return r=t?function(e){return(e=o(e)).length?e.concat(i):i}(r):o(r),r.length?function(e){return n.trim(e.sort().join(" "))}(r):null},l=function(e,t){return t=t||e.selection.getStart(),d(t,e)?(t=u(t,e),e.dom.select("a[href]",t)[0]):e.dom.getParent(t,"a[href]")},c=function(e){return e&&"A"===e.nodeName&&e.href},u=function(e,t){return e&&t.dom.getParent(e,"figure.image")},d=function(e,t){return!!u(e,t)},h=function(e){return e.LinkAssetChooser},f=function(e){return h(e).getAssetFromChosen()},p=function(e){return null!==e.match(/^(?:site:\/\/|\/)\w/)};return{link:function(e,t){return function(n){e.undoManager.transact((function(){var r=e.selection.getNode(),o=l(e,r),s={href:n.href,target:n.target?n.target:null,rel:n.rel?n.rel:null,class:n.class?n.class:null,style:n.style?n.style:null,title:n.title?n.title:null};"internal"===n.source_type&&(s["data-mce-asset-id"]=f(e).id,s["data-mce-asset-type"]=f(e).type),i.hasRelList(e.settings)||!1!==i.allowUnsafeLinkTarget(e.settings)||(s.rel=a(s.rel,"_blank"===s.target)),n.href===t.href&&(t.attach(),t={}),o?(e.focus(),n.hasOwnProperty("text")&&("innerText"in o?o.innerText=n.text:o.textContent=n.text),e.dom.setAttribs(o,s),e.selection.select(o),e.undoManager.add()):d(r,e)?function(e,t,n){var i,r;(r=e.dom.is(t,"img")?t:e.dom.select("img",t)[0])&&(i=e.dom.create("a",n),r.parentNode.insertBefore(i,r),i.appendChild(r))}(e,r,s):n.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",s,e.dom.encode(n.text))):e.execCommand("mceInsertLink",!1,s)}))}},unlink:function(e){return function(){e.undoManager.transact((function(){var t=e.selection.getNode();d(t,e)?function(e,t){var n,i;e.dom.is(t,"img")?t=u(i=t,e):i=e.dom.select("img",t)[0],i&&(n=e.dom.getParents(i,"a[href]",t)[0])&&(n.parentNode.insertBefore(i,n),e.dom.remove(n))}(e,t):e.execCommand("unlink")}))}},isLink:c,hasLinks:function(e){return n.grep(e,c).length>0},isOnlyTextSelected:function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},getAnchorElement:l,getAnchorText:function(e,t){return(t?t.innerText||t.textContent:e.getContent({format:"text"})).replace(/\uFEFF/g,"")},toggleTargetRules:a,cleanAnchorText:function(e){return e.replace(/\#/g,"")},getAssetChooser:h,setAssetChooser:function(e,t){t.LinkAssetChooser=e},getChosenFromAssetChooser:f,getGlobalCascadeVariable:function(){return Cascade},getInternalLinkChooser:function(){return s(e.getElementById("chooser-linkedAssetId"))},getInternalLinkChooserPathFieldElement:function(){return e.getElementById("linkedAssetPath")},isInternalUrl:p,splitUrlByHash:function(e){return e.match(/^#$|[^#]+/g)||[]},convertTinyMCEFieldToJqueryObject:function(e){var t=e?e.getEl():null;return s(t)},generateEnabledDAMIntegrationsLabelFromEditorSettings:function(e){var t=[];return e.settings.dam_widen_enabled&&t.push("Widen Collective"),e.settings.dam_webdam_enabled&&t.push("Webdam"),t.join(" or ")},getSourceType:function(e,t){return i.isExternalOnly(t)?"external":p(e)||""===e?"internal":"external"},requiresReselectionAfterChooserClose:function(e){return d(e.selection.getNode(),e)}}})),o("ephox.katamari.str.StrAppend",[],(function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}})),a("global!Array",Array),a("global!Error",Error),o("ephox.katamari.api.Fun",["global!Array","global!Error"],(function(e,t){var n=function(e){return function(){return e}},i=n(!1),r=n(!0);return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){for(var i=new e(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];var o=n.concat(i);return t.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:i,always:r}})),a("global!Object",Object),o("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],(function(e,t){var n,i,r,o,a=e.never,s=e.always,l=function(){return c},c=(o={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:r=function(e){return e},getOrThunk:i=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:r,orThunk:i,map:l,ap:l,each:function(){},bind:l,flatten:l,exists:a,forall:s,filter:l,equals:n=function(e){return e.isNone()},equals_:n,toArray:function(){return[]},toString:e.constant("none()")},t.freeze&&t.freeze(o),o),u=function(e){var t=function(){return e},n=function(){return r},i=function(t){return t(e)},r={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return u(t(e))},ap:function(t){return t.fold(l,(function(t){return u(t(e))}))},each:function(t){t(e)},bind:i,flatten:t,exists:i,forall:i,filter:function(t){return t(e)?r:c},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,(function(t){return n(e,t)}))},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r};return{some:u,none:l,from:function(e){return null==e?c:u(e)}}})),o("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],(function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}})),o("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],(function(e,t,n){var i=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},r=function(e,t){return i(e,t,0)},o=function(e,t){return i(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,(function(e,n){var i=t[n];return function(e){var t=typeof e;return"string"===t||"number"===t}(i)?i:e}))},startsWith:r,removeLeading:function(t,n){return r(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return o(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return r(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return o(t,n)?t:e.addToEnd(t,n)},endsWith:o,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind((function(n){return t.tail(e).map((function(e){return n.toUpperCase()+e}))})).getOr(e)}}})),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.Delay")})),o("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.XHR")})),o("tinymce.plugins.link.ui.Dialog",["ephox.katamari.api.Strings","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.link.api.Settings","tinymce.plugins.link.core.Utils","tinymce.plugins.cascade.core.Utils","tinymce.plugins.cascade.core.CustomStyleFormatsUtils"],(function(e,t,n,i,r,o,a,s){var l={},c=function(e,n,i){var r=e.selection.getRng();t.setEditorTimeout(e,(function(){e.windowManager.confirm(n,(function(t){e.selection.setRng(r),i(t)}))}))},u=function(t,i){var u,d,h,f,p,A,g,m,v={},y=t.selection,b=t.dom,w=s.getCustomStyleFormats(t),x=function(){var e=this.checked(),t=h.find("#"+("source_type_internal"===this.name()?"source_type_external":"source_type_internal"));this.name()!=="source_type_"+v.source_type?(this.checked(e),t.checked(!e),"source_type_internal"===this.name()&&this.checked()?(h.find("#internalLink").show(),h.find("#externalLink").hide(),h.find("#damassetChooserLink").hide(),v.source_type="internal"):(h.find("#internalLink").hide(),h.find("#externalLink").show(),h.find("#damassetChooserLink").show(),v.source_type="external"),C()):this.checked(!0)},C=function(){if(!d&&f&&!v.text){var e="internal"===v.source_type?o.getChosenFromAssetChooser(t).path:h.find("#externalLink").value(),n=o.cleanAnchorText(h.find("#anchor").value());""!==n&&(e+="#"+n),h.find("#text").value(e)}},_=function(e){if(e.control&&this.value()){var t=o.splitUrlByHash(this.value());"externalLink"===this.name()?(this.value(t[0]),t[1]&&h.find("#anchor").value(t[1])):"anchor"===this.name()&&this.value(t[0]||t[1])}C.call(this)};if(f=o.isOnlyTextSelected(y.getContent()),u=o.getAnchorElement(t),v.text=d=o.getAnchorText(t.selection,u),v.href=u?b.getAttrib(u,"href"):"","#"===v.href)v.href="";else{var k=o.splitUrlByHash(v.href);k.length>1?(v.anchor=k[1]||"",""!==v.anchor&&(v.href=k[0])):e.startsWith(v.href,"#")&&(v.anchor=k[0],v.href="")}v.source_type=o.getSourceType(v.href,t),u?v.target=b.getAttrib(u,"target"):r.hasDefaultLinkTarget(t.settings)&&(v.target=r.getDefaultLinkTarget(t.settings)),(p=b.getAttrib(u,"rel"))&&(v.rel=p),(p=b.getAttrib(u,"class"))&&(v.class=p),(p=b.getAttrib(u,"title"))&&(v.title=p),(p=b.getAttrib(u,"style"))&&(v.style=p);var S=[];if(g={name:"externalLink",type:"textbox",size:40,label:"Link Source",value:"external"===v.source_type&&v.href?v.href:"https://",onchange:_,onkeyup:C},!r.isExternalOnly(t)&&i){S.push({type:"container",label:"Link Type",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"source_type_internal",type:"checkbox",checked:"internal"===v.source_type,onclick:x,text:"Internal"},{name:"source_type_external",type:"checkbox",checked:"external"===v.source_type,onclick:x,text:"External"}]}),g.hidden="external"!==v.source_type,g={type:"container",name:"linkContainer",label:"Link Source",minHeight:60,items:[g,{name:"internalLink",type:"container",hidden:"internal"!==v.source_type,html:i}]};var E=o.generateEnabledDAMIntegrationsLabelFromEditorSettings(t);E.length&&g.items.push({type:"container",name:"damassetChooserLink",label:"",layout:"flex",direction:"column",align:"center",spacing:5,hidden:!0,items:[{name:"damassetChooserLinkHtml",type:"container",html:'<a href="javascript:void(0);" class="damasset-chooser">Browse '+E+" for external files</a>"}]})}S.push(g),r.shouldShowLinkAnchor(t.settings)&&S.push({name:"anchor",type:"textbox",label:"Anchor",size:40,onchange:_,onkeyup:C}),f&&S.push({name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){v.text=this.value()}}),r.hasRelList(t.settings)&&S.push({name:"rel",type:"listbox",label:"Rel",values:a.buildListItems(r.getRelList(t.settings),(function(e){!1===r.allowUnsafeLinkTarget(t.settings)&&(e.value=o.toggleTargetRules(e.value,"_blank"===v.target))}))}),r.shouldShowLinkTitle(t.settings)&&S.push({name:"title",type:"textbox",label:"Title",value:v.title}),r.shouldShowTargetList(t.settings)&&(void 0===r.getTargetList(t.settings)&&r.setTargetList(t,[{text:"None",value:""},{text:"New window",value:"_blank"}]),S.push({name:"target",type:"listbox",label:"Target",values:a.buildListItems(r.getTargetList(t.settings))}));var T="",B=r.getLinkClassList(t.settings);w.length?T=s.generateFormatMultiSelectHtml(w,v.class,"a",t):B.length&&(T=s.generateClassMultiSelectHtml(B,v.class)),T.length&&S.push({name:"format",type:"container",label:"Styling",style:"max-width:100%",html:T+s.getFormatHelpText()}),h=t.windowManager.open({title:"Insert link",data:v,body:S,onSubmit:function(e){var i=r.assumeExternalTargets(t.settings),u=o.link(t,l),p=o.unlink(t),A=n.extend({},v,e.data),g=A.href;if(A.source_type_internal){var m=o.getChosenFromAssetChooser(t).path,y=m.match(/(.*):([^\/].*)/);g=y?"site://"+y[1]+"/"+y[2]:m&&"/"!==m.charAt(0)?"/"+m:m}else g=A.externalLink;if(A.anchor&&(g+="#"+o.cleanAnchorText(A.anchor)),""===g&&(g="#"),g){f&&A.text!==d||delete A.text;var b=a.convertTinyMCEFieldToJqueryObject(h.find("#format")[0]);if(b.length){var w=b.find("select")[0],x=s.getSelectedFormatOptions(w.options),C=s.generateClassNamesFromSelectedFormatOptions(x);A.class=C&&C.length?C.sort().join(" "):null;var _=s.mergeSelectedFormatStylesWithExistingStyles(w.options,v.style);A.style=_&&_.length?_:null}g.indexOf("@")>0&&-1===g.indexOf("//")&&-1===g.indexOf("mailto:")?c(t,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",(function(e){e&&(A.href="mailto:"+g),u(A)})):!0===i&&!/^\w+:/i.test(g)||!1===i&&/^\s*www[\.|\d\.]/i.test(g)?c(t,"The URL you entered seems to be an external link. Do you want to add the required https:// prefix?",(function(e){e&&(A.href="https://"+g),u(A)})):(g.match(/http:/i)&&t.windowManager.alert("Note: The URL you entered begins with http://, you may want to consider using https:// for security and to avoid browsers from blocking content."),A.href=g,u(A))}else p()}}),A=o.getInternalLinkChooser(),o.setAssetChooser(A.assetChooser().data("cs.chooser"),t),A.on("clear.cs.chooser submit.cs.chooser.panel",(function(){_.call(o.getInternalLinkChooserPathFieldElement(),{})})).on("show.cs.chooser.panel",(function(){o.requiresReselectionAfterChooserClose(t)&&(m=t.selection.getNode())})).on("hidden.cs.chooser.panel",(function(){m&&t.selection.select(m)})),"internal"===v.source_type&&v.href&&!o.getChosenFromAssetChooser(t).path&&(h.find("#externalLink").value(v.href),h.find("#source_type_external").fire("click")),a.convertTinyMCEFieldToJqueryObject(h.find("#damassetChooserLinkHtml")[0]).find(".damasset-chooser").on("damembed.cs.chooser.panel.tab",(function(e,t){h.find("#externalLink").value(t.url),h.find("#text").value(t.filename)})),a.convertTinyMCEFieldToJqueryObject(h.find("#linkContainer")[0]).prev("label").addClass("source-control-label")};return{open:function(e){!function(e,t){var n=o.getGlobalCascadeVariable().Variables,s=n.get("modalDomSiteId",n.get("currentSiteId")),l=a.getContextPath()+"/linkpopup.act?href=<LINK_HREF>&currentSiteId="+s,c=e.selection,u=e.dom,d=c.getNode(),h=u.getParent(d,"a[href]"),f=h?u.getAttrib(h,"href"):"",p=r.getRestrictToFolderId(e);o.isInternalUrl(f)||(f=""),p&&(l+="&restrictToFolderId="+p),i.send({url:l.replace("<LINK_HREF>",encodeURIComponent(f)),error:function(){t(e,"")},success:function(n){t(e,n)}})}(e,u)}}})),o("tinymce.plugins.link.core.Actions",["tinymce.core.util.VK","tinymce.plugins.link.api.Settings","tinymce.plugins.link.core.OpenUrl","tinymce.plugins.link.core.Utils","tinymce.plugins.link.ui.Dialog","tinymce.plugins.cascade.core.Utils"],(function(e,t,n,i,r,o){var a=function(e,t){return e.dom.getParent(t,"a[href]")},s=function(e){return a(e,e.selection.getStart())},l=function(e,t){var r,a,s,l=o.getContextPath()+"/entity/open.act";if(t){var c=function(e){return e.getAttribute("data-mce-href")||e.getAttribute("href")}(t);if(/^#/.test(c)){var u=e.$(c);u.length&&e.selection.scrollIntoView(u[0],!0)}else if(i.isInternalUrl(c)){var d=(a=(r=t).getAttribute("data-mce-asset-id"),s=r.getAttribute("data-mce-asset-type"),a&&s?{id:a,type:s}:{});d.id&&d.type&&n.open(l+"?id="+d.id+"&type="+d.type)}else n.open(t.href)}};return{openDialog:function(e){return function(){r.open(e)}},gotoSelectedLink:function(e){return function(){l(e,s(e))}},leftClickedOnAHref:function(e){return function(n){var r,o,a;return!!(t.hasContextToolbar(e.settings)&&!function(e){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()}(e)&&i.isLink(n)&&3===(a=(o=(r=e.selection).getRng()).startContainer).nodeType&&r.isCollapsed()&&o.startOffset>0&&o.startOffset<a.data.length)}},setupGotoLinks:function(t){t.on("click",(function(n){var i=a(t,n.target);i&&e.metaKeyPressed(n)&&(n.preventDefault(),l(t,i))})),t.on("keydown",(function(e){var n=s(t);n&&13===e.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(e)&&(e.preventDefault(),l(t,n))}))},toggleActiveState:function(e){return function(){var t=this;e.on("nodechange",(function(n){t.active(!e.readonly&&!!i.getAnchorElement(e,n.element))}))}},toggleViewLinkState:function(e){return function(){var t=this,n=function(e){i.hasLinks(e.parents)?t.show():t.hide()};i.hasLinks(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",n),t.on("remove",(function(){e.off("nodechange",n)}))}}}})),o("tinymce.plugins.link.api.Commands",["tinymce.plugins.link.core.Actions"],(function(e){return{register:function(t){t.addCommand("mceLink",e.openDialog(t))}}})),o("tinymce.plugins.link.core.Keyboard",["tinymce.plugins.link.core.Actions"],(function(e){return{setup:function(t){t.addShortcut("Meta+K","",e.openDialog(t))}}})),o("tinymce.plugins.link.ui.Controls",["tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Utils"],(function(e,t){return{setupButtons:function(n){n.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:e.openDialog(n),onpostrender:e.toggleActiveState(n)}),n.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onclick:t.unlink(n),onpostrender:e.toggleActiveState(n)}),n.addContextToolbar&&n.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:e.gotoSelectedLink(n)})},setupMenuItems:function(t){t.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:e.gotoSelectedLink(t),onPostRender:e.toggleViewLinkState(t),prependToContext:!0}),t.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:e.openDialog(t),stateSelector:"a[href]",context:"insert",prependToContext:!0})},setupContextToolbars:function(t){t.addContextToolbar&&t.addContextToolbar(e.leftClickedOnAHref(t),"openlink | link unlink")}}})),o("tinymce.plugins.link.Plugin",["tinymce.core.PluginManager","tinymce.plugins.link.api.Commands","tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Keyboard","tinymce.plugins.link.ui.Controls"],(function(e,t,n,i,r){return e.add("link",(function(e){e.on("preInit",(function(){e.serializer.addAttributeFilter("data-mce-asset-id,data-mce-asset-type",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))})),r.setupButtons(e),r.setupMenuItems(e),r.setupContextToolbars(e),n.setupGotoLinks(e),t.register(e),i.setup(e)})),function(){}})),r("tinymce.plugins.link.Plugin")()},21810:function(){var e,t,n,i;e={},t=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&function(n){for(var i=e[n],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=t(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+n+"] returned undefined";i.instance=c}(n),i.instance},i=function(e,t){n(e,[],(function(){return t}))},(n=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}})("ephox.katamari.api.Cell",[],(function(){var e=function(t){var n=t,i=function(){return n};return{get:i,set:function(e){n=e},clone:function(){return e(i())}}};return e})),i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),n("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.PluginManager")})),n("tinymce.plugins.paste.api.Api",[],(function(e){return{get:function(e,t){return{clipboard:e,quirks:t}}}})),n("tinymce.plugins.paste.api.Events",[],(function(){return{firePastePreProcess:function(e,t,n,i){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:i})},firePastePostProcess:function(e,t,n,i){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:i})},firePastePlainTextToggle:function(e,t){return e.fire("PastePlainTextToggle",{state:t})},firePaste:function(e,t){return e.fire("paste",{ieFake:t})}}})),n("tinymce.plugins.paste.api.Settings",[],(function(){return{shouldPlainTextInform:function(e){return e.getParam("paste_plaintext_inform",!0)},shouldBlockDrop:function(e){return e.getParam("paste_block_drop",!1)},shouldPasteDataImages:function(e){return e.getParam("paste_data_images",!1)},shouldFilterDrop:function(e){return e.getParam("paste_filter_drop",!0)},getPreProcess:function(e){return e.getParam("paste_preprocess")},getPostProcess:function(e){return e.getParam("paste_postprocess")},getWebkitStyles:function(e){return e.getParam("paste_webkit_styles")},shouldRemoveWebKitStyles:function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},shouldMergeFormats:function(e){return e.getParam("paste_merge_formats",!0)},isSmartPasteEnabled:function(e){return e.getParam("smart_paste",!0)},getRetainStyleProps:function(e){return e.getParam("paste_retain_style_properties")},getWordValidElements:function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},shouldConvertWordFakeLists:function(e){return e.getParam("paste_convert_word_fake_lists",!0)},shouldUseDefaultFilters:function(e){return e.getParam("paste_enable_default_filters",!0)}}})),n("tinymce.plugins.paste.core.Actions",["tinymce.plugins.paste.api.Events","tinymce.plugins.paste.api.Settings"],(function(e,t){return{togglePlainTextPaste:function(n,i,r){"text"===i.pasteFormat?(i.pasteFormat="html",e.firePastePlainTextToggle(n,!1)):(i.pasteFormat="text",e.firePastePlainTextToggle(n,!0),function(e,n){return n.get()||t.shouldPlainTextInform(e)}(n,r)||(function(e,t){e.notificationManager.open({text:e.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),type:"info"})}(n),r.set(!0))),n.focus()}}})),n("tinymce.plugins.paste.api.Commands",["tinymce.plugins.paste.core.Actions"],(function(e){return{register:function(t,n,i){t.addCommand("mceTogglePlainTextPaste",(function(){e.togglePlainTextPaste(t,n,i)})),t.addCommand("mceInsertClipboardContent",(function(e,t){t.content&&n.pasteHtml(t.content,t.internal),t.text&&n.pasteText(t.text)}))}}})),i("global!Image",Image),i("global!navigator",navigator),i("global!window",window),n("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.Env")})),n("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.Delay")})),n("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.Tools")})),n("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.util.VK")})),n("tinymce.plugins.paste.core.InternalHtml",[],(function(){var e="x-tinymce/html",t="\x3c!-- "+e+" --\x3e";return{mark:function(e){return t+e},unmark:function(e){return e.replace(t,"")},isMarked:function(e){return-1!==e.indexOf(t)},internalHtmlMime:function(){return e}}})),n("tinymce.core.html.Entities",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.html.Entities")})),n("tinymce.plugins.paste.core.Newlines",["tinymce.core.util.Tools","tinymce.core.html.Entities"],(function(e,t){var n=function(e){return e.replace(/\r?\n/g,"<br>")},i=function(n,i,r){var o=n.split(/\n\n/),a=function(e,n){var i,r=[],o="<"+e;if("object"==typeof n){for(i in n)n.hasOwnProperty(i)&&r.push(i+'="'+t.encodeAllRaw(n[i])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"}(i,r),s="</"+i+">",l=e.map(o,(function(e){return e.split(/\n/).join("<br />")}));return 1===l.length?l[0]:e.map(l,(function(e){return a+e+s})).join("")};return{isPlainText:function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},convert:function(e,t,r){return t?i(e,t,r):n(e)},toBRs:n,toBlockElements:i}})),n("tinymce.plugins.paste.core.PasteBin",["tinymce.core.util.Tools","tinymce.core.Env"],(function(e,t){return function(n){var i,r="%MCEPASTEBIN%",o=function(){return n.dom.get("mcepastebin")},a=function(e){return e===r};return{create:function(){var e,o,a=n.dom,s=n.getBody(),l=n.dom.getViewPort(n.getWin()).y,c=20;if(i=n.selection.getRng(),n.inline&&(o=n.selection.getScrollContainer())&&o.scrollTop>0&&(l=o.scrollTop),i.getClientRects){var u=function(e){var t,n,r,o=e.startContainer;if((t=e.getClientRects()).length)return t[0];if(e.collapsed&&1===o.nodeType){for(r=o.childNodes[i.startOffset];r&&3===r.nodeType&&!r.data.length;)r=r.nextSibling;if(r)return"BR"===r.tagName&&(n=a.doc.createTextNode("\ufeff"),r.parentNode.insertBefore(n,r),(e=a.createRng()).setStartBefore(n),e.setEndAfter(n),t=e.getClientRects(),a.remove(n)),t.length?t[0]:void 0}}(i);if(u)c=l+(u.top-a.getPos(s).y);else{c=l;var d=i.startContainer;d&&(3===d.nodeType&&d.parentNode!==s&&(d=d.parentNode),1===d.nodeType&&(c=a.getPos(d,o||s).y))}}e=n.dom.add(n.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+c+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"},r),(t.ie||t.gecko)&&a.setStyle(e,"left","rtl"===a.getStyle(s,"direction",!0)?65535:-65535),a.bind(e,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),e.focus(),n.selection.select(e,!0)},remove:function(){if(o()){for(var e;e=n.dom.get("mcepastebin");)n.dom.remove(e),n.dom.unbind(e);i&&n.selection.setRng(i)}i=null},getEl:o,getHtml:function(){var t,i,r,o,a,s=function(e,t){e.appendChild(t),n.dom.remove(t,!0)};for(i=e.grep(n.getBody().childNodes,(function(e){return"mcepastebin"===e.id})),t=i.shift(),e.each(i,(function(e){s(t,e)})),r=(o=n.dom.select("div[id=mcepastebin]",t)).length-1;r>=0;r--)a=n.dom.create("div"),t.insertBefore(a,o[r]),s(a,o[r]);return t?t.innerHTML:""},getLastRng:function(){return i},isDefault:function(){var e,t=o();return(e=t)&&"mcepastebin"===e.id&&a(t.innerHTML)},isDefaultContent:a}}})),n("tinymce.core.html.DomParser",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.html.DomParser")})),n("tinymce.core.html.Node",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.html.Node")})),n("tinymce.core.html.Schema",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.html.Schema")})),n("tinymce.core.html.Serializer",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.html.Serializer")})),n("tinymce.plugins.paste.core.Utils",["global!navigator","tinymce.core.html.DomParser","tinymce.core.html.Schema","tinymce.core.util.Tools"],(function(e,t,n,i){function r(e,t){return i.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e}return{filter:r,innerText:function(e){var o=new n,a=new t({},o),s="",l=o.getShortEndedElements(),c=i.makeMap("script noscript style textarea video audio iframe object"," "),u=o.getBlockElements();return e=r(e,[/<!\[[^\]]+\]>/g]),function e(t){var n=t.name,i=t;if("br"!==n)if(l[n]&&(s+=" "),c[n])s+=" ";else{if(3===t.type&&(s+=t.value),!t.shortEnded&&(t=t.firstChild))do{e(t)}while(t=t.next);u[n]&&i.next&&(s+="\n","p"===n&&(s+="\n"))}else s+="\n"}(a.parse(e)),s},trimHtml:function(e){return r(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}},isMsEdge:function(){return-1!==e.userAgent.indexOf(" Edge/")}}})),n("tinymce.plugins.paste.core.WordFilter",["tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.Serializer","tinymce.core.util.Tools","tinymce.plugins.paste.api.Settings","tinymce.plugins.paste.core.Utils"],(function(e,t,n,i,r,o,a){function s(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),r.each(n,(function(n){if(n.test(e))return t=!0,!1})),t}function l(e){var n,i,r=1;function o(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=o(e)}while(e=e.next);return t}function a(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!a(e,t))return!1}while(e=e.next);return!0}function l(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{l(e)}while(e=e.next)}function c(e,o,s){var c=e._listLevel||r;c!==r&&(c<r?n&&(n=n.parent.parent):(i=n,n=null)),n&&n.name===o?n.append(e):(i=i||n,n=new t(o,1),s>1&&n.attr("start",""+s),e.wrap(n)),e.name="li",c>r&&i&&i.lastChild.append(n),r=c,l(e),a(e,/^\u00a0+/),a(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),a(e,/^\u00a0+/)}for(var u=[],d=e.firstChild;null!=d;)if(u.push(d),null!==(d=d.walk()))for(;void 0!==d&&d.parent!==e;)d=d.walk();for(var h=0;h<u.length;h++)if("p"===(e=u[h]).name&&e.firstChild){var f=o(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(f)){c(e,"ul");continue}if(s(f)){var p=/([0-9]+)\./.exec(f),A=1;p&&(A=parseInt(p[1],10)),c(e,"ol",A);continue}if(e._listLevel){c(e,"ul",1);continue}n=null}else i=n,n=null}function c(e,n,i,a){var s,l={},c=e.dom.parseStyle(a);return r.each(c,(function(t,r){switch(r){case"mso-list":(s=/\w+ \w+([0-9]+)/i.exec(a))&&(i._listLevel=parseInt(s[1],10)),/Ignore/i.test(t)&&i.firstChild&&(i._listIgnore=!0,i.firstChild._listIgnore=!0);break;case"horiz-align":r="text-align";break;case"vert-align":r="vertical-align";break;case"font-color":case"mso-foreground":r="color";break;case"mso-background":case"mso-highlight":r="background";break;case"font-weight":case"font-style":return void("normal"!==t&&(l[r]=t));case"mso-element":if(/^(comment|comment-list)$/i.test(t))return void i.remove()}0!==r.indexOf("mso-comment")?0!==r.indexOf("mso-")&&("all"===o.getRetainStyleProps(e)||n&&n[r])&&(l[r]=t):i.remove()})),/(bold)/i.test(l["font-weight"])&&(delete l["font-weight"],i.wrap(new t("b",1))),/(italic)/i.test(l["font-style"])&&(delete l["font-style"],i.wrap(new t("i",1))),(l=e.dom.serializeStyle(l,i.name))||null}return{preProcess:function(t,s){return o.shouldUseDefaultFilters(t)?function(t,s){var u,d;(u=o.getRetainStyleProps(t))&&(d=r.makeMap(u.split(/[, ]/))),s=a.filter(s,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(""):""}]]);var h=o.getWordValidElements(t),f=new n({valid_elements:h,valid_children:"-li[p]"});r.each(f.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var p=new e({},f);p.addAttributeFilter("style",(function(e){for(var n,i=e.length;i--;)(n=e[i]).attr("style",c(t,d,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()})),p.addAttributeFilter("class",(function(e){for(var t,n,i=e.length;i--;)n=(t=e[i]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),p.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),p.addNodeFilter("a",(function(e){for(var t,n,i,r=e.length;r--;)if(n=(t=e[r]).attr("href"),i=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||i){if(i&&!/^_?(?:toc|edn|ftn)/i.test(i)){t.unwrap();continue}t.attr({href:n,name:i})}else t.unwrap()}));var A=p.parse(s);return o.shouldConvertWordFakeLists(t)&&l(A),new i({validate:t.settings.validate},f).serialize(A)}(t,s):s},isWordContent:function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)||/<\s*\/?\s*o\s*:\s*p\s*>/.test(e)}}})),n("tinymce.plugins.paste.core.ProcessFilters",["tinymce.plugins.paste.api.Events","tinymce.plugins.paste.core.WordFilter"],(function(e,t){var n=function(e,t){return{content:e,cancelled:t}};return{process:function(i,r,o){var a=t.isWordContent(r);return function(t,i,r,o){var a=e.firePastePreProcess(t,i,r,o);return t.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?function(t,i,r,o){var a=t.dom.create("div",{style:"display:none"},i),s=e.firePastePostProcess(t,a,r,o);return n(s.node.innerHTML,s.isDefaultPrevented())}(t,a.content,r,o):n(a.content,a.isDefaultPrevented())}(i,a?t.preProcess(i,r):r,o,a)}}})),n("tinymce.plugins.paste.core.SmartPaste",["tinymce.core.util.Tools","tinymce.plugins.paste.api.Settings"],(function(e,t){var n=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},i=function(e){return n(e)&&/.(gif|jpe?g|png)$/.test(e)},r=function(e,t,i){return!(!1!==e.selection.isCollapsed()||!n(t))&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0}(e,t,i)},o=function(e,t,n){return!!i(t)&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0}(e,t,n)},a=function(e,n){return e.insertContent(n,{merge:t.shouldMergeFormats(e),paste:!0}),!0};return{isImageUrl:i,isAbsoluteUrl:n,insertContent:function(n,i){!1===t.isSmartPasteEnabled(n)?a(n,i):function(t,n){e.each([r,o,a],(function(e){return!0!==e(t,n,a)}))}(n,i)}}})),n("tinymce.plugins.paste.core.Clipboard",["global!Image","global!navigator","global!window","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.paste.api.Events","tinymce.plugins.paste.core.InternalHtml","tinymce.plugins.paste.core.Newlines","tinymce.plugins.paste.core.PasteBin","tinymce.plugins.paste.core.ProcessFilters","tinymce.plugins.paste.core.SmartPaste","tinymce.plugins.paste.core.Utils"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f){return function(p){var A,g=this,m=0,v=new u(p),y="data:text/mce-internal,",b=f.createIdGenerator("mceclip");function w(e,t){var n=t||l.isMarked(e),i=d.process(p,l.unmark(e),n);!1===i.cancelled&&h.insertContent(p,i.content)}function x(e){e=p.dom.encode(e).replace(/\r\n/g,"\n"),w(e=c.convert(e,p.settings.forced_root_block,p.settings.forced_root_block_attrs),!1)}function C(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf(y)&&(t["text/plain"]=n)}if(e.types)for(var i=0;i<e.types.length;i++){var r=e.types[i];try{t[r]=e.getData(r)}catch(e){t[r]=""}}}return t}function _(e){return E(e,"text/html")||E(e,"text/plain")}function k(t,n,i){t&&(p.selection.setRng(t),t=null);var r,o,a,s,l,c=n.result,u=-1!==(o=(r=c).indexOf(","))?r.substr(o+1):null,d=b(),h=p.settings.images_reuse_filename&&i.name?(a=i.name.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i))?p.dom.encode(a[1]):null:d,f=new e;if(f.src=c,l=f,!(s=p.settings).images_dataimg_filter||s.images_dataimg_filter(l)){var A,g,m=p.editorUpload.blobCache;(g=m.findFirst((function(e){return e.base64()===u})))?A=g:(A=m.create(d,i,u,h),m.add(A)),w('<img src="'+A.blobUri()+'">',!1)}else w('<img src="'+c+'">',!1)}function S(e,t){var i=e.clipboardData||e.dataTransfer;function r(i){var r,o,a,s=!1;if(i)for(r=0;r<i.length;r++)if(o=i[r],/^image\/(jpeg|png|gif|bmp)$/.test(o.type)){var l=o.getAsFile?o.getAsFile():o;(a=new n.FileReader).onload=k.bind(null,t,a,l),a.readAsDataURL(l),e.preventDefault(),s=!0}return s}if(p.settings.paste_data_images&&i)return r(i.items)||r(i.files)}function E(e,t){return t in e&&e[t].length>0}function T(e){return a.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode}g.pasteHtml=w,g.pasteText=x,g.pasteImageData=S,g.getDataTransferItems=C,g.hasHtmlOrText=_,g.hasContentType=E,p.on("preInit",(function(){(function(){function e(e,t,n,i){var r,o;E(e,"text/html")?r=e["text/html"]:(r=v.getHtml(),i=i||l.isMarked(r),v.isDefaultContent(r)&&(n=!0)),r=f.trimHtml(r),v.remove(),o=!1===i&&c.isPlainText(r),r.length&&!o||(n=!0),n&&(r=E(e,"text/plain")&&o?e["text/plain"]:f.innerText(r)),v.isDefaultContent(r)?t||p.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):n?x(r):w(r,i)}p.on("keydown",(function(e){function n(e){T(e)&&!e.isDefaultPrevented()&&v.remove()}if(T(e)&&!e.isDefaultPrevented()){if((A=e.shiftKey&&86===e.keyCode)&&i.webkit&&-1!==t.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),m=(new Date).getTime(),i.ie&&A)return e.preventDefault(),void s.firePaste(p,!0);v.remove(),v.create(),p.once("keyup",n),p.once("paste",(function(){p.off("keyup",n)}))}})),p.on("paste",(function(n){var a,s=(new Date).getTime(),c=(a=C(n.clipboardData||p.getDoc().dataTransfer),f.isMsEdge()?o.extend(a,{"text/html":""}):a),u=(new Date).getTime()-s,d=(new Date).getTime()-m-u<1e3,h="text"===g.pasteFormat||A,y=E(c,l.internalHtmlMime());A=!1,n.isDefaultPrevented()||function(e){var n=e.clipboardData;return-1!==t.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length}(n)?v.remove():_(c)||!S(n,v.getLastRng()||p.selection.getRng())?(d||n.preventDefault(),!i.ie||d&&!n.ieFake||E(c,"text/html")||(v.create(),p.dom.bind(v.getEl(),"paste",(function(e){e.stopPropagation()})),p.getDoc().execCommand("Paste",!1,null),c["text/html"]=v.getHtml()),E(c,"text/html")?(n.preventDefault(),y||(y=l.isMarked(c["text/html"])),e(c,d,h,y)):r.setEditorTimeout(p,(function(){e(c,d,h,y)}),0)):v.remove()}))})(),p.parser.addNodeFilter("img",(function(e,t,n){function r(e){return 0===e.indexOf("webkit-fake-url")}function o(e){return 0===e.indexOf("data:")}if(!p.settings.paste_data_images&&function(e){return e.data&&!0===e.data.paste}(n))for(var a=e.length;a--;){var s=e[a].attributes.map.src;s&&(r(s)||!p.settings.allow_html_data_urls&&o(s))&&((l=e[a]).attr("data-mce-object")||s===i.transparentSrc||l.remove())}var l}))}))}})),i("global!setTimeout",setTimeout),n("tinymce.plugins.paste.core.CutCopy",["global!setTimeout","tinymce.core.Env","tinymce.plugins.paste.core.InternalHtml","tinymce.plugins.paste.core.Utils"],(function(e,t,n,i){var r=function(){},o=function(e,r,o,a){!function(e,r,o){if(!function(e){return!1===t.iOS&&void 0!==e&&"function"==typeof e.setData&&!0!==i.isMsEdge()}(e))return!1;try{return e.clearData(),e.setData("text/html",r),e.setData("text/plain",o),e.setData(n.internalHtmlMime(),r),!0}catch(e){return!1}}(e.clipboardData,r.html,r.text)?o(r.html,a):(e.preventDefault(),a())},a=function(t){return function(i,r){var o=n.mark(i),a=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=t.dom.create("div",{contenteditable:"true"},o);t.dom.setStyles(a,{position:"fixed",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(s),t.dom.add(t.getBody(),a);var l=t.selection.getRng();s.focus();var c=t.dom.createRng();c.selectNodeContents(s),t.selection.setRng(c),e((function(){a.parentNode.removeChild(a),t.selection.setRng(l),r()}),0)}},s=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}};return{register:function(t){t.on("cut",function(t){return function(n){!1===t.selection.isCollapsed()&&o(n,s(t),a(t),(function(){e((function(){t.execCommand("Delete")}),0)}))}}(t)),t.on("copy",function(e){return function(t){!1===e.selection.isCollapsed()&&o(t,s(e),a(e),r)}}(t))}}})),n("tinymce.core.dom.RangeUtils",["global!tinymce.util.Tools.resolve"],(function(e){return e("tinymce.dom.RangeUtils")})),n("tinymce.plugins.paste.core.DragDrop",["tinymce.core.dom.RangeUtils","tinymce.core.util.Delay","tinymce.plugins.paste.api.Settings","tinymce.plugins.paste.core.InternalHtml","tinymce.plugins.paste.core.Utils"],(function(e,t,n,i,r){return{setup:function(o,a,s){n.shouldBlockDrop(o)&&o.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),n.shouldPasteDataImages(o)||o.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),o.on("dragstart dragend",(function(e){s.set("dragstart"===e.type)})),o.on("drop",(function(l){var c,u;if(u=function(t,n){return e.getCaretRangeFromPoint(n.clientX,n.clientY,t.getDoc())}(o,l),!l.isDefaultPrevented()&&!s.get()){c=a.getDataTransferItems(l.dataTransfer);var d=a.hasContentType(c,i.internalHtmlMime());if((a.hasHtmlOrText(c)&&!function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}(c)||!a.pasteImageData(l,u))&&u&&n.shouldFilterDrop(o)){var h=c["mce-internal"]||c["text/html"]||c["text/plain"];h&&(l.preventDefault(),t.setEditorTimeout(o,(function(){o.undoManager.transact((function(){c["mce-internal"]&&o.execCommand("Delete"),o.selection.setRng(u),h=r.trimHtml(h),c["text/html"]?a.pasteHtml(h,d):a.pasteText(h)}))})))}}})),o.on("dragover dragend",(function(e){n.shouldPasteDataImages(o)&&e.preventDefault()}))}}})),n("tinymce.plugins.paste.core.PrePostProcess",["tinymce.plugins.paste.api.Settings"],(function(e){return{setup:function(t){var n=t.plugins.paste,i=e.getPreProcess(t);i&&t.on("PastePreProcess",(function(e){i.call(n,n,e)}));var r=e.getPostProcess(t);r&&t.on("PastePostProcess",(function(e){r.call(n,n,e)}))}}})),n("tinymce.plugins.paste.core.Quirks",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.paste.api.Settings","tinymce.plugins.paste.core.Utils","tinymce.plugins.paste.core.WordFilter"],(function(e,t,n,i,r){function o(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))}function a(e,n){if(!r.isWordContent(n))return n;var o=[];t.each(e.schema.getBlockElements(),(function(e,t){o.push(t)}));var a=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+o.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return n=i.filter(n,[[a,"$1"]]),i.filter(n,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function s(e,t,i,r){if(r||i)return t;var o=n.getWebkitStyles(e);if(!1===n.shouldRemoveWebKitStyles(e)||"all"===o)return t;if(o&&(o=o.split(/[, ]/)),o){var a=e.dom,s=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,i){var r=a.parseStyle(a.decode(n),"span"),l={};if("none"===o)return t+i;for(var c=0;c<o.length;c++){var u=r[o[c]],d=a.getStyle(s,o[c],!0);/color/.test(o[c])&&(u=a.toHex(u),d=a.toHex(d)),d!==u&&(l[o[c]]=u)}return(l=a.serializeStyle(l,"span"))?t+' style="'+l+'"'+i:t+i}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,i){return t+' style="'+n+'"'+i}))}function l(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))}return{setup:function(t){e.webkit&&o(t,s),e.ie&&(o(t,a),function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))}(t,l))}}})),i("global!Array",Array),i("global!Error",Error),n("ephox.katamari.api.Fun",["global!Array","global!Error"],(function(e,t){var n=function(e){return function(){return e}},i=n(!1),r=n(!0);return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){for(var i=new e(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];var o=n.concat(i);return t.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:i,always:r}})),n("tinymce.plugins.paste.ui.Buttons",["ephox.katamari.api.Fun"],(function(e){var t=function(e,t,n){var i=n.control;i.active("text"===t.pasteFormat),e.on("PastePlainTextToggle",(function(e){i.active(e.state)}))};return{register:function(n,i){var r=e.curry(t,n,i);n.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:r}),n.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:i.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:r})}}})),n("tinymce.plugins.spellchecker.core.DetectProPlugin",["global!window","tinymce.core.PluginManager"],(function(e,t){return{hasProPlugin:function(n){return!(!/(^|[ ,])tinymcespellchecker([, ]|$)/.test(n.settings.plugins)||!t.get("tinymcespellchecker")||(void 0!==e.console&&e.console.log&&e.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),0))}}})),n("tinymce.plugins.paste.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.paste.api.Api","tinymce.plugins.paste.api.Commands","tinymce.plugins.paste.core.Clipboard","tinymce.plugins.paste.core.CutCopy","tinymce.plugins.paste.core.DragDrop","tinymce.plugins.paste.core.PrePostProcess","tinymce.plugins.paste.core.Quirks","tinymce.plugins.paste.ui.Buttons","tinymce.plugins.spellchecker.core.DetectProPlugin"],(function(e,t,n,i,r,o,a,s,l,c,u){var d=e(!1);return t.add("paste",(function(t){var h=new r(t),f=l.setup(t),p=e(!1);return!1===u.hasProPlugin(t)&&(c.register(t,h),i.register(t,h,d),s.setup(t),o.register(t),a.setup(t,h,p)),n.get(h,f)})),function(){}})),t("tinymce.plugins.paste.Plugin")()},38813:function(e,t,n){var i,r;i=[n(9225),n(81883),n(20681),n(67467),n(18691),n(12018),n(93289),n(48408),n(90465),n(68260),n(96166),n(68939),n(80227),n(95504),n(95961),n(81696),n(82690),n(67941),n(4836),n(21810),n(23656),n(12120),n(10675),n(5726),n(10504),n(10861)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},69651:function(e,t,n){var i,r;i=[n(37549),n(92648),n(89937),n(93541),n(84551),n(24819),n(34215),n(3143),n(93660),n(26742),n(52737),n(65872),n(89492),n(76011),n(17030),n(51668),n(38813)],void 0===(r=function(e,t,i,r,o,a,s,l,c,u,d,h,f){var p=c.default.absolutePath("/assets/css/custom-workflow-email.css"),A=e(document),g=e("body"),m={undoredo:"undo redo",editExtra:"cut copy paste pastetext | selectall",textformat:"bold italic underline",textformatExtra:"strikethrough superscript subscript",align:"alignleft aligncenter alignright alignjustify",fontformat:"styleselect",fontformatExtra:"| removeformat",fontassignment:"fontselect | fontsizeselect | forecolor backcolor",insertExtra:"charmap hr insertdatetime",list:"bullist numlist outdent indent",link:"link unlink anchor",link_context:"link openlink",image:"image",media:"media",code:"code",fullscreen:"fullscreen",clive:"clive",snippets:"snippets",spellchecker:"spellchecker",table:"inserttable tableprops deletetable | cell row column",table_context:"inserttable | cell row column deletetable",visualaids:"visualaid visualblocks",bypass:"cascade_bypass",info:"cascade_info",placeholders:"placeholders"},v={anchor:["anchor"],code:["code"],image:["image"],link:["link","unlink"],charmap:["charmap"],fullscreen:["fullscreen"],hr:["hr"],insertdatetime:["insertdatetime"],media:["media"],lists:["bullist","numlist","outdent","indent"],spellchecker:["spellchecker"],textcolor:["backcolor","forecolor"],visualblocks:["visualblocks"],snippets:["snippets"]},y={edit:["cut","copy","paste","pastetext","selectall"],format:["strikethrough","superscript","subscript","removeformat"],insert:["charmap","hr","insertdatetime"],view:["visualaid","visualblocks"],tools:["spellchecker"]},b={plugins:["advlist","anchor","autolink","autoresize","charmap","code","contextmenu","fullscreen","hr","image","insertdatetime","link","lists","media","paste","searchreplace","spellchecker","table","textcolor","textpattern","visualblocks","clive","snippets"],menu:{edit:{title:r.I18n.get("label.wysiwyg.edit","Edit"),items:[m.undoredo,"|",m.editExtra].join(" ")},format:{title:r.I18n.get("label.wysiwyg.format","Format"),items:[m.textformat,m.textformatExtra,"|",m.fontformat,m.fontformatExtra].join(" ")},insert:{title:r.I18n.get("label.wysiwyg.insert","Insert"),items:[m.link,m.image,m.media,m.clive,m.snippets,"|",m.insertExtra].join(" ")},table:{title:r.I18n.get("label.wysiwyg.table","Table"),items:m.table},view:{title:r.I18n.get("label.wysiwyg.view","View"),items:m.visualaids},tools:{title:r.I18n.get("label.wysiwyg.tools","Tools"),items:[m.info,m.spellchecker,m.code,m.fullscreen].join(" ")}},skin_url:c.default.absolutePath("/assets/tinymce/skins/cascadecms"),contextmenu:[m.link_context,m.image,m.clive,m.snippets,m.table_context].join(" "),toolbar1:["undo","redo","|","bold","italic","underline","|","alignleft","aligncenter","alignright","alignjustify","|","styleselect","fontselect","|","fontsizeselect","|","forecolor","backcolor","|","bullist","numlist","outdent","indent","|","link","unlink","anchor","|","image","media","clive","snippets","|","code","fullscreen","|","placeholders"],statusbar:!0,schema:"html5",invalid_elements:"",valid_elements:"*[*]",extended_valid_elements:"#h*[*],#p[*],#li[*],-ol[*],-ul[*],-address[*],-pre[*],+span[*],+i[*],+em[*],-strong/b[*]"},w=["cut","copy","paste","pastetext","selectall","|","strikethrough","superscript","subscript","removeformat","|","charmap","hr","insertdatetime","|","visualaid","visualblocks","|","spellchecker"],x=["underline","alignleft","aligncenter","alignright","alignjustify","fontselect","fontsizeselect","forecolor","backcolor","outdent","indent","strikethrough"],C=function(e){return t.remove(e,(function(e){return-1===x.indexOf(e)}))},_=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i instanceof Array)return void _(i,t);-1===t.indexOf(i)&&(e[n]=null)}},k=function(e,n){n&&(e=e.replace("styleselect","formats"));var i=t.trim(e);for(i=(i=t.trim(i,"|")).replace(/\|\s+\|/g,"|");i!==e;)e=i,i=t.trim(e),i=(i=t.trim(i,"|")).replace(/\|\s+\|/g,"|");return i},S=function(e,n){return t.isString(e)?(null==n&&(n=","),t.reject(e.split(n),(function(e){return!1===/-?[_a-zA-Z]+[_a-zA-Z0-9-]*/g.test(e)}))):[]},E=function(e,n){var i={title:t.capitalize(n),items:[]};return t.forEach(t.orderBy(e[n],["title"],["asc"]),(function(e){i.items.push({title:e.title,format:e.format,icon:e.icon||""})})),i},T=function(e){var n=function(e){return t.isArray(e)?t.without(e,m.clive):e.replace(m.clive,"")};e.contextmenu=n(e.contextmenu),e.toolbar1=n(e.toolbar1),t.has(e.menu,"insert.items")&&(e.menu.insert.items=n(e.menu.insert.items))},B={lazyActivateWysiwygs:function(e){this.activateWysiwygs(e,{lazy:!0})},activateWysiwygs:function(n,i){i=i||{},t.defaults(i,{editorConfigPreview:!1,lazy:!1});const r=this,o=function(t){const n=e(this);let o;t.stopImmediatePropagation(),o=e(this.hash||"#"+n.attr("aria-controls")),o.length&&r.activateWysiwygs(o,i)},a=function(n){if(tinymce.get(n.id))return!0;if(d.isClosestParentGroupBodyNotVisible(n))return!1;const r=function(n,i){const r=e(n),o=e.extend(!0,{},b),a=[];let s,l,c=!0;if(n.hasAttribute("data-configuration")){if(s=r.data("configuration")||{},s=e.extend(!0,{},s),t.has(s,"buttons")||(s={menuItems:t.keys(b.menu),buttons:t.concat(b.toolbar1,b.toolbar2),schema:"all"},c=!1),t.has(s,"schema")||(s.schema="all"),t.has(s,"allowStyle")||(s.allowStyle=!0),t.has(s,"customStyles")||(s.customStyles=""),t.has(s,"customStyleFormats")||(s.customStyleFormats=""),i){const e=[];t.each(w,(function(n,i){("|"===n||t.includes(s.buttons,n))&&e.push(n)})),o.toolbar2=e,o.hide_editor_body=!0,o.statusbar=!1}o.allowStyle=s.allowStyle,c&&(o.allowStyle||(s.buttons=C(s.buttons),a.push("advlist")),t.each(t.keys(o.menu),(function(e){-1===s.menuItems.indexOf(e)&&(o.menu[e]=null,i&&t.each(y[e],(function(e){var t=o.toolbar2.indexOf(e);-1!==t&&delete o.toolbar2[t]})))})),t.each(o.menu,(function(e){if(!e)return;if("Table"===e.title)return;const t=e.items.split(" ");_(t,s.buttons),e.items=k(t.join(" "),!0)})),t.each(v,(function(e,n){t.difference(e,s.buttons).length===e.length&&a.push(n)})),t.each(s.buttons,(function(e,n){"|"!==e&&t.includes(w,e)&&delete s.buttons[n]})),o.toolbar1=s.buttons,-1===s.menuItems.indexOf("insert")&&(a.push("charmap"),a.push("hr"),a.push("insertdatetime")),-1===s.menuItems.indexOf("table")&&a.push("table"),-1===s.menuItems.indexOf("view")&&a.push("visualblocks"),-1===s.menuItems.indexOf("tools")&&a.push("spellchecker"),3===t.intersection(a,["link","image","table"]).length&&a.push("contextmenu"))}else{o.toolbar1=o.toolbar1.join(" "),l=u.parseJson(n.getAttribute("data-disabled-options"),{}),o.allowStyle=!n.hasAttribute("data-allow-style")||"true"==n.getAttribute("data-allow-style"),l.font&&(o.toolbar1=o.toolbar1.replace(m.fontassignment,"")),l.format&&(o.toolbar1=o.toolbar1.replace(m.fontformat,""),o.menu.format.items=o.menu.format.items.replace(m.fontformat,"")),l.textformat&&(o.toolbar1=o.toolbar1.replace(m.textformat,""),o.menu.format.items=o.menu.format.items.replace([m.textformat,m.textformatExtra,"|"].join(" "),"")),l.format&&l.textformat&&(o.menu.format=null);const e=r.data("siteConfiguration")||{};t.has(e,"buttons")&&-1!==e.buttons.indexOf(m.info)||(o.menu.tools.items=o.menu.tools.items.replace(m.info,"")),l.code&&a.push("code"),l.image&&a.push("image"),l.table&&a.push("table"),t.each(o.menu,(function(e){e&&(e.items=k(e.items,!0))}))}const d=n.hasAttribute("data-workflow-email-placeholders-enabled");return n.hasAttribute("data-clive-enabled")&&!d||T(o),d&&(o.toolbar1.push("|"),o.toolbar1.push("placeholders")),n.hasAttribute("data-snippets-enabled")||a.push("snippets"),o.plugins=t.difference(o.plugins,a),o}(n,i.editorConfigPreview);return B.initializeWysiwygField(n.id,r),!0};(n=n||g).off("shown.bs.tab","a[role=tab]",o).on("shown.bs.tab","a[role=tab]",o);const l=n[0].querySelectorAll(".wysiwyg");i.lazy?s.lazyInitializeFields(l,a):s.instantlyInitializeFields(l,a)},getDefaultOptions:function(){return b},getEditorConfigDefaults:function(e){if(e){var n=t.cloneDeep(B.getDefaultOptions());return n.toolbar2=w.slice(),n}return w.slice()},getEditorConfiguration:function(e){return u.parseJson(e.attr("data-configuration"),{})},initializeWysiwygField:function(s,u){if(!tinymce.get(s)){u||(u=e.extend({},b));var d,h=document.getElementById(s),m=e("#"+s),v=[],y=[],w=[],x=[],_=[],I=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]}];t.isArray(u.toolbar1)&&(u.toolbar1=k(u.toolbar1.join(" "))),t.isArray(u.toolbar2)&&(u.toolbar2=k(u.toolbar2.join(" "))),h.hasAttribute("data-configuration")?(d=m.data("configuration")||{},u.schema=d.schema||b.schema,"html5"===d.schema?(u.invalid_elements=d.invalidElements,u.valid_elements="",u.extended_valid_elements="+script[*]"):"custom"===d.schema?(u.invalid_elements="",u.valid_elements=d.validElements,u.extended_valid_elements=""):"all"===d.schema&&(u.invalid_elements="",u.valid_elements=b.valid_elements,u.extended_valid_elements=b.extended_valid_elements),d.customStyles&&(v=S(d.customStyles,","))):h.hasAttribute("data-styles")&&(v=m.data("styles")||[]),t.has(d,"customStyleFormats")&&t.isArray(d.customStyleFormats)&&(w=d.customStyleFormats),t.has(d,"visibleDefaultFormats")&&(_=[],d.visibleDefaultFormats.headings&&_.push(E(d.visibleDefaultFormats,"headings")),d.visibleDefaultFormats.inline&&_.push(E(d.visibleDefaultFormats,"inline")),d.visibleDefaultFormats.blocks&&_.push(E(d.visibleDefaultFormats,"blocks")),I=_),h.hasAttribute("data-site-configuration")&&(d=m.data("siteConfiguration")||{});for(var D=0;D<v.length;D++)v[D]=t.trim(v[D]);(v.length||w.length)&&(y.push({title:r.I18n.get("label.wysiwyg.custom.classes","Custom"),items:[]}),v.length?t.forEach(v,(function(e){y[0].items.push({title:e,classes:e,inline:"span",selector:"*",collapsed:!1,ceFalseOverride:!0})})):w.length&&(t.forEach(t.orderBy(w,["title"],["asc"]),(function(e){var n;if(customStyleFormatToAdd={title:e.title,selector:""!==e.selector?e.selector:"*",surroundingElement:e.surroundingElement},""!==e.surroundingElement&&(n=e.surroundingElement,/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html|figure)$/i.test(n)?customStyleFormatToAdd.block=e.surroundingElement:customStyleFormatToAdd.inline=e.surroundingElement),t.isEmpty(e.styles)||(customStyleFormatToAdd.styles=e.styles),!t.isEmpty(e.classes)){customStyleFormatToAdd.classes=e.classes;var i=S(e.classes," ");t.forEach(i,(function(e){v.push(e)}))}!function(e){if(e&&e.selector){var t=e.selector.match(/figure[^\s+>~]?/gi);t&&t.length&&"figure"===t[0].split(/[#.\[:]/gi)[0]&&(e.collapsed=!1,e.ceFalseOverride=!0)}}(customStyleFormatToAdd),y[0].items.push(customStyleFormatToAdd)})),x=y[0].items),I.push(y[0])),""===u.toolbar1&&(u.toolbar1="|"),tinymce.baseURL="/assets/node_modules/tinymce";var F=h.hasAttribute("data-workflow-email-placeholders-enabled");v&&v.length>1&&v.sort(),tinymce.init({selector:"#"+s,plugins:u.plugins,menu:u.menu,toolbar1:u.toolbar1,toolbar2:u.toolbar2,contextmenu:u.contextmenu,skin_url:u.skin_url,content_css:h.hasAttribute("data-workflow-email-placeholders-enabled")?p:h.getAttribute("data-content-css"),cache_suffix:"?v="+c.default.getCachebuster(),convert_urls:!1,entity_encoding:"numeric",fix_list_elements:!0,forced_root_block:!1,force_p_newlines:!0,readonly:h.disabled,schema:u.schema,relative_urls:!1,valid_children:"+body[link|style]",valid_elements:u.valid_elements,extended_valid_elements:u.extended_valid_elements,invalid_elements:u.invalid_elements,valid_styles:!u.allowStyle&&"none",branding:!1,currentSiteId:r.Variables.get("currentSiteId"),advlist_number_styles:"default,decimal,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman",autoresize_bottom_margin:10,autoresize_min_height:100,autoresize_max_height:500,allow_script_urls:!0,dam_widen_enabled:"true"===h.getAttribute("data-dam-widen-enabled"),dam_webdam_enabled:"true"===h.getAttribute("data-dam-webdam-enabled"),image_advtab:!0,image_caption:!0,image_class_list:v,image_restrict_to_folder_id:h.hasAttribute("data-restrict-to-folder-id")?h.getAttribute("data-restrict-to-folder-id"):"",image_external_only:F,images_dataimg_filter:function(e){return!1},link_external_only:F||u.link_external_only,link_anchor:!0,link_class_list:v,link_restrict_to_folder_id:"",style_formats:I,style_formats_autohide:!0,custom_style_formats:x,clive_enabled:"true"===h.getAttribute("data-clive-enabled"),snippets_enabled:h.hasAttribute("data-snippets-enabled"),workflow_email_placeholders_enabled:F,spellchecker_languages:"English=en",spellchecker_rpc_url:c.default.getLocationOrigin()+c.default.absolutePath("/ajax/spellCheck.act"),statusbar:u.statusbar,init_instance_callback:function(t){var n=e(t.getContainer());!function(e){var t=function(e){e.forEach((function(e){e.name="p"}))};e.parser.addNodeFilter("o:p",t),e.serializer.addNodeFilter("o:p",t)}(t),u.hide_editor_body&&n.find(".mce-edit-area").hide(),u.onInit&&u.onInit(),n.on("keydown",(function(e){e.stopImmediatePropagation()}))},setup:function(s){var c,p,v=function(){var n=b.plugins.slice(),i=[];tinymce.remove("#"+s.id),u.toolbar1=b.toolbar1.slice(),u.menu=t.cloneDeep(b.menu),u.menu.format.items=k(u.menu.format.items,!0),u.onInit=function(){e(".wysiwyg-fullscreen").length&&tinymce.get(s.id).execCommand("mceFullScreen")},u.allowStyle||(i.push("advlist"),i.push("textcolor"),u.toolbar1=k(C(u.toolbar1)),t.each(u.menu,(function(e,t){var n=C(u.menu[t].items.split(" "));(n=k(n.join(" "),!0))?u.menu[t].items=n:u.menu[t]=null}))),s.settings.clive_enabled&&!F||T(u),s.settings.snippets_enabled||i.push("snippets"),n=t.difference(n,i),u.plugins=n,B.initializeWysiwygField(s.id,u)},y=function(){var e=s.windowManager.open({title:r.I18n.get("label.wysiwyg.info"),body:[{type:"container",layout:"flex",items:[{name:"info",type:"container",html:r.I18n.get("label.wysiwyg.info.editorconfigurationused")+" "+(d.link?a.render(d.link):r.I18n.get("common.words.none"))}]}],buttons:[{text:"Close",onclick:function(){e.close()}}]})};s.on("blur",(function(e){s.save(),f.validateField(m)})),s.on("dirty",(function(e){A.trigger("cs.form.change")})),s.on("CodePluginDialogLoaded",(function(r){var o,a=r.target.windowManager.getWindows()[0];i.any?a.fullscreen(!0):(o=a.find("#code")[0].getEl(),t.delay((function(){Promise.resolve().then((function(){var t=[n(2546)];(function(){(p=e(o).cascadeCodeEditor({ace:{mode:"html",softWrap:"auto"},resizable:!1,height:"100%",width:"100%"}).data("cscd-codeeditor")).eventListen("options.showFullscreen",(function(){a.fullscreen(p.options.showFullscreen),p.resizeAce(!0)}))}).apply(null,t)})).catch(n.oe)}),250))})),s.on("CodePluginDialogSubmitted",(function(e){p&&!i.any&&(e.data.code=p.getValue())})),s.on("FullscreenStateChanged",(function(t){var n=e(".modal-scroll-wrapper");g.toggleClass("wysiwyg-fullscreen",t.state),n.length&&(t.state?(c=o.getScrollTop(n),o.scrollToInstant(n,0)):o.scrollToInstant(n,c))})),s.addCommand("mceCascadeBypass",v),s.addCommand("mceCascadeInfo",y),s.addButton("cascade_bypass",{tooltip:r.I18n.get("label.wysiwyg.show.all.features"),icon:"all-inclusive",onclick:function(){v()}}),s.addMenuItem("cascade_info",{icon:"info",text:r.I18n.get("label.wysiwyg.info"),onclick:y}),h.hasAttribute("data-workflow-email-placeholders-enabled")&&s.addButton("placeholders",function(e,n){if(""===e)return{};var i={},o=t.split(e,",");return i.type="menubutton",i.icon="emailplaceholder",i.menu=[],i.tooltip=r.I18n.get("label.wysiwyg.workflow.email.placeholders"),o.map((function(e){i.menu.push(function(e,t){if(""===e)return{};var n={},i=l.retrieveLabelKeyForPlaceholder(e);return n.onClick=function(){t.insertContent(e)},n.text=i,n}(e,n))})),i}(h.getAttribute("data-workflow-email-placeholders-enabled"),s))}})}},initializeWysiwygForEditorConfig:function(e,t){t.hide_editor_body=!0,t.statusbar=!1,this.initializeWysiwygField(e,t)},initializeForAnnouncement:function(t){if(tinymce.get(t))return;const n=e.extend({},b);n.plugins=["advlist","autolink","autoresize","charmap","contextmenu","fullscreen","hr","insertdatetime","link","lists","paste","searchreplace","spellchecker","textcolor","textpattern","visualblocks"],n.menu.insert.items=m.link,n.menu.format="",n.contextmenu=m.link_context,n.menu.tools.items=n.menu.tools.items.replace(m.info,""),n.link_external_only=!0,n.toolbar1=["undo","redo","|","bold","italic","underline","|","bullist","numlist","|","link","unlink","|","fullscreen"],this.initializeWysiwygField(t,n)},save:function(){tinymce.triggerSave()},deactivateWysiwygs:function(e){for(var t=(e=e||g).find(".wysiwyg"),n=0;n<t.length;n++){var i=tinymce.get(t[n].id);i&&(i.initialized=!1,i.remove())}},removeStyleAttributeButtons:C,buttonsProducingStyleAttribute:x};return B}.apply(t,i))||(e.exports=r)},90618:function(e,t,n){var i,r;i=[n(37549),n(92648),n(84551),n(26742),n(89152),n(93660),n(8185),n(29840),n(74663),n(94917),n(71651),n(65872),n(10861),n(35974),n(87954),n(78907)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f){var p,A,g,m,v,y,b,w,x;return p=e("body"),A=e(document),g=function(){return 0===document.querySelectorAll(".modal.in").length},m=function(t){var n=e(t.target),i=!1;n.closest(".cscd-codeeditor").length?i=!0:n.closest(".mce-container").length?i=!(tinymce&&tinymce.isIE&&tinymce.isIE<12):n.closest(".date, .flatpickr-calendar").length&&(i=!0),i&&t.stopImmediatePropagation()},v=function(e){return t.camelCase("sidebarState-"+e.attr("id"))},y=function(t){var n=e(".secondary-menu"),i=!0===n.data("fromflyout"),r=e(".close-sidebar");t&&(t.preventDefault(),n.data("fromflyout",!1)),i&&(A.off("focusin.sidebar").off("keydown.close.sidebar"),e.fn.modal.Constructor.prototype.enforceFocus()),r.blur(),r.removeAttr("aria-expanded"),p.addClass("full-width"),n.attr("aria-hidden",!0),setTimeout((function(){var t=e(".open-sidebar");t.focus(),t.attr("aria-expanded",!1)}),300),i||s.set(v(n),"closed",{expires:1e4})},b=function(n){var i=e(".secondary-menu"),r=e("#flyout"),o=!1,a=e(".open-sidebar");n&&(n.preventDefault(),o=!t.isEmpty(r.has(n.target)),i.data("fromflyout",o)),o&&(A.off("focusin.bs.modal"),A.on({"focusin.sidebar":function(t){i.has(t.target).length||(t.preventDefault(),e(".close-sidebar").trigger("focus"))},"keydown.close.sidebar":function(t){t.which===u.CODES.DOM_VK_ESCAPE&&e(".close-sidebar").trigger("click")}})),a.blur(),a.removeAttr("aria-expanded"),p.removeClass("full-width").addClass("secondary-menu-visible"),i.attr("aria-hidden",!1),setTimeout((function(){var t=e(".close-sidebar");t.focus(),t.attr("aria-expanded",!0)}),300),o||s.set(v(i),"open",{expires:1e4})},w=function(){e("#skip-to-links").focusin((function(){e("table .focused").removeClass("focused")}))},x=function(){A.on("keydown","[role='tab']",(function(t){if(t.which===u.CODES.DOM_VK_DOWN){var n=e(this).parent().closest("[role='tabpanel'], [role='dialog']").find(".tab-content > .active");t.stopImmediatePropagation(),t.preventDefault(),i.focusFirstFocusableElement(n)}}))},{init:function(){var i,r;!function(){e("#nav-search");var i=e(".secondary-menu"),r=e(".content-area-wrapper:not(.contains-iframe) .content-area");n.enable(r.length?r:e("body")),p.on("click",".modal-fullscreen-toggle",(function(e){e.preventDefault(),e.stopImmediatePropagation(),p.toggleClass("modal-box-fullscreen")})),A.on("click.bs.dropdown.data-api",".dropdown .dropdown-stop-propagation",(function(e){e.stopPropagation()})),A.on("hide.bs.dropdown",".dropdown-with-chooser",(function(t){return!e("body").hasClass("chooser-panel-open")})),A.on("hide.bs.dropdown",".dropdown-with-datepicker",(function(t){for(var n=e(t.target).find(".date"),i=0;i<n.length;i++){var r=n[i]._flatpickr;if(r&&r.isOpen)return!1}return!0})),A.on("hide.bs.dropdown",".dropdown-allow-text-selection",(function(e){a.default.isTextSelected()&&e.preventDefault()})),A.on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',t.debounce((function(t){var n=e(this);t.which===u.CODES.DOM_VK_TAB&&t.shiftKey&&n.parent().hasClass("open")&&n.dropdown("toggle")}),100)),A.on("focusout.dropdown.data-api",".dropdown-menu",t.debounce((function(n){var i=e(this);if(i.parent().hasClass("open")&&t.isNumber(n.which)){var r=document.activeElement,o=e(r);o.hasClass("modal")||o.is("body")||e.contains(this,r)||i.parent().find("[data-toggle=dropdown]").dropdown("toggle")}}),100)).on("keydown.bs.dropdown.data-api","[data-toggle=dropdown], [role=menu]",e.fn.dropdown.Constructor.prototype.keydown),A.on({"show.bs.modal":function(){g()&&A.on("focusin",m)},"hidden.bs.modal":function(){g()&&A.off("focusin",m)}});var s=function(){e.ajax({url:o.default.absolutePath("/ajax/getMessages.act",{unreadCount:!0}),data:null,success:function(t){e(".notification-count").html(t.unreadMessageCount)}})};p.one("show.bs.dropdown",".user-name",(function(){e(".notification-count").html("-")})),p.on("shown.bs.dropdown",".user-name",(function(){s()})),A.ajaxError((function(e,t){401===t.status&&(window.location=o.default.absolutePath("/login.act"))})),c.init(e("#flyout"),{onShow:s,onShown:function(){h.INTERFACE.trackEvent("Opened System Flyout")},onHide:function(){i.length&&!0===i.data("fromflyout")&&y()},keyboardShortcut:"]"}),A.on("click","[data-toggle=collapse]",(function(){var t=e(this);f.setContent(t.find(".collapsed-icon"),t.hasClass("collapsed")?l.get("collapsible.section.open.label"):l.get("collapsible.section.close.label"))})),w(),x()}(),i=e(".main-content"),r=e(".secondary-menu"),e(".close-sidebar").on("click",y),e(".open-sidebar").on("click",b),e(".drag-bar").on("mousedown",t.debounce((function(e){e.preventDefault(),p.addClass("jsResizingSecondaryMenu"),A.mousemove((function(e){var t=e.pageX+2;t>=300&&t<=600&&(r.css({width:t}),i.css({"margin-left":t}))}))}),20)),A.mouseup((function(e){p.hasClass("jsResizingSecondaryMenu")&&h.INTERFACE.trackEvent("Resized LHS",{resizedWidth:r.width()}),p.removeClass("jsResizingSecondaryMenu"),A.unbind("mousemove")})),"closed"===s.get(v(r))&&y()},toggleSidebar:function(){p.find(".secondary-menu").length&&(p.hasClass("full-width")?b():y())},disableButton:function(e){return r.disableClicking(e),function(){r.enableClicking(e)}}}}.apply(t,i))||(e.exports=r)},90095:function(e,t,n){var i,r;i=[n(37549),n(93541),n(70346)],void 0===(r=function(e,t,n){return{init:function(){n.init()}}}.apply(t,i))||(e.exports=r)},88229:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(12596),n(14741),n(6365),n(50384),n(93660),n(6367),n(24819),n(26742),n(80471),n(26347),n(29521),n(2687),n(14225)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f){var p=e("#container-contents"),A=null,g=o.init(p,null,{columns:[{data:"tOrDn",render:function(e,t,n,i){return"display"===t?c.render(n,{}):e||n.label}},{data:"localizedType"},{data:null,defaultContent:"",render:function(e,n,i,r){var o=e.lastModifiedOn?d.render(e.lastModifiedOn)+" "+t.I18n.get("common.words.by.lc")+" "+(e.lastModifiedBy?c.render(e.lastModifiedBy,{hoverable:!1}):t.I18n.get("common.words.no.one")):"";return"display"===n?o:e.lastModifiedOn}}]});e("#move-selection").on("submit.cs.chooser.panel",(function(){f.performFromChooser.call(this,g,s.default.absolutePath("/ajax/multisubmit/confirmMoveEntities.act"))})),e("#copy-selection").on("submit.cs.chooser.panel",(function(){f.performFromChooser.call(this,g,s.default.absolutePath("/ajax/multisubmit/confirmCopyEntities.act"))})),e(".delete-selection").on("click",(function(){f.perform.call(this,g,s.default.absolutePath("/ajax/multisubmit/confirmDeleteEntities.act"),{publishMode:"unpublish"})})),e(".publish-selection").on("click",(function(){f.perform.call(this,g,s.default.absolutePath("/ajax/multisubmit/confirmPublishEntities.act"),{publishMode:"publish"})})),e(".unpublish-selection").on("click",(function(){f.perform.call(this,g,s.default.absolutePath("/ajax/multisubmit/confirmUnpublishEntities.act"),{publishMode:"unpublish"})})),h.listenTo("COMMAND",(function(t){"REFRESH_ASSET_LISTING"===t.command&&e("body").trigger("cs.assetlisting.changed")})),e("body").on("cs.assetlisting.changed",(function(){g.ajax.reload((function(){A&&a.processOperationResults(A,g),A=null}))}))}.apply(t,i))||(e.exports=r)},65148:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(12596),n(93660)],void 0===(r=function(e,t,n,i,r){var o=r.default.absolutePath("/ajax/startadmin.act");return{init:function(e,t){var r=n.getStandardFormForModal(),a={type:e,siteId:t||""};n.addPreSubmitHandler(r,(function(){return a.subType=i.find("input[name='subType']:checked").val(),i.open(o,a),!1}))}}}.apply(t,i))||(e.exports=r)},87876:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(12596),n(50384),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a=o.default.absolutePath("/ajax/start.act"),s={order:[[1,"asc"]],select:{style:"single"}};return{init:function(e){var o=n.getStandardFormForModal(),l=t.Variables.get("highlightedAssetId"),c={afId:e,highlightedAssetId:l};n.addPreSubmitHandler(o,(function(){return c.subType=i.find("input[name='subType']:checked").val(),i.open(a,c),!1}));var u=i.find(".site-select");u.length&&(u.siteSelect(),u[0].selectize.on("change",(function(t){var n={afId:e,highlightedAssetId:l,siteId:t||""};i.open(a,n,null,null,null,null,!0)})));var d=i.find(".sub-type-table");d.length&&r.init(d,null,s).row(0).select()}}}.apply(t,i))||(e.exports=r)},94356:function(e,t,n){var i,r;i=[n(37549),n(53376)],void 0===(r=function(e){var t=e("#agreedToTerms"),n=e("#accessibilityChecksEnabled"),i=e("#allowDataStorage"),r=e("#accessibilityCheckerFrequency"),o=function(){var t=r.val();e(".accessibilityCheckerFrequencyDays").toggle("weekly"===t),e(".accessibilityCheckerFrequencyTime").toggle("weekly"===t)};o(),r.on("change",o),t.on("change",(function(){var e=this.checked;n.prop("disabled",!e),i.prop("disabled",!e),e||(n.prop("checked",""),i.prop("checked",""))}))}.apply(t,i))||(e.exports=r)},6956:function(e,t,n){var i,r;i=[n(37549),n(93541),n(2826),n(92648),n(26742),n(50384),n(93660),n(4258),n(80471),n(12596),n(24819),n(14741),n(16412),n(69651),n(26742),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,r,p){var A=e("#messagesTable"),g=a.default.absolutePath("/administration/announcements/load.act"),m=a.default.absolutePath("/entity/createAnnouncement.act"),v=e(".filter-status"),y=function(e){return g+("all"!==(e=e||"all")?"?filter="+e:"")},b=o.init(A,null,{ajax:{url:y("all"),dataSrc:""},columnDefs:[{targets:2,sortable:!1}],columns:[{data:"subject",render:function(e,n,i,r){if("display"===n){const n=i.urgency.toLowerCase();return null!==e&&""!==e||(e=t.I18n.get("common.words.none")),'<div class="announcement-subject truncate">'+u.render({id:i.id,type:"message",label:e||i.subject},{icon:n})+"</div>"}return e}},{data:"body",render:function(e,t,n,i){return'<div class="announcement-body-preview clamp-overflow-sm">'+r.removeAnyScriptTags(e)+"</div>"}},{data:"sendDate",render:function(e,n,i,r){return"display"===n?e>0?l.render(e):t.I18n.get("common.words.none"):e}},{data:"receiveDate",render:function(e,i,r,o){return"display"===i?n(e).isValid()?l.render(e):t.I18n.get("common.words.none"):e}},{data:"senderId",render:function(e,t,n,r){return i.escape(e)}}],initComplete:function(e,t){s.default.init(this)}});e("#create").on("click",(function(){var e=t.UI.disableButton(this);c.focusElementOnHide(this),c.open(m,null,null,(function(){b.ajax.reload()}),e)})),b.on("init.dt",(function(t,n,i){var r=new e.fn.dataTable.Api(n);v.on("click",(function(){var t=e(this),n=e(this).data("status");v.removeClass("active"),t.addClass("active"),o.deselectAllRows(b),r.cell.blur(),r.ajax.url(y(n)).load((function(){o.focusFirstTableRow(A)}))}))})),e(".delete-selection").on("click",(function(){var e=t.UI.disableButton(this);confirm(t.I18n.get("prompt.broadcastmessage.delete"))?o.performMultiOp(a.default.absolutePath("/ajax/multisubmit/delete.act"),o.getSelectedAssets(b),b,(function(e,t,n){var i=r.getJsonResponseStatus(e);d.showHtml(i.message,{type:i.status})}),e):e()})),p.GENERAL.trackEvent("Viewed Announcements Screen")}.apply(t,i))||(e.exports=r)},24986:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(14741)],void 0===(r=function(e,t,n,i){var r=e("#assetFactoryPluginForm"),o=e("#current-plugins"),a=e("#pluginToAdd");r.attr("data-ajax-submit",!0),n.addSuccessCallback(r,(function(e){o.html(e),a.val("").focus(),i.showText(t.I18n.get("message.assetfactory.plugin.added"),{type:"success"})}))}.apply(t,i))||(e.exports=r)},76209:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(53376)],void 0===(r=function(e,t,n,i){var r,o,a,s,l,c;function u(e){return t.trim(e.text())}function d(e){return t.chain(e).trim().escape().value()}function h(){if(s.is(":checked")){var e="<custom-authentication-module>\r\n";e+="    <class-name>",e+=d(a.val()),e+="</class-name>\r\n",e+="    <error-page-url>",e+=d(c.val()),e+="</error-page-url>\r\n",e+="    <should-intercept-login-page>",e+=l.is(":checked")?"true":"false",e+="</should-intercept-login-page>\r\n",e+="</custom-authentication-module>",o.val(e)}else o.val(" ")}return{init:function(){var n,d,f,p,A;r=i.getStandardForm(),o=e("#xml"),a=e("#className"),c=e("#errorPageUrl"),s=e("#enableCustomAuthentication"),l=e("#interceptLoginPage"),i.addPreSubmitHandler(r,h),s.change((function(){var e=!s.is(":checked");a.add(l).add(c).prop("disabled",e)})),A=function(n){var i=null;if(n=t.trim(n),!t.isEmpty(n))try{i=e(e.parseXML(n))}catch(e){return alert("Parsing error - "+e),null}return i}(o.val()),a.add(c).val(""),l.prop("checked",!1),A?(n=u(A.find("class-name")),d=u(A.find("error-page-url")),f=u(A.find("should-intercept-login-page")),s.prop("checked",!0),a.val(n),c.val(d),l.prop("checked",(p=f,!!(p=t.toLower(p))&&("true"==p||"yes"==p)))):s.prop("checked",!1).trigger("change")}}}.apply(t,i))||(e.exports=r)},22940:function(e,t,n){var i,r;i=[n(37549),n(93541),n(14741)],void 0===(r=function(e,t,n){}.apply(t,i))||(e.exports=r)},78828:function(e,t,n){var i,r;i=[n(37549),n(93541),n(2826),n(92648),n(50384),n(4258),n(93660),n(80471),n(24819),n(12993),n(41057),n(12596),n(2687)],void 0===(r=function(e,t,i,r,o,a,s,l,c,u,d,h){var f=e("#configurationsTable"),p=null,A=o.init(f,null,{ajax:{url:s.default.absolutePath("/ajax/getEditorConfigurations.act"),dataSrc:"editorconfigurations"},rowId:"id",columns:[{data:"label",render:function(e,t,n,i){return"display"===t?c.render(n,{}):e||n.label}},{data:"createdOn",render:function(e,n,r,o){return e?"display"===n?i(e).isValid()?l.render(e):t.I18n.get("common.words.none"):e:""}},{data:"lastModifiedOn",render:function(e,n,r,o){return e?"display"===n?i(e).isValid()?l.render(e):t.I18n.get("common.words.none"):e:""}},{orderable:!1,render:function(e,n,i,r){return'<button type="button" class="btn-ghost btn-sm toggle-details">'+t.I18n.get("label.preview")+"</button>"}}],initComplete:function(){a.default.init(this)}}),g=function(e,t,n){var i=o.getSelectedAssets(A);r.isObject(t)&&(i=r.assign(t,i)),h.open(e,i,r.bind(m,this),(function(e){v(e)}),null,n)},m=function(){var t={dom:"tp"};e(this).data("toggle")||Promise.resolve().then((function(){var e=[n(16412)];(function(e){e.show()}).apply(null,e)})).catch(n.oe),o.init(e("#success-table"),null,t),o.init(e("#failure-table"),null,t)},v=function(e){p=e.results,o.deselectAllRows(A),o.processOperationResults(e.results,A)};e(".delete-selection").on("click",(function(){var e=t.UI.disableButton(this);h.focusElementOnHide(this),g.call(this,s.default.absolutePath("/ajax/multisubmit/confirmDeleteEntities.act"),{publishMode:"unpublish"},e)})),A.on("user-select",(function(e,t,n,i,r){-1!==r.target.className.indexOf("toggle-details")&&e.preventDefault()})),f.on("click",".toggle-details",(function(n){var i=A.row(e(n.target).closest("tr")),o=i.child,a={id:i.id(),type:"editorconfiguration"};o.isShown()?(d.deactivate(o()),o.hide()):e.ajax({url:s.default.absolutePath("/ajax/getAssetInfo.act"),dataType:"json",type:"GET",data:{id:a.id,type:a.type},success:function(e){o(u.get("chooserSelectedRowDetails")({I18n:t.I18n,RelativeTime:l,asset:r.merge(a,e.dom),contextPath:s.default.getContextPath()})).show(),d.activate(o(),!1,!0)}})})),e("body").on("cs.assetlisting.changed",(function(){A.ajax.reload((function(){p&&(o.deselectAllRows(A),o.processOperationResults(p,A)),p=null}))}))}.apply(t,i))||(e.exports=r)},2045:function(e,t,n){var i,r;i=[n(37549),n(10776),n(93541),n(53376),n(14741),n(12993),n(26742),n(89152)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=e("#export-database-form"),c=e("#status"),u=s.getClosestParent(document.getElementById("status"),"div"),d=document.getElementById("export-wrapper"),h=document.getElementById("primary-submit"),f=o.get("exportDatabase"),p=function(){s.toggleClass(u,"hide"),s.toggleClass(d,"hide")};l.attr("data-ajax-submit",!0),l.on("click","#download-export",(function(){p(),s.enableClicking(h)})),i.addPreSubmitHandler(l,(function(){c.html(f({I18n:n.I18n,loading:!0})),p()})),i.addSuccessCallback(l,(function(e){var t=a.parseJson(e,{downloadUrl:""}),i=a.getJsonResponseStatus(t);t.downloadUrl?(c.html(f({I18n:n.I18n,url:t.downloadUrl,loading:!1})),r.showText(n.I18n.get("status.export.successful"),{type:"success"})):r.showText(i.message,{type:i.status})}))}.apply(t,i))||(e.exports=r)},89225:function(e,t,n){var i,r;i=[n(37549),n(93541),n(41877),n(2546),n(60629),n(14741),n(53376),n(51517),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c,u,d,h="options",f=-1,p=0,A=[];function g(){e("input[type=checkbox], input[type=radio]",e("#options, #policies")).removeAttr("checked").prop("checked",!1),e("input[type=text]",e("#options, #policies")).val(""),e("#automaticSynchronizationDetails").hide(),e("#generateReportDetails").hide(),e("#sslBindingProperties").hide(),e("#policyList").html(""),f=-1,p=0,y()}function m(){0==p&&(e("#policyList").append(w()),e("#policyTypeChoiceUser"+f).click()),e("#policyList .containerIdentifiers").each((function(){0==e(this).find("input").size()&&e(this).parents(".containerIdentifiersWrapper").find(".addIdentifier").click()})),e("#policyList .objectAttributeFilters").each((function(){0==e(this).find("input").size()&&e(this).parents(".objectAttributeFiltersWrapper").find(".addFilter").click()})),0==e("input[name=orphanedLdapUsers]:checked").size()&&e("#orphanedLdapUsers-ignore").click(),0==e("input[name=ldapVersion]:checked").size()&&e("#ldapVersion-3").click(),0==e("input[name=bindingClassName]:checked").size()&&e("#bindingClassName-cleartext").click(),0==e("input[name=authType]:checked").size()&&e("#authType-simple").click(),0==e("input[name=repeatTimeUnit]:checked").size()&&e("#repeatTimeUnit-days").click();for(var t=0;t<=f;t++)0!=e("#policy-"+t).size()&&(0==e("input[name=filterType"+t+"]:checked").size()&&e("#filterTypeObjectAttribute"+t).click(),0==e("input[name=authenticationMode"+t+"]:checked").size()&&e("#authenticationModeLdap"+t).click(),T(e("#policySummary"+t)))}function v(){e("#bindingClassName-cleartext").removeAttr("disabled"),e("label[for=bindingClassName-cleartext]").removeClass("disabled")}function y(){var t=e("#port").val(),n=null;"389"==t?n=e("#port-default"):"636"==t?n=e("#port-ssl"):""!=t&&(n=e("#port-custom")),null!=n&&(n.attr("checked","checked").prop("checked",!0),"port-custom"==n.attr("id")?v():n.trigger("click"))}function b(t){return e(t).parents(".policyHead")}function w(){f++,p++;var t=e("#policyTemplate").clone();return t.attr("id","policy-"+f),t.find(".form-group-collapsible-header").attr("data-target","#policy-"+f+"-collapse"),t.find(".form-group-collapsible-header").attr("id","policy-"+f+"-header"),t.find(".form-group-collapsible-body").attr("id","policy-"+f+"-collapse"),function(t,n){n.each((function(){x(t,e(this).attr("id"),f)}))}(t,t.find("input, select")),t.css("display",""),1==p?t.find(".btn-remove-policy").css("display","none"):e("#policyList").find(".btn-remove-policy").css("display",""),t}function x(e,t,n){var i=e.find("#"+t);i.attr("id",t+n),e.find("label[for="+t+"]").attr("for",t+n);var r=i.attr("name");r&&i.attr("name",r+n)}function C(e){1==e.find(".containerIdentifiers > *").size()?e.find(".containerIdentifiers .deleteContainerIdentifier").hide():e.find(".containerIdentifiers .deleteContainerIdentifier").show()}function k(t){var n=b(t);n.find(".filters").append(e("#objectAttributeFilterTemplate").children().clone());for(var i=0;e("#objectAttributeFilterName"+i).size()>0;)i++;x(n,"objectAttributeFilterName",i),x(n,"objectAttributeFilterValue",i),S(n)}function S(e){1==e.find(".filters > *").size()?e.find(".filters .deleteFilter").hide():e.find(".filters .deleteFilter").show()}function E(t){e(t).is(":checked")?e(t).parents(".existingGroupWrapper").find(".newGroupRolesChoice").show("blind"):e(t).parents(".existingGroupWrapper").find(".newGroupRolesChoice").hide("blind")}function T(t){var n=b(t),i=e(t).val();""==i&&(i=e("#policyTemplate").find(".title").text()),n.find(".title").text(i)}function B(){if("xml"!==h){D();var n=function(){var n="";if(e("#generateReport").is(":checked")){var i=e.trim(e("#sendReportToEmail").val());if(""==i)n+=t.I18n.get("error.ldap.emailrequired")+"<br/>";else{var r=i.split(","),o=!0;_.each(r,(function(t){_.isValidEmail(e.trim(t))||(o=!1)})),o||(n+=t.I18n.get("error.ldap.invalidemail")+"<br/>")}}""==e.trim(e("#hostname").val())&&(n+=t.I18n.get("error.ldap.hostnamerequired")+"<br/>");var a=e.trim(e("#port").val());if(""==a?n+=t.I18n.get("error.ldap.portrequired")+"<br/>":I(a)||(n+=t.I18n.get("error.ldap.invalidport")+"<br/>"),e("#automaticSynchronization").is(":checked")){var s=e.trim(e("#repeatEvery").val());""==s?n+=t.I18n.get("error.ldap.frequencyrequired")+"<br/>":I(s)||(n+=t.I18n.get("error.ldap.invalidfrequency")+"<br/>")}for(var l=0;l<=f;l++){var c=e("#policy-"+l);if(0!=c.size()){var u=e.trim(ae(c.find(".policySummary").val()));c.find(".policyTypeChoiceUser").is(":checked")?c.find(".containerIdentifier").each((function(){if(""==e.trim(e(this).val()))return n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.containeridentifierrequired")+"<br/>",!1})):c.find(".policyTypeChoiceGroup").is(":checked")&&(""==e.trim(c.find(".securityGroupId").val())&&(n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.securitygroupidrequired")+"<br/>"),""==e.trim(c.find(".groupMemberAttributeId").val())&&(n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.groupmemberattributeidrequired")+"<br/>")),""==e.trim(c.find(".usernameAttribute").val())&&(n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.usernameattributerequired")+"<br/>"),0==c.find(".policyRoles :selected").size()&&(n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.rolesrequired")+"<br/>"),c.find(".newGroupWrapper").each((function(){var i=e(this),r=i.find(".newGroup"),o=i.find(".groupRolesIfNew option:selected");return""===e.trim(r.val())?(n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.newgroupnamerequired")+"<br/>",!1):o.length?void 0:(n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.assignrolesoncreationrequired")+"<br/>",!1)})),c.find(".existingGroupWrapper").each((function(){var i=e(this),r=i.find("[name=GroupSelect]"),o=i.find(".groupReCreate"),a=i.find(".groupRolesIfNew option:selected");return r.length&&""!==e.trim(r.val())?o.is(":checked")&&!a.length?(n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.assignrolesoncreationrequired")+"<br/>",!1):void 0:(n+=t.I18n.get("error.ldap.policy")+u+": "+t.I18n.get("error.ldap.existinggroupnamerequired")+"<br/>",!1)}))}}return n}();if(n)return o.showHtml(n,{type:"danger"}),!1}return c.syncValues(),!0}function I(e){return!isNaN(e)&&e%1==0&&e>0}function D(){var t="<ldap-synchronization-configuration>\r\n";t+=function(){var t="  <options>\r\n";return t+="    "+ie("is-enabled","enabled"),t+="    "+re("orphaned-ldap-users","orphanedLdapUsers"),t+=function(){var e="    <user-requirements>\r\n";return e+="      "+ie("email-required","emailRequired"),e+="      "+ie("full-name-required","fullNameRequired"),e+="    </user-requirements>\r\n"}(),t+=function(){var t="    <server>\r\n";return t+="      "+re("ldap-version","ldapVersion"),t+="      "+oe("hostname","hostname"),t+="      "+oe("port","port"),t+=function(){var e="      <security>\r\n";return e+="        "+oe("username","username"),e+="        "+oe("password","password"),e+="      </security>\r\n"}(),t+="      "+re("auth-type","authType"),t+=function(){var t="      <binding>\r\n";return t+="        "+re("classname","bindingClassName"),t+="        <parameter>\r\n",t+="          <name>trust-server-certificate</name>\r\n",t+="          <value>"+(e("#trustServerCertificate").is(":checked")?"true":"false")+"</value>\r\n",t+="        </parameter>\r\n",t+="      </binding>\r\n"}(),t+="    </server>\r\n"}(),t+=function(){var e="    <report>\r\n";return e+="      "+ie("generate-report","generateReport"),e+="      "+oe("send-to-email","sendReportToEmail"),e+="    </report>\r\n"}(),t+="    "+ie("automatic-synchronization","automaticSynchronization"),t+="  </options>\r\n"}(),t+=function(){if(!e("#automaticSynchronization").is(":checked"))return"";var t="  <schedule>\r\n";return t+="    "+oe("repeat-every","repeatEvery"),t+="    "+re("repeat-time-unit","repeatTimeUnit"),t+="  </schedule>\r\n"}(),t+=function(){var t="  <policies>\r\n",n=0;A=[];for(var i=0;i<=f;i++){var r=e("#policy-"+i);if(r.length){t+=F(i);var o=r.find("div.group-content");A[n]="none"==o.css("display"),n++}}return t+="  </policies>\r\n"}(),t+="</ldap-synchronization-configuration>",c.setValue(t)}function F(t){var n=e("input[name=policyTypeChoice"+t+"]:checked").val(),i="    <"+n+' summary="'+e.trim(ae(e("#policySummary"+t).val()))+'">\r\n';i+="      "+oe("security-group-id","securityGroupId"+t),i+="      "+oe("group-member-attribute-id","groupMemberAttributeId"+t),e("#policy-"+t).find(".containerIdentifiers input[type=text]").each((function(){i+="      <container-identifier>"+ae(this.value)+"</container-identifier>\r\n"}));var r=e("input[name=filterType"+t+"]:checked").val();return"object-attribute-filter"==r?i+=function(t){var n="";return e("#policy-"+t).find(".objectAttributeFilterWrapper").each((function(){var t=e(this),i=e.trim(t.find(".objectAttributeFilterName").val()),r=e.trim(t.find(".objectAttributeFilterValue").val());(i||r)&&(n+="      <object-attribute-filter>\r\n",n+="        <name>"+ae(i)+"</name>\r\n",n+="        <value>"+ae(r)+"</value>\r\n",n+="      </object-attribute-filter>\r\n")})),n}(t):"freeform-filter"==r&&e.trim(e("#freeformFilter"+t).val())&&(i+="      "+oe("freeform-filter","freeformFilter"+t)),i+="      "+oe("username-attribute","usernameAttribute"+t),i+="      "+oe("email-attribute","emailAttribute"+t),i+="      "+oe("full-name-attribute","fullNameAttribute"+t),i+="      "+ie("enable-new-users","enableNewUsers"+t),i+="      "+ie("convert-usernames-to-lowercase","convertUsernamesToLowercase"+t),i+="      "+re("authentication-mode","authenticationMode"+t),i+=function(t){var n=e("#policy-"+t),i='      <system-groups remove-from-other-groups="'+(e("#removeFromOtherGroups"+t).is(":checked")?"true":"false")+'">\r\n';return n.find(".existingGroups [name=GroupSelect]").each((function(){var t=e(this),n=t.parents(".existingGroupWrapper");i+="        <group>\r\n",i+="          <name>"+ae(M(t.val()))+"</name>\r\n",n.find(".groupReCreate").is(":checked")&&(i+=L(n.find(".groupRolesIfNew :selected"))),i+="        </group>\r\n"})),n.find(".newGroups .newGroup").each((function(){var t=e(this);i+="        <group>\r\n",i+="          <name>"+ae(M(t.val()))+"</name>\r\n",i+=L(t.parents(".newGroupWrapper").find(".groupRolesIfNew :selected")),i+="        </group>\r\n"})),i+="      </system-groups>\r\n"}(t),i+=function(t){var n='      <system-roles remove-from-other-roles="'+(e("#removeFromOtherRoles"+t).is(":checked")?"true":"false")+'">\r\n';return e("#policyRoles"+t+" :selected").each((function(){n+="          <role>"+e(this).text()+"</role>\r\n"})),n+="      </system-roles>\r\n"}(t),i+="    </"+n+">\r\n"}function M(e){return e in u?u[e]:e}function L(t){var n="          <create-if-does-not-exist>\r\n";return t.each((function(){n+="            <role>"+e(this).text()+"</role>\r\n"})),n+="          </create-if-does-not-exist>\r\n"}function P(){var t,n=(t=c.getValue(),e.parseXML(t));if(null!=n){g();for(var i=n.childNodes[0].childNodes,r=0;r<i.length;r++){var o=i[r];"options"==o.nodeName?R(o.childNodes):"schedule"==o.nodeName?W(o.childNodes):"policies"==o.nodeName&&V(o.childNodes)}m()}}function R(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.nodeName;"is-enabled"==i?ee("enabled",n):"orphaned-ldap-users"==i?te("orphanedLdapUsers",n):"automatic-synchronization"==i?ee("automaticSynchronization",n):"user-requirements"==i?O(n):"server"==i?N(n):"report"==i&&Q(n)}}function O(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t[n],r=i.nodeName;"email-required"==r?ee("emailRequired",i):"full-name-required"==r&&ee("fullNameRequired",i)}}function N(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t[n],r=i.nodeName;"ldap-version"==r?te("ldapVersion",i):"hostname"==r?ne("hostname",i):"port"==r?ne("port",i):"security"==r?U(i):"auth-type"==r||"auth-type"==r?te("authType",i):"binding"==r&&H(i)}y()}function U(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t[n],r=i.nodeName;"username"==r?ne("username",i):"password"==r&&ne("password",i)}}function H(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t[n];"classname"==i.nodeName&&te("bindingClassName",i),$(i)}}function $(t){for(var n=t.childNodes,i=null,r=null,o=0;o<n.length;o++){var a=n[o],s=a.nodeName;"name"==s?i=X(a):"value"==s&&(r=X(a))}"trust-server-certificate"==i&&Z(r)&&e("#trustServerCertificate").attr("checked","checked").prop("checked",!0)}function Q(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t[n],r=i.nodeName;"generate-report"==r?ee("generateReport",i):"send-to-email"==r&&ne("sendReportToEmail",i)}}function W(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.nodeName;"repeat-every"==i?ne("repeatEvery",n):"repeat-time-unit"==i&&te("repeatTimeUnit",n)}}function V(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.nodeName;"user-policy"==i?j(n,"user"):"ad-security-group-policy"==i&&j(n,"group")}}function j(t,n){e("#policyList").append(w()),"user"==n?e("#policyTypeChoiceUser"+f).click():"group"==n&&e("#policyTypeChoiceGroup"+f).click();var i=t.getAttribute("summary");i&&e("#policySummary"+f).val(i);for(var r=t.childNodes,o=!1,a=0;a<r.length;a++){var s=r[a],l=s.nodeName;if("security-group-id"==l)ne("securityGroupId"+f,s);else if("group-member-attribute-id"==l)ne("groupMemberAttributeId"+f,s);else if("container-identifier"==l){e("#policy-"+f+" .addIdentifier").click();var c=X(s);e("#policy-"+f+" .containerIdentifiers").find("input:last").val(c)}else"freeform-filter"==l?(e("#filterTypeFreeform"+f).click(),ne("freeformFilter"+f,s)):"object-attribute-filter"==l?z(s):"username-attribute"==l?ne("usernameAttribute"+f,s):"email-attribute"==l?ne("emailAttribute"+f,s):"full-name-attribute"==l?ne("fullNameAttribute"+f,s):"authenticate-against-ldap-server"==l?ee("authenticateAgainstLdapServer"+f,s):"enable-new-users"==l?ee("enableNewUsers"+f,s):"convert-usernames-to-lowercase"==l?ee("convertUsernamesToLowercase"+f,s):"authentication-mode"==l?""!=X(s)&&(te("authenticationMode"+f,s),o=!0):"system-groups"==l?K(s):"system-roles"==l&&Y(s)}o||function(t){for(var n=0;n<t.length;n++){var i=t[n];if("authenticate-against-ldap-server"==i.nodeName){if(""==X(i))return;var r=J(i)?"ldap":"normal";e("input[name=authenticationMode"+f+"]").each((function(){e(this).attr("value")==r&&e(this).attr("checked","checked").prop("checked",!0)}))}}}(r),A[f]&&toggleCollapsibleGroup(e("#policy-"+f).find(".policyCollapseToggle"),!0)}function z(t){e("#filterTypeObjectAttribute"+f).click(),k(e("#policy-"+f).find(".addFilter"));for(var n=t.childNodes,i=0;i<n.length;i++){var r=n[i],o=r.nodeName,a=X(r);"name"==o?e("#policy-"+f+" .objectAttributeFilters .filters").find(".objectAttributeFilterName:last").val(a):"value"==o&&e("#policy-"+f+" .objectAttributeFilters .filters").find(".objectAttributeFilterValue:last").val(a)}}function K(t){Z(t.getAttribute("remove-from-other-groups"))&&e("#removeFromOtherGroups"+f).attr("checked","checked").prop("checked",!0);for(var n=t.childNodes,i=0;i<n.length;i++){var r=n[i];"group"==r.nodeName&&G(r)}}function G(t){for(var n=new Object,i=t.childNodes,r=0;r<i.length;r++){var o=i[r],a=o.nodeName;"name"==a?(n.name=X(o),n.id=d[n.name]):"create-if-does-not-exist"==a&&(n.create=!0,n.roles=q(o))}n.name in d?function(t){var n=e("#policy-"+f);n.find(".addExistingGroup").click();var i=n.find(".existingGroups").find(".policy-group:last");if((i=i.userGroupChooser().data("cs.chooser")).setChosen({id:t.id,type:"group",label:t.name}),t.create){var r=n.find(".existingGroups").find(".groupReCreate:last");r.attr("checked","checked").prop("checked",!0),E(r);for(var o=n.find(".existingGroups").find(".groupRolesIfNew:last"),a=0;a<t.roles.length;a++)o.find('option[value="'+t.roles[a]+'"]').attr("selected","selected")}}(n):function(t){var n=e("#policy-"+f);n.find(".addNewGroup").click(),n.find(".newGroups").find(".newGroup:last").val(t.name);var i=n.find(".newGroups").find(".groupRolesIfNew:last");if(t.roles)for(var r=0;r<t.roles.length;r++)i.find('option[value="'+t.roles[r]+'"]').attr("selected","selected")}(n)}function q(e){var t=e.childNodes,n=0,i=new Array;for(n=0;n<t.length;n++){var r=t[n];"role"==r.nodeName&&(i[n]=X(r),n++)}return i}function Y(t){Z(t.getAttribute("remove-from-other-roles"))&&e("#removeFromOtherRoles"+f).attr("checked","checked").prop("checked",!0);for(var n=t.childNodes,i=0;i<n.length;i++){var r=n[i];"role"==r.nodeName&&e("#policyRoles"+f).find('option[value="'+X(r)+'"]').attr("selected","selected")}}function X(t){for(var n=t.childNodes,i=0;i<n.length;i++){var r=n[i];if("#text"==r.nodeName)return e.trim(r.nodeValue)}return""}function J(e){return Z(X(e))}function Z(e){return!!e&&("true"==(e=e.toLowerCase())||"yes"==e)}function ee(t,n){J(n)&&(e("#"+t).trigger("click"),e("#"+t).attr("checked","checked").prop("checked",!0))}function te(t,n){var i=X(n);""!==i&&("orphanedLdapUsers"===t&&"remove"===i&&(i="deactivate"),e("input[name="+t+"]").each((function(){var t=e(this);t.attr("value")==i&&(t.attr("checked","checked").prop("checked, true"),t.trigger("click"))})))}function ne(t,n){var i=X(n);e("#"+t).val(i)}function ie(t,n){var i="<"+t+">";return(i+=e("#"+n).is(":checked")?"true":"false")+"</"+t+">\r\n"}function re(t,n){return"<"+t+">"+(e("input[name="+n+"]:checked").val()||"")+"</"+t+">\r\n"}function oe(t,n){return"<"+t+">"+ae(e("#"+n).val())+"</"+t+">\r\n"}function ae(t){return e("<div/>").text(t).html().replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}return e("#action-sync-ldap").click((function(){e.get(l.default.absolutePath("/syncldap.act")).done((function(e){e.success?o.showHtml(e.success,{type:"success"}):o.showHtml(e.error,{type:"danger"})})).fail((function(e){o.showHtml(t.I18n.get("title.error"),{type:"danger"})}))})),{setGroupIdGroupNameMap:function(e){u=e},setGroupNameGroupIdMap:function(e){d=e},init:function(){var r=a.getStandardForm(),o=e("#content-editor");s.init(r),c=o.cascadeCodeEditor().data("cscd-codeeditor"),e("[role=tab]").on({"show.bs.tab":function(){var t;t=e(this).attr("aria-controls"),"xml"==h?P():"xml"==t&&D(),h=t},"shown.bs.tab":function(){"xml"===h&&o.trigger("resize.codeeditor.ace")}}),a.addPreSubmitHandler(r,B),e("button[name=saveAndSync]").on("click",(function(){e("#saveAndSync").val("true"),a.submitStandardForm(r)})),e("button[name=formsubmit]").on("click",(function(){a.submitStandardForm(r)})),e("#port-default").click((function(){e("#port").val(389),v()})),e("#port-ssl").click((function(){e("#port").val(636),e("#bindingClassName-cleartext").attr("disabled","disabled"),e("label[for=bindingClassName-cleartext]").addClass("disabled")})),e("#port-custom").click((function(){e("#port").focus().select(),v()})),e("#automaticSynchronization").change((function(){e("#automaticSynchronizationDetails").fadeToggle()})),e("#generateReport").click((function(){e("#generateReportDetails").fadeToggle()})),e("#port").blur((function(){y()})),e("#bindingClassName-ssl").click((function(){"none"==e("#sslBindingProperties").css("display")&&e("#sslBindingProperties").show("blind")})),e("#bindingClassName-cleartext").click((function(){"none"!=e("#sslBindingProperties").css("display")&&e("#sslBindingProperties").hide("blind")})),e("#ldapVersion-2").click((function(){e("#authType-md5").attr("disabled","disabled"),e("label[for=authType-md5]").addClass("disabled")})),e("#ldapVersion-3").click((function(){e("#authType-md5").removeAttr("disabled"),e("label[for=authType-md5]").removeClass("disabled")}));var u=e("#policyList");u.on("click",".policyTypeChoiceUser, .policyTypeChoiceGroup",(function(){var e,t,n;n=(t=b(e=this)).find(".groupPolicy"),t.find(".userPolicy").toggle("user-policy"===e.value),n.toggle("user-policy"!==e.value),n.find("input").toggleClass("novalidation","user-policy"===e.value)})),u.on("change keyup",".policySummary",(function(){T(this)})),u.on("click",".btn-add-policy",(function(t){var n,i;t.stopPropagation(),n=b(this),(i=w()).hide(),n.after(i),i.show(),e("#policyTypeChoiceUser"+f).click(),e("#filterTypeObjectAttribute"+f).click(),m(),i.find("input")[0].focus()})),u.on("click",".btn-remove-policy",(function(n){n.stopPropagation(),confirm(t.I18n.get("prompt.ldap.policy.delete.confirm"))&&function(t){var n=b(t);n.hide("blind",1e3),setTimeout((function(){n.remove(),1==p&&e("#policyList").find(".btn-remove-policy").css("display","none")}),1500),p--}(this)})),u.on("click",".addIdentifier",(function(){var t;(t=b(this)).find(".containerIdentifiers").append(e("#containerIdentifierTemplate").children().clone()),C(t)})),u.on("click",".deleteContainerIdentifier",(function(){var t;t=b(this),e(this).parents(".containerIdentifierWrapper").remove(),C(t)})),u.on("click",".filterTypeObjectAttribute",(function(){var e;e=b(this),"object-attribute-filter"==this.value?(e.find(".objectAttributeFilters").show(),e.find(".freeformFilter").hide()):(e.find(".objectAttributeFilters").hide(),e.find(".freeformFilter").show())})),u.on("click",".addFilter",(function(){k(this)})),u.on("click",".deleteFilter",(function(){var t;t=b(this),e(this).parents(".objectAttributeFilterWrapper").remove(),S(t)})),u.on("click",".addExistingGroup",(function(){!function(t){var n=b(t);n.find(".existingGroups").append(e("#existingGroupTemplate").children().clone());for(var i=0;e("#field_selectedGroup"+i).size()>0;)i++;x(n,"field_selectedGroup",i),x(n,"chooser-policy-group",i),x(n,"groupReCreate",i),x(n,"groupRolesIfNew",i)}(this)})),u.on("click",".addNewGroup",(function(){!function(t){var n=b(t);n.find(".newGroups").append(e("#newGroupTemplate").children().clone());for(var i=0;e("#newGroup"+i).size()>0;)i++;x(n,"newGroup",i),x(n,"newGroupRoles",i)}(this)})),u.on("click",".deleteExistingGroup",(function(){e(this).parents(".existingGroupWrapper").remove()})),u.on("click",".deleteNewGroup",(function(){e(this).parents(".newGroupWrapper").remove()})),u.on("click",".groupReCreate",(function(){E(this)})),n.init(l.default.absolutePath("/ajax/uploadLdapConfig.act"),(function(t){c=e("#content-editor").cascadeCodeEditor().data("cscd-codeeditor")})),"xml"!=h?(i.syncAllValues(e("#xml")),P()):g(),m()}}}.apply(t,i))||(e.exports=r)},7875:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(14741),n(51517),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a=e("#loggingConfigurationForm"),s=function(n){e("#add-category").on("click",(function(){""!==e("#informationToAdd\\.name").val()&&l("addCategory=true")})),e(".remove-logger").on("click",(function(){var n=t.I18n.get("message.delete.logger.confirmation");confirm(n)&&(e("input[name='currentLoggers["+e(this).data("idx")+"].remove']").val(!0),l())})),e(".logger-level").selectize({openOnFocus:!1}).on("change",(function(){l()}))},l=function(e){n.ajaxModify(a,o.default.absolutePath("/ajax/updateLoggingConfiguration.act?"+(e||"")),{callback:function(e){a=e,s(),i.showText(t.I18n.get("logging.configuration.updated"),{type:"success"})}})};e("#update-logging-changes").on("click",(function(){return l()})),e("#reset-logging-changes").on("click",(function(){var e=t.I18n.get("message.logging.configuration.reset");confirm(e)&&l("resetConfiguration=true")})),s(),r.init(a)}.apply(t,i))||(e.exports=r)},82488:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(50384),n(93660),n(4258),n(80471),n(14741),n(26347),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){var u,d=r.default.absolutePath("/ajax/getNotifications.act"),h=r.default.absolutePath("/ajax/getnotificationdetail.act"),f=r.default.absolutePath("/ajax/multisubmit/marknotifications.act"),p=r.default.absolutePath("/ajax/multisubmit/deleteMessages.act"),A=r.default.absolutePath("/ajax/notifications/deleteAll.act"),g=r.default.absolutePath("/ajax/notifications/markAllRead.act"),m=document.querySelector(".notification-full-report-link"),v=0,y=e("#notifications-table"),b=e(".filter-status"),w=e("#unread-filter"),x=!1,C=n.getQueryParams().id||"",_=n.getQueryParams().tab||"",k=function(e){return d+"?"+("all"===(e=e||"unread")?"showAll=true":"unread=true")},S={serverSide:!0,ajax:{url:k(C?"all":_||"unread")},order:[[2,"desc"]],lengthMenu:[10,20,50,100],createdRow:function(t,n,i){n.hasBeenRead&&e(t).addClass("muted")},columns:[{data:null,orderable:!1,className:"js-toggle-details",render:function(e,t,n,i){var r="";return"display"!==t||e.hasBeenRead||(r='<i class="ci ci-14 ci-fw text-highlight ci-circle" role="img" aria-hidden="true"></i>'),r+'<span id="row-'+n.id+'-subject">'+(n.tOrDN||n.label)+"</span>"}},{data:"receiveDate",orderable:!1,render:function(e,t,n,i){return"display"===t?a.render(e):e}},{visible:!1,data:"hasBeenRead",render:function(e){return e}}],initComplete:function(e,t){o.default.init(this)}},E=function(t){T();var n=t.child,i=t.data(),r=e(t.node());r.addClass("focused shown"),e.ajax({url:h,data:{id:i.id},success:function(e){if(i.hasBeenRead||(r.addClass("muted").find(".ci-circle").remove(),i.hasBeenRead=!0,v--,B()),n(e.notificationBody).show(),e.notificationHasBlobLink){var t=m.cloneNode(!0);t.href=[t.href,"?id=",i.id].join(""),t.setAttribute("data-message-id",i.id),t.setAttribute("aria-describedby",["row-",i.id,"-subject"].join("")),n().find(".operation-report-message").append(t)}n().addClass("row-details")}})},T=function(){var e=y.find("tr.shown");e.length&&(u.row(e).child.remove(),e.removeClass("shown"))},B=function(){(isNaN(v)||v<0)&&(v=0),w.find("span.count").text("("+v+")")};y.on("click",".js-toggle-details",(function(){var e=u.row(this);e.child.isShown()?T():E(e)})),y.on("click",".notification-full-report-link",(function(){c.GENERAL.trackEvent("Viewed full notification",{messageId:this.dataset.messageId})})),y.on("init.dt",(function(t,n,r){var o,a=new e.fn.dataTable.Api(n);b.on("click",(function(){var t=e(this),n=e(this).data("status");b.removeClass("active"),t.addClass("active"),i.deselectAllRows(u),a.cell.blur(),T(),a.ajax.url(k(n)).load((function(){i.focusFirstTableRow(y)}))})),C&&!x&&(o=a.row("#row-"+C)).length&&(e(o.node()),o.show().draw(!1),E(o),x=!0)})),y.on("xhr.dt",(function(e,t,n,i){v=n.responseParams.unreadMessageCount||0,B()})),u=i.init(y,null,S),e("#delete-selection").on("click",(function(){var e=t.UI.disableButton(this),n=i.getSelectedAssets(u),r=1===n.selectedIds.length?t.I18n.get("prompt.multiop.confirm.delete.single"):t.I18n.get("prompt.multiop.confirm.delete").replace(/\{0\}/,n.selectedIds.length);confirm(r)?i.performMultiOp(p,n,u,null,e):e()})),e("#mark-read-selection").on("click",(function(){var e=t.UI.disableButton(this);i.performMultiOp(f+"?read=true",i.getSelectedAssets(u),u,null,e)})),e("#mark-unread-selection").on("click",(function(){var e=t.UI.disableButton(this);i.performMultiOp(f+"?read=false",i.getSelectedAssets(u),u,null,e)})),u.on("user-select",(function(t,n,i,r,o){e(o.target).closest(".js-toggle-details").length&&t.preventDefault()}));var I=function(n,i){var r=t.UI.disableButton(this);confirm(t.I18n.get(i))?e.get(n,{},(function(e){e.error?s.showHtml(e.error,{type:"danger"}):(s.showHtml(e.success,{type:"success"}),u.ajax.reload()),r()})):r()};e("#delete-all").click((function(){I.call(this,A,"prompt.notifications.confirm.delete")})),e("#mark-all-read").click((function(){I.call(this,g,"prompt.notifications.confirm.mark.all.read")})),l.listenTo("COMMAND",(function(e){"REFRESH_NOTIFICATIONS_LISTING"===e.command&&u.ajax.reload()}))}.apply(t,i))||(e.exports=r)},86036:function(e,t,n){var i,r;i=[n(37549),n(10776),n(93541),n(16412),n(53376),n(51517),n(14741),n(26742),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c=e("#optimize-database-form"),u=e(".optimize-options");e("#tool-options").on("change","input",(function(){u.toggleClass("hide","optimize"!==this.value)})),r.addSubmitHandler(c,(function(r){return t.start(),e.ajax({url:c.attr("action"),type:"POST",data:c.serialize(),success:function(e){var r=s.parseJson(e,null);t.done(),r?(r=s.getJsonResponseStatus(r),e.forward?(a.register(r),window.location=l.default.absolutePath(e.forward)):a.showText(r.message,{type:r.status})):(i.onHidden((function(){a.register({status:"success",message:n.I18n.get("message.optimize.database.success")}),window.location=l.default.absolutePath(n.Variables.get("forward"))})),i.focusElementOnHide(c),i.openFromHTML(e))}}),!1})),o.init(c)}.apply(t,i))||(e.exports=r)},15490:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(41877),n(2546),n(53376),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){var s,l,c,u,d="content",h=-1,f={};function p(e){var t=v();e&&e.stopPropagation(),c.append(t),m(),t.find("input")[0].focus()}function A(t){var n=e(this).closest(".pt-class"),i=y(n.data("classid"));t&&t.stopPropagation(),n.find(".pt-class-params").append(i),m(),i.find("input")[0].focus()}function g(e,t,n){var i=e.find("#"+t);i.attr("id",t+n),e.find("label[for="+t+"]").attr("for",t+n);var r=i.attr("name");r&&i.attr("name",r+n)}function m(){var n=t.keys(f);l.toggleClass("hide",!t.isEmpty(n)),e.each(f,(function(t,n){e("#pt-class-"+t).find(".pt-class-add-param").toggleClass("hide",n>0)}))}function v(){var t,n,i=e("#pt-class-template").children().clone();return h++,f[h]=0,i.attr("id","pt-class-"+h),i.data("classid",h),i.find("> .form-group-collapsible-header").attr("data-target","#pt-class-"+h+"-collapse"),i.find("> .form-group-collapsible-body > div").first().attr("id","pt-class-"+h+"-collapse"),i.find("> .form-group-collapsible-header").attr("id","pt-class-"+h+"-header"),i.find("> .form-group-collapsible-body").attr("id","pt-class-"+h+"-body"),i.find(".pt-delete-class").data("classid",h),i.find(".pt-class-add-param").data("classid",h),t=h,n=i,i.find("input").each((function(){g(n,this.id,t)})),i}function y(n){var i=e("#pt-param-template").children().clone();n=t.isUndefined(n)?h:n,t.has(f,n)?f[n]++:f[n]=1;var r="pt-class-"+n+"-param-"+f[n];return i.attr("id",r),i.data("classid",n),i.find("> .form-group-collapsible-header").attr("data-target","#"+r+"-collapse"),i.find("> .form-group-collapsible-body > div").attr("id",r+"-collapse"),i.find(".pt-delete-param").data("classid",n),function(e,t,n){n.each((function(){g(t,this.id,e)}))}(f[n],i,i.find("input")),i}function b(t){var i=e(this),r=i.data("classid");t&&t.stopPropagation(),confirm(n.I18n.get("prompt.publishtrigger.class.delete.confirm"))&&(i.closest(".pt-class").remove(),delete f[r],m())}function w(t){var i=e(this),r=i.data("classid");t&&t.stopPropagation(),confirm(n.I18n.get("prompt.publishtrigger.parameter.delete.confirm"))&&(i.closest(".pt-class-param").remove(),f[r]--,m())}function x(){var n="<publish-triggers>\r\n";c.find(".pt-class").each((function(){var i,r;n+=(i=e(this),r="",r+="    <publish-trigger>\r\n        <class-name>",r+=T(i.find(".className").val()),r+="</class-name>\r\n",i.find(".pt-class-param").each((function(){var n=e(this),i=T(n.find(".paramName").val()),o=T(n.find(".paramValue").val());t.isEmpty(i)||(r+='        <parameter name="',r+=i+'">',r+=o+"</parameter>\r\n")})),r+="    </publish-trigger>\r\n")})),n+="</publish-triggers>",s.setValue(n)}function C(e){return t.isEmpty(e)?n.I18n.get("label.field.empty"):n.I18n.get("prompt.publishtrigger.class").replace("{0}",e)}function _(e){return t.isEmpty(e)?n.I18n.get("label.field.empty"):n.I18n.get("prompt.publishtrigger.parameter").replace("{0}",e)}function k(e){for(var n=e.childNodes,i=0;i<n.length;i++){var r=n[i];if("#text"===r.nodeName)return t.trim(r.nodeValue)}return""}function S(){"xml"!==d&&x()}function E(){c.find(".pt-class").remove(),h=-1,f={}}function T(e){return t.chain(e).trim().escape().value()}function B(e){var t=k(e),n=v();n.find("> .form-group-collapsible-header .title").text(C(t)),n.find(".className").val(t),c.append(n)}function I(){var n=s.getValue();if(!t.isEmpty(n))try{e(e.parseXML(n)).find("publish-trigger").each((function(){!function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.nodeName;"class-name"===i?B(n):"parameter"===i&&D(n)}}(this.children)}))}catch(e){return!1}}function D(t){var n=t.getAttribute("name"),i=k(t),r=y(h),o=e("#pt-class-"+h+"-collapse");r.find(".title").text(_(n)),r.find(".paramName").val(n),r.find(".paramValue").val(i),o.append(r)}return{init:function(){var n=e("#content-editor");s=n.cascadeCodeEditor().data("cscd-codeeditor"),l=e("#pt-class-empty"),c=e("#publish-triggers"),u=o.getStandardForm(),e("[role=tab]").on({"show.bs.tab":function(){var t;t=e(this).attr("aria-controls"),"xml"===d?(E(),I(),m()):"xml"===t&&x(),d=t},"shown.bs.tab":function(){"xml"===d&&n.trigger("resize.codeeditor.ace")}}),o.addPreSubmitHandler(u,S),c.on("click","#pt-add-first-class, .pt-add-class",p),c.on("click",".pt-class-add-param, .pt-add-param",A),c.on("click",".pt-delete-class",b),c.on("click",".pt-delete-param",w),c.on("input",".className, .paramName",t.debounce((function(){var t=e(this),n=t.closest(".form-group-collapsible-body").prev(".form-group-collapsible-header").find(".title"),i=T(t.val());n.text(-1!==this.name.indexOf("className")?C(i):_(i))}),250)),i.init(a.default.absolutePath("/ajax/uploadConfiguration.act"),(function(t){s=e("#content-editor").cascadeCodeEditor().data("cscd-codeeditor")})),"xml"!==d?(r.syncAllValues(e("#xml")),I()):E(),m()}}}.apply(t,i))||(e.exports=r)},27547:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384)],void 0===(r=function(e,t,n){n.init(e("#logs-table"),null,{order:[[1,"desc"]],columns:[null,null,null,{orderable:!1}]})}.apply(t,i))||(e.exports=r)},80539:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(50384),n(4258),n(16412),n(12596),n(51517),n(14741),n(10861),n(26742),n(89152),n(71651),n(93660),n(2687),n(14225)],void 0===(r=function(e,t,i,r,o,a,s,l,c,u,d,h,f,p){var A,g=p.default.absolutePath("/ajax/loadAssetsByTag.act?siteId="),m=p.default.absolutePath("/ajax/addTag.act"),v=p.default.absolutePath("/ajax/getAvailableTags.act?siteId="),y=p.default.absolutePath("/ajax/multisubmit/confirmDeleteTags.act"),b=e("#tagsTable"),w=e("#addTag"),x=e("#tagName"),C=e(".delete-selection"),_=e(".assets-for-selection");return{init:function(l){var d={ajax:{url:v+l,dataSrc:"availableTags"},order:[[1,"asc"]],lengthMenu:[10,20,50,100],rowId:"id",columns:[{data:"name",render:function(e,t){return"display"===t?'<i class="ci ci-tag" role="img" aria-hidden="true"></i> '+e:e}},{data:"usageCount",render:function(e){return e}}],initComplete:function(){o.default.init(this)}};A=r.init(b,null,d);var p=function(){var n=x.val();t.isEmpty(n)||e.ajax({url:m,type:"POST",dataType:"json",data:{tagName:n,siteId:l},success:function(e){e.error?c.showText(e.error,{type:"danger"}):(c.showText(e.success,{type:"success"}),u.CONTENT.trackEvent("Created Tag",{siteId:l,tag:n}),h.disableClicking(w[0]),x.val(""),x.change(),A.ajax.reload())}})};x.on("input",t.debounce((function(){h.toggleClicking(w[0],this.value.length>0)}),250)),x.on("keydown",(function(e){e.keyCode!==f.CODES.DOM_VK_ENTER&&e.keyCode!==f.CODES.DOM_VK_RETURN||p()})),w.on("click",p),C.on("click",(function(){var i=r.getSelectedAssets(A);s.focusElementOnHide(this),s.open(y,i,t.bind((function(){e(this).data("toggle")||Promise.resolve().then((function(){var e=[n(16412)];(function(e){e.show()}).apply(null,e)})).catch(n.oe),r.init(e("#tags-in-use-table"),null,{dom:"tp",order:[[1,"desc"]]})}),this),(function(e){r.deselectAllRows(A),r.processOperationResults(e.results,A),u.CONTENT.trackEvent("Deleted Tags",{siteId:l,numberOfRows:i.selectedIds.length}),A.ajax.reload()}))})),_.on("click",(function(){var e=[],n=A.rows({selected:!0}).data()||{};t.forEach(n,(function(t,n){e.push("tagName="+t.name)})),e.length?(a.focusElementOnHide(this),a.open(g+l+"&"+e.join("&"),null,"html",(function(){u.CONTENT.trackEvent("Viewed Assets with Tags",{siteId:l,numberOfRows:e.length})}))):c.showText(i.I18n.get("warning.no.tags.selected"),{type:"warning"})})),u.CONTENT.trackEvent("Viewed Tags Screen",{sideId:l})}}}.apply(t,i))||(e.exports=r)},16034:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(14741)],void 0===(r=function(e,t,n,i){var r=e("#workflowTriggerForm"),o=e("#current-triggers"),a=e("#triggerToAdd");r.attr("data-ajax-submit",!0),n.addSuccessCallback(r,(function(e){o.html(e),a.val("").focus(),i.showText(t.I18n.get("message.workflowtrigger.added"),{type:"success"})}))}.apply(t,i))||(e.exports=r)},58482:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(60629),n(93660)],void 0===(r=function(e,t,n,i,r){return{init:function(){var t=n.getStandardFormForModal(),o=e(".workflow-mode"),a=e("#workflowDefinitionChooser"),s="#modPluginIdx",l="#pluginMod",c=function(){n.ajaxModify(t,r.default.absolutePath("/ajax/assetFactoryFormModify.act"),{callback:function(e){t=e},replaceModal:!0})};o.on("change",(function(){a.toggleClass("hide",this.checked&&"1"!==this.value)})),t.on("click","#plugin-add",(function(){e("#modPluginClass").val(e("#pluginToAdd").val()),e(l).val("addPlugin"),c()})),t.on("click",".plugin-remove",(function(t){t.stopPropagation();var n=e(this).data("plugin");e(s).val(n),e(l).val("removePlugin"),c()})),t.on("click",".plugin-param-add",(function(){var t=e(this).data("plugin"),n=e("#availableParams-"+t);e(s).val(t),e("#modParamName").val(n.val()),e(l).val("addParam"),c()})),t.on("click",".plugin-param-remove",(function(){var t=e(this),n=t.data("param"),i=t.data("plugin");e("#modParamIdx").val(n),e(s).val(i),e(l).val("removeParam"),c()})),i.init(t)}}}.apply(t,i))||(e.exports=r)},35690:function(e,t,n){var i,r;i=[n(2687),n(14225)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},1171:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(60629)],void 0===(r=function(e,t,n,i){return{init:function(){i.init(n.getStandardFormForModal())}}}.apply(t,i))||(e.exports=r)},59935:function(e,t,n){var i,r;i=[n(37549),n(93541),n(12596),n(70346),n(88229),n(60629)],void 0===(r=function(e,t,n,i,r,o){o.init()}.apply(t,i))||(e.exports=r)},90148:function(e,t,n){var i,r;i=[n(37549),n(53376),n(43200)],void 0===(r=function(e,t,n){return{init:function(){n.init("block"),e("#chooser-metadataSetId").on("submit.cs.chooser.panel",(function(){t.updateForm(n.find())}))}}}.apply(t,i))||(e.exports=r)},37162:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(43200)],void 0===(r=function(e,t,n,i){var r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y=function(){var e="FOLDER"===c.val()&&!(h[0].checked&&A[0].checked);s.prop("disabled",e)},b=function(){var e="FOLDER"===c.val()&&!f[0].checked&&!m[0].checked,t="FOLDER"===c.val()&&!f[0].checked||!A[0].checked;l.prop("disabled",e),g.prop("disabled",t).parents(".radio").toggleClass("disabled",t)},w=function(e,t){e.prop("disabled",t).parents(".form-group").eq(0).toggleClass("disabled",t)};return{init:function(){i.init("block"),r=e("#editform"),o=r.find(".form-group-CONTENT_TYPE"),a=r.find(".form-group-FOLDER"),s=e("#blockXMLoptionSection"),l=e("#pageXMLoptionSection"),c=e("#indexBlockType"),u=e("#depthOfIndex"),d=e("#maxRenderedEntities"),h=e("#indexBlocks"),f=e("#indexPages"),p=r.find('input[name="renderingOption"]'),A=e("#indexRegularContent"),g=e("#pageXMLoption2"),m=e("#appendCallingPageData"),v=r.find(".js-dependson-blocktype"),c.on("change",(function(){var e=p.filter(":checked").val();a.toggleClass("hide","FOLDER"!==this.value),o.toggleClass("hide","CONTENT_TYPE"!==this.value),v.trigger("change"),w(d,"FOLDER"===c.val()&&"normal"!==e)})),p.on("change",(function(){var e=p.filter(":checked").val();w(u,"normal"!==e&&"hierarchy_and_siblings_and_descendants"!==e),w(d,"FOLDER"===c.val()&&"normal"!==e)})),h.on("change",y),f.on("change",b),A.on("change",(function(){y(),b()})),m.on("change",b),e("#chooser-metadataSetId").on("submit.cs.chooser.panel",(function(){n.updateForm(i.find())}))}}}.apply(t,i))||(e.exports=r)},84651:function(e,t,n){var i,r;i=[n(37549),n(76229),n(53376)],void 0===(r=function(e,t,n){return{init:function(){var i=t.find();t.init("block"),e("#chooser-metadataSetId").on("submit.cs.chooser.panel",(function(){n.updateForm(i)})),e("#chooser-structuredDataDefinitionId").on("submit.cs.chooser.panel clear.cs.chooser.asset",(function(){n.updateForm(i,{skipPersistCollapsedStates:!0})}))}}}.apply(t,i))||(e.exports=r)},72203:function(e,t,n){var i,r;i=[n(37549),n(41877),n(53376),n(43200),n(93660),n(2546)],void 0===(r=function(e,t,n,i,r){var o=function(){e("#content-editor").cascadeCodeEditor()};return{init:function(){i.init("block"),o(),t.init(r.default.absolutePath("/ajax/uploadTextBlock.act"),(function(e){t.updateNameFieldWithUploadedFileNameWithoutExtension(e),o()})),e("#chooser-metadataSetId").on("submit.cs.chooser.panel",(function(){n.updateForm(i.find())}))}}}.apply(t,i))||(e.exports=r)},40359:function(e,t,n){var i,r;i=[n(37549),n(41877),n(53376),n(43200),n(93660),n(2546)],void 0===(r=function(e,t,n,i,r){var o=function(){e("#content-editor").cascadeCodeEditor()};return{init:function(){i.init("block"),o(),t.init(r.default.absolutePath("/ajax/uploadBlock.act"),(function(e){t.updateNameFieldWithUploadedFileNameWithoutExtension(e),o()})),e("#chooser-metadataSetId").on("submit.cs.chooser.panel",(function(){n.updateForm(i.find())}))}}}.apply(t,i))||(e.exports=r)},14070:function(e,t,n){var i,r;i=[n(37549),n(93541)],void 0===(r=function(e,t){return{init:function(){}}}.apply(t,i))||(e.exports=r)},80277:function(e,t,n){var i,r;i=[n(37549),n(93541)],void 0===(r=function(e,t){return{init:function(){}}}.apply(t,i))||(e.exports=r)},39875:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(16412),n(93660)],void 0===(r=function(e,t,n,i,r){var o,a,s,l=r.default.absolutePath("/ajax/statusUpdateConnectorFormModify.act"),c=r.default.absolutePath("/ajax/getAvailablePageConfigurations.act"),u=function(e){e.stopPropagation();var t={mod:this.getAttribute("data-modification"),identifier:this.getAttribute("data-identifier")};n.ajaxModify(o,l,{data:_.toQuery(t),replaceModal:!0})},d=function(){var t=e(this),n=_.keys(t.data("cs.chooser").getChosen())[0],i=t.parents(".contentType");e.ajax({url:c,dataType:"json",type:"GET",data:{id:n,type:"contenttype",originalId:a,originaltype:s},success:function(e){h(i.find("select.output"),e.pageConfigurations)}})},h=function(t,n){var i=t[0].selectize;e.each(i.options,(function(e){i.removeOption(e)}));for(var r=0;r<n.length;r++){var o=n[r].id,a=n[r].name;i.addOption({value:o,text:a})}n.length>0&&i.setValue(n[0].id)};return{init:function(e,t){a=e,s=t,(o=n.getStandardFormForModal()).on("click",".ct-modify",u),o.on("submit.cs.chooser.panel",".contentType .asset-chooser",d),i.find("#contentTypes > .contentType").length>1?i.find(".btn-remove-content-type").show():i.find(".btn-remove-content-type").hide()}}}.apply(t,i))||(e.exports=r)},61525:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(84551),n(16412),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a,s=o.default.absolutePath("/ajax/wordPressConnectorFormModify.act"),l=o.default.absolutePath("/ajax/getAvailablePageConfigurations.act"),c=o.default.absolutePath("/ajax/getAvailableMetadataFields.act"),u=function(t){t.stopPropagation();var o=this.getAttribute("data-modification"),l=this.getAttribute("data-identifier"),c={mod:o,identifier:l};n.ajaxModify(a,s,{data:_.toQuery(c),callback:function(){"add"===o&&e("#tab-ga-connector-contenttypes").on("shown.bs.tab",(function(){i.scrollToInstant(r.find(".modal-scroll-wrapper"),e(".dynamicInfo:last").offset().top)}))},replaceModal:!0})},d=function(){var n=e(this),i=_.keys(n.data("cs.chooser").getChosen())[0],r=n.closest(".dynamicInfo");e.ajax({url:l,dataType:"json",type:"GET",data:{id:i,type:"contenttype",originalId:t.Variables.get("domId"),originaltype:t.Variables.get("domType")},success:function(e){h(r.find("select.output"),e.pageConfigurations)}}),e.ajax({url:c,dataType:"json",type:"GET",data:{id:i,originalId:t.Variables.get("domId"),originaltype:t.Variables.get("domType")},success:function(e){h(r.find("select.metadataField0"),e.metadataFields),h(r.find("select.metadataField1"),e.metadataFields)}})},h=function(t,n){var i=t[0].selectize;e.each(i.options,(function(e){i.removeOption(e)}));for(var r=0;r<n.length;r++){var o=n[r].id,a=n[r].name;i.addOption({value:o,text:a})}n.length>0&&i.setValue(n[0].id)};return{init:function(){(a=n.getStandardFormForModal()).on("click",".ct-modify",u),a.on("submit.cs.chooser.panel",".dynamicInfo .asset-chooser",d)}}}.apply(t,i))||(e.exports=r)},47874:function(e,t,n){var i,r;i=[n(2687),n(97625),n(19563),n(14225)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},92249:function(e,t,n){var i,r;i=[n(2687),n(21502),n(14225)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},57287:function(e,t,n){var i,r;i=[n(37549),n(2687),n(12405),n(14225)],void 0===(r=function(e){}.apply(t,i))||(e.exports=r)},34737:function(e,t,n){var i,r;i=[n(2687),n(68906),n(14225)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},19563:function(e,t,n){var i,r;i=[n(37549),n(10776),n(93541),n(16412),n(14741),n(26742),n(89152),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=s.default.absolutePath("/ajax/googleanalyticsconnector/confirmsync.act"),c=s.default.absolutePath("/ajax/googleanalyticsconnector/performsync.act"),u=e("#js-ga-sync"),d=function(){i.find(".primary").on("click",(function(){a.disableClicking(this),t.start(),i.find(".modal-body").html('<div class="form-section"><p>'+n.I18n.get("message.ga.sync.processing")+"</p></div>"),h()}))},h=function(){e.get(c,{id:n.Variables.get("domId")},(function(e){var t=o.getJsonResponseStatus(e);r.registerAndReload(t)}))};u.on("click",(function(){var e={id:n.Variables.get("domId"),type:"googleanalyticsconnector"};a.disableClicking(u[0]),i.focusElementOnHide(this),i.open(l,e,"html",d)}))}.apply(t,i))||(e.exports=r)},97625:function(e,t,n){var i,r;i=[n(37549),n(92648),n(69320),n(16412),n(53376)],void 0===(r=function(e,t,n,i,r){var o=t.template(e("#ga-verification-template").html()),a=function(t){e("#verifiedActions").toggleClass("hide",!t.success||"unverify"===t.action),"verify"===t.action&&t.authorizationUrl&&(e("#verification-status").addClass("hide"),i.openFromHTML(o({authURL:t.authorizationUrl})),r.addPreSubmitHandler(r.getStandardFormForModal(),(function(){return n.submitAccessToken(a),!1})))};e("#verify-link").click((function(){i.focusElementOnHide(this),n.verify(a)})),e("#unverify-link").click((function(){i.focusElementOnHide(this),n.unverify(a)}))}.apply(t,i))||(e.exports=r)},21502:function(e,t,n){var i,r;i=[n(37549),n(69320)],void 0===(r=function(e,t){e("#verify-link").click(t.verify),e("#unverify-link").click(t.unverify)}.apply(t,i))||(e.exports=r)},12405:function(e,t,n){var i,r;i=[n(37549),n(92648),n(69320),n(16412),n(53376)],void 0===(r=function(e,t,n,i,r){var o=t.template(e("#twitter-verification-template").html()),a=function(e){"verify"===e.action&&e.authorizationUrl&&i.openFromHTML(o({authURL:e.authorizationUrl})),e.success};e("#verify-link").click((function(){i.focusElementOnHide(this),n.verify(a)})),e("#unverify-link").click((function(){i.focusElementOnHide(this),n.unverify()}))}.apply(t,i))||(e.exports=r)},68906:function(e,t,n){var i,r;i=[n(37549),n(69320)],void 0===(r=function(e,t){e("#verify-link").click(t.verify),e("#unverify-link").click(t.unverify)}.apply(t,i))||(e.exports=r)},25415:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(51517),n(12993),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a,s=r.get("fieldSelectionModal"),l=function(n){var i='<ul class="list-unstyled">',r=n.find("input[type=checkbox]:checked");n.find("ul").remove(),r.length>0?r.each((function(t,n){i+="<li>"+e("label[for='"+e(n).attr("id")+"']").text()+"</li>"})):i+="<li>"+t.I18n.get("common.words.none")+"</li>",i+="</ul>",n.append(e(i))},c=function(e){n.ajaxModify(a,o.default.absolutePath("/ajax/contentTypeFormModify.act"+e),{callback:function(e){a=e,u()},replaceModal:!0})},u=function(){n.addPreSubmitHandler(a,(function(){var e="structured"===a.find('input[name="definitionType"]:checked').val()?"editorConfiguration":"structuredDataDefinition";return a.find("#"+e+"Id").val(""),a.find("#"+e+"Path").val(""),!0}))};return{init:function(){a=n.getStandardFormForModal(),u(),a.on("click",".publishMode-selected",(function(){e(this).parents(".pageconfigurationdestination").find(".destinations").show(200)})),a.on("click",".publishMode-all, .publishMode-none",(function(){e(this).parents(".pageconfigurationdestination").find(".destinations").hide(200)})),a.on("submit.cs.chooser.panel",".destinations .asset-chooser",(function(){c("?mod=addDestination")})),a.on("submit.cs.chooser.panel","#edit-contenttype .asset-chooser",(function(){c("")})),a.on("clear.cs.chooser.asset","#edit-contenttype .asset-chooser",(function(){c("")})),a.on("click",".destination-remove",(function(){var t=e(this);c("?pageConfigurationIdToDelete="+t.data("configuration-id")+"&destinationIdToDelete="+t.data("destination-id")+"&mod=deleteDestination")})),a.on("click",".fields-modify",(function(){var n=e(this),i=e("#"+n.data("target")),r=e(s({title:t.I18n.get("heading.field.selection")}));e("#field-selection").remove(),e("body").append(r),r.modal("show").on("hidden.bs.modal",(function(){i.empty().append(e(this).find(".modal-body").children()),l(n.parent())})).find(".modal-body").append(i.children())})),a.on("change",".js-definition-type",(function(){a.find(".definition-type").toggleClass("hide")})),e(".selected-metadata-fields, .selected-structured-data-fields").each((function(t,n){l(e(this))}))}}}.apply(t,i))||(e.exports=r)},10451:function(e,t,n){var i,r,o=n(37549);i=[n(41057),n(2687),n(14225)],void 0===(r=function(e){var t=o("#btn-toggle-preview"),n=o("#contenttype-wysiwyg-preview-wrapper");t.on("click",(function(){var i=n.hasClass("hide"),r=(i?"Hide":"Show")+" Editor Configuration Preview";t.attr("title",r),t.find(".button-text").text(r),n.toggleClass("hide"),i?e.activate(n,!1,!0):e.deactivate(n)}))}.apply(t,i))||(e.exports=r)},19027:function(e,t,n){var i,r;i=[n(37549),n(93541),n(35385),n(35794),n(10776),n(12596),n(10861),n(93660),n(59754),n(6872)],void 0===(r=function(e,t,n,i,r,o,a,s){var l=e("#overview-dashboard");r.start(),n.init(),l.on("hilldash.model.fetched",(function(e){var t=l.data("hilldash.context");i.initialize(t),r.done(),a.DASHBOARD.trackEvent("Viewed Dashboard",{dashboardConfig:t.model||{}})})),l.hilldash({dashboardId:"",sourceUrlRoot:s.default.absolutePath("/ajax/dashboard/overview.act")}),n.addHandler=function(e){l.data("hilldash.context").addWidget(e),a.DASHBOARD.trackEvent("Added Dashboard Widget",e)},l.on("click",".dashboard-header-reset-dashboard",(function(e){e.stopPropagation();var n=confirm(t.I18n.get("prompt.dashboard.reset.confirmation"));return n&&a.DASHBOARD.trackEvent("Reset Dashboard"),n})),l.on("click","#new-task-link",(function(){var e=t.UI.disableButton(this);o.focusElementOnHide(this),o.open(s.default.absolutePath("/entity/createUserTask.act"),{taskForward:"dashboard"},null,(function(){a.COLLABORATION.trackEvent("Created Task",{source:"dashboard"})}),e)}))}.apply(t,i))||(e.exports=r)},9789:function(e,t,n){var i,r;i=[n(37549),n(92648),n(10776),n(93541),n(4258),n(12596),n(48890),n(58340),n(14890),n(1318),n(90815),n(86048),n(50894),n(93660),n(50384),n(10861)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A){var g,m={"content-ownership":{module:a,table:null},drafts:{module:s,table:null},history:{module:l,table:null},locks:{module:c,table:null},"my-tasks":{module:u,table:null},workflows:{module:d,table:null},starred:{module:h,table:null}};function v(e){return t.has(m,e)}function y(t){var i=e("#"+t);if(g=void 0,i.length){if(A.INTERFACE.trackEvent("Viewed My Content",{tabViewed:t}),function(e){return v(e)&&m[e].table}(t))return g=m[t].table,void r.default.init(g.table().node());v(t)&&(i.on({"preXhr.dt":function(){n.start()},"xhr.dt":function(e,t,i,r){n.done()}},"table"),m[t].table="my-tasks"===t?m[t].module.init(i,null,{},"active"):m[t].module.init(i,null,{}))}}return e("[role=tab]").on("shown.bs.tab",(function(){y(e(this).attr("aria-controls")),g&&(g.responsive.rebuild(),g.responsive.recalc(),p.deselectAllRows(g))})),e("#discard-selection").on("click",(function(){var e=i.UI.disableButton(this),t=p.getSelectedAssets(m.drafts.table),n=1===t.selectedIds.length?i.I18n.get("prompt.multiop.confirm.delete.single"):i.I18n.get("prompt.multiop.confirm.delete").replace(/\{0\}/,t.selectedIds.length);confirm(n)?p.performMultiOp(f.default.absolutePath("/ajax/multisubmit/deleteDrafts.act"),t,m.drafts.table,(function(){A.CONTENT.trackEvent("Discarded Draft",{source:"mycontent",numberOfRows:t.selectedIds.length})}),e):e()})),e("#break-selection").on("click",(function(){var e=i.UI.disableButton(this),t=p.getSelectedAssets(m.locks.table);confirm(i.I18n.get("message.break.locks"))?p.performMultiOp(f.default.absolutePath("/ajax/multisubmit/breaklock.act"),t,m.locks.table,(function(){A.COLLABORATION.trackEvent("Broke Lock",{source:"mycontent",numberOfRows:t.selectedIds.length})}),e):e()})),e(".delete-selection").on("click",(function(){var e=i.UI.disableButton(this),t=p.getSelectedAssets(m["my-tasks"].table),n=1===t.selectedIds.length?i.I18n.get("prompt.task.confirm.delete.single"):i.I18n.get("prompt.task.confirm.delete.multi").replace(/\{0\}/,t.selectedIds.length);confirm(n)?p.performMultiOp(f.default.absolutePath("/ajax/multisubmit/delete.act"),t,m["my-tasks"].table,(function(){A.COLLABORATION.trackEvent("Deleted Tasks",{source:"mycontent",numberOfRows:t.selectedIds.length})}),e):e()})),e(".resolve-selection").on("click",(function(){var e=i.UI.disableButton(this),t=p.getSelectedAssets(m["my-tasks"].table);p.performMultiOp(f.default.absolutePath("/ajax/multisubmit/resolve.act"),t,m["my-tasks"].table,(function(){A.COLLABORATION.trackEvent("Resolved Tasks",{source:"mycontent",numberOfRows:t.selectedIds.length})}),e)})),e(".unresolve-selection").on("click",(function(){var e=i.UI.disableButton(this),t=p.getSelectedAssets(m["my-tasks"].table);p.performMultiOp(f.default.absolutePath("/ajax/multisubmit/unresolve.act"),t,m["my-tasks"].table,(function(){A.COLLABORATION.trackEvent("Unresolved Tasks",{source:"mycontent",numberOfRows:t.selectedIds.length})}),e)})),e("#new-task-link").on("click",(function(){var e=i.UI.disableButton(this);o.focusElementOnHide(this),o.open(f.default.absolutePath("/entity/createUserTask.act"),{taskForward:"none"},null,(function(){p.deselectAllRows(m["my-tasks"].table),A.COLLABORATION.trackEvent("Created Task",{source:"mycontent"}),m["my-tasks"].table.ajax.reload()}),e)})),e("#unstar-selection").on("click",(function(){var e=i.UI.disableButton(this),t=p.getSelectedAssets(m.starred.table);confirm(i.I18n.get("prompt.entitystar.multidelete"))?p.performMultiOp(f.default.absolutePath("/ajax/multisubmit/unstarEntities.act"),t,m.starred.table,(function(){A.COLLABORATION.trackEvent("Unstarred Entities",{source:"mycontent",numberOfRows:t.selectedIds.length})}),e):e()})),{init:function(){var e=f.default.getUrlParameter(null,"tab");y(""!==e?e:"starred")}}}.apply(t,i))||(e.exports=r)},23572:function(e,t,n){var i,r;i=[n(37549),n(93541),n(51517),n(54474),n(2687),n(53376),n(70124)],void 0===(r=function(e,t,n,i){return{init:function(){i.init()}}}.apply(t,i))||(e.exports=r)},63748:function(e,t,n){var i,r;i=[n(2687),n(14225)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},85327:function(e,t,n){var i,r;i=[n(37549),n(92648),n(16412),n(41057),n(69651),n(53376),n(10861),n(26742),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){return{init:function(){var c=n.find("form"),u=n.find("input[name=allowStyle]"),d=n.find("input[name=customStyles]"),h=n.find("#validElements"),f=n.find("#invalidElements"),p=n.find("input[name=schema]"),A=n.find(".schema-container"),g=n.find("#schema-form-group .help-block"),m=n.find("#tiny-toolbar-editor"),v=n.find(".format-container"),y=n.find("select[name=customFormatsType]")[0].selectize,b=n.find(".custom-style-format-group"),w=n.find(".custom-style-format-styles-form-group"),x=n.find(".hidden-formats-group"),C=[],_=l.default.absolutePath("/ajax/editorConfigurationFormModify.act"),k="customStyles",S="customStyleFormats",E={headings:["h1","h2","h3","h4","h5","h6"],inline:["code"],blocks:["blockquote","p","div","pre"]},T=function(e){A.addClass("hide"),e&&(n.find("#schema-"+e.value+"-container").removeClass("hide"),g.text(Cascade.I18n.get("label.editorconfiguration.schema."+e.value+".helptext")))},B=function(e){v.addClass("hide"),e&&n.find("#format-"+e+"-container").removeClass("hide")},I=function(e){return e.replace(/'/g,'"')},D=function(e){return e.replace(/['"\s]/g,"")},F=function(e){if(0===e.length)return!1;try{document.createDocumentFragment().querySelector(e)}catch(e){return!1}return!0},M=function(e){if(!e.length)return{};var n=s.stripSurroundingQuotes(e);n=t.split(e,";");var i={};return t.each(n,(function(e,r){var o=n[r].split(/:(?!\/\/|\d)/);if(2===o.length){var a=t.trim(s.stripAllQuotes(o[0])),l=t.trim(o[1]);l=s.stripSurroundingQuotes(JSON.stringify(l)),i[a]=l}})),i},L=function(e){w.toggleClass("hide",!e)},P=function(){var i=[],r=[];c.find('.mce-toolbar[role="toolbar"] .mce-btn').each((function(){var t=e(this);t.hasClass("mce-first")&&i.push("|"),t.hasClass("mce-removed")||i.push(t.attr("tiny-name"))})),c.find('.mce-toolbar[role="menubar"] .mce-btn').each((function(){var t=e(this);t.hasClass("mce-removed")||r.push(t.attr("tiny-name"))}));var o=p.filter(":checked").val(),a=u.is(":checked"),s=y.getValue()===k?d.val():"",l=y.getValue()===S?function(n){var i=[];return c.find(".custom-style-format-group").each((function(){var r="#customStyleFormatInfo-"+e(this).data("idx")+"-",o=e(r+"enable-selector").is(":checked")?function(e){return F(e)?I(e):"*"}(e(r+"selector").val()):"",a={title:t.escape(e(r+"title").val())||"",surroundingElement:t.escape(e(r+"surrounding-element").val())||"",selector:o,classes:t.escape(e(r+"classes").val())||"",styles:n?M(e(r+"styles").val()):{}};a.title.length&&i.push(a)})),i}(a):[],A=function(){var i={},r=n.find("#visible-default-formats option");return r.length&&r.each((function(){var n,r,o=e(this),a=(n=o.val(),r="",t.each(E,(function(e,i){t.find(e,(function(e){return e===n}))&&(r=i)})),r);i[a]=i[a]||[],i[a].push({format:o.val(),title:t.trim(o.text()),icon:"code"===o.val()?"code":""})})),i}()||{},g={allowStyle:a,menuItems:r,buttons:i,customStyles:s,customStyleFormats:l,visibleDefaultFormats:A,schema:o};"html5"===o?g.invalidElements=D(f.val()):"custom"===o&&(g.validElements=D(h.val()));var v=JSON.stringify(g);c.find(".configuration").val(v),m.attr("data-configuration",v)};n.onShown((function(){var o=r.getEditorConfiguration(m),s=function(e){return t.isEmpty(e.customStyles)?t.isEmpty(e.customStyleFormats)?"none":S:k}(o),l=!(!1===o.allowStyle),A=void 0!==o.schema?o.schema:"all";i.activate(n.find(),!0,!1,(function(){n.find(".mce-btn").on("click",(function(){var t=e(this);return t.toggleClass("mce-removed"),"menuitem"===t.attr("role")&&i.toggleMenuItemsButtons(c,t.attr("tiny-name"),!t.hasClass("mce-removed")),!1})),n.find("[tiny-name=styleselect]").on("click",(function(){x.html(e(this).hasClass("mce-removed")?Cascade.I18n.get("label.editorconfiguration.formatting.hidden.formats"):"")}))})),u.prop("checked",l),d.val(o.customStyles),p.filter("[value="+A+"]").prop("checked",!0),f.val(o.invalidElements),h.val(o.validElements),y.setValue(s,!1),x.html(n.find("[tiny-name=styleselect]").hasClass("mce-removed")?Cascade.I18n.get("label.editorconfiguration.formatting.hidden.formats"):""),T(p.filter(":checked")[0]),B(y.getValue()),L(l),a.CONTENT.trackModalOpenedEvent("Editor Configuration Edit",t.merge(o,{formattingType:y.getValue()}))})),n.onHidden((function(){i.deactivate(n.find())})),p.on("change",(function(){T(this)})),u.on("change",(function(){P(),function(t){if(!t){var n=r.getEditorConfiguration(m);C=[],e.each(r.buttonsProducingStyleAttribute,(function(e,t){n.buttons&&-1!==n.buttons.indexOf(t)&&C.push(t)}))}i.showProperButtons(t,(function(){t&&e.each(C,(function(e,t){c.find(".mce-btn[tiny-name="+t+"]").removeClass("mce-removed")}))})),L(t)}(e(this).is(":checked"))})),y.on("change",(function(t){B(t),e("#customStyleFormats").toggleClass("hide",t!==S),e("#customStyles").toggleClass("hide",t!==k)})),b.on("keyup search cut paste input change",".custom-style-format-title",t.debounce((function(){var n=e(this),i=n.closest(".form-group-collapsible-body").prev(".form-group-collapsible-header").find(".title"),r=n.val();t.isEmpty(r)&&(r=Cascade.I18n.get("label.field.empty")),i.text(r)}),250)),c.on("click",".custom-style-format-modify",(function(e){e.stopPropagation();var r=this.getAttribute("data-modification"),a=(this.getAttribute("data-identifier"),parseInt(this.getAttribute("data-idx")));P();var s=c.find(".configuration").val();i.deactivate(n.find());var l={customStyleFormatMod:r,customStyleFormatLocation:a};o.ajaxModify(c.parent("div"),_,{data:t.toQuery(l),callback:function(e){c=e,function(e,t){"add"===e?t++:t--,t<0&&(t=0),c.find(".custom-style-format-group-"+t).find("input:first").focus()}(r,a),c.find("#tiny-toolbar-editor").attr("data-configuration",s)},replaceModal:!0})})),o.addPreSubmitHandler(c,P)}}}.apply(t,i))||(e.exports=r)},12907:function(e,t,n){var i,r;i=[n(37549),n(41057),n(2687),n(14225)],void 0===(r=function(e,t){return function(){t.activate(e("#page-content"))}}.apply(t,i))||(e.exports=r)},55663:function(e,t,n){var i,r;i=[n(37549),n(93541),n(26742),n(93660),n(50384),n(53376),n(16412),n(43200),n(41877),n(59251),n(52737),n(99274)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d){var h,f=function(){l.initBulkUploader(i.default.absolutePath("/ajax/bulkUploadFile.act?refresh=true"),i.default.absolutePath("/ajax/bulkUploadFile.act?refresh=true"),!0,(function(){o.toggleFormButtonsOff(s.find("form"))}),(function(){r.isInitialized("#bulk-upload-table")||p(),o.toggleFormButtonsOn(s.find("form"))}))},p=function(){s.find(".deleteUpload").on("click",(function(){var n=t.UI.disableButton(this),r=e(this).attr("data-file-index"),a=h.page();o.postFormData(i.default.absolutePath("/ajax/bulkUploadFile.act",{refresh:"true",remove:r}),u.getSerializableFields(o.getStandardFormForModal()).serialize(),(function(e,t,n){l.refreshBulkUploader(e,(function(){p(),f();var e=h.page.info().pages;h.page(a>=e?e-1:a).draw("page"),0===h.rows().count()&&o.toggleFormButtonsOff(s.find("form"))}))}),"text",null,(function(e,t,i){n()}))})),h=r.init(e("#bulk-upload-table"),null,{ordering:!1})},A=function(){var e=a.find("#linkRewriting"),t=a.find("#shouldRewriteLinks").prop("checked");e.toggle(t)},g=function(){var e=a.find("#useCustomLinkRewriting").prop("checked");a.find("#link-rewriting-site-setting").toggle(!e),a.find("#link-rewriting-asset-setting").toggle(e)};return{init:function(){s.togglePublishableAndIndexableLabels(),a.find("#shouldRewriteLinks").change(A),A(),a.find("#useCustomLinkRewriting").change(g),g(),r.isInitialized("#bulk-upload-table")||p(),f(),o.addSuccessCallback(s.find("form"),(function(t){"success"===n.getJsonResponseStatus(t).status&&(e("body").trigger("cs.assetlisting.changed"),l.destroy())}))}}}.apply(t,i))||(e.exports=r)},41118:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(16412),n(12596),n(41877),n(53376),n(59251),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c,u,d=function(){a.ajaxModify(u,l.default.absolutePath("/ajax/fileFormModify.act"),{replaceModal:!0})},h=function(){var n=e("#uploadedFileName").text();return!t.endsWith(n,".zip")&&(d(),!0)};return{init:function(){c=e("#unzip-no"),u=a.getStandardFormForModal(),h()||(c.click(d),o.init(l.default.absolutePath("/ajax/uploadZipArchive.act"),(function(e){h()})),a.addSubmitHandler(u,(function(){return a.ajaxModify(u,u.attr("action"),{replaceModal:!0,callback:function(e){s.restoreOriginalForm(e.find("form").serialize())}}),!1})))}}}.apply(t,i))||(e.exports=r)},21608:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(50384)],void 0===(r=function(e,t,n,i){var r,o,a,s,l,c,u={order:[[1,"asc"]],columnDefs:[{targets:0,className:"multi-select",orderable:!1}]},d=function(e,t){t&&e.deselect()};return e.fn.dataTable.ext.search.push((function(t,n,i){if("bulk-assets-to-update-table"!=t.sTableId)return!0;var r=o.DataTable().row(i),c=e(r.node()),u=c.hasClass("selected");if(!c.hasClass("applicableToChange-"+l.getValue()))return d(r,u),!1;if(!a.is(":checked")&&!c.hasClass("directChild"))return d(r,u),!1;if("metadataset"==l.getValue()){var h=!1;if(s.each((function(){e(this).is(":checked")&&c.hasClass("type-"+e(this).val())&&(h=!0)})),!h)return d(r,u),!1}return!0})),{init:function(){r=n.getStandardFormForModal(),o=e("#bulk-assets-to-update-table"),a=e("#includeGenerateFolderChildren"),s=e(".type-checkboxes input"),l=e("#bulk-change-type")[0].selectize,c=i.init(o,null,u),l.on("change",(function(e){!function(e){r.find(".toggleable > div").addClass("hide"),r.find(".toggleable .toggleable-"+e).removeClass("hide"),c.draw()}(e)})),a.add(s).on("click",(function(){c.draw()})),n.addFailureCallback(r,(function(e){e.results&&(o.one("draw.dt.bulkchange",(function(){i.deselectAllRows(c),i.processOperationResults(e.results,c)})),c.draw())})),n.addSubmitHandler(r,(function(){var n=[],i=e(".selectedRowCheckboxes");i.html(""),c.draw(),(n=c.rows({selected:!0})).every((function(){i.append(this.data()[0])}));var r=t.I18n.get("prompt.bulkchange.confirmation").replace(/\{0\}/,n.count());return!!(n.count()<1||confirm(r))&&(i.find("input[type='checkbox']").prop("checked",!0),!0)}))}}}.apply(t,i))||(e.exports=r)},14672:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(43200),n(16412),n(26742)],void 0===(r=function(e,t,n,i,r,o){function a(e){var t=e.find("#dataCheckSettings-doSpellCheck");return t.length&&t.is(":checked")}return{init:function(){var t=i.find("form"),s=t.find("#primary-submit");i.init("folder"),n.addPreSubmitHandler(t,(function(){a(t)&&(s.attr({name:"submitButtonType",value:"datachecks"}),o.addButtonToFormAction(s,t))})),n.addSuccessCallback(t,(function(e){a(t)&&r.openFromHTML(e)})),e("#chooser-metadataSetId").on("submit.cs.chooser.panel",(function(){n.updateForm(i.find())}))}}}.apply(t,i))||(e.exports=r)},68144:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(14741),n(12596),n(72812),n(6365),n(50384),n(93660),n(24819),n(80471),n(90660),n(6872),n(536),n(15037),n(28327)],void 0===(r=function(e,t,i,r,o,a,s,l,c,u,d){var h=e("#container-contents"),f=h.find("table"),p=f.find("tbody"),A=e("#reorder-directions"),g=t.Variables.get("userCanReorder"),m=null,v=s.init(h,null,{columns:[{data:"tOrDn",render:function(e,t,n,i){return"display"===t?f.hasClass("table-thumbnails")?u.renderThumbnailLink(n):u.render(n):e||n.label}},{data:"order"},{data:"localizedType"},{data:null,defaultContent:"",render:function(e,n,i,r){var o=e.lastModifiedOn?d.render(e.lastModifiedOn)+" "+t.I18n.get("common.words.by.lc")+" "+(e.lastModifiedBy?u.render(e.lastModifiedBy,{hoverable:!1}):t.I18n.get("common.words.no.one")):"";return"display"===n?o:e.lastModifiedOn}}]});function y(n,i,o){var a=t.UI.disableButton(this),s=v.row({selected:!0}).index(),l=v.page.len(),u=v.order();e.ajax({url:c.default.absolutePath("/ajax/reposition.act"),dataType:"json",type:"GET",data:{id:n,type:i,direction:o}}).done((function(e){var t="first";e.success&&(v.ajax.reload(),"asc"===u[0][1]?s===l-1&&"down"===o?t="next":0===s&&"up"===o?t="previous":"top"===o?t="first":"bottom"===o&&(t="last"):s===l-1&&"up"===o?t="next":0===s&&"down"===o?t="previous":"top"===o?t="last":"bottom"===o&&(t="first"),v.page(t).draw("page"))})).fail((function(e,t,n){r.showText(n)})).always(a)}var b=function(){var t={dom:"tp"};e(this).data("toggle")||Promise.resolve().then((function(){var e=[n(16412)];(function(e){e.show()}).apply(null,e)})).catch(n.oe),l.init(e("#success-table"),null,t),l.init(e("#failure-table"),null,t)},w=function(e){m=e.results,l.deselectAllRows(v),l.processOperationResults(m,v)},x=function(e,n){var r=t.UI.disableButton(this),a=l.getSelectedAssets(v);i.isObject(n)&&(a=i.assign(n,a)),o.focusElementOnHide(this),o.open(e,a,i.bind(b,this),(function(e){w(e)}),r)},C=function(n){var r=t.UI.disableButton(this),a=l.getSelectedAssets(v),s=e(this),c=s.data("cs.chooser")||s.assetChooser().data("cs.chooser"),u=c.getAssetFromChosen();a.containerId=u.id,a.containerType=u.type,c.setChosen({id:t.Variables.get("domId")}),o.focusElementOnHide(this),o.open(n,a,i.bind(b,this),(function(e){w(e)}),r)},_=function(e,t,n,i){var r=l.getSelectedAssets(v).selectedIds.length,o=2===v.order()[0][0];A.toggleClass("hide",!(1===r&&o))};p.sortable({cursor:"move",helper:function(t,n){if(g){var i=n.children(),r=n.clone();return r.children().each((function(t){e(this).width(i.eq(t).width())})),r}},disabled:!0,update:function(t,n){var i,o,a=!0,s=v.order(),l=n.item.find("a").data("asset");"asc"===s[0][1]?0==(i=n.item.next()).length&&(i=n.item.prev()).length&&(a=!1):0==(i=n.item.prev()).length&&(i=n.item.next()).length&&(a=!1),(o=i.find("a").data("asset"))&&function(t,n,i,o,a){e.ajax({url:c.default.absolutePath("/ajax/reposition.act"),dataType:"json",type:"GET",data:{id:t,type:n,anchorId:i,anchorType:o,before:a}}).done((function(e){e.success&&v.ajax.reload()})).fail((function(e,t,n){r.showText(n)}))}(l.id,l.type,o.id,o.type,a)}}),v.on("select",_).on("deselect",_),f.on("order.dt",(function(){var e=2===v.order()[0][0];p.sortable(e?"enable":"disable"),_()})),e(".publish-selection").on("click",(function(){x.call(this,c.default.absolutePath("/ajax/multisubmit/confirmPublishEntities.act"),{publishMode:"publish"})})),e(".unpublish-selection").on("click",(function(){x.call(this,c.default.absolutePath("/ajax/multisubmit/confirmUnpublishEntities.act"),{publishMode:"unpublish"})})),e("#move-selection").on("submit.cs.chooser.panel",(function(){C.call(this,c.default.absolutePath("/ajax/multisubmit/confirmMoveEntities.act"))})),e("#copy-selection").on("submit.cs.chooser.panel",(function(){var t=e(this);(t.data("cs.chooser")||t.assetChooser().data("cs.chooser")).getAssetFromChosen().id,C.call(this,c.default.absolutePath("/ajax/multisubmit/confirmCopyEntities.act"))})),e(".delete-selection").on("click",(function(){x.call(this,c.default.absolutePath("/ajax/multisubmit/confirmDeleteEntities.act"),{publishMode:"unpublish"})})),e("#move-to-top").on("click",(function(){var e=l.getSelectedAssets(v);y.call(this,e.selectedIds[0],e.selectedTypes[0],"top")})),e("#move-up").on("click",(function(){var e=l.getSelectedAssets(v);y.call(this,e.selectedIds[0],e.selectedTypes[0],"up")})),e("#move-down").on("click",(function(){var e=l.getSelectedAssets(v);y.call(this,e.selectedIds[0],e.selectedTypes[0],"down")})),e("#move-to-bottom").on("click",(function(){var e=l.getSelectedAssets(v);y.call(this,e.selectedIds[0],e.selectedTypes[0],"bottom")})),e("body").on("cs.assetlisting.changed",(function(){v.ajax.reload((function(){m&&l.processOperationResults(m,v),m=null}))})),e(".js-layout").on("click",(function(){var t=e(this).data("layout");e(".js-layout").toggleClass("hide"),f.toggleClass("table-thumbnails","thumb"===t),"thumb"===t?v.columns([2,3,4]).visible(!1,!1):v.columns().visible(!0,!0),v.columns.adjust().draw(!1)}))}.apply(t,i))||(e.exports=r)},95553:function(e,t,n){var i,r;i=[n(37549),n(92648),n(29840),n(26742),n(93541),n(16412),n(51517),n(53376),n(41877),n(43200),n(94917),n(50384),n(93660),n(84551),n(52737),n(2546)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){var A,g,m,v,y,b,w,x,C,_,k=h.default.absolutePath("/ajax/renderPreview.act"),S=h.default.absolutePath("/ajax/renderTransformationPreview.act"),E="formatContextPageId",T="formatContextBlockId",B=e("#velocity-doc-flyout"),I=!1,D=function(){var i=P();if(!t.isString(i)||"block"!==i&&"page"!==i)N();else{var o=R("page"===i?C:_),a=e("#xml-preview-area").data("cscd-codeeditor");if(!o)return N(),void a.setValue(r.I18n.get("message.format.preview.xml.placeholder"));var l=R(L()),c=l&&t.values(l).length?t.values(l)[0].id:"";n.set(E,c,{expires:1});var u="block"===i?R(_):null,d=u&&t.values(u).length?t.values(u)[0].id:"";n.set(T,d,{expires:1});var h=s.getStandardFormForModal();s.postFormData(k,p.getSerializableFields(h).serialize(),(function(e){a.setValue(e,!0)}),"text")}},F=function(){var e=""===P();(m.hasClass("hide")&&!e||!m.hasClass("hide")&&e)&&(m.toggleClass("hide",e),o.find(".vertical-resizer").toggleClass("hide",e),g.css("width",e?"100%":"").css("flex-basis","auto"))},M=function(){e("#format-editor-area").data("cscd-codeeditor").syncValues();var t=s.getStandardFormForModal();s.postFormData(S,p.getSerializableFields(t).serialize(),(function(t){e("#transformation-preview-area").data("cscd-codeeditor").setValue(t,!0)}),"text")},L=function(){var e=P();return"page"===e?C:"block"===e?x:null},P=function(){return w.data("selectize").getValue()},R=function(e){if(!e)return"";var t=O(e);return t?t.isEmpty()?null:t.getChosen():null},O=function(e){return e.data("cs.chooser")||e.assetChooser().data("cs.chooser")},N=function(){n.remove(E),n.remove(T)};return{init:function(i,r){var a,s=e(document);c.init("format"),A=e("#format-editors"),g=e("#format-editor"),m=e("#xml-preview"),v=e("#transformation-preview"),y=e("#top-editors"),b=e(".code-editor"),w=e("#previewAssetType"),x=e("#chooser-contextPageId"),C=e("#chooser-pageId"),_=e("#chooser-blockId"),a=o.find('[name="type"]').val(),I=!(!a||"format_SCRIPT"!==a),o.find(".code-editor").cascadeCodeEditor({showDocumentation:I}),l.initBrowserDragUpload(g,(function(t){e("#format-editor-area").data("cscd-codeeditor").setValue(t)})),o.find(".vertical-resizer").on("mousedown",t.debounce((function(e){e.preventDefault(),s.on("mousemove.format.vertical.resize",(function(e){e.stopPropagation();var t=e.pageX+12-A.offset().left;t>=400&&(g.css("flex-basis",t),b.trigger("resize.codeeditor.ace"))}))}),20)),o.find(".horizontal-resizer").on("mousedown",t.debounce((function(e){e.preventDefault(),s.on("mousemove.format.horizontal.resize",(function(e){e.stopPropagation();var t=e.pageY+12-A.offset().top;t>=250&&(y.css("flex-basis",t),b.trigger("resize.codeeditor.ace"))}))}),20)),o.find(".lower-horizontal-resizer").on("mousedown",t.debounce((function(e){e.preventDefault(),s.on("mousemove.format.horizontal.resize",(function(e){e.stopPropagation();var t=e.pageY+12-v.offset().top;t>=250&&(v.css("flex-basis",t),b.trigger("resize.codeeditor.ace"))}))}),20)),s.mouseup((function(e){s.unbind("mousemove.format.vertical.resize mousemove.format.horizontal.resize")})),_.on("clear.cs.chooser submit.cs.chooser.panel",(function(){D()})),x.on("clear.cs.chooser submit.cs.chooser.panel",(function(){D()})),C.on("clear.cs.chooser submit.cs.chooser.panel",(function(){D()})),e("#renderWholePage").on("change",(function(){D()})),e("#preview-transformation").on("click",M),w.on("change",(function(){var t=e(this).val();e(".preview-options").addClass("hide"),t&&e("#"+t+"-options").removeClass("hide"),F(),D()})),I&&u.init(B,{onShow:function(){B.attr("loaded")||e.get(h.default.absolutePath("/ajax/getVelocityDocumentation.act"),(function(t){B.find(".modal-flyout-content .form-section ").html(t);var n=B.find("#tool"),i=function(){B.find(".documentation").addClass("hide"),B.find("#"+n.val()+"-documentation").removeClass("hide")};n.on("change",i),i(),B.find("table").each((function(){d.init(e(this),null,{ordering:!1,order:!1})})),B.attr("loaded",!0)}))},onHide:function(){o.find(".cscd-toolbar .active").removeClass("active")}}),function(e,t){var i;e||t||(e=n.get(E),t=n.get(T)),i=t?"block":e?"page":"",w.data("selectize").setValue(i),F();var r=!1,o=!1;t&&(r=!0,O(_).loadAndSetChosen(t,"block",(function(){r=!1,o||D()}))),e&&(o=!0,O(L()).loadAndSetChosen(e,"page",(function(){o=!1,r||D()})))}(i,r),y.css("flex-basis",350),b.trigger("resize.codeeditor.ace")}}}.apply(t,i))||(e.exports=r)},90085:function(e,t,n){var i,r;i=[n(37549),n(51517),n(53376),n(10257),n(60629),n(41089),n(2687)],void 0===(r=function(e,t,n,i,r,o){return{init:function(){t.init(),r.init(),o.init()}}}.apply(t,i))||(e.exports=r)},11801:function(e,t,n){var i,r;i=[n(37549),n(93541),n(2687),n(10257),n(78907)],void 0===(r=function(e,t){}.apply(t,i))||(e.exports=r)},26846:function(e,t,n){var i,r;i=[n(37549)],void 0===(r=function(e){}.apply(t,i))||(e.exports=r)},65841:function(e,t,n){var i,r;i=[n(37549),n(93541),n(69651),n(16412),n(10861)],void 0===(r=function(e,t,n,i,r){const o=function(){const e=i.find("#announcement-type").find("input[name='urgencyType']:checked").val(),t=i.find("#startDate"),n=i.find("#endDate");t.toggleClass("hide","sticky"===e),n.toggleClass("hide","sticky"===e)};return{init:function(){!function(){const e=i.find("form"),t=i.find("#announcement-type");i.onShown((function(){n.initializeForAnnouncement("message",null),t.on("change","input",(function(){o()})),o()})),i.onHide((function(){n.deactivateWysiwygs(e)})),r.GENERAL.trackModalOpenedEvent("Announcements")}()}}}.apply(t,i))||(e.exports=r)},57167:function(e,t,n){var i,r;i=[n(37549),n(93541),n(12596),n(10861),n(51953)],void 0===(r=function(e,t,n,i,r){e("#edit-link").click((function(){var i=t.UI.disableButton(this);n.focusElementOnHide(this),n.open(e("#edit-link").attr("data-action"),{id:t.Variables.get("domId"),type:"message"},null,null,i)})),e("#delete-link").click((function(){var r=t.UI.disableButton(this);n.focusElementOnHide(this),n.open(e("#delete-link").attr("data-action"),{id:t.Variables.get("domId"),type:"message"},null,(function(){i.GENERAL.trackModalOpenedEvent("Announcement Delete")}),r)})),r.init(),i.GENERAL.trackEvent("Viewed Announcement Open Screen")}.apply(t,i))||(e.exports=r)},445:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(53376),n(63673),n(93660)],void 0===(r=function(e,t,n,i,r,o){var a,s=o.default.absolutePath("/ajax/metadataSetFormModify.act");return{init:function(){a=i.getStandardFormForModal();var n=r.init(a,!1);a.on("click",".metadata-modify",(function(r){r.stopPropagation();var o=this.getAttribute("data-modification"),l=this.getAttribute("data-identifier"),c=parseInt(this.getAttribute("data-idx")),u={dynamicMod:o,dynamicLocation:l};n.syncDefinitions(),i.ajaxModify(a.parent("div"),s,{data:t.toQuery(u),callback:function(t){a=t,function(t,n,i){"top"===i?n=0:"bottom"===i?n=e(".dynamicInfo").length-1:/add|down/.test(t)?n++:/delete|up/.test(t)&&n--,n<0&&(n=0),a.find(".dynamicInfo-"+n).find("input:first").focus()}(o,c,l)},replaceModal:!0})}))}}}.apply(t,i))||(e.exports=r)},83649:function(e,t,n){var i,r;i=[n(37549),n(63673),n(2687),n(14225)],void 0===(r=function(e,t){t.init(e("#page-content"),!0)}.apply(t,i))||(e.exports=r)},61935:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376),n(88351),n(93660)],void 0===(r=function(e,t,n,i,r){var o=r.default.absolutePath("/ajax/addNewPageConfiguration.act"),a=r.default.absolutePath("/ajax/reloadPageRegions.act"),s=r.default.absolutePath("/ajax/removePageConfiguration.act"),l={HTML:".html",XML:".xml",CSS:".css",JS:".js",JSON:".json",PDF:".pdf",RTF:".rtf"};return{init:function(){var r=n.getStandardFormForModal();r.on("change",".form-control-serializationtype",(function(){var t=e(this),n=e(document.getElementById(this.id.replace("serializationType","extension"))),i=n.val(),r=t.find("option:selected").attr("value"),o=l[r],a=n.data("suggestedValue");i&&i!==a||(n.val(o),n.data("suggestedValue",o))})),r.on("click","#tab-edit-output-add",(function(){var t,i;n.ajaxModify(r,o,{callback:function(n){t=(r=n).find(".tab-edit-output:last"),i=e("#"+t[0].id.replace("tab-","")),t.tab("show"),i.find(".output-name").focus(),i.find(".form-control-serializationtype").trigger("change")},replaceModal:!0})})),r.on("click",".output-remove",(function(){var o=e(this).data("output-id"),a=e("#pageConfigurationInfoIdx-"+o+"-name").val();confirm(t.I18n.get("warning.page.configuration.set.remove.config").replace("CONFIG_NAME",a))&&n.ajaxModify(r,s+"?confIdx="+o,{callback:function(e){r=e,i.initialize(),r.find(".tab-output:first").tab("show")},replaceModal:!0})})),r.on("click",".output-isdefault",(function(){e(".output-isdefault").prop("checked",!1),e(this).prop("checked",!0)})),r.on("keyup",".output-name",_.debounce((function(){var n=e(this),i=n.parents(".tab-pane").eq(0);e("#tab-"+i[0].id).html(n.val()||t.I18n.get("label.page.configuration.noname","&nbsp;"))}),250)),r.on("submit.cs.chooser.panel",".output-template-chooser-container .asset-chooser",(function(){var t=e(this),i=t.parents(".tab-pane").eq(0),r=t.data("cs.chooser"),o=i[0].id.replace("edit-output-",""),s=r.getAssetFromChosen(),l=i.find("#output-"+o+"-regions-wrapper table");n.ajaxModify(l,a,{data:_.toQuery({templateId:s.id,confIdx:o})})})),i.initialize()}}}.apply(t,i))||(e.exports=r)},20875:function(e,t,n){var i,r;i=[n(2687),n(14225)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},71974:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(14741),n(24819),n(80471),n(50384),n(93660),n(12993),n(4258),n(44709),n(90660),n(6872)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){var u,d=s.default.absolutePath("/ajax/publisher/activepublishqueue.act?siteId="),h=s.default.absolutePath("/ajax/publisher/queuedpublishqueue.act?siteId="),f=s.default.absolutePath("/reorderpublishjob.act"),p=s.default.absolutePath("/ajax/cancelpublishjob.act"),A=l.get("publisher-activeJobsOtherSites"),g=l.get("publishQueueActions"),m=e("#active-jobs").find("table"),v=e("#queued-jobs"),y=v.find("table"),b=e("#activeJobsOtherSites"),w=null,x=null,C=!0===v.data("can-drag"),_=!0===v.data("can-cancel"),k=!1,S=function(e){x.row("#"+e).deselect()},E=function(e){return t.has(e,"startedOn")&&t.gt(e.startedOn,0)},T=function(e){return t.has(e,"id")},B=function(t){t.on("click",".remove-request",(function(t){var n=e(this).closest("tr")[0];e.ajax({url:p,dataType:"json",type:"GET",data:{publishRequestId:n.id},success:function(e){e.success&&S(n.id),i.showText(e.message,{type:e.success?"success":"danger"})}})}))},I=function(t,n){t.on("focus",".asset a",(function(t){var i=e(this).closest("tr");i.hasClass("queued-job")&&n.row("#"+i[0].id).select()}))},D=function(){k||0!==x.rows({selected:!0}).count()||(clearInterval(u),w.ajax.reload((function(e){var i,r;!e.activeJobsOtherSites||t.isEmpty(e.activeJobsOtherSites)?b.addClass("hide"):b.html(A({activeJobsOtherSites:e.activeJobsOtherSites,I18n:n.I18n,contextPath:s.default.getContextPath()})).removeClass("hide"),r=function(){M()},(i=x).ajax.reload((function(){var e=i.page.info(),t=e.page,n=e.length,o=e.recordsDisplay,a=Math.max(0,Math.ceil(o/n)-1);t>a?(i.page(a).draw(!1),setTimeout((function(){i.ajax.reload((function(){r&&r()}),!1)}),0)):r&&r()}),!1)}),!1))},F=function(t,n,r){e.ajax({url:f,dataType:"json",type:"GET",data:{id:t,anchorId:n,before:r}}).success((function(e){e.success?D():i.showText(e.error,{type:"danger"})})).fail((function(e,t,n){i.showText(n,{type:"danger"})})).always((function(){a.deselectAllRows(w),a.deselectAllRows(x)}))},M=function(e){u=setInterval(D,e||7500)};x=a.init(y,null,{serverSide:!0,ajax:{url:h+n.Variables.get("currentSiteId")},dom:"rtp",deferRender:!0,rowId:"id",ordering:!1,pageLength:50,select:!(!_&&!C)&&{style:"single"},createdRow:function(t,n,i){e(t).addClass("queued-job")},columns:[{data:null,render:function(e,t,n,i){return T(e)?C?'<i class="ci ci-drag-horizontal" role="img" aria-hidden="true"></i>':"":"&nbsp;"}},{data:null,className:"asset",render:function(e,t,i,o){if(!T(e))return"<em>"+n.I18n.get("message.publisher.waiting.next.job")+"</em>";var a=r.render(e.dom,{enabled:e.isUnpublishable,showLabelOnNewline:!0});return e.isStalled&&(a+=" "+n.I18n.get("label.publish.job.stalled")),e.isCanceled&&(a+=" "+n.I18n.get("label.publish.job.canceled")),e.relatedPublish&&(a+=" "+n.I18n.get("label.publish.job.related")),a}},{data:null,render:function(e,t,n,i){if(!T(e))return"&nbsp;";var o={id:e.user,type:"user",label:e.user};return"system"!==o.id?r.render(o):o.id}},{data:null,render:function(e,t,i,r){return T(e)?o.render(e.insertedOn)+(_||C?g({canCancel:_,canDrag:!E(e)&&C,I18n:n.I18n}):""):"&nbsp;"}}]}),w=a.init(m,null,{ajax:{url:d+n.Variables.get("currentSiteId"),dataSrc:"activeJobs"},dom:"rtp",deferRender:!0,rowId:"id",ordering:!1,pageLength:50,select:!!_&&{style:"single"},columns:[{data:null,render:function(e,t,n,i){return T(e)?E(e)?"":'<i class="ci ci-drag-horizontal" role="img" aria-hidden="true"></i>':"&nbsp;"}},{data:null,className:"asset",render:function(e,t,i,o){if(!T(e))return"<em>"+n.I18n.get("message.publisher.waiting.next.job")+"</em>";var a=r.render(e.dom,{enabled:e.isUnpublishable,showLabelOnNewline:!0});return e.isStalled&&(a+=" "+n.I18n.get("label.publish.job.stalled")),e.isCanceled&&(a+=" "+n.I18n.get("label.publish.job.canceled")),e.relatedPublish&&(a+=" "+n.I18n.get("label.publish.job.related")),a}},{data:null,render:function(e,t,n,i){if(!T(e))return"&nbsp;";var o={id:e.user,type:"user",label:e.user};return"system"!==o.id?r.render(o):o.id}},{data:null,render:function(e,t,n,i){return T(e)?o.render(e.insertedOn):"&nbsp;"}},{data:null,render:function(e,t,n,i){return T(e)?E(e)?o.render(e.startedOn):"":"&nbsp;"}},{data:null,render:function(e,t,i,r){var o=_?g({canCancel:_,canDrag:!1,I18n:n.I18n}):"";return T(e)?(e.percentFinished||"")+o:"&nbsp;"+o}}]}),y.on("init.dt",(function(){var n;n=y,C&&(n.addClass("table-draggable"),n.sortable({items:"tr.queued-job",cursor:"move",helper:function(t,n){var i=n.children(),r=n.clone();return r.children().each((function(t){e(this).width(i.eq(t).width())})),r},update:function(e,n){var i,r=n.item[0].id,o=!0;0==(i=n.item.next()).length&&0!=(i=n.item.prev()).length&&(o=!1),t.isEmpty(i)||F(r,i[0].id,o)},start:function(){k=!0},stop:function(){k=!1}})),M(),B(y),I(y,x),y.on("click",".move-to-top",(function(t){t.stopPropagation();var n=e(this).closest("tr")[0],i=x.row(".queued-job:first").id();F(n.id,i,!0),S(n.id)})),y.on("click",".move-up",(function(t){t.stopPropagation();var n=e(this).closest("tr"),i=n.prev("tr");i.length&&F(n[0].id,i[0].id,!0),S(n[0].id)})),y.on("click",".move-down",(function(t){t.stopPropagation();var n=e(this).closest("tr"),i=n.next("tr").next("tr");i.length&&F(n[0].id,i[0].id,!0),S(n[0].id)})),y.on("click",".move-to-bottom",(function(t){t.stopPropagation();var n=e(this).closest("tr")[0];F(n.id,null,!1),S(n.id)}))})),m.on("init.dt",(function(){B(m),I(m,w)}))}.apply(t,i))||(e.exports=r)},12898:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(44709)],void 0===(r=function(e,t,n){n.init(e("#scheduledjobs-table"),null,{dom:"rtp"})}.apply(t,i))||(e.exports=r)},41899:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(51517),n(53376),n(54474),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){var s,l=function(e){r.ajaxModify(s,a.default.absolutePath("/ajax/publishSetFormModify.act"+e),{callback:function(e){s=e},replaceModal:!0})};return{init:function(){(s=r.getStandardFormForModal()).on("submit.cs.chooser.panel",".asset-chooser",(function(){var t=e(this).data("cs.chooser");l("?mod=add"+n.capitalize(t.options.type))})),s.on("click",".publishset-remove",(function(){var t=e(this);l("?mod=delete"+n.capitalize(t.data("asset-type"))+"&identifier="+t.data("asset-idx"))})),o.init()}}}.apply(t,i))||(e.exports=r)},81575:function(e,t,n){var i,r;i=[n(2687),n(14225)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},14603:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(4258),n(12596),n(24819),n(80471),n(50384),n(53376),n(51517),n(14741),n(26742),n(93660),n(10776),n(16412),n(28327)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){var A,g=h.default.absolutePath("/ajax/multisubmit/recyclebin/delete.act"),m=h.default.absolutePath("/ajax/multisubmit/recyclebin/loadRestore.act"),v=h.default.absolutePath("/ajax/recyclebin/empty.act"),y=e("#recyclebin-content table"),b=t.Variables.get("userCanDeleteRecycleBinAssets")||t.Variables.get("userCanRestoreAllRecycleBinAssets")||t.Variables.get("userCanRestoreUserRecycleBinAssets"),w=function(){var e=t.UI.disableButton(this),i=A.rows({selected:!0}).data(),r=n.map(i,"properties.id").length,o={selectedIds:[],selectedTypes:[]},a=1===r?t.I18n.get("prompt.multiop.confirm.trash.delete.single"):t.I18n.get("prompt.multiop.confirm.trash.delete").replace(/\{0\}/,r);confirm(a)?(n.forEach(i,(function(e,t){o.selectedIds.push(e.properties.id),o.selectedTypes.push(e.type)})),f.start(),s.performMultiOp(g,o,A,(function(e,t,n){e=d.getJsonResponseStatus(e),u.showHtml(e.message,{type:e.status}),C(),f.done()}),e)):e()},x=function(){var i=t.UI.disableButton(this),o=A.rows({selected:!0}).data(),a=n.map(o,"properties.id");r.focusElementOnHide(this),r.open(m,e.param({recycleRecordIdsArray:a}),(function(e,t,n){var i=d.parseJson(e,null);if(i){var r=d.getJsonResponseStatus(i);r&&(u.showHtml(r.message,{type:r.status}),A.ajax.reload(C),s.deselectAllRows(A))}else p.show(),f.done()}),(function(e,t,n){s.deselectAllRows(A),A.ajax.reload((function(){s.processOperationResults(e.results,A),C()}))}),i)},C=function(){e("#empty-link").toggleClass("hide",0==A.data().count())};if(A=s.init(y,null,{ajax:{dataSrc:"recycledAssets",url:h.default.absolutePath("/ajax/getRecycledAssetsForSite.act",{siteId:t.Variables.get("currentSiteId")})},select:!!b&&{info:!1},order:[[1,"asc"]],rowId:"id",columns:[{data:null,render:function(e,t,n,i){return o.render(e,{hoverable:!1,textOnly:!0})}},{data:"properties.recycledOn",render:function(e,t,n,i){if("display"===t||"filter"===t){var r=a.render(e);return(r+=' <br/><span class="text-muted">by</span> ')+o.render({id:n.properties.recycledBy,label:n.properties.recycledBy,type:"user"})}return e}},{data:null,render:function(e,t,n,i){var r=e.container||e.properties.originalLocation;return o.render(r)}}],initComplete:function(){C(),i.default.init(this)}}),b){e(".restore-selection").on("click",(function(){x.call(this)})),e(".delete-selection").on("click",(function(){w.call(this)}));var _=function(e,t,n,i){A.rows(i).nodes().to$().find('input[type="checkbox"]').prop("checked","select"===e.type)};A.on("select",_).on("deselect",_)}e("#empty-link").on("click",(function(){var e=t.I18n.get("warning.trash.empty.warning"),n=t.UI.disableButton(this);confirm(e)&&(r.focusElementOnHide(this),r.open(v,{},(function(e,t,n){var i=d.parseJson(e,null);if(i){var r=d.getJsonResponseStatus(i);if(r)return p.hide(),s.deselectAllRows(A),A.ajax.reload(C),void u.showHtml(r.message,{type:r.status})}c.init()}),null,n))}))}.apply(t,i))||(e.exports=r)},60379:function(e,t,n){var i,r;i=[n(35639)],void 0===(r=function(e){return{init:function(){e.initForSystemName()}}}.apply(t,i))||(e.exports=r)},48071:function(e,t,n){var i,r;i=[n(15037),n(28327)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},1630:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(4258),n(24819),n(80471),n(14741),n(26742),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l){var c=n.init(e("#activeUsersTable"),null,{ajax:{url:l.default.absolutePath("/ajax/loadActiveUsersReport.act"),dataSrc:""},columns:[{data:null,render:function(e,t,n,i){return"display"===t?r.render(n):"type"===t?n.type:n.label}},{data:"lastViewed",render:function(e,t,n,i){if("display"===t){var o={action:e.action,hoverable:!1};return r.render(e,o)}return e.label}},{data:null,render:function(e,n,i,r){return"display"===n?i.lastAction?o.render(i.lastAction):t.I18n.get("common.words.never"):i.lastAction?i.lastAction:-1}},{data:null,render:function(e,n,i,r){return"display"===n?i.loginTime?o.render(i.loginTime):t.I18n.get("common.words.never"):i.loginTime?i.loginTime:-1}}],initComplete:function(e,t){i.default.init(this)}});e("#logout-selection").on("click",(function(){var i=t.UI.disableButton(this);e.post(l.default.absolutePath("/ajax/multisubmit/forceLogout.act"),n.getSelectedAssets(c),(function(e,t,r){var o=s.getJsonResponseStatus(e);"success"==o.status&&n.deselectAllRows(c),c.ajax.reload((function(){n.processOperationResults(e.results,c)})),a.showHtml(o.message,{type:o.status}),i()}))}))}.apply(t,i))||(e.exports=r)},36944:function(e,t,n){var i,r;i=[n(37549),n(92648),n(10776),n(93541),n(72522),n(12993),n(24819),n(93660),n(48757)],void 0===(r=function(e,t,n,i,r,o,a,s){var l,c,u,d,h,f,p,A=s.default.absolutePath("/ajax/reporting/analytics/individualForShortUrl.act"),g=s.default.absolutePath("/ajax/reporting/analytics/site.act"),m=o.get("analyticsIndividualStatsForShortUrl"),v={pagingType:"listbox",ajax:{data:function(e){e.interval=b(),e.siteId=w(),e.sortBy=x(),isNaN(e.length)&&(e.length=600)}}},y={screenPageViews:{module:r,table:null,tableOptions:v},engagementRate:{module:r,table:null,tableOptions:v}};function b(){return u.val()}function w(){return h.data("cs.siteSelect").getSelectedSiteId()}function x(){return f.filter(".active").children("a").attr("aria-controls")}function C(e){return t.has(y,e)}function _(){var t={interval:b(),siteId:w()};e.get(g,t,(function(t){d.html(t),e.each(y,(function(e,t){t.table&&(t.table.ajax.reload(),t.table===l&&t.table.columns.adjust())}))}))}function k(){t.isEmpty(w())||_()}return{init:function(){c=e("#analytics-table-error"),e("#empty-site-alert"),d=e("#analytics-site-overview"),p=e("#analytics-top-assets"),(u=e("#interval").find("select")).on("change",k),(h=e("#site-filter").siteSelect())[0].selectize.on("change",k),(f=p.find("ul.sortby-tabs > li")).on("shown.bs.tab","[role=tab]",(function(){var r,o;r=e(this).attr("aria-controls"),o=e("#"+r),l=void 0,o.length&&(function(e){return C(e)&&y[e].table}(r)?(l=y[r].table).columns.adjust():C(r)&&(o.on({"preXhr.dt":function(){n.start()},"xhr.dt":function(e,i,r,o){n.done(),t.isEmpty(r)||(r.responseParams&&r.responseParams.error?(d.addClass("hide"),p.addClass("hide"),c.html(r.responseParams.error).removeClass("hide")):(d.removeClass("hide"),p.removeClass("hide"),c.addClass("hide")))}},"table"),y[r].table=y[r].module.init(o,null,y[r].tableOptions),l=y[r].table,"engagementRate"===r&&l.columns(0).visible(!1),o.on("click","tr td.pageviews-expand button",(function(){var t=e(this),r=t.closest("tr"),o=t.find("i"),s=r.attr("id"),c=r.data("shorturl"),u={interval:b(),shortUrl:c,siteId:w(),sortBy:x()},d=l.row("#"+s);o.toggleClass("ci-angle-right ci-angle-down"),d.child.isShown()?d.child.hide():d.child()?d.child.show():(n.start(),e.get(A,u,(function(e){var t=m({analyticsSiteUrl:e.analyticsSiteUrl,assetStats:e.assetStats,isFirstLoad:!0,newStartIndex:e.newStartIndex,nIndividualStats:parseInt(r.data("nindividualstats")),shortUrl:c,AssetLinkRenderer:a,I18n:i.I18n});n.done(),d.child(t).show(),d.child().addClass("row-details")})))})),o.on("click",".pageviews-individual-more",(function(){var t=e(this),r=t.prev("table").find("tbody"),o=t.data("shorturl"),s={interval:b(),shortUrl:o,siteId:w(),sortBy:x(),startIndex:t.data("startindex")};n.start(),e.get(A,s,(function(e){var s=m({analyticsSiteUrl:e.analyticsSiteUrl,assetStats:e.assetStats,isFirstLoad:!1,newStartIndex:e.newStartIndex,shortUrl:o,AssetLinkRenderer:a,I18n:i.I18n});n.done(),t.data("startindex",e.newStartIndex),r.append(s),e.newStartIndex>=parseInt(t.data("nindividualstats"))&&t.hide()}))}))))})),_()}}}.apply(t,i))||(e.exports=r)},2398:function(e,t,n){var i,r;i=[n(37549),n(2826),n(93541),n(10776),n(92648),n(47807),n(16412),n(24819),n(50384),n(51517),n(70124),n(80471),n(14741),n(35974),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){var A,g,m=p.default.absolutePath("/ajax/loadBackgroundTasks.act"),v=p.default.absolutePath("/ajax/loadBackgroundTaskError.act"),y=e("#background-task-filter"),b=e("#tasks-table"),w=e("#startDate").closest(".date"),x=e("#endDate").closest(".date"),C=l.init(b,null,{ajax:{url:m,dataSrc:"results"},serverSide:!0,deferRender:!0,processing:!0,lengthMenu:[10,20,50,100],order:[[2,"desc"]],columns:[{data:"jobType",defaultContent:""},{data:"initiator",defaultContent:"",render:function(e,t,n,i){return"display"===t&&"system"!==e?s.render({id:e,type:"user",label:e}):e}},{data:"startDate",render:function(e,i,r,o){return"display"===i?e?d.render(e):n.I18n.get("common.words.never"):"filter"===i?e?d.renderFormatted(e)+"("+t(e).fromNow()+")":n.I18n.get("common.words.never"):e}},{data:"endDate",render:function(e,i,r,o){return"display"===i?e?d.render(e):n.I18n.get("common.words.none"):"filter"===i?e?d.renderFormatted(e)+"("+t(e).fromNow()+")":n.I18n.get("common.words.none"):e||-1}},{data:"relatedAsset",defaultContent:"",orderable:!1,render:function(e,t,n,i){return e?"display"===t?s.render(e):e.breadcrumb_string||"":""}},{data:"status",defaultContent:"",render:function(e,t,n,i){if("display"===t||"filter"===t)return"Failed"===e?'<button type="button" class="show-details cs-tooltip" aria-label="View failure reason"><i class="ci ci-fw ci-help" role="img" aria-hidden="true"></i></button>'+e:e}},{data:"durationString",defaultContent:""}]});u.init(y),c.init(y),A=w[0]._flatpickr,(g=x[0]._flatpickr).set("maxDate",new Date),A.set("maxDate",new Date),w.on("dp.change",(function(e,t){g.set("minDate",t.date)})),x.on("dp.change",(function(e,t){A.set("maxDate",t.date)})),b.on("click",".show-details",(function(){var t=e(this),i=t.parents("tr"),r=C.row(i).data().id;e.ajax({url:v,data:{id:r},dataType:"html",success:function(i){i.error?h.show(i.error,{type:"danger"}):i?(a.focusElementOnHide(t),a.openFromHTML(i),new o(".copy-stack-trace").on("success",(function(t){f.setContent(e(t.trigger),"Copied!")}))):h.show(n.I18n.get("error.no.background.task.error.details.found"),{type:"danger"})}})})),e(document).on("cs.form.change",(function(e,t){y.has(t.target).length&&C.ajax.url(m+"?"+y.serialize()).load()}))}.apply(t,i))||(e.exports=r)},50548:function(e,t,n){var i,r;i=[n(37549),n(92648),n(10776),n(93541),n(50384),n(4258),n(24819),n(80471),n(14741),n(26742),n(93660),n(60629),n(93541),n(59114)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d){var h=e("#chooser-userChooser").userGroupChooser(),f=e("#chooser-ownerChooser").userGroupChooser(),p=e("#site-filter").siteSelect(),A=e(".data-table-container"),g=e("#content-ownership-table-info"),m=r.init(e("#contentOwnershipTable"),null,{serverSide:!0,ajax:{url:"/ajax/loadContentOwnershipAjaxReport.act",type:"POST",data:function(t){t.siteId=p.val(),t.userIds=Object.keys(h.data("cs.chooser").getChosen()).join(),t.filterType=e("[name=filterType]:checked").val()},statusCode:{200:function(e){g.addClass("hide"),A.removeClass("hide")}},error:function(e,t,n){g.html(c.getAjaxResponseError(e)).removeClass("hide"),A.addClass("hide")},beforeSend:function(){n.start()},complete:function(){n.done()}},language:{emptyTable:i.I18n.get("table.contentownership.empty"),processing:i.I18n.get("label.report.loading")},lengthMenu:[10,20,50,100],columns:[{width:"35%",data:null,render:function(e,t,n,i){return"display"===t?a.render(n,{includeTOrDN:!0}):n.breadcrumb_string}},{width:"20%",data:null,render:function(e,t,n,r){return"display"===t||"filter"===t?n.created?s.render(n.created):i.I18n.get("common.words.never"):n.created?n.created:-1}},{width:"20%",data:null,render:function(e,t,n,r){return"display"===t||"filter"===t?n.modified?s.render(n.modified):i.I18n.get("common.words.never"):n.modified?n.modified:-1}},{width:"20%",data:"owner",render:function(e,t,n,r){return n.owner?"display"===t?a.render(n.owner):n.owner:i.I18n.get("common.words.none")}}],initComplete:function(e,t){o.default.init(this)}}),v=function(){r.deselectAllRows(m),m.ajax.reload()};e("[name=filterType]").on("change",(function(){e("#userFilterContainer").toggleClass("hide","allWithOwner"!==e(this).val()),v()})),h.on("submit.cs.chooser.panel removetag.cs.chooser clear.cs.chooser",(function(){v()})),p[0].selectize.on("change",(function(e){v()}));var y=function(n,i){var o=r.getSelectedAssets(m);o.usernameForAssignment=n,o.userIds="["+t.keys(h.data("cs.chooser").getChosen()).join()+"]",o.filterType=e("[name=filterType]:checked").val(),o.siteId=p.val(),e.post(u.default.absolutePath("/ajax/submitContentOwner.act"),o,(function(e){var t=c.getJsonResponseStatus(e);"success"===t.status&&r.deselectAllRows(m),m.ajax.reload((function(){r.processOperationResults(e.results,m)})),l.showHtml(t.message,{type:t.status}),i&&i()}),"json")};e("#unassign-selection").on("click",(function(){var e=i.UI.disableButton(this);y("",e)})),f.on("submit.cs.chooser.panel",(function(){var e=f.data("cs.chooser"),n=t.keys(e.getChosen()).join();e.resetChosen(),y(n)})),d.init()}.apply(t,i))||(e.exports=r)},60855:function(e,t,n){var i,r;i=[n(37549),n(93541)],void 0===(r=function(e,t){return{init:function(){var n=e("#reviewOnSchedule");e("input[name = 'reviewDateOption']").on("click",(function(){"0"===e(this).val()?n.prop({disabled:!0,checked:!1}).trigger("change"):n.prop("disabled",!1)})),n.on("change",(function(){var n;n=e(this).is(":checked"),e("#review-one-month").next("label").text(n?t.I18n.get("label.review.on.schedule.monthly.frequency"):t.I18n.get("label.schedule.date.option.1month")),e("#review-three-months").next("label").text(n?t.I18n.get("label.review.on.schedule.three.months.frequency"):t.I18n.get("label.schedule.date.option.3months")),e("#review-six-months").next("label").text(n?t.I18n.get("label.review.on.schedule.six.months.frequency"):t.I18n.get("label.schedule.date.option.6months")),e("#review-one-year").next("label").text(n?t.I18n.get("label.review.on.schedule.yearly.frequency"):t.I18n.get("label.schedule.date.option.1year"))}))}}}.apply(t,i))||(e.exports=r)},76260:function(e,t,n){var i,r;i=[n(37549),n(10776),n(93541),n(12596),n(24819),n(50384),n(93660),n(89152),n(4258),n(53376),n(80471),n(10861),n(94917),n(26742),n(60377)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f){var p,A=e("#apply-filter"),g=e("#stalecontent-filter"),m=e("#site-filter"),v=m.data("selected-site-id"),y=e("#export-csv"),b=e("#staleContentTable"),w=e("#stale-content-table-info"),x=e(".data-table-container");return A.on("click",(function(){var e,t,n;e=y.attr("href"),t=m.data("cs.siteSelect").getSelectedSiteId(),n=e.replace("siteId="+v,"siteId="+t),y.attr("href",n),v=t,p.ajax.reload()})),e("#schedule-selection").on("click",(function(){var e=n.UI.disableButton(this);i.focusElementOnHide(this),i.open(a.default.absolutePath("/ajax/multisubmit/loadScheduleReview.act"),o.getSelectedAssets(p),(function(){i.find(".form-control").eq(0).select(!1)}),null,e)})),e("#notify-selection").on("click",(function(){var e=n.UI.disableButton(this);i.focusElementOnHide(this),i.open(a.default.absolutePath("/ajax/loadStaleContentNotification.act"),o.getSelectedAssets(p),null,null,e)})),{init:function(){e("#staleMode").val("MODIFIED"),h.init(g),p=o.init(b,null,{pagingType:"listbox",ajax:{url:a.default.absolutePath("/ajax/getStaleContentReport.act"),data:function(t){var n,i=e(".assetType:checked");t.staleThreshold=e("#threshold").val(),t.mode="MODIFIED",t.staleRestrictFolders=(n=[],e.each(e(".inline-asset-chooser"),(function(){var t=e(this).find(".asset-link").data("asset-id");n.push(t)})),n),t.siteId=m.data("cs.siteSelect").getSelectedSiteId(),t.showOnlyMyContent=e("#show-only-my-content").is(":checked"),t.assetType=i.length>1?"BOTH":i.attr("data-asset-type")},dataSrc:function(e){return e.entities},statusCode:{200:function(e){w.addClass("hide"),x.removeClass("hide")}},error:function(e,t,n){w.html(f.getAjaxResponseError(e)).removeClass("hide"),x.addClass("hide")},beforeSend:function(){t.start(),h.hide(g),s.disableClicking(A[0])},complete:function(){t.done(),s.enableClicking(A[0])}},language:{processing:n.I18n.get("label.report.loading")},order:[[3,"asc"]],columns:[{data:null,render:function(e){return r.render(e,{showIcon:!0,hoverable:!1,showPath:!0,showSite:!1})}},{data:null,render:function(e){return e.ownedBy?r.render({id:e.ownedBy,label:e.ownedBy,type:"user"},{showIcon:!1,hoverable:!1}):n.I18n.get("common.words.none")}},{data:null,render:function(e,t,n,i){return"display"===t||"filter"===t?u.render(e.lastModifiedOn):e.lastModifiedOn}},{data:null,render:function(e){return r.render({id:e.lastModifiedBy,label:e.lastModifiedBy,type:"user"},{showIcon:!1,hoverable:!1})}}],initComplete:function(){l.default.init(this)}})}}}.apply(t,i))||(e.exports=r)},70516:function(e,t,n){var i,r;i=[n(37549),n(2826),n(92648),n(93541),n(50384),n(24819),n(51517),n(70124),n(10861),n(12596),n(10776),n(93660)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d){var h,f,p=d.default.absolutePath("/ajax/getUserActivity.act"),A=d.default.absolutePath("/ajax/audits.act"),g=d.default.absolutePath("/administration/exportUserActivityCsv.act"),m=e("#user-activity-filter"),v=e("#startDate").closest(".date"),y=e("#endDate").closest(".date"),b=e("#date-range"),w=e("#enabledUsersOnly"),x=e("#userActivityTable"),C=e("#filter-dropdown-link"),_=e("#user-activity-table-info"),k={startDate:null,endDate:null,enabledUsersOnly:!0},S=function(){var e=m.serialize();return!1===w.prop("checked")&&(e+="&enabledUsersOnly=false"),e},E=function(){var e="?"+S();l.REPORTING.trackReportEvent("User Activity","Exported as CSV",n.getQueryParams(e)),window.location=g+e},T=function(e,t){return'<button type="button" class="btn-link audit-link" data-audit-action="'+e+'">'+t+"</button>"},B=r.init(x,null,{serverSide:!0,multiop:!1,deferLoading:0,order:[[5,"desc"]],ajax:{beforeSend:function(){u.start()},complete:function(){u.done()}},columns:[{data:"user",render:function(e,t){return"display"===t?o.render(e):"type"===t?e.type:e.label}},{data:"creates",render:function(e){return e>0?T("create",e):e}},{data:"updates",render:function(e){return e>0?T("edit",e):e}},{data:"publishes",render:function(e){return e>0?T("publish",e):e}},{data:"deletes",render:function(e){return e>0?T("delete",e):e}},{data:"logins",render:function(e){return e>0?T("login",e):e}}]});s.init(m),a.init(m),h=v[0]._flatpickr,(f=y[0]._flatpickr).set("maxDate",new Date),h.set("maxDate",new Date),v.on("dp.change",(function(e,t){f.set("minDate",t.date)})),y.on("dp.change",(function(e,t){h.set("maxDate",t.date)})),e("#filter-button").on("click",(function(){var r,o;r=h.selectedDates[0],o=f.selectedDates[0],k.startDate=r||null,k.endDate=o||null,k.enabledUsersOnly=w.prop("checked"),function(){var r,o,a,s,c,u,d="?"+S();B.ajax.url(p+d).load(),e("#activity-table-container").removeClass("hide"),_.addClass("hide"),e("#export-user-activity-link").removeClass("hide"),l.REPORTING.trackReportEvent("User Activity","Filtered Report",n.getQueryParams(d)),r=h.selectedDates[0],o=f.selectedDates[0],a="MMMM DD, YYYY",s=t(r).format(a),c=t(o).format(a),u="",u+=r||o?o?r?i.I18n.get("message.user.activity.from")+" "+s+" - "+c:i.I18n.get("message.user.activity.up.to")+" "+c:i.I18n.get("message.user.activity.beginning")+" "+s:i.I18n.get("message.user.activity.all.recorded"),b.html(u)}(),C.dropdown("toggle")})),e("#export-user-activity-link").on("click",(function(e){e.stopPropagation(),e.preventDefault(),E()})),e("#export-user-activity-button").on("click",(function(){C.dropdown("toggle"),E()})),x.on("click",".audit-link",(function(){var t,n,i,r=e(this),o=(t=r.closest("tr").attr("id"),i=(n=B.row("#"+t)).data(),n&&i.user?n.data().user.id:null);if(o){var a={id:o,type:"user",action:r.data("audit-action"),startDate:k.startDate?k.startDate.valueOf():"",endDate:k.endDate?k.endDate.valueOf():""};c.focusElementOnHide(r),c.open(A,a,(function(){l.REPORTING.trackReportEvent("User Activity","Opened User Audits Modal",a)}))}})),l.REPORTING.trackReportEvent("User Activity","Viewed Report")}.apply(t,i))||(e.exports=r)},13304:function(e,t,n){var i,r;i=[n(37549),n(93541),n(53376)],void 0===(r=function(e,t,n){return{init:function(){var t=n.getStandardFormForModal(),i=t.find("input.base-role"),r=function(e){return e.find("input.has-prereq")}(t),o=e("#bypassAllPermissionsChecks"),a=function(e){var t={};return e.each((function(){for(var e=this.hasAttribute("data-required-abilities")?this.getAttribute("data-required-abilities").split(","):[],n=0;n<e.length;n++)t[e[n]]?t[e[n]].push(this):t[e[n]]=[this]})),t}(r),s=function(e){var t=e.checked&&!e.disabled,n=a[e.id];if(n&&n.length)for(var i=0;i<n.length;i++)n[i].disabled=!o[0].checked&&!t,n[i].setAttribute("data-previous-disabled-state",!t),s(n[i])};e("#basedOn").on("change",(function(){var t=this.value;i.each((function(){var n=e(this);n.prop("checked",n.data("base-role-id")<=t).trigger("change")}))})),t.on("change","input.base-role",(function(){s(this)})),o.on("change",(function(){var e=this.checked;r.each((function(){e?(this.setAttribute("data-previous-disabled-state",this.disabled),this.disabled=!1):this.disabled="true"===this.getAttribute("data-previous-disabled-state")}))}))}}}.apply(t,i))||(e.exports=r)},49416:function(e,t,n){var i,r;i=[n(37549),n(24819),n(50384),n(93660),n(10776),n(14741),n(93541),n(2687)],void 0===(r=function(e,t,n,i,r,o,a){return function(s,l){var c={users:[{targets:0,data:"label",render:function(e,n,i,r){return i.type="user",t.render(i)}}],groups:[{targets:0,data:"label",render:function(e,n,i,r){return i.type="group",t.render(i)}}]};l||(c.users.push({targets:1,data:void 0,render:function(e,n,i,r){var o="";for(var a in i.sites){var s=i.sites[a];s.type="site",o+=t.render(s)+"<br/>"}return o},orderable:!1}),c.groups.push({targets:1,data:void 0,render:function(e,n,i,r){var o="";for(var a in i.sites){var s=i.sites[a];s.type="site",o+=t.render(s)+"<br/>"}return o},orderable:!1}),c.sites=[{targets:0,data:void 0,render:function(e,n,i,r){return i.type="site",t.render(i)}}]);var u={users:i.default.absolutePath("/ajax/getUsersByRole.act",{id:s,global:l}),groups:i.default.absolutePath("/ajax/getGroupsByRole.act",{id:s,global:l}),sites:i.default.absolutePath("/ajax/getSitesByRole.act",{id:s})};e("[role=tab]").on("show.bs.tab",(function(){var t,i,s;t=e(this).attr("aria-controls"),i=e("#"+t),s=u[t],i.attr("contentLoaded")||_.isEmpty(s)||(r.start(),e.get(s,(function(r,o,a){if("error"!==a.getResponseHeader("Cascade-Render-Status"))n.init(i.find("table"),(function(){i.attr("contentLoaded","true")}),{order:[[1,"asc"]],data:r,columns:c[t],autoWidth:!1,select:!1});else{var s=e(a.responseText).find(".render-error").html();i.html(s)}})).fail((function(e,t){o.showText(400===e.status?e.responseText:a.I18n.get("error.action.modal.request.failed"))})).always((function(){r.done()})))}))}}.apply(t,i))||(e.exports=r)},41768:function(e,t,n){var i,r;i=[n(37549)],void 0===(r=function(e){e("#search-index-form").attr("data-ajax-submit",!0)}.apply(t,i))||(e.exports=r)},79264:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(14741),n(50384),n(4258),n(51517),n(16412),n(24819),n(10776),n(53376),n(10861),n(26742),n(93660),n(48757),n(6872)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f){var p=e("#search-form"),A=e("#searchQuery"),g=e("#searchError"),m=function(e,t){var n=t||p.find(".validationError");n.html(e),n.removeClass("hide")},v=function(e){var t=e||p.find(".validationError");t.addClass("hide"),t.html("")},y={order:[],dom:"lrtp",ajax:{url:p.attr("action"),data:function(){return p.serialize()},dataSrc:function(e){return e.searchError?(m(e.searchError,g),[]):e.searchResults||[]},type:"POST"},rowId:"id",columns:[{data:"label",render:function(e,t,n,i){return"display"===t?l.render(n,{includeTOrDN:!0,showPath:!0}):n.tOrDN+" "+n.label}},{data:"matchedFields",render:function(e,t,n,i){return e}},{data:"matchedTerms",render:function(e,t,n,i){return e}}],initComplete:function(e,t){o.default.init(this)}},b=r.init(e("#search-results"),null,y);a.init(),e(".site-select").siteSelect(),e("#replace-selection").on("click",(function(){var o=n.UI.disableButton(this),a=r.getSelectedAssets(b);return t.isEmpty(a.selectedIds)?(alert(n.I18n.get("error.no.search.replace.assets.selected")),!1):""===A.val()?(alert(n.I18n.get("error.no.search.query")),!1):(s.focusElementOnHide(this),void s.open(f.default.absolutePath("/ajax/loadSearchReplace.act"),p.serialize()+"&"+t.toQuery(a),"html",(function(){var t=u.getStandardFormForModal();r.init(t.find("#search-term-table"),null,{dom:"lrtp",order:[[1,"asc"]]}),u.addPreSubmitHandler(t,(function(){v(t.find(".validationError"));var r=t.find("tr:has(input[name=selectedSearchTerms]:checked)").filter((function(){return""===e(this).find("input.replacementTerm").val()}));if(r.length>0){var o=r.find("input[name=selectedSearchTerms]").map((function(){return e(this).val()})).get().join(", ");if(!confirm(n.I18n.get("warning.empty.replacement.value.1")+" "+o+" "+n.I18n.get("warning.empty.replacement.value.2")))return!1}return c.start(),e.get(t.attr("action"),t.serialize(),(function(e){var n;c.done(),(n=h.parseJson(e,null))?n.success?(i.showText(n.success,{type:"success"}),s.hide(),w(),d.SEARCHREPLACE.trackEvent("Full Search Replacement Success")):(m(n.error,t.find(".validationError")),d.SEARCHREPLACE.trackEvent("Full Search Replacement Error")):s.find(".modal-dialog").html(e)})),!1})),d.SEARCHREPLACE.trackModalOpenedEvent("Full Search Replace")}),o))}));var w=t.debounce((function(){A.val().length>2?(v(g),r.deselectAllRows(b),c.start(),b.ajax.reload((function(){c.done(),d.SEARCHREPLACE.trackEvent("Performed Full Search",t.getQueryParams(b.ajax.params()))}))):m(n.I18n.get("error.generic.search.term"),g)}),750),x=e("#siteToSearch");x[0].selectize.off("change"),x[0].selectize.on("change",w),A.on("keyup cut paste input",w),e("#fieldsToSearch")[0].selectize.on("change",w),e("#typesToSearch")[0].selectize.on("change",w),d.SEARCHREPLACE.trackEvent("Viewed Full Search")}.apply(t,i))||(e.exports=r)},39070:function(e,t,n){var i,r;i=[n(37549),n(92648),n(2826),n(10776),n(93541),n(80471),n(24819),n(12596),n(50384),n(93660),n(4258),n(51517)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d){var h,f={users:{columns:[{data:"path",render:function(e,n,i,r){if("display"===n){var o=t.clone(i);return o.fNm=o.path,a.render(o,{enabled:o.enabled})}return e}},{data:"fNm",defaultContent:"",render:function(e,n,i,r){return t.escape(e)}},{data:"eml",defaultContent:""},{data:"login",render:function(e,t,i,a){return"display"===t?e?o.render(e):r.I18n.get("common.words.never"):"filter"===t?e?o.renderFormatted(e)+"("+n(e).fromNow()+")":r.I18n.get("common.words.never"):e}}],table:null,url:c.default.absolutePath("/ajax/getAvailableUsers.act",{extraData:!0})},groups:{columns:[{data:"label",render:function(e,t,n,i){return"display"===t?(n.type="group",a.render(n)):e}},{data:"numUsers"}],table:null,url:c.default.absolutePath("/ajax/getAvailableGroups.act",{extraData:!0})},roles:{columns:[{data:"label",render:function(e,t,n,i){return"display"===t?(n.type="role",a.render(n)):e}},{data:"system",render:function(e,t,n,i){return r.I18n.get("table.value.security.roles.applicable.to."+(e?"system":"sites"))}}],table:null,url:c.default.absolutePath("/ajax/getAvailableRoles.act")}},p=function(){return f[h].table},A=function(e){var t,n=r.UI.disableButton(this),i=p();i?(t=l.getSelectedAssets(i),s.focusElementOnHide(this),s.open(e,t,null,(function(n){l.performMultiOp(e,t,i)}),n)):n()};function g(n){var r,o;h=t.has(f,n)?n:"users",o=(r=e("#"+h)).find("table"),e.fn.dataTable.isDataTable(o[0])||(i.start(),d.init(r),f[h].table=l.init(o,null,{ajax:function(e,t,n){l.loadTableDataFromUrlInChunks(f[h].url,e,t,n,(function(){i.done()}))},columns:f[h].columns,rowId:"id",autoWidth:!1,initComplete:function(){u.default.init(p().table().node())}}))}return e("[role=tab]").on("show.bs.tab",(function(){var t=e(this).attr("aria-controls");history.pushState(null,null,window.location.pathname+"?tab="+t),g(t)})),e("#create-user-link").on("click",(function(){s.getAdminChoices("user","")})),e("#create-group-link").on("click",(function(){s.getAdminChoices("group","")})),e("#create-role-link").on("click",(function(){s.getAdminChoices("role","")})),this.loadUsers=function(){var n,i,r=e('input[name="disabledOrEnabled"]'),o=e('input[name="loggedInOrNot"]'),a=function(){n=r.filter(":checked").val(),i=o.filter(":checked").val()},s=function(){a(),f.users.table.draw()};e.fn.dataTable.ext.search=[function(e,r,o,a){var s=!0;return!e.nTable.className.indexOf("users-table")||"both"===n&&"both"===i||("both"!==n&&n!==a.enabled+""&&(s=!1),"both"!==i&&i!==t.isNumber(a.login)+""&&(s=!1),s)}],r.on("change",s),o.on("change",s),a(),g("users")},this.loadGroups=function(){g("groups")},this.loadRoles=function(){var t,n=e('input[name="roleType"]'),i=function(){t=n.filter(":checked").val()};e.fn.dataTable.ext.search=[function(e,n,i,r){return!e.nTable.className.indexOf("roles-table")||"both"===t||"system"===t===r.system}],n.on("change",(function(){i(),f.roles.table.draw()})),i(),g("roles")},e("#assume-identity-link").on("click",(function(){var e=p();e&&(window.location=c.default.absolutePath("/assumeIdentity.act",{id:e.row({selected:!0}).data().id}))})),e(".delete-selection").on("click",(function(){A.call(this,c.default.absolutePath("/ajax/multisubmit/confirmDeleteEntities.act"))})),this}.apply(t,i))||(e.exports=r)},35201:function(e,t,n){var i,r;i=[n(37549),n(41877),n(53376),n(93831),n(16412),n(10861),n(93660),n(2546)],void 0===(r=function(e,t,n,i,r,o,a){var s,l=a.default.absolutePath("/ajax/uploadDataDefinition.act"),c=function(t){t||(t=e(this)),"builder"===t.data("type")&&""!==s.html().trim()?(s.removeClass("hide"),r.find(".modal-box").addClass("modal-double-header")):(s.addClass("hide"),r.find(".modal-box").removeClass("modal-double-header"))};return{init:function(a,u,d){var h=n.getStandardFormForModal();s=r.find(".modal-secondary-header"),t.init(l,(function(e){t.updateNameFieldWithUploadedFileNameWithoutExtension(e),h.find("#content-editor").cascadeCodeEditor()})),h.find("#content-editor").cascadeCodeEditor(),r.onShown((function(){i.init(a,u,"SharedField",d),c(e("#tab-edit-builder"))})),r.find("[role=tab]").on("show.bs.tab",(function(){c(e(this))})),o.CONTENT.trackModalOpenedEvent("Shared Field Edit")}}}.apply(t,i))||(e.exports=r)},73625:function(e,t,n){var i,r;i=[n(37549),n(10776),n(50384),n(24819)],void 0===(r=function(e,t,n,i){return{init:function(r){n.init(e("#table-naming-issues"),null,{serverSide:!0,ajax:{url:"/ajax/getNamingRuleIssues.act?id="+r,beforeSend:function(){t.start()},complete:function(){t.done()}},columns:[{data:"tOrDn",render:function(e,t,n,r){return"display"===t?i.render(n):e||n.label}}]})}}}.apply(t,i))||(e.exports=r)},70213:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(93660),n(12993),n(24819),n(92525),n(14225)],void 0===(r=function(e,t,n,i,r,o,a){var s=r.get("recentSiteComponents"),l=n.Variables.get("currentSiteId");t.forEach(["assetfactory","contenttype","pageconfigurationset","structureddatadefinition","publishset","metadataset","workflowdefinition","sitedestination","transport","connector","editorconfiguration"],(function(t){var r="assetfactory"===t?"assetfactories":t+"s",a={maxSize:5,filterType:t,originalSiteId:l,crossSiteRule:"CURRENT_SITE"};e.get(i.default.absolutePath("/ajax/getHistory.act"),a,(function(i){e("#recent-"+r).html(s({listItems:i.history,listSize:i.totalHistory,type:t,minSize:1,AssetLinkRenderer:o,I18n:n.I18n}))}),"json")})),a.init()}.apply(t,i))||(e.exports=r)},16479:function(e,t,n){var i,r;i=[n(37549),n(93541),n(10776),n(16412),n(12596),n(50384),n(93660),n(53376),n(41877),n(14741)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){return{openCreateModal:function(e,t){r.open(a.default.absolutePath("/entity/startsite.act"),null,(function(e,t,n){s.bind()}),(function(t){e&&t.success&&t.id&&(o.deselectAllRows(e),e.ajax.reload((function(){e.row("#"+t.id).select().show().draw(!1)})))}),t)},openImportModal:function(e,t){r.open(a.default.absolutePath("/entity/importsite.act"),null,(function(e,t,n){l.init(a.default.absolutePath("/ajax/site/import/upload.act"),(function(e){l.hasFile()&&l.updateNameFieldWithUploadedFileNameWithoutExtension(e)})),s.bind()}),(function(e){}),t)},performMultiOp:function(e,t,n,i,a){var s=o.getSelectedAssets(i);_.isObject(t)&&(s=_.assign(t,s)),r.open(e,s,null,(function(e){o.deselectAllRows(i),n?i.ajax.reload((function(){o.processOperationResults(e.results,i)})):o.processOperationResults(e.results,i)}),a)}}}.apply(t,i))||(e.exports=r)},38338:function(e,t,n){var i,r;i=[n(37549),n(93660),n(41877),n(53376),n(93831),n(16412),n(2546)],void 0===(r=function(e,t,n,i,r,o){var a,s=t.default.absolutePath("/ajax/uploadDataDefinition.act");return{init:function(t,l){var c=i.getStandardFormForModal();n.init(s,(function(e){n.updateNameFieldWithUploadedFileNameWithoutExtension(e),c.find("#content-editor").cascadeCodeEditor()})),c.find("#content-editor").cascadeCodeEditor(),o.onShown((function(){r.init(t,l,"StructuredDataDefinition")})),a=o.find(".modal-secondary-header"),o.find("[role=tab]").on("show.bs.tab",(function(){"builder"==e(this).data("type")?(a.removeClass("hide"),o.find(".modal-box").addClass("modal-double-header")):(a.addClass("hide"),o.find(".modal-box").removeClass("modal-double-header"))}))}}}.apply(t,i))||(e.exports=r)},80605:function(e,t,n){var i,r;i=[n(37549),n(53376),n(43200)],void 0===(r=function(e,t,n){return{init:function(){n.init("symlink"),e("#chooser-metadataSetId").on("submit.cs.chooser.panel",(function(){t.updateForm(n.find())}))}}}.apply(t,i))||(e.exports=r)},6337:function(e,t,n){var i,r;i=[n(15037),n(28327)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},62188:function(e,t,n){var i,r;i=[n(37549),n(93541),n(50384),n(93660),n(12596),n(14741),n(90815),n(6872)],void 0===(r=function(e,t,n,i,r,o,a){var s=e("#tab-my-tasks").find(".task-count"),l=e("#tab-completed-tasks").find(".task-count"),c=e("#tab-created-tasks").find(".task-count"),u=e("#tab-participating-tasks").find(".task-count"),d=i.default.absolutePath("/ajax/multisubmit/delete.act"),h=i.default.absolutePath("/ajax/multisubmit/unresolve.act"),f=i.default.absolutePath("/ajax/multisubmit/resolve.act");e("#new-task-link").click((function(){var e=t.UI.disableButton(this);r.focusElementOnHide(this),r.open(i.default.absolutePath("/entity/createUserTask.act"),{taskForward:"tasks"},null,null,e)}));var p=a.init(e("#my-tasks"),(function(){s.length&&s.text(e(this).DataTable().rows().count())}),null,"active"),A=a.init(e("#completed-tasks"),(function(){l.length&&l.text(e(this).DataTable().rows().count())}),null,"completed"),g=a.init(e("#created-tasks"),(function(){c.length&&c.text(e(this).DataTable().rows().count())}),null,"created"),m=a.init(e("#participating-tasks"),(function(){u.length&&u.text(e(this).DataTable().rows().count())}),null,"participating");e(".delete-selection").on("click",(function(){var e,i=b(),r=n.getSelectedAssets(i);e=i==p?1===r.selectedIds.length?t.I18n.get("prompt.task.confirm.delete.single"):t.I18n.get("prompt.task.confirm.delete.multi").replace(/\{0\}/,r.selectedIds.length):1===r.selectedIds.length?t.I18n.get("prompt.multiop.confirm.delete.single"):t.I18n.get("prompt.multiop.confirm.delete").replace(/\{0\}/,r.selectedIds.length),confirm(e)&&v.call(this,i)})),e(".resolve-selection").on("click",(function(){var e=t.UI.disableButton(this),i=b();n.performMultiOp(f,n.getSelectedAssets(i),i,(function(){y(i)}),e)})),e(".unresolve-selection").on("click",(function(){var e=t.UI.disableButton(this),i=b();n.performMultiOp(h,n.getSelectedAssets(i),i,(function(){y(i)}),e)}));var v=function(e){var i=t.UI.disableButton(this);n.performMultiOp(d,n.getSelectedAssets(e),e,(function(){y(e)}),i)},y=function(t){t!==p&&p.ajax.reload((function(){s.text(p.rows().count())})),t!==A&&A.ajax.reload((function(){l.text(A.rows().count())})),t!==g&&g.ajax.reload((function(){c.text(g.rows().count())})),t!==m&&m.ajax.reload((function(){u.text(m.rows().count())})),e(".task-tabs > li.active .task-count").text(t.rows().count())},b=function(){var t=e(".task-tabs li.active > a").attr("id");return"tab-my-tasks"===t?p:"tab-completed-tasks"===t?A:"tab-created-tasks"===t?g:"tab-participating-tasks"===t?m:void 0}}.apply(t,i))||(e.exports=r)},84486:function(e,t,n){var i,r;i=[n(37549),n(93541),n(60629),n(16412),n(10861)],void 0===(r=function(e,t,n,i,r){return{init:function(){var e=i.find();n.init(e),r.COLLABORATION.trackModalOpenedEvent("Task Edit")}}}.apply(t,i))||(e.exports=r)},94791:function(e,t,n){var i,r;i=[n(37549),n(93541),n(12596),n(16412),n(10861),n(50384),n(93660)],void 0===(r=function(e,t,n,i,r,o,a){return{init:function(){var s={order:[[2,"asc"]]};o.init(e("#my-tasks-table"),null,s),o.init(e("#all-tasks-table"),null,s),e(".create-task").on("click",(function(){var o=t.UI.disableButton(this);n.focusElementOnHide(this),n.open(a.default.absolutePath("/entity/createUserTask.act"),{taskForward:"none",id:t.Variables.get("domId"),type:t.Variables.get("domType")},(function(){e("#ajax-modal").find(".modal").on("hidden.bs.modal",(function(e){i.open(a.default.absolutePath("/ajax/viewAssetTasks.act"),{id:t.Variables.get("domId"),type:t.Variables.get("domType")})}))}),(function(){r.COLLABORATION.trackEvent("Created Task",{source:"asset",assetId:t.Variables.get("domId"),assetType:t.Variables.get("domType")})}),o)})),r.COLLABORATION.trackModalOpenedEvent("Asset Tasks")}}}.apply(t,i))||(e.exports=r)},43838:function(e,t,n){var i,r;i=[n(37549),n(93541),n(93660),n(12596),n(81538),n(8999),n(60629),n(14741),n(10861),n(51953)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c){var u=n.default.absolutePath("/ajax/syncTaskParticipants.act"),d=n.default.absolutePath("/ajax/removeTaskParticipant.act"),h=e("#chooser-participants"),f=function(){return h.data("cs.chooser")||h.userGroupChooser().data("cs.chooser")},p=function(e){var t=f();e.success?(s.showText(e.success,{type:"success"}),t.options.originalChosen=t.getChosen(),l.COLLABORATION.trackEvent("Updated Task Participants",{source:"usertask",numberOfParticipants:_.keys(t.getChosen()).length})):(t.resetChosen(),s.showText(e.error,{type:"danger"}))},A=function(e,t,n){f().resetChosen(),s.showText(e.error,{type:"danger"})};h.on("submit.cs.chooser.panel clear.cs.chooser",(function(){var n=f(),i=_.keys(n.getChosen());e.ajax({url:u,data:{id:t.Variables.get("domId"),userIds:i},success:p,error:A})})),h.on("removetag.cs.chooser",(function(n,i){var r;r=i.id,e.ajax({url:d,data:{id:t.Variables.get("domId"),userId:r},success:p,error:A})})),e("#edit-link").click((function(){var n=t.UI.disableButton(this);i.focusElementOnHide(this),i.open(e("#edit-link").attr("data-action"),{id:t.Variables.get("domId"),type:"usertask"},null,(function(){l.COLLABORATION.trackEvent("Updated Task",{source:"usertask"})}),n)})),e("#delete-link").click((function(){var n=t.UI.disableButton(this);i.focusElementOnHide(this),i.open(e("#delete-link").attr("data-action"),{id:t.Variables.get("domId"),type:"usertask"},null,(function(){l.COLLABORATION.trackEvent("Deleted Task",{source:"usertask"})}),n)})),e("#resolve-link").click((function(){var e=t.UI.disableButton(this);r.updateResolutionStatus(!1,{id:t.Variables.get("domId")},e)})),e("#unresolve-link").click((function(){var e=t.UI.disableButton(this);r.updateResolutionStatus(!0,{id:t.Variables.get("domId")},e)})),e(document).on("add.cs.entity.comments reply.cs.entity.comments",(function(){window.location.reload()})),a.init(),o.loadInstantly(),c.init()}.apply(t,i))||(e.exports=r)},92422:function(e,t,n){var i,r;i=[n(37549),n(93660),n(41877),n(43200),n(2546)],void 0===(r=function(e,t,n,i){return{init:function(){i.init("template"),n.init(t.default.absolutePath("/ajax/uploadTemplate.act"),(function(t){n.updateNameFieldWithUploadedFileNameWithoutExtension(t),e("#content-editor").cascadeCodeEditor()})),e("#content-editor").cascadeCodeEditor()}}}.apply(t,i))||(e.exports=r)},24663:function(e,t,n){var i,r;i=[n(37549),n(93541)],void 0===(r=function(e,t){return{init:function(){}}}.apply(t,i))||(e.exports=r)},63190:function(e,t,n){var i,r;i=[n(37549),n(93541)],void 0===(r=function(e,t){return{init:function(){}}}.apply(t,i))||(e.exports=r)},55915:function(e,t,n){var i,r;i=[n(37549),n(93541)],void 0===(r=function(e,t){return{init:function(){}}}.apply(t,i))||(e.exports=r)},41896:function(e,t,n){var i,r;i=[n(37549),n(93541),n(93660),n(41877)],void 0===(r=function(e,t,n,i){var r=function(){return e("#usesSecure").is(":checked")},o=function(){return e("input[name='authMode']:checked").val()};return{init:function(){var a=e("#usesNormal"),s=e("#usesPassive"),l=e("#passive-setting"),c=e("#usesSecure"),u=e("#usesFTPS"),d=e("#port"),h=e("[name='ftpProtocolType']");e("input[name='ftpProtocolType'], input[name='authMode']").on("change",(function(){s.prop("disabled",r()),e("#publicKeyUpload, #passphraseFormGroup").toggleClass("hide",!r()||"PUBLIC_KEY"!==o()),e("#passwordFormGroup").toggleClass("hide","PASSWORD"!==o()&&r()),e("#authMode").toggleClass("hide",!r())})),s.on("change",(function(){s.prop("checked")&&a.prop("checked",!0),c.prop("disabled",s.prop("checked")),u.prop("disabled",s.prop("checked"))})),h.on("change",(function(){var n=e(this).val();l.toggleClass("hide","FTP"!==n),e(".ftp-settings").find("h2 > span").text(t.I18n.get("title."+n.toLowerCase()+".transport.settings")),function(t){"SFTP"===t?d.val(22):"FTPS"===t?d.val(990):d.val(21),e("#port-error").hide()}(n)})),i.init(n.default.absolutePath("/ajax/uploadTransportPrivateKey.act"))}}}.apply(t,i))||(e.exports=r)},76567:function(e,t,n){var i,r;i=[n(2687),n(14225)],void 0===(r=function(){}.apply(t,i))||(e.exports=r)},22437:function(e,t,n){var i,r;i=[n(37549),n(51517),n(16412),n(10776),n(2687),n(53376),n(60629),n(41089)],void 0===(r=function(e,t,n,i,r,o,a,s){return{init:function(){t.init(),s.init(n.find()),a.init(n.find());const i=e(".password-fields"),r=i.find("input[type=password]"),o=i.find("label"),l=e("input[name=password]"),c=e("input[name=confirmPassword]"),u=e=>{const t="NORMAL"===e;i.toggleClass("hide",!t),r.prop("disabled",!t),o.toggleClass("required",t)};e("input[type=radio][name=authMode]").change((function(){u(this.value)})),u(e("input[type=radio][name=authMode]:checked").val());const d=t=>e(t).val("");l.on("focus",(function(){d(this),d(c)})),c.on("focus",(function(){d(this)}))}}}.apply(t,i))||(e.exports=r)},19224:function(e,t,n){var i,r;i=[n(37549),n(47807),n(93541),n(35974)],void 0===(r=function(e,t,n,i){var r="#apikey-copy";return{init:function(){var o=e(r);o.on("mouseleave",(function(){setTimeout((function(){i.setContent(o,n.I18n.get("prompt.api.key.click.to.copy"))}),250)})),new t(r).on("success",(function(e){i.setContent(o,n.I18n.get("common.word.copied")),e.clearSelection()}))}}}.apply(t,i))||(e.exports=r)},55545:function(e,t,n){var i,r;i=[n(37549),n(93541),n(2687)],void 0===(r=function(e,t){}.apply(t,i))||(e.exports=r)},77067:function(e,t,n){var i,r;i=[n(37549),n(93660),n(16412),n(41877),n(53376)],void 0===(r=function(e,t,i,r,o){var a,s=t.default.absolutePath("/ajax/profilePictureEditorActions.act"),l=t.default.absolutePath("/ajax/uploadProfilePicture.act"),c=t.default.absolutePath("/render/file.act"),u=t.default.absolutePath("/ajax/removeProfilePicture.act"),d=480,h=function(e,t){return e.find('[name="'+t+'"]').val()},f=function(){var e=a.ui.$image.width(),t=a.ui.$image.height();if(e!==t){var n=Math.round(e/2),i=Math.round(t/2),r=Math.round(n/2),o=Math.round(i/2),s=n-r>=0?n-r:0,l=i-o>=0?i-o:0,c=Math.min(n,i),u=s+c,d=l+c;a.Cropper.ImgAreaSelect.setSelection(s,l,u,d,!0),a.Cropper.setCurrentSelection(a.Cropper.ImgAreaSelect.getSelection(),!0),a.Cropper.ImgAreaSelect.setOptions({show:!0,resizable:!0}),a.Cropper.ImgAreaSelect.update(!0),a.eventFire("imageeditor/cropper/setselection",[this.currentSelection])}else a.Cropper.ImgAreaSelect.cancelSelection()},p=function(t,n,r){var o=i.find("form");n+="&storedFileUploadId="+encodeURIComponent(h(o,"storedFileUploadId")),n+="&originalFileUploadId="+encodeURIComponent(h(o,"originalFileUploadId")),function(t,n,r){e.ajax({url:s,type:"POST",data:n,cache:!1,success:function(e){var n=i.find("form");e&&e.success?(t.updateImageSrc(c+"?uploadId="+encodeURIComponent(h(n,"storedFileUploadId"))+"&"+(new Date).getTime(),void 0===r?f:r),document.getElementsByName("imageOperationsString")[0].value=e.imageOperationsString):(alert(e.error),t.HistoryManager.reset())},error:function(){alert(Cascade.I18n.get("error.imageeditor.ajax.request")),t.HistoryManager.reset()}})}(t,n+="&imageOperationsString="+encodeURIComponent(h(o,"imageOperationsString")),r)},A=function(){var t=i.find().find(".image-editor");t.length&&n.e(9348).then((function(){var i=[n(29348)];(function(){t.each((function(){e(this).cascadeImageEditor({onUndo:function(){p(this,"op=undo")},onRedo:function(){p(this,"op=redo")},onResize:function(){var e=this.Toolbar.controls.resize.$elem,t=e.find('input[name="height"]').val(),n=e.find('input[name="width"]').val();this.ui.$image.click(),p(this,"op=resize&width="+n+"&height="+t)},onCrop:function(){var e=this.Cropper.getCurrentSelection();p(this,"op=crop&x="+e.x1+"&y="+e.y1+"&width="+e.width+"&height="+e.height)},onRotateCounterclockwise:function(){p(this,"op=rotate&angle=-90")},onRotateClockwise:function(){p(this,"op=rotate&angle=90")},onFlipHorizontal:function(){p(this,"op=flip&direction=h")},onFlipVertical:function(){p(this,"op=flip&direction=v")},onReady:function(){(a=this).Cropper.ImgAreaSelect.setOptions({aspectRatio:"1:1"});var e=this.ui.$image.width(),t=this.ui.$image.height();if((e>t?e:t)>d){var n,i=this.Toolbar.controls.resize.$elem,r=0;t>e?(r=t,i.find('input[name="height"]').val(d),$otherField=i.find("input[name='width']"),n=e):(r=e,i.find('input[name="width"]').val(d),$otherField=i.find("input[name='height']"),n=t),$otherField.val(this.Cropper.getNewDimension(r,d,n)),p(this,"op=resize&width="+i.find('input[name="width"]').val()+"&height="+i.find('input[name="height"]').val())}f()}})}))}).apply(null,i)})).catch(n.oe),e(".remove-profile-picture").on("click",(function(){o.getStandardFormForModal(),a=null,e.ajax({url:u,type:"POST",data:{userId:e(this).data("user-id")},cache:!1,success:function(t){e("#fileUploadArea").html(t),r.init(l,A),A()}})}))},g=function(){var e=o.getStandardFormForModal();o.submitStandardForm(e)};return{init:function(){var e=o.getStandardFormForModal();r.init(l,A),A(),o.addPreSubmitHandler(e,(function(){if(a){var e=a.Cropper.ImgAreaSelect.getSelection();return!e||e.x1===e.x2||(p(a,"op=crop&x="+e.x1+"&y="+e.y1+"&width="+e.width+"&height="+e.height,g),!1)}}))}}}.apply(t,i))||(e.exports=r)},71545:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(93660),n(12596)],void 0===(r=function(e,t,n,i,r){e(".user-preferences").on("click",(function(){var e=t.UI.disableButton(this);r.focusElementOnHide(this),r.open(i.default.absolutePath("/ajax/user/preferences.act"),{tab:"u"},null,null,e)}))}.apply(t,i))||(e.exports=r)},15739:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(10776),n(14741),n(16412),n(24819),n(12596),n(60629),n(26347),n(51953),n(89152),n(93660),n(14225)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u,d,h){var f=function(){E(),e("#assign-to-me").on("click",g),e(".edit-link").on("click",k),e(".workflow-action-link").on("click",m),e(".workflow-action-cancel").on("click",v),e(".workflow-selected-action-submit-button").on("click",y)},p=function(){if(confirm(n.I18n.get("prompt.workflow.cancel"))){var t=n.UI.disableButton(this);e.post(h.default.absolutePath("/ajax/submitdelete.act"),{id:n.Variables.get("domId"),type:"workflow",entityForwardId:n.Variables.get("relatedEntityId"),entityForwardType:n.Variables.get("relatedEntityType")},(function(e){e.error?r.showText(e.error,{type:"danger"}):e.forward&&(e.success&&""!==e.success&&r.register({message:e.success,status:"success"}),window.location=e.forward),t()}),"json")}},A=function(){d.toggleExpandedElementState(this)},g=function(){var e=n.Variables.get("currentUsername"),t=n.UI.disableButton(this);B(e,t)},m=function(){for(var e=d.getClosest(this,"li"),t=document.getElementById("workflowActions").querySelectorAll("li.action-item"),n=0;n<t.length;n++)w(t[n]);b(e)},v=function(){var e=d.getClosest(this,"li");w(e)},y=function(t){var o=d.getClosest(this,"li"),a=C(o),s=e(d.getClosest(this,"form"));t.preventDefault(),i.start(),n.UI.disableButton(this),n.UI.disableButton(a),e.post(h.default.absolutePath("/workflow/actionselect.act"),s.serialize(),(function(e,t,n){e.success?_(e):(r.showText(e.error,{type:"danger"}),w(o))}),"json").fail((function(){w(o)})).always(i.done)},b=function(e){var t=x(e),n=C(e);d.toggleExpandedElementState(t,!0),d.disableClicking(t),d.enableClicking(n)},w=function(e){var t=x(e),n=C(e);d.toggleExpandedElementState(t,!1),d.enableClicking(t),d.enableClicking(n)},x=function(e){return document.getElementById(e.id+"-button")},C=function(e){return document.getElementById(e.id+"-cancel")},_=function(e){e.forward&&(e.directEdit?s.open(e.forward,{},(function(){s.onHide(T)})):window.location=e.forward)},k=function(){var e=n.UI.disableButton(this);s.focusElementOnHide(this),s.open(this.dataset.action,{},null,null,e)},S=function(){var t="true"===d.getAttribute(this,"data-merge"),o=function(e){var t,n=document.getElementById("workflow-error-state");if(n){t=n.querySelectorAll("button");for(var i=0;i<t.length;i++)d.toggleClicking(t[i],e)}};i.start(),o(!1),e.get(h.default.absolutePath("/entity/resolveerrorstate.act"),{id:n.Variables.get("domId"),merge:t},(function(e){e.success?T():r.showText(e.error,{type:"danger"})})).always((function(){i.done(),o(!0)}))},E=function(){var n=e("#chooser-current-step-owner"),i=n.data("cs.chooser")||n.userGroupChooser().data("cs.chooser");n.on("submit.cs.chooser.panel",(function(){var e=t.keys(i.getChosen())[0]||"";B(e)}))},T=function(){e.get(h.default.absolutePath("/workflow/loadMainContent.act"),{id:n.Variables.get("domId")},(function(t){e("#workflow-actions-and-status").html(t)}))},B=function(t,i){var r={id:n.Variables.get("domId"),userId:t};e.get(h.default.absolutePath("/ajax/assignWorkflow.act"),r,I,"json").always(i)},I=function(e){var t=e.success?"success":"danger";r.showText(e.message,{type:t})};return{init:function(){var t=e("#workflow-actions-and-status");e("#cancel-workflow-link").on("click",p),t.on("add.click.handlers",f),t.trigger("add.click.handlers"),e(".step-expander").on("click",A),e("#workflow-error-state").on("click","button",S),u.init(),c.listenTo("COMMAND",(function(e){"REFRESH_MAIN_CONTENT"===e.command&&T()}))}}}.apply(t,i))||(e.exports=r)},2788:function(e,t,n){var i,r;i=[n(37549),n(93541),n(93660),n(53376),n(41877),n(76560),n(60629),n(2687),n(2546),n(10257),n(70124)],void 0===(r=function(e,t,n,i,r,o,a){return{init:function(){var t=n.default.absolutePath("/ajax/uploadWorkflowDefinition.act");r.init(t,(function(t){r.updateNameFieldWithUploadedFileNameWithoutExtension(t),e("#content-editor").cascadeCodeEditor()})),e("#content-editor").cascadeCodeEditor(),e("#fileUploadArea").on("shown.bs.collapse",(function(){e("#content-editor").data("cscd-codeeditor").eventFire("options.showToolbar"),e("#fileUploadArea").off("shown.bs.collapse")})),a.init(),o.init()}}}.apply(t,i))||(e.exports=r)},46945:function(e,t,n){var i,r;i=[n(37549),n(93541),n(16412),n(69651)],void 0===(r=function(e,t,n,i){return{init:function(){var t=n.find("form"),r=n.find("#subject");n.onShown((function(){i.activateWysiwygs(t),n.find(".subject-placeholder-option").on("click",(function(){r.val(r.val()+e(this).data("placeholder"))}))})),n.onHide((function(){i.deactivateWysiwygs(t)}))}}}.apply(t,i))||(e.exports=r)},7717:function(e,t,n){var i,r;i=[n(37549),n(2687),n(14225)],void 0===(r=function(e){}.apply(t,i))||(e.exports=r)},50066:function(e,t,n){var i,r;i=[n(37549)],void 0===(r=function(e){var t=function(t,n,i){e.ajax({type:"POST",dataType:"json",contentType:"application/json",url:t.buildSourceUrl(t.dashboardId,t.sourceUrlRoot),processData:!1,data:JSON.stringify(t.model),success:n,error:i})};return DashboardContext=function(t){this.dashboardId=t.dashboardId,this.sourceUrlRoot=t.sourceUrlRoot,this.dashboardContainer=t.dashboardContainer||window,this.buildSourceUrl=t.buildSourceUrl||function(e,t){return t+"?id="+e},this.layoutManager=null,this.model=null;var n=this;e.ajax({dataType:"json",url:this.buildSourceUrl(this.dashboardId,this.sourceUrlRoot),success:function(t){n.model=t,n.layoutManager=e.fn.hilldash.LayoutManagerProvider.getManager(n.model.layout.type),e(n.dashboardContainer).trigger("hilldash.model.fetched",n.model,n)},error:function(e,n,i){throw"Error fetching dashboard with id "+t.dashboardId+": "+i}})},DashboardContext.prototype.addWidget=function(n){var i,r=e.extend({},this.model);do{i=String(Math.floor(999*Math.random()))}while(i in this.model.widgets);var o={id:i,type:n.type,title:n.title,params:n.params};this.model.widgets[i]=o;var a=this;a.layoutManager.addWidget(o,this.model.layout),t(a,(function(){e(a.dashboardContainer).trigger("hilldash.model.widget.add",o,a)}),(function(e,t,n){throw a.model=r,"Could not add widget to dashboard: "+n}))},DashboardContext.prototype.updateWidget=function(n,i){var r=e.extend({},this.model);e.extend(this.model.widgets[n],i);var o=this;t(o,(function(){e(o.dashboardContainer).trigger("hilldash.model.widget.change",o.model.widgets[n],o)}),(function(e,t,n){throw o.model=r,"Could not update widget on the dashboard: "+n}))},DashboardContext.prototype.removeWidget=function(n){var i=e.extend({},this.model),r=this.model.widgets[n];delete this.model.widgets[n];var o=this;this.layoutManager.removeWidget(r,this.model.layout),t(o,(function(){e(o.dashboardContainer).trigger("hilldash.model.widget.remove",r,o)}),(function(e,t,n){throw o.model=i,"Could not remove widget from dashboard: "+n}))},DashboardContext.prototype.updateLayout=function(n){var i=e.extend({},this.model);this.model.layout=n;var r=this;t(r,(function(){r.model.layout.type!==i.layout.type&&(r.layoutManager=e.fn.hilldash.LayoutManagerProvider.getManager(r.model.layout.type)),e(r.dashboardContainer).trigger("hilldash.model.layout.change",r.model.layout,r)}),(function(e,t,n){throw r.model=i,"Could not update dashboard layout: "+n}))},DashboardContext.prototype.setModelProperty=function(n,i){if(this.model[n]!==i){this.model[n]=i;var r=this;t(this,(function(){e.each(r.model.widgets,(function(t,n){e(r.dashboardContainer).trigger("hilldash.model.widget.change",n,r)}))}))}},DashboardContext}.apply(t,i))||(e.exports=r)},31482:function(e,t,n){var i,r;i=[n(37549),n(50066),n(15068),n(77241),n(8592),n(97645)],void 0===(r=function(e,t,n,i,r,o){e.fn.hilldash=function(n){return this.each((function(){var i=new t(e.extend({},n,{dashboardContainer:this}));e(this).data("hilldash.context",i)})),this},e.hilldash=function(e){return new t(e)},e.fn.hilldash.LayoutManager=n,e.fn.hilldash.LayoutManagerProvider=i,e.fn.hilldash.WidgetView=r,e.fn.hilldash.WidgetViewProvider=o}.apply(t,i))||(e.exports=r)},15068:function(e,t,n){var i,r;i=[n(37549)],void 0===(r=function(e){return{extend:function(t){return e.extend({},this,t)},type:null,addWidget:function(e,t){},removeWidget:function(e,t){}}}.apply(t,i))||(e.exports=r)},77241:function(e,t,n){var i,r;i=[n(37549)],void 0===(r=function(e){return{managers:{},register:function(e,t){this.managers[e]=t,this.managers[e].type=e},getManager:function(e){return this.managers[e]}}}.apply(t,i))||(e.exports=r)},35794:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(93660),n(2826),n(89937),n(79289),n(10861),n(31482),n(90660),n(48757)],void 0===(r=function(e,t,n,i,r,o,a,s){var l={widgetViews:{},context:null,columnIdPrefix:"hilldash-l-jqui-col-",defaultColumnCount:1,widgetsMappedToNonVisibleColumns:[],_columnTemplate:n.template(a.column),_welcomeWidgetDateTemplate:n.template(a.welcomeWidgetDate),_dropzoneTemplate:n.template(a.dropzone),_widgetTemplate:n.template(a.widget),_widgetConfigurationTemplate:n.template(a.widgetConfig),_widgetConfigurationErrorsTemplate:n.template(a.widgetConfigErrors),_siteFilterTemplate:n.template(a.siteFilterTemplate),initialize:function(a){var l=this,c=l._dropzoneTemplate({message:t.I18n.get("prompt.dashboard.dropwidget","")});l.context=a,l.columnCount=l.context.model.layout.params.columns||l.defaultColumnCount,l.$el=e("<div>",{class:"hilldash-l-jqui hilldash-l-jqui-"+l.columnCount,id:"dashboard-columns-wrapper"}),l.$cxtEl=e(l.context.dashboardContainer),l.$cxtEl.append(l.$el);for(var u,d="",h=1;h<=l.columnCount;h++)d+=l._columnTemplate({id:h,idPrefix:l.columnIdPrefix});function f(){var t={},i=[];e(".hilldash-widget",l.$el).each((function(n){var r=e(this),o=r.parents(".hilldash-l-jqui-col"),a=r.attr("id").replace("hilldash-widget-id-","");i.push(a),t[a]=o.attr("id").replace(l.columnIdPrefix,"")})),n.isEqual(i,l.context.model.layout.params.widgets)&&n.isEqual(t,l.context.model.layout.params.locations)||(l.context.model.layout.params.locations=t,l.context.model.layout.params.widgets=i,l.context.updateLayout(l.context.model.layout))}l.$el.append(d),e.get(i.default.absolutePath("/ajax/dashboard/widget/welcome.act"),(function(t){(u=e(t)).find(".current-date").append(l._welcomeWidgetDateTemplate({currentMoment:r()})),e("#"+l.columnIdPrefix+"1",l.$el).find(".hilldash-l-jqui-col-inner").prepend(u)}),"html").done((function(){e.get(i.default.absolutePath("/ajax/dashboard/widget/stickyAnnouncements.act"),(function(t){const n=e(t);n.has("li").length&&u.after(n)}),"html")})),e.each(l.context.model.layout.params.widgets,(function(e,t){var i=a.model.widgets[t],r=l.context.model.layout.params.locations[t]||1;try{l.renderWidget(i,r)}catch(e){l.context.model.layout.params.widgets=n.without(l.context.model.layout.params.widgets,t),l.context.model.layout.params.locations=n.omit(l.context.model.layout.params.locations,t)}})),l.widgetsMappedToNonVisibleColumns.length>0&&e.each(l.widgetsMappedToNonVisibleColumns,(function(){l.renderWidget(this,l.columnCount)})),e(".hilldash-l-jqui-col-inner",l.$el).sortable({connectWith:".hilldash-l-jqui-col-inner",cursor:"move",handle:".hilldash-widget-header",items:".hilldash-widget:not(#hilldash-welcome-widget, #hilldash-sticky-widget)",tolerance:"pointer",zIndex:9999,placeholder:"dropzone",start:function(e,t){t.placeholder.height(t.item.height()).html(c),l.$cxtEl.addClass("is-dragging")},stop:function(e,t){l.$cxtEl.removeClass("is-dragging")}}).on("sortupdate",(function(e,t){t&&this!==t.item.parent()[0]||(f(),s.DASHBOARD.trackEvent("Reordered Dashboard Widget"),t.item.trigger("hilldash.widgetview.refresh"))})),o.any&&e(".hilldash-l-jqui-col-inner",l.$el).sortable("option","cancel",".hilldash-widget:not(.config-shown)"),l.$cxtEl.on("hilldash.model.widget.add",(function(e,t){var n=l.renderWidget(t,1,"prepend");n.isConfigurable()&&l.configurationOpen(n),f()})),l.$el.on("hilldash.widgetview.close",".hilldash-widget",(function(e,t){this.parentNode.removeChild(this),s.DASHBOARD.trackEvent("Removed Dashboard Widget",t),delete l.widgetViews[t.id],f()}))},close:function(){for(var e in this.context&&(self.$cxtEl.off("hilldash.model.widget.add"),self.$el.length>0&&self.$el.off("hilldash.widgetview.refresh",".hilldash-widget").off("hilldash.widgetview.close",".hilldash-widget").remove()),this.widgetViews)this.widgetViews[e].tearDown();this.widgetViews={},this.context=null},renderWidget:function(n,i,r){var o,a=this,s="#"+a.columnIdPrefix+i;if(r=r||"append",""!==i&&0!==a.$el.has(s).length){o=e.fn.hilldash.WidgetViewProvider.createView(n.id,n.type,null,a.context);var l=e(a._widgetTemplate({I18n:t.I18n,widget:n,isConfigurable:o.isConfigurable()}));return(o=o.extend({dom:l[0]})).init(),o.render(),a.widgetViews[n.id]=o,l.on("click",".hilldash-widget-configure, .filter-info, .js-show-widget-form",(function(e){e.preventDefault(),a.configurationOpen(o)})),l.on("click",".hilldash-widget-remove",(function(){confirm(t.I18n.get("prompt.dashboard.remove.widget.confirmation"))&&a.context.removeWidget(n.id)})),"append"===r?e(s,a.$el).find(".hilldash-l-jqui-col-inner").append(l):1===i?e("#hilldash-welcome-widget").after(l):e(s,a.$el).find(".hilldash-l-jqui-col-inner").prepend(l),o}a.widgetsMappedToNonVisibleColumns.push(n)},configurationOpen:function(i){var r,o,a,s,l=this,c=i.$dom.find(".hilldash-widget-body"),u=i.$dom.find(".hilldash-widget-config");u.length?u.find(".hilldash-widget-config-body").html(i.isConfigurable()&&n.isFunction(i.renderForm)?i.renderForm():""):u=e(l._widgetConfigurationTemplate({widgetView:i,I18n:t.I18n})).insertAfter(c),i.requiresSiteId()&&(o=c.find(".filter-info .asset-link").data("asset"),a=n.has(o,"id")?o.id:"",s=n.has(o,"path")?o.path:"",u.find(".hilldash-widget-config-body").prepend(l._siteFilterTemplate({widgetId:i.widgetId,filteredSiteId:a,filteredSiteName:s,siteFilterPlaceholder:s||t.I18n.get("label.dashboard.filter.by.site"),I18n:t.I18n})),(r=(r=u.find(".widget-site-filter")).siteSelect())[0].selectize.on("change",(function(){""===this.getValue()&&r.parent().find(".selectize-input input[type=text]").attr("placeholder",t.I18n.get("label.dashboard.filter.by.site"))}))),i.$dom.addClass("config-shown"),u.find(".hilldash-widget-config-errors").hide(),u.submit((function(){return l.configurationSave(i)&&i.$dom.removeClass("config-shown"),!1})),u.on("click",".hilldash-widget-config-cancel",(function(){i.$dom.removeClass("config-shown")}))},configurationSave:function(e){if(e.isConfigurable()){var t=e.$dom.find(".hilldash-widget-config-errors"),n=e.$dom.find(".hilldash-widget-config")[0],i=e.processForm(n);return t.hide().html(""),i.errors?(t.append(this._widgetConfigurationErrorsTemplate({errors:i.errors})).show(),!1):(i.id?e.context.updateWidget(i.id,i):e.context.addWidget(i),s.DASHBOARD.trackEvent("Configured Dashboard Widget",i),!0)}}};return e.fn.hilldash.LayoutManagerProvider.register("jqui",e.fn.hilldash.LayoutManager.extend({addWidget:function(e,t){t.params.widgets.push(e.id),t.params.locations[e.id]=""},removeWidget:function(e,t){t.params.widgets=n.without(t.params.widgets,e.id),t.params.locations=n.omit(t.params.locations,e.id)}})),l}.apply(t,i))||(e.exports=r)},79289:function(e,t,n){var i,r;i=[n(61903),n(48861),n(96592),n(28469),n(14668),n(30248),n(77754)],void 0===(r=function(e,t,n,i,r,o,a){"use strict";return{column:e,welcomeWidgetDate:t,dropzone:n,widget:i,widgetConfig:r,widgetConfigErrors:o,siteFilterTemplate:a}}.apply(t,i))||(e.exports=r)},35385:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(65817),n(84551)],void 0===(r=function(e,t,n,i,r){return{defaultWidgetConfigs:{analyticsScreenPageViews:{type:"analyticsScreenPageViews",title:t.I18n.get("dashboard.widget.title.analytics.screenpageviews"),description:t.I18n.get("dashboard.widget.description.analytics.screenpageviews"),params:{interval:"week"}},analyticsActiveUsers:{type:"analyticsActiveUsers",title:t.I18n.get("dashboard.widget.title.analytics.activeusers"),description:t.I18n.get("dashboard.widget.description.analytics.activeusers"),params:{interval:"week"}},linkChecker:{type:"linkChecker",title:t.I18n.get("dashboard.widget.title.linkchecker"),description:t.I18n.get("dashboard.widget.description.linkchecker"),params:{}},myContent:{type:"myContent",title:t.I18n.get("dashboard.widget.title.mycontent"),description:t.I18n.get("dashboard.widget.description.mycontent"),params:{}},mySites:{type:"mySites",title:t.I18n.get("dashboard.widget.title.mysites"),description:t.I18n.get("dashboard.widget.description.mysites"),params:{}},userTasks:{type:"userTasks",title:t.I18n.get("dashboard.widget.title.my.tasks"),description:t.I18n.get("dashboard.widget.description.my.tasks"),params:{}},nc:{type:"nc",title:t.I18n.get("dashboard.widget.title.newcontent"),description:t.I18n.get("dashboard.widget.description.newcontent"),params:{}},msgs:{type:"msgs",title:t.I18n.get("dashboard.widget.title.notifications"),description:t.I18n.get("dashboard.widget.description.notifications"),params:{}},staleModified:{type:"staleModified",title:t.I18n.get("dashboard.widget.title.stalecontent.modified"),description:t.I18n.get("dashboard.widget.description.stalecontent.modified"),params:{threshold:60}},staleReview:{type:"staleReview",title:t.I18n.get("dashboard.widget.title.stalecontent.review"),description:t.I18n.get("dashboard.widget.description.stalecontent.review"),params:{threshold:14}},workflows:{type:"workflows",title:t.I18n.get("dashboard.widget.title.workflows"),description:t.I18n.get("dashboard.widget.description.workflows"),params:{}}},$modal:null,modalTemplate:null,init:function(){var o=this;this.modalTemplate=n.template(i)({addLabel:t.I18n.get("prompt.dashboard.addwidget.add"),closeLabel:t.I18n.get("label.close"),title:t.I18n.get("prompt.dashboard.addwidget.title"),widgetItems:o.defaultWidgetConfigs}),this.$modal=e(o.modalTemplate).appendTo(e("body")),this.$modal.on("click",".widget-browser-widget",(function(){var e=o.defaultWidgetConfigs[this.getAttribute("data-type")];return o.close(),o.addHandler(e),!1})),r.enable(this.$modal.find(".modal-scroll-wrapper"))},addHandler:function(e){},close:function(){this.$modal.modal("hide")},open:function(){this.$modal.modal("show")}}}.apply(t,i))||(e.exports=r)},8592:function(e,t,n){var i,r;i=[n(37549),n(93541)],void 0===(r=function(e,t){return{extend:function(t){var n=e.extend({},this,t);return n.$dom=e(n.dom),n},context:null,dom:null,$dom:null,widgetId:null,isConfigurable:function(){return(this.requiresSiteId()||"function"==typeof this.renderForm)&&"function"==typeof this.processForm},init:function(){var t=this,n=e(this.context.dashboardContainer);this.onChangeHandler=function(e,n){n.id===t.widgetId&&t.refresh()},this.onRemoveHandler=function(e,n){n.id===t.widgetId&&(t.tearDown(),t.$dom.trigger("hilldash.widgetview.close",n,t.context))},n.on({"hilldash.model.widget.change":this.onChangeHandler,"hilldash.model.widget.remove":this.onRemoveHandler})},render:function(){var e=this.getWidgetModel(),n=this.$dom.find(".hilldash-widget-body");e.params.siteId||(e.params.siteId=t.Variables.get("currentUserDefaultSiteId")),n.html('<div class="hilldash-widget-preloader" aria-describedby="cascade-loading"><i class="ci ci-loading" role="img" aria-hidden="true"></i></div>'),!this.requiresSiteId()||e.params.siteId||this.isMyContentLink()?this.renderInternal(n[0],e.params):n.html(t.I18n.get("message.widget.requires.site.id"))},renderComplete:function(){this.$dom.trigger("hilldash.widgetview.refresh",this.getWidgetModel(),this.context)},renderInternal:function(e,t){},refresh:function(){var e=this.$dom.find(".hilldash-widget-body")[0];this.tearDownInternal(e),this.render()},tearDown:function(){var t=this.$dom.find(".hilldash-widget-body")[0],n=e(this.context.dashboardContainer);this.tearDownInternal(t),n.off("hilldash.model.widget.change",this.onChangeHandler),n.off("hilldash.model.widget.remove",this.onRemoveHandler)},tearDownInternal:function(e){},getWidgetModel:function(){return this.context.model.widgets[this.widgetId]},requiresSiteId:function(){return!0},isMyContentLink:function(){return!1},getFilteredSiteIdFromConfigForm:function(e){var t,n;return this.requiresSiteId()?((t=e.find(".widget-site-filter")).length&&(n=t.val()||t.data("currentSiteId")),n):""}}}.apply(t,i))||(e.exports=r)},97645:function(e,t,n){var i,r;i=[n(37549)],void 0===(r=function(e){return{views:{},register:function(e,t){this.views[e]=t},createView:function(e,t,n,i){return this.views[t].extend({widgetId:e,dom:n,context:i})}}}.apply(t,i))||(e.exports=r)},94522:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(93660),n(67272),n(31482)],void 0===(r=function(e,t,n,i,r){var o=e.fn.hilldash.WidgetView.extend({_configFormTemplate:n.template(r.googleAnalyticsConfigForm),mode:"",renderInternal:function(t,n){var r=this,o=e(t),a=n.siteId||"";e.ajax({dataType:"html",url:i.default.absolutePath("/ajax/dashboard/widget/analytics.act",{mode:r.mode,interval:n.interval,siteId:a}),success:function(e){o.html(e);const t=o.find("div.widget-stats").data("corrected-heading");o.parent().find("header.hilldash-widget-header>h2").text(t),r.renderComplete()}})},renderForm:function(){var e=this.getWidgetModel().params.interval;return this._configFormTemplate({intervalLabel:t.I18n.get("prompt.analytics.interval.head"),interval:e,intervalLabels:{day:t.I18n.get("label.stats.timeinterval.day"),week:t.I18n.get("label.stats.timeinterval.week"),month:t.I18n.get("label.stats.timeinterval.month"),year:t.I18n.get("label.stats.timeinterval.year")}})},processForm:function(i){var r=e(i),o=r.find("select[name=interval]").val(),a={id:this.widgetId,type:this.getWidgetModel().type,title:this.getWidgetModel().title,params:{interval:o,siteId:this.getFilteredSiteIdFromConfigForm(r)}};return!1===n.find(["day","week","month","year"],(function(e){return e===o}))&&(a.errors=[t.I18n.get("error.analytics.interval.must.be.a.valid.option")]),a}});return{ScreenPageViews:o.extend({mode:"screenpageviews"}),ActiveUsers:o.extend({mode:"activeusers"})}}.apply(t,i))||(e.exports=r)},4408:function(e,t,n){var i,r;i=[n(37549),n(93660),n(31482)],void 0===(r=function(e,t){return e.fn.hilldash.WidgetView.extend({renderInternal:function(n,i){var r=this,o=this.getWidgetModel().params.siteId||"";e.ajax({dataType:"html",url:t.default.absolutePath("/ajax/dashboard/widget/linkchecker.act",{siteId:o}),success:function(t){e(n).html(t),r.renderComplete()}})},processForm:function(t){var n=e(t);return{id:this.widgetId,type:this.getWidgetModel().type,title:this.getWidgetModel().title,params:{siteId:this.getFilteredSiteIdFromConfigForm(n)}}}})}.apply(t,i))||(e.exports=r)},93487:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(93660),n(67272),n(31482)],void 0===(r=function(e,t,n,i,r){return e.fn.hilldash.WidgetView.extend({_messagesTemplate:n.template(r.messages),renderInternal:function(n,r){var o=this;e.getJSON(i.default.absolutePath("/ajax/getMessages.act?maxSize=10"),(function(e){n.innerHTML=o._messagesTemplate({messages:e.messages,count:e.messageCount,messageUrl:i.default.absolutePath("/notifications.act?id="),inboxUrl:i.default.absolutePath("/notifications.act",{tab:"all"}),I18n:t.I18n}),o.renderComplete()}))},requiresSiteId:function(){return!1}})}.apply(t,i))||(e.exports=r)},67124:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(93660),n(67272),n(24819),n(31482)],void 0===(r=function(e,t,n,i,r,o){return e.fn.hilldash.WidgetView.extend({_loadTabData:function(t){var r,a,s=this,l=t.attr("href"),c=this.$dom.find(l);c.length&&(this.currentTab===l||c.data("loaded")||(r=t.data("source"),a=this._tabs[r],this.currentTab&&c.html('<div class="hilldash-widget-preloader" aria-describedby="cascade-loading"><i class="ci ci-loading" role="img" aria-hidden="true"></i></div>'),this.currentTab=l,e.getJSON(a.url,(function(e){c.data("loaded",!0).html(s._myContentAssetsTemplate({assets:e[a.assetsKey],total:e[a.totalKey],source:r,myContentUrl:i.default.absolutePath("/dashboard/myContent.act"),AssetLinkRenderer:o,rendererParams:a.rendererParams,I18n:n.I18n}))}))))},_myContentAssetsTemplate:t.template(r["mycontent-assets"]),_tabs:{"content-ownership":{assetsKey:"content",totalKey:"totalContents",url:i.default.absolutePath("/ajax/getContentOwnership.act",{maxSize:10}),rendererParams:{showPath:!0}},drafts:{assetsKey:"drafts",totalKey:"totalDrafts",url:i.default.absolutePath("/ajax/getDrafts.act",{maxSize:10}),rendererParams:{showPath:!0,direct:!0}},history:{assetsKey:"history",totalKey:"totalHistory",url:i.default.absolutePath("/ajax/getHistory.act",{maxSize:10}),rendererParams:{showPath:!0}},lockedassets:{assetsKey:"lockedAssets",totalKey:"totalLockedAssets",url:i.default.absolutePath("/ajax/getLockedAssets.act",{maxSize:10}),rendererParams:{showPath:!0}},starred:{assetsKey:"starredEntities",totalKey:"totalStarredEntities",url:i.default.absolutePath("/ajax/getUserStarredEntities.act",{maxSize:10}),rendererParams:{showPath:!0}}},currentTab:null,renderInternal:function(t,n){var r=this;e.ajax({dataType:"html",url:i.default.absolutePath("/ajax/dashboard/widget/myContent.act"),success:function(n){t.innerHTML=n.replace(/WIDGET_ID/g,r.widgetId),r.$dom.on("shown.bs.tab","[role=tab]",(function(){r._loadTabData(e(this))})),r._loadTabData(r.$dom.find("#tab-starred-"+r.widgetId)),r.renderComplete()}})},requiresSiteId:function(){return!1}})}.apply(t,i))||(e.exports=r)},6725:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(93660),n(67272),n(24819),n(31482)],void 0===(r=function(e,t,n,i,r,o){return e.fn.hilldash.WidgetView.extend({_mySitesTemplate:t.template(r.mysites),renderInternal:function(t,r){var a=this;e.ajax({dataType:"json",url:i.default.absolutePath("/ajax/getMySites.act"),data:{maxSize:"8"},success:function(e){t.innerHTML=a._mySitesTemplate({defaultSite:e.defaultSite,sites:e.sites,moreExist:e.moreExist,AssetLinkRenderer:o,I18n:n.I18n,contextPath:i.default.getContextPath()}),a.renderComplete()}})},requiresSiteId:function(){return!1}})}.apply(t,i))||(e.exports=r)},34712:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(93660),n(12596),n(67272),n(24819),n(31482)],void 0===(r=function(e,t,n,i,r,o,a){var s=i.default.absolutePath("/ajax/dashboard/widget/newcontent.act"),l=i.default.absolutePath("/ajax/start.act");return e.fn.hilldash.WidgetView.extend({_newContentTemplate:n.template(o.newcontent),renderInternal:function(n,i){var o=this,c=e(n),u=i.siteId||"";e.get(s,{siteId:u},(function(n){c.html(o._newContentTemplate({filterSite:n.filterSite,assetFactories:n.assetFactories,assetFactoriesError:n.assetFactoriesError,error:n.error,startingPage:n.startingPage,AssetLinkRenderer:a,I18n:t.I18n})),c.find(".show-more-factories").click((function(){c.find(".hide").removeClass("hide"),e(this).hide()})),c.find(".toggle-details").click((function(){e(this).parent().next("blockquote").toggleClass("hide")})),c.find(".asset-factory-link").click((function(){var n=t.UI.disableButton(this);r.focusElementOnHide(this),r.open(l,{afId:e(this).data("afid")},null,null,n)})),o.renderComplete()}))},processForm:function(t){var n=e(t);return{id:this.widgetId,type:this.getWidgetModel().type,title:this.getWidgetModel().title,params:{siteId:this.getFilteredSiteIdFromConfigForm(n)}}}})}.apply(t,i))||(e.exports=r)},87465:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(93660),n(64096),n(67272),n(31482)],void 0===(r=function(e,t,n,i,r,o){var a=i.default.absolutePath("/ajax/dashboard/widget/stalecontent.act"),s=e.fn.hilldash.WidgetView.extend({renderInternal:function(e,t){},processForm:function(n){var i=e(n),r=i.find("input[name=days]").val(),o=Number(r),a="";(""===e.trim(r)||isNaN(o)||o<0)&&(a=t.I18n.get("error.value.must.be.number.greater.than.zero")),o=Math.floor(o);var s={id:this.widgetId,type:this.getWidgetModel().type,title:this.getWidgetModel().title,params:{threshold:o,siteId:this.getFilteredSiteIdFromConfigForm(i),showOnlyMyContent:i.find("input[name=show-only-my-content]").is(":checked")}};return""!==a&&(s.errors=[a]),s}});return s.renderConfigForm=n.template(o.staleContentConfigForm),{Review:s.extend({renderInternal:function(t,n){var i=this,r=e(t),o=this.getWidgetModel().params.siteId||"";e.ajax({url:a,data:{mode:"REVIEW",staleThreshold:n.threshold,siteId:o,showOnlyMyContent:n.showOnlyMyContent},dataType:"html",success:function(e){r.html(e),i.renderComplete()}})},renderForm:function(){return s.renderConfigForm({threshold:this.getWidgetModel().params.threshold,thresholdLabel:t.I18n.get("label.assets.filter.threshold.reviewdate"),showOnlyMyContentLabel:t.I18n.get("label.assets.show.only.own.content"),showOnlyMyContent:this.getWidgetModel().params.showOnlyMyContent})}}),Modified:s.extend({renderInternal:function(t,n){var i=this,o=e(t),s=this.getWidgetModel().params.siteId||"";e.ajax({url:a,data:{mode:"MODIFIED",staleThreshold:n.threshold,siteId:s,showOnlyMyContent:n.showOnlyMyContent},dataType:"html",success:function(e){var t;o.html(e),(t=o.find(".stale-chart")).length&&new r(t,{type:"doughnut",options:{cutoutPercentage:90,legend:{display:!1}},data:{labels:["Fresh","Stale"],datasets:[{data:[t.data("fresh"),t.data("stale")],borderWidth:0,backgroundColor:["#BBDEFB","#e6135f"],hoverBackgroundColor:["#BBDEFB","#e6135f"]}]}}),i.renderComplete()}})},renderForm:function(){return s.renderConfigForm({threshold:this.getWidgetModel().params.threshold,thresholdLabel:t.I18n.get("label.assets.filter.threshold.lastmodified"),showOnlyMyContentLabel:t.I18n.get("label.assets.show.only.own.content"),showOnlyMyContent:this.getWidgetModel().params.showOnlyMyContent})}})}}.apply(t,i))||(e.exports=r)},67272:function(e,t,n){var i,r;i=[n(70953),n(15744),n(41217),n(13174),n(89065),n(98629),n(8984),n(47692),n(96906)],void 0===(r=function(e,t,n,i,r,o,a,s,l){"use strict";return{googleAnalyticsConfigForm:e,messages:t,"mycontent-assets":n,mysites:i,myContentNoSite:r,newcontent:o,staleContentConfigForm:a,userTasks:s,workflows:l}}.apply(t,i))||(e.exports=r)},29972:function(e,t,n){var i,r;i=[n(37549),n(93541),n(92648),n(93660),n(24819),n(67272),n(80471),n(31482)],void 0===(r=function(e,t,n,i,r,o,a){return e.fn.hilldash.WidgetView.extend({_userTasksTemplate:n.template(o.userTasks),renderInternal:function(n,o){var s=this;e.ajax({dataType:"json",url:i.default.absolutePath("/ajax/dashboard/widget/userTasks.act"),success:function(o){n.innerHTML=s._userTasksTemplate({widgetId:s.widgetId,total:o.taskCount,tasks:o.userTasks,tasksUrl:i.default.absolutePath("/tasks/dashboard.act"),AssetLinkRenderer:r,RelativeTime:a,currentTime:Date.now(),I18n:t.I18n}),s.$dom.find(".hilldash-widget-header h2").after(e("#new-task-link")),s.renderComplete()}})},requiresSiteId:function(){return!1}})}.apply(t,i))||(e.exports=r)},59754:function(e,t,n){var i,r;i=[n(37549),n(31482),n(94522),n(4408),n(67124),n(6725),n(34712),n(87465),n(93487),n(29972),n(18985)],void 0===(r=function(e,t,n,i,r,o,a,s,l,c,u){e.fn.hilldash.WidgetViewProvider.register("analyticsPageviews",n.ScreenPageViews),e.fn.hilldash.WidgetViewProvider.register("analyticsScreenPageViews",n.ScreenPageViews),e.fn.hilldash.WidgetViewProvider.register("analyticsUniqueVisitors",n.ActiveUsers),e.fn.hilldash.WidgetViewProvider.register("analyticsActiveUsers",n.ActiveUsers),e.fn.hilldash.WidgetViewProvider.register("linkChecker",i),e.fn.hilldash.WidgetViewProvider.register("myContent",r),e.fn.hilldash.WidgetViewProvider.register("mySites",o),e.fn.hilldash.WidgetViewProvider.register("nc",a),e.fn.hilldash.WidgetViewProvider.register("msgs",l),e.fn.hilldash.WidgetViewProvider.register("staleReview",s.Review),e.fn.hilldash.WidgetViewProvider.register("staleModified",s.Modified),e.fn.hilldash.WidgetViewProvider.register("userTasks",c),e.fn.hilldash.WidgetViewProvider.register("workflows",u)}.apply(t,i))||(e.exports=r)},18985:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(93660),n(67272),n(24819),n(31482)],void 0===(r=function(e,t,n,i,r,o){return e.fn.hilldash.WidgetView.extend({_workflowsTemplate:t.template(r.workflows),renderInternal:function(t,r){var a=this;e.ajax({dataType:"json",url:i.default.absolutePath("/ajax/getWorkflows.act"),success:function(e){t.innerHTML=a._workflowsTemplate({workflows:e.workflows,totalWorkflows:e.totalWorkflows,workflowsUrl:i.default.absolutePath("/dashboard/myContent.act",{tab:"workflows"}),widgetId:a.widgetId,I18n:n.I18n,AssetLinkRenderer:o}),a.renderComplete()}})},requiresSiteId:function(){return!1}})}.apply(t,i))||(e.exports=r)},12993:function(e,t,n){var i;void 0===(i=function(e){"use strict";var t=n(92648),i={accessRightsAssignedRow:n(42622),assetLinkAssetTree:n(36913),assetLinkNormal:n(26614),assetLinkThumbnail:n(23717),assetLinkTypeaheadSearch:n(22318),assetLinkDataTableRow:n(21767),chooserSingleSelection:n(62422),chooserTags:n(94063),chooserSelectedRowDetails:n(3333),draftAutoSaveStatus:n(67502),dynamicMetadataReadOnlyFieldItem:n(66930),relativeTime:n(70610),siteSwitcherItems:n(67987),snippetFlyoutDataTableRow:n(50057),publishSelectionSummary:n(40992),publishSelectionSummaryForPage:n(52600),assetTreeLevel:n(69783),assetTree:n(66679),fieldSelectionModal:n(46706),newMenu:n(83412),newMenuContainer:n(14541),filterMenuContainer:n(50031),recentSiteComponents:n(93569),typeaheadStarredResults:n(42565),typeaheadHistoryResults:n(17818),typeaheadSearchResults:n(45874),publishQueueActions:n(20744),"publisher-activeJobsOtherSites":n(44028),unpublishSelectionSummary:n(59463),unpublishSelectionSummaryForPage:n(10521),entityComment:n(76671),entityCommentReply:n(58361),selectedAssetWithRemove:n(40586),roleAssignmentTags:n(87357),analyticsIndividualStatsForShortUrl:n(21949),brokenLinkMarkAsSelect:n(72761),brokenLinkOccurrencesCount:n(85529),brokenLinkOccurrencesTable:n(6404),exportDatabase:n(30772),announcementNotification:n(91529),workflowReportFilterSummary:n(99762),accessibilityDialog:n(36875),accessibilityErrorDetail:n(57220),accessibilityViolationLists:n(62875),accessibilityOccurrencesCount:n(49140),accessibilityOccurrencesTable:n(14161),accessibilityMarkAsSelect:n(2772),mentionResults:n(15741),"ddBuilder/calendar":n(98799),"ddBuilder/checkboxItems":n(97490),"ddBuilder/chooser":n(96788),"ddBuilder/contextMenu":n(52211),"ddBuilder/contextMenuItem":n(6578),"ddBuilder/datetime":n(40182),"ddBuilder/dropdownItems":n(84690),"ddBuilder/group":n(43266),"ddBuilder/itemsField":n(27777),"ddBuilder/multiselectItems":n(82108),"ddBuilder/radioItems":n(7894),"ddBuilder/text":n(54820),"ddBuilder/textArea":n(15259),"ddBuilder/wysiwyg":n(70616),"ddBuilder/fieldControls":n(68905),"ddBuilder/showFields":n(35374),"ddBuilder/showFieldItem":n(32751),"ddBuilder/showFieldDropdownOption":n(75498),"ddBuilder/unknownSharedField":n(45562),dataTableSelectPagination:n(47523)},r={},o=function(e,n){return r[e]=t.template(n),r[e]};return{get:function(e){if(r[e])return r[e];var t=i[e];return t?o(e,t):null},getFromjQueryObject:function(e,n){var i;return e.length?(i=t.unescape(e.html()),o(n,i)):null}}}.call(t,n,t,e))||(e.exports=i)},7994:function(e,t){var n;void 0===(n=function(){return{__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}}.apply(t,[]))||(e.exports=n)},51954:function(){!function(e){"use strict";var t=function(t,n){this.options=n,this.$tabs=e(t),this._accordionVisible=!1,this._initAccordion(),this._checkStateOnResize();var i=this;setTimeout((function(){i.checkState()}),0)};t.DEFAULTS={accordionClass:"visible-xs",tabsClass:"hidden-xs",accordionTemplate:function(e,t,n,i){return'<div class="panel panel-default">   <div class="panel-heading">      <h4 class="panel-title">      </h4>   </div>   <div id="'+t+'" class="panel-collapse collapse '+(i?"in":"")+'">       <div class="panel-body js-tabcollapse-panel-body">       </div>   </div></div>'}},t.prototype.checkState=function(){this.$tabs.is(":visible")&&this._accordionVisible?(this.showTabs(),this._accordionVisible=!1):this.$accordion.is(":visible")&&!this._accordionVisible&&(this.showAccordion(),this._accordionVisible=!0)},t.prototype.showTabs=function(){var t=this;this.$tabs.trigger(e.Event("show-tabs.bs.tabcollapse")),this.$accordion.find(".js-tabcollapse-panel-heading").detach().each((function(){var n=e(this),i=n.data("bs.tabcollapse.parentLi"),r=t._panelHeadingToTabHeading(n);i.removeClass("active"),i.parent().hasClass("dropdown-menu")&&!i.siblings("li").hasClass("active")&&i.parent().parent().removeClass("active"),r.hasClass("collapsed")?r.removeClass("collapsed"):(i.addClass("active"),i.parent().hasClass("dropdown-menu")&&i.parent().parent().addClass("active")),i.append(n)})),e("li").hasClass("active")||e("li").first().addClass("active"),this.$accordion.find(".js-tabcollapse-panel-body").each((function(){var t=e(this);t.data("bs.tabcollapse.tabpane").append(t.contents().detach())})),this.$accordion.html(""),this.options.updateLinks&&this.getTabContentElement().find('[data-toggle-was="tab"], [data-toggle-was="pill"]').each((function(){var t=e(this),n=t.attr("href").replace(/-collapse$/g,"");t.attr({"data-toggle":t.attr("data-toggle-was"),"data-toggle-was":"","data-parent":"",href:n})})),this.$tabs.trigger(e.Event("shown-tabs.bs.tabcollapse"))},t.prototype.getTabContentElement=function(){var t=e(this.options.tabContentSelector);return 0===t.length&&(t=this.$tabs.siblings(".tab-content")),t},t.prototype.showAccordion=function(){this.$tabs.trigger(e.Event("show-accordion.bs.tabcollapse"));var t=this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]'),n=this;if(t.each((function(){var t=e(this),i=t.parent();t.data("bs.tabcollapse.parentLi",i),n.$accordion.append(n._createAccordionGroup(n.$accordion.attr("id"),t.detach()))})),this.options.updateLinks){var i=this.$accordion.attr("id");this.$accordion.find(".js-tabcollapse-panel-body").find('[data-toggle="tab"], [data-toggle="pill"]').each((function(){var t=e(this),n=t.attr("href")+"-collapse";t.attr({"data-toggle-was":t.attr("data-toggle"),"data-toggle":"collapse","data-parent":"#"+i,href:n})}))}this.$tabs.trigger(e.Event("shown-accordion.bs.tabcollapse"))},t.prototype._panelHeadingToTabHeading=function(e){var t=e.attr("href").replace(/-collapse$/g,"");return e.attr({"data-toggle":"tab",href:t,"data-parent":""}),e},t.prototype._tabHeadingToPanelHeading=function(e,t,n,i){return e.addClass("js-tabcollapse-panel-heading "+(i?"":"collapsed")),e.attr({"data-toggle":"collapse","data-parent":"#"+n,href:"#"+t}),e},t.prototype._checkStateOnResize=function(){var t=this;e(window).resize((function(){clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout((function(){t.checkState()}),100)}))},t.prototype._initAccordion=function(){var t=(this.$tabs.attr("id")||function(){for(var e="",t=0;t<5;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}())+"-accordion";this.$accordion=e('<div class="panel-group '+this.options.accordionClass+'" id="'+t+'"></div>'),this.$tabs.after(this.$accordion),this.$tabs.addClass(this.options.tabsClass),this.getTabContentElement().addClass(this.options.tabsClass)},t.prototype._createAccordionGroup=function(t,n){var i=n.attr("data-target"),r=n.data("bs.tabcollapse.parentLi").is(".active");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e(i),a=o.attr("id")+"-collapse",s=e(this.options.accordionTemplate(n,a,t,r));return s.find(".panel-heading > .panel-title").append(this._tabHeadingToPanelHeading(n,a,t,r)),s.find(".panel-body").append(o.contents().detach()).data("bs.tabcollapse.tabpane",o),s},e.fn.tabCollapse=function(n){return this.each((function(){var i=e(this),r=i.data("bs.tabcollapse"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);r||i.data("bs.tabcollapse",new t(this,o))}))},e.fn.tabCollapse.Constructor=t}(window.jQuery)},87954:function(e,t,n){var i=n(37549);if(void 0===i)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(i),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(t){var i=e(this),r=i.attr("data-target");r||(r=(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var o=e("#"===r?[]:r);function a(){o.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var i=e.fn.alert;e.fn.alert=function(t){return this.each((function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)}))},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(i),function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.isLoading=!1};function n(n){return this.each((function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof n&&n;r||i.data("bs.button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)}))}t.VERSION="3.3.7",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy((function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))}),this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var i=e(t.target).closest(".btn");n.call(i,"toggle"),e(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))}))}(i),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};function n(n){return this.each((function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("bs.carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()}))}t.VERSION="3.3.7",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},t.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){t.to(e)})):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(n,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(n,r),a=this.interval,s="next"==n?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(n),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",(function(){o.removeClass([n,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger(h)}),0)})).emulateTransitionEnd(t.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=n,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(t){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),n.call(o,a),s&&o.data("bs.carousel").to(s),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",(function(){e('[data-ride="carousel"]').each((function(){var t=e(this);n.call(t,t.data())}))}))}(i),function(e){"use strict";var t='[data-toggle="dropdown"]',n=function(t){e(t).on("click.bs.dropdown",this.toggle)};function i(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function r(n){n&&3===n.which||(e(".dropdown-backdrop").remove(),e(t).each((function(){var t=e(this),r=i(t),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(r[0],n.target)||(r.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))})))}n.VERSION="3.3.7",n.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var o=i(n),a=o.hasClass("open");if(r(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",r);var s={relatedTarget:this};if(o.trigger(t=e.Event("show.bs.dropdown",s)),t.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},n.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var o=i(r),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(t).trigger("focus"),r.trigger("click");var s=o.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var i=e(this),r=i.data("bs.dropdown");r||i.data("bs.dropdown",r=new n(this)),"string"==typeof t&&r[t].call(i)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",t,n.prototype.toggle).on("keydown.bs.dropdown.data-api",t,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(i),function(e){"use strict";var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};function n(n,i){return this.each((function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new t(this,a)),"string"==typeof n?o[n](i):a.show&&o.show(i)}))}t.VERSION="3.3.7",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var i=this,r=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){i.$element.one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:n});r?i.$dialog.one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(o)})).emulateTransitionEnd(t.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)})))},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy((function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;o?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&t.preventDefault(),o.one("show.bs.modal",(function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),n.call(o,a,this)}))}(i),function(e){"use strict";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};t.VERSION="3.3.7",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,(function(e,i){n[e]!=i&&(t[e]=i)})),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)}},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)}},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=o[0].offsetWidth,h=o[0].offsetHeight;if(c){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+h>p.bottom?"top":"top"==s&&u.top-h<p.top?"bottom":"right"==s&&u.right+d>p.width?"left":"left"==s&&u.left-d<p.left?"right":s,o.removeClass(f).addClass(s)}var A=this.getCalculatedOffset(s,u,d,h);this.applyPlacement(A,s);var g=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(t.TRANSITION_DURATION):g()}},t.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-r+l:2*u.top-o+c,f=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][f],d)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){var i=this,r=e(this.$tip),o=e.Event("hide.bs."+this.type);function a(){"in"!=i.hoverState&&r.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}if(this.$element.trigger(o),!o.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(t.TRANSITION_DURATION):a(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:o?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,a)},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide((function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null}))};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each((function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.tooltip",r=new t(this,o)),"string"==typeof n&&r[n]())}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(i),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),(t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype)).constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=function(n){return this.each((function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.popover",r=new t(this,o)),"string"==typeof n&&r[n]())}))},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(i),function(e){"use strict";var t=function(t){this.element=e(t)};function n(n){return this.each((function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new t(this)),"string"==typeof n&&r[n]()}))}t.VERSION="3.3.7",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),(function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}}},t.prototype.activate=function(n,i,r){var o=i.find("> .active"),a=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(i),function(e){"use strict";var t=function(n,i){this.options=e.extend({},t.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each((function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof n&&n;r||i.data("bs.affix",r=new t(this,o)),"string"==typeof n&&r[n]()}))}t.VERSION="3.3.7",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&l+(s?a:t)>=e-i&&"bottom"},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,n,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-n-o})}};var i=e.fn.affix;e.fn.affix=n,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",(function(){e('[data-spy="affix"]').each((function(){var t=e(this),i=t.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),n.call(t,i)}))}))}(i),function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function i(n){return this.each((function(){var i=e(this),r=i.data("bs.collapse"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||i.data("bs.collapse",r=new t(this,o)),"string"==typeof n&&r[n]()}))}t.VERSION="3.3.7",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(n=r.data("bs.collapse"))&&n.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),n||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[a](this.$element[0][l])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=e.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy((function(t,i){var r=e(i);this.addAriaAndCollapsedClass(n(r),r)}),this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){var r=e(this);r.attr("data-target")||t.preventDefault();var o=n(r),a=o.data("bs.collapse")?"toggle":r.data();i.call(o,a)}))}(i),function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(n).is(document.body)?e(window):e(n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each((function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()}))}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map((function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null})).sort((function(e,t){return e[0]-t[0]})).each((function(){t.offsets.push(this[0]),t.targets.push(this[1])}))},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",(function(){e('[data-spy="scroll"]').each((function(){var t=e(this);n.call(t,t.data())}))}))}(i),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;return e(this).one("bsTransitionEnd",(function(){n=!0})),setTimeout((function(){n||e(i).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})}))}(i)},3080:function(e,t,n){var i,r;i=[n(37549),n(92648),n(93541),n(84551),n(12993),n(78907),n(65216)],void 0===(r=function(e,t,n,i,r){var o=r.get("dataTableSelectPagination");e.fn.dataTableExt.oPagination.listbox={fnInit:function(t,i,r){var a=e(i),s=o({tableId:t.sTableId,previousLabel:t.oLanguage.oPaginate.sPrevious,nextLabel:t.oLanguage.oPaginate.sNext,I18n:n.I18n});""!==t.sTableId&&a.attr("id",t.sTableId+"_paginate"),a.append(s),a.on("change","#"+t.sTableId+"_paginate_select",(function(e){if(""!==this.value&&!this.value.match(/[^0-9]/)){var n=t._iDisplayLength*(this.value-1);if(n>t.fnRecordsDisplay())return t._iDisplayStart=(Math.ceil((t.fnRecordsDisplay()-1)/t._iDisplayLength)-1)*t._iDisplayLength,void r(t);t._iDisplayStart=n,r(t)}})),a.on("click",".previous",(function(){0!==t._iDisplayStart&&(t.oApi._fnPageChange(t,"previous"),r(t))})),a.on("click",".next",(function(){t.fnDisplayEnd()!==t.fnRecordsDisplay()&&(t.oApi._fnPageChange(t,"next"),r(t))})),a.on("mousedown selectstart",".paginate_of",(function(){return!1})),a.on("selectstart","#"+t.sTableId+"_paginate_next",(function(){return!1})),a.on("selectstart","#"+t.sTableId+"_paginate_previous",(function(){return!1}))},fnUpdate:function(t,i){if(t.aanFeatures.p)for(var r=Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength),o=Math.ceil(t._iDisplayStart/t._iDisplayLength)+1,a=t.aanFeatures.p,s=0,l=a.length;s<l;s++){for(var c=e(a[s]),u=c.find("select"),d=c.find(".paginate_button"),h=u[0].selectize,f=[],p=1;p<=r;p++)f.push({id:p});h?(h.clearOptions(),h.addOption(f),h.setValue(o,!0)):u.selectize({labelField:"id",searchField:"id",valueField:"id",options:f,items:[o]}),d.eq(0).toggleClass("disabled",0===t._iDisplayStart),d.eq(2).toggleClass("disabled",t.fnDisplayEnd()===t.fnRecordsDisplay()),c.find(".paginate_of").html("&nbsp;"+n.I18n.get("common.word.of")+"&nbsp;"+r)}}}}.apply(t,i))||(e.exports=r)},90660:function(e,t,n){var i,r,o;r=[n(37549)],i=function(e){function t(t,i){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(o=(r=t.parentNode).name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&!!(a=e("img[usemap='#"+o+"']")[0])&&n(a)):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s&&t.href||i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=r(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(n,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(h.inline?h.dpDiv.parent()[0]:h.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function a(t,n){for(var i in e.extend(t,n),n)null==n[i]&&(t[i]=n[i]);return t}function s(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}}(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&t(n,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(t,n){function i(t,n,i,o){return e.each(r,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?a["inner"+n].call(this):this.each((function(){e(this).css(o,i(this,t)+"px")}))},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?a["outer"+n].call(this,t):this.each((function(){e(this).css(o,i(this,t,!0,r)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each((function(){var t=this;setTimeout((function(){e(t).focus(),i&&i.call(t)}),n)})):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",(function(e){e.preventDefault()}))}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}};var l=0,c=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,o,a,s,l={},c=t.split(".")[0];return t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,(function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=i)})),a.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)})),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,i,r=c.call(arguments,1),o=0,a=r.length;a>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t[n]=e.isPlainObject(i)?e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,a=c.call(arguments,1),s=this;return o?this.each((function(){var n,o=e.data(this,i);return"instance"===r?(s=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a))!==o&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")})):(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each((function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new n(r,this))}))),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,(function(i,a){function s(){return t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,s):n.bind(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue((function(n){e(this)[t](),o&&o.call(i[0]),n()}))}})),e.widget;var u=!1;e(document).mouseup((function(){u=!1})),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!u){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),u=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),u=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,n){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var i,r,o=Math.max,a=Math.abs,s=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,h=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),t=o.offsetWidth,r.css("overflow","scroll"),t===(n=o.offsetWidth)&&(n=r[0].clientWidth),r.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return f.apply(this,arguments);i=e.extend({},i);var h,p,A,g,m,v,y=e(i.of),b=e.position.getWithinInfo(i.within),w=e.position.getScrollInfo(b),x=(i.collision||"flip").split(" "),C={};return v=function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(y),y[0].preventDefault&&(i.at="left top"),p=v.width,A=v.height,g=v.offset,m=e.extend({},g),e.each(["my","at"],(function(){var e,t,n=(i[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=u.exec(n[0]),t=u.exec(n[1]),C[this]=[e?e[0]:0,t?t[0]:0],i[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===i.at[0]?m.left+=p:"center"===i.at[0]&&(m.left+=p/2),"bottom"===i.at[1]?m.top+=A:"center"===i.at[1]&&(m.top+=A/2),h=t(C.at,p,A),m.left+=h[0],m.top+=h[1],this.each((function(){var l,c,u=e(this),d=u.outerWidth(),f=u.outerHeight(),v=n(this,"marginLeft"),_=n(this,"marginTop"),k=d+v+n(this,"marginRight")+w.width,S=f+_+n(this,"marginBottom")+w.height,E=e.extend({},m),T=t(C.my,u.outerWidth(),u.outerHeight());"right"===i.my[0]?E.left-=d:"center"===i.my[0]&&(E.left-=d/2),"bottom"===i.my[1]?E.top-=f:"center"===i.my[1]&&(E.top-=f/2),E.left+=T[0],E.top+=T[1],r||(E.left=s(E.left),E.top=s(E.top)),l={marginLeft:v,marginTop:_},e.each(["left","top"],(function(t,n){e.ui.position[x[t]]&&e.ui.position[x[t]][n](E,{targetWidth:p,targetHeight:A,elemWidth:d,elemHeight:f,collisionPosition:l,collisionWidth:k,collisionHeight:S,offset:[h[0]+T[0],h[1]+T[1]],my:i.my,at:i.at,within:b,elem:u})})),i.using&&(c=function(e){var t=g.left-E.left,n=t+p-d,r=g.top-E.top,s=r+A-f,l={target:{element:y,left:g.left,top:g.top,width:p,height:A},element:{element:u,left:E.left,top:E.top,width:d,height:f},horizontal:0>n?"left":t>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};d>p&&p>a(t+n)&&(l.horizontal="center"),f>A&&A>a(r+s)&&(l.vertical="middle"),l.important=o(a(t),a(n))>o(a(r),a(s))?"horizontal":"vertical",i.using.call(this,e,l)}),u.offset(e.extend(E,{using:c}))}))},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&0>=c?(n=e.left+l+t.collisionWidth-a-r,e.left+=l-n):e.left=c>0&&0>=l?r:l>c?r+a-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&0>=c?(n=e.top+l+t.collisionHeight-a-r,e.top+=l-n):e.top=c>0&&0>=l?r:l>c?r+a-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>u?(0>(n=e.left+h+f+p+t.collisionWidth-s-o)||a(u)>n)&&(e.left+=h+f+p):d>0&&((i=e.left-t.collisionPosition.marginLeft+h+f+p-l)>0||d>a(i))&&(e.left+=h+f+p)},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];0>u?(0>(i=e.top+h+f+p+t.collisionHeight-s-o)||a(u)>i)&&(e.top+=h+f+p):d>0&&((n=e.top-t.collisionPosition.marginTop+h+f+p-l)>0||d>a(n))&&(e.top+=h+f+p)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,o,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");for(a in t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[a]=i[a];t.appendChild(l),(n=s||document.documentElement).insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=e(l).offset().left,r=o>10&&11>o,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each((function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=r.height(),this.element.siblings(":visible").each((function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))})),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each((function(){t=Math.max(t,e(this).css("height","").height())})).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r[0]===i[0],a=o&&n.collapsible,s=a?e():r.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:a?e():r,newPanel:s};t.preventDefault(),o&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!a&&this.headers.index(r),this.active=o?e():r,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter((function(){return 0===parseInt(e(this).attr("tabIndex"),10)})).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,o,a=this,s=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){a._toggleComplete(n)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,o=o||d.duration||u.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,o,r,h):e.animate(this.showProps,o,r,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,i,r,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n=this,i=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.parent(),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))})),(t=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")})),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return 0>(n=e(this)).offset().top-i-r})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i+r>0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return i.test(e.trim(e(this).text()))}))}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()}))}))},menufocus:function(t,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}))):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),void((i=n.item.attr("aria-label")||r.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay((function(){this.previous=i,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!i)&&(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,(function(e,n){i._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return i.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var d,h,f="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",A=function(){var t=e(this);setTimeout((function(){t.find(":ui-button").button("refresh")}),1)},g=function(t){var n=t.name,i=t.form,r=e([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?e(i).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter((function(){return!this.form}))),r};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,A),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,r=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){n.disabled||this===d&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){n.disabled||e(this).removeClass(r)})).bind("click"+this.eventNamespace,(function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,(function(){t.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){return!n.disabled&&void 0})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];g(i).not(i).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){return!n.disabled&&(e(this).addClass("ui-state-active"),d=this,void t.document.one("mouseup",(function(){d=null})))})).bind("mouseup"+this.eventNamespace,(function(){return!n.disabled&&void e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){return!n.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(p),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}}),e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,o;r="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),r)).settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(i=this._get(n,"showOn"))||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[s?"before":"after"](n.trigger),n.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;e.length>r;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,o){var s,l,c,u,d,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",h)),a(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),h===r&&(h=null))},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,o,s,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):c?"all"===n?e.extend({},c.settings):this._get(c,n):null:(r=n||{},"string"==typeof n&&((r={})[n]=i),void(c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),a(c.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),(n=e.datepicker._get(o,"onSelect"))?(i=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,i,r,o,s,l,c;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(r=(i=e.datepicker._get(n,"beforeShow"))?i.apply(t,[t,n]):{})&&(a(n.settings,r),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each((function(){return!(o|="fixed"===e(this).css("position"))})),s={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),s=e.datepicker._checkOffset(n,s,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,h=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&o.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-a:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,i,r,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,a=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(o).each((function(){e(this).val(r)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""==(n="object"==typeof n?""+n:n+""))return null;var r,o,a,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,A=-1,g=-1,m=-1,v=-1,y=!1,b=function(e){var n=t.length>r+1&&t.charAt(r+1)===e;return n&&r++,n},w=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),o=n.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(t,i,r){var o=-1,a=e.map(b(t)?r:i,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=t[0],l+=i.length,!1):void 0})),-1!==o)return o+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;t.length>r;r++)if(y)"'"!==t.charAt(r)||b("'")?C():y=!1;else switch(t.charAt(r)){case"d":m=w("d");break;case"D":x("D",d,h);break;case"o":v=w("o");break;case"m":g=w("m");break;case"M":g=x("M",f,p);break;case"y":A=w("y");break;case"@":A=(s=new Date(w("@"))).getFullYear(),g=s.getMonth()+1,m=s.getDate();break;case"!":A=(s=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=s.getMonth()+1,m=s.getDate();break;case"'":b("'")?C():y=!0;break;default:C()}if(n.length>l&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===A?A=(new Date).getFullYear():100>A&&(A+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=A?0:-100)),v>-1)for(g=1,m=v;!((o=this._getDaysInMonth(A,g-1))>=m);)g++,m-=o;if((s=this._daylightSavingAdjust(new Date(A,g-1,m))).getFullYear()!==A||s.getMonth()+1!==g||s.getDate()!==m)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=e.length>i+1&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;n>i.length;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;e.length>i;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=e.length>t+1&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;e.length>t;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(n,i,a)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),o=i.getMonth(),a=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,o))}l=s.exec(n)}return new Date(r,o,a)}(n):"number"==typeof n?isNaN(n)?i:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return(r=r&&"Invalid Date"==""+r?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b,w,x,C,_,k,S,E,T,B,I,D,F,M,L,P,R,O,N,U,H=new Date,$=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),Q=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),V=this._get(e,"hideIfNoPrevNext"),j=this._get(e,"navigationAsDateFormat"),z=this._getNumberOfMonths(e),K=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),q=1!==z[0]||1!==z[1],Y=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-K,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-z[0]*z[1]+1,J.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)0>--Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=j?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-G,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=j?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z+G,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?Y:$,a=j?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Q?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),A=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),m=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),b="",x=0;z[0]>x;x++){for(C="",this.maxRows=4,_=0;z[1]>_;_++){if(k=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),S=" ui-corner-all",E="",q){if(E+="<div class='ui-datepicker-group",z[1]>1)switch(_){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(Q?"right":"left");break;case z[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(Q?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===x?Q?o:i:"")+(/all|right/.test(S)&&0===x?Q?i:o:"")+this._generateMonthYearHeader(e,Z,ee,X,J,x>0||_>0,p,A)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)T+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[B=(w+u)%7]+"'>"+f[B]+"</span></th>";for(E+=T+"</tr></thead><tbody>",I=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,I)),D=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,F=Math.ceil((D+I)/7),M=q&&this.maxRows>F?this.maxRows:F,this.maxRows=M,L=this._daylightSavingAdjust(new Date(ee,Z,1-D)),P=0;M>P;P++){for(E+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(L)+"</td>":"",w=0;7>w;w++)O=g?g.apply(e.input?e.input[0]:null,[L]):[!0,""],U=(N=L.getMonth()!==Z)&&!v||!O[0]||X&&X>L||J&&L>J,R+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(L.getTime()===k.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===L.getTime()&&y.getTime()===k.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!m?"":" "+O[1]+(L.getTime()===Y.getTime()?" "+this._currentClass:"")+(L.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(N&&!m||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(N&&!m?"&#xa0;":U?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===$.getTime()?" ui-state-highlight":"")+(L.getTime()===Y.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);E+=R+"</tr>"}++Z>11&&(Z=0,ee++),C+=E+="</tbody></table>"+(q?"</div>"+(z[0]>0&&_===z[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=C}return b+=c,e._keyEvent=!1,b},_generateMonthYearHeader:function(e,t,n,i,r,o,a,s){var l,c,u,d,h,f,p,A,g=this._get(e,"changeMonth"),m=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(o||!g)b+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=i.getMonth())&&(!c||r.getMonth()>=u)&&(b+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>");b+="</select>"}if(v||(y+=b+(!o&&g&&m?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!m)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),f=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},p=f(d[0]),A=Math.max(p,f(d[1]||"")),p=i?Math.max(p,i.getFullYear()):p,A=r?Math.min(A,r.getFullYear()):A,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";A>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),v&&(y+=(!o&&g&&m?"":"&#xa0;")+b),y+"</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||s>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(e){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),void((i=(n=e(r.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))}))},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,(function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))}))},drag:function(t,n,i){e.each(i.sortables,(function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r}))),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,e.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-t.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-t.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each((function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,i){var r,o,a,s,l,c,u,d,h,f,p=i.options,A=p.snapTolerance,g=n.offset.left,m=g+i.helperProportions.width,v=n.offset.top,y=v+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)c=(l=i.snapElements[h].left-i.margins.left)+i.snapElements[h].width,d=(u=i.snapElements[h].top-i.margins.top)+i.snapElements[h].height,l-A>m||g>c+A||u-A>y||v>d+A||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(r=A>=Math.abs(u-y),o=A>=Math.abs(d-v),a=A>=Math.abs(l-m),s=A>=Math.abs(c-g),r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),f=r||o||a||s,"outer"!==p.snapMode&&(r=A>=Math.abs(u-v),o=A>=Math.abs(d-y),a=A>=Math.abs(l-g),s=A>=Math.abs(c-m),r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||a||s||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||a||s||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,a=e.makeArray(e(o.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));a.length&&(r=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each((function(t){e(this).css("zIndex",r+t)})),this.css("zIndex",r+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n,i,r,o=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)i=e.trim(t[n]),(r=e("<div class='ui-resizable-handle ui-resizable-"+i+"'></div>")).css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(t){var n,i,r,a;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover((function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")})),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())})).mouseleave((function(){a.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,a=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,a,s,l,c=this.options,u=this;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-r},s=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),i&&c&&(e.left=s-t.maxWidth),a&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(r[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,a,s,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,i){n[e]=l._num(t.css("padding"+i))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:o,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(t){var n,i,r,o,a=e(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||t.shiftKey,d={top:0,left:0},h=a.containerElement,f=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio,f=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,f=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio,f=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,u&&(a.size.width=a.size.height*a.aspectRatio,f=!1)),f||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};e(r.alsoResize).each((function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,(function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)})),t.css(r)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-o.width)/c)*c,h=Math.round((r.height-o.height)/u)*u,f=o.width+d,p=o.height+h,A=i.maxWidth&&f>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>f,v=i.minHeight&&i.minHeight>p;i.grid=l,m&&(f+=c),v&&(p+=u),A&&(f-=c),g&&(p-=u),/^(se|s|e)$/.test(s)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=f,n.size.height=p,n.position.top=a.top-h):/^(sw)$/.test(s)?(n.size.width=f,n.size.height=p,n.position.left=a.left-d):((0>=p-u||0>=f-c)&&(t=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=a.top-h):(p=u-t.height,n.size.height=p,n.position.top=a.top+o.height-p),f-c>0?(n.size.width=f,n.position.left=a.left-d):(f=c-t.width,n.size.width=f,n.position.left=a.left+o.width-f))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",t)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){r.focus()})),t.preventDefault()):(this._delay((function(){i.focus()})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,(function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(t.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(o).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,o){var a=o.offset.left-n.document.scrollLeft(),s=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,o){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),l=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};e.each(t,(function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)})),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var n,i,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((n=r.is(":data(ui-draggable)"))&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((i=r.is(":data(ui-resizable)"))&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(r=!0,!1):void 0})),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,i,r){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,l=a+t.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return o>=c&&d>=s&&a>=u&&h>=l;case"intersect":return o+t.helperProportions.width/2>c&&d>s-t.helperProportions.width/2&&a+t.helperProportions.height/2>u&&h>l-t.helperProportions.height/2;case"pointer":return e(r.pageY,u,n.proportions().height)&&e(r.pageX,c,n.proportions().width);case"touch":return(a>=u&&h>=a||l>=u&&h>=l||u>a&&l>h)&&(o>=c&&d>=o||s>=c&&d>=s||c>o&&s>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(r=0;s.length>r;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue e}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=e.ui.intersect(t,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===r}))).length&&((i=e(o[0]).droppable("instance")).greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.ui.droppable;var m="ui-effects-",v=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var i=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:e>i.max?i.max:e)}function i(n){var i=l(),r=i._rgba=[];return n=n.toLowerCase(),f(s,(function(e,o){var a,s=o.re.exec(n),l=s&&o.parse(s),u=o.space||"rgba";return l?(a=i[u](l),i[c[u].cache]=a[c[u].cache],r=i._rgba=a._rgba,!1):t})),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),i):o[n]}function r(e,t,n){return 1>6*(n=(n+1)%1)?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var o,a=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},h=e("<p>")[0],f=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=h.style.backgroundColor.indexOf("rgba")>-1,f(c,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),l.fn=e.extend(l.prototype,{parse:function(r,a,s,u){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var d=this,h=e.type(r),p=this._rgba=[];return a!==t&&(r=[r,a,s,u],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(c.rgba.props,(function(e,t){p[t.idx]=n(r[t.idx],t)})),this):"object"===h?(f(c,r instanceof l?function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}:function(t,i){var o=i.cache;f(i.props,(function(e,t){if(!d[o]&&i.to){if("alpha"===e||null==r[e])return;d[o]=i.to(d._rgba)}d[o][t.idx]=n(r[e],t,!0)})),d[o]&&0>e.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):t},is:function(e){var n=l(e),i=!0,r=this;return f(c,(function(e,o){var a,s=n[o.cache];return s&&(a=r[o.cache]||o.to&&o.to(r._rgba)||[],f(o.props,(function(e,n){return null!=s[n.idx]?i=s[n.idx]===a[n.idx]:t}))),i})),i},_space:function(){var e=[],t=this;return f(c,(function(n,i){t[i.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var i=l(e),r=i._space(),o=c[r],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),d=s.slice();return i=i[o.cache],f(o.props,(function(e,r){var o=r.idx,a=s[o],l=i[o],c=u[r.type]||{};null!==l&&(null===a?d[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),d[o]=n((l-a)*t+a,r)))})),this[r](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(t)._rgba;return l(e.map(n,(function(e,t){return(1-i)*r[t]+i*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),l=Math.min(i,r,o),c=s-l,u=s+l,d=.5*u;return t=l===s?0:i===s?60*(r-o)/c+360:r===s?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,n,d,null==a?1:a]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},f(c,(function(i,r){var o=r.props,s=r.cache,c=r.to,u=r.from;l.fn[i]=function(i){if(c&&!this[s]&&(this[s]=c(this._rgba)),i===t)return this[s].slice();var r,a=e.type(i),d="array"===a||"object"===a?i:arguments,h=this[s].slice();return f(o,(function(e,t){var i=d["object"===a?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)})),u?((r=l(u(h)))[s]=h,r):l(h)},f(o,(function(t,n){l.fn[t]||(l.fn[t]=function(r){var o,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=e.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r))&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1)),c[n.idx]=r,this[l](c)))})}))})),l.hook=function(t){var n=t.split(" ");f(n,(function(t,n){e.cssHooks[n]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=l(o||r),!d.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],(function(n,i){t["border"+i+"Color"]=e})),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(v),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(t,n){var i,o,a={};for(i in n)o=n[i],t[i]!==o&&(r[i]||(e.fx.step[i]||!isNaN(parseFloat(o)))&&(a[i]=o));return a}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(v.style(e.elem,n,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,o,a,s){var l=e.speed(o,a,s);return this.queue((function(){var o,a=e(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map((function(){return{el:e(this),start:t(this)}})),o=function(){e.each(i,(function(e,t){r[t]&&a[t+"Class"](r[t])}))},o(),c=c.map((function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()})),e.when.apply(e,c.get()).done((function(){o(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),l.complete.call(a[0])}))}))},e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,o)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]||!!e.isFunction(t)||"object"==typeof t&&!t.effect}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(m+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i;for(i=0;t.length>i;i++)null!==t[i]&&(void 0===(n=e.data(m+t[i]))&&(n=""),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,(function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])})),r}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=i.complete,s=i.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),n()):a.call(r[0],i,n)}var i=t.apply(this,arguments),r=i.mode,o=i.queue,a=e.effects.effect[i.effect];return e.fx.off||!a?r?this[r](i.duration,i.complete):this.each((function(){i.complete&&i.complete.call(this)})):!1===o?this.each(n):this.queue(o||"fx",n)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],(function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])})),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,n){t[n]=function(t){return Math.pow(t,e+2)}})),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,(function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}}))}(),e.effects,e.effects.effect.blind=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),c=t.direction||"up",u=/up|down|vertical/.test(c),d=u?"height":"width",h=u?"top":"left",f=/up|left|vertical|horizontal/.test(c),p={},A="show"===l;a.parent().is(".ui-effects-wrapper")?e.effects.save(a.parent(),s):e.effects.save(a,s),a.show(),r=(i=e.effects.createWrapper(a).css({overflow:"hidden"}))[d](),o=parseFloat(i.css(h))||0,p[d]=A?r:0,f||(a.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),p[h]=A?o:r+o),A&&(i.css(d,0),f||i.css(h,o+r)),i.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===l&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()}})},e.effects.effect.bounce=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,f=t.times||5,p=2*f+(u||c?1:0),A=t.duration/p,g=t.easing,m="up"===d||"down"===d?"top":"left",v="up"===d||"left"===d,y=a.queue(),b=y.length;for((u||c)&&s.push("opacity"),e.effects.save(a,s),a.show(),e.effects.createWrapper(a),h||(h=a["top"===m?"outerHeight":"outerWidth"]()/3),u&&((o={opacity:1})[m]=0,a.css("opacity",0).css(m,v?2*-h:2*h).animate(o,A,g)),c&&(h/=Math.pow(2,f-1)),(o={})[m]=0,i=0;f>i;i++)(r={})[m]=(v?"-=":"+=")+h,a.animate(r,A,g).animate(o,A,g),h=c?2*h:h/2;c&&((r={opacity:0})[m]=(v?"-=":"+=")+h,a.animate(r,A,g)),a.queue((function(){c&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()})),b>1&&y.splice.apply(y,[1,0].concat(y.splice(b,p+1))),a.dequeue()},e.effects.effect.clip=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l="show"===e.effects.setMode(a,t.mode||"hide"),c="vertical"===(t.direction||"vertical"),u=c?"height":"width",d=c?"top":"left",h={};e.effects.save(a,s),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),o=(r="IMG"===a[0].tagName?i:a)[u](),l&&(r.css(u,0),r.css(d,o/2)),h[u]=l?o:0,h[d]=l?0:o/2,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()}})},e.effects.effect.drop=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(r,t.mode||"hide"),s="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:s?1:0};e.effects.save(r,o),r.show(),e.effects.createWrapper(r),i=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(c,"pos"===u?-i:i),d[c]=(s?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+i,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})},e.effects.effect.explode=function(t,n){function i(){m.push(this),m.length===u*d&&(h.css({visibility:"visible"}),e(m).remove(),f||h.hide(),n())}var r,o,a,s,l,c,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=u,h=e(this),f="show"===e.effects.setMode(h,t.mode||"hide"),p=h.show().css("visibility","hidden").offset(),A=Math.ceil(h.outerWidth()/d),g=Math.ceil(h.outerHeight()/u),m=[];for(r=0;u>r;r++)for(s=p.top+r*g,c=r-(u-1)/2,o=0;d>o;o++)a=p.left+o*A,l=o-(d-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*A,top:-r*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:A,height:g,left:a+(f?l*A:0),top:s+(f?c*g:0),opacity:f?0:1}).animate({left:a+(f?0:l*A),top:s+(f?0:c*g),opacity:f?1:0},t.duration||500,t.easing,i)},e.effects.effect.fade=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var i,r,o=e(this),a=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(o,t.mode||"hide"),l="show"===s,c="hide"===s,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,f=l!==h,p=f?["width","height"]:["height","width"],A=t.duration/2,g={},m={};e.effects.save(o,a),o.show(),i=e.effects.createWrapper(o).css({overflow:"hidden"}),r=f?[i.width(),i.height()]:[i.height(),i.width()],d&&(u=parseInt(d[1],10)/100*r[c?0:1]),l&&i.css(h?{height:0,width:u}:{height:u,width:0}),g[p[0]]=l?r[0]:u,m[p[1]]=l?r[1]:0,i.animate(g,A,t.easing).animate(m,A,t.easing,(function(){c&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),n()}))},e.effects.effect.highlight=function(t,n){var i=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(i,t.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===o&&(a.opacity=0),e.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,r),n()}})},e.effects.effect.size=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.effects.setMode(a,t.mode||"effect"),f=t.restore||"effect"!==h,p=t.scale||"both",A=t.origin||["middle","center"],g=a.css("position"),m=f?s:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&a.show(),i={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===h?(a.from=t.to||v,a.to=t.from||i):(a.from=t.from||("show"===h?v:i),a.to=t.to||("hide"===h?v:i)),o={from:{y:a.from.height/i.height,x:a.from.width/i.width},to:{y:a.to.height/i.height,x:a.to.width/i.width}},("box"===p||"both"===p)&&(o.from.y!==o.to.y&&(m=m.concat(u),a.from=e.effects.setTransition(a,u,o.from.y,a.from),a.to=e.effects.setTransition(a,u,o.to.y,a.to)),o.from.x!==o.to.x&&(m=m.concat(d),a.from=e.effects.setTransition(a,d,o.from.x,a.from),a.to=e.effects.setTransition(a,d,o.to.x,a.to))),("content"===p||"both"===p)&&o.from.y!==o.to.y&&(m=m.concat(c).concat(l),a.from=e.effects.setTransition(a,c,o.from.y,a.from),a.to=e.effects.setTransition(a,c,o.to.y,a.to)),e.effects.save(a,m),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),A&&(r=e.effects.getBaseline(A,i),a.from.top=(i.outerHeight-a.outerHeight())*r.y,a.from.left=(i.outerWidth-a.outerWidth())*r.x,a.to.top=(i.outerHeight-a.to.outerHeight)*r.y,a.to.left=(i.outerWidth-a.to.outerWidth)*r.x),a.css(a.from),("content"===p||"both"===p)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),l=s.concat(u).concat(d),a.find("*[width]").each((function(){var n=e(this),i=n.height(),r=n.width(),a=n.outerHeight(),s=n.outerWidth();f&&e.effects.save(n,l),n.from={height:i*o.from.y,width:r*o.from.x,outerHeight:a*o.from.y,outerWidth:s*o.from.x},n.to={height:i*o.to.y,width:r*o.to.x,outerHeight:i*o.to.y,outerWidth:r*o.to.x},o.from.y!==o.to.y&&(n.from=e.effects.setTransition(n,u,o.from.y,n.from),n.to=e.effects.setTransition(n,u,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=e.effects.setTransition(n,d,o.from.x,n.from),n.to=e.effects.setTransition(n,d,o.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,(function(){f&&e.effects.restore(n,l)}))}))),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===h&&a.hide(),e.effects.restore(a,m),f||("static"===g?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],(function(e,t){a.css(t,(function(t,n){var i=parseInt(n,10),r=e?a.to.left:a.to.top;return"auto"===n?r+"px":i+r+"px"}))}))),e.effects.removeWrapper(a),n()}})},e.effects.effect.scale=function(t,n){var i=e(this),r=e.extend(!0,{},t),o=e.effects.setMode(i,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"hide"===o?0:100),s=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u="horizontal"!==s?a/100:1,d="vertical"!==s?a/100:1;r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u,width:c.width*d,outerHeight:c.outerHeight*u,outerWidth:c.outerWidth*d},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},e.effects.effect.puff=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"hide"),o="hide"===r,a=parseInt(t.percent,10)||150,s=a/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?a:100,from:o?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),i.effect(t)},e.effects.effect.pulsate=function(t,n){var i,r=e(this),o=e.effects.setMode(r,t.mode||"show"),a="show"===o,s="hide"===o,l=a||"hide"===o,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=r.queue(),f=h.length;for((a||!r.is(":visible"))&&(r.css("opacity",0).show(),d=1),i=1;c>i;i++)r.animate({opacity:d},u,t.easing),d=1-d;r.animate({opacity:d},u,t.easing),r.queue((function(){s&&r.hide(),n()})),f>1&&h.splice.apply(h,[1,0].concat(h.splice(f,c+1))),r.dequeue()},e.effects.effect.shake=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===s||"down"===s?"top":"left",f="up"===s||"left"===s,p={},A={},g={},m=r.queue(),v=m.length;for(e.effects.save(r,o),r.show(),e.effects.createWrapper(r),p[h]=(f?"-=":"+=")+l,A[h]=(f?"+=":"-=")+2*l,g[h]=(f?"-=":"+=")+2*l,r.animate(p,d,t.easing),i=1;c>i;i++)r.animate(A,d,t.easing).animate(g,d,t.easing);r.animate(A,d,t.easing).animate(p,d/2,t.easing).queue((function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()})),v>1&&m.splice.apply(m,[1,0].concat(m.splice(v,u+1))),r.dequeue()},e.effects.effect.slide=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(r,t.mode||"show"),s="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(r,o),r.show(),i=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(c,u?isNaN(i)?"-"+i:-i:i),d[c]=(s?u?"+=":"-=":u?"-=":"+=")+i,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})},e.effects.effect.transfer=function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),a=e("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,(function(){h.remove(),n()}))},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))})),e(t.target).parents().addBack().each((function(){var i,r=e.data(this,"selectable-item");return r?(i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1):void 0})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;return o>s&&(n=s,s=o,o=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each((function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?c=!(n.left>s||o>n.right||n.top>l||a>n.bottom):"fit"===r.tolerance&&(c=n.left>o&&s>n.right&&n.top>a&&l>n.bottom),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})})),e(".ui-selecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})})),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){t.menuItems||t._refreshMenu()})),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var i=this,r="";e.each(n,(function(n,o){o.optgroup!==r&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(t),r=o.optgroup),i._renderItemData(t,o)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each((function(t,i){var r=e(i),o=r.parent("optgroup");n.push({element:r,index:t,value:r.val(),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})})),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;n>t;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=r.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options,n="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,a,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var n=Math.abs(i-c.values(t));(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===u.min))&&(r=n,o=e(this),a=t)})),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),s=o.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&((r=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),!1!==o&&this.values(t,n))):n!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;e=Math.floor(+(e-t).toFixed(this._precision())/n)*n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,i,r,o,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each((function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n})):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var n,i,r,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(r=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),e(t.target).parents().each((function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):void 0})),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),!i||this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each((function(){this===t.target&&(r=!0)})),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){i._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each((function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")})),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&l>i+c,h="y"===this.options.axis||t+u>o&&a>t+u,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:t+this.helperProportions.width/2>o&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){s.push(this)}var i,r,o,a,s=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(r=(o=e(c[i],this.document[0])).length-1;r>=0;r--)(a=e.data(o[r],this.widgetFullName))&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(r=e(h[n],this.document[0])).length-1;i>=0;i--)(o=e.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],i=0,c=(s=d[n][0]).length;c>i;i++)(l=e(s[i])).data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each((function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(t){var n,i,r,o,a,s,l,c,u,d,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,a=(u=h.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",d=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,t[d]-l>this.items[i][s]/2&&(c=!0),r>Math.abs(t[d]-l)&&(r=Math.abs(t[d]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!i)}))},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(r.push((function(e){this._trigger("remove",e,this._uiHash())})),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],(function(e,i){var r=n.attr(i);void 0!==r&&r.length&&(t[i]=r)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=i,this._delay((function(){this.previous=i})))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,n.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,n)}),e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return n=e-(t=null!==i.min?i.min:0),e=t+(n=Math.round(n/i.step)*i.step),e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&i.min>e?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:s((function(e){this._super(e)})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:s((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:s((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:s((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:s((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){return arguments.length?void s(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;n=(t=t.cloneNode(!1)).href.replace(e,""),i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each((function(n,r){return e(r).attr("aria-controls")===i?(t=n,!1):void 0})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",i)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){for(var i=this.tabs.length-1;-1!==e.inArray((t>i&&(t=0),0>t&&(t=i),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),(function(e){return n.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(n,i){var r,o,a,s=e(i).uniqueId().attr("id"),l=e(i).closest("li"),c=l.attr("aria-controls");t._isLocal(i)?(a=(r=i.hash).substring(1),o=t.element.find(t._sanitizeSelector(r))):(r="#"+(a=l.attr("aria-controls")||e({}).uniqueId()[0].id),(o=t.element.find(r)).length||(o=t._createPanel(a)).insertAfter(t.panels[n-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)!0===t||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each((function(){n=Math.max(n,e(this).height("").height())})).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget).closest("li"),o=r[0]===i[0],a=o&&n.collapsible,s=a?e():this._getPanelForTab(r),l=i.length?this._getPanelForTab(i):e(),c={oldTab:i,oldPanel:l,newTab:a?e():r,newPanel:s};t.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!a&&this.tabs.index(r),this.active=o?e():r,this.xhr&&this.xhr.abort(),l.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(r),t),this._toggle(t,c))},_toggle:function(t,n){function i(){o.running=!1,o._trigger("activate",t,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,(function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()})):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),a.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,n){return n!==t?n:null}))),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(e,t){"abort"===t&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done((function(e,t,r){setTimeout((function(){a.html(e),i._trigger("load",n,s),l(r,t)}),1)})).fail((function(e,t){setTimeout((function(){l(e,t)}),1)}))))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),(i=e.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var i=this;return"disabled"===t?(this[n?"_disable":"_enable"](),void(this.options[t]=n)):(this._super(t,n),void("content"===t&&e.each(this.tooltips,(function(e,t){i._updateContent(t.element)}))))},_disable:function(){var t=this;e.each(this.tooltips,(function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0],t.close(r,!0)})),this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each((function(){var t,i=e(this);i.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))})),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,o=t?t.type:null;return"string"==typeof i?this._open(t,e,i):void((n=i.call(e[0],(function(n){r._delay((function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,n))}))})))&&this._open(t,e,n))},_open:function(t,n,i){function r(e){c.of=e,a.is(":hidden")||a.position(c)}var o,a,s,l,c=e.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),a=o.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(l=i.clone()).removeAttr("id").find("[id]").removeAttr("id"):l=i,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):a.position(e.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval((function(){a.is(":visible")&&(r(c.of),clearInterval(s))}),e.fx.interval)),this._trigger("open",t,{tooltip:a})}},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){i._removeTooltip(e(this))})),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]})),o.closing=!0,this._trigger("close",t,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(n,i){var r=e.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],t.close(r,!0),e("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}})},void 0===(o=i.apply(t,r))||(e.exports=o)},92648:function(e,t,n){var i,r;i=[n(54370)],void 0===(r=function(e){e.templateSettings={interpolate:/\<\@\=(.+?)\@\>/gim,evaluate:/\<\@(.+?)\@\>/gim,escape:/\<\@\-(.+?)\@\>/gim,variable:"context"};var t=function(n,i,r){return e.isUndefined(r)&&(r=!0),e.isArray(i)?e.map(i,(function(e,i){return t(r?i:n+"[]",e,!1)})).join("&"):e.isObject(i)?e.map(i,(function(e,i){return t(r?i:n+"["+i+"]",e,!1)})).join("&"):encodeURIComponent(n)+"="+encodeURIComponent(i)},n=/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i;return e.mixin({getPath:function(e,t,n){for(var i=0,r=(t=t.split(".")).length;i<r;i++){if(!e||"object"!=typeof e)return n;e=e[t[i]]}return"undefined"===e?n:e},getQueryParams:function(t){var n=t||window.location.search;return!!n&&(n=n.replace(/^\??(.*)/,"$1"),e.chain(n.split("&")).map((function(e){var t=e.split("=");return[t[0],decodeURIComponent(t[1])]})).fromPairs().value())},escapeJSON:function(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\f/g,"\\f").replace(/"/g,'"')},isValidEmail:function(e){return n.test(e)},toQuery:function(e){return t("",e)},buildQueryRegExp:function(t){var n;t=e.trim(t);try{n=new RegExp(t,"gi")}catch(i){n=new RegExp(e.escapeRegExp(t),"gi")}return n},hasValidProperty:function(t,n,i){var r=e.has(t,n);return r&&e.isFunction(i)&&(r=i(t[n])),r}}),e}.apply(t,i))||(e.exports=r)},42065:function(e,t,n){!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return r(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./render"),n),r(e("./traverse"),n)},{"./render":2,"./traverse":3}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.render=void 0,n.render=(e,t,n,i)=>{const r=e=>null!=e,o=/^on\w+/i;class a{constructor(e,t){this.ruleset=t,this.renderer=e}stringAt(e){return r(e)?this.ruleset.strings[e]:""}renderTo(e,t){this.addRules(e,this.ruleset.cssRules,t)}addRules(e,t,n){t&&t.forEach((t=>{var i,o,l;const u=e,d=e.cssRules.length;let h;try{if(r(t.styleRule))u.insertRule(`${this.stringAt(t.styleRule.selectorText)} { ${c(this.stringAt(null===(i=t.styleRule.style)||void 0===i?void 0:i.cssText),n)} }`,d);else if(r(t.namespaceRule))u.insertRule(`@namespace ${this.stringAt(t.namespaceRule.prefix)} url(${this.stringAt(t.namespaceRule.namespaceUri)})`,d);else if(r(t.importRule)){if(t.importRule.styleSheet){let e=this.renderer.ruleListAt(t.importRule.styleSheet.cssRules);if(!r(e))return;let i=new a(this.renderer,e),o=u;h=d,t.importRule.layerName&&(h=o.insertRule(`@layer ${this.stringAt(t.importRule.layerName)} { }`,d),o=o.cssRules[h],h=0),t.importRule.media&&t.importRule.media.mediaText>0&&(h=o.insertRule(`@media ${this.stringAt(t.importRule.media.mediaText)} { }`,h),o=o.cssRules[h]),i.renderTo(o,s(this.stringAt(t.importRule.href),n))}}else r(t.mediaRule)?(h=u.insertRule(`@media ${this.stringAt(t.mediaRule.conditionText)} { }`,d),this.addRules(u.cssRules[h],t.mediaRule.cssRules||[],n)):r(t.fontFaceRule)?u.insertRule(`@font-face { ${c(this.stringAt(null===(o=t.fontFaceRule.style)||void 0===o?void 0:o.cssText),n)} }`,d):r(t.keyframesRule)?(h=u.insertRule(`@keyframes ${this.stringAt(t.keyframesRule.name)} {}`,d),this.addRules(u.cssRules[h],t.keyframesRule.cssRules||[],n)):r(t.keyframeRule)?e.appendRule(`${this.stringAt(t.keyframeRule.keyText)} { ${this.stringAt(null===(l=t.keyframeRule.style)||void 0===l?void 0:l.cssText)} }`):r(t.supportsRule)?(h=u.insertRule(`@supports ${this.stringAt(t.supportsRule.conditionText)} { }`,d),this.addRules(u.cssRules[h],[...t.supportsRule.cssRules],n)):r(t.layerStatementRule)?u.insertRule(`@layer ${t.layerStatementRule.nameList.map((e=>this.stringAt(e))).join(",")};`):r(t.layerBlockRule)?(h=u.insertRule(`@layer ${this.stringAt(t.layerBlockRule.name)} {}`,d),this.addRules(u.cssRules[h],[...t.layerBlockRule.cssRules],n)):console.warn("unhandled type of CSSRule",t)}catch(e){console.warn(e,"Rule: ",t)}}))}}function s(e,t){try{return new URL(e,t).href}catch(t){return console.warn(t),e}}const l=/url\(\s*["']?([^\s"']+)["']?\s*\)/g;function c(e,t){return e?e.replace(l,((e,n)=>{try{return e.replace(n,new URL(n,t).href)}catch(t){return console.warn(t),e}})):e}const u=new class{constructor(e){this.dom=e}stringAt(e){return r(e)?this.dom.strings[e]:""}nodeAt(e){if(r(e))return this.dom.nodes[e]}ruleListAt(e){if(r(e))return this.dom.ruleLists[e].real}renderTo(e,t,n,i){const r=new Map,o=[],{contentDocument:a}=e;if(!a)return;a.open();const s=this.render(t,r,a,n,(e=>{o.push(e)}));if(!s)return;if(s.nodeType===s.DOCUMENT_NODE){let e=s;e.doctype&&a.write(function(e){if(e.nodeType===e.DOCUMENT_TYPE_NODE){let t=e;return`<!DOCTYPE ${t.name}`+(t.publicId?` PUBLIC "${t.publicId}"`:t.systemId?" SYSTEM":"")+(t.systemId?` "${t.systemId}"`:"")+">"}return e.outerHTML}(e.doctype)),e.documentElement&&a.appendChild(e.documentElement)}else a.appendChild(s);const l=a.createElement("style");a.head.appendChild(l);const c=a.styleSheets[0];t.document&&this.rulesFromStylesheets(t.document.styleSheets,c,n),setTimeout((()=>{o.forEach((e=>{console.log("running deferred funcs"),e()}));const t=[...a.childNodes].filter((e=>e instanceof Element&&e.tagName&&"html"===e.tagName.toLowerCase()));for(let e=1;e<t.length;e++)a.removeChild(t[e]);e.addEventListener("load",(()=>i({doc:a,refs:r}))),a.close()}),1)}render(e,t,n,i,r){if(!e)return;let a=e.childNodes||[];if(e.element){const s=e.element;let l,u=this.stringAt(s.localName),d=(s.attributes||[]).map((e=>({localName:this.stringAt(e.localName),namespaceUri:this.stringAt(e.namespaceUri),prefix:this.stringAt(e.prefix),value:this.stringAt(e.value)})));("style"===u||"link"===u&&d.find((e=>"rel"===e.localName&&"stylesheet"===(e.value||"").toLowerCase())))&&(u+="-si-ignore",d.push({localName:"hidden",value:"true",namespaceUri:"",prefix:""}));try{l=s.namespaceUri?n.createElementNS(this.stringAt(s.namespaceUri),u):n.createElement(u)}catch(e){const t=(e,t)=>console.error(`Cannot create an element with tagName ${e}`,t);if(s.namespaceUri&&"http://www.w3.org/1999/xhtml"===this.stringAt(s.namespaceUri))try{l=n.createElement(u)}catch(e){return void t(u,e)}return void t(u,e)}"head"!==u||a.some((e=>{var t;const n=null===(t=this.nodeAt(e))||void 0===t?void 0:t.element;return n&&"base"===this.stringAt(n.localName)}))||function(e,t){e.innerHTML=`<base href="${t}" />`}(l,i),d.forEach((({localName:e,value:t,namespaceUri:n})=>{if(o.test(e))return;switch(e){case"target":if("_blank"!==t)return;break;case"href":case"action":let e;try{e=new URL(t,i)}catch(e){console.warn(e)}if(!e||"javascript:"===e.protocol)return;break;case"style":t=c(t,i)}const a=()=>{try{n?l.setAttributeNS(n,e,t||""):l.setAttribute(e,t||"")}catch(e){}};"style"===e||"src"===e||"base"!==e&&"href"===e?r(a):a()})),a.forEach((e=>{const o=this.render(this.nodeAt(e),t,n,i,r);o&&l.appendChild(o)})),t.set(e,l);let h=this.nodeAt(s.shadowRoot);if(h){let e=l.attachShadow({mode:"open"}),o=h.documentFragment;if(o&&o.shadowRoot){let t=o.shadowRoot;r((()=>{let r=n.createElement("style");e.prepend(r);const o=e.styleSheets[0];this.rulesFromStylesheets(t.styleSheets,o,i)}))}h.childNodes.forEach((o=>{const a=this.render(this.nodeAt(o),t,n,i,r);a&&e.appendChild(a)}))}let f=this.nodeAt(s.content);if(f){let e=l;f.childNodes.forEach((o=>{const a=this.render(this.nodeAt(o),t,n,i,r);a&&e.content.appendChild(a)}))}return l}if(e.text){const i=n.createTextNode(this.stringAt(e.text.data));return t.set(e,i),i}if(e.document){const e=a.find((e=>{var t;return!!(null===(t=this.nodeAt(e))||void 0===t?void 0:t.documentType)})),o=a.find((e=>{const t=this.nodeAt(e);return(null==t?void 0:t.element)&&"html"===this.stringAt(t.element.localName)})),s=n.implementation.createDocument("","",e?this.render(this.nodeAt(e),t,n,i,r):null);return o&&s.appendChild(this.render(this.nodeAt(o),t,n,i,r)),s}if(e.documentType)return n.implementation.createDocumentType(this.stringAt(e.documentType.name)||"html",this.stringAt(e.documentType.publicId),this.stringAt(e.documentType.systemId));if(e.documentFragment){const e=n.createDocumentFragment();return a.forEach((o=>{const a=this.render(this.nodeAt(o),t,n,i,r);a&&e.appendChild(a)})),e}}rulesFromStylesheets(e,t,n){for(let i=0;i<e.length;i++){const o=e[i];if(!r(o))continue;if(o.media&&window.matchMedia&&!window.matchMedia(this.stringAt(o.media.mediaText)).matches)continue;if(!r(o.cssRules))continue;let l=this.ruleListAt(o.cssRules);r(l)&&new a(this,l).renderTo(t,s(this.stringAt(o.href),n))}}}(t);u.renderTo(e,u.nodeAt(0),n,i)}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.traverse=void 0,n.traverse=(e,t)=>{const n=(e,t)=>"http://www.w3.org/1999/xhtml"===e.namespaceURI&&e.localName===t;class i{constructor(e){this.strings=[""],this.stringsIndex=new Map([["",0]]),this.nodes=[],this.traverser=e}strIdx(e){if(!e)return 0;let t=this.stringsIndex.get(e);return t||(this.strings.push(e),t=this.strings.length-1,this.stringsIndex.set(e,t),t)}asRuleSet(e){const t=[];for(let n=0,i=e.length;n<i;n++)try{const i=this.asRule(e[n]);null!==i&&t.push(i)}catch(e){this.traverser.logError(e)}return{real:{cssRules:t,strings:this.strings}}}asStyleDeclaration(e){const{cssText:t}=e;return{cssText:this.strIdx(t)}}asRule(e){var t;switch(null===(t=e.constructor.toString().match(/CSS.*Rule/))||void 0===t?void 0:t[0]){case"CSSStyleRule":return{styleRule:this.asStyleRule(e)};case"CSSImportRule":return{importRule:this.asImportRule(e)};case"CSSMediaRule":return{mediaRule:this.asMediaRule(e)};case"CSSFontFaceRule":return{fontFaceRule:this.asFontFaceRule(e)};case"CSSPageRule":return{pageRule:this.asPageRule(e)};case"CSSKeyframesRule":return{keyframesRule:this.asKeyframesRule(e)};case"CSSKeyframeRule":return{keyframeRule:this.asKeyframeRule(e)};case"CSSNamespaceRule":return{namespaceRule:this.asNamespaceRule(e)};case"CSSSupportsRule":return{supportsRule:this.asSupportsRule(e)};case"CSSLayerBlockRule":return{layerBlockRule:this.asLayerBlockRule(e)};case"CSSLayerStatementRule":return{layerStatementRule:this.asLayerStatementRule(e)};default:this.traverser.logError(`CSSRule did not match any case. rule was: ${e}`)}return null}asStyleRule(e){const{selectorText:t}=e,n=this.asStyleDeclaration(e.style);return{selectorText:this.strIdx(t),style:n}}asImportRule(e){const{href:t,media:{mediaText:n},layerName:i}=e,r=this.traverser.asStyleSheet(e.styleSheet,this);return{href:this.strIdx(t),media:{mediaText:this.strIdx(n)},styleSheet:r,layerName:null!=i?this.strIdx(i):void 0}}asMediaRule(e){const{conditionText:t}=e,n=[];for(let t=0,i=e.cssRules.length;t<i;t++){const i=this.asRule(e.cssRules[t]);i&&n.push(i)}return{cssRules:n,conditionText:this.strIdx(t)}}asFontFaceRule(e){return{style:this.asStyleDeclaration(e.style)}}asPageRule(e){const{selectorText:t}=e,n=this.asStyleDeclaration(e.style);return{selectorText:this.strIdx(t),style:n}}asKeyframesRule(e){const{name:t}=e,n=[];for(let t=0,i=e.cssRules.length;t<i;t++){const i=this.asRule(e.cssRules[t]);i&&n.push(i)}return{name:this.strIdx(t),cssRules:n}}asKeyframeRule(e){const{keyText:t}=e,n=this.asStyleDeclaration(e.style);return{keyText:this.strIdx(t),style:n}}asNamespaceRule(e){const{namespaceURI:t,prefix:n}=e;return{namespaceUri:this.strIdx(t),prefix:this.strIdx(n)}}asSupportsRule(e){const{conditionText:t}=e,n=[];for(let t=0,i=e.cssRules.length;t<i;t++){const i=this.asRule(e.cssRules[t]);i&&n.push(i)}return{cssRules:n,conditionText:this.strIdx(t)}}asLayerBlockRule(e){const{name:t}=e,n=[];for(let t=0,i=e.cssRules.length;t<i;t++){const i=this.asRule(e.cssRules[t]);i&&n.push(i)}return{cssRules:n,name:this.strIdx(t)}}asLayerStatementRule(e){const{nameList:t}=e;return{nameList:t.map((e=>this.strIdx(e)))}}}const r=new class{constructor(e){this.strings=[""],this.stringsIndex=new Map([["",0]]),this.nodes=[],this.ruleLists=[],this.errors=[],this.nodeLayoutMap={},this.options=e||{traverseIframes:!1}}logError(e){const{message:t}=function(e){if("object"==typeof(t=e)&&null!==t&&"message"in t&&"string"==typeof t.message)return e;var t;try{return new Error(JSON.stringify(e))}catch(t){return new Error(String(e))}}(e);this.errors.push({message:t})}strIdx(e){if(!e)return 0;let t=this.stringsIndex.get(e);return t||(this.strings.push(e),t=this.strings.length-1,this.stringsIndex.set(e,t),t)}addRuleList(e){return this.ruleLists.push(e),this.ruleLists.length-1}walk(e){const t=this.nodes.length;let n={};this.nodes.push(n);try{switch(e.nodeType){case 1:let{element:i,layout:r}=this.asElement(e);n.element=i,r&&(this.nodeLayoutMap[t]=r);break;case 3:n.text=this.asText(e);break;case 4:n.cdataSection=this.asCDATASection(e);break;case 8:n.comment=this.asComment(e);break;case 9:n.document=this.asDocument(e);break;case 10:n.documentType=this.asDocumentType(e);break;case 11:n.documentFragment=this.asDocumentFragment(e)}}catch(e){this.logError(e)}return n.childNodes=Array.from(e.childNodes).map((e=>this.walk(e))),t}getPropValue(e,t,n){const i=Object.getOwnPropertyDescriptor(t,n);return i&&i.get?i.get.call(e):null}asElement(e){let{namespaceURI:t,prefix:i,localName:r}=e;if(e instanceof HTMLFormElement){let n=e;do{n=Object.getPrototypeOf(n)}while(null!==n&&"Element"!==n.constructor.name);null!==n&&(t=this.getPropValue(e,n,"namespaceURI"),i=this.getPropValue(e,n,"prefix"),r=this.getPropValue(e,n,"localName")||"")}const o=[];for(let t=0,n=e.attributes.length;t<n;t++){const n=e.attributes[t];o.push({localName:this.strIdx(n.localName),value:this.strIdx(n.value),prefix:this.strIdx(n.prefix),namespaceUri:this.strIdx(n.namespaceURI)})}let a,s,l;(n(e,"iframe")&&this.options.traverseIframes||n(e,"object"))&&null!==e.contentDocument&&(a=this.walk(e.contentDocument)),n(e,"template")&&null!==e.content&&(s=this.walk(e.content)),e.shadowRoot&&(l=this.walk(e.shadowRoot));let c,{x:u,y:d,width:h,height:f}=e.getBoundingClientRect(),p={x:Math.round(u),y:Math.round(d),width:Math.round(h),height:Math.round(f)};return c=0===p.x&&0===p.y&&0===p.width&&0===p.height?void 0:{boundingClientRect:p},{element:{namespaceUri:this.strIdx(t),prefix:this.strIdx(i),localName:this.strIdx(r),attributes:o,shadowRoot:l,contentDocument:a,content:s},layout:c}}asAttribute(e){const{namespaceURI:t,prefix:n,localName:i,value:r}=e;return{namespaceUri:this.strIdx(t),prefix:this.strIdx(n),localName:this.strIdx(i),value:this.strIdx(r)}}asText(e){let{data:t}=e;return{data:this.strIdx(t)}}asCDATASection(e){let{data:t}=e;return{data:this.strIdx(t)}}asComment(e){let{data:t}=e;return{data:this.strIdx(t)}}asDocument(e){return{styleSheets:this.getStyleSheets(e)}}asDocumentType(e){const{name:t,publicId:n,systemId:i}=e;return{name:this.strIdx(t),publicId:this.strIdx(n),systemId:this.strIdx(i)}}asDocumentFragment(e){var t;return e instanceof((null===(t=e.ownerDocument.defaultView)||void 0===t?void 0:t.ShadowRoot)||ShadowRoot)?{shadowRoot:this.asShadowRoot(e)}:{}}asShadowRoot(e){return{mode:this.strIdx(e.mode),styleSheets:this.getStyleSheets(e)}}asStyleSheet(e,t){const{disabled:n,href:r,media:{mediaText:o}}=e;let a=new i(this);return{disabled:n,href:t.strIdx(r||""),cssRules:this.addRuleList(a.asRuleSet(e.cssRules)),media:{mediaText:t.strIdx(o)}}}getStyleSheets(e){const t=[];try{for(let n=0,i=e.styleSheets.length;n<i;n++)try{t.push(this.asStyleSheet(e.styleSheets[n],this))}catch(e){this.logError(e)}if(e.adoptedStyleSheets)for(let n=0;n<e.adoptedStyleSheets.length;n++)try{t.push(this.asStyleSheet(e.adoptedStyleSheets[n],this))}catch(e){this.logError(e)}}catch(e){this.logError(e)}return t}isAttribute(e,t){return this.stringsIndex.get(t)===e.localName}setAttribute(e,t,n=""){let i={localName:this.strIdx(t),value:this.strIdx(n)};for(let n=0,r=e.length;n<r;n++){const r=e[n];if(this.isAttribute(r,t))return e[n]=i,null}return e.push(i),null}removeAttribute(e,t){for(let n=0,i=e.length;n<i;n++){const i=e[n];if(this.isAttribute(i,t))return e.splice(n,1),!0}return!1}toggleAttribute(e,t,n,i){n?this.setAttribute(e,t,i):this.removeAttribute(e,t)}persistElementState(e,t){n(e,"input")?("radio"!==e.type&&"checkbox"!==e.type||this.toggleAttribute(t,"checked",e.checked),this.toggleAttribute(t,"value",""!==e.value,e.value)):n(e,"option")?this.toggleAttribute(t,"selected",e.selected):n(e,"select")&&this.removeAttribute(t,"value")}}(t);return r.walk(e),{dom:{nodes:r.nodes,strings:r.strings,ruleLists:r.ruleLists,errors:r.errors},layout:{version:1,documentLayout:{nodeLayoutMap:r.nodeLayoutMap}}}}},{}],4:[function(e,t,i){(function(t){(function(){var n=e("@siteimprove/flat-object-model-capture/dist").traverse;t._si=t._si||[],function(e,t,i,r){if(i.loaded)return;var o={requestUrl:"",currentInputtedUrl:"emptyurl",issues:0,position:"",mainLink:"",issuesLink:"",loginLink:"",isRechecking:!1,error:!1,errorReason:"",auth:!1,isShown:!1,token:"",isIframeOpen:!1,isPfgListening:!1,publishedPageUrl:"",timeout:null,cookie:{name:"sicmsplugin",domain:t.domain},minimized:!1,stopPoll:!1,isPageSpecific:!1,isFirstPage:!1,areRequestsAllowed:!0,contentCheckCallback:null,highlightCallback:null,pollRequest:null,pollStartTime:null},a={issues:"Issues",buttonAriaLabel:"View issues",notFound:"Page not found",accessError:"Access error",recheck:"Rechecking...",regionName:"Siteimprove CMS Plugin",login:"Login",update:function(e,t,n,i){a.issues=e||a.issues,a.notFound=t||a.notFound,a.recheck=n||a.recheck,a.buttonAriaLabel=i||a.buttonAriaLabel}},s=function(e,t){e.addEventListener?e.addEventListener("click",t):e.attachEvent("onclick",t)},l=function(e,t){e.addEventListener?e.addEventListener("mousedown",t):e.attachEvent("onmousedown",t)},c=function(e,t){e.removeEventListener?e.removeEventListener("mousedown",t):e.detachEvent("onmousedown",t)},u=function(e,t){e.addEventListener?e.removeEventListener("click",t):e.detachEvent("onclick",t)},d={css:'@charset "utf-8"; .si-toggle-container {font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;position: fixed;display: block;background-color: transparent;z-index: 9999;}.si-toggle-container.si-pos-side {min-width: 6px;width: 54px;max-width: 54px;display: block;}.si-toggle-container.si-pos-bottom {min-height: 6px;height: 54px;max-height: 54px;display: block;}.si-toggle-container.si-pos-east {bottom: 50%;right: 1px;}.si-toggle-container.si-pos-south {left: 50%;bottom: 0;}.si-toggle-container.si-pos-east-south {right: 1px;bottom: 25%;}.si-toggle-container.si-pos-west-south {left: 1px;bottom: 25%;}.si-toggle-container.si-pos-west {left: 1px;bottom: 50%;}.si-toggle-container .si-button {border-width: 0;background-color: #fafafa;border-style: none;border-image: none;}.si-toggle-container .si-drag-container {display: inline-block;vertical-align: top;position: relative;}.si-toggle-container .si-drag-container.si-pos-side {height: 100%;width: 6px;}.si-toggle-container .si-drag-container.si-pos-bottom {height: 6px;width: 100%;vertical-align: bottom;display: block;}.si-toggle-container .si-drag-container .si-drag-box {display: block;position: absolute;}.si-toggle-container .si-drag-container .si-drag-box.si-pos-side {cursor: col-resize;width: 6px;height: 44px;top: 50px;margin-top: -22px;}.si-toggle-container .si-drag-container .si-drag-box.si-pos-side.cleared {top: 24px;}.si-toggle-container .si-drag-container .si-drag-box.si-pos-bottom {width: 44px;height: 6px;left: 50px;margin-left: -22px;cursor: row-resize;}.si-toggle-container .si-drag-container .si-drag-box.si-pos-bottom.cleared {left: 24px;}.si-toggle-container .si-drag-container .si-drag-box .si-drag-dots {border-radius: 10px 0 0 10px;background-color: #ededed;}.si-toggle-container .si-drag-container .si-drag-box .si-drag-dots.si-pos-bottom {border-radius: 10px 10px 0 0;width: 44px;height: 6px;}.si-toggle-container .si-drag-container .si-drag-box .si-drag-dots.si-pos-bottom:after {content: "";position: absolute;top: 33%;left: 50%;transform: translate(-50%, -50%);-webkit-transform: translate(-50%, -50%);-ms-transform: translate(-50%, -50%);-moz-transform: translate(-50%, -50%);font-size: 8px;letter-spacing: 2px;margin-left: 2px;}.si-toggle-container .si-drag-container .si-drag-box .si-drag-dots.si-pos-side {height: 44px;width: 6px;}.si-toggle-container .si-drag-container .si-drag-box .si-drag-dots.si-pos-side:after {content: "";position: absolute;top: 50%;left: 33%;transform: translate(-50%, -50%) rotate(90deg);-webkit-transform: translate(-50%, -50%) rotate(90deg);-ms-transform: translate(-50%, -50%) rotate(90deg);-moz-transform: translate(-50%, -50%) rotate(90deg);font-size: 8px;letter-spacing: 2px;margin-top: 2px;}.si-toggle-container .si-drag-container .si-drag-box .si-drag-dots.si-pos-east-south, .si-toggle-container .si-drag-container .si-drag-box .si-drag-dots.si-pos-east {border-radius: 10px 0 0 10px;}.si-toggle-container .si-drag-container .si-drag-box .si-drag-dots.si-pos-west-south, .si-toggle-container .si-drag-container .si-drag-box .si-drag-dots.si-pos-west {border-radius: 0 10px 10px 0;}.si-toggle-container .si-boxes-container {display: inline-block;overflow: hidden;background-color: #fff;box-shadow: 0 1px 16px rgba(0, 0, 0, 0.5);}.si-toggle-container .si-boxes-container.si-pos-side {width: 48px;max-width: 48px;}.si-toggle-container .si-boxes-container.si-pos-bottom {height: 48px;max-height: 48px;display: block;}.si-toggle-container .si-boxes-container .si-topbox {padding: 10px;display: block;}.si-toggle-container .si-boxes-container .si-topbox.si-pos-side {border-bottom: 1px solid #dddddd;}.si-toggle-container .si-boxes-container .si-topbox.si-pos-bottom {border-right: 1px solid #dddddd;display: table-cell;}.si-toggle-container .si-boxes-container .si-topbox > .si-button {display: block;background: none;width: 28px;height: 28px;}.si-toggle-container .si-boxes-container .si-topbox > .si-button.cleared > svg {opacity: 0.25;}.si-toggle-container .si-boxes-container .si-topbox > .si-button > svg {fill: #2dbce2;}.si-toggle-container .si-boxes-container .si-bottom-boxes {background-color: #fafafa;display: block;}.si-toggle-container .si-boxes-container .si-bottom-boxes.cleared {display: none;}.si-toggle-container .si-boxes-container .si-bottom-boxes.si-pos-bottom {display: table-cell;vertical-align: middle;}.si-toggle-container .si-boxes-container .si-bottom-boxes.si-pos-side {padding-bottom: 10px;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-login-box {color: #007a8f;text-decoration: none;text-align: center;vertical-align: middle;height: 48px;width: 48px;font-size: 12px;display: table-cell;text-overflow: ellipsis;overflow: hidden;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container {display: block;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container.si-pos-bottom {display: table;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container {display: block;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container.si-pos-bottom {display: table;height: 100%;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container {display: block;padding: 10px 0 0 0;text-align: center;max-width: 48px;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container.si-pos-bottom {min-width: 36px;padding: 0 0 0 2px;display: table-cell;vertical-align: middle;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container.si-pos-side {width: 48px;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle {min-width: 10px;max-width: 48px;padding: 3px 7px;border-radius: 10px;display: inline-block;text-align: center;font-weight: 600;vertical-align: middle;white-space: nowrap;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle.si-issues {background-color: #a93333;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle.si-notifications {background-color: #008299;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle.si-recheck {background-color: #eeeeee;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle.si-recheck > div {width: 16px;height: 16px;display: inline-block;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle.si-recheck > div > svg {fill: #696969;animation: si-rechecking 2s linear infinite;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle > div {color: #fff;display: block;font-size: 12px;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle > div.si-rechecking {width: 16px;height: 16px;display: inline-block;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-container .si-single-circle > div.si-rechecking > svg {fill: #696969;animation: si-rechecking 2s linear infinite;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-text-container {max-width: 36px;display: table;padding-top: 2px;margin: 0 auto;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-text-container.si-pos-bottom {min-width: 36px;max-width: 100px;padding-top: 0;padding-right: 2px;display: table-cell;vertical-align: middle;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-text-container.si-pos-side {width: 36px;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-text-container > div {display: block;font-size: 10px;color: #222222;text-align: center;text-overflow: ellipsis;overflow: hidden;}.si-toggle-container .si-boxes-container .si-bottom-boxes .si-circles-container .si-single-circle-container .si-circle-text-container > div.si-pos-side {max-width: 36px;width: 36px;}.si-toggle-container article, .si-toggle-container aside, .si-toggle-container details, .si-toggle-container figcaption, .si-toggle-container figure, .si-toggle-container footer, .si-toggle-container header, .si-toggle-container hgroup, .si-toggle-container main, .si-toggle-container menu, .si-toggle-container nav, .si-toggle-container section, .si-toggle-container summary {display: block;padding: 0;margin: 0;}.si-toggle-container audio, .si-toggle-container canvas, .si-toggle-container progress, .si-toggle-container video {display: inline-block;vertical-align: baseline;padding: 0;margin: 0;}.si-toggle-container audio:not([controls]) {display: none;height: 0;}.si-toggle-container [hidden], .si-toggle-container template {display: none;}.si-toggle-container a {background-color: transparent;}.si-toggle-container div, .si-toggle-container button {padding: 0;margin: 0;}.si-toggle-container a:active, .si-toggle-container a:hover {outline: 0;}.si-toggle-container abbr[title] {border-bottom: 1px dotted;}.si-toggle-container b, .si-toggle-container strong {font-weight: bold;}.si-toggle-container dfn {font-style: italic;}.si-toggle-container h1 {font-size: 2em;margin: 0.67em 0;}.si-toggle-container mark {background: #ff0;color: #000;}.si-toggle-container small {font-size: 80%;}.si-toggle-container sub {font-size: 75%;line-height: 0;position: relative;vertical-align: baseline;}.si-toggle-container sup {font-size: 75%;line-height: 0;position: relative;vertical-align: baseline;top: -0.5em;}.si-toggle-container sub {bottom: -0.25em;}.si-toggle-container img {border: 0;}.si-toggle-container svg:not(:root) {overflow: hidden;}.si-toggle-container figure {margin: 1em 40px;}.si-toggle-container hr {box-sizing: content-box;height: 0;}.si-toggle-container pre {overflow: auto;}.si-toggle-container code, .si-toggle-container kbd, .si-toggle-container pre, .si-toggle-container samp {font-family: monospace, monospace;font-size: 1em;}.si-toggle-container button, .si-toggle-container input, .si-toggle-container optgroup, .si-toggle-container select, .si-toggle-container textarea {color: inherit;font: inherit;margin: 0;border: none;background: none;}.si-toggle-container button {overflow: visible;text-transform: none;}.si-toggle-container select {text-transform: none;}.si-toggle-container button, .si-toggle-container html input[type="button"] {-webkit-appearance: button;cursor: pointer;}.si-toggle-container input[type="reset"], .si-toggle-container input[type="submit"] {-webkit-appearance: button;cursor: pointer;}.si-toggle-container button[disabled], .si-toggle-container html input[disabled] {cursor: default;}.si-toggle-container button::-moz-focus-inner {border: 0;padding: 0;}.si-toggle-container input {line-height: normal;}.si-toggle-container input::-moz-focus-inner {border: 0;padding: 0;}.si-toggle-container input[type="checkbox"], .si-toggle-container input[type="radio"] {box-sizing: border-box;padding: 0;}.si-toggle-container input[type="number"]::-webkit-inner-spin-button, .si-toggle-container input[type="number"]::-webkit-outer-spin-button {height: auto;}.si-toggle-container input[type="search"] {-webkit-appearance: textfield;box-sizing: content-box;}.si-toggle-container input[type="search"]::-webkit-search-cancel-button, .si-toggle-container input[type="search"]::-webkit-search-decoration {-webkit-appearance: none;}.si-toggle-container fieldset {border: 1px solid #c0c0c0;margin: 0 2px;padding: 0.35em 0.625em 0.75em;}.si-toggle-container legend {border: 0;padding: 0;}.si-toggle-container textarea {overflow: auto;}.si-toggle-container optgroup {font-weight: bold;}.si-toggle-container table {border-collapse: collapse;border-spacing: 0;}.si-toggle-container td, .si-toggle-container th {padding: 0;}.si-iframe-container {position: fixed;z-index: 9999;background-color: transparent;height: 80%;min-height: 300px;max-width: 640px;min-width: 320px;width: 33%;display: block;border: 1px solid #bbb;overflow: hidden;border-radius: 4px;}.si-iframe-container.si-pos-east, .si-iframe-container.si-pos-east-south {text-align: right;}.si-iframe-container.si-pos-west, .si-iframe-container.si-pos-west-south {text-align: left;}.si-iframe-container.si-pos-west-south {top: 60%;left: 1px;}.si-iframe-container.si-pos-side {transform: translate(0, -50%);-webkit-transform: translate(0, -50%);-ms-transform: translate(0, -50%);-moz-transform: translate(0, -50%);}.si-iframe-container.si-pos-west {left: 1px;top: 50%;}.si-iframe-container.si-pos-east {right: 1px;top: 50%;}.si-iframe-container.si-pos-east-south {top: 60%;right: 1px;}.si-iframe-container.si-pos-south {left: 50%;bottom: 1px;transform: translate(-50%, 0);-webkit-transform: translate(-50%, 0);-ms-transform: translate(-50%, 0);-moz-transform: translate(-50%, 0);}.si-iframe-container .si-iframe-closer {position: absolute;height: 16px;width: 16px;top: 14px;right: 15px;z-index: 9999;cursor: pointer;}.si-iframe-container .si-iframe-closer > svg {fill: #555555;}.si-iframe-container .si-iframe-element {height: 100%;width: 100%;position: relative;border-width: 0;border-image: none;border-style: none;display: block;}@keyframes si-rechecking {to {-webkit-transform: rotate3d(0, 0, 1, 360deg);transform: rotate3d(0, 0, 1, 360deg);-moz-transform: rotate3d(0, 0, 1, 360deg);}}',siIcon:'<svg xmlns="http://www.w3.org/2000/svg" height="28px" width="28px" viewBox="0 0 24 24" focusable="false" aria-hidden="true" fill="currentColor"><path fill="#141155" d="M12.015625.113281C5.433594.113281.113281 5.433594.113281 12.015625c0 6.578125 5.320313 11.886719 11.902344 11.886719 6.578125 0 11.886719-5.324219 11.886719-11.886719 0-6.566406-5.324219-11.902344-11.886719-11.902344Zm0 0"></path><path fill="#fff" d="m6.097656 14.796875 1.695313-1.003906c.367187.945312 1.074219 1.539062 2.328125 1.539062 1.257812 0 1.625-.507812 1.625-1.074219 0-.746093-.679688-1.042968-2.1875-1.480468-1.539063-.4375-3.050782-1.074219-3.050782-3.007813 0-1.933593 1.609376-2.992187 3.332032-2.992187s2.9375.847656 3.613281 2.257812l-1.664063.960938c-.367187-.777344-.917968-1.300782-1.949218-1.300782-.832032 0-1.328125.4375-1.328125 1.019532 0 .621094.382812.945312 1.921875 1.410156 1.609375.523438 3.316406 1.058594 3.316406 3.121094 0 1.890625-1.523438 3.046875-3.671875 3.046875-2.058594.015625-3.441406-.972657-3.980469-2.496094m8.667969-6.917969c0-.621094.507813-1.160156 1.144531-1.160156.636719 0 1.15625.539062 1.15625 1.160156 0 .621094-.507812 1.140625-1.15625 1.140625-.648437 0-1.144531-.519531-1.144531-1.140625m.214844 1.988282h1.863281v7.230468h-1.863281Zm0 0"></path></svg>',recheckIcon:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 135 123.8"><g><path class="st0" d="M67.1,12c-7.6,0-14.7,1.7-21.1,4.7L37,7.8C45.9,2.8,56.2,0,67.1,0C101.3,0,129,27.7,129,61.9 c0,8.7-1.8,16.9-5,24.4L135,97.4l-30.5,1.8l1.8-30.5l8.3,8.3c1.5-4.8,2.4-9.8,2.4-15.1C117,34.4,94.6,12,67.1,12z"/><path class="st0" d="M0,26.4l30.5-1.8l-1.8,30.5l-9-9c-1.7,4.9-2.6,10.2-2.6,15.7c0,27.5,22.4,49.9,49.9,49.9 c7.6,0,14.7-1.7,21.1-4.7l8.9,8.9c-8.9,5-19.2,7.8-30.1,7.8c-34.2,0-61.9-27.7-61.9-61.9c0-8.9,1.9-17.4,5.3-25L0,26.4z"/></g></svg>',closeIcon:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 141.7 141.7"><polygon class="st0" points="141.7,15.5 126.2,0 70.9,55.4 15.5,0 0,15.5 55.4,70.9 0,126.2 15.5,141.7 70.9,86.4 126.2,141.7 141.7,126.2 86.4,70.9 "/></svg>',boxclass:{w:"si-pos-side",e:"si-pos-side",s:"si-pos-bottom",es:"si-pos-side",ws:"si-pos-side"},boxposition:{w:"si-pos-west",e:"si-pos-east",s:"si-pos-south",es:"si-pos-east-south",ws:"si-pos-west-south"},iframeElement:null,iframeContainer:null,containerElement:null,boxesElement:null,bottomBoxesElement:null,dragContainer:null,dragElement:null,recheckCircle:null,issuesCircle:null,issuesCircleContainer:null,mainButton:null,dragSize:6,_dragging:!1,didDraggableMove:!1,isDraggableElementAfterBoxes:function(){return d.isWest(o.position)},isWest:function(e){return"w"===e||"ws"===e},isEast:function(e){return"e"===e||"es"===e},isSouth:function(e){return"s"===e},getStylePropertyValue:function(e,t){return parseInt(window.getComputedStyle(e).getPropertyValue(t).slice(0,-2),10)},resizeSmallBoxContainer:function(e){if(d.containerElement&&d.boxesElement){if(d.isEast(o.position)||d.isWest(o.position)){var t=e.pageX;d.isEast(o.position)&&(t=(document.documentElement.clientWidth||document.body.clientWidth)-e.pageX);var n=d.getStylePropertyValue(d.boxesElement,"max-width")||100;n<t?t=n:t<=1&&(t=0),d.containerElement.style.width=t+d.dragSize+"px",d.boxesElement.style.width=t+"px"}else if(d.isSouth(o.position)){var i=window.innerHeight-e.pageY,r=d.getStylePropertyValue(d.boxesElement,"max-height")||100;r<i?i=r:i<=1&&(i=0),i=d.containerElement.style.height=i+d.dragSize+"px",d.boxesElement.style.height=i+"px"}d.didDraggableMove=!0}},dragSmallBox:function(){var e,n;d.containerElement&&d.boxesElement&&d.dragElement&&(d._dragging=!0,e=t,n=d.resizeSmallBoxContainer,e.addEventListener?e.addEventListener("mousemove",n):e.attachEvent("onmousemove",n))},maximizeSmallBox:function(){var e=(d.isSouth(o.position)?d.getStylePropertyValue(d.boxesElement,"max-height"):d.getStylePropertyValue(d.boxesElement,"max-width"))||100;d.isSouth(o.position)?(d.containerElement.style.height=e+d.dragSize+"px",d.boxesElement.style.height=e+"px"):(d.containerElement.style.width=e+d.dragSize+"px",d.boxesElement.style.width=e+"px"),d.dragElement.style.cursor="",o.minimized=!1,l(d.dragElement,d.dragSmallBox),u(d.dragElement,d.maximizeSmallBox),p.setCookie(o.cookie.name,e,1e3,o.cookie.domain)},mouseUpListener:function(){if(d._dragging&&(n=t,i=d.resizeSmallBoxContainer,n.removeEventListener?n.removeEventListener("mousemove",i):n.detachEvent("onmousemove",i),d.containerElement)){d.didDraggableMove||(o.minimized=!0,d.isSouth(o.position)?(d.containerElement.style.height="0",d.boxesElement.style.height="0"):(d.containerElement.style.width="0",d.boxesElement.style.width="0")),d.didDraggableMove=!1;var e=d.isSouth(o.position)?d.containerElement.offsetHeight:d.containerElement.offsetWidth;e<=10?(c(d.dragElement,d.dragSmallBox),d.dragElement.style.cursor="pointer",setTimeout((function(){s(d.dragElement,d.maximizeSmallBox),o.minimized=!0}),100)):(d.dragElement.style.cursor="",o.minimized=!1),p.setCookie(o.cookie.name,e,1e3,o.cookie.domain),d._dragging=!1}var n,i},createDiv:function(e){var n=t.createElement("div");return n.className+=e+" "+d.boxclass[o.position]+" "+d.boxposition[o.position],n},createButton:function(e,n,i){var r=t.createElement("button");return r.className+=e+" si-button ",r.setAttribute("data-link",n),i&&r.setAttribute("aria-label",i),s(r,d.openDataLinkUrl),r},createLoginButton:function(){var e=d.createButton("si-login-box",o.loginLink,a.login);return e.textContent+=a.login,e},createDraggableElement:function(){var e=d.createDiv("si-drag-container"),t=d.createDiv("si-drag-box"),n=d.createDiv("si-drag-dots");return t.appendChild(n),e.appendChild(t),d.dragElement=t,l(d.dragElement,d.dragSmallBox),e},createBadge:function(e,t,n,i){var r=d.createButton("si-single-circle "+e,i);r.setAttribute("aria-labelledby","numberOfIssuesInfo circleTextInfo");var a=d.createDiv("");a.innerHTML+=t,r.appendChild(a),r.setAttribute("id","numberOfIssuesInfo");var s=d.createDiv("si-circle-container");s.appendChild(r);var l=d.createDiv("si-circle-text-container"),c=d.createDiv("",o.position);c.setAttribute("id","circleTextInfo"),c.textContent+=n,l.appendChild(c);var u=d.createDiv("si-single-circle-container");return u.appendChild(s),u.appendChild(l),u},addBottomBoxContent:function(e,t,n,i){if(t){if(i){var r;if(d.issuesCircleContainer=d.createDiv("si-circles-container"),o.isRechecking)r=d.createBadge("si-recheck",d.recheckIcon,a.recheck,""),d.recheckCircle=r;else{var s="noaccess"==o.errorReason?a.accessError:a.notFound;r=d.createBadge("si-issues",o.error?"!":n,o.error?s:a.issues,o.issuesLink),d.issuesCircle=r}d.issuesCircleContainer.appendChild(r),e.appendChild(d.issuesCircleContainer)}}else e.appendChild(d.createLoginButton())},createSmallBox:function(t,n,i){var r=d.createDiv("si-toggle-container");r.setAttribute("role","region"),r.setAttribute("aria-label",a.regionName);var s=d.createDiv("si-boxes-container"),l=d.createDiv("si-topbox"),c=d.createButton("",o.mainLink,a.buttonAriaLabel);c.innerHTML+=d.siIcon,d.mainButton=c,l.appendChild(c),s.appendChild(l);var u,h,f=d.createDiv("si-bottom-boxes");return d.addBottomBoxContent(f,t,n,i),d.bottomBoxesElement=f,s.appendChild(f),d.dragContainer=d.createDraggableElement(),d.isDraggableElementAfterBoxes(o.position)?(r.appendChild(s),r.appendChild(d.dragContainer)):(r.appendChild(d.dragContainer),r.appendChild(s)),d.containerElement=r,d.boxesElement=s,u=e,h=d.mouseUpListener,u.addEventListener?u.addEventListener("mouseup",h):u.attachEvent("onmouseup",h),r},createStyleElement:function(){var e=t.createElement("style");return e.type="text/css",e.innerHTML=d.css,e},updateSmallBoxScreenPosition:function(e,t){if(d.containerElement){for(var n=d.containerElement.querySelectorAll("."+d.boxposition[e]),i=0;i<n.length;i++)n[i].className=n[i].className.replace(d.boxposition[e],d.boxposition[t]).replace(d.boxclass[e],d.boxclass[t]);d.isSouth(e)&&!d.isSouth(t)?(d.containerElement.style.width=d.containerElement.style.height,d.boxesElement.style.width=d.boxesElement.style.height,d.containerElement.style.height="",d.boxesElement.style.height=""):d.isSouth(t)&&!d.isSouth(e)&&(d.containerElement.style.height=d.containerElement.style.width,d.boxesElement.style.height=d.boxesElement.style.width,d.containerElement.style.width="",d.boxesElement.style.width=""),d.containerElement.className=d.containerElement.className.replace(d.boxposition[e],d.boxposition[t]).replace(d.boxclass[e],d.boxclass[t]),d.isEast(e)&&d.isWest(t)||d.isSouth(e)&&d.isWest(t)?(d.containerElement.removeChild(d.dragContainer),d.containerElement.appendChild(d.dragContainer)):(d.isEast(t)&&d.isWest(e)||d.isSouth(t)&&d.isWest(e))&&(d.containerElement.removeChild(d.dragContainer),d.containerElement.insertBefore(d.dragContainer,d.containerElement.firstChild)),d.iframeContainer&&d.iframeElement&&(d.iframeContainer.className=d.iframeContainer.className.replace(d.boxposition[e],d.boxposition[t]).replace(d.boxclass[e],d.boxclass[t]),d.iframeElement.className=d.iframeElement.className.replace(d.boxposition[e],d.boxposition[t]).replace(d.boxclass[e],d.boxclass[t]))}},updateLinks:function(e,t,n,i){if(t&&o.issuesLink!=t)if(d.issuesCircleContainer){var r=d.issuesCircleContainer.querySelector('button[data-link="'+o.issuesLink+'"]');r&&(r.setAttribute("data-link",t),o.issuesLink=t)}else o.issuesLink=t;if(e&&o.mainLink!=e){var s=d.containerElement.querySelector('button[data-link="'+o.mainLink+'"]');if(s&&(s.setAttribute("data-link",e),o.mainLink=e),!n&&o.isIframeOpen&&d.iframeElement){if(i&&p.extractParameterFromUrl(e,"url")==p.extractParameterFromUrl(o.mainLink,"url"))return;d.iframeElement.setAttribute("aria-label",a.regionName),d.iframeElement.src=e}}},clear:function(){o.isShown&&(d.mainButton.className=d.mainButton.className+" cleared",u(d.mainButton,d.openDataLinkUrl)),d.clearBottomBoxes(),o.isIframeOpen&&d.closeIframe()},clearBottomBoxes:function(){o.isShown&&(d.bottomBoxesElement.className=d.bottomBoxesElement.className+" cleared",d.dragElement.className=d.dragElement.className+" cleared")},unclearBottomBoxes:function(){o.isShown&&(d.bottomBoxesElement.className=d.bottomBoxesElement.className.replace("cleared",""),d.dragElement.className=d.dragElement.className.replace("cleared",""))},unclear:function(){o.isShown&&(d.bottomBoxesElement&&(d.bottomBoxesElement.className=d.bottomBoxesElement.className.replace("cleared","")),d.dragElement.className=d.dragElement.className.replace("cleared",""),d.mainButton.className=d.mainButton.className.replace("cleared",""),s(d.mainButton,d.openDataLinkUrl))},applyRecheckingView:function(){d.recheckCircle=d.createBadge("si-recheck",d.recheckIcon,a.recheck,""),d.issuesCircleContainer.replaceChild(d.recheckCircle,d.issuesCircle)},updateIssues:function(e,t,n){var i=d.createBadge("si-issues",t,n,o.issuesLink);e?d.issuesCircleContainer.replaceChild(i,d.recheckCircle):d.issuesCircleContainer.replaceChild(i,d.issuesCircle),d.issuesCircle=i},authChange:function(e,t,n){for(p.log("Auth change {0}",e?"from not authed to authed":"from authed to not authed");d.bottomBoxesElement.firstChild;)d.bottomBoxesElement.removeChild(d.bottomBoxesElement.firstChild);d.addBottomBoxContent(d.bottomBoxesElement,e,t,n)},contextChange:function(e,t,n){for(p.log("Context change happening - going from {0}",n?"from site to page specific":"from page specific to site");d.bottomBoxesElement.firstChild;)d.bottomBoxesElement.removeChild(d.bottomBoxesElement.firstChild);d.addBottomBoxContent(d.bottomBoxesElement,e,t,n),n?d.unclearBottomBoxes():d.clearBottomBoxes()},closeIframe:function(){d.containerElement.style.display="",d.iframeContainer&&(d.iframeContainer.style.display="none"),o.isIframeOpen=!1},popupNewWindowCenter:function(t,n,i,o){var a=e.screenLeft!=r?e.screenLeft:screen.left,s=e.screenTop!=r?e.screenTop:screen.top,l=(e.innerWidth?e.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-i/2+a,c=(e.innerHeight?e.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-o/2+s;return window.open(t,n,"scrollbars=no,toolbar=no,width="+i+",height="+o+",top="+c+",left="+l)},openDataLinkUrl:function(){var e=this.getAttribute("data-link");p.empty(e)||d.openSiteimproveLink(e)},openSiteimproveLink:function(e){if(o.auth){if(d.containerElement.style.display="none",o.isIframeOpen=!0,d.iframeContainer&&d.iframeElement)return(e!=d.iframeElement.src||d.iframeElement.dirty)&&(d.iframeElement.dirty=!1,d.iframeElement.setAttribute("aria-label",a.regionName),d.iframeElement.src=e,o.isPfgListening=!1),void(d.iframeContainer.style.display="");d.iframeContainer=d.createDiv("si-iframe-container"),d.iframeElement=t.createElement("iframe"),d.iframeElement.setAttribute("aria-label",a.regionName),d.iframeElement.className+="si-iframe-element "+d.boxclass[o.position]+" "+d.boxposition[o.position],(e!=d.iframeElement.src||d.iframeElement.dirty)&&(o.isPfgListening=!1,d.iframeElement.src=e),d.iframeContainer.appendChild(d.iframeElement),t.getElementsByTagName("body")[0].appendChild(d.iframeContainer)}else{var n=d.popupNewWindowCenter(e,"Siteimprove Login",580,750);p.handleLoginWindow(n,o.isFirstPage)}},decodePosition:function(e){switch(e){case"West":return"w";case"South":return"s";case"WestSouth":return"ws";case"EastSouth":return"es";default:return"e"}},showSmallBox:function(e,n,i){if(!o.isShown){p.log("Creating elements");var r=d.createSmallBox(e,n,i);if(p.empty(r))p.log("Not showing small box - something went wrong");else{p.log("Showing small box");var a=d.createStyleElement(),l=p.getCookieValue(o.cookie.name);if(l){var u=l+"px",h=l-d.dragSize;d.isSouth(o.position)?(d.containerElement.style.height=u,d.boxesElement.style.height=h>=0?h+"px":"0px"):(d.containerElement.style.width=u,d.boxesElement.style.width=h>=0?h+"px":"0px"),l<=10&&(c(d.dragElement,d.dragSmallBox),d.dragElement.style.cursor="pointer",s(d.dragElement,d.maximizeSmallBox),o.minimized=!0)}t.getElementsByTagName("head")[0].appendChild(a),t.getElementsByTagName("body")[0].appendChild(r),o.isShown=!0}}}};const h={baseUrl:"https://my2.siteimprove.com",baseUrlUS:"https://my2.us.siteimprove.com",baseDomain:"siteimprove.com",reqPath:"/overlay/cms/cmspage?url=",recheckPath:"/overlay/cms/recheckcmspage?url=",recrawlPath:"/overlay/cms/recrawl?url=",siteReqPath:"/overlay/cms/cmssite?url=",closePath:"/overlay/cms/close"};var f=!1,p={empty:function(e){return e==r||null==e||""==e},baseUrl:()=>f?h.baseUrlUS:h.baseUrl,reqUrl:()=>p.baseUrl()+h.reqPath,recheckUrl:()=>p.baseUrl()+h.recheckPath,recrawlUrl:()=>p.baseUrl()+h.recrawlPath,closeUrl:()=>p.baseUrl()+h.closePath,siteReqUrl:()=>p.baseUrl()+h.siteReqPath,pollInterval:1e4,inActivityThreshold:3e5,history:{domain:[],recheck:[],page:[],contentcheck:[],url:"",type:""},rechecked:[],updateUrlHistory:function(e,t){p.history[e].push(t),p.history.url=t,p.history.type=e},extractParameterFromUrl:function(e,t){t=(t=t.toLowerCase()).replace(/[\[\]]/g,"\\$&"),e=e.toLowerCase();var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},fmt:function(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n=e.slice(1),i=0;i<n.length;i++){var r=new RegExp("\\{"+i+"\\}","gm");t=t.replace(r,n[i])}return t},getData:function(e,t){var n=e+"&token="+o.token,i=new XMLHttpRequest;return i.onreadystatechange=function(){4==i.readyState&&t(i.responseText)},i.withCredentials=!0,i.open("GET",n),i.setRequestHeader("Accept","application/json"),p.log("Requesting url {0}",n),i.send(),i},handleLoginWindow:function(e,t){o.stopPoll=!1,setTimeout((function(){e.closed?o.requestUrl&&p.getData(o.requestUrl,(function(e){o.isPageSpecific=t,p.updateSmallBoxData(o.requestUrl,e,!0,t,(function(){if(o.auth){var e="";"recheck"==p.history.type&&(e=p.history.url,p.orderRecheck(p.history.url,!0));for(var t=0;t<p.history.recheck.length;t++){var n=p.history.recheck[t];p.empty(n)||n==e||-1!=p.rechecked.indexOf(n)||(p.log("Rechecking a url from state - {0}",n),p.orderRecheck(n,!1))}p.history.recheck=[]}}))})):p.handleLoginWindow(e,t)}),100)},orderRecheck:function(e,t,n){var i=p.recheckUrl()+e;o.areRequestsAllowed&&p.getData(i,(function(i){p.log("Received data when ordering recheck - {0}",i);try{var r=JSON.parse(i);if(!r.success)return void p.log("Recheck could not be ordered");if(p.rechecked.push(e),t){d.unclear(),o.isPageSpecific||(d.contextChange(!0,r.issues,!0),o.isPageSpecific=!0),p.log("Recheck successfully ordered"),o.isRechecking||(o.isRechecking=!0,d.applyRecheckingView()),o.currentInputtedUrl=e,p.pollInterval=2e3;var a=p.reqUrl()+e;o.requestUrl=a,p.poll(a),r.mainUrl&&r.issuesUrl&&d.updateLinks(r.mainUrl,r.issuesUrl,!1,!1)}n&&n()}catch(e){p.log("Caught error when ordering recheck. Probably couldnt parse the returned which was not json")}}))},poll:function(e){setTimeout((function(){o.requestUrl!==e||p.isPollAboveThreshold()||o.stopPoll||(o.minimized||(o.isIframeOpen||o.auth)&&(o.pollRequest&&o.pollRequest.abort(),o.pollRequest=p.getData(e,(function(t){p.updateSmallBoxData(e,t,!1,!0)}))),p.poll(e))}),p.pollInterval)},isPollAboveThreshold:function(){return new Date-o.pollStartTime>p.inActivityThreshold&&!o.isRechecking},updatePage:function(e,t,n,i){if(o.isShown){d.unclearBottomBoxes(),n&&p.poll(e);var r=d.decodePosition(t.position);if(o.position!=r&&(d.updateSmallBoxScreenPosition(o.position,r),o.position=r,p.log("Updating position")),o.auth?(t.mainUrl||t.issuesUrl)&&d.updateLinks(t.mainUrl,t.issuesUrl,!1,t.recheck&&!o.isRechecking):(d.updateLinks(t.mainUrl,t.issuesUrl,!0,t.recheck&&!o.isRechecking),o.auth=!0,d.authChange(!0,t.issues,!0)),t.recheck)return o.isPageSpecific||(d.contextChange(!0,t.issues,!0),o.isPageSpecific=!0),o.isRechecking||(o.isRechecking=!0,d.applyRecheckingView()),void(i&&i());if(o.isRechecking)return o.issues=t.issues,o.isRechecking=!1,p.pollInterval=1e4,d.updateIssues(!0,o.issues,a.issues),void(i&&i());if("None"!=t.error){o.errorReason=t.error.toLowerCase();var s="noaccess"==o.errorReason?a.accessError:a.notFound;return o.isPageSpecific||(o.issuesLink=e+"&token="+o.token,d.contextChange(!0,0,!0),o.isPageSpecific=!0),d.updateIssues(!1,"!",s),void(i&&i())}if(n||t.issues!=o.issues){if(o.issues=t.issues,!o.isPageSpecific)return d.contextChange(!0,o.issues,!0),o.isPageSpecific=!0,void(i&&i());d.updateIssues(!1,o.issues,a.issues)}}else o.issuesLink=t.issuesUrl||o.issuesLink,o.isRechecking=t.recheck,o.issues=t.issues,"None"!=t.error&&(p.log("Error finding page in Siteimprove"),o.error=!0,o.errorReason=t.error.toLowerCase()),d.showSmallBox(o.auth,o.issues,!0),d.unclearBottomBoxes(),o.isPageSpecific=!0,n&&p.poll(e);i&&i()},updateSite:function(e,t){if(o.isShown){d.clearBottomBoxes(),o.isPageSpecific&&d.contextChange(!0,0,!1),o.isPageSpecific=!1,o.isRechecking=!1;var n=d.decodePosition(e.position);o.position!=n&&(d.updateSmallBoxScreenPosition(o.position,n),o.position=n,p.log("Updating position")),o.auth?e.mainUrl&&d.updateLinks(e.mainUrl,o.issuesLink,!1,!1):(d.updateLinks(e.mainUrl,o.issuesLink,!0,!1),o.auth=!0,d.authChange(!0,e.issues,!1))}else"None"!=e.error&&(p.log("Error finding site in Siteimprove"),o.error=!0,o.errorReason=e.error.toLowerCase()),d.showSmallBox(o.auth,o.issues,!1),d.clearBottomBoxes(),o.isPageSpecific=!1;t&&t()},updateSmallBoxData:function(e,t,n,i,r){if(e==o.requestUrl){if(p.empty(t))return o.isShown||(o.position="e",o.loginLink=p.closeUrl(),o.mainLink=p.closeUrl(),d.showSmallBox(o.auth,0,i)),void(r&&r());var s;p.log("Received data - {0}",t);try{s=JSON.parse(t)}catch(e){return p.log("Could not parse data as json"),o.isShown||(p.log("Showing login first time"),o.loginLink=p.closeUrl(),o.mainLink=p.closeUrl(),o.position="e",d.showSmallBox(o.auth,0,i)),d.updateLinks(p.closeUrl(),p.closeUrl(),!0,!1),o.loginLink=p.closeUrl(),o.mainLink=p.closeUrl(),o.isShown&&o.auth&&d.authChange(!1,o.issues,i),o.auth=!1,o.isIframeOpen&&d.closeIframe(),r&&r(),o.areRequestsAllowed=!1,void d.unclearBottomBoxes()}if(!s.authed)return o.isShown||(o.loginLink=p.closeUrl(),o.mainLink=p.closeUrl(),o.position="e",d.showSmallBox(o.auth,0,!0)),d.updateLinks(p.closeUrl(),p.closeUrl(),!0,!1),o.loginLink=p.closeUrl(),o.mainLink=p.closeUrl(),o.isShown&&o.auth&&d.authChange(!1,o.issues),o.auth=!1,r&&r(),void(o.areRequestsAllowed=!1);if(o.isShown||(a.update(s.issuesText,s.notFoundText,s.recheckText,s.buttonAriaLabel),o.position=d.decodePosition(s.position),o.mainLink=s.mainUrl,o.auth=!0),o.areRequestsAllowed=!0,"None"!=s.error){if(p.log("Error occured - {0}",s.error),o.errorReason=s.error.toLowerCase(),"noaccess"==o.errorReason){var l=e+"&token="+o.token;o.error=!0,o.isShown?d.updateLinks(l,l,!1,i):(o.mainLink=l,o.issuesLink=l)}}else o.error=!1,o.errorReason="";i?p.updatePage(e,s,n,r):p.updateSite(s,r)}else r&&r()},setCookie:function(e,n,i,r,o,a){if(void 0!==n){o=o||"/",null===n&&(n="",i=-1);var s,l="";i&&("number"==typeof i||i.toUTCString)&&("number"==typeof i?(s=new Date).setTime(s.getTime()+24*i*60*60*1e3):s=i,l="; expires="+s.toUTCString());var c=o?"; path="+o:"; path=/",u=r?"; domain="+r:"",d=a?"; secure":"";t.cookie=[e,"=",encodeURIComponent(n),l,c,u,d].join("")}},getCookieValue:function(e){var n=null;if(t.cookie&&""!==t.cookie)for(var i=t.cookie.split(";"),r=0;r<i.length;r++){var o=i[r].replace(/^\s+|\s+$/g,"");if(o.substring(0,e.length+1)==e+"="){n=decodeURIComponent(o.substring(e.length+1));break}}return n},_logqueue:[],_logshown:!1,log:function(){this._logqueue.length>500&&this._logqueue.shift(),this._logqueue.push({time:Date.now(),type:"msg",msg:Array.prototype.slice.call(arguments)}),this._logshown&&this.showlog()},warn:function(){this._logqueue.length>500&&this._logqueue.shift(),this._logqueue.push({time:Date.now(),type:"warn",msg:Array.prototype.slice.call(arguments)}),this._logshown&&this.showlog()},showlog:function(){p._logshown=!0;var e=t.getElementById("sidebugarea");e&&e.parentNode.removeChild(e);for(var n="",i=0;i<p._logqueue.length;i++){var r=p._logqueue[i];n+='<p style="padding:8px;margin:0;margin-bottom:8px;background:#'+("msg"==r.type?"FFF7C9":"ca0000;color:white")+';">['+new Date(r.time).toLocaleTimeString([],{hour12:!1})+"] "+("warn"==r.type?"<b>Warning:</b> ":"")+decodeURIComponent(new String(p.fmt.apply(this,r.msg)).replace(/(&[a-z_]+=|\?)/g,"<br />&nbsp;&nbsp;&nbsp;$1"))+"</p>"}var a,s,l="left";d.isWest(o.position)&&(l="right"),(s=t.createElement("a")).href="#",s.innerHTML=" Close",s.style.cssText="display:block;float:right;color:black;text-decoration:none;",s.onclick=function(e){return a.parentNode.removeChild(a),p._logshown=!1,!1},(a=t.createElement("div")).style.cssText="position:fixed;top:10px;"+l+":10px;background:white;border:1px #ccc solid;width:500px;padding:20px;padding-bottom:10px;font-size:12px;font-family:Arial;line-height:135%;max-height:90%;overflow-y:auto;text-align:left;z-index:999999",a.innerHTML=n,a.id="sidebugarea",a.appendChild(s),t.body.appendChild(a),s.scrollIntoView({block:"end"})}},A=function(e,t,n){if(o.currentInputtedUrl!==e||!o.isPageSpecific){p.log("Got url - {0}",e),p.updateUrlHistory("page",e),o.token=t,o.currentInputtedUrl=e;var i=p.reqUrl()+e+"&encodedUrl="+encodeURIComponent(e);o.requestUrl=i,o.isFirstPage=!0,o.areRequestsAllowed&&p.getData(i,(function(t){p.updateSmallBoxData(i,t,!p.empty(e),!0),o.pollStartTime=new Date,p.empty(e)?d.clear():d.unclear(),n&&n()}))}},g=function(e,n,i,r){o.token=i,o.contentCheckCallback=r,o.publishedPageUrl=n,o.timeout&&clearTimeout(o.timeout);var s=function(){if(o.isPfgListening){if(d.iframeElement){var t=d.iframeElement.contentWindow;t&&t.postMessage&&t.postMessage(e,p.baseUrl())}}else o.timeout=setTimeout(s,1e3)},l=function(){if(o.auth)d.iframeContainer=d.createDiv("si-iframe-container"),d.iframeElement=t.createElement("iframe"),d.iframeElement.setAttribute("aria-label",a.regionName),d.iframeElement.className+="si-iframe-element "+d.boxclass[o.position]+" "+d.boxposition[o.position],o.isPfgListening=!1,d.iframeElement.src=d.mainButton.getAttribute("data-link"),d.iframeContainer.style.display="none",d.iframeContainer.appendChild(d.iframeElement),t.getElementsByTagName("body")[0].appendChild(d.iframeContainer),s();else{var e=d.mainButton.getAttribute("data-link"),n=d.popupNewWindowCenter(e,"Siteimprove Login",580,750);p.handleLoginWindow(n,o.isFirstPage)}};o.areRequestsAllowed&&(d.iframeContainer&&d.iframeElement?s():o.currentInputtedUrl===n&&o.isPageSpecific?l():A(n,i,l))},m={clear:function(e){d.clear(),o.requestUrl="",e&&e()},domain:function(e,t,n){if(o.currentInputtedUrl!==e||o.isPageSpecific){p.log("Got domain - {0}",e),p.updateUrlHistory("domain",e),o.token=t,o.currentInputtedUrl=e;var i=p.siteReqUrl()+e+"&encodedUrl="+encodeURIComponent(e);o.requestUrl=i,o.isFirstPage=!1,o.areRequestsAllowed&&p.getData(i,(function(e){d.unclear(),p.updateSmallBoxData(i,e,!1,!1),n&&n()}))}},input:A,recheck:function(e,t,n){p.empty(e)||(p.log("CMS ordered recheck of url - {0}",e),o.token=t,p.updateUrlHistory("recheck",e),p.orderRecheck(e+"&encodedUrl="+encodeURIComponent(e),!0,n))},recrawl:function(e,t,n){if(!p.empty(e)){p.log("CMS ordered a recrawl of entire site - {0}",e);var i=p.recrawlUrl()+e+"&encodedUrl="+encodeURIComponent(e);o.token=t,o.areRequestsAllowed&&p.getData(i,(function(e){try{JSON.parse(e).success?(p.log("Recrawl successfully ordered"),n&&n()):p.log("Recrawl could not be ordered - perhaps due to rights issues. Only AccountOwners are allowed to do this")}catch(e){p.log("Caught error when ordering recrawl. Probably couldnt parse the returned which was not json")}}))}},showlog:p.showlog,contentcheck:function(e,t,n,i){var r="si:contentcheck:"+JSON.stringify({content:e});g(r,t,n,i)},"contentcheck-zip":function(e,t,n,i){g({si:"contentcheck-zip",data:{content:e}},t,n,i)},"contentcheck-flat-dom":function(e,t,i,r){var o=performance.now(),a=n(e),s=performance.now(),l=a,c=e.documentElement,u=c.clientWidth,d=c.clientHeight,h={si:"contentcheck-flat-dom",data:{dom:l.dom,layout:l.layout,viewportWidth:u,viewportHeight:d,captureTimeMillis:s-o}};g(h,t,i,r)},onHighlight:function(e){o.highlightCallback=e},setConfig:function(e){if(e.baseUrl&&(e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol})(e.baseUrl)){const t=(e=>{let t;try{t=new URL(e.trim())}catch(e){return""}return t.toString().replace(/\/$/,"")})(e.baseUrl);h.baseUrl=t,p.log("The base URL has been updated to "+t)}}};i.push=function(e){e[0]!==r&&m[e[0]].apply(i,e.slice(1))};for(var v=0;v<i.length;v++)i.push(i[v]);var y,b,w=(y=function(e){var t=e.ContentId;p.log("Content check successfully ordered: "+t),p.log("Got content ID {0} for url - {1}",t,o.publishedPageUrl),p.updateUrlHistory("contentcheck",o.publishedPageUrl),o.currentInputtedUrl=o.publishedPageUrl;var n=p.reqUrl()+o.publishedPageUrl+"&IsContentCheck=True&ContentCheckId="+t;o.requestUrl=n,o.isFirstPage=!0,o.contentCheckCallback&&o.contentCheckCallback(t),p.getData(n,(function(e){p.updateSmallBoxData(n,e,!0,!0),d.openSiteimproveLink(d.mainButton.getAttribute("data-link"))}))},100,function(){var e=this,t=arguments;clearTimeout(b),b=setTimeout((function(){b=null,y.apply(e,t)}),100)});e.addEventListener("message",(function(e){var t=function(e,t){return"string"==typeof e&&0===e.indexOf(t)?e.substring(t.length):null},n=e.origin,i=p.baseUrl();if(n&&i&&n.endsWith(h.baseDomain)){if("si:logging_out"==e.data)return p.log("Logging out of siteimprove"),p.updateSmallBoxData(o.requestUrl,"<>",!1,o.isPageSpecific),o.stopPoll=!0,void d.closeIframe();if("si:close_bigbox"==e.data)return p.log("Closing big box"),void d.closeIframe();if("si:logged_out"==e.data){p.log("Logged out of siteimprove"),o.isPfgListening=!1,d.iframeElement.dirty=!0;var r=e.source;return void setTimeout((function(){r.close()}),500)}if("si:registered"==e.data)return o.isPfgListening=!0,void(n.startsWith(h.baseUrlUS)&&(f=!0));if(o.highlightCallback){var a=t(e.data,"si:highlight:");if(null!==a&&""!==a){try{var s=JSON.parse(a);if("object"==typeof s)o.highlightCallback(s);else{var l={highlights:[{selector:s,offset:null}]};o.highlightCallback(l)}}catch(e){p.log("Caught error ",e," during highlighting ",a)}return}}var c=t(e.data,"si:pos_update:");if(c){p.log("Changing position");var u=d.decodePosition(c);return void(o.position!=u&&(d.updateSmallBoxScreenPosition(o.position,u),o.position=u,p.log("Updated position")))}var A=t(e.data,"si:contentcheck_confirmation:");if(A){try{var g=JSON.parse(A);g.Success||p.log("Content check could not be ordered! "+g.Message),w(g)}catch(e){p.log("Caught error ",e," when ordering content check: ",A)}return}}})),i.loaded=!0}(window,document,t._si)}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@siteimprove/flat-object-model-capture/dist":1}]},{},[4])},6293:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}(this,n)}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}},f(e,t,n||e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function v(e,t,n){return"*"===e||(e.length>0?-1!==e.indexOf(t):!n)}function y(e,t,n){var i,r=e=e||{},o=t=t||{};if(n)for(i=0;i<n.length;i++)r[n[i]]=o[n[i]];else for(i in o)r[i]=o[i];return e}function b(e){return"[object Number]"===Object.prototype.toString.call(e)}function w(e){return"string"==typeof e}function x(e){return"boolean"==typeof e}function C(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function _(e){return"[object Date]"===Object.prototype.toString.call(e)}function k(e){return"[object Function]"===Object.prototype.toString.call(e)}function S(e){return k(e)&&null!=e.name&&e.name.length>0}function E(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function T(e){if(w(e))return""+e;if(x(e))return!!e;if(_(e))return new Date(e.getTime());if(k(e))return e;if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(T(e[n]));return t}if(C(e)){var i={};for(var r in e)i[r]=T(e[r]);return i}return e}function B(e){var t={};for(var n in e)null!=e[n]&&(t[n]=e[n]);return t}function I(e,t,n,i){var r,o,a={},s={};for(n=n||[],i=i||[],o=0;o<n.length;o++)a[n[o]]=!0;for(o=0;o<i.length;o++)s[i[o]]=!0;var l=T(e);for(o in t)if(null==l[o]||s[o])l[o]=t[o];else if(a[o])(r=[]).push.apply(r,Array.isArray(l[o])?l[o]:[l[o]]),r.push(t[o]),l[o]=r;else if(w(t[o])||x(t[o])||k(t[o])||b(t[o]))l[o]=t[o];else if(Array.isArray(t[o]))r=[],Array.isArray(l[o])&&r.push.apply(r,l[o]),r.push.apply(r,t[o]),l[o]=r;else if(C(t[o]))for(var c in C(l[o])||(l[o]={}),t[o])l[o][c]=t[o][c];return l}function D(e,t){if(null!=e&&null==t)return!1;if((null==e||w(e)||x(e)||b(e))&&e!==t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(!F(e,t))return!1}else if(C(e)){if(!C(e))return!1;if(!M(e,t))return!1}return!0}function F(e,t){if(null==e&&null==t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!D(e[n],t[n]))return!1;return!0}function M(e,t){if(null==e&&null==t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;for(var n in e)if(!D(e[n],t[n]))return!1;return!0}function L(e,t,n){if(null!=e){var i=e;return t.replace(/([^\.])+/g,(function(e,t,r,o){var a=e.match(/([^\[0-9]+){1}(\[)([0-9+])/),s=function(){return i[a[1]]||(i[a[1]]=[],i[a[1]])};if(r+e.length>=o.length)a?s()[a[3]]=n:i[e]=n;else if(a){var l=s();i=l[a[3]]||(l[a[3]]={},l[a[3]])}else i=i[e]||(i[e]={},i[e]);return""})),e}}function P(e,t,n){for(var i=0;i<n.length;i++){var r=n[i][0][n[i][1]].apply(n[i][0],n[i][2]);if(r===t)return r}return e}function R(e,t,n,i){return function e(r){if(null!=r){if(w(r))return function(e){var n=e.match(/(\${.*?})/g);if(null!=n)for(var i=0;i<n.length;i++){var r=t[n[i].substring(2,n[i].length-1)]||"";null!=r&&(e=e.replace(n[i],r))}if(null!=(n=e.match(/({{.*?}})/g)))for(var o=0;o<n.length;o++){var a=t[n[o].substring(2,n[o].length-2)]||"";null!=a&&(e=e.replace(n[o],a))}return e}(r);if(!k(r)||i||null!=n&&0!==(r.name||"").indexOf(n)){if(Array.isArray(r)){for(var o=[],a=0;a<r.length;a++)o.push(e(r[a]));return o}if(C(r)){var s={};for(var l in r)s[l]=e(r[l]);return s}return r}return r(t)}}(e)}function O(e,t){if(!e)return null;for(var n=0;n<e.length;n++)t(e[n])}function N(e,t){if(e)for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function U(e,t){var n=[];if(e)for(var i=0;i<e.length;i++)t(e[i])&&n.push(i);return n}function H(e,t){var n=N(e,t);return-1===n?null:e[n]}function $(e,t){return U(e,t).map((function(t){return e[t]}))}function Q(e,t){var n=null;return e.forEach((function(e){t(e)&&(n=e)})),n}function W(e){var t=[];return e.forEach((function(e){t.push(e)})),t}function V(e,t){var n=N(e,t);return n>-1&&e.splice(n,1),-1!==n}function j(e){if(null!=Array.fromArray)return Array.from(e);var t=[];return Array.prototype.push.apply(t,e),t}function z(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),-1!==n}function K(e,t,n){-1===N(e,n)&&e.push(t)}function G(e,t,n,i){var r=e[t];return null==r&&(r=[],e[t]=r),r[i?"unshift":"push"](n),r}function q(e,t,n,i){var r=e.get(t);return null==r&&(r=[],e.set(t,r)),r[i?"unshift":"push"](n),r}function Y(e,t,n){return-1===e.indexOf(t)&&(n?e.unshift(t):e.push(t),!0)}n.r(t),n.d(t,{ABSOLUTE:function(){return ze},ADD_CLASS_ACTION:function(){return _a},ATTRIBUTE_CONTAINER:function(){return fn},ATTRIBUTE_GROUP:function(){return qe},ATTRIBUTE_GROUP_CONTENT:function(){return pn},ATTRIBUTE_JTK_ENABLED:function(){return An},ATTRIBUTE_JTK_SCOPE:function(){return gn},ATTRIBUTE_MANAGED:function(){return Ye},ATTRIBUTE_NOT_DRAGGABLE:function(){return Xe},ATTRIBUTE_SCOPE:function(){return Ze},ATTRIBUTE_SCOPE_PREFIX:function(){return et},ATTRIBUTE_TABINDEX:function(){return Je},ATTR_SCROLLABLE_LIST:function(){return cl},AbstractBezierConnector:function(){return gl},AbstractConnector:function(){return Ra},AbstractSegment:function(){return ki},AnchorLocations:function(){return hn},ArcSegment:function(){return Al},ArrowOverlay:function(){return Oa},BLOCK:function(){return Qe},BOTTOM:function(){return wo},BezierConnector:function(){return Ql},BezierSegment:function(){return $l},BlankEndpoint:function(){return il},BlankEndpointHandler:function(){return ol},BrowserJsPlumbInstance:function(){return el},BrowserUITestSupport:function(){return Jl},CHECK_CONDITION:function(){return tt},CHECK_DROP_ALLOWED:function(){return nt},CLASS_CONNECTED:function(){return ot},CLASS_CONNECTOR:function(){return it},CLASS_CONNECTOR_OUTLINE:function(){return rt},CLASS_DELEGATED_DRAGGABLE:function(){return io},CLASS_DRAGGABLE:function(){return ro},CLASS_DRAGGED:function(){return lo},CLASS_DRAG_ACTIVE:function(){return so},CLASS_DRAG_CONTAINER:function(){return oo},CLASS_DRAG_HOVER:function(){return co},CLASS_ENDPOINT:function(){return at},CLASS_ENDPOINT_ANCHOR_PREFIX:function(){return ht},CLASS_ENDPOINT_CONNECTED:function(){return st},CLASS_ENDPOINT_DROP_ALLOWED:function(){return ut},CLASS_ENDPOINT_DROP_FORBIDDEN:function(){return dt},CLASS_ENDPOINT_FLOATING:function(){return ct},CLASS_ENDPOINT_FULL:function(){return lt},CLASS_GHOST_PROXY:function(){return ao},CLASS_GROUP_COLLAPSED:function(){return ft},CLASS_GROUP_EXPANDED:function(){return pt},CLASS_OVERLAY:function(){return At},CONNECTION:function(){return yn},Collicat:function(){return eo},Component:function(){return Sa},Connection:function(){return Fa},ConnectionDragSelector:function(){return Go},ConnectionSelection:function(){return ys},Connectors:function(){return Os},ContainmentType:function(){return Wr},CustomOverlay:function(){return Wa},DEFAULT:function(){return Ei},DEFAULT_KEY_ALLOW_NESTED_GROUPS:function(){return ja},DEFAULT_KEY_ANCHOR:function(){return za},DEFAULT_KEY_ANCHORS:function(){return Ka},DEFAULT_KEY_CONNECTIONS_DETACHABLE:function(){return qa},DEFAULT_KEY_CONNECTION_OVERLAYS:function(){return Ga},DEFAULT_KEY_CONNECTOR:function(){return Ya},DEFAULT_KEY_CONTAINER:function(){return Xa},DEFAULT_KEY_ENDPOINT:function(){return Ja},DEFAULT_KEY_ENDPOINTS:function(){return es},DEFAULT_KEY_ENDPOINT_HOVER_STYLE:function(){return is},DEFAULT_KEY_ENDPOINT_HOVER_STYLES:function(){return rs},DEFAULT_KEY_ENDPOINT_OVERLAYS:function(){return Za},DEFAULT_KEY_ENDPOINT_STYLE:function(){return ts},DEFAULT_KEY_ENDPOINT_STYLES:function(){return ns},DEFAULT_KEY_HOVER_CLASS:function(){return os},DEFAULT_KEY_HOVER_PAINT_STYLE:function(){return as},DEFAULT_KEY_LIST_STYLE:function(){return ss},DEFAULT_KEY_MAX_CONNECTIONS:function(){return ls},DEFAULT_KEY_PAINT_STYLE:function(){return cs},DEFAULT_KEY_REATTACH_CONNECTIONS:function(){return us},DEFAULT_KEY_SCOPE:function(){return ds},DEFAULT_LIST_OPTIONS:function(){return ll},DiamondOverlay:function(){return Ua},DotEndpoint:function(){return hs},DotEndpointHandler:function(){return fs},Drag:function(){return Jr},DragManager:function(){return uo},ELEMENT:function(){return vn},ELEMENT_DIV:function(){return bn},EMPTY_BOUNDS:function(){return xi},ENDPOINT:function(){return mn},ERROR_SOURCE_DOES_NOT_EXIST:function(){return jt},ERROR_SOURCE_ENDPOINT_FULL:function(){return Wt},ERROR_TARGET_DOES_NOT_EXIST:function(){return zt},ERROR_TARGET_ENDPOINT_FULL:function(){return Vt},EVENT_ANCHOR_CHANGED:function(){return gt},EVENT_BEFORE_START:function(){return Ir},EVENT_CLICK:function(){return wn},EVENT_CONNECTION:function(){return mt},EVENT_CONNECTION_ABORT:function(){return $n},EVENT_CONNECTION_CLICK:function(){return si},EVENT_CONNECTION_CONTEXTMENU:function(){return pi},EVENT_CONNECTION_DBL_CLICK:function(){return li},EVENT_CONNECTION_DBL_TAP:function(){return ci},EVENT_CONNECTION_DETACHED:function(){return yt},EVENT_CONNECTION_DRAG:function(){return Qn},EVENT_CONNECTION_MOUSEDOWN:function(){return fi},EVENT_CONNECTION_MOUSEOUT:function(){return ui},EVENT_CONNECTION_MOUSEOVER:function(){return di},EVENT_CONNECTION_MOUSEUP:function(){return hi},EVENT_CONNECTION_MOVED:function(){return bt},EVENT_CONNECTION_TAP:function(){return Ai},EVENT_CONTAINER_CHANGE:function(){return wt},EVENT_CONTEXTMENU:function(){return xn},EVENT_DBL_CLICK:function(){return Cn},EVENT_DBL_TAP:function(){return _n},EVENT_DRAG:function(){return Dr},EVENT_DRAG_MOVE:function(){return On},EVENT_DRAG_START:function(){return Un},EVENT_DRAG_STOP:function(){return Nn},EVENT_DROP:function(){return Fr},EVENT_ELEMENT_CLICK:function(){return Wn},EVENT_ELEMENT_CONTEXTMENU:function(){return Xn},EVENT_ELEMENT_DBL_CLICK:function(){return Vn},EVENT_ELEMENT_DBL_TAP:function(){return jn},EVENT_ELEMENT_MOUSE_DOWN:function(){return Yn},EVENT_ELEMENT_MOUSE_MOVE:function(){return Gn},EVENT_ELEMENT_MOUSE_OUT:function(){return zn},EVENT_ELEMENT_MOUSE_OVER:function(){return Kn},EVENT_ELEMENT_MOUSE_UP:function(){return qn},EVENT_ELEMENT_TAP:function(){return Jn},EVENT_ENDPOINT_CLICK:function(){return Zn},EVENT_ENDPOINT_DBL_CLICK:function(){return ei},EVENT_ENDPOINT_DBL_TAP:function(){return ti},EVENT_ENDPOINT_MOUSEDOWN:function(){return oi},EVENT_ENDPOINT_MOUSEOUT:function(){return ni},EVENT_ENDPOINT_MOUSEOVER:function(){return ii},EVENT_ENDPOINT_MOUSEUP:function(){return ri},EVENT_ENDPOINT_REPLACED:function(){return xt},EVENT_ENDPOINT_TAP:function(){return ai},EVENT_FOCUS:function(){return kn},EVENT_GROUP_ADDED:function(){return St},EVENT_GROUP_COLLAPSE:function(){return Et},EVENT_GROUP_EXPAND:function(){return Tt},EVENT_GROUP_MEMBER_ADDED:function(){return Bt},EVENT_GROUP_MEMBER_REMOVED:function(){return It},EVENT_GROUP_REMOVED:function(){return Dt},EVENT_INTERNAL_CONNECTION:function(){return vt},EVENT_INTERNAL_CONNECTION_DETACHED:function(){return _t},EVENT_INTERNAL_ENDPOINT_UNREGISTERED:function(){return Ct},EVENT_MANAGE_ELEMENT:function(){return kt},EVENT_MAX_CONNECTIONS:function(){return Ft},EVENT_MOUSEDOWN:function(){return Sn},EVENT_MOUSEENTER:function(){return En},EVENT_MOUSEEXIT:function(){return Tn},EVENT_MOUSEMOVE:function(){return Bn},EVENT_MOUSEOUT:function(){return Dn},EVENT_MOUSEOVER:function(){return Fn},EVENT_MOUSEUP:function(){return In},EVENT_NESTED_GROUP_ADDED:function(){return Mt},EVENT_NESTED_GROUP_REMOVED:function(){return Lt},EVENT_OUT:function(){return Lr},EVENT_OVER:function(){return Mr},EVENT_REVERT:function(){return Hn},EVENT_SCROLL:function(){return dl},EVENT_START:function(){return Br},EVENT_STOP:function(){return Pr},EVENT_TAP:function(){return Mn},EVENT_TOUCHEND:function(){return Pn},EVENT_TOUCHMOVE:function(){return Rn},EVENT_TOUCHSTART:function(){return Ln},EVENT_UNMANAGE_ELEMENT:function(){return Pt},EVENT_ZOOM:function(){return Rt},ElementDragHandler:function(){return ho},ElementTypes:function(){return oe},Endpoint:function(){return Ta},EndpointFactory:function(){return go},EndpointRepresentation:function(){return mo},EndpointSelection:function(){return vs},EventGenerator:function(){return aa},EventManager:function(){return rr},FALSE:function(){return Bi},FIXED:function(){return Ke},FlowchartConnector:function(){return Gl},GroupManager:function(){return gs},INTERCEPT_BEFORE_DETACH:function(){return Ht},INTERCEPT_BEFORE_DRAG:function(){return Nt},INTERCEPT_BEFORE_DROP:function(){return Ut},INTERCEPT_BEFORE_START_DETACH:function(){return $t},IS_DETACH_ALLOWED:function(){return Ot},JsPlumbInstance:function(){return Ws},JsPlumbList:function(){return fl},JsPlumbListManager:function(){return hl},KEY_CONNECTION_OVERLAYS:function(){return Kt},LEFT:function(){return yo},LabelOverlay:function(){return fa},LightweightFloatingAnchor:function(){return _o},LightweightRouter:function(){return Ps},NONE:function(){return We},OptimisticEventGenerator:function(){return sa},Overlay:function(){return ua},OverlayFactory:function(){return ha},PROPERTY_POSITION:function(){return gi},PerimeterAnchorShapes:function(){return dn},PlainArrowOverlay:function(){return $a},PositioningStrategies:function(){return Tr},REDROP_POLICY_ANY:function(){return Yo},REDROP_POLICY_ANY_SOURCE:function(){return Xo},REDROP_POLICY_ANY_SOURCE_OR_TARGET:function(){return Zo},REDROP_POLICY_ANY_TARGET:function(){return Jo},REDROP_POLICY_STRICT:function(){return qo},REMOVE_CLASS_ACTION:function(){return ka},RIGHT:function(){return bo},RectangleEndpoint:function(){return tl},RectangleEndpointHandler:function(){return nl},SELECTOR_CONNECTOR:function(){return mi},SELECTOR_ENDPOINT:function(){return vi},SELECTOR_GROUP:function(){return yi},SELECTOR_GROUP_CONTAINER:function(){return bi},SELECTOR_MANAGED_ELEMENT:function(){return Qt},SELECTOR_OVERLAY:function(){return wi},SELECTOR_SCROLLABLE_LIST:function(){return ul},SOURCE:function(){return He},SOURCE_INDEX:function(){return Ve},STATIC:function(){return Ge},StateMachineConnector:function(){return Wl},StraightConnector:function(){return Us},StraightSegment:function(){return Ns},SupportedEdge:function(){return rl},TARGET:function(){return $e},TARGET_INDEX:function(){return je},TOP:function(){return vo},TRUE:function(){return Ti},TWO_PI:function(){return cr},UIGroup:function(){return As},UINode:function(){return ps},UNDEFINED:function(){return Si},Viewport:function(){return Es},WILDCARD:function(){return Ii},X_AXIS_FACES:function(){return xo},Y_AXIS_FACES:function(){return Co},_createPerimeterAnchor:function(){return Ko},_removeTypeCssHelper:function(){return xa},_updateHoverStyle:function(){return Ca},add:function(){return ur},addClass:function(){return xe},addToDictionary:function(){return G},addToList:function(){return q},addWithFunction:function(){return K},arraysEqual:function(){return F},att:function(){return Ue},bezierLineIntersection:function(){return Rl},boundingBoxIntersection:function(){return Nl},boxIntersection:function(){return Ol},classList:function(){return Ne},clone:function(){return T},cls:function(){return Oe},compoundEvent:function(){return un},computeBezierLength:function(){return kl},consume:function(){return pe},convertToFullOverlaySpec:function(){return ca},createElement:function(){return Se},createElementNS:function(){return Ee},createFloatingAnchor:function(){return Uo},createTestSupportInstance:function(){return Zl},createTestSupportInstanceQUnit:function(){return ec},dist:function(){return Tl},distanceFromCurve:function(){return bl},each:function(){return ie},encloses:function(){return xr},extend:function(){return y},fastTrim:function(){return ne},filterList:function(){return v},filterNull:function(){return B},findAllWithFunction:function(){return U},findParent:function(){return Ae},findWithFunction:function(){return N},fixPrecision:function(){return yr},forEach:function(){return O},fromArray:function(){return j},functionChain:function(){return P},getAllWithFunction:function(){return $},getClass:function(){return we},getDefaultFace:function(){return To},getElementPosition:function(){return Fe},getElementSize:function(){return Me},getElementType:function(){return Le},getEventSource:function(){return ge},getFromSetWithFunction:function(){return Q},getPageLocation:function(){return zi},getPositionOnElement:function(){return zs},getTouch:function(){return Wi},getWithFunction:function(){return H},getsert:function(){return ue},gradient:function(){return hr},gradientAtPoint:function(){return Ml},gradientAtPointAlongPathFrom:function(){return Ll},groupDragConstrain:function(){return Zs},hasClass:function(){return Ce},insertSorted:function(){return he},intersects:function(){return mr},isArrayLike:function(){return be},isArrowOverlay:function(){return Na},isAssignableFrom:function(){return de},isBoolean:function(){return x},isContinuous:function(){return Ds},isCustomOverlay:function(){return Va},isDate:function(){return _},isDiamondOverlay:function(){return Ha},isDynamic:function(){return Ms},isEdgeSupported:function(){return Io},isEmpty:function(){return E},isFloating:function(){return Fs},isFullOverlaySpec:function(){return la},isFunction:function(){return k},isInsideParent:function(){return Er},isLabelOverlay:function(){return pa},isMouseDevice:function(){return Ni},isNamedFunction:function(){return S},isNodeList:function(){return ye},isNumber:function(){return b},isObject:function(){return C},isPlainArrowOverlay:function(){return Qa},isPoint:function(){return Bl},isSVGElement:function(){return Pe},isString:function(){return w},isTouchDevice:function(){return Oi},lineIntersection:function(){return br},lineLength:function(){return pr},lineRectangleIntersection:function(){return wr},locationAlongCurveFrom:function(){return Fl},log:function(){return se},logEnabled:function(){return ae},makeLightweightAnchorFromSpec:function(){return Qo},map:function(){return re},matchesSelector:function(){return fe},merge:function(){return I},nearestPointOnCurve:function(){return wl},newInstance:function(){return nc},normal:function(){return fr},objectsEqual:function(){return M},offsetRelativeToRoot:function(){return Te},offsetSize:function(){return Be},onDocumentReady:function(){return Re},pageLocation:function(){return Qi},perpendicularLineTo:function(){return _r},perpendicularToPathAt:function(){return Pl},pointAlongCurveFrom:function(){return Dl},pointAlongPath:function(){return Il},pointOnCurve:function(){return El},pointOnLine:function(){return Cr},populate:function(){return R},quadrant:function(){return Ar},ready:function(){return ic},registerEndpointRenderer:function(){return js},remove:function(){return z},removeClass:function(){return _e},removeWithFunction:function(){return V},replace:function(){return L},rotateAnchorOrientation:function(){return te},rotatePoint:function(){return ee},setForceMouseEvents:function(){return ar},setForceTouchEvents:function(){return or},setToArray:function(){return W},sgn:function(){return le},snapToGrid:function(){return kr},subtract:function(){return dr},suggest:function(){return Y},svg:function(){return cn},svgWidthHeightSize:function(){return Ie},svgXYPosition:function(){return De},theta:function(){return gr},toggleClass:function(){return ke},touchCount:function(){return ji},touches:function(){return Vi},uuid:function(){return Z},wrap:function(){return ce}});for(var X=[],J=0;J<256;J++)X[J]=(J<16?"0":"")+J.toString(16);function Z(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return X[255&e]+X[e>>8&255]+X[e>>16&255]+X[e>>24&255]+"-"+X[255&t]+X[t>>8&255]+"-"+X[t>>16&15|64]+X[t>>24&255]+"-"+X[63&n|128]+X[n>>8&255]+"-"+X[n>>16&255]+X[n>>24&255]+X[255&i]+X[i>>8&255]+X[i>>16&255]+X[i>>24&255]}function ee(e,t,n){var i=e.x-t.x,r=e.y-t.y,o=Math.cos(n/360*Math.PI*2),a=Math.sin(n/360*Math.PI*2);return{x:i*o-r*a+t.x,y:r*o+i*a+t.y,cr:o,sr:a}}function te(e,t){var n=ee({x:e[0],y:e[1]},{x:0,y:0},t);return[Math.round(n.x),Math.round(n.y)]}function ne(e){if(null==e)return null;for(var t=e.replace(/^\s\s*/,""),n=/\s/,i=t.length;n.test(t.charAt(--i)););return t.slice(0,i+1)}function ie(e,t){e=null==e.length||"string"==typeof e?[e]:e;for(var n=0;n<e.length;n++)t(e[n])}function re(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return n}var oe,ae=!0;function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("undefined"!=typeof console)try{var i=arguments[arguments.length-1];console.log(i)}catch(e){}}function le(e){return e<0?-1:e>0?1:0}function ce(e,t,n){return function(){var i=null;try{null!=t&&(i=t.apply(this,arguments))}catch(e){se("jsPlumb function failed : "+e)}if(null!=e&&(null==n||i!==n))try{i=e.apply(this,arguments)}catch(e){se("wrapped function failed : "+e)}return i}}function ue(e,t,n){return e.has(t)||e.set(t,n()),e.get(t)}function de(e,t){for(var n=e.__proto__;null!=n;){if(n instanceof t)return!0;n=n.__proto__}return!1}function he(e,t,n,i){if(0===t.length)t.push(e);else{for(var r=i?-1:1,o=0,a=t.length,s=Math.floor((o+a)/2);a>o;)n(e,t[s])*r<0?a=s:o=s+1,s=Math.floor((o+a)/2);t.splice(s,0,e)}}function fe(e,t,n){for(var i=(n=n||e.parentNode).querySelectorAll(t),r=0;r<i.length;r++)if(i[r]===e)return!0;return!1}function pe(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()}function Ae(e,t,n,i){if(i&&fe(e,t,n))return e;for(e=e.parentNode;null!=e&&e!==n;){if(fe(e,t))return e;e=e.parentNode}}function ge(e){return e.srcElement||e.target}function me(e){return null!=e.className?void 0===e.className.baseVal?e.className:e.className.baseVal:""}function ve(e,t,n){var i=null==t?[]:Array.isArray(t)?t:t.split(/\s+/),r=null==n?[]:Array.isArray(n)?n:n.split(/\s+/),o=me(e).split(/\s+/),a=function(e,t){for(var n=0;n<t.length;n++)if(e)-1===o.indexOf(t[n])&&o.push(t[n]);else{var i=o.indexOf(t[n]);-1!==i&&o.splice(i,1)}};a(!0,i),a(!1,r),function(e,t,n){t=ne(t),void 0!==e.className.baseVal?e.className.baseVal=t:e.className=t;try{var i=e.classList;if(null!=i){for(;i.length>0;)i.remove(i.item(0));for(var r=0;r<n.length;r++)n[r]&&i.add(n[r])}}catch(e){se("WARN: cannot set class list",e)}}(e,o.join(" "),o)}function ye(e){return!w(e)&&!Array.isArray(e)&&null!=e.length&&null==e.documentElement&&null==e.nodeType}function be(e){return!w(e)&&(Array.isArray(e)||ye(e))}function we(e){return me(e)}function xe(e,t){var n=function(e,t){null!=e&&null!=t&&t.length>0&&(e.classList?O(ne(t).split(/\s+/),(function(t){e.classList.add(t)})):ve(e,t))};ye(e)?O(e,(function(e){return n(e,t)})):n(e,t)}function Ce(e,t){return e.classList?e.classList.contains(t):-1!==me(e).indexOf(t)}function _e(e,t){var n=function(e,t){null!=e&&null!=t&&t.length>0&&(e.classList?ne(t).split(/\s+/).forEach((function(t){e.classList.remove(t)})):ve(e,null,t))};ye(e)?O(e,(function(e){return n(e,t)})):n(e,t)}function ke(e,t){var n=this,i=function(e,t){null!=e&&null!=t&&t.length>0&&(e.classList?e.classList.toggle(t):n.hasClass(e,t)?n.removeClass(e,t):n.addClass(e,t))};ye(e)?O(e,(function(e){return i(e,t)})):i(e,t)}function Se(e,t,n,i){return Ee(null,e,t,n,i)}function Ee(e,t,n,i,r){var o,a=null==e?document.createElement(t):document.createElementNS(e,t);for(o in n=n||{})a.style[o]=n[o];for(o in i&&(a.className=i),r=r||{})a.setAttribute(o,""+r[o]);return a}function Te(e){var t=e.getBoundingClientRect(),n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,a=i.clientTop||n.clientTop||0,s=i.clientLeft||n.clientLeft||0,l=t.top+r-a,c=t.left+o-s;return{x:Math.round(c),y:Math.round(l)}}function Be(e){return{w:e.offsetWidth,h:e.offsetHeight}}function Ie(e){try{return{w:parseFloat(e.width.baseVal.value),h:parseFloat(e.height.baseVal.value)}}catch(e){return{w:0,h:0}}}function De(e){try{return{x:parseFloat(e.x.baseVal.value),y:parseFloat(e.y.baseVal.value)}}catch(e){return{x:0,y:0}}}function Fe(e,t){var n=t.getContainer().getBoundingClientRect(),i=e.getBoundingClientRect(),r=t.currentZoom;return{x:(i.left-n.left)/r,y:(i.top-n.top)/r}}function Me(e,t){var n=e.getBoundingClientRect(),i=t.currentZoom;return{w:n.width/i,h:n.height/i}}function Le(e){return e instanceof SVGElement?oe.SVG:oe.HTML}function Pe(e){return Le(e)===oe.SVG}function Re(e){!function t(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?e():setTimeout(t,9)}()}function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"."+e})).join(",")}function Ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")}function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"["+e+"]"})).join(",")}!function(e){e.SVG="SVG",e.HTML="HTML"}(oe||(oe={}));var He="source",$e="target",Qe="block",We="none",Ve=0,je=1,ze="absolute",Ke="fixed",Ge="static",qe="data-jtk-group",Ye="data-jtk-managed",Xe="data-jtk-not-draggable",Je="tabindex",Ze="data-jtk-scope",et=Ze+"-",tt="checkCondition",nt="checkDropAllowed",it="jtk-connector",rt="jtk-connector-outline",ot="jtk-connected",at="jtk-endpoint",st="jtk-endpoint-connected",lt="jtk-endpoint-full",ct="jtk-floating-endpoint",ut="jtk-endpoint-drop-allowed",dt="jtk-endpoint-drop-forbidden",ht="jtk-endpoint-anchor",ft="jtk-group-collapsed",pt="jtk-group-expanded",At="jtk-overlay",gt="anchor:changed",mt="connection",vt="internal.connection",yt="connection:detach",bt="connection:move",wt="container:change",xt="endpoint:replaced",Ct="internal.endpoint:unregistered",_t="internal.connection:detached",kt="element:manage",St="group:added",Et="group:collapse",Tt="group:expand",Bt="group:member:added",It="group:member:removed",Dt="group:removed",Ft="maxConnections",Mt="group:nested:added",Lt="group:nested:removed",Pt="element:unmanage",Rt="zoom",Ot="isDetachAllowed",Nt="beforeDrag",Ut="beforeDrop",Ht="beforeDetach",$t="beforeStartDetach",Qt=Ue(Ye),Wt="Cannot establish connection: source endpoint is full",Vt="Cannot establish connection: target endpoint is full",jt="Cannot establish connection: source does not exist",zt="Cannot establish connection: target does not exist",Kt="connectionOverlays",Gt={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},qt="stroke-dasharray",Yt="dashstyle",Xt="fill",Jt="stroke",Zt="stroke-width",en="strokeWidth",tn="path",nn={svg:"http://www.w3.org/2000/svg"};function rn(e,t){for(var n in t)e.setAttribute(n,""+t[n])}function on(e,t){return(t=t||{}).version="1.1",t.xmlns=nn.svg,Ee(nn.svg,e,null,null,t)}function an(e){return"position:absolute;left:"+e[0]+"px;top:"+e[1]+"px"}function sn(e,t,n){if(t.setAttribute(Xt,n.fill?n.fill:We),t.setAttribute(Jt,n.stroke?n.stroke:We),n.strokeWidth&&t.setAttribute(Zt,n.strokeWidth),n[Yt]&&n[en]&&!n[qt]){var i=-1===n[Yt].indexOf(",")?" ":",",r=n[Yt].split(i),o="";O(r,(function(e){o+=Math.floor(e*n.strokeWidth)+i})),t.setAttribute(qt,o)}else n[qt]&&t.setAttribute(qt,n[qt]);for(var a in Gt)n[a]&&t.setAttribute(Gt[a],n[a])}function ln(e,t,n){e.childNodes.length>n?e.insertBefore(t,e.childNodes[n]):e.appendChild(t)}var cn={attr:rn,node:on,ns:nn};function un(e,t,n){var i=[e,t];return n&&i.push(n),i.join(":")}var dn,hn,fn="data-jtk-container",pn="data-jtk-group-content",An="data-jtk-enabled",gn="data-jtk-scope",mn="endpoint",vn="element",yn="connection",bn="div",wn="click",xn="contextmenu",Cn="dblclick",_n="dbltap",kn="focus",Sn="mousedown",En="mouseenter",Tn="mouseexit",Bn="mousemove",In="mouseup",Dn="mouseout",Fn="mouseover",Mn="tap",Ln="touchstart",Pn="touchend",Rn="touchmove",On="drag:move",Nn="drag:stop",Un="drag:start",Hn="revert",$n="connection:abort",Qn="connection:drag",Wn=un(vn,wn),Vn=un(vn,Cn),jn=un(vn,_n),zn=un(vn,Dn),Kn=un(vn,Fn),Gn=un(vn,Bn),qn=un(vn,In),Yn=un(vn,Sn),Xn=un(vn,xn),Jn=un(vn,Mn),Zn=un(mn,wn),ei=un(mn,Cn),ti=un(mn,_n),ni=un(mn,Dn),ii=un(mn,Fn),ri=un(mn,In),oi=un(mn,Sn),ai=un(mn,Mn),si=un(yn,wn),li=un(yn,Cn),ci=un(yn,_n),ui=un(yn,Dn),di=un(yn,Fn),hi=un(yn,In),fi=un(yn,Sn),pi=un(yn,xn),Ai=un(yn,Mn),gi="position",mi=Oe(it),vi=Oe(at),yi=Ue(qe),bi=Ue(pn),wi=Oe(At);function xi(){return{xmin:1/0,xmax:-1/0,ymin:1/0,ymax:-1/0}}!function(e){e.Circle="Circle",e.Ellipse="Ellipse",e.Triangle="Triangle",e.Diamond="Diamond",e.Rectangle="Rectangle",e.Square="Square"}(dn||(dn={})),function(e){e.Assign="Assign",e.AutoDefault="AutoDefault",e.Bottom="Bottom",e.BottomLeft="BottomLeft",e.BottomRight="BottomRight",e.Center="Center",e.Continuous="Continuous",e.ContinuousBottom="ContinuousBottom",e.ContinuousLeft="ContinuousLeft",e.ContinuousRight="ContinuousRight",e.ContinuousTop="ContinuousTop",e.ContinuousLeftRight="ContinuousLeftRight",e.ContinuousTopBottom="ContinuousTopBottom",e.Left="Left",e.Perimeter="Perimeter",e.Right="Right",e.Top="Top",e.TopLeft="TopLeft",e.TopRight="TopRight"}(hn||(hn={}));var Ci,_i,ki=function(){function e(t){r(this,e),this.params=t,s(this,"x1",void 0),s(this,"x2",void 0),s(this,"y1",void 0),s(this,"y2",void 0),s(this,"extents",{xmin:1/0,xmax:-1/0,ymin:1/0,ymax:-1/0}),s(this,"type",void 0),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2}return a(e,[{key:"findClosestPointOnPath",value:function(e,t){return{d:1/0,x:null,y:null,l:null,x1:null,y1:null,x2:null,y2:null}}},{key:"lineIntersection",value:function(e,t,n,i){return[]}},{key:"boxIntersection",value:function(e,t,n,i){var r=[];return r.push.apply(r,this.lineIntersection(e,t,e+n,t)),r.push.apply(r,this.lineIntersection(e+n,t,e+n,t+i)),r.push.apply(r,this.lineIntersection(e+n,t+i,e,t+i)),r.push.apply(r,this.lineIntersection(e,t+i,e,t)),r}},{key:"boundingBoxIntersection",value:function(e){return this.boxIntersection(e.x,e.y,e.w,e.h)}}]),e}(),Si="undefined",Ei="default",Ti="true",Bi="false",Ii="*";function Di(e,t,n){for(var i=(n=n||e.parentNode).querySelectorAll(t),r=0;r<i.length;r++)if(i[r]===e)return!0;return!1}function Fi(e){return e.srcElement||e.target}function Mi(e,t,n,i){if(i){var r=e.composedPath?e.composedPath():e.path;if(void 0!==r&&r.indexOf)return{path:r,end:r.indexOf(n)};var o={path:[],end:-1};return function e(t){o.path.push(t),t===n?o.end=o.path.length-1:null!=t.parentNode&&e(t.parentNode)}(t),o}return{path:[t],end:1}}var Li=1,Pi=!1,Ri=!1;function Oi(){return Pi||"ontouchstart"in document.documentElement||null!=navigator.maxTouchPoints&&navigator.maxTouchPoints>0}function Ni(){return Ri||"onmousedown"in document.documentElement}var Ui=(s(Ci={},Sn,Ln),s(Ci,In,Pn),s(Ci,Bn,Rn),Ci),Hi="page";function $i(e,t){if(null==e)return{x:0,y:0};var n=Wi(Vi(e),0);return{x:n[t+"X"],y:n[t+"Y"]}}function Qi(e){return $i(e,Hi)}function Wi(e,t){return e.item?e.item(t):e[t]}function Vi(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]}function ji(e){return Vi(e).length}function zi(e){if(null==e)return{x:0,y:0};if(null!==e.pageX)return{x:e.pageX,y:e.pageY};var t=Wi(Vi(e),0);return null!=t&&null!=t.pageX?{x:t.pageX,y:t.pageY}:{x:0,y:0}}function Ki(e,t,n,i,r){if(Yi(e,t,n),i.__tauid=n.__tauid,e.addEventListener)e.addEventListener(t,n,!1,r);else if(e.attachEvent){var o=t+n.__tauid;e["e"+o]=n,e[o]=function(){e["e"+o]&&e["e"+o](window.event)},e.attachEvent("on"+t,e[o])}}function Gi(e,t,n){var i=this;null!=n&&qi(e,(function(r){if(function(e,t,n){if(e.__ta&&e.__ta[t]&&delete e.__ta[t][n.__tauid],n.__taExtra){for(var i=0;i<n.__taExtra.length;i++)Gi(e,n.__taExtra[i][0],n.__taExtra[i][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()}(r,t,n),null!=n.__tauid)if(r.removeEventListener)r.removeEventListener(t,n,!1),Oi()&&Ui[t]&&r.removeEventListener(Ui[t],n,!1);else if(i.detachEvent){var o=t+n.__tauid;r[o]&&r.detachEvent("on"+t,r[o]),r[o]=null,r["e"+o]=null}n.__taTouchProxy&&Gi(e,n.__taTouchProxy[1],n.__taTouchProxy[0])}))}function qi(e,t){if(null!=e)for(var n="string"==typeof e?document.querySelectorAll(e):null!=e.length?e:[e],i=0;i<n.length;i++)t(n[i])}function Yi(e,t,n){var i=Li++;return e.__ta=e.__ta||{},e.__ta[t]=e.__ta[t]||{},e.__ta[t][i]=n,n.__tauid=i,i}var Xi=/:not\(([^)]+)\)/;function Ji(e,t,n,i){if(null==e)return n;var r=e.split(","),o=[],a=[];O(r,(function(e){var t=e.match(Xi);null!=t?a.push(t[1]):o.push(e)})),a.length>0&&0===o.length&&o.push(Ii);var s=function i(r){i.__tauid=n.__tauid;var s=Fi(r),l=!1,c=s,u=Mi(r,s,t,null!=e);if(-1!=u.end)for(var d=0;!l&&d<u.end;d++){c=u.path[d];for(var h=0;h<a.length;h++)if(Di(c,a[h],t))return;for(var f=0;!l&&f<o.length;f++)if(Di(c,o[f],t)){n.apply(c,[r,c]),l=!0;break}}};return function(e,t,n){e.__taExtra=e.__taExtra||[],e.__taExtra.push([t,n])}(n,i,s),s}var Zi=function(e,t,n,i,r){if(Oi()&&Ui[t]){var o=Ji(i,e,n,Ui[t]);Ki(e,Ui[t],o,n,r)}t===kn&&null==e.getAttribute(Je)&&e.setAttribute(Je,"1"),Ki(e,t,Ji(i,e,n,t),n,r)},er=(s(_i={},Mn,{touches:1,taps:1}),s(_i,_n,{touches:1,taps:2}),s(_i,xn,{touches:2,taps:1}),_i);function tr(e,t,n,i){for(var r in n.__tamee[e])n.__tamee[e].hasOwnProperty(r)&&n.__tamee[e][r].apply(i,[t])}var nr=function(){function e(){r(this,e)}return a(e,null,[{key:"generate",value:function(e,t){return function(n,i,r,o){if(i==xn&&Ni())Zi(n,i,r,o);else{if(null==n.__taTapHandler){var a=n.__taTapHandler={tap:[],dbltap:[],down:!1,taps:0,downSelectors:[]},s=function(i){for(var r=Fi(i),s=Mi(i,r,n,null!=o),l=!1,d=0;d<s.end;d++){if(l)return;r=s.path[d];for(var h=0;h<a.downSelectors.length;h++)if(null==a.downSelectors[h]||Di(r,a.downSelectors[h],n)){a.down=!0,setTimeout(c,e),setTimeout(u,t),l=!0;break}}},l=function(e){if(a.down){var t,i,r=Fi(e);a.taps++;var o=ji(e);for(var s in er)if(er.hasOwnProperty(s)){var l=er[s];if(l.touches===o&&(1===l.taps||l.taps===a.taps))for(var c=0;c<a[s].length;c++){i=Mi(e,r,n,null!=a[s][c][1]);for(var u=0;u<i.end;u++)if(t=i.path[u],null==a[s][c][1]||Di(t,a[s][c][1],n)){a[s][c][0].apply(t,[e,t]);break}}}}},c=function(){a.down=!1},u=function(){a.taps=0};n.__taTapHandler.downHandler=s,n.__taTapHandler.upHandler=l,Zi(n,Sn,s),Zi(n,In,l)}n.__taTapHandler.downSelectors.push(o),n.__taTapHandler[i].push([r,o]),r.__taUnstore=function(){null!=n.__taTapHandler&&(V(n.__taTapHandler.downSelectors,(function(e){return e===o})),function(e,t){var n,i=0;for(i=0,n=e.length;i<n&&e[i][0]!==t;i++);i<e.length&&e.splice(i,1)}(n.__taTapHandler[i],r),0===n.__taTapHandler.downSelectors.length&&(Gi(n,Sn,n.__taTapHandler.downHandler),Gi(n,In,n.__taTapHandler.upHandler),delete n.__taTapHandler))}}}}}]),e}(),ir=function(){function e(){r(this,e)}return a(e,null,[{key:"generate",value:function(){var e=[];return function(t,n,i,r){if(!t.__tamee){t.__tamee={over:!1,mouseenter:[],mouseexit:[]};var o=function(n){var i=Fi(n);(null==r&&i==t&&!t.__tamee.over||Di(i,r,t)&&(null==i.__tamee||!i.__tamee.over))&&(tr(En,n,t,i),i.__tamee=i.__tamee||{},i.__tamee.over=!0,e.push(i))},a=function(n){for(var i=Fi(n),r=0;r<e.length;r++)i!=e[r]||Di(n.relatedTarget||n.toElement,"*",i)||(i.__tamee.over=!1,e.splice(r,1),tr(Tn,n,t,i))};Ki(t,Fn,Ji(r,t,o,Fn),o),Ki(t,Dn,Ji(r,t,a,Dn),a)}i.__taUnstore=function(){delete t.__tamee[n][i.__tauid]},Yi(t,n,i),t.__tamee[n][i.__tauid]=i}}}]),e}(),rr=function(){function e(t){r(this,e),s(this,"clickThreshold",void 0),s(this,"dblClickThreshold",void 0),s(this,"tapHandler",void 0),s(this,"mouseEnterExitHandler",void 0),t=t||{},this.clickThreshold=t.clickThreshold||250,this.dblClickThreshold=t.dblClickThreshold||450,this.mouseEnterExitHandler=ir.generate(),this.tapHandler=nr.generate(this.clickThreshold,this.dblClickThreshold)}return a(e,[{key:"_doBind",value:function(e,t,n,i,r){if(null!=n){var o=e;t===Mn||t===_n||t===xn?this.tapHandler(o,t,n,i,r):t===En||t==Tn?this.mouseEnterExitHandler(o,t,n,i,r):Zi(o,t,n,i,r)}}},{key:"on",value:function(e,t,n,i,r){var o=null==i?null:n,a=null==i?n:i;return this._doBind(e,t,a,o,r),this}},{key:"off",value:function(e,t,n){return Gi(e,t,n),this}},{key:"trigger",value:function(e,t,n,i,r){var o=Ni()&&("undefined"==typeof MouseEvent||null==n||n.constructor===MouseEvent),a=Oi()&&!Ni()&&Ui[t]?Ui[t]:t,s=!(Oi()&&!Ni()&&Ui[t]),l=Qi(n),c=$i(n,"screen"),u=$i(n,"client");return qi(e,(function(e){var d;n=n||{screenX:c.x,screenY:c.y,clientX:u.x,clientY:u.y};var h={TouchEvent:function(t){var n=function(e,t,n,i,r,o,a){return function(){var e=[];return e.push.apply(e,arguments),e.item=function(e){return this[e]},e}(function(e,t,n,i,r,o,a){return new Touch({target:e,identifier:Z(),pageX:t,pageY:n,screenX:i,screenY:r,clientX:o||i,clientY:a||r})}(e,t,n,i,r,o,a))}(e,l.x,l.y,c.x,c.y,u.x,u.y);(t.initTouchEvent||t.initEvent)(a,!0,!0,window,null,c.x,c.y,u.x,u.y,!1,!1,!1,!1,n,n,n,1,0)},MouseEvents:function(t){t.initMouseEvent(a,!0,!0,window,null==r?1:r,c.x,c.y,u.x,u.y,!1,!1,!1,!1,1,e)}},f=!s&&!o&&Oi()&&Ui[t]?"TouchEvent":"MouseEvents";d=document.createEvent(f),h[f](d),i&&(d.payload=i),e.dispatchEvent(d)})),this}}]),e}();function or(e){Pi=e}function ar(e){Ri=e}var sr=[null,[1,-1],[1,1],[-1,1],[-1,-1]],lr=[null,[-1,-1],[-1,1],[1,1],[1,-1]],cr=2*Math.PI;function ur(e,t){return{x:e.x+t.x,y:e.y+t.y}}function dr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hr(e,t){return t.x===e.x?t.y>e.y?1/0:-1/0:t.y===e.y?t.x>e.x?0:-0:(t.y-e.y)/(t.x-e.x)}function fr(e,t){return-1/hr(e,t)}function pr(e,t){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function Ar(e,t){return t.x>e.x||t.x==e.x?t.y>e.y?2:1:t.y>e.y?3:4}function gr(e,t){var n=hr(e,t),i=Math.atan(n),r=Ar(e,t);return 4!=r&&3!=r||(i+=Math.PI),i<0&&(i+=2*Math.PI),i}function mr(e,t){var n=e.x,i=e.x+e.w,r=e.y,o=e.y+e.h,a=t.x,s=t.x+t.w,l=t.y,c=t.y+t.h;return n<=a&&a<=i&&r<=l&&l<=o||n<=s&&s<=i&&r<=l&&l<=o||n<=a&&a<=i&&r<=c&&c<=o||n<=s&&a<=i&&r<=c&&c<=o||a<=n&&n<=s&&l<=r&&r<=c||a<=i&&i<=s&&l<=r&&r<=c||a<=n&&n<=s&&l<=o&&o<=c||a<=i&&n<=s&&l<=o&&o<=c}function vr(e){var t=e[1].y-e[0].y,n=e[0].x-e[1].x;return{A:t,B:n,C:yr(t*e[0].x+n*e[0].y)}}function yr(e,t){return t=null==t?3:t,Math.floor(e*Math.pow(10,t))/Math.pow(10,t)}function br(e,t){var n=vr(e),i=vr(t),r=n.A*i.B-i.A*n.B;if(0==r)return null;var o={x:Math.round((i.B*n.C-n.B*i.C)/r),y:Math.round((n.A*i.C-i.A*n.C)/r)},a=Math.floor(Math.min(e[0].x,e[1].x)),s=Math.round(Math.max(e[0].x,e[1].x)),l=Math.floor(Math.min(e[0].y,e[1].y)),c=Math.round(Math.max(e[0].y,e[1].y)),u=Math.floor(Math.min(t[0].x,t[1].x)),d=Math.round(Math.max(t[0].x,t[1].x)),h=Math.floor(Math.min(t[0].y,t[1].y)),f=Math.round(Math.max(t[0].y,t[1].y));return o.x>=a&&o.x<=s&&o.y>=l&&o.y<=c&&o.x>=u&&o.x<=d&&o.y>=h&&o.y<=f?o:null}function wr(e,t){var n=[];return O([[{x:t.x,y:t.y},{x:t.x+t.w,y:t.y}],[{x:t.x+t.w,y:t.y},{x:t.x+t.w,y:t.y+t.h}],[{x:t.x,y:t.y},{x:t.x,y:t.y+t.h}],[{x:t.x,y:t.y+t.h},{x:t.x+t.w,y:t.y+t.h}]],(function(t){var i=br(e,t);null!=i&&n.push(i)})),n}function xr(e,t,n){var i=e.x,r=e.x+e.w,o=e.y,a=e.y+e.h,s=t.x,l=t.x+t.w,c=t.y,u=t.y+t.h,d=function(e,t,i,r){return n?e<=t&&i>=r:e<t&&i>r};return d(i,s,r,l)&&d(o,c,a,u)}function Cr(e,t,n){var i=hr(e,t),r=Ar(e,t),o=n>0?sr[r]:lr[r],a=Math.atan(i),s=Math.abs(n*Math.sin(a))*o[1],l=Math.abs(n*Math.cos(a))*o[0];return{x:e.x+l,y:e.y+s}}function _r(e,t,n){var i=hr(e,t),r=Math.atan(-1/i),o=n/2*Math.sin(r),a=n/2*Math.cos(r);return[{x:t.x+a,y:t.y+o},{x:t.x-a,y:t.y-o}]}function kr(e,t,n,i){n=null==n?null==t.thresholdX?t.w/2:t.thresholdX:n,i=null==i?null==t.thresholdY?t.h/2:t.thresholdY:i;var r=Math.floor(e.x/t.w),o=t.w*r,a=o+t.w,s=Math.abs(e.x-o)<=n?o:Math.abs(a-e.x)<=n?a:e.x,l=Math.floor(e.y/t.h),c=t.h*l,u=c+t.h;return{x:s,y:Math.abs(e.y-c)<=i?c:Math.abs(u-e.y)<=i?u:e.y}}function Sr(e,t,n){if(fe(t,n,e))return t;for(var i=t.parentNode;null!=i&&i!==e;){if(fe(i,n,e))return i;i=i.parentNode}}function Er(e,t,n){var i=t.parentNode,r=e.getSize(i),o=e.getSize(t),a=n.x,s=a+o.w,l=n.y,c=l+o.h;return s>0&&a<r.w&&c>0&&l<r.h}var Tr,Br="start",Ir="beforeStart",Dr="drag",Fr="drop",Mr="over",Lr="out",Pr="stop",Rr=function(){return!0},Or=function(){return!1},Nr="katavorio-drag-no-select";!function(e){e.absolutePosition="absolutePosition",e.transform="transform",e.xyAttributes="xyAttributes"}(Tr||(Tr={}));var Ur=new Map;Ur.set(Tr.absolutePosition,(function(e,t){e.style.left="".concat(t.x,"px"),e.style.top="".concat(t.y,"px")})),Ur.set(Tr.xyAttributes,(function(e,t){e.setAttribute("x","".concat(t.x)),e.setAttribute("y","".concat(t.y))}));var Hr=new Map;Hr.set(Tr.absolutePosition,(function(e){return{x:e.offsetLeft,y:e.offsetTop}})),Hr.set(Tr.xyAttributes,(function(e){return{x:parseFloat(e.getAttribute("x")),y:parseFloat(e.getAttribute("y"))}}));var $r=new Map;$r.set(Tr.absolutePosition,(function(e,t){e.style.width="".concat(t.w,"px"),e.style.height="".concat(t.h,"px")})),$r.set(Tr.xyAttributes,(function(e,t){e.setAttribute("width","".concat(t.w)),e.setAttribute("height","".concat(t.h))}));var Qr=new Map;Qr.set(Tr.absolutePosition,(function(e){return{w:e.offsetWidth,h:e.offsetHeight}})),Qr.set(Tr.xyAttributes,(function(e){return{w:parseFloat(e.getAttribute("width")),h:parseFloat(e.getAttribute("height"))}}));var Wr,Vr=[Pr,Br,Dr,Fr,Mr,Lr,Ir],jr=function(){},zr=function(e,t){if(null!=e){e=w(e)||null!=e.tagName||null==e.length?[e]:e;for(var n=0;n<e.length;n++)t.apply(e[n],[e[n]])}},Kr=function(){function e(t,n){r(this,e),this.el=t,this.manager=n,s(this,"_class",void 0),s(this,"uuid",Z()),s(this,"enabled",!0),s(this,"scopes",[]),s(this,"eventManager",void 0),this.eventManager=n.eventManager}return a(e,[{key:"setEnabled",value:function(e){this.enabled=e}},{key:"isEnabled",value:function(){return this.enabled}},{key:"toggleEnabled",value:function(){this.enabled=!this.enabled}},{key:"addScope",value:function(e){var t={};for(var n in zr(this.scopes,(function(e){t[e]=!0})),zr(e?e.split(/\s+/):[],(function(e){t[e]=!0})),this.scopes.length=0,t)this.scopes.push(n)}},{key:"removeScope",value:function(e){var t={};for(var n in zr(this.scopes,(function(e){t[e]=!0})),zr(e?e.split(/\s+/):[],(function(e){delete t[e]})),this.scopes.length=0,t)this.scopes.push(n)}},{key:"toggleScope",value:function(e){var t={};for(var n in zr(this.scopes,(function(e){t[e]=!0})),zr(e?e.split(/\s+/):[],(function(e){t[e]?delete t[e]:t[e]=!0})),this.scopes.length=0,t)this.scopes.push(n)}}]),e}();!function(e){e.notNegative="notNegative",e.parent="parent",e.parentEnclosed="parentEnclosed"}(Wr||(Wr={}));var Gr,qr,Yr,Xr,Jr=function(e){l(n,e);var t=h(n);function n(e,i,o){var a;if(r(this,n),s(d(a=t.call(this,e,o)),"_class",void 0),s(d(a),"rightButtonCanDrag",void 0),s(d(a),"consumeStartEvent",void 0),s(d(a),"clone",void 0),s(d(a),"scroll",void 0),s(d(a),"trackScroll",void 0),s(d(a),"_downAt",void 0),s(d(a),"_posAtDown",void 0),s(d(a),"_pagePosAtDown",void 0),s(d(a),"_pageDelta",{x:0,y:0}),s(d(a),"_moving",void 0),s(d(a),"_lastPosition",void 0),s(d(a),"_lastScrollValues",{x:0,y:0}),s(d(a),"_initialScroll",{x:0,y:0}),s(d(a),"_size",void 0),s(d(a),"_currentParentPosition",void 0),s(d(a),"_ghostParentPosition",void 0),s(d(a),"_dragEl",void 0),s(d(a),"_multipleDrop",void 0),s(d(a),"_ghostProxyOffsets",void 0),s(d(a),"_ghostDx",void 0),s(d(a),"_ghostDy",void 0),s(d(a),"_isConstrained",!1),s(d(a),"_ghostProxyParent",void 0),s(d(a),"_useGhostProxy",void 0),s(d(a),"_ghostProxyFunction",void 0),s(d(a),"_activeSelectorParams",void 0),s(d(a),"_availableSelectors",[]),s(d(a),"_canDrag",void 0),s(d(a),"_consumeFilteredEvents",void 0),s(d(a),"_parent",void 0),s(d(a),"_ignoreZoom",void 0),s(d(a),"_filters",{}),s(d(a),"_constrainRect",void 0),s(d(a),"_elementToDrag",void 0),s(d(a),"downListener",void 0),s(d(a),"moveListener",void 0),s(d(a),"upListener",void 0),s(d(a),"scrollTracker",void 0),s(d(a),"listeners",{start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]}),a._class=a.manager.css.draggable,xe(a.el,a._class),a.downListener=a._downListener.bind(d(a)),a.upListener=a._upListener.bind(d(a)),a.moveListener=a._moveListener.bind(d(a)),a.rightButtonCanDrag=!0===i.rightButtonCanDrag,a.consumeStartEvent=!1!==i.consumeStartEvent,a._dragEl=a.el,a.clone=!0===i.clone,a.scroll=!0===i.scroll,a.trackScroll=!1!==i.trackScroll,a._multipleDrop=!1!==i.multipleDrop,a._canDrag=i.canDrag||Rr,a._consumeFilteredEvents=i.consumeFilteredEvents,a._parent=i.parent,a._ignoreZoom=!0===i.ignoreZoom,a._ghostProxyParent=i.ghostProxyParent,a.trackScroll&&(a.scrollTracker=a._trackScroll.bind(d(a)),document.addEventListener("scroll",a.scrollTracker)),!0===i.ghostProxy?a._useGhostProxy=Rr:i.ghostProxy&&"function"==typeof i.ghostProxy?a._useGhostProxy=i.ghostProxy:a._useGhostProxy=function(e,t){return!(!a._activeSelectorParams||!a._activeSelectorParams.useGhostProxy)&&a._activeSelectorParams.useGhostProxy(e,t)},i.makeGhostProxy?a._ghostProxyFunction=i.makeGhostProxy:a._ghostProxyFunction=function(e){return a._activeSelectorParams&&a._activeSelectorParams.makeGhostProxy?a._activeSelectorParams.makeGhostProxy(e):e.cloneNode(!0)},i.selector){var l=a.el.getAttribute("katavorio-draggable");null==l&&(l=""+(new Date).getTime(),a.el.setAttribute("katavorio-draggable",l)),a._availableSelectors.push(i)}return a.eventManager.on(a.el,Sn,a.downListener),a}return a(n,[{key:"_trackScroll",value:function(e){if(this._moving){var t={x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop},n=t.x-this._lastScrollValues.x,i=t.y-this._lastScrollValues.y,r={x:n+this._lastPosition.x,y:i+this._lastPosition.y},o=r.x-this._downAt.x,a=r.y-this._downAt.y,s=this._ignoreZoom?1:this.manager.getZoom();this._dragEl&&this._dragEl.parentNode&&(o+=this._dragEl.parentNode.scrollLeft-this._initialScroll.x,a+=this._dragEl.parentNode.scrollTop-this._initialScroll.y),o/=s,a/=s,this.moveBy(o,a,e),this._lastPosition=r,this._lastScrollValues=t}}},{key:"on",value:function(e,t){this.listeners[e]&&this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(this.listeners[e]){for(var n=[],i=0;i<this.listeners[e].length;i++)this.listeners[e][i]!==t&&n.push(this.listeners[e][i]);this.listeners[e]=n}}},{key:"_upListener",value:function(e){this._downAt&&(this._downAt=null,this.eventManager.off(document,Bn,this.moveListener),this.eventManager.off(document,In,this.upListener),_e(document.body,Nr),this.unmark(e),this.stop(e),this._moving=!1,this.clone?(this._dragEl&&this._dragEl.parentNode&&this._dragEl.parentNode.removeChild(this._dragEl),this._dragEl=null):this._activeSelectorParams&&this._activeSelectorParams.revertFunction&&!0===this._activeSelectorParams.revertFunction(this._dragEl,this.manager.getPosition(this._dragEl))&&(this.manager.setPosition(this._dragEl,this._posAtDown),this._dispatch(Hn,this._dragEl)))}},{key:"_downListener",value:function(e){if(!e.defaultPrevented&&(this.rightButtonCanDrag||3!==e.which&&2!==e.button)&&this.isEnabled()&&this._canDrag()){var t=this._testFilter(e)&&function(e,t,n){return!fe(e.srcElement||e.target,n.getInputFilterSelector(),t)}(e,this.el,this.manager);if(t){this._activeSelectorParams=null,this._elementToDrag=null,0===this._availableSelectors.length&&console.log("JSPLUMB: no available drag selectors");var n=e.target||e.srcElement,i=function(e,t,n){for(var i=null,r=t.getAttribute("katavorio-draggable"),o=null!=r?"[katavorio-draggable='"+r+"'] ":"",a=0;a<e.length;a++)if(null!=(i=Sr(t,n,o+e[a].selector))){if(e[a].filter){var s=fe(n,e[a].filter,i);if(!0===e[a].filterExclude&&!s||s)return null}return[e[a],i]}return null}(this._availableSelectors,this.el,n);if(null!=i&&(this._activeSelectorParams=i[0],this._elementToDrag=i[1]),null==this._activeSelectorParams||null==this._elementToDrag)return;var r=this._activeSelectorParams.dragInit?this._activeSelectorParams.dragInit(this._elementToDrag,e):null;if(null!=r&&(this._elementToDrag=r),this.clone)if(this._dragEl=this._elementToDrag.cloneNode(!0),xe(this._dragEl,"katavorio-clone-drag"),this._dragEl.setAttribute("id",null),this._dragEl.style.position="absolute",null!=this._parent){var o=this.manager.getPosition(this.el);this._dragEl.style.left=o.x+"px",this._dragEl.style.top=o.y+"px",this._parent.appendChild(this._dragEl)}else{var a=Te(this._elementToDrag);this._dragEl.style.left=a.x+"px",this._dragEl.style.top=a.y+"px",document.body.appendChild(this._dragEl)}else this._dragEl=this._elementToDrag;this.consumeStartEvent&&pe(e),this._downAt=Qi(e),this._dragEl&&this._dragEl.parentNode&&(this._initialScroll={x:this._dragEl.parentNode.scrollLeft,y:this._dragEl.parentNode.scrollTop}),this._posAtDown=this.manager.getPosition(this._dragEl),this._pagePosAtDown=Te(this._dragEl),this._pageDelta={x:this._pagePosAtDown.x-this._posAtDown.x,y:this._pagePosAtDown.y-this._posAtDown.y},this._size=this.manager.getSize(this._dragEl),this.eventManager.on(document,Bn,this.moveListener),this.eventManager.on(document,In,this.upListener),xe(document.body,Nr),this._dispatch(Ir,{el:this.el,pos:this._posAtDown,e:e,drag:this,size:this._size})}else this._consumeFilteredEvents&&pe(e)}}},{key:"_moveListener",value:function(e){if(this._downAt){if(!this._moving){var t=this._dispatch(Br,{el:this.el,pos:this._posAtDown,e:e,drag:this,size:this._size});if(!1!==t){if(!this._downAt)return;this.mark(t),this._moving=!0}else this.abort()}if(this._downAt){var n=Qi(e),i=n.x-this._downAt.x,r=n.y-this._downAt.y,o=this._ignoreZoom?1:this.manager.getZoom();this._lastPosition={x:n.x,y:n.y},this._lastScrollValues={x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop},this._dragEl&&this._dragEl.parentNode&&(i+=this._dragEl.parentNode.scrollLeft-this._initialScroll.x,r+=this._dragEl.parentNode.scrollTop-this._initialScroll.y),i/=o,r/=o,this.moveBy(i,r,e)}}}},{key:"getDragDelta",value:function(){return null!=this._posAtDown&&null!=this._downAt?{x:this._downAt.x-this._posAtDown.x,y:this._downAt.y-this._posAtDown.y}:{x:0,y:0}}},{key:"mark",value:function(e){var t;this._posAtDown=this.manager.getPosition(this._dragEl),this._pagePosAtDown=Te(this._dragEl),this._pageDelta={x:this._pagePosAtDown.x-this._posAtDown.x,y:this._pagePosAtDown.y-this._posAtDown.y},this._size=this.manager.getSize(this._dragEl),xe(this._dragEl,this.manager.css.drag),this._constrainRect={w:(t=this._dragEl).parentNode.offsetWidth+t.parentNode.scrollLeft,h:t.parentNode.offsetHeight+t.parentNode.scrollTop},this._ghostDx=0,this._ghostDy=0}},{key:"unmark",value:function(e){this._isConstrained&&this._useGhostProxy(this._elementToDrag,this._dragEl)?(this._ghostProxyOffsets={x:this._dragEl.offsetLeft-this._ghostDx,y:this._dragEl.offsetTop-this._ghostDy},this._dragEl.parentNode.removeChild(this._dragEl),this._dragEl=this._elementToDrag):this._ghostProxyOffsets=null,_e(this._dragEl,this.manager.css.drag),this._isConstrained=!1}},{key:"moveBy",value:function(e,t,n){var i=this.toGrid({x:this._posAtDown.x+e,y:this._posAtDown.y+t}),r=this._doConstrain(i,this._dragEl,this._constrainRect,this._size,n);if(null!=r){if(this._useGhostProxy(this.el,this._dragEl))if(i.x!==r.x||i.y!==r.y){if(!this._isConstrained){var o=this._ghostProxyFunction(this._elementToDrag);xe(o,"katavorio-ghost-proxy"),this._ghostProxyParent?(this._ghostProxyParent.appendChild(o),this._currentParentPosition=Te(this._elementToDrag.parentNode),this._ghostParentPosition=Te(this._ghostProxyParent),this._ghostDx=this._currentParentPosition.x-this._ghostParentPosition.x,this._ghostDy=this._currentParentPosition.y-this._ghostParentPosition.y):this._elementToDrag.parentNode.appendChild(o),this._dragEl=o,this._isConstrained=!0}r=i}else this._isConstrained&&(this._dragEl.parentNode.removeChild(this._dragEl),this._dragEl=this._elementToDrag,this._isConstrained=!1,this._currentParentPosition=null,this._ghostParentPosition=null,this._ghostDx=0,this._ghostDy=0);this.manager.setPosition(this._dragEl,{x:r.x+this._ghostDx,y:r.y+this._ghostDy}),this._dispatch(Dr,{el:this.el,pos:r,e:n,drag:this,size:this._size,originalPos:this._posAtDown})}}},{key:"abort",value:function(){null!=this._downAt&&this._upListener()}},{key:"getDragElement",value:function(e){return e?this._elementToDrag||this.el:this._dragEl||this.el}},{key:"stop",value:function(e,t){if(t||this._moving){var n=[],i=this.manager.getPosition(this._dragEl);n.push([this._dragEl,i,this,this._size]),this._dispatch(Pr,{el:this._dragEl,pos:this._ghostProxyOffsets||i,finalPos:i,e:e,drag:this,selection:n,size:this._size,originalPos:{x:this._posAtDown.x,y:this._posAtDown.y}})}else this._moving||this._activeSelectorParams.dragAbort&&this._activeSelectorParams.dragAbort(this._elementToDrag)}},{key:"_dispatch",value:function(e,t){var n=null;if(this._activeSelectorParams&&this._activeSelectorParams[e])n=this._activeSelectorParams[e](t);else if(this.listeners[e])for(var i=0;i<this.listeners[e].length;i++)try{var r=this.listeners[e][i](t);null!=r&&(n=r)}catch(e){}return n}},{key:"resolveGrid",value:function(){var e={grid:null,thresholdX:5,thresholdY:5};return null!=this._activeSelectorParams&&null!=this._activeSelectorParams.grid&&(e.grid=this._activeSelectorParams.grid,null!=this._activeSelectorParams.snapThreshold&&(e.thresholdX=this._activeSelectorParams.snapThreshold,e.thresholdY=this._activeSelectorParams.snapThreshold)),e}},{key:"toGrid",value:function(e){var t=this.resolveGrid(),n=t.grid,i=t.thresholdX,r=t.thresholdY;return null==n?e:kr(e,n,n?n.w/2:i,n?n.h/2:r)}},{key:"setUseGhostProxy",value:function(e){this._useGhostProxy=e?Rr:Or}},{key:"_doConstrain",value:function(e,t,n,i,r){return null!=this._activeSelectorParams&&this._activeSelectorParams.constrainFunction&&"function"==typeof this._activeSelectorParams.constrainFunction?this._activeSelectorParams.constrainFunction(e,t,n,i,r):e}},{key:"_testFilter",value:function(e){for(var t in this._filters){var n=this._filters[t],i=n[0](e);if(n[1]&&(i=!i),!i)return!1}return!0}},{key:"addFilter",value:function(e,t){var n,i=this;if(e){var r="function"==typeof(n=e)?(n._katavorioId=Z(),n._katavorioId):n;this._filters[r]=[function(t){var n,r=t.srcElement||t.target;return w(e)?n=fe(r,e,i.el):"function"==typeof e&&(n=e(t,i.el)),n},!1!==t]}}},{key:"removeFilter",value:function(e){var t="function"==typeof e?e._katavorioId:e;delete this._filters[t]}},{key:"clearAllFilters",value:function(){this._filters={}}},{key:"addSelector",value:function(e,t){e.selector&&(t?this._availableSelectors.unshift(e):this._availableSelectors.push(e))}},{key:"destroy",value:function(){this.eventManager.off(this.el,Sn,this.downListener),this.eventManager.off(document,Bn,this.moveListener),this.eventManager.off(document,In,this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null,null!=this.scrollTracker&&document.removeEventListener("scroll",this.scrollTracker)}}]),n}(Kr),Zr=["input","textarea","select","button","option"].join(","),eo=function(){function e(t){r(this,e),s(this,"eventManager",void 0),s(this,"zoom",1),s(this,"css",{}),s(this,"inputFilterSelector",void 0),s(this,"positioningStrategy",void 0),s(this,"_positionSetter",void 0),s(this,"_positionGetter",void 0),s(this,"_sizeSetter",void 0),s(this,"_sizeGetter",void 0),t=t||{},this.inputFilterSelector=t.inputFilterSelector||Zr,this.eventManager=new rr,this.zoom=t.zoom||1,this.positioningStrategy=t.positioningStrategy||Tr.absolutePosition,this._positionGetter=Hr.get(this.positioningStrategy),this._positionSetter=Ur.get(this.positioningStrategy),this._sizeGetter=Qr.get(this.positioningStrategy),this._sizeSetter=$r.get(this.positioningStrategy);var n=t.css||{};y(this.css,n)}return a(e,[{key:"getPosition",value:function(e){return this._positionGetter(e)}},{key:"setPosition",value:function(e,t){this._positionSetter(e,t)}},{key:"getSize",value:function(e){return this._sizeGetter(e)}},{key:"getZoom",value:function(){return this.zoom}},{key:"setZoom",value:function(e){this.zoom=e}},{key:"_prepareParams",value:function(e){e=e||{};var t,n={events:{}};for(t in e)n[t]=e[t];for(t=0;t<Vr.length;t++)n.events[Vr[t]]=e[Vr[t]]||jr;return n}},{key:"getInputFilterSelector",value:function(){return this.inputFilterSelector}},{key:"setInputFilterSelector",value:function(e){return this.inputFilterSelector=e,this}},{key:"draggable",value:function(e,t){if(null==e._katavorioDrag){var n=this._prepareParams(t),i=new Jr(e,n,this);return xe(e,"katavorio-delegated-draggable"),e._katavorioDrag=i,i}return e._katavorioDrag}},{key:"destroyDraggable",value:function(e){e._katavorioDrag&&(e._katavorioDrag.destroy(),delete e._katavorioDrag)}}]),e}(),to="jtk-drag-selected",no=function(){function e(t){r(this,e),this.instance=t,s(this,"_dragSelection",[]),s(this,"_dragSizes",new Map),s(this,"_dragElements",new Map),s(this,"_dragElementStartPositions",new Map),s(this,"_dragElementPositions",new Map),s(this,"__activeSet",void 0)}return a(e,[{key:"_activeSet",get:function(){return null==this.__activeSet?this._dragSelection:this.__activeSet}},{key:"length",get:function(){return this._dragSelection.length}},{key:"filterActiveSet",value:function(e){var t=this;this.__activeSet=[],O(this._dragSelection,(function(n){e(n)&&t.__activeSet.push(n)}))}},{key:"clear",value:function(){var e=this;this.reset(),O(this._dragSelection,(function(t){return e.instance.removeClass(t.jel,to)})),this._dragSelection.length=0}},{key:"reset",value:function(){this._dragElementStartPositions.clear(),this._dragElementPositions.clear(),this._dragSizes.clear(),this._dragElements.clear(),this.__activeSet=null}},{key:"initialisePositions",value:function(){var e=this;O(this._activeSet,(function(t){var n=e.instance.viewport.getPosition(t.id),i={x:parseInt(""+t.jel.offsetLeft,10),y:parseInt(""+t.jel.offsetTop,10)};e._dragElementStartPositions.set(t.id,i),e._dragElementPositions.set(t.id,i),e._dragSizes.set(t.id,{w:n.w,h:n.h})}))}},{key:"updatePositions",value:function(e,t,n){var i=this,r=e.x-t.x,o=e.y-t.y;O(this._activeSet,(function(e){var t=i._dragElementStartPositions.get(e.id);if(t){var a=t.x+r,s=t.y+o,l=i._dragSizes.get(e.id),c={x:a,y:s,w:l.w,h:l.h};if(e.jel._jsPlumbParentGroup&&e.jel._jsPlumbParentGroup.constrain){var u={w:e.jel.parentNode.offsetWidth+e.jel.parentNode.scrollLeft,h:e.jel.parentNode.offsetHeight+e.jel.parentNode.scrollTop};c.x=Math.max(c.x,0),c.y=Math.max(c.y,0),c.x=Math.min(c.x,u.w-l.w),c.y=Math.min(c.y,u.h-l.h)}i._dragElementPositions.set(e.id,{x:a,y:s}),e.jel.style.left=c.x+"px",e.jel.style.top=c.y+"px",n(e.jel,e.id,l,c)}}))}},{key:"each",value:function(e){var t=this;O(this._activeSet,(function(n){var i=t._dragSizes.get(n.id),r=t._dragElementPositions.get(n.id),o=t._dragElementStartPositions.get(n.id);e(n.jel,n.id,r,i,o)}))}},{key:"add",value:function(e,t){var n=e;t=t||this.instance.getId(n),-1===N(this._dragSelection,(function(e){return e.id===t}))&&(this.instance.addClass(e,to),this._dragSelection.push({id:t,jel:n}))}},{key:"remove",value:function(e){var t=this,n=e;this._dragSelection=this._dragSelection.filter((function(e){var i=e.jel!==n;return i||t.instance.removeClass(e.jel,to),i}))}},{key:"toggle",value:function(e){var t=e;-1!==N(this._dragSelection,(function(e){return e.jel===t}))?this.remove(t):this.add(e)}}]),e}(),io="jtk-delegated-draggable",ro="jtk-draggable",oo="jtk-drag",ao="jtk-ghost-proxy",so="jtk-drag-active",lo="jtk-dragged",co="jtk-drag-hover",uo=function(){function e(t,n,i){var o=this;r(this,e),this.instance=t,this.dragSelection=n,s(this,"collicat",void 0),s(this,"drag",void 0),s(this,"_draggables",{}),s(this,"_dlist",[]),s(this,"_elementsWithEndpoints",{}),s(this,"_draggablesForElements",{}),s(this,"handlers",[]),s(this,"_trackScroll",void 0),s(this,"_filtersToAdd",[]),this.collicat=new eo({zoom:this.instance.currentZoom,css:{noSelect:this.instance.dragSelectClass,delegatedDraggable:io,draggable:ro,drag:oo,selected:to,active:so,hover:co,ghostProxy:ao}}),this.instance.bind(Rt,(function(e){o.collicat.setZoom(e)})),i=i||{},this._trackScroll=!1!==i.trackScroll}return a(e,[{key:"addHandler",value:function(e,t){var n=this,i=y({selector:e.selector},t||{});i.start=ce(i.start,(function(t){return e.onStart(t)}),!1),i.drag=ce(i.drag,(function(t){return e.onDrag(t)})),i.stop=ce(i.stop,(function(t){return e.onStop(t)}));var r=(e.onBeforeStart||function(e){}).bind(e);if(i.beforeStart=ce(i.beforeStart,(function(e){return r(e)})),i.dragInit=function(t,n){return e.onDragInit(t,n)},i.dragAbort=function(t){return e.onDragAbort(t)},e.useGhostProxy&&(i.useGhostProxy=e.useGhostProxy,i.makeGhostProxy=e.makeGhostProxy),null==i.constrainFunction&&null!=i.containment)switch(i.containment){case Wr.notNegative:i.constrainFunction=function(e,t,n,i){return{x:Math.max(0,Math.min(e.x)),y:Math.max(0,Math.min(e.y))}};break;case Wr.parent:var o=i.containmentPadding||5;i.constrainFunction=function(e,t,n,i){return{x:e.x<0?0:e.x>n.w-o?n.w-o:e.x,y:e.y<0?0:e.y>n.h-o?n.h-o:e.y}};break;case Wr.parentEnclosed:i.constrainFunction=function(e,t,n,i){return{x:e.x<0?0:e.x+i.w>n.w?n.w-i.w:e.x,y:e.y<0?0:e.y+i.h>n.h?n.h-i.h:e.y}}}null==this.drag?(i.trackScroll=this._trackScroll,this.drag=this.collicat.draggable(this.instance.getContainer(),i),O(this._filtersToAdd,(function(e){return n.drag.addFilter(e[0],e[1])})),this.drag.on(Hn,(function(e){n.instance.revalidate(e)}))):this.drag.addSelector(i),this.handlers.push({handler:e,options:i}),e.init(this.drag)}},{key:"addSelector",value:function(e,t){this.drag&&this.drag.addSelector(e,t)}},{key:"addFilter",value:function(e,t){null==this.drag?this._filtersToAdd.push([e,!0===t]):this.drag.addFilter(e,t)}},{key:"removeFilter",value:function(e){null!=this.drag&&this.drag.removeFilter(e)}},{key:"setFilters",value:function(e){var t=this;O(e,(function(e){t.drag.addFilter(e[0],e[1])}))}},{key:"reset",value:function(){var e=[];if(O(this.handlers,(function(e){e.handler.reset()})),this.handlers.length=0,null!=this.drag){var t=this.drag._filters;for(var n in t)e.push([n,t[n][1]]);this.collicat.destroyDraggable(this.instance.getContainer())}return delete this.drag,e}},{key:"setOption",value:function(e,t){var n=H(this.handlers,(function(t){return t.handler===e}));null!=n&&y(n.options,t||{})}}]),e}(),ho=function(){function e(t,n){r(this,e),this.instance=t,this._dragSelection=n,s(this,"selector","> "+Qt+":not("+Oe(At)+")"),s(this,"_dragOffset",null),s(this,"_groupLocations",[]),s(this,"_intersectingGroups",[]),s(this,"_currentDragParentGroup",null),s(this,"_dragGroupByElementIdMap",{}),s(this,"_dragGroupMap",{}),s(this,"_currentDragGroup",null),s(this,"_currentDragGroupOffsets",new Map),s(this,"_currentDragGroupSizes",new Map),s(this,"_currentDragGroupOriginalPositions",new Map),s(this,"_dragPayload",null),s(this,"drag",void 0),s(this,"originalPosition",void 0)}return a(e,[{key:"onDragInit",value:function(e){return null}},{key:"onDragAbort",value:function(e){return null}},{key:"getDropGroup",value:function(){var e=null;if(this._intersectingGroups.length>0){var t=this._intersectingGroups[0].groupLoc.group,n=this._intersectingGroups[0].intersectingElement,i=n._jsPlumbParentGroup;i!==t&&(null!=i&&i.overrideDrop(n,t)||(e=this._intersectingGroups[0]))}return e}},{key:"onStop",value:function(e){var t,n=this,i=e.drag.getDragElement(),r=this.getDropGroup(),o=[];function a(e,t,n,i,a){var s=n.x,l=n.y;if(e._jsPlumbParentGroup&&e._jsPlumbParentGroup.constrain){var c={w:e.parentNode.offsetWidth+e.parentNode.scrollLeft,h:e.parentNode.offsetHeight+e.parentNode.scrollTop};s=Math.max(s,0),l=Math.max(l,0),s=Math.min(s,c.w-i.w),l=Math.min(l,c.h-i.h),n.x=s,n.y=l}o.push({el:e,id:t,pos:n,originalPos:a,originalGroup:e._jsPlumbParentGroup,redrawResult:null,reverted:!1,dropGroup:null==r?void 0:r.groupLoc.group})}if(o.push({el:i,id:this.instance.getId(i),pos:e.finalPos,originalGroup:i._jsPlumbParentGroup,redrawResult:null,originalPos:e.originalPos,reverted:!1,dropGroup:null!=r?r.groupLoc.group:null}),this._dragSelection.each((function(t,n,i,r,o){t!==e.el&&a(t,n,{x:i.x,y:i.y},r,o)})),null===(t=this._currentDragGroup)||void 0===t||t.members.forEach((function(t){if(t.el!==e.el){var i=n._currentDragGroupOffsets.get(t.elId),r=n._currentDragGroupSizes.get(t.elId),o={x:e.finalPos.x+i[0].x,y:e.finalPos.y+i[0].y};a(t.el,t.elId,o,r,n._currentDragGroupOriginalPositions.get(t.elId))}})),O(o,(function(e){var t=null!=e.originalGroup,i=t&&Er(n.instance,e.el,e.pos),o={x:0,y:0};if(t&&!i){if(null==r){var a=n._pruneOrOrphan(e,!0,!0);null!=a.pos?e.pos=a.pos.pos:!a.pruned&&e.originalGroup.revert&&(e.pos=e.originalPos,e.reverted=!0)}}else t&&i&&(o=n._computeOffsetByParentGroup(e.originalGroup));null==r||i?e.dropGroup=null:n.instance.groupManager.addToGroup(r.groupLoc.group,!1,e.el),e.reverted&&n.instance.setPosition(e.el,e.pos),e.redrawResult=n.instance.setElementPosition(e.el,e.pos.x+o.x,e.pos.y+o.y),n.instance.removeClass(e.el,lo),n.instance.select({source:e.el}).removeClass(n.instance.elementDraggingClass+" "+n.instance.sourceElementDraggingClass,!0),n.instance.select({target:e.el}).removeClass(n.instance.elementDraggingClass+" "+n.instance.targetElementDraggingClass,!0)})),null!=o[0].originalGroup){var s=i._jsPlumbParentGroup;if(s!==o[0].originalGroup){var l=e.drag.getDragElement(!0);if(o[0].originalGroup.ghost){var c=this.instance.getPosition(this.instance.getGroupContentArea(s)),u=this.instance.getPosition(this.instance.getGroupContentArea(o[0].originalGroup)),d={x:u.x+e.pos.x-c.x,y:u.y+e.pos.y-c.y};l.style.left=d.x+"px",l.style.top=d.y+"px",this.instance.revalidate(l)}}}this.instance.fire(Nn,{elements:o,e:e.e,el:i,payload:this._dragPayload}),this._cleanup()}},{key:"_cleanup",value:function(){var e=this;O(this._groupLocations,(function(t){e.instance.removeClass(t.el,so),e.instance.removeClass(t.el,co)})),this._currentDragParentGroup=null,this._groupLocations.length=0,this.instance.hoverSuspended=!1,this._dragOffset=null,this._dragSelection.reset(),this._dragPayload=null,this._currentDragGroupOffsets.clear(),this._currentDragGroupSizes.clear(),this._currentDragGroupOriginalPositions.clear(),this._currentDragGroup=null}},{key:"reset",value:function(){}},{key:"init",value:function(e){this.drag=e}},{key:"onDrag",value:function(e){var t=this,n=e.drag.getDragElement(),i=this.instance.getId(n),r=e.pos,o=this.instance.viewport.getPosition(i),a={x:r.x,y:r.y};this._intersectingGroups.length=0,null!=this._dragOffset&&(a.x+=this._dragOffset.x,a.y+=this._dragOffset.y);var s=function(n,i,r){if(r){var o=new Set;O(t._groupLocations,(function(n){!o.has(n.group.id)&&mr(i,n.r)?(n.group!==t._currentDragParentGroup&&t.instance.addClass(n.el,co),t._intersectingGroups.push({groupLoc:n,intersectingElement:e.drag.getDragElement(!0),d:0}),O(t.instance.groupManager.getAncestors(n.group),(function(e){return o.add(e.id)}))):t.instance.removeClass(n.el,co)}))}t.instance.setElementPosition(n,i.x,i.y),t.instance.fire(On,{el:n,e:e.e,pos:{x:i.x,y:i.y},originalPosition:t.originalPosition,payload:t._dragPayload})},l={x:a.x,y:a.y,w:o.w,h:o.h};s(n,l,!0),this._dragSelection.updatePositions(r,this.originalPosition,(function(e,t,n,i){s(e,i,!1)})),this._currentDragGroupOffsets.forEach((function(e,n){var i=t._currentDragGroupSizes.get(n),r={x:l.x+e[0].x,y:l.y+e[0].y,w:i.w,h:i.h};e[1].style.left=r.x+"px",e[1].style.top=r.y+"px",s(e[1],r,!1)}))}},{key:"_computeOffsetByParentGroup",value:function(e){var t=this.instance.getPosition(e.el),n=e.contentArea;if(n!==e.el){var i=this.instance.getPosition(n);t.x+=i.x,t.y+=i.y}if(e.el._jsPlumbParentGroup){var r=this._computeOffsetByParentGroup(e.el._jsPlumbParentGroup);t.x+=r.x,t.y+=r.y}return t}},{key:"onStart",value:function(e){var t=this,n=e.drag.getDragElement(),i=this.instance.getPosition(n);this.originalPosition={x:e.pos.x,y:e.pos.y},n._jsPlumbParentGroup&&(this._dragOffset=this._computeOffsetByParentGroup(n._jsPlumbParentGroup),this._currentDragParentGroup=n._jsPlumbParentGroup);var r=!0,o=n.getAttribute(Xe);if((!1===this.instance.elementsDraggable||null!=o&&o!==Bi)&&(r=!1),r){this._groupLocations.length=0,this._intersectingGroups.length=0,this.instance.hoverSuspended=!0;var a=e.drag.getDragElement(!0),s=a.querySelectorAll(Qt),l=function(e){for(var t=[],n=e._jsPlumbParentGroup;null!=n;)t.push(n.el),n=n.group;return t}(a),c=[];Array.prototype.push.apply(c,s),Array.prototype.push.apply(c,l),this._dragSelection.filterActiveSet((function(e){return-1===c.indexOf(e.jel)})),this._dragSelection.initialisePositions();var u=function(n,i,r){if(!n._isJsPlumbGroup||t.instance.allowNestedGroups){var o=!n._jsPlumbParentGroup,a=o||!0!==n._jsPlumbParentGroup.dropOverride,s=!o&&(n._jsPlumbParentGroup.ghost||!0!==n._jsPlumbParentGroup.constrain);(o||a&&s)&&(O(t.instance.groupManager.getGroups(),(function(e){var i=n._jsPlumbGroup;if(!1!==e.droppable&&!1!==e.enabled&&n._jsPlumbGroup!==e&&!t.instance.groupManager.isDescendant(e,i)){var r=e.el,o=t.instance.getId(r),a=t.instance.viewport.getPosition(o),s={el:r,r:{x:a.x,y:a.y,w:a.w,h:a.h},group:e};t._groupLocations.push(s),e!==t._currentDragParentGroup&&t.instance.addClass(r,so)}})),t._groupLocations.sort((function(e,n){return t.instance.groupManager.isDescendant(e.group,n.group)?-1:t.instance.groupManager.isAncestor(n.group,e.group)?1:0})))}return t.instance.select({source:n}).addClass(t.instance.elementDraggingClass+" "+t.instance.sourceElementDraggingClass,!0),t.instance.select({target:n}).addClass(t.instance.elementDraggingClass+" "+t.instance.targetElementDraggingClass,!0),t.instance.fire(Un,{el:n,e:e.e,originalPosition:t.originalPosition,pos:t.originalPosition,dragGroup:i,dragGroupMemberSpec:r})},d=this.instance.getId(n);this._currentDragGroup=this._dragGroupByElementIdMap[d],this._currentDragGroup&&!function(e,t){var n=Q(e.members,(function(e){return e.el===t}));return null!==n&&!0===n.active}(this._currentDragGroup,n)&&(this._currentDragGroup=null);var h=u(n);if(!1===h)return this._cleanup(),!1;this._dragPayload=h,null!=this._currentDragGroup&&(this._currentDragGroupOffsets.clear(),this._currentDragGroupSizes.clear(),this._currentDragGroup.members.forEach((function(e){var n=t.instance.viewport.getPosition(e.elId);t._currentDragGroupOffsets.set(e.elId,[{x:n.x-i.x,y:n.y-i.y},e.el]),t._currentDragGroupSizes.set(e.elId,n),t._currentDragGroupOriginalPositions.set(e.elId,{x:n.x,y:n.y}),u(e.el,t._currentDragGroup,e)})))}return r}},{key:"addToDragGroup",value:function(e){var t=this,n=function(e,t){return w(t)?{id:t,active:!0}:{id:t.id,active:t.active}}(this.instance,e),i=this._dragGroupMap[n.id];null==i&&(i={id:n.id,members:new Set},this._dragGroupMap[n.id]=i);for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];this.removeFromDragGroup.apply(this,o),O(o,(function(e){var r=t.instance.getId(e);i.members.add({elId:r,el:e,active:n.active}),t._dragGroupByElementIdMap[r]=i}))}},{key:"removeFromDragGroup",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];O(n,(function(t){var n=e.instance.getId(t),i=e._dragGroupByElementIdMap[n];if(null!=i){var r=new Set;i.members.forEach((function(e){e.el!==t&&r.add(e)})),i.members=r,delete e._dragGroupByElementIdMap[n]}}))}},{key:"setDragGroupState",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];O(i.map((function(e){return t.instance.getId(e)})),(function(n){var i=t._dragGroupByElementIdMap[n];if(null!=i){var r=Q(i.members,(function(e){return e.elId===n}));null!=r&&(r.active=e)}}))}},{key:"clearDragGroup",value:function(e){var t=this,n=this._dragGroupMap[e];null!=n&&(n.members.forEach((function(e){delete t._dragGroupByElementIdMap[e.elId]})),n.members.clear())}},{key:"_pruneOrOrphan",value:function(e,t,n){var i=e.el,r={pruned:!1,pos:null};if(n||!Er(this.instance,i,e.pos)){var o=i._jsPlumbParentGroup;o.prune?(i._isJsPlumbGroup?this.instance.removeGroup(i._jsPlumbGroup):o.remove(e.el,!0),r.pruned=!0):o.orphan&&(r.pos=this.instance.groupManager.orphan(e.el,t),i._isJsPlumbGroup?o.removeGroup(i._jsPlumbGroup):o.remove(e.el))}return r}}]),e}(),fo={},po={},Ao={},go={get:function(e,t,n){var i=fo[t];if(i)return new i(e,n);throw{message:"jsPlumb: unknown endpoint type '"+t+"'"}},clone:function(e){var t=Ao[e.type];return go.get(e.endpoint,e.type,t.getParams(e))},compute:function(e,t,n,i){var r=po[e.type];if(null!=r)return r(e,t,n,i);se("jsPlumb: cannot find endpoint calculator for endpoint of type ",e.type)},registerHandler:function(e){Ao[e.type]=e,fo[e.type]=e.cls,po[e.type]=e.compute}},mo=function(){function e(t,n){r(this,e),this.endpoint=t,s(this,"typeId",void 0),s(this,"x",void 0),s(this,"y",void 0),s(this,"w",void 0),s(this,"h",void 0),s(this,"computedValue",void 0),s(this,"bounds",{xmin:1/0,xmax:-1/0,ymin:1/0,ymax:-1/0}),s(this,"classes",[]),s(this,"instance",void 0),s(this,"type",void 0),n=n||{},this.instance=t.instance,t.cssClass&&this.classes.push(t.cssClass),n.cssClass&&this.classes.push(n.cssClass)}return a(e,[{key:"addClass",value:function(e){this.classes.push(e),this.instance.addEndpointClass(this.endpoint,e)}},{key:"removeClass",value:function(e){this.classes=this.classes.filter((function(t){return t!==e})),this.instance.removeEndpointClass(this.endpoint,e)}},{key:"compute",value:function(e,t,n){this.computedValue=go.compute(this,e,t,n),this.bounds.xmin=this.x,this.bounds.ymin=this.y,this.bounds.xmax=this.x+this.w,this.bounds.ymax=this.y+this.h}},{key:"setVisible",value:function(e){this.instance.setEndpointVisible(this.endpoint,e)}}]),e}();!function(e){e.top="top",e.left="left",e.right="right",e.bottom="bottom"}(Xr||(Xr={}));var vo=Xr.top,yo=Xr.left,bo=Xr.right,wo=Xr.bottom,xo=[yo,bo],Co=[vo,wo],_o=function(){function e(t,n,i){r(this,e),this.instance=t,this.element=n,s(this,"isFloating",!0),s(this,"isContinuous",void 0),s(this,"isDynamic",void 0),s(this,"locations",[]),s(this,"currentLocation",0),s(this,"locked",!1),s(this,"cssClass",""),s(this,"timestamp",null),s(this,"type","Floating"),s(this,"id",Z()),s(this,"orientation",[0,0]),s(this,"size",void 0),this.size=t.viewport.getPosition(i),this.locations.push({x:.5,y:.5,ox:this.orientation[0],oy:this.orientation[1],offx:0,offy:0,iox:this.orientation[0],ioy:this.orientation[1],cls:""})}return a(e,[{key:"_updateOrientationInRouter",value:function(){this.instance.router.setAnchorOrientation(this,[this.locations[0].ox,this.locations[0].oy])}},{key:"over",value:function(e){this.orientation=this.instance.router.getEndpointOrientation(e),this.locations[0].ox=this.orientation[0],this.locations[0].oy=this.orientation[1],this._updateOrientationInRouter()}},{key:"out",value:function(){this.orientation=null,this.locations[0].ox=this.locations[0].iox,this.locations[0].oy=this.locations[0].ioy,this._updateOrientationInRouter()}}]),e}(),ko=(s(Gr={},vo,wo),s(Gr,bo,yo),s(Gr,yo,bo),s(Gr,wo,vo),Gr),So=(s(qr={},vo,bo),s(qr,bo,wo),s(qr,yo,vo),s(qr,wo,yo),qr),Eo=(s(Yr={},vo,yo),s(Yr,bo,vo),s(Yr,yo,wo),s(Yr,wo,bo),Yr);function To(e){return 0===e.faces.length?vo:e.faces[0]}function Bo(e,t){return-1!==e.faces.indexOf(t)}function Io(e,t){return null==e.lockedAxis?null==e.lockedFace?!0===Bo(e,t):e.lockedFace===t:-1!==e.lockedAxis.indexOf(t)}var Do={x:.5,y:0,ox:0,oy:-1,offx:0,offy:0},Fo={x:.5,y:1,ox:0,oy:1,offx:0,offy:0},Mo={x:0,y:.5,ox:-1,oy:0,offx:0,offy:0},Lo={x:1,y:.5,ox:1,oy:0,offx:0,offy:0},Po={Top:[Do],Bottom:[Fo],Left:[Mo],Right:[Lo],TopLeft:[{x:0,y:0,ox:0,oy:-1,offx:0,offy:0}],TopRight:[{x:1,y:0,ox:1,oy:-1,offx:0,offy:0}],BottomLeft:[{x:0,y:1,ox:0,oy:1,offx:0,offy:0}],BottomRight:[{x:1,y:1,ox:0,oy:1,offx:0,offy:0}],Center:[{x:.5,y:.5,ox:0,oy:0,offx:0,offy:0}],AutoDefault:[Do,Mo,Fo,Lo]},Ro={Continuous:{faces:[vo,yo,wo,bo]},ContinuousTop:{faces:[vo]},ContinuousRight:{faces:[bo]},ContinuousBottom:{faces:[wo]},ContinuousLeft:{faces:[yo]},ContinuousLeftRight:{faces:[yo,bo]},ContinuousTopBottom:{faces:[vo,wo]}};function Oo(e,t){if(t=t||{},e===hn.Perimeter)return Ko(t);var n=Po[e];if(null!=n)return No(e,re(n,(function(e){return y({iox:e.ox,ioy:e.oy},e)})),t);if(null!=(n=Ro[e]))return function(e,t,n){var i={type:e,locations:[],currentLocation:0,locked:!1,id:Z(),cssClass:n.cssClass||"",isFloating:!1,isContinuous:!0,timestamp:null,faces:n.faces||t,lockedFace:null,lockedAxis:null,clockwise:!(!1===n.clockwise),__currentFace:null};return Object.defineProperty(i,Ho,{get:function(){return this.__currentFace},set:function(e){this.__currentFace=function(e,t){if(Bo(e,t))return t;if(Bo(e,ko[t]))return ko[t];var n=function(e,t){return(e.clockwise?So:Eo)[t]}(e,t);if(Bo(e,n))return n;var i=function(e,t){return(e.clockwise?Eo:So)[t]}(e,t);return Bo(e,i)?i:t}(this,e)}}),i}(e,n.faces,t);throw{message:"jsPlumb: unknown anchor type '"+e+"'"}}function No(e,t,n){return{type:e,locations:t,currentLocation:0,locked:!1,id:Z(),isFloating:!1,isContinuous:!1,isDynamic:t.length>1,timestamp:null,cssClass:n.cssClass||""}}function Uo(e,t,n){return new _o(e,t,n)}var Ho="currentFace";function $o(e){return e.length<7&&e.every(b)||7===e.length&&e.slice(0,5).every(b)&&w(e[6])}function Qo(e){if(w(e))return Oo(e,null);if(Array.isArray(e)){if($o(e)){var t=e;return No(null,[{x:t[0],y:t[1],ox:t[2],oy:t[3],offx:null==t[4]?0:t[4],offy:null==t[5]?0:t[5],iox:t[2],ioy:t[3],cls:t[6]||""}],{cssClass:t[6]||""})}return No("Dynamic",re(e,(function(e){if(w(e)){var t=Po[e];return null!=t?y({iox:t[0].ox,ioy:t[0].oy,cls:""},t[0]):null}if($o(e))return{x:e[0],y:e[1],ox:e[2],oy:e[3],offx:null==e[4]?0:e[4],offy:null==e[5]?0:e[5],iox:e[2],ioy:e[3],cls:e[6]||""}})).filter((function(e){return null!=e})),{})}var n=e;return Oo(n.type,n.options)}function Wo(e){for(var t=.5,n=2*Math.PI/e,i=[],r=0,o=0;o<e;o++){var a=t+t*Math.sin(r),s=t+t*Math.cos(r);i.push({x:a,y:s,ox:0,oy:0,offx:0,offy:0,iox:0,ioy:0,cls:""}),r+=n}return i}function Vo(e,t){for(var n=[],i=0;i<e.length;i++)n.push([e[i][0],e[i][1],e[i][2],e[i][3],1/e.length,e[i][4],e[i][5]]);return function(e,t){for(var n=t/e.length,i=[],r=function(e,r,o,a,s,l,c){for(var u=(o-e)/(n=t*s),d=(a-r)/n,h=0;h<n;h++)i.push({x:e+u*h,y:r+d*h,ox:null==l?0:l,oy:null==c?0:c,offx:0,offy:0,iox:0,ioy:0,cls:""})},o=0;o<e.length;o++)r.apply(null,e[o]);return i}(n,t)}function jo(e){return Vo([[0,0,1,0,0,-1],[1,0,1,1,1,0],[1,1,0,1,0,1],[0,1,0,0,-1,0]],e)}var zo=new Map;function Ko(e){var t=(e=e||{}).anchorCount||60,n=e.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");if(!zo.has(n))throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var i=zo.get(n)(t);return e.rotation&&(i=function(e,t){for(var n=[],i=t/180*Math.PI,r=0;r<e.length;r++){var o=e[r].x-.5,a=e[r].y-.5;n.push({x:o*Math.cos(i)-a*Math.sin(i)+.5,y:o*Math.sin(i)+a*Math.cos(i)+.5,ox:e[r].ox,oy:e[r].oy,offx:0,offy:0,iox:0,ioy:0,cls:""})}return n}(i,e.rotation)),y(No(hn.Perimeter,i,e),{shape:n})}zo.set(dn.Circle,Wo),zo.set(dn.Ellipse,Wo),zo.set(dn.Rectangle,jo),zo.set(dn.Square,jo),zo.set(dn.Diamond,(function(e){return Vo([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]],e)})),zo.set(dn.Triangle,(function(e){return Vo([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]],e)}));var Go=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r(this,e),this.selector=t,this.def=n,this.exclude=i,s(this,"id",void 0),s(this,"redrop",void 0),this.id=Z(),this.redrop=n.def.redrop||qo}return a(e,[{key:"setEnabled",value:function(e){this.def.enabled=e}},{key:"isEnabled",value:function(){return!1!==this.def.enabled}}]),e}(),qo="strict",Yo="any",Xo="anySource",Jo="anyTarget",Zo="anySourceOrTarget";function ea(e,t,n,i,r){for(var o=e.target||e.srcElement,a=!1,s=i.getSelector(t,n),l=0;l<s.length;l++)if(s[l]===o){a=!0;break}return r?!a:a}var ta=Oe(so,co),na="sourceSelectorEndpoint",ia=function(){function e(t){r(this,e),this.instance=t,s(this,"jpc",void 0),s(this,"existingJpc",void 0),s(this,"_originalAnchorSpec",void 0),s(this,"ep",void 0),s(this,"endpointRepresentation",void 0),s(this,"canvasElement",void 0),s(this,"_activeDefinition",void 0),s(this,"placeholderInfo",{id:null,element:null}),s(this,"floatingIndex",void 0),s(this,"floatingId",void 0),s(this,"floatingElement",void 0),s(this,"floatingEndpoint",void 0),s(this,"floatingAnchor",void 0),s(this,"_stopped",void 0),s(this,"inPlaceCopy",void 0),s(this,"endpointDropTargets",[]),s(this,"currentDropTarget",null),s(this,"payload",void 0),s(this,"floatingConnections",{}),s(this,"_forceReattach",void 0),s(this,"_forceDetach",void 0),s(this,"mousedownHandler",void 0),s(this,"mouseupHandler",void 0),s(this,"selector",Oe(at));var n=t.getContainer();this.mousedownHandler=this._mousedownHandler.bind(this),this.mouseupHandler=this._mouseupHandler.bind(this),t.on(n,Sn,Qt,this.mousedownHandler),t.on(n,In,[Qt,Oe(at)].join(","),this.mouseupHandler)}return a(e,[{key:"_resolveDragParent",value:function(e,t){var n=this.instance.getContainer(),i=Ae(t,Qt,n,!0);if(null!=e.parentSelector){var r=Ae(t,e.parentSelector,n,!0);return null!=r&&(i=Ae(r.parentNode,Qt,n,!1)),r||i}return i}},{key:"_mousedownHandler",value:function(e){var t,n;if(3!==e.which&&2!==e.button){var i=e.target||e.srcElement;if((null==(n=this._getSourceDefinition(e))||null!=(t=this._resolveDragParent(n.def.def,i))&&t.getAttribute(An)!==Bi)&&n){var r,o=e.currentTarget;if(i.getAttribute(An)!==Bi){if(pe(e),this._activeDefinition=n,null!=(r=n.def.def).canAcceptNewConnection&&!r.canAcceptNewConnection(t,e))return!1;var a=zs(e,t,this.instance.currentZoom),s={element:t};if(y(s,r),s.isTemporarySource=!0,r.scope)s.scope=r.scope;else{var l=i.getAttribute(gn);null!=l&&(s.scope=l)}if(null!=(s=I(s,r.parameterExtractor?r.parameterExtractor(t,i,e):{})).maxConnections&&s.maxConnections>=0&&this.instance.select({source:t}).length>=s.maxConnections)return pe(e),r.onMaxConnections&&r.onMaxConnections({element:t,maxConnections:s.maxConnections},e),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1;if(r.anchorPositionFinder){var c=r.anchorPositionFinder(t,a,r,e);null!=c&&(s.anchor=c)}this._originalAnchorSpec=s.anchor||(this.instance.areDefaultAnchorsSet()?this.instance.defaults.anchors[0]:this.instance.defaults.anchor);var u=this.instance.router.prepareAnchor(this._originalAnchorSpec),d=[a.x,a.y,0,0];if(u.locations.length>0)d[2]=u.locations[0].ox,d[3]=u.locations[0].oy;else if(u.isContinuous){var h=a.x<.5?a.x:1-a.x,f=a.y<.5?a.y:1-a.y;d[2]=h<f?a.x<.5?-1:1:0,d[3]=f<h?a.y<.5?-1:1:0}s.anchor=d,s.deleteOnEmpty=!0,this.ep=this.instance._internal_newEndpoint(s);var p={};if(r.extract){for(var A in r.extract){var g=i.getAttribute(A);g&&(p[r.extract[A]]=g)}this.ep.mergeParameters(p)}if(s.uniqueEndpoint){var m=this.ep.elementId,v=this.instance.getManagedData(m,na,n.id);null==v?(this.instance.setManagedData(m,na,n.id,this.ep),this.ep.deleteOnEmpty=!1):this.ep.finalEndpoint=v}o._jsPlumbOrphanedEndpoints=o._jsPlumbOrphanedEndpoints||[],o._jsPlumbOrphanedEndpoints.push(this.ep),this.instance.trigger(this.ep.endpoint.canvas,Sn,e,p)}}}}},{key:"_mouseupHandler",value:function(e){var t=e.currentTarget||e.srcElement;t._jsPlumbOrphanedEndpoints&&(ie(t._jsPlumbOrphanedEndpoints,this.instance._maybePruneEndpoint.bind(this.instance)),t._jsPlumbOrphanedEndpoints.length=0),this._activeDefinition=null}},{key:"onDragInit",value:function(e){var t=Fe(e,this.instance),n=Me(e,this.instance);return this._makeDraggablePlaceholder(t,n),this.placeholderInfo.element.jtk=e.jtk,this.placeholderInfo.element}},{key:"onDragAbort",value:function(e){this._cleanupDraggablePlaceholder()}},{key:"_makeDraggablePlaceholder",value:function(e,t){this.placeholderInfo=this.placeholderInfo||{};var n=Se(bn,{position:"absolute"});this.instance._appendElementToContainer(n);var i=this.instance.getId(n);return this.instance.setPosition(n,e),n.style.width=t.w+"px",n.style.height=t.h+"px",this.instance.manage(n),this.placeholderInfo.id=i,this.placeholderInfo.element=n,n}},{key:"_cleanupDraggablePlaceholder",value:function(){this.placeholderInfo.element&&(this.instance.unmanage(this.placeholderInfo.element,!0),delete this.placeholderInfo.element,delete this.placeholderInfo.id)}},{key:"reset",value:function(){var e=this.instance.getContainer();this.instance.off(e,In,this.mouseupHandler),this.instance.off(e,Sn,this.mousedownHandler)}},{key:"init",value:function(e){}},{key:"startNewConnectionDrag",value:function(e,t){this.jpc=this.instance._newConnection({sourceEndpoint:this.ep,targetEndpoint:this.floatingEndpoint,source:this.ep.element,target:this.placeholderInfo.element,paintStyle:this.ep.connectorStyle,hoverPaintStyle:this.ep.connectorHoverStyle,connector:this.ep.connector,overlays:this.ep.connectorOverlays,type:this.ep.edgeType,cssClass:this.ep.connectorClass,hoverClass:this.ep.connectorHoverClass,scope:e,data:t}),this.jpc.pending=!0,this.jpc.addClass(this.instance.draggingClass),this.ep.addClass(this.instance.draggingClass),this.instance.fire(Qn,this.jpc)}},{key:"startExistingConnectionDrag",value:function(){this.existingJpc=!0,this.instance.setHover(this.jpc,!1);var e=this.jpc.endpoints[0].id===this.ep.id?0:1;this.ep.detachFromConnection(this.jpc,null,!0),this.floatingEndpoint.addConnection(this.jpc),this.instance.fire(Qn,this.jpc),this.instance.sourceOrTargetChanged(this.jpc.endpoints[e].elementId,this.placeholderInfo.id,this.jpc,this.placeholderInfo.element,e),this.jpc.suspendedEndpoint=this.jpc.endpoints[e],this.jpc.suspendedElement=this.jpc.endpoints[e].element,this.jpc.suspendedElementId=this.jpc.endpoints[e].elementId,this.jpc.suspendedElementType=0===e?He:$e,this.instance.setHover(this.jpc.suspendedEndpoint,!1),this.floatingEndpoint.referenceEndpoint=this.jpc.suspendedEndpoint,this.floatingEndpoint.mergeParameters(this.jpc.suspendedEndpoint.parameters),this.jpc.endpoints[e]=this.floatingEndpoint,this.jpc.addClass(this.instance.draggingClass),this.floatingId=this.placeholderInfo.id,this.floatingIndex=e,this.instance._refreshEndpoint(this.ep)}},{key:"_shouldStartDrag",value:function(){var e=!0;this.ep.enabled||(e=!1),null!=this.jpc||this.ep.isSource||this.ep.isTemporarySource||(e=!1),!this.ep.isSource||!this.ep.isFull()||null!=this.jpc&&this.ep.dragAllowedWhenFull||(e=!1),null==this.jpc||this.jpc.isDetachable(this.ep)||(this.ep.isFull()?e=!1:this.jpc=null);var t={},n=this.instance.checkCondition(null==this.jpc?Nt:$t,{endpoint:this.ep,source:this.ep.element,sourceId:this.ep.elementId,connection:this.jpc});return!1===n?e=!1:"object"===i(n)?y(t=n,this.payload||{}):t=this.payload||{},[e,t]}},{key:"_createFloatingEndpoint",value:function(e){var t=this.ep.endpoint;null!=this.ep.edgeType&&(t=this.instance._deriveEndpointAndAnchorSpec(this.ep.edgeType).endpoints[1]),this.floatingEndpoint=function(e,t,n,i,r,o){var a=Uo(o,i,r),s={paintStyle:e.getPaintStyle(),preparedAnchor:a,element:i,scope:e.scope,cssClass:[ct,e.cssClass].join(" ")};null!=t&&(de(t,mo)?s.existingEndpoint=t:s.endpoint=t);var l=o._internal_newEndpoint(s);return o._paintEndpoint(l,{}),l}(this.ep,t,0,this.placeholderInfo.element,this.placeholderInfo.id,this.instance),this.floatingAnchor=this.floatingEndpoint._anchor,this.floatingEndpoint.deleteOnEmpty=!0,this.floatingElement=this.floatingEndpoint.endpoint.canvas,this.floatingId=this.instance.getId(this.floatingElement)}},{key:"_populateTargets",value:function(e,t){var n,i=this,r=this.jpc&&this.jpc.endpoints[0]===this.ep;if(O(this.instance.getContainer().querySelectorAll([".",at,"[",et,this.ep.scope,"]:not(.",ct,")"].join("")),(function(t){if(!(null==i.jpc&&t===e||t===i.floatingElement||null==i.jpc&&t.jtk.endpoint.isFull())&&(r&&t.jtk.endpoint.isSource||!r&&t.jtk.endpoint.isTarget)){var o=Fe(t,i.instance),a=Me(t,i.instance);n={x:o.x,y:o.y,w:a.w,h:a.h},i.endpointDropTargets.push({el:t,targetEl:t,r:n,endpoint:t.jtk.endpoint,def:null}),i.instance.addClass(t,so)}})),r){var o=H(this.instance.sourceSelectors,(function(e){return e.isEnabled()&&(null==e.def.def.scope||e.def.def.scope===i.ep.scope)}));null!=o&&O(this._findTargetZones(o),(function(e){if(e.getAttribute(An)!==Bi){var t=e.getAttribute(gn);if(null!=t&&t!==i.ep.scope)return;var n={r:null,el:e};n.targetEl=Ae(e,Qt,i.instance.getContainer(),!0);var r=Fe(n.el,i.instance),a=Me(n.el,i.instance);n.r={x:r.x,y:r.y,w:a.w,h:a.h},null!=o.def.def.rank&&(n.rank=o.def.def.rank),n.def=o.def,i.endpointDropTargets.push(n),i.instance.addClass(n.targetEl,so)}}))}else $(this.instance.targetSelectors,(function(e){return e.isEnabled()})).forEach((function(e){O(i._findTargetZones(e),(function(n){if(n.getAttribute(An)!==Bi){var r=n.getAttribute(gn);if(null!=r&&r!==i.ep.scope)return;var o={r:null,el:n};if(null!=e.def.def.parentSelector&&(o.targetEl=Ae(n,e.def.def.parentSelector,i.instance.getContainer(),!0)),null==o.targetEl&&(o.targetEl=Ae(n,Qt,i.instance.getContainer(),!0)),(!1===e.def.def.allowLoopback||i._activeDefinition&&!1===i._activeDefinition.def.def.allowLoopback)&&o.targetEl===i.ep.element)return;if(null!=e.def.def.canAcceptNewConnection&&!e.def.def.canAcceptNewConnection(o.targetEl,t))return;var a=e.def.def.maxConnections;if(null!=a&&-1!==a&&i.instance.select({target:o.targetEl}).length>=a)return;var s=Fe(n,i.instance),l=Me(n,i.instance);o.r={x:s.x,y:s.y,w:l.w,h:l.h},o.def=e.def,null!=e.def.def.rank&&(o.rank=e.def.def.rank),i.endpointDropTargets.push(o),i.instance.addClass(o.targetEl,so)}}))}));this.endpointDropTargets.sort((function(e,t){if(e.targetEl._isJsPlumbGroup&&!t.targetEl._isJsPlumbGroup)return 1;if(!e.targetEl._isJsPlumbGroup&&t.targetEl._isJsPlumbGroup)return-1;if(e.targetEl._isJsPlumbGroup&&t.targetEl._isJsPlumbGroup){if(i.instance.groupManager.isAncestor(e.targetEl._jsPlumbGroup,t.targetEl._jsPlumbGroup))return-1;if(i.instance.groupManager.isAncestor(t.targetEl._jsPlumbGroup,e.targetEl._jsPlumbGroup))return 1}else{if(null==e.rank||null==t.rank)return 0;if(e.rank>t.rank)return-1;if(e.rank<t.rank)return 1}}))}},{key:"_findTargetZones",value:function(e){var t;if(e.redrop===Yo){var n=this.instance.targetSelectors.map((function(e){return e.selector}));n.push.apply(n,A(this.instance.sourceSelectors.map((function(e){return e.selector})))),n.push(Qt),t=n.join(",")}else if(e.redrop===qo)t=e.selector;else if(e.redrop===Xo)t=this.instance.sourceSelectors.map((function(e){return e.selector})).join(",");else if(e.redrop===Jo)t=this.instance.targetSelectors.map((function(e){return e.selector})).join(",");else if(e.redrop===Zo){var i=this.instance.targetSelectors.map((function(e){return e.selector}));i.push.apply(i,A(this.instance.sourceSelectors.map((function(e){return e.selector})))),t=i.join(",")}return this.instance.getContainer().querySelectorAll(t)}},{key:"onStart",value:function(e){this.endpointDropTargets.length=0,this.currentDropTarget=null,this._stopped=!1;var t=e.drag.getDragElement();if(this.ep=t.jtk.endpoint,!this.ep)return!1;this.endpointRepresentation=this.ep.endpoint,this.canvasElement=this.endpointRepresentation.canvas,this.jpc=this.ep.connectorSelector();var n=p(this._shouldStartDrag(),2),i=n[0],r=n[1];if(!1===i)return this._stopped=!0,!1;this.instance.setHover(this.ep,!1),this.instance.isConnectionBeingDragged=!0,this.jpc&&!this.ep.isFull()&&this.ep.isSource&&(this.jpc=null),this._createFloatingEndpoint(this.canvasElement),this._populateTargets(this.canvasElement,e.e),null==this.jpc?this.startNewConnectionDrag(this.ep.scope,r):this.startExistingConnectionDrag(),this._registerFloatingConnection(this.placeholderInfo,this.jpc),this.instance.currentlyDragging=!0}},{key:"onBeforeStart",value:function(e){this.payload=e.e.payload||{}}},{key:"onDrag",value:function(e){if(this._stopped)return!0;if(this.placeholderInfo.element){var t=Me(this.floatingElement,this.instance);this.instance.setElementPosition(this.placeholderInfo.element,e.pos.x,e.pos.y);for(var n,i,r={x:e.pos.x,y:e.pos.y,w:t.w,h:t.h},o=0;o<this.endpointDropTargets.length;o++)if(mr(r,this.endpointDropTargets[o].r)){n=this.endpointDropTargets[o];break}n!==this.currentDropTarget&&null!=this.currentDropTarget&&(i=this._getFloatingAnchorIndex(),this.instance.removeClass(this.currentDropTarget.el,co),this.currentDropTarget.endpoint&&(this.currentDropTarget.endpoint.endpoint.removeClass(this.instance.endpointDropAllowedClass),this.currentDropTarget.endpoint.endpoint.removeClass(this.instance.endpointDropForbiddenClass)),this.floatingAnchor.out()),null!=n&&(this.instance.addClass(n.el,co),i=this._getFloatingAnchorIndex(),null!=n.endpoint&&(n.endpoint.isSource&&0===i||n.endpoint.isTarget&&0!==i||this.jpc.suspendedEndpoint&&n.endpoint.referenceEndpoint&&n.endpoint.referenceEndpoint.id===this.jpc.suspendedEndpoint.id?(this.instance.checkCondition(nt,{sourceEndpoint:this.jpc.endpoints[i],targetEndpoint:n.endpoint.endpoint,connection:this.jpc})?(n.endpoint.endpoint.addClass(this.instance.endpointDropAllowedClass),n.endpoint.endpoint.removeClass(this.instance.endpointDropForbiddenClass)):(n.endpoint.endpoint.removeClass(this.instance.endpointDropAllowedClass),n.endpoint.endpoint.addClass(this.instance.endpointDropForbiddenClass)),this.floatingAnchor.over(n.endpoint),this.instance._paintConnection(this.jpc)):n=null)),this.currentDropTarget=n}}},{key:"_maybeCleanup",value:function(e){e._mtNew&&0===e.connections.length?this.instance.deleteEndpoint(e):delete e._mtNew}},{key:"_reattachOrDiscard",value:function(e){var t=null!=this.jpc.suspendedEndpoint,n=this._getFloatingAnchorIndex();return t&&this._shouldReattach()?(0===n?(this.jpc.source=this.jpc.suspendedElement,this.jpc.sourceId=this.jpc.suspendedElementId):(this.jpc.target=this.jpc.suspendedElement,this.jpc.targetId=this.jpc.suspendedElementId),this._doForceReattach(n),!0):(this._discard(n,e),!1)}},{key:"onStop",value:function(e){var t=this,n=e.e;this.instance.isConnectionBeingDragged=!1,this.instance.currentlyDragging=!1;var i=Ne(co,so);if(O(this.instance.getContainer().querySelectorAll(ta),(function(e){t.instance.removeClass(e,i)})),this.jpc&&null!=this.jpc.endpoints){var r,o=null!=this.jpc.suspendedEndpoint,a=this._getFloatingAnchorIndex(),s=this.jpc.suspendedEndpoint;if(null!=this.currentDropTarget)if(null==(r=this._getDropEndpoint(e,this.jpc)))this._reattachOrDiscard(e.e);else if(s&&s.id===r.id)this._doForceReattach(a);else if(r.enabled)if(r.isFull())r.fire(Ft,{endpoint:this,connection:this.jpc,maxConnections:this.instance.defaults.maxConnections},n),this._reattachOrDiscard(e.e);else{0===a?(this.jpc.source=r.element,this.jpc.sourceId=r.elementId):(this.jpc.target=r.element,this.jpc.targetId=r.elementId);var l=!0;o&&this.jpc.suspendedEndpoint.id!==r.id&&(this.jpc.isDetachAllowed(this.jpc)&&this.jpc.endpoints[a].isDetachAllowed(this.jpc)&&this.jpc.suspendedEndpoint.isDetachAllowed(this.jpc)&&this.instance.checkCondition("beforeDetach",this.jpc)||(l=!1)),(l=l&&r.isDropAllowed(this.jpc.sourceId,this.jpc.targetId,this.jpc.scope,this.jpc,r))?this._drop(r,a,n,l):this._reattachOrDiscard(e.e)}else this._reattachOrDiscard(e.e);else this._reattachOrDiscard(e.e);this.instance._refreshEndpoint(this.ep),this.ep.removeClass(this.instance.draggingClass),this._cleanupDraggablePlaceholder(),this.jpc.removeClass(this.instance.draggingClass),delete this.jpc.suspendedEndpoint,delete this.jpc.suspendedElement,delete this.jpc.suspendedElementType,delete this.jpc.suspendedElementId,delete this.jpc.suspendedIndex,delete this.floatingId,delete this.floatingIndex,delete this.floatingElement,delete this.floatingEndpoint,delete this.floatingAnchor,delete this.jpc.pending,null!=r&&this._maybeCleanup(r)}}},{key:"_getSourceDefinition",value:function(e){for(var t,n=this.instance.getContainer(),i=0;i<this.instance.sourceSelectors.length;i++)if((t=this.instance.sourceSelectors[i]).isEnabled()&&!1!==ea(e,n,t.selector,this.instance,t.exclude))return t}},{key:"_getDropEndpoint",value:function(e,t){var n;if(null==this.currentDropTarget.endpoint){var i=this.currentDropTarget.def,r=e.e.target||e.e.srcElement;if(null==i)return null;var o=this.currentDropTarget.targetEl,a=zs(e.e,o,this.instance.currentZoom),s=this.instance._deriveEndpointAndAnchorSpec(t.getType().join(" "),!0),l=s.endpoints?y(e,{endpoint:i.def.endpoint||s.endpoints[1],cssClass:i.def.cssClass||"",source:!0===i.def.source,target:!0===i.def.target}):e,c=this.instance.validAnchorsSpec(s.anchors)?s.anchors:this.instance.areDefaultAnchorsSet()?this.instance.defaults.anchors:null,u=i.def.anchor,d=i.def.anchorPositionFinder?i.def.anchorPositionFinder(o,a,i.def,e.e):null,h=null!=d?d:null!=u?u:null!=c&&null!=c[1]?c[1]:null;if(null!=h&&(l=y(l,{anchor:h})),null!=i.def.portId&&(l.portId=i.def.portId),(l=I(l,i.def.parameterExtractor?i.def.parameterExtractor(this.currentDropTarget.el,r,e.e):{})).element=o,(n=this.instance._internal_newEndpoint(l))._mtNew=!0,n.deleteOnEmpty=!0,i.def.parameters&&n.mergeParameters(i.def.parameters),i.def.extract){var f={};for(var p in i.def.extract){var A=this.currentDropTarget.el.getAttribute(p);A&&(f[i.def.extract[p]]=A)}n.mergeParameters(f)}}else n=this.currentDropTarget.endpoint;return n&&(n.removeClass(this.instance.endpointDropAllowedClass),n.removeClass(this.instance.endpointDropForbiddenClass)),n}},{key:"_doForceReattach",value:function(e){this.floatingEndpoint.detachFromConnection(this.jpc,null,!0),this.jpc.endpoints[e]=this.jpc.suspendedEndpoint,this.instance.setHover(this.jpc,!1),this.jpc._forceDetach=!0,this.jpc.suspendedEndpoint.addConnection(this.jpc),this.instance.sourceOrTargetChanged(this.floatingId,this.jpc.suspendedEndpoint.elementId,this.jpc,this.jpc.suspendedEndpoint.element,e),this.instance.deleteEndpoint(this.floatingEndpoint),this.instance.repaint(this.jpc.source),delete this.jpc._forceDetach}},{key:"_shouldReattach",value:function(){if(this.jpc.isReattach()||this.jpc._forceReattach)return!0;var e=this.jpc.suspendedEndpoint,t=this.jpc.suspendedElementType==He?1:0,n=this.jpc.endpoints[t];return!P(!0,!1,[[e,Ot,[this.jpc]],[n,Ot,[this.jpc]],[this.jpc,Ot,[this.jpc]],[this.instance,tt,[Ht,this.jpc]]])}},{key:"_discard",value:function(e,t){this.jpc.pending?this.instance.fire($n,this.jpc,t):(0===e?(this.jpc.source=this.jpc.suspendedEndpoint.element,this.jpc.sourceId=this.jpc.suspendedEndpoint.elementId):(this.jpc.target=this.jpc.suspendedEndpoint.element,this.jpc.targetId=this.jpc.suspendedEndpoint.elementId),this.jpc.endpoints[e]=this.jpc.suspendedEndpoint),this.floatingEndpoint&&this.floatingEndpoint.detachFromConnection(this.jpc),this.instance.deleteConnection(this.jpc,{originalEvent:t,force:!0})}},{key:"_drop",value:function(e,t,n,i){if(this.jpc.endpoints[t].detachFromConnection(this.jpc),this.jpc.suspendedEndpoint&&this.jpc.suspendedEndpoint.detachFromConnection(this.jpc),this.jpc.endpoints[t]=e,e.addConnection(this.jpc),this.jpc.suspendedEndpoint){var r=this.jpc.suspendedEndpoint.elementId;this.instance.fireMoveEvent({index:t,originalSourceId:0===t?r:this.jpc.sourceId,newSourceId:0===t?e.elementId:this.jpc.sourceId,originalTargetId:1===t?r:this.jpc.targetId,newTargetId:1===t?e.elementId:this.jpc.targetId,originalEndpoint:this.jpc.suspendedEndpoint,connection:this.jpc,newEndpoint:e},n)}1===t?this.instance.sourceOrTargetChanged(this.floatingId,this.jpc.targetId,this.jpc,this.jpc.target,1):this.instance.sourceOrTargetChanged(this.floatingId,this.jpc.sourceId,this.jpc,this.jpc.source,0),this.jpc.endpoints[0].finalEndpoint&&(this.jpc.endpoints[0].detachFromConnection(this.jpc),this.jpc.endpoints[0]=this.jpc.endpoints[0].finalEndpoint,this.jpc.endpoints[0].addConnection(this.jpc)),C(i)&&this.jpc.mergeData(i),this._originalAnchorSpec&&(this.jpc.endpoints[0].setAnchor(this._originalAnchorSpec),this._originalAnchorSpec=null),this.instance._finaliseConnection(this.jpc,null,n),this.instance.setHover(this.jpc,!1),this.instance.revalidate(this.jpc.endpoints[0].element)}},{key:"_registerFloatingConnection",value:function(e,t){this.floatingConnections[e.id]=t}},{key:"_getFloatingAnchorIndex",value:function(){return null==this.floatingIndex?1:this.floatingIndex}}]),e}(),ra=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),(o=t.call(this,e,i)).instance=e,o.dragSelection=i,s(d(o),"selector",[">",yi,Qt].join(" ")),s(d(o),"doRevalidate",void 0),o.doRevalidate=o._revalidate.bind(d(o)),o}return a(n,[{key:"reset",value:function(){this.drag.off(Hn,this.doRevalidate)}},{key:"_revalidate",value:function(e){this.instance.revalidate(e)}},{key:"init",value:function(e){this.drag=e,e.on(Hn,this.doRevalidate)}},{key:"useGhostProxy",value:function(e,t){var n=t._jsPlumbParentGroup;return null!=n&&!0===n.ghost}},{key:"makeGhostProxy",value:function(e){var t=e,n=t.cloneNode(!0);return n._jsPlumbParentGroup=t._jsPlumbParentGroup,n}}]),n}(ho),oa=function(){function e(t,n){r(this,e),this.instance=t,this.overlay=n,s(this,"htmlElementOverlay",void 0),this.htmlElementOverlay=n}return a(e,null,[{key:"getElement",value:function(e,t,n){if(null==e.canvas){if(n&&t){e.canvas=n(t);var i=e.instance.overlayClass+" "+(e.cssClass?e.cssClass:"");e.instance.addClass(e.canvas,i)}else e.canvas=Se(bn,{},e.instance.overlayClass+" "+(e.cssClass?e.cssClass:""));for(var r in e.instance.setAttribute(e.canvas,"jtk-overlay-id",e.id),e.attributes)e.instance.setAttribute(e.canvas,r,e.attributes[r]);e.canvas.style.position=ze,e.instance._appendElement(e.canvas,e.instance.getContainer()),e.instance.getId(e.canvas);var o="translate(-50%, -50%)";e.canvas.style.webkitTransform=o,e.canvas.style.mozTransform=o,e.canvas.style.msTransform=o,e.canvas.style.oTransform=o,e.canvas.style.transform=o,e.isVisible()||(e.canvas.style.display=We),e.canvas.jtk={overlay:e}}return e.canvas}},{key:"destroy",value:function(e){e.canvas&&e.canvas.parentNode&&e.canvas.parentNode.removeChild(e.canvas),delete e.canvas,delete e.cachedDimensions}},{key:"_getDimensions",value:function(e,t){return(null==e.cachedDimensions||t)&&(e.cachedDimensions={w:1,h:1}),e.cachedDimensions}}]),e}(),aa=function(){function e(){r(this,e),s(this,"_listeners",{}),s(this,"eventsSuspended",!1),s(this,"tick",!1),s(this,"eventsToDieOn",{ready:!0}),s(this,"queue",[])}return a(e,[{key:"fire",value:function(e,t,n){var i=null;if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[e]){var r=this._listeners[e].length,o=0,a=!1;if(!this.shouldFireEvent||this.shouldFireEvent(e,t,n))for(;!a&&o<r&&!1!==i;){if(this.eventsToDieOn[e])this._listeners[e][o](t,n);else try{i=this._listeners[e][o](t,n)}catch(t){se("jsPlumb: fire failed for event "+e+" : "+(t.message||t))}o++,null!=this._listeners&&null!=this._listeners[e]||(a=!0)}}this.tick=!1,this._drain()}return i}},{key:"_drain",value:function(){var e=this.queue.pop();e&&this.fire.apply(this,e)}},{key:"unbind",value:function(e,t){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"==typeof e)delete this._listeners[e];else if(e.__jsPlumb){var n;for(var i in e.__jsPlumb)n=e.__jsPlumb[i],z(this._listeners[n]||[],e)}}else 2===arguments.length&&z(this._listeners[e]||[],t);return this}},{key:"getListener",value:function(e){return this._listeners[e]||[]}},{key:"isSuspendEvents",value:function(){return this.eventsSuspended}},{key:"setSuspendEvents",value:function(e){this.eventsSuspended=e}},{key:"bind",value:function(e,t,n){var i=this,r=function(e){G(i._listeners,e,t,n),t.__jsPlumb=t.__jsPlumb||{},t.__jsPlumb[Z()]=e};if("string"==typeof e)r(e);else if(null!=e.length)for(var o=0;o<e.length;o++)r(e[o]);return this}},{key:"silently",value:function(e){this.setSuspendEvents(!0);try{e()}catch(e){se("Cannot execute silent function "+e)}this.setSuspendEvents(!1)}}]),e}(),sa=function(e){l(n,e);var t=h(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"shouldFireEvent",value:function(e,t,n){return!0}}]),n}(aa);function la(e){return null!=e.type&&null!=e.options}function ca(e){var t=null;return(t=w(e)?{type:e,options:{}}:e).options.id=t.options.id||Z(),t}var ua=function(e){l(n,e);var t=h(n);function n(e,i,o){var a;for(var l in r(this,n),(a=t.call(this)).instance=e,a.component=i,s(d(a),"id",void 0),s(d(a),"type",void 0),s(d(a),"cssClass",void 0),s(d(a),"visible",!0),s(d(a),"location",void 0),s(d(a),"events",void 0),s(d(a),"attributes",void 0),o=o||{},a.id=o.id||Z(),a.cssClass=o.cssClass||"",a.setLocation(o.location),a.events=o.events||{},a.attributes=o.attributes||{},a.events)a.bind(l,a.events[l]);return a}return a(n,[{key:"setLocation",value:function(e){var t=null==this.location?.5:this.location;if(null!=e)try{var n="string"==typeof e?parseFloat(e):e;isNaN(n)||(t=n)}catch(e){}this.location=t}},{key:"shouldFireEvent",value:function(e,t,n){return!0}},{key:"setVisible",value:function(e){this.visible=e,this.instance.setOverlayVisible(this,e)}},{key:"isVisible",value:function(){return this.visible}}]),n}(aa),da={},ha={get:function(e,t,n,i){var r=da[t];if(r)return new r(e,n,i);throw{message:"jsPlumb: unknown overlay type '"+t+"'"}},register:function(e,t){da[e]=t}},fa=function(e){l(n,e);var t=h(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,e,i,o)).instance=e,a.component=i,s(d(a),"label",void 0),s(d(a),"labelText",void 0),s(d(a),"type",n.type),s(d(a),"cachedDimensions",void 0),o=o||{label:""},a.setLabel(o.label),a}return a(n,[{key:"getLabel",value:function(){return k(this.label)?this.label(this):this.labelText}},{key:"setLabel",value:function(e){this.label=e,this.labelText=null,this.instance.updateLabel(this)}},{key:"getDimensions",value:function(){return{w:1,h:1}}},{key:"updateFrom",value:function(e){null!=e.label&&this.setLabel(e.label),null!=e.location&&(this.setLocation(e.location),this.instance.updateLabel(this))}}]),n}(ua);function pa(e){return e.type===fa.type}function Aa(e){return null==e?null:e.split(" ").filter((function(e){return null!=e&&e.length>0}))}function ga(e,t,n){for(var i in t)e[i]=n}s(fa,"type","Label"),ha.register(fa.type,fa);var ma="__default",va="__label",ya="overlay",ba="remove";function wa(e,t){if(e.getDefaultType){var n=e.getTypeDescriptor(),i={},r=e.getDefaultType(),o=y({},r);ga(i,r,ma),e._types.forEach((function(t){if(t!==ma){var r=e.instance.getType(t,n);if(null!=r){var a=new Set(["connector","anchor","anchors"]);if("override"===r.mergeStrategy)for(var s in r)a.add(s);o=I(o,r,["cssClass"],W(a)),ga(i,r,t)}}})),t&&(o=R(o,t,"_")),e.applyType(o,i)}}function xa(e,t){var n=e.instance.getType(t,e.getTypeDescriptor());null!=n&&n.cssClass&&e.removeClass(n.cssClass)}function Ca(e){if(e.paintStyle&&e.hoverPaintStyle){var t={};y(t,e.paintStyle),y(t,e.hoverPaintStyle),e.hoverPaintStyle=t}}var _a="add",ka="remove",Sa=function(e){l(n,e);var t=h(n);function n(e,i){var o;if(r(this,n),(o=t.call(this)).instance=e,s(d(o),"defaultLabelLocation",.5),s(d(o),"overlays",{}),s(d(o),"overlayPositions",{}),s(d(o),"overlayPlacements",{}),s(d(o),"clone",void 0),s(d(o),"deleted",void 0),s(d(o),"segment",void 0),s(d(o),"x",void 0),s(d(o),"y",void 0),s(d(o),"w",void 0),s(d(o),"h",void 0),s(d(o),"id",void 0),s(d(o),"visible",!0),s(d(o),"typeId",void 0),s(d(o),"params",{}),s(d(o),"paintStyle",void 0),s(d(o),"hoverPaintStyle",void 0),s(d(o),"paintStyleInUse",void 0),s(d(o),"_hover",!1),s(d(o),"lastPaintedAt",void 0),s(d(o),"data",void 0),s(d(o),"_defaultType",void 0),s(d(o),"events",void 0),s(d(o),"parameters",void 0),s(d(o),"_types",void 0),s(d(o),"_typeCache",void 0),s(d(o),"cssClass",void 0),s(d(o),"hoverClass",void 0),s(d(o),"beforeDetach",void 0),s(d(o),"beforeDrop",void 0),i=i||{},o.cssClass=i.cssClass||"",o.hoverClass=i.hoverClass||e.defaults.hoverClass,o.beforeDetach=i.beforeDetach,o.beforeDrop=i.beforeDrop,o._types=new Set,o._typeCache={},o.parameters=T(i.parameters||{}),o.id=i.id||o.getIdPrefix()+(new Date).getTime(),o._defaultType={parameters:o.parameters,scope:i.scope||o.instance.defaultScope,overlays:{}},i.events)for(var a in i.events)o.bind(a,i.events[a]);o.clone=function(){var t=Object.create(o.constructor.prototype);return o.constructor.apply(t,[e,i]),t},o.overlays={},o.overlayPositions={};var l=i.overlays||[],c={},u=o.getDefaultOverlayKey();if(u){var h=o.instance.defaults[u];h&&l.push.apply(l,A(h));for(var f=0;f<l.length;f++){var p=ca(l[f]);c[p.options.id]=p}}return o._defaultType.overlays=c,i.label&&(o.getDefaultType().overlays[va]={type:fa.type,options:{label:i.label,location:i.labelLocation||o.defaultLabelLocation,id:va,cssClass:"jtk-default-label"}}),o}return a(n,[{key:"isDetachAllowed",value:function(e){var t=!0;if(this.beforeDetach)try{t=this.beforeDetach(e)}catch(e){se("jsPlumb: beforeDetach callback failed",e)}return t}},{key:"isDropAllowed",value:function(e,t,n,i,r){var o,a={sourceId:e,targetId:t,scope:n,connection:i,dropEndpoint:r};if(this.beforeDrop)try{o=this.beforeDrop(a)}catch(e){se("jsPlumb: beforeDrop callback failed",e)}else o=this.instance.checkCondition(Ut,a);return o}},{key:"getDefaultType",value:function(){return this._defaultType}},{key:"appendToDefaultType",value:function(e){for(var t in e)this._defaultType[t]=e[t]}},{key:"getId",value:function(){return this.id}},{key:"cacheTypeItem",value:function(e,t,n){this._typeCache[n]=this._typeCache[n]||{},this._typeCache[n][e]=t}},{key:"getCachedTypeItem",value:function(e,t){return this._typeCache[t]?this._typeCache[t][e]:null}},{key:"setType",value:function(e,t){this.clearTypes(),(Aa(e)||[]).forEach(this._types.add,this._types),wa(this,t)}},{key:"getType",value:function(){return Array.from(this._types.keys())}},{key:"reapplyTypes",value:function(e){wa(this,e)}},{key:"hasType",value:function(e){return this._types.has(e)}},{key:"addType",value:function(e,t){var n=Aa(e),i=!1;if(null!=n){for(var r=0,o=n.length;r<o;r++)this._types.has(n[r])||(this._types.add(n[r]),i=!0);i&&wa(this,t)}}},{key:"removeType",value:function(e,t){var n,i=this,r=Aa(e),o=!1;if(null!=r){for(var a=0,s=r.length;a<s;a++)n=r[a],o=!!i._types.has(n)&&(xa(i,n),i._types.delete(n),!0)||o;o&&wa(this,t)}}},{key:"clearTypes",value:function(e){var t=this;this._types.forEach((function(e){xa(t,e)})),this._types.clear(),wa(this,e)}},{key:"toggleType",value:function(e,t){var n=Aa(e);if(null!=n){for(var i=0,r=n.length;i<r;i++)this._types.has(n[i])?(xa(this,n[i]),this._types.delete(n[i])):this._types.add(n[i]);wa(this,t)}}},{key:"applyType",value:function(e,t){if(this.setPaintStyle(e.paintStyle),this.setHoverPaintStyle(e.hoverPaintStyle),this.mergeParameters(e.parameters),this.paintStyleInUse=this.getPaintStyle(),e.overlays){var n,i={};for(n in e.overlays){var r=this.overlays[e.overlays[n].options.id];if(r)r.updateFrom(e.overlays[n].options),i[e.overlays[n].options.id]=!0,this.instance.reattachOverlay(r,this);else{var o=this.getCachedTypeItem(ya,e.overlays[n].options.id);null!=o?(this.instance.reattachOverlay(o,this),o.setVisible(!0),o.updateFrom(e.overlays[n].options),this.overlays[o.id]=o):o=this.addOverlay(e.overlays[n]),i[o.id]=!0}}for(n in this.overlays)null==i[this.overlays[n].id]&&this.removeOverlay(this.overlays[n].id,!0)}}},{key:"setPaintStyle",value:function(e){this.paintStyle=e,this.paintStyleInUse=this.paintStyle,Ca(this)}},{key:"getPaintStyle",value:function(){return this.paintStyle}},{key:"setHoverPaintStyle",value:function(e){this.hoverPaintStyle=e,Ca(this)}},{key:"getHoverPaintStyle",value:function(){return this.hoverPaintStyle}},{key:"destroy",value:function(){for(var e in this.overlays)this.instance.destroyOverlay(this.overlays[e]);this.overlays={},this.overlayPositions={},this.unbind(),this.clone=null}},{key:"isHover",value:function(){return this._hover}},{key:"mergeParameters",value:function(e){null!=e&&y(this.parameters,e)}},{key:"setVisible",value:function(e){this.visible=e,e?this.showOverlays():this.hideOverlays()}},{key:"isVisible",value:function(){return this.visible}},{key:"setAbsoluteOverlayPosition",value:function(e,t){this.overlayPositions[e.id]=t}},{key:"getAbsoluteOverlayPosition",value:function(e){return this.overlayPositions?this.overlayPositions[e.id]:null}},{key:"_clazzManip",value:function(e,t){for(var n in this.overlays)"add"===e?this.instance.addOverlayClass(this.overlays[n],t):e===ba&&this.instance.removeOverlayClass(this.overlays[n],t)}},{key:"addClass",value:function(e,t){var n=(this.cssClass||"").split(" ");n.push(e),this.cssClass=n.join(" "),this._clazzManip("add",e)}},{key:"removeClass",value:function(e,t){var n=(this.cssClass||"").split(" ");this.cssClass=n.filter((function(t){return t!==e})).join(" "),this._clazzManip(ba,e)}},{key:"getClass",value:function(){return this.cssClass}},{key:"shouldFireEvent",value:function(e,t,n){return!0}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e||{}}},{key:"mergeData",value:function(e){this.data=y(this.data,e)}},{key:"addOverlay",value:function(e){var t=function(e,t){var n=null;if(w(t))n=ha.get(e.instance,t,e,{});else if(null!=t.type&&null!=t.options){var i=t,r=y({},i.options);n=ha.get(e.instance,i.type,e,r)}else n=t;return n.id=n.id||Z(),e.cacheTypeItem(ya,n,n.id),e.overlays[n.id]=n,n}(this,e);if(this.getData&&t.type===fa.type&&!w(e)){var n=this.getData(),i=e.options;if(n){var r=n[i.labelLocationAttribute||"labelLocation"];r&&(t.location=r)}}return t}},{key:"getOverlay",value:function(e){return this.overlays[e]}},{key:"getOverlays",value:function(){return this.overlays}},{key:"hideOverlay",value:function(e){var t=this.getOverlay(e);t&&t.setVisible(!1)}},{key:"hideOverlays",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i in t=t||[],this.overlays)0!==t.length&&-1===t.indexOf(i)||this.overlays[i].setVisible(!1)}},{key:"showOverlay",value:function(e){var t=this.getOverlay(e);t&&t.setVisible(!0)}},{key:"showOverlays",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i in t=t||[],this.overlays)0!==t.length&&-1===t.indexOf(i)||this.overlays[i].setVisible(!0)}},{key:"removeAllOverlays",value:function(){for(var e in this.overlays)this.instance.destroyOverlay(this.overlays[e]);this.overlays={},this.overlayPositions=null,this.overlayPlacements={}}},{key:"removeOverlay",value:function(e,t){var n=this.overlays[e];n&&(n.setVisible(!1),t||this.instance.destroyOverlay(n),delete this.overlays[e],this.overlayPositions&&delete this.overlayPositions[e],this.overlayPlacements&&delete this.overlayPlacements[e])}},{key:"removeOverlays",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t.length;i<r;i++)this.removeOverlay(arguments[i])}},{key:"getLabel",value:function(){var e=this.getLabelOverlay();return null!=e?e.getLabel():null}},{key:"getLabelOverlay",value:function(){return this.getOverlay(va)}},{key:"setLabel",value:function(e){var t,n,i,r=this.getLabelOverlay();if(r)if(w(e)||k(e))r.setLabel(e);else{var o=e;o.label&&r.setLabel(o.label),o.location&&(r.location=o.location)}else t=this,i=y({cssClass:(n=w(e)||k(e)?{label:e}:e).cssClass,id:va,component:t},n),r=new fa(t.instance,t,i),this.overlays[va]=r}}]),n}(aa),Ea=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],Ta=function(e){l(n,e);var t=h(n);function n(e,i){var o;r(this,n),(o=t.call(this,e,i)).instance=e,s(d(o),"connections",[]),s(d(o),"endpoint",void 0),s(d(o),"element",void 0),s(d(o),"elementId",void 0),s(d(o),"dragAllowedWhenFull",!0),s(d(o),"timestamp",void 0),s(d(o),"portId",void 0),s(d(o),"maxConnections",void 0),s(d(o),"proxiedBy",void 0),s(d(o),"connectorClass",void 0),s(d(o),"connectorHoverClass",void 0),s(d(o),"finalEndpoint",void 0),s(d(o),"enabled",!0),s(d(o),"isSource",void 0),s(d(o),"isTarget",void 0),s(d(o),"isTemporarySource",void 0),s(d(o),"connectionCost",1),s(d(o),"connectionsDirected",void 0),s(d(o),"connectionsDetachable",void 0),s(d(o),"reattachConnections",void 0),s(d(o),"currentAnchorClass",void 0),s(d(o),"referenceEndpoint",void 0),s(d(o),"edgeType",void 0),s(d(o),"connector",void 0),s(d(o),"connectorOverlays",void 0),s(d(o),"connectorStyle",void 0),s(d(o),"connectorHoverStyle",void 0),s(d(o),"deleteOnEmpty",void 0),s(d(o),"uuid",void 0),s(d(o),"scope",void 0),s(d(o),"_anchor",void 0),s(d(o),"defaultLabelLocation",[.5,.5]),o.appendToDefaultType({edgeType:i.edgeType,maxConnections:null==i.maxConnections?o.instance.defaults.maxConnections:i.maxConnections,paintStyle:i.paintStyle||o.instance.defaults.endpointStyle,hoverPaintStyle:i.hoverPaintStyle||o.instance.defaults.endpointHoverStyle,connectorStyle:i.connectorStyle,connectorHoverStyle:i.connectorHoverStyle,connectorClass:i.connectorClass,connectorHoverClass:i.connectorHoverClass,connectorOverlays:i.connectorOverlays,connector:i.connector}),o.enabled=!(!1===i.enabled),o.visible=!0,o.element=i.element,o.uuid=i.uuid,o.portId=i.portId,o.elementId=i.elementId,o.connectionCost=null==i.connectionCost?1:i.connectionCost,o.connectionsDirected=i.connectionsDirected,o.currentAnchorClass="",o.events={},o.connectorOverlays=i.connectorOverlays,o.connectorStyle=i.connectorStyle,o.connectorHoverStyle=i.connectorHoverStyle,o.connector=i.connector,o.edgeType=i.edgeType,o.connectorClass=i.connectorClass,o.connectorHoverClass=i.connectorHoverClass,o.deleteOnEmpty=!0===i.deleteOnEmpty,o.isSource=i.source||!1,o.isTemporarySource=i.isTemporarySource||!1,o.isTarget=i.target||!1,o.connections=i.connections||[],o.scope=i.scope||e.defaultScope,o.timestamp=null,o.reattachConnections=i.reattachConnections||e.defaults.reattachConnections,o.connectionsDetachable=e.defaults.connectionsDetachable,!1===i.connectionsDetachable&&(o.connectionsDetachable=!1),o.dragAllowedWhenFull=!1!==i.dragAllowedWhenFull,i.onMaxConnections&&o.bind(Ft,i.onMaxConnections);var a=i.endpoint||i.existingEndpoint||e.defaults.endpoint;if(o.setEndpoint(a),null!=i.preparedAnchor)o.setPreparedAnchor(i.preparedAnchor);else{var l=i.anchor?i.anchor:i.anchors?i.anchors:e.defaults.anchor||hn.Top;o.setAnchor(l)}var c=[Ei,i.type||""].join(" ");return o.addType(c,i.data),o}return a(n,[{key:"getIdPrefix",value:function(){return"_jsplumb_e"}},{key:"getTypeDescriptor",value:function(){return"endpoint"}},{key:"getXY",value:function(){return{x:this.endpoint.x,y:this.endpoint.y}}},{key:"getDefaultOverlayKey",value:function(){return"endpointOverlays"}},{key:"_updateAnchorClass",value:function(){var e=this._anchor&&this._anchor.cssClass;if(null!=e&&e.length>0){var t=this.instance.endpointAnchorClassPrefix+"-"+this.currentAnchorClass;this.currentAnchorClass=e;var n=this.instance.endpointAnchorClassPrefix+(this.currentAnchorClass?"-"+this.currentAnchorClass:"");t!==n&&(this.removeClass(t),this.addClass(n),this.instance.removeClass(this.element,t),this.instance.addClass(this.element,n))}}},{key:"setPreparedAnchor",value:function(e){return this.instance.router.setAnchor(this,e),this._updateAnchorClass(),this}},{key:"_anchorLocationChanged",value:function(e){this.fire(gt,{endpoint:this,anchor:e}),this._updateAnchorClass()}},{key:"setAnchor",value:function(e){var t=this.instance.router.prepareAnchor(e);return this.setPreparedAnchor(t),this}},{key:"addConnection",value:function(e){this.connections.push(e),this.instance._refreshEndpoint(this)}},{key:"detachFromConnection",value:function(e,t,n){(t=null==t?this.connections.indexOf(e):t)>=0&&(this.connections.splice(t,1),this.instance._refreshEndpoint(this)),!n&&this.deleteOnEmpty&&0===this.connections.length&&this.instance.deleteEndpoint(this)}},{key:"deleteEveryConnection",value:function(e){for(var t=this.connections.length,n=0;n<t;n++)this.instance.deleteConnection(this.connections[0],e)}},{key:"detachFrom",value:function(e){for(var t=[],n=0;n<this.connections.length;n++)this.connections[n].endpoints[1]!==e&&this.connections[n].endpoints[0]!==e||t.push(this.connections[n]);for(var i=0,r=t.length;i<r;i++)this.instance.deleteConnection(t[0]);return this}},{key:"setVisible",value:function(e,t,i){if(f(c(n.prototype),"setVisible",this).call(this,e),this.endpoint.setVisible(e),e?this.showOverlays():this.hideOverlays(),!t)for(var r=0;r<this.connections.length;r++)if(this.connections[r].setVisible(e),!i){var o=this===this.connections[r].endpoints[0]?1:0;1===this.connections[r].endpoints[o].connections.length&&this.connections[r].endpoints[o].setVisible(e,!0,!0)}}},{key:"applyType",value:function(e,t){f(c(n.prototype),"applyType",this).call(this,e,t),this.setPaintStyle(e.endpointStyle||e.paintStyle),this.setHoverPaintStyle(e.endpointHoverStyle||e.hoverPaintStyle),this.connectorStyle=e.connectorStyle,this.connectorHoverStyle=e.connectorHoverStyle,this.connector=e.connector,this.connectorOverlays=e.connectorOverlays,this.edgeType=e.edgeType,null!=e.maxConnections&&(this.maxConnections=e.maxConnections),e.scope&&(this.scope=e.scope),y(e,Ea),this.instance.applyEndpointType(this,e)}},{key:"destroy",value:function(){f(c(n.prototype),"destroy",this).call(this),this.deleted=!0,null!=this.endpoint&&this.instance.destroyEndpoint(this)}},{key:"isFull",value:function(){return 0===this.maxConnections||!(this.isFloating()||this.maxConnections<0||this.connections.length<this.maxConnections)}},{key:"isFloating",value:function(){return this.instance.router.isFloating(this)}},{key:"isConnectedTo",value:function(e){var t=!1;if(e)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]===e||this.connections[n].endpoints[0]===e){t=!0;break}return t}},{key:"setDragAllowedWhenFull",value:function(e){this.dragAllowedWhenFull=e}},{key:"getUuid",value:function(){return this.uuid}},{key:"connectorSelector",value:function(){return this.connections[0]}},{key:"prepareEndpoint",value:function(e,t){var n,i={cssClass:this.cssClass,endpoint:this};if(de(e,mo)){var r=e;(n=go.clone(r)).classes=i.cssClass.split(" ")}else if(w(e))n=go.get(this,e,i);else{var o=e;y(i,o.options||{}),n=go.get(this,o.type,i)}return n.typeId=t,n}},{key:"setEndpoint",value:function(e){var t=this.prepareEndpoint(e);this.setPreparedEndpoint(t)}},{key:"setPreparedEndpoint",value:function(e){null!=this.endpoint&&this.instance.destroyEndpoint(this),this.endpoint=e}},{key:"addClass",value:function(e,t){f(c(n.prototype),"addClass",this).call(this,e,t),null!=this.endpoint&&this.endpoint.addClass(e)}},{key:"removeClass",value:function(e,t){f(c(n.prototype),"removeClass",this).call(this,e,t),null!=this.endpoint&&this.endpoint.removeClass(e)}}]),n}(Sa),Ba="anchors",Ia="connector";function Da(e,t,n,i,r,o,a){var s;if(t)e.endpoints[n]=t,t.addConnection(e);else{var l=a||e.endpointSpec||e.endpointsSpec[n]||e.instance.defaults.endpoints[n]||e.instance.defaults.endpoint,c=e.endpointStyles[n]||e.endpointStyle||e.instance.defaults.endpointStyles[n]||e.instance.defaults.endpointStyle;null==c.fill&&null!=e.paintStyle&&(c.fill=e.paintStyle.stroke),null==c.outlineStroke&&null!=e.paintStyle&&(c.outlineStroke=e.paintStyle.outlineStroke),null==c.outlineWidth&&null!=e.paintStyle&&(c.outlineWidth=e.paintStyle.outlineWidth);var u=e.endpointHoverStyles[n]||e.endpointHoverStyle||e.endpointHoverStyle||e.instance.defaults.endpointHoverStyles[n]||e.instance.defaults.endpointHoverStyle;null!=e.hoverPaintStyle&&(null==u&&(u={}),null==u.fill&&(u.fill=e.hoverPaintStyle.stroke));var d=e.uuids?e.uuids[n]:null;i=null!=i?i:null!=e.instance.defaults.anchors?e.instance.defaults.anchors[n]:e.instance.defaults.anchor,s=e.instance._internal_newEndpoint({paintStyle:c,hoverPaintStyle:u,endpoint:l,connections:[e],uuid:d,element:r,scope:e.scope,anchor:i,reattachConnections:e.reattach||e.instance.defaults.reattachConnections,connectionsDetachable:e.detachable||e.instance.defaults.connectionsDetachable}),e.instance._refreshEndpoint(s),null==t&&(s.deleteOnEmpty=!0),e.endpoints[n]=s}return s}var Fa=function(e){l(n,e);var t=h(n);function n(e,i){var o;r(this,n),(o=t.call(this,e,i)).instance=e,s(d(o),"connector",void 0),s(d(o),"defaultLabelLocation",.5),s(d(o),"scope",void 0),s(d(o),"typeId","_jsplumb_connection"),s(d(o),"previousConnection",void 0),s(d(o),"sourceId",void 0),s(d(o),"targetId",void 0),s(d(o),"source",void 0),s(d(o),"target",void 0),s(d(o),"detachable",!0),s(d(o),"reattach",!1),s(d(o),"uuids",void 0),s(d(o),"cost",1),s(d(o),"directed",void 0),s(d(o),"endpoints",[null,null]),s(d(o),"endpointStyles",void 0),s(d(o),"endpointSpec",void 0),s(d(o),"endpointsSpec",void 0),s(d(o),"endpointStyle",{}),s(d(o),"endpointHoverStyle",{}),s(d(o),"endpointHoverStyles",void 0),s(d(o),"suspendedEndpoint",void 0),s(d(o),"suspendedIndex",void 0),s(d(o),"suspendedElement",void 0),s(d(o),"suspendedElementId",void 0),s(d(o),"suspendedElementType",void 0),s(d(o),"_forceReattach",void 0),s(d(o),"_forceDetach",void 0),s(d(o),"proxies",[]),s(d(o),"pending",!1),o.id=i.id,o.previousConnection=i.previousConnection,o.source=i.source,o.target=i.target,i.sourceEndpoint?(o.source=i.sourceEndpoint.element,o.sourceId=i.sourceEndpoint.elementId):o.sourceId=e.getId(o.source),i.targetEndpoint?(o.target=i.targetEndpoint.element,o.targetId=i.targetEndpoint.elementId):o.targetId=e.getId(o.target),o.scope=i.scope;var a=i.anchors?i.anchors[0]:i.anchor,l=i.anchors?i.anchors[1]:i.anchor;e.manage(o.source),e.manage(o.target),o.visible=!0,o.params={cssClass:i.cssClass,hoverClass:i.hoverClass,"pointer-events":i["pointer-events"],overlays:i.overlays},o.lastPaintedAt=null,i.type&&(i.endpoints=i.endpoints||o.instance._deriveEndpointAndAnchorSpec(i.type).endpoints),o.endpointSpec=i.endpoint,o.endpointsSpec=i.endpoints||[null,null],o.endpointStyle=i.endpointStyle,o.endpointHoverStyle=i.endpointHoverStyle,o.endpointStyles=i.endpointStyles||[null,null],o.endpointHoverStyles=i.endpointHoverStyles||[null,null],o.paintStyle=i.paintStyle,o.hoverPaintStyle=i.hoverPaintStyle,o.uuids=i.uuids,o.makeEndpoint(!0,o.source,o.sourceId,a,i.sourceEndpoint),o.makeEndpoint(!1,o.target,o.targetId,l,i.targetEndpoint),o.scope||(o.scope=o.endpoints[0].scope),null!=i.deleteEndpointsOnEmpty&&(o.endpoints[0].deleteOnEmpty=i.deleteEndpointsOnEmpty,o.endpoints[1].deleteOnEmpty=i.deleteEndpointsOnEmpty);var c=o.instance.defaults.connectionsDetachable;!1===i.detachable&&(c=!1),!1===o.endpoints[0].connectionsDetachable&&(c=!1),!1===o.endpoints[1].connectionsDetachable&&(c=!1),o.endpointsSpec=i.endpoints||[null,null],o.endpointSpec=i.endpoint||null;var u=i.reattach||o.endpoints[0].reattachConnections||o.endpoints[1].reattachConnections||o.instance.defaults.reattachConnections,h=y({},o.endpoints[0].connectorStyle||o.endpoints[1].connectorStyle||i.paintStyle||o.instance.defaults.paintStyle);if(o.appendToDefaultType({detachable:c,reattach:u,paintStyle:h,hoverPaintStyle:y({},o.endpoints[0].connectorHoverStyle||o.endpoints[1].connectorHoverStyle||i.hoverPaintStyle||o.instance.defaults.hoverPaintStyle)}),i.outlineWidth&&(h.outlineWidth=i.outlineWidth),i.outlineColor&&(h.outlineStroke=i.outlineColor),i.lineWidth&&(h.strokeWidth=i.lineWidth),i.color&&(h.stroke=i.color),!o.instance._suspendDrawing){var f=o.instance._suspendedAt||Z();o.instance._paintEndpoint(o.endpoints[0],{timestamp:f}),o.instance._paintEndpoint(o.endpoints[1],{timestamp:f})}o.cost=i.cost||o.endpoints[0].connectionCost,o.directed=i.directed,null==i.directed&&(o.directed=o.endpoints[0].connectionsDirected);var p=y({},o.endpoints[1].parameters);y(p,o.endpoints[0].parameters),y(p,o.parameters),o.parameters=p,o.paintStyleInUse=o.getPaintStyle()||{},o._setConnector(o.endpoints[0].connector||o.endpoints[1].connector||i.connector||o.instance.defaults.connector,!0);var A=null!=i.data&&C(i.data)?i.data:{};o.setData(A);var g=[Ei,o.endpoints[0].edgeType,o.endpoints[1].edgeType,i.type].join(" ");return/[^\s]/.test(g)&&o.addType(g,i.data),o}return a(n,[{key:"getIdPrefix",value:function(){return"_jsPlumb_c"}},{key:"getDefaultOverlayKey",value:function(){return Kt}},{key:"getXY",value:function(){return{x:this.connector.x,y:this.connector.y}}},{key:"makeEndpoint",value:function(e,t,n,i,r){return n=n||this.instance.getId(t),Da(this,r,e?0:1,i,t)}},{key:"getTypeDescriptor",value:function(){return n.type}},{key:"isDetachable",value:function(e){return!1!==this.detachable&&(null!=e?!0===e.connectionsDetachable:!0===this.detachable)}},{key:"setDetachable",value:function(e){this.detachable=!0===e}},{key:"isReattach",value:function(){return!0===this.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections}},{key:"setReattach",value:function(e){this.reattach=!0===e}},{key:"applyType",value:function(e,t){var i=null;null!=e.connector&&(null==(i=this.getCachedTypeItem(Ia,t.connector))&&(i=this.prepareConnector(e.connector,t.connector),this.cacheTypeItem(Ia,i,t.connector)),this.setPreparedConnector(i)),f(c(n.prototype),"applyType",this).call(this,e,t),null!=e.detachable&&this.setDetachable(e.detachable),null!=e.reattach&&this.setReattach(e.reattach),e.scope&&(this.scope=e.scope);var r=null;e.anchor?null==(r=this.getCachedTypeItem(Ba,t.anchor))&&(r=[Qo(e.anchor),Qo(e.anchor)],this.cacheTypeItem(Ba,r,t.anchor)):e.anchors&&null==(r=this.getCachedTypeItem(Ba,t.anchors))&&(r=[Qo(e.anchors[0]),Qo(e.anchors[1])],this.cacheTypeItem(Ba,r,t.anchors)),null!=r&&(this.instance.router.setConnectionAnchors(this,r),this.instance.router.isDynamicAnchor(this.endpoints[1])&&this.instance.repaint(this.endpoints[1].element)),this.instance.applyConnectorType(this.connector,e)}},{key:"addClass",value:function(e,t){f(c(n.prototype),"addClass",this).call(this,e),t&&(this.endpoints[0].addClass(e),this.endpoints[1].addClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(e)),this.connector&&this.instance.addConnectorClass(this.connector,e)}},{key:"removeClass",value:function(e,t){f(c(n.prototype),"removeClass",this).call(this,e),t&&(this.endpoints[0].removeClass(e),this.endpoints[1].removeClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(e)),this.connector&&this.instance.removeConnectorClass(this.connector,e)}},{key:"setVisible",value:function(e){f(c(n.prototype),"setVisible",this).call(this,e),this.connector&&this.instance.setConnectorVisible(this.connector,e),this.instance._paintConnection(this)}},{key:"destroy",value:function(){f(c(n.prototype),"destroy",this).call(this),this.endpoints=null,this.endpointStyles=null,this.source=null,this.target=null,this.instance.destroyConnector(this),this.connector=null,this.deleted=!0}},{key:"getUuids",value:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]}},{key:"prepareConnector",value:function(e,t){var n,i={cssClass:this.params.cssClass,hoverClass:this.params.hoverClass,"pointer-events":this.params["pointer-events"]};if(w(e))n=this.instance._makeConnector(this,e,i);else{var r=e;n=this.instance._makeConnector(this,r.type,I(r.options||{},i))}return null!=t&&(n.typeId=t),n}},{key:"setPreparedConnector",value:function(e,t,n,i){if(this.connector!==e){var r,o="";if(null!=this.connector&&(r=this.connector,o=this.instance.getConnectorClass(this.connector),this.instance.destroyConnector(this)),this.connector=e,i&&this.cacheTypeItem(Ia,e,i),this.addClass(o),null!=r){var a=this.getOverlays();for(var s in a)this.instance.reattachOverlay(a[s],this)}t||this.instance._paintConnection(this)}}},{key:"_setConnector",value:function(e,t,n,i){var r=this.prepareConnector(e,i);this.setPreparedConnector(r,t,n,i)}},{key:"replaceEndpoint",value:function(e,t){var n=this.endpoints[e],i=(n.elementId,this.instance.getEndpoints(n.element)),r=i.indexOf(n),o=Da(this,null,e,null,n.element,0,t);this.endpoints[e]=o,i.splice(r,1,o),n.detachFromConnection(this),this.instance.deleteEndpoint(n),this.instance.fire(xt,{previous:n,current:o})}}]),n}(Sa);function Ma(e){if(null==e.path){var t=y({"jtk-overlay-id":e.id},e.attributes);e.path=on(tn,t);var n=e.instance.overlayClass+" "+(e.cssClass?e.cssClass:"");e.instance.addClass(e.path,n),e.path.jtk={overlay:e}}var i=e.path.parentNode;if(null==i){if(e.component instanceof Fa){var r=e.component.connector;i=null!=r?r.canvas:null}else if(e.component instanceof Ta){var o=e.component.endpoint;i=null!=o?o.canvas:o}null!=i&&ln(i,e.path,1)}return e.path}s(Fa,"type","connection"),function(e){l(n,e);var t=h(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(d(e=t.call.apply(t,[this].concat(o))),"path",void 0),e}}(ua);var La=function(){function e(){r(this,e)}return a(e,null,[{key:"paint",value:function(e,t,n,i){if(null!=n){var r=[e.x,e.y],o=[e.w,e.h];if(null!=i&&(i.xmin<0&&(r[0]+=i.xmin),i.ymin<0&&(r[1]+=i.ymin),o[0]=i.xmax+(i.xmin<0?-i.xmin:0),o[1]=i.ymax+(i.ymin<0?-i.ymin:0)),isFinite(o[0])&&isFinite(o[1])){var a={width:""+(o[0]||0),height:""+(o[1]||0)};t.containerType===oe.HTML?rn(e.canvas,y(a,{style:an([r[0],r[1]])})):rn(e.canvas,y(a,{x:r[0],y:r[1]}))}}}}]),e}();var Pa=function(){function e(){r(this,e)}return a(e,null,[{key:"getEndpointElement",value:function(e){if(null!=e.canvas)return e.canvas;var t=on("svg",{style:"",width:"0",height:"0","pointer-events":"all",position:ze});e.canvas=t;var n=e.classes.join(" ");e.instance.addClass(t,n);for(var i=e.endpoint.scope.split(/\s/),r=0;r<i.length;r++)e.instance.setAttribute(t,et+i[r],Ti);return e.instance._appendElementToContainer(t),null!=e.cssClass&&e.instance.addClass(t,e.cssClass),e.instance.addClass(t,e.instance.endpointClass),t.jtk=t.jtk||{},t.jtk.endpoint=e.endpoint,t.style.display=!1!==e.endpoint.visible?Qe:We,t}},{key:"paint",value:function(e,t,n){if(!0!==e.endpoint.deleted){this.getEndpointElement(e),La.paint(e,e.instance,n);var i=y({},n);i.outlineStroke&&(i.stroke=i.outlineStroke),null==e.node?(e.node=t.makeNode(e,i),e.canvas.appendChild(e.node)):null!=t.updateNode&&t.updateNode(e,e.node),sn(e.canvas,e.node,i)}}}]),e}(),Ra=function(){function e(t,n){r(this,e),this.connection=t,s(this,"type",void 0),s(this,"edited",!1),s(this,"stub",void 0),s(this,"sourceStub",void 0),s(this,"targetStub",void 0),s(this,"maxStub",void 0),s(this,"typeId",void 0),s(this,"gap",void 0),s(this,"sourceGap",void 0),s(this,"targetGap",void 0),s(this,"segments",[]),s(this,"totalLength",0),s(this,"segmentProportions",[]),s(this,"segmentProportionalLengths",[]),s(this,"paintInfo",null),s(this,"strokeWidth",void 0),s(this,"x",void 0),s(this,"y",void 0),s(this,"w",void 0),s(this,"h",void 0),s(this,"segment",void 0),s(this,"bounds",{xmin:1/0,xmax:-1/0,ymin:1/0,ymax:-1/0}),s(this,"cssClass",void 0),s(this,"hoverClass",void 0),s(this,"geometry",void 0),this.stub=n.stub||this.getDefaultStubs(),this.sourceStub=Array.isArray(this.stub)?this.stub[0]:this.stub,this.targetStub=Array.isArray(this.stub)?this.stub[1]:this.stub,this.gap=n.gap||0,this.sourceGap=Array.isArray(this.gap)?this.gap[0]:this.gap,this.targetGap=Array.isArray(this.gap)?this.gap[1]:this.gap,this.maxStub=Math.max(this.sourceStub,this.targetStub),this.cssClass=n.cssClass||"",this.hoverClass=n.hoverClass||""}return a(e,[{key:"getTypeDescriptor",value:function(){return"connector"}},{key:"getIdPrefix",value:function(){return"_jsplumb_connector"}},{key:"setGeometry",value:function(e,t){this.geometry=e,this.edited=null!=e&&!t}},{key:"exportGeometry",value:function(){return this.geometry}},{key:"importGeometry",value:function(e){return this.geometry=e,!0}},{key:"resetGeometry",value:function(){this.geometry=null,this.edited=!1}},{key:"transformAnchorPlacement",value:function(e,t,n){return{x:e.x,y:e.y,ox:e.ox,oy:e.oy,curX:e.curX+t,curY:e.curY+n}}},{key:"resetBounds",value:function(){this.bounds={xmin:1/0,xmax:-1/0,ymin:1/0,ymax:-1/0}}},{key:"findSegmentForPoint",value:function(e,t){for(var n={d:1/0,s:null,x:null,y:null,l:null,x1:null,y1:null,x2:null,y2:null,index:null,connectorLocation:null},i=0;i<this.segments.length;i++){var r=this.segments[i].findClosestPointOnPath(e,t);r.d<n.d&&(n.d=r.d,n.l=r.l,n.x=r.x,n.y=r.y,n.s=this.segments[i],n.x1=r.x1,n.x2=r.x2,n.y1=r.y1,n.y2=r.y2,n.index=i,n.connectorLocation=this.segmentProportions[i][0]+r.l*(this.segmentProportions[i][1]-this.segmentProportions[i][0]))}return n}},{key:"lineIntersection",value:function(e,t,n,i){for(var r=[],o=0;o<this.segments.length;o++)r.push.apply(r,this.segments[o].lineIntersection(e,t,n,i));return r}},{key:"boxIntersection",value:function(e,t,n,i){for(var r=[],o=0;o<this.segments.length;o++)r.push.apply(r,this.segments[o].boxIntersection(e,t,n,i));return r}},{key:"boundingBoxIntersection",value:function(e){for(var t=[],n=0;n<this.segments.length;n++)t.push.apply(t,this.segments[n].boundingBoxIntersection(e));return t}},{key:"_updateSegmentProportions",value:function(){for(var e=0,t=0;t<this.segments.length;t++){var n=this.segments[t].getLength();this.segmentProportionalLengths[t]=n/this.totalLength,this.segmentProportions[t]=[e,e+=n/this.totalLength]}}},{key:"_findSegmentForLocation",value:function(e,t){var n,i,r;if(t&&(e=e>0?e/this.totalLength:(this.totalLength+e)/this.totalLength),1===e)n=this.segments.length-1,r=1;else if(0===e)r=0,n=0;else if(e>=.5){for(n=0,r=0,i=this.segmentProportions.length-1;i>-1;i--)if(this.segmentProportions[i][1]>=e&&this.segmentProportions[i][0]<=e){n=i,r=(e-this.segmentProportions[i][0])/this.segmentProportionalLengths[i];break}}else for(n=this.segmentProportions.length-1,r=1,i=0;i<this.segmentProportions.length;i++)if(this.segmentProportions[i][1]>=e){n=i,r=(e-this.segmentProportions[i][0])/this.segmentProportionalLengths[i];break}return{segment:this.segments[n],proportion:r,index:n}}},{key:"_addSegment",value:function(e,t){if(t.x1!==t.x2||t.y1!==t.y2){var n=new e(t);this.segments.push(n),this.totalLength+=n.getLength(),this.updateBounds(n)}}},{key:"_clearSegments",value:function(){this.totalLength=0,this.segments.length=0,this.segmentProportions.length=0,this.segmentProportionalLengths.length=0}},{key:"getLength",value:function(){return this.totalLength}},{key:"_prepareCompute",value:function(e){this.strokeWidth=e.strokeWidth;var t=e.sourcePos.curX,n=e.targetPos.curX,i=e.sourcePos.curY,r=e.targetPos.curY,o=Ar({x:t,y:i},{x:n,y:r}),a=n<t,s=r<i,l=[e.sourcePos.ox,e.sourcePos.oy],c=[e.targetPos.ox,e.targetPos.oy],u=a?n:t,d=s?r:i,h=Math.abs(n-t),f=Math.abs(r-i),p=0===l[0]&&0===l[1],A=0===c[0]&&0===c[1];if(p||A){var g=h>f?0:1,m=[1,0][g],v=0===g?t:i,y=0===g?n:r;p&&(l[g]=v>y?-1:1,l[m]=0),A&&(c[g]=v>y?1:-1,c[m]=0)}var b=a?h+this.sourceGap*l[0]:this.sourceGap*l[0],w=s?f+this.sourceGap*l[1]:this.sourceGap*l[1],x=a?this.targetGap*c[0]:h+this.targetGap*c[0],C=s?this.targetGap*c[1]:f+this.targetGap*c[1],_=l[0]*c[0]+l[1]*c[1],k={sx:b,sy:w,tx:x,ty:C,xSpan:Math.abs(x-b),ySpan:Math.abs(C-w),mx:(b+x)/2,my:(w+C)/2,so:l,to:c,x:u,y:d,w:h,h:f,segment:o,startStubX:b+l[0]*this.sourceStub,startStubY:w+l[1]*this.sourceStub,endStubX:x+c[0]*this.targetStub,endStubY:C+c[1]*this.targetStub,isXGreaterThanStubTimes2:Math.abs(b-x)>this.sourceStub+this.targetStub,isYGreaterThanStubTimes2:Math.abs(w-C)>this.sourceStub+this.targetStub,opposite:-1===_,perpendicular:0===_,orthogonal:1===_,sourceAxis:0===l[0]?"y":"x",points:[u,d,h,f,b,w,x,C],stubs:[this.sourceStub,this.targetStub]};return k.anchorOrientation=k.opposite?"opposite":k.orthogonal?"orthogonal":"perpendicular",k}},{key:"updateBounds",value:function(e){var t=e.extents;this.bounds.xmin=Math.min(this.bounds.xmin,t.xmin),this.bounds.xmax=Math.max(this.bounds.xmax,t.xmax),this.bounds.ymin=Math.min(this.bounds.ymin,t.ymin),this.bounds.ymax=Math.max(this.bounds.ymax,t.ymax)}},{key:"dumpSegmentsToConsole",value:function(){se("SEGMENTS:");for(var e=0;e<this.segments.length;e++)se(this.segments[e].type,""+this.segments[e].getLength(),""+this.segmentProportions[e])}},{key:"pointOnPath",value:function(e,t){var n=this._findSegmentForLocation(e,t);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||{x:0,y:0}}},{key:"gradientAtPoint",value:function(e,t){var n=this._findSegmentForLocation(e,t);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0}},{key:"pointAlongPathFrom",value:function(e,t,n){var i=this._findSegmentForLocation(e,n);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,t,!1)||{x:0,y:0}}},{key:"compute",value:function(e){this.paintInfo=this._prepareCompute(e),this._clearSegments(),this._compute(this.paintInfo,e),this.x=this.paintInfo.points[0],this.y=this.paintInfo.points[1],this.w=this.paintInfo.points[2],this.h=this.paintInfo.points[3],this.segment=this.paintInfo.segment,this._updateSegmentProportions()}},{key:"setAnchorOrientation",value:function(e,t){}}]),e}(),Oa=function(e){l(n,e);var t=h(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,e,i,o)).instance=e,a.component=i,s(d(a),"width",void 0),s(d(a),"length",void 0),s(d(a),"foldback",void 0),s(d(a),"direction",void 0),s(d(a),"location",.5),s(d(a),"paintStyle",void 0),s(d(a),"type",n.type),s(d(a),"cachedDimensions",void 0),o=o||{},a.width=o.width||20,a.length=o.length||20,a.direction=(o.direction||1)<0?-1:1,a.foldback=o.foldback||.623,a.paintStyle=o.paintStyle||{strokeWidth:1},a.location=null==o.location?a.location:Array.isArray(o.location)?o.location[0]:o.location,a}return a(n,[{key:"draw",value:function(e,t,n){if(e instanceof Ra){var i,r,o,a=e;if(this.location>1||this.location<0){var s=this.location<0?1:0;r=Cr(i=a.pointAlongPathFrom(s,this.location,!1),a.pointAlongPathFrom(s,this.location-this.direction*this.length/2,!1),this.length)}else if(1===this.location){if(r=Cr(i=a.pointOnPath(this.location),a.pointAlongPathFrom(this.location,-this.length),this.length),-1===this.direction){var l=r;r=i,i=l}}else if(0===this.location){if(i=Cr(r=a.pointOnPath(this.location),a.pointAlongPathFrom(this.location,this.length),this.length),-1===this.direction){var c=r;r=i,i=c}}else r=Cr(i=a.pointAlongPathFrom(this.location,this.direction*this.length/2),a.pointOnPath(this.location),this.length);var u={hxy:i,tail:o=_r(i,r,this.width),cxy:Cr(i,r,this.foldback*this.length)},d=this.paintStyle.stroke||t.stroke,h=this.paintStyle.fill||t.stroke;return{component:e,d:u,"stroke-width":this.paintStyle.strokeWidth||t.strokeWidth,stroke:d,fill:h,xmin:Math.min(i.x,o[0].x,o[1].x),xmax:Math.max(i.x,o[0].x,o[1].x),ymin:Math.min(i.y,o[0].y,o[1].y),ymax:Math.max(i.y,o[0].y,o[1].y)}}}},{key:"updateFrom",value:function(e){}}]),n}(ua);function Na(e){return e.type===Oa.type}s(Oa,"type","Arrow"),ha.register(Oa.type,Oa);var Ua=function(e){l(n,e);var t=h(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,e,i,o)).instance=e,s(d(a),"type",n.type),a.length=a.length/2,a.foldback=2,a}return n}(Oa);function Ha(e){return e.type===Ua.type}s(Ua,"type","Diamond"),ha.register(Ua.type,Ua);var $a=function(e){l(n,e);var t=h(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,e,i,o)).instance=e,s(d(a),"type",n.type),a.foldback=1,a}return n}(Oa);function Qa(e){return e.type===$a.type}s($a,"type","PlainArrow"),ha.register("PlainArrow",$a);var Wa=function(e){l(n,e);var t=h(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,e,i,o)).instance=e,a.component=i,s(d(a),"create",void 0),s(d(a),"type",n.type),a.create=o.create,a}return a(n,[{key:"updateFrom",value:function(e){}}]),n}(ua);function Va(e){return e.type===Wa.type}s(Wa,"type","Custom"),ha.register(Wa.type,Wa);var ja="allowNestedGroups",za="anchor",Ka="anchors",Ga="connectionOverlays",qa="connectionsDetachable",Ya="connector",Xa="container",Ja="endpoint",Za="endpointOverlays",es="endpoints",ts="endpointStyle",ns="endpointStyles",is="endpointHoverStyle",rs="endpointHoverStyles",os="hoverClass",as="hoverPaintStyle",ss="listStyle",ls="maxConnections",cs="paintStyle",us="reattachConnections",ds="scope",hs=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),s(d(o=t.call(this,e,i)),"radius",void 0),s(d(o),"defaultOffset",void 0),s(d(o),"defaultInnerRadius",void 0),s(d(o),"type",n.type),i=i||{},o.radius=i.radius||5,o.defaultOffset=.5*o.radius,o.defaultInnerRadius=o.radius/3,o}return n}(mo);s(hs,"type","Dot");var fs={type:hs.type,cls:hs,compute:function(e,t,n,i){var r=t.curX-e.radius,o=t.curY-e.radius,a=2*e.radius,s=2*e.radius;if(i&&i.stroke){var l=i.strokeWidth||1;r-=l,o-=l,a+=2*l,s+=2*l}return e.x=r,e.y=o,e.w=a,e.h=s,[r,o,a,s,e.radius]},getParams:function(e){return{radius:e.radius}}},ps=function e(t,n){r(this,e),this.instance=t,this.el=n,s(this,"group",void 0)},As=function(e){l(n,e);var t=h(n);function n(e,i,o){var a;r(this,n),(a=t.call(this,e,i)).instance=e,s(d(a),"children",[]),s(d(a),"collapsed",!1),s(d(a),"droppable",void 0),s(d(a),"enabled",void 0),s(d(a),"orphan",void 0),s(d(a),"constrain",void 0),s(d(a),"proxied",void 0),s(d(a),"ghost",void 0),s(d(a),"revert",void 0),s(d(a),"prune",void 0),s(d(a),"dropOverride",void 0),s(d(a),"anchor",void 0),s(d(a),"endpoint",void 0),s(d(a),"connections",{source:[],target:[],internal:[]}),s(d(a),"manager",void 0),s(d(a),"id",void 0),s(d(a),"elId",void 0);var l=a.el;return l._isJsPlumbGroup=!0,l._jsPlumbGroup=d(a),a.elId=e.getId(i),a.orphan=!0===o.orphan,a.revert=!0!==a.orphan&&!1!==o.revert,a.droppable=!1!==o.droppable,a.ghost=!0===o.ghost,a.enabled=!1!==o.enabled,a.prune=!0!==a.orphan&&!0===o.prune,a.constrain=a.ghost||!0===o.constrain,a.proxied=!1!==o.proxied,a.id=o.id||Z(),a.dropOverride=!0===o.dropOverride,a.anchor=o.anchor,a.endpoint=o.endpoint,a.anchor=o.anchor,e.setAttribute(i,qe,""),a}return a(n,[{key:"contentArea",get:function(){return this.instance.getGroupContentArea(this)}},{key:"overrideDrop",value:function(e,t){return this.dropOverride&&(this.revert||this.prune||this.orphan)}},{key:"getAnchor",value:function(e,t){return this.anchor||"Continuous"}},{key:"getEndpoint",value:function(e,t){return this.endpoint||{type:hs.type,options:{radius:10}}}},{key:"add",value:function(e,t){var n=this.instance.getGroupContentArea(this),i=e;if(null!=i._jsPlumbParentGroup){if(i._jsPlumbParentGroup===this)return;i._jsPlumbParentGroup.remove(e,!0,t,!1)}i._jsPlumbParentGroup=this,this.children.push(new ps(this.instance,e)),this.instance._appendElement(i,n),this.manager._updateConnectionsForGroup(this)}},{key:"resolveNode",value:function(e){return null==e?null:H(this.children,(function(t){return t.el===e}))}},{key:"remove",value:function(e,t,n,i,r){var o=this.resolveNode(e);null!=o&&this._doRemove(o,t,n,i,r)}},{key:"_doRemove",value:function(e,t,n,i,r){var o=e.el;if(delete o._jsPlumbParentGroup,V(this.children,(function(t){return t===e})),t)try{this.instance.getGroupContentArea(this).removeChild(o)}catch(e){se("Could not remove element from Group "+e)}if(!n){var a={group:this,el:o};r&&(a.targetGroup=r),this.instance.fire(It,a)}i||this.manager._updateConnectionsForGroup(this)}},{key:"removeAll",value:function(e,t){for(var n=0,i=this.children.length;n<i;n++){var r=this.children[0];this._doRemove(r,e,t,!0),this.instance.unmanage(r.el,!0)}this.children.length=0,this.manager._updateConnectionsForGroup(this)}},{key:"orphanAll",value:function(){for(var e={},t=0;t<this.children.length;t++){var n=this.manager.orphan(this.children[t].el,!1);e[n.id]=n.pos}return this.children.length=0,e}},{key:"addGroup",value:function(e){if(this.instance.allowNestedGroups&&e!==this){if(this.instance.groupManager.isAncestor(this,e))return!1;null!=e.group&&e.group.removeGroup(e);var t=this.instance.getId(e.el);this.instance.getManagedElements()[t].group=this.elId;var n=this.instance.getOffsetRelativeToRoot(e.el),i=this.collapsed?this.instance.getOffsetRelativeToRoot(this.el):this.instance.getOffsetRelativeToRoot(this.instance.getGroupContentArea(this));e.el._jsPlumbParentGroup=this,this.children.push(e),this.instance._appendElementToGroup(this,e.el),e.group=this;var r={x:n.x-i.x,y:n.y-i.y};return this.instance.setPosition(e.el,r),this.instance.fire(Mt,{parent:this,child:e}),!0}return!1}},{key:"removeGroup",value:function(e){if(e.group===this){var t=e.el,n=this.instance.getGroupContentArea(this);n===t.parentNode&&n.removeChild(e.el);var i=this.instance.getId(e.el),r=this.instance.getManagedElements()[i];r&&delete r.group,this.children=this.children.filter((function(t){return t.id!==e.id})),delete e.group,delete t._jsPlumbParentGroup,this.instance.fire(Lt,{parent:this,child:e})}}},{key:"getGroups",value:function(){return this.children.filter((function(e){return e.constructor===n}))}},{key:"getNodes",value:function(){return this.children.filter((function(e){return e.constructor===ps}))}},{key:"collapseParent",get:function(){var e=null;if(null==this.group)return null;for(var t=this.group;null!=t;)t.collapsed&&(e=t),t=t.group;return e}}]),n}(ps),gs=function(){function e(t){var n=this;r(this,e),this.instance=t,s(this,"groupMap",{}),s(this,"_connectionSourceMap",{}),s(this,"_connectionTargetMap",{}),t.bind(vt,(function(e){var t=n.getGroupFor(e.source),i=n.getGroupFor(e.target);null!=t&&null!=i&&t===i?(n._connectionSourceMap[e.connection.id]=t,n._connectionTargetMap[e.connection.id]=t,Y(t.connections.internal,e.connection)):(null!=t&&(e.target._jsPlumbGroup===t?Y(t.connections.internal,e.connection):Y(t.connections.source,e.connection),n._connectionSourceMap[e.connection.id]=t),null!=i&&(e.source._jsPlumbGroup===i?Y(i.connections.internal,e.connection):Y(i.connections.target,e.connection),n._connectionTargetMap[e.connection.id]=i))})),t.bind(_t,(function(e){n._cleanupDetachedConnection(e.connection)})),t.bind(bt,(function(e){var t=e.originalEndpoint.element,i=n.getGroupFor(t),r=e.connection.endpoints[e.index].element,o=n.getGroupFor(r),a=0===e.index?n._connectionSourceMap:n._connectionTargetMap,s=0===e.index?n._connectionTargetMap:n._connectionSourceMap;null!=o?(a[e.connection.id]=o,e.connection.source===e.connection.target&&(s[e.connection.id]=o)):(delete a[e.connection.id],e.connection.source===e.connection.target&&delete s[e.connection.id]),null!=i&&n._updateConnectionsForGroup(i),null!=o&&n._updateConnectionsForGroup(o)}))}return a(e,[{key:"_cleanupDetachedConnection",value:function(e){e.proxies.length=0;var t,n=this._connectionSourceMap[e.id];null!=n&&(t=function(t){return t.id===e.id},V(n.connections.source,t),V(n.connections.target,t),V(n.connections.internal,t),delete this._connectionSourceMap[e.id]),null!=(n=this._connectionTargetMap[e.id])&&(t=function(t){return t.id===e.id},V(n.connections.source,t),V(n.connections.target,t),V(n.connections.internal,t),delete this._connectionTargetMap[e.id])}},{key:"addGroup",value:function(e){var t=e.el;if(null!=this.groupMap[e.id])throw new Error("cannot create Group ["+e.id+"]; a Group with that ID exists");if(null!=t._isJsPlumbGroup)throw new Error("cannot create Group ["+e.id+"]; the given element is already a Group");var n=new As(this.instance,e.el,e);return this.groupMap[n.id]=n,e.collapsed&&this.collapseGroup(n),this.instance.manage(n.el),this.instance.addClass(n.el,pt),n.manager=this,this._updateConnectionsForGroup(n),this.instance.fire(St,{group:n}),n}},{key:"getGroup",value:function(e){var t=e;if(w(e)&&null==(t=this.groupMap[e]))throw new Error("No such group ["+e+"]");return t}},{key:"getGroupFor",value:function(e){for(var t=e,n=this.instance.getContainer(),i=!1,r=null;!i;)null==t||t===n?i=!0:t._jsPlumbParentGroup?(r=t._jsPlumbParentGroup,i=!0):t=t.parentNode;return r}},{key:"getGroups",value:function(){var e=[];for(var t in this.groupMap)e.push(this.groupMap[t]);return e}},{key:"removeGroup",value:function(e,t,n,i){var r=this,o=this.getGroup(e);this.expandGroup(o,!0);var a={};return O(o.children,(function(e){var t=r.instance.getManagedElements()[r.instance.getId(e.el)];t&&delete t.group})),t?(O(o.getGroups(),(function(e){return r.removeGroup(e,t,n)})),o.removeAll(n,i)):(o.group&&O(o.children,(function(e){return o.group.add(e.el)})),a=o.orphanAll()),o.group&&o.group.removeGroup(o),this.instance.unmanage(o.el,!0),delete this.groupMap[o.id],this.instance.fire(Dt,{group:o}),a}},{key:"removeAllGroups",value:function(e,t,n){for(var i in this.groupMap)this.removeGroup(this.groupMap[i],e,t,n)}},{key:"forEach",value:function(e){for(var t in this.groupMap)e(this.groupMap[t])}},{key:"orphan",value:function(e,t){var n=e;if(n._jsPlumbParentGroup){var i=n._jsPlumbParentGroup,r=this.instance.getId(n),o=this.instance.getOffset(e);return!0!==t&&i.group?this.instance._appendElementToGroup(i.group,e):this.instance._appendElementToContainer(e),this.instance.setPosition(e,o),delete n._jsPlumbParentGroup,{id:r,pos:o}}}},{key:"_updateConnectionsForGroup",value:function(e){var t=this;e.connections.source.length=0,e.connections.target.length=0,e.connections.internal.length=0;var n=e.children.slice().map((function(e){return e.el})),i=[];if(O(n,(function(e){Array.prototype.push.apply(i,t.instance.getSelector(e,Qt))})),Array.prototype.push.apply(n,i),n.length>0){var r,o,a=this.instance.getConnections({source:n,scope:Ii},!0),s=this.instance.getConnections({target:n,scope:Ii},!0),l={},c=function(n){for(var i=0;i<n.length;i++)l[n[i].id]||(l[n[i].id]=!0,r=t.getGroupFor(n[i].source),o=t.getGroupFor(n[i].target),n[i].source===e.el&&o===e||n[i].target===e.el&&r===e?e.connections.internal.push(n[i]):r===e?(o!==e?e.connections.source.push(n[i]):e.connections.internal.push(n[i]),t._connectionSourceMap[n[i].id]=e):o===e&&(e.connections.target.push(n[i]),t._connectionTargetMap[n[i].id]=e))};c(a),c(s)}}},{key:"_collapseConnection",value:function(e,t,n){var i=e.endpoints[0===t?1:0].element;if(i._jsPlumbParentGroup&&!i._jsPlumbParentGroup.proxied&&i._jsPlumbParentGroup.collapsed)return!1;var r=e.endpoints[0].element._jsPlumbParentGroup,o=null!=r?r.collapseParent||r:null,a=e.endpoints[1].element._jsPlumbParentGroup,s=null!=a?a.collapseParent||a:null;if(null==o||null==s||o.id!==s.id){var l=n.el;return this.instance.getId(l),this.instance.proxyConnection(e,t,l,(function(e,t){return n.getEndpoint(e,t)}),(function(e,t){return n.getAnchor(e,t)})),!0}return!1}},{key:"_expandConnection",value:function(e,t,n){this.instance.unproxyConnection(e,t)}},{key:"isElementDescendant",value:function(e,t){for(var n=this.instance.getContainer();;){if(null==e||e===n)return!1;if(e===t)return!0;e=e.parentNode}}},{key:"collapseGroup",value:function(e){var t=this,n=this.getGroup(e);if(null!=n&&!n.collapsed){var i=n.el;if(null==n.collapseParent){if(this.instance.setGroupVisible(n,!1),n.collapsed=!0,this.instance.removeClass(i,pt),this.instance.addClass(i,ft),n.proxied){var r=new Set,o=function(e,i){for(var o=0;o<e.length;o++){var a=e[o];!0===t._collapseConnection(a,i,n)&&r.add(a.id)}};o(n.connections.source,0),o(n.connections.target,1),O(n.getGroups(),(function(e){t.cascadeCollapse(n,e,r)}))}this.instance.revalidate(i),this.repaintGroup(n),this.instance.fire(Et,{group:n})}else n.collapsed=!0,this.instance.removeClass(i,pt),this.instance.addClass(i,ft)}}},{key:"cascadeCollapse",value:function(e,t,n){var i=this;if(e.proxied){var r=function(t,r){for(var o=0;o<t.length;o++){var a=t[o];n.has(a.id)||!0===i._collapseConnection(a,r,e)&&n.add(a.id)}};r(t.connections.source,0),r(t.connections.target,1)}O(t.getGroups(),(function(t){i.cascadeCollapse(e,t,n)}))}},{key:"expandGroup",value:function(e,t){var n=this,i=this.getGroup(e);if(null!=i){var r=i.el;if(null==i.collapseParent){if(this.instance.setGroupVisible(i,!0),i.collapsed=!1,this.instance.addClass(r,pt),this.instance.removeClass(r,ft),i.proxied){var o=function(e,t){for(var r=0;r<e.length;r++){var o=e[r];n._expandConnection(o,t,i)}};o(i.connections.source,0),o(i.connections.target,1),O(i.getGroups(),(function e(t,i){if(i||t.collapsed){var r=function(e,i){for(var r=0;r<e.length;r++){var o=e[r];n._collapseConnection(o,i,t.collapseParent||t)}};r(t.connections.source,0),r(t.connections.target,1),O(t.connections.internal,(function(e){return e.setVisible(!1)})),O(t.getGroups(),(function(t){return e(t,!0)}))}else n.expandGroup(t,!0)}))}this.instance.revalidate(r),this.repaintGroup(i),t||this.instance.fire(Tt,{group:i})}else i.collapsed=!1,this.instance.addClass(r,pt),this.instance.removeClass(r,ft)}}},{key:"toggleGroup",value:function(e){null!=(e=this.getGroup(e))&&(e.collapsed?this.expandGroup(e):this.collapseGroup(e))}},{key:"repaintGroup",value:function(e){for(var t=this.getGroup(e).children,n=0;n<t.length;n++)this.instance.revalidate(t[n].el)}},{key:"addToGroup",value:function(e,t){var n=this,i=this.getGroup(e);if(i){for(var r=i.el,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];O(a,(function(e){var o=e,a=null!=o._isJsPlumbGroup,s=o._jsPlumbGroup,l=o._jsPlumbParentGroup;if(l!==i){var c=n.instance.manage(e),u=n.instance.getOffset(e),d=i.collapsed?n.instance.getOffsetRelativeToRoot(r):n.instance.getOffset(n.instance.getGroupContentArea(i));c.group=i.elId,null!=l&&(l.remove(e,!1,t,!1,i),n._updateConnectionsForGroup(l)),a?i.addGroup(s):i.add(e,t);var h=function(e,t){var r=0===t?1:0;e.each((function(e){e.setVisible(!1),e.endpoints[r].element._jsPlumbGroup===i?(e.endpoints[r].setVisible(!1),n._expandConnection(e,r,i)):(e.endpoints[t].setVisible(!1),n._collapseConnection(e,t,i))}))};i.collapsed&&(h(n.instance.select({source:e}),0),h(n.instance.select({target:e}),1)),n.instance.getId(e);var f={x:u.x-d.x,y:u.y-d.y};if(n.instance.setPosition(e,f),n._updateConnectionsForGroup(i),n.instance.revalidate(e),!t){var p={group:i,el:e,pos:f};l&&(p.sourceGroup=l),n.instance.fire(Bt,p)}}}))}}},{key:"removeFromGroup",value:function(e,t){var n=this,i=this.getGroup(e);if(i){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];O(o,(function(e){if(i.collapsed){var r=function(t,r){for(var o=0;o<t.length;o++){var a=t[o];if(a.proxies)for(var s=0;s<a.proxies.length;s++)if(null!=a.proxies[s]){var l=a.proxies[s].originalEp.element;(l===e||n.isElementDescendant(l,e))&&n._expandConnection(a,r,i)}}};r(i.connections.source.slice(),0),r(i.connections.target.slice(),1)}i.remove(e,null,t);var o=n.instance.getManagedElements()[n.instance.getId(e)];o&&delete o.group}))}}},{key:"getAncestors",value:function(e){for(var t=[],n=e.group;null!=n;)t.push(n),n=n.group;return t}},{key:"isAncestor",value:function(e,t){return null!=e&&null!=t&&-1!==this.getAncestors(e).indexOf(t)}},{key:"getDescendants",value:function(e){var t=[];return function e(n){var i=n.getGroups();t.push.apply(t,A(i)),O(i,e)}(e),t}},{key:"isDescendant",value:function(e,t){return null!=e&&null!=t&&-1!==this.getDescendants(t).indexOf(e)}},{key:"reset",value:function(){this._connectionSourceMap={},this._connectionTargetMap={},this.groupMap={}}}]),e}(),ms=function(){function e(t,n){r(this,e),this.instance=t,this.entries=n}return a(e,[{key:"length",get:function(){return this.entries.length}},{key:"each",value:function(e){return O(this.entries,(function(t){return e(t)})),this}},{key:"get",value:function(e){return this.entries[e]}},{key:"addClass",value:function(e,t){return this.each((function(n){return n.addClass(e,t)})),this}},{key:"removeClass",value:function(e,t){return this.each((function(n){return n.removeClass(e,t)})),this}},{key:"removeAllOverlays",value:function(){return this.each((function(e){return e.removeAllOverlays()})),this}},{key:"setLabel",value:function(e){return this.each((function(t){return t.setLabel(e)})),this}},{key:"clear",value:function(){return this.entries.length=0,this}},{key:"map",value:function(e){var t=[];return this.each((function(n){return t.push(e(n))})),t}},{key:"addOverlay",value:function(e){return this.each((function(t){return t.addOverlay(e)})),this}},{key:"removeOverlay",value:function(e){return this.each((function(t){return t.removeOverlay(e)})),this}},{key:"removeOverlays",value:function(){return this.each((function(e){return e.removeOverlays()})),this}},{key:"showOverlay",value:function(e){return this.each((function(t){return t.showOverlay(e)})),this}},{key:"hideOverlay",value:function(e){return this.each((function(t){return t.hideOverlay(e)})),this}},{key:"setPaintStyle",value:function(e){return this.each((function(t){return t.setPaintStyle(e)})),this}},{key:"setHoverPaintStyle",value:function(e){return this.each((function(t){return t.setHoverPaintStyle(e)})),this}},{key:"setSuspendEvents",value:function(e){return this.each((function(t){return t.setSuspendEvents(e)})),this}},{key:"setParameter",value:function(e,t){return this.each((function(n){return n.parameters[e]=t})),this}},{key:"setParameters",value:function(e){return this.each((function(t){return t.parameters=e})),this}},{key:"setVisible",value:function(e){return this.each((function(t){return t.setVisible(e)})),this}},{key:"addType",value:function(e){return this.each((function(t){return t.addType(e)})),this}},{key:"toggleType",value:function(e){return this.each((function(t){return t.toggleType(e)})),this}},{key:"removeType",value:function(e){return this.each((function(t){return t.removeType(e)})),this}},{key:"bind",value:function(e,t){return this.each((function(n){return n.bind(e,t)})),this}},{key:"unbind",value:function(e,t){return this.each((function(n){return n.unbind(e,t)})),this}},{key:"setHover",value:function(e){var t=this;return this.each((function(n){return t.instance.setHover(n,e)})),this}}]),e}(),vs=function(e){l(n,e);var t=h(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"setEnabled",value:function(e){return this.each((function(t){return t.enabled=e})),this}},{key:"setAnchor",value:function(e){return this.each((function(t){return t.setAnchor(e)})),this}},{key:"deleteEveryConnection",value:function(){return this.each((function(e){return e.deleteEveryConnection()})),this}},{key:"deleteAll",value:function(){var e=this;return this.each((function(t){return e.instance.deleteEndpoint(t)})),this.clear(),this}}]),n}(ms),ys=function(e){l(n,e);var t=h(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"setDetachable",value:function(e){return this.each((function(t){return t.setDetachable(e)})),this}},{key:"setReattach",value:function(e){return this.each((function(t){return t.setReattach(e)})),this}},{key:"setConnector",value:function(e){return this.each((function(t){return t._setConnector(e)})),this}},{key:"deleteAll",value:function(){var e=this;this.each((function(t){return e.instance.deleteConnection(t)})),this.clear()}},{key:"repaint",value:function(){var e=this;return this.each((function(t){return e.instance._paintConnection(t)})),this}}]),n}(ms),bs=function e(){r(this,e),s(this,"affectedElements",new Set)};function ws(){return{x:0,y:0,w:0,h:0,r:0,c:{x:0,y:0},x2:0,y2:0,t:{x:0,y:0,c:{x:0,y:0},w:0,h:0,r:0,x2:0,y2:0,cr:0,sr:0},dirty:!0}}var xs=function(e,t){var n=0;return t[1]>e[1]?n=-1:t[1]<e[1]&&(n=1),n},Cs=function(e,t){return-1*xs(e,t)};function _s(e,t,n,i){he([e,t],n,xs,i)}function ks(e,t){var n=N(t,(function(t){return t[0]===e}));n>-1&&t.splice(n,1)}var Ss,Es=function(e){l(n,e);var t=h(n);function n(e){var i;return r(this,n),(i=t.call(this)).instance=e,s(d(i),"_currentTransaction",null),s(d(i),"_sortedElements",{xmin:[],xmax:[],ymin:[],ymax:[]}),s(d(i),"_elementMap",new Map),s(d(i),"_transformedElementMap",new Map),s(d(i),"_bounds",{minx:0,maxx:0,miny:0,maxy:0}),i}return a(n,[{key:"_updateBounds",value:function(e,t,n){null!=t&&(ks(e,this._sortedElements.xmin),ks(e,this._sortedElements.xmax),ks(e,this._sortedElements.ymin),ks(e,this._sortedElements.ymax),_s(e,t.t.x,this._sortedElements.xmin,!1),_s(e,t.t.x+t.t.w,this._sortedElements.xmax,!0),_s(e,t.t.y,this._sortedElements.ymin,!1),_s(e,t.t.y+t.t.h,this._sortedElements.ymax,!0),!0!==n&&this._recalculateBounds())}},{key:"_recalculateBounds",value:function(){this._bounds.minx=this._sortedElements.xmin.length>0?this._sortedElements.xmin[0][1]:0,this._bounds.maxx=this._sortedElements.xmax.length>0?this._sortedElements.xmax[0][1]:0,this._bounds.miny=this._sortedElements.ymin.length>0?this._sortedElements.ymin[0][1]:0,this._bounds.maxy=this._sortedElements.ymax.length>0?this._sortedElements.ymax[0][1]:0}},{key:"recomputeBounds",value:function(){var e=this;this._sortedElements.xmin.length=0,this._sortedElements.xmax.length=0,this._sortedElements.ymin.length=0,this._sortedElements.ymax.length=0,this._elementMap.forEach((function(t,n){e._sortedElements.xmin.push([n,t.t.x]),e._sortedElements.xmax.push([n,t.t.x+t.t.w]),e._sortedElements.ymin.push([n,t.t.y]),e._sortedElements.ymax.push([n,t.t.y+t.t.h])})),this._sortedElements.xmin.sort(xs),this._sortedElements.ymin.sort(xs),this._sortedElements.xmax.sort(Cs),this._sortedElements.ymax.sort(Cs),this._recalculateBounds()}},{key:"_finaliseUpdate",value:function(e,t,n){t.t=function(e,t,n,i,r){var o=e+n/2,a=t+i/2,s=Math.cos(r/360*Math.PI*2),l=Math.sin(r/360*Math.PI*2),c=function(e,t){return{x:o+Math.round((e-o)*s-(t-a)*l),y:a+Math.round((t-a)*s-(e-o)*l)}},u=c(e,t),d=c(e+n,t),h=c(e+n,t+i),f=c(e,t+i),p=c(e+n/2,t+i/2),A=Math.min(u.x,d.x,h.x,f.x),g=Math.max(u.x,d.x,h.x,f.x),m=Math.min(u.y,d.y,h.y,f.y),v=Math.max(u.y,d.y,h.y,f.y);return{x:A,y:m,w:g-A,h:v-m,c:p,r:r,x2:g,y2:v,cr:s,sr:l}}(t.x,t.y,t.w,t.h,t.r),this._transformedElementMap.set(e,t.t),!0!==n&&this._updateBounds(e,t,n)}},{key:"shouldFireEvent",value:function(e,t,n){return!0}},{key:"startTransaction",value:function(){if(null!=this._currentTransaction)throw new Error("Viewport: cannot start transaction; a transaction is currently active.");this._currentTransaction=new bs}},{key:"endTransaction",value:function(){var e=this;null!=this._currentTransaction&&(this._currentTransaction.affectedElements.forEach((function(t){var n=e.getPosition(t);e._finaliseUpdate(t,n,!0)})),this.recomputeBounds(),this._currentTransaction=null)}},{key:"updateElements",value:function(e){var t=this;O(e,(function(e){return t.updateElement(e.id,e.x,e.y,e.width,e.height,e.rotation)}))}},{key:"updateElement",value:function(e,t,n,i,r,o,a){var s=ue(this._elementMap,e,ws);return s.dirty=null==t&&null==s.x||null==n&&null==s.y||null==i&&null==s.w||null==r&&null==s.h,null!=t&&(s.x=t),null!=n&&(s.y=n),null!=i&&(s.w=i),null!=r&&(s.h=r),null!=o&&(s.r=o||0),s.c.x=s.x+s.w/2,s.c.y=s.y+s.h/2,s.x2=s.x+s.w,s.y2=s.y+s.h,null==this._currentTransaction?this._finaliseUpdate(e,s,a):this._currentTransaction.affectedElements.add(e),s}},{key:"refreshElement",value:function(e,t){var n=this.instance.getManagedElements(),i=n[e]?n[e].el:null;if(null!=i){var r=this.getSize(i),o=this.getOffset(i);return this.updateElement(e,o.x,o.y,r.w,r.h,null,t)}return null}},{key:"getSize",value:function(e){return this.instance.getSize(e)}},{key:"getOffset",value:function(e){return this.instance.getOffset(e)}},{key:"registerElement",value:function(e,t){return this.updateElement(e,0,0,0,0,0,t)}},{key:"addElement",value:function(e,t,n,i,r,o){return this.updateElement(e,t,n,i,r,o)}},{key:"rotateElement",value:function(e,t){var n=ue(this._elementMap,e,ws);return n.r=t||0,this._finaliseUpdate(e,n),n}},{key:"getBoundsWidth",value:function(){return this._bounds.maxx-this._bounds.minx}},{key:"getBoundsHeight",value:function(){return this._bounds.maxy-this._bounds.miny}},{key:"getX",value:function(){return this._bounds.minx}},{key:"getY",value:function(){return this._bounds.miny}},{key:"setSize",value:function(e,t,n){if(this._elementMap.has(e))return this.updateElement(e,null,null,t,n,null)}},{key:"setPosition",value:function(e,t,n){if(this._elementMap.has(e))return this.updateElement(e,t,n,null,null,null)}},{key:"reset",value:function(){this._sortedElements.xmin.length=0,this._sortedElements.xmax.length=0,this._sortedElements.ymin.length=0,this._sortedElements.ymax.length=0,this._elementMap.clear(),this._transformedElementMap.clear(),this._recalculateBounds()}},{key:"remove",value:function(e){ks(e,this._sortedElements.xmin),ks(e,this._sortedElements.xmax),ks(e,this._sortedElements.ymin),ks(e,this._sortedElements.ymax),this._elementMap.delete(e),this._transformedElementMap.delete(e),this._recalculateBounds()}},{key:"getPosition",value:function(e){return this._elementMap.get(e)}},{key:"getElements",value:function(){return this._elementMap}},{key:"isEmpty",value:function(){return 0===this._elementMap.size}}]),n}(aa);function Ts(e,t){return t.theta-e.theta}function Bs(e,t){return(e.theta<0?-Math.PI-e.theta:Math.PI-e.theta)-(t.theta<0?-Math.PI-t.theta:Math.PI-t.theta)}var Is=(s(Ss={},vo,Bs),s(Ss,bo,Ts),s(Ss,wo,Ts),s(Ss,yo,Bs),Ss);function Ds(e){return!0===e.isContinuous}function Fs(e){return!0===e.isContinuous}function Ms(e){return e.locations.length>1}function Ls(e){return[e.currentLocation,e.locations[e.currentLocation]]}var Ps=function(){function e(t){var n=this;r(this,e),this.instance=t,s(this,"anchorLists",new Map),s(this,"anchorLocations",new Map),t.bind(_t,(function(e){e.sourceEndpoint._anchor.isContinuous&&n._removeEndpointFromAnchorLists(e.sourceEndpoint),e.targetEndpoint._anchor.isContinuous&&n._removeEndpointFromAnchorLists(e.targetEndpoint)})),t.bind(Ct,(function(e){n._removeEndpointFromAnchorLists(e)}))}return a(e,[{key:"getAnchorOrientation",value:function(e){var t=this.anchorLocations.get(e.id);return t?[t.ox,t.oy]:[0,0]}},{key:"_distance",value:function(e,t,n,i,r,o,a){var s=i.x+e.x*r.w,l=i.y+e.y*r.h,c=i.x+r.w/2,u=i.y+r.h/2;if(null!=o&&o.length>0){var d=this.instance._applyRotations([s,l,0,0],o);s=d.x,l=d.y}return Math.sqrt(Math.pow(t-s,2)+Math.pow(n-l,2))+Math.sqrt(Math.pow(c-s,2)+Math.pow(u-l,2))}},{key:"_anchorSelector",value:function(e,t,n,i,r,o,a){for(var s=n.x+i.w/2,l=n.y+i.h/2,c=-1,u=1/0,d=0;d<a.length;d++){var h=this._distance(a[d],s,l,e,t,r,o);h<u&&(c=d+0,u=h)}return[c,a[c]]}},{key:"_floatingAnchorCompute",value:function(e,t){var n=t.xy,i={curX:n.x+e.size.w/2,curY:n.y+e.size.h/2,x:0,y:0,ox:0,oy:0};return this._setComputedPosition(e,i)}},{key:"_setComputedPosition",value:function(e,t,n){return this.anchorLocations.set(e.id,t),e.computedPosition=t,n&&(e.timestamp=n),t}},{key:"_computeSingleLocation",value:function(e,t,n,i){var r,o=i.rotation,a={curX:t.x+e.x*n.w+e.offx,curY:t.y+e.y*n.h+e.offy,x:e.x,y:e.y,ox:0,oy:0};if(null!=o&&o.length>0){var s=[e.iox,e.ioy],l={x:a.curX,y:a.curY,cr:0,sr:0};O(o,(function(e){l=ee(l,e.c,e.r);var t=[Math.round(s[0]*l.cr-s[1]*l.sr),Math.round(s[1]*l.cr+s[0]*l.sr)];s=t.slice()})),e.ox=s[0],e.oy=s[1],r={curX:l.x,curY:l.y,x:e.x,y:e.y,ox:s[0],oy:s[1]}}else e.ox=e.iox,e.oy=e.ioy,r=y({ox:e.iox,oy:e.ioy},a);return r}},{key:"_singleAnchorCompute",value:function(e,t){var n=t.xy,i=t.wh,r=t.timestamp,o=this.anchorLocations.get(e.id);if(null!=o&&r&&r===e.timestamp)return o;var a=p(Ls(e),2);a[0];var s=a[1];return o=this._computeSingleLocation(s,n,i,t),this._setComputedPosition(e,o,r)}},{key:"_defaultAnchorCompute",value:function(e,t){var n;if(1===e.locations.length)return this._singleAnchorCompute(e,t);var i=t.xy,r=t.wh,o=t.txy,a=t.twh,s=p(Ls(e),2),l=s[0],c=s[1];if(e.locked||null==o||null==a)n=this._computeSingleLocation(c,i,r,t);else{var u=p(this._anchorSelector(i,r,o,a,t.rotation,t.tRotation,e.locations),2),d=u[0],h=u[1];e.currentLocation=d,d!==l&&(e.cssClass=h.cls||e.cssClass,t.element._anchorLocationChanged(e)),n=this._computeSingleLocation(h,i,r,t)}return this._setComputedPosition(e,n,t.timestamp)}},{key:"_placeAnchors",value:function(e,t){var n=this,i=this.instance.viewport.getPosition(e),r=function(t,r,o,a,s,l){if(o.length>0)for(var c=o.sort(Is[t]),u=function(e,t,n,i,r){for(var o=n?e.w:e.h,a=n?e.h:e.w,s=[],l=o/(t.length+1),c=0;c<t.length;c++){var u=(c+1)*l,d=i*a;r&&(u=o-u);var h=n?u:d,f=e.x+h,p=h/e.w,A=n?d:u,g=e.y+A,m=A/e.h;if(0!==e.r&&null!=e.r){var v=ee({x:f,y:g},e.c,e.r);f=v.x,g=v.y}s.push({x:f,y:g,xLoc:p,yLoc:m,c:t[c].c})}return s}(i,c,a,s,t===bo||t===vo),d=0;d<u.length;d++){var h=u[d].c,f=h.endpoints[0].elementId===e?h.endpoints[0]:h.endpoints[1];n._setComputedPosition(f._anchor,{curX:u[d].x,curY:u[d].y,x:u[d].xLoc,y:u[d].yLoc,ox:l[0],oy:l[1]})}};r(wo,0,t.bottom,!0,1,[0,1]),r(vo,0,t.top,!0,0,[0,-1]),r(yo,0,t.left,!1,0,[-1,0]),r(bo,0,t.right,!1,1,[1,0])}},{key:"_updateAnchorList",value:function(e,t,n,i,r,o,a,s,l,c,u){var d,h=i.endpoints[a],f=h.id,p=[1,0][a],A={theta:t,order:n,c:i,b:r,elId:o,epId:f},g=e[l],m=h._continuousAnchorEdge?e[h._continuousAnchorEdge]:null;if(m){var v=N(m,(function(e){return e.epId===f}));if(-1!==v){m.splice(v,1);for(var y=0;y<m.length;y++)!0!==(d=m[y].c).placeholder&&c.add(d),u.add(m[y].c.endpoints[a]),u.add(m[y].c.endpoints[p])}}for(var b=0;b<g.length;b++)!0!==(d=g[b].c).placeholder&&c.add(d),u.add(g[b].c.endpoints[a]),u.add(g[b].c.endpoints[p]);var w=s?0:g.length;g.splice(w,0,A),h._continuousAnchorEdge=l}},{key:"_removeEndpointFromAnchorLists",value:function(e){var t=this.anchorLists.get(e.elementId),n=0;!function(e,t){if(e){var i=function(e){return e.epId===t};V(e.top,i),V(e.left,i),V(e.bottom,i),V(e.right,i),n+=e.top.length,n+=e.left.length,n+=e.bottom.length,n+=e.right.length}}(t,e.id),0===n&&this.anchorLists.delete(e.elementId),this.anchorLocations.delete(e._anchor.id)}},{key:"computeAnchorLocation",value:function(e,t){var n;return n=Ds(e)?this.anchorLocations.get(e.id)||{curX:0,curY:0,x:0,y:0,ox:0,oy:0}:Fs(e)?this._floatingAnchorCompute(e,t):this._defaultAnchorCompute(e,t),e.timestamp=t.timestamp,n}},{key:"computePath",value:function(e,t){var n=this.instance.viewport.getPosition(e.sourceId),i=this.instance.viewport.getPosition(e.targetId),r=e.endpoints[0],o=e.endpoints[1],a=this.getEndpointLocation(r,{xy:n,wh:n,element:r,timestamp:t,rotation:this.instance._getRotations(e.sourceId)}),s=this.getEndpointLocation(o,{xy:i,wh:i,element:o,timestamp:t,rotation:this.instance._getRotations(e.targetId)});e.connector.resetBounds(),e.connector.compute({sourcePos:a,targetPos:s,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1],strokeWidth:e.paintStyleInUse.strokeWidth,sourceInfo:n,targetInfo:i})}},{key:"getEndpointLocation",value:function(e,t){t=t||{};var n=e._anchor,i=this.anchorLocations.get(n.id);return(null==i||null!=t.timestamp&&n.timestamp!==t.timestamp)&&(i=this.computeAnchorLocation(n,t),this._setComputedPosition(n,i,t.timestamp)),i}},{key:"getEndpointOrientation",value:function(e){return e._anchor?this.getAnchorOrientation(e._anchor):[0,0]}},{key:"setAnchorOrientation",value:function(e,t){var n=this.anchorLocations.get(e.id);null!=n&&(n.ox=t[0],n.oy=t[1])}},{key:"isDynamicAnchor",value:function(e){return!!e._anchor&&!Ds(e._anchor)&&e._anchor.locations.length>1}},{key:"isFloating",value:function(e){return!!e._anchor&&Fs(e._anchor)}},{key:"prepareAnchor",value:function(e){return Qo(e)}},{key:"redraw",value:function(e,t,n){var i=this,r=new Set,o=new Set,a=new Set;if(!this.instance._suspendDrawing){var s=this.instance.endpointsByElement[e]||[];t=t||Z();for(var l,c,u={},d=0;d<s.length;d++)if(!1!==(c=s[d]).visible)if(o.add(c),l=c._anchor,0===c.connections.length)Ds(l)&&(this.anchorLists.has(e)||this.anchorLists.set(e,{top:[],right:[],bottom:[],left:[]}),this._updateAnchorList(this.anchorLists.get(e),-Math.PI/2,0,{endpoints:[c,c],placeholder:!0},!1,e,0,!1,To(l),r,o),a.add(e));else for(var h=0;h<c.connections.length;h++){var f=c.connections[h],p=f.sourceId,A=f.targetId,g=Ds(f.endpoints[0]._anchor),m=Ds(f.endpoints[1]._anchor);if(g||m){var v=[p,(f.endpoints[0]._anchor.faces||[]).join("-"),A,(f.endpoints[1]._anchor.faces||[]).join("-")].join("-"),y=u[v],b=f.sourceId===e?1:0;g&&!this.anchorLists.has(p)&&this.anchorLists.set(p,{top:[],right:[],bottom:[],left:[]}),m&&!this.anchorLists.has(A)&&this.anchorLists.set(A,{top:[],right:[],bottom:[],left:[]});var w=this.instance.viewport.getPosition(A),x=this.instance.viewport.getPosition(p);if(A===p&&(g||m))this._updateAnchorList(this.anchorLists.get(p),-Math.PI/2,0,f,!1,A,0,!1,vo,r,o),this._updateAnchorList(this.anchorLists.get(A),-Math.PI/2,0,f,!1,p,1,!1,vo,r,o);else{var C=this.instance._getRotations(p),_=this.instance._getRotations(A);y||(y=this._calculateOrientation(p,A,x,w,f.endpoints[0]._anchor,f.endpoints[1]._anchor,C,_),u[v]=y),g&&this._updateAnchorList(this.anchorLists.get(p),y.theta,0,f,!1,A,0,!1,y.a[0],r,o),m&&this._updateAnchorList(this.anchorLists.get(A),y.theta2,-1,f,!0,p,1,!0,y.a[1],r,o)}g&&a.add(p),m&&a.add(A),r.add(f),(g&&0===b||m&&1===b)&&o.add(f.endpoints[b])}else{var k=c.connections[h].endpoints[f.sourceId===e?1:0];if(Ms(k._anchor)){this.instance._paintEndpoint(k,{elementWithPrecedence:e,timestamp:t}),r.add(c.connections[h]);for(var S=0;S<k.connections.length;S++)k.connections[S]!==c.connections[h]&&r.add(k.connections[S])}else r.add(c.connections[h])}}a.forEach((function(e){i._placeAnchors(e,i.anchorLists.get(e))})),o.forEach((function(e){var n=i.instance.viewport.getPosition(e.elementId);i.instance._paintEndpoint(e,{timestamp:t,offset:n})})),r.forEach((function(e){i.instance._paintConnection(e,{timestamp:t})}))}return{c:r,e:o}}},{key:"reset",value:function(){this.anchorLocations.clear(),this.anchorLists.clear()}},{key:"setAnchor",value:function(e,t){null!=t&&(e._anchor=t)}},{key:"setConnectionAnchors",value:function(e,t){e.endpoints[0]._anchor=t[0],e.endpoints[1]._anchor=t[1]}},{key:"_calculateOrientation",value:function(e,t,n,i,r,o,a,l){var c=this;if(e===t)return{orientation:"identity",a:[vo,vo]};var u=Math.atan2(i.c.y-n.c.y,i.c.x-n.c.x),d=Math.atan2(n.c.y-i.c.y,n.c.x-i.c.x),h=[],f={};!function(e,t){for(var n=0;n<e.length;n++){var i;if(f[e[n]]=(s(i={},yo,{x:t[n][0].x,y:t[n][0].c.y}),s(i,bo,{x:t[n][0].x+t[n][0].w,y:t[n][0].c.y}),s(i,vo,{x:t[n][0].c.x,y:t[n][0].y}),s(i,wo,{x:t[n][0].c.x,y:t[n][0].y+t[n][0].h}),i),null!=t[n][1]&&t[n][1].length>0)for(var r in f[e[n]])f[e[n]][r]=c.instance._applyRotationsXY(f[e[n]][r],t[n][1])}}([He,$e],[[n,a],[i,l]]);for(var p=[vo,yo,bo,wo],A=0;A<p.length;A++)for(var g=0;g<p.length;g++)h.push({source:p[A],target:p[g],dist:pr(f.source[p[A]],f.target[p[g]])});h.sort((function(e,t){if(e.dist<t.dist)return-1;if(t.dist<e.dist)return 1;var n,i=(s(n={},yo,0),s(n,vo,1),s(n,bo,2),s(n,wo,3),n),r=i[e.source],o=i[t.source],a=i[e.target],l=i[t.target];return r<o?-1:o<r?1:a<l?-1:l<a?1:0}));for(var m=h[0].source,v=h[0].target,y=0;y<h.length&&(m=Ds(r)&&r.locked?r.currentFace:!r.isContinuous||Io(r,h[y].source)?h[y].source:null,v=o.isContinuous&&o.locked?o.currentFace:!o.isContinuous||Io(o,h[y].target)?h[y].target:null,null==m||null==v);y++);return r.isContinuous&&this.setCurrentFace(r,m),o.isContinuous&&this.setCurrentFace(o,v),{a:[m,v],theta:u,theta2:d}}},{key:"setCurrentFace",value:function(e,t,n){e.currentFace=t,n&&null!=e.lockedFace&&(e.lockedFace=e.currentFace)}},{key:"lock",value:function(e){e.locked=!0,Ds(e)&&(e.lockedFace=e.currentFace)}},{key:"unlock",value:function(e){e.locked=!1,Ds(e)&&(e.lockedFace=null)}},{key:"selectAnchorLocation",value:function(e,t){var n=N(e.locations,(function(e){return e.x===t.x&&e.y===t.y}));return-1!==n&&(e.currentLocation=n,!0)}},{key:"lockCurrentAxis",value:function(e){null!=e.currentFace&&(e.lockedAxis=e.currentFace===yo||e.currentFace===bo?xo:Co)}},{key:"unlockCurrentAxis",value:function(e){e.lockedAxis=null}},{key:"anchorsEqual",value:function(e,t){if(!e||!t)return!1;var n=e.locations[e.currentLocation],i=t.locations[t.currentLocation];return n.x===i.x&&n.y===i.y&&n.offx===i.offx&&n.offy===i.offy&&n.ox===i.ox&&n.oy===i.oy}}]),e}(),Rs={},Os={get:function(e,t,n){var i=Rs[t];if(i)return new i(e,n);throw{message:"jsPlumb: unknown connector type '"+t+"'"}},register:function(e,t){Rs[e]=t}},Ns=function(e){l(n,e);var t=h(n);function n(e){var i;return r(this,n),s(d(i=t.call(this,e)),"length",void 0),s(d(i),"m",void 0),s(d(i),"m2",void 0),s(d(i),"type",n.segmentType),i._setCoordinates({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}),i}return a(n,[{key:"getPath",value:function(e){return(e?"M "+this.x1+" "+this.y1+" ":"")+"L "+this.x2+" "+this.y2}},{key:"_recalc",value:function(){this.length=Math.sqrt(Math.pow(this.x2-this.x1,2)+Math.pow(this.y2-this.y1,2)),this.m=hr({x:this.x1,y:this.y1},{x:this.x2,y:this.y2}),this.m2=-1/this.m,this.extents={xmin:Math.min(this.x1,this.x2),ymin:Math.min(this.y1,this.y2),xmax:Math.max(this.x1,this.x2),ymax:Math.max(this.y1,this.y2)}}},{key:"getLength",value:function(){return this.length}},{key:"getGradient",value:function(){return this.m}},{key:"_setCoordinates",value:function(e){this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2,this._recalc()}},{key:"pointOnPath",value:function(e,t){if(0!==e||t){if(1!==e||t){var n=t?e>0?e:this.length+e:e*this.length;return Cr({x:this.x1,y:this.y1},{x:this.x2,y:this.y2},n)}return{x:this.x2,y:this.y2}}return{x:this.x1,y:this.y1}}},{key:"gradientAtPoint",value:function(e,t){return this.m}},{key:"pointAlongPathFrom",value:function(e,t,n){var i=this.pointOnPath(e,n),r=t<=0?{x:this.x1,y:this.y1}:{x:this.x2,y:this.y2};return t<=0&&Math.abs(t)>1&&(t*=-1),Cr(i,r,t)}},{key:"within",value:function(e,t,n){return n>=Math.min(e,t)&&n<=Math.max(e,t)}},{key:"closest",value:function(e,t,n){return Math.abs(n-e)<Math.abs(n-t)?e:t}},{key:"findClosestPointOnPath",value:function(e,t){var n={d:1/0,x:null,y:null,l:null,x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};if(0===this.m)n.y=this.y1,n.x=this.within(this.x1,this.x2,e)?e:this.closest(this.x1,this.x2,e);else if(this.m===1/0||this.m===-1/0)n.x=this.x1,n.y=this.within(this.y1,this.y2,t)?t:this.closest(this.y1,this.y2,t);else{var i=this.y1-this.m*this.x1,r=(t-this.m2*e-i)/(this.m-this.m2),o=this.m*r+i;n.x=this.within(this.x1,this.x2,r)?r:this.closest(this.x1,this.x2,r),n.y=this.within(this.y1,this.y2,o)?o:this.closest(this.y1,this.y2,o)}var a=pr({x:n.x,y:n.y},{x:this.x1,y:this.y1});return n.d=pr({x:e,y:t},n),n.l=a/length,n}},{key:"_pointLiesBetween",value:function(e,t,n){return n>t?t<=e&&e<=n:t>=e&&e>=n}},{key:"lineIntersection",value:function(e,t,n,i){var r=Math.abs(hr({x:e,y:t},{x:n,y:i})),o=Math.abs(this.m),a=o===1/0?this.x1:this.y1-o*this.x1,s=[],l=r===1/0?e:t-r*e;if(r!==o)if(r===1/0&&0===o)this._pointLiesBetween(e,this.x1,this.x2)&&this._pointLiesBetween(this.y1,t,i)&&s.push({x:e,y:this.y1});else if(0===r&&o===1/0)this._pointLiesBetween(t,this.y1,this.y2)&&this._pointLiesBetween(this.x1,e,n)&&s.push({x:this.x1,y:t});else{var c,u;r===1/0?(c=e,this._pointLiesBetween(c,this.x1,this.x2)&&(u=o*e+a,this._pointLiesBetween(u,t,i)&&s.push({x:c,y:u}))):0===r?(u=t,this._pointLiesBetween(u,this.y1,this.y2)&&(c=(t-a)/o,this._pointLiesBetween(c,e,n)&&s.push({x:c,y:u}))):(u=o*(c=(l-a)/(o-r))+a,this._pointLiesBetween(c,this.x1,this.x2)&&this._pointLiesBetween(u,this.y1,this.y2)&&s.push({x:c,y:u}))}return s}},{key:"boxIntersection",value:function(e,t,n,i){var r=[];return r.push.apply(r,this.lineIntersection(e,t,e+n,t)),r.push.apply(r,this.lineIntersection(e+n,t,e+n,t+i)),r.push.apply(r,this.lineIntersection(e+n,t+i,e,t+i)),r.push.apply(r,this.lineIntersection(e,t+i,e,t)),r}}]),n}(ki);s(Ns,"segmentType","Straight");var Us=function(e){l(n,e);var t=h(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(d(e=t.call.apply(t,[this].concat(o))),"type",n.type),e}return a(n,[{key:"getDefaultStubs",value:function(){return[0,0]}},{key:"_compute",value:function(e,t){this._addSegment(Ns,{x1:e.sx,y1:e.sy,x2:e.startStubX,y2:e.startStubY}),this._addSegment(Ns,{x1:e.startStubX,y1:e.startStubY,x2:e.endStubX,y2:e.endStubY}),this._addSegment(Ns,{x1:e.endStubX,y1:e.endStubY,x2:e.tx,y2:e.ty}),this.geometry={source:t.sourcePos,target:t.targetPos}}},{key:"transformGeometry",value:function(e,t,n){return{source:this.transformAnchorPlacement(e.source,t,n),target:this.transformAnchorPlacement(e.target,t,n)}}}]),n}(Ra);function Hs(e,t,n){var i=[],r=function(t){return w(t)?t:e.getId(t)};if(t)if("string"==typeof t){if("*"===t)return t;i.push(t)}else{var o;n?i=t:null!=t.length?(o=i).push.apply(o,A(A(t).map(r))):i.push(r(t))}return i}function $s(e,t,n){null!=t&&(t.connections.push(e),1===t.connections.length&&e.instance.addClass(e.source,e.instance.connectedClass)),null!=n&&(null!=t&&e.sourceId===e.targetId||(n.connections.push(e),1===n.connections.length&&e.instance.addClass(e.target,e.instance.connectedClass)))}function Qs(e,t,n){if(null!=t){var i=t.connections.length;V(t.connections,(function(t){return e.id===t.id})),i>0&&0===t.connections.length&&e.instance.removeClass(e.source,e.instance.connectedClass)}if(null!=n){var r=n.connections.length;null!=t&&e.sourceId===e.targetId||V(n.connections,(function(t){return e.id===t.id})),r>0&&0===n.connections.length&&e.instance.removeClass(e.target,e.instance.connectedClass)}}s(Us,"type","Straight");var Ws=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),(o=t.call(this))._instanceIndex=e,s(d(o),"defaults",void 0),s(d(o),"_initialDefaults",{}),s(d(o),"isConnectionBeingDragged",!1),s(d(o),"currentlyDragging",!1),s(d(o),"hoverSuspended",!1),s(d(o),"_suspendDrawing",!1),s(d(o),"_suspendedAt",null),s(d(o),"connectorClass",it),s(d(o),"connectorOutlineClass",rt),s(d(o),"connectedClass",ot),s(d(o),"endpointClass",at),s(d(o),"endpointConnectedClass",st),s(d(o),"endpointFullClass",lt),s(d(o),"endpointFloatingClass",ct),s(d(o),"endpointDropAllowedClass",ut),s(d(o),"endpointDropForbiddenClass",dt),s(d(o),"endpointAnchorClassPrefix",ht),s(d(o),"overlayClass",At),s(d(o),"connections",[]),s(d(o),"endpointsByElement",{}),s(d(o),"endpointsByUUID",new Map),s(d(o),"sourceSelectors",[]),s(d(o),"targetSelectors",[]),s(d(o),"allowNestedGroups",void 0),s(d(o),"_curIdStamp",1),s(d(o),"viewport",new Es(d(o))),s(d(o),"router",void 0),s(d(o),"groupManager",void 0),s(d(o),"_connectionTypes",new Map),s(d(o),"_endpointTypes",new Map),s(d(o),"_container",void 0),s(d(o),"_managedElements",{}),s(d(o),"DEFAULT_SCOPE",void 0),s(d(o),"_zoom",1),o.defaults={anchor:hn.Bottom,anchors:[null,null],connectionsDetachable:!0,connectionOverlays:[],connector:Us.type,container:null,endpoint:hs.type,endpointOverlays:[],endpoints:[null,null],endpointStyle:{fill:"#456"},endpointStyles:[null,null],endpointHoverStyle:null,endpointHoverStyles:[null,null],hoverPaintStyle:null,listStyle:{},maxConnections:1,paintStyle:{strokeWidth:2,stroke:"#456"},reattachConnections:!1,scope:"jsplumb_defaultscope",allowNestedGroups:!0},i&&y(o.defaults,i),y(o._initialDefaults,o.defaults),null!=o._initialDefaults[cs]&&(o._initialDefaults[cs].strokeWidth=o._initialDefaults[cs].strokeWidth||2),o.DEFAULT_SCOPE=o.defaults[ds],o.allowNestedGroups=!1!==o._initialDefaults[ja],o.router=new Ps(d(o)),o.groupManager=new gs(d(o)),o.setContainer(o._initialDefaults.container),o}return a(n,[{key:"defaultScope",get:function(){return this.DEFAULT_SCOPE}},{key:"currentZoom",get:function(){return this._zoom}},{key:"areDefaultAnchorsSet",value:function(){return this.validAnchorsSpec(this.defaults.anchors)}},{key:"validAnchorsSpec",value:function(e){return null!=e&&null!=e[0]&&null!=e[1]}},{key:"getContainer",value:function(){return this._container}},{key:"setZoom",value:function(e,t){return this._zoom=e,this.fire(Rt,this._zoom),t&&this.repaintEverything(),!0}},{key:"_idstamp",value:function(){return""+this._curIdStamp++}},{key:"checkCondition",value:function(e,t){var n=this.getListener(e),i=!0;if(n&&n.length>0){var r=Array.prototype.slice.call(arguments,1);try{for(var o=0,a=n.length;o<a;o++)i=i&&n[o].apply(n[o],r)}catch(t){se("cannot check condition ["+e+"]"+t)}}return i}},{key:"getId",value:function(e,t){if(null==e)return null;var n=this.getAttribute(e,Ye);return n&&"undefined"!==n||(2===arguments.length&&void 0!==arguments[1]?n=t:(1===arguments.length||3===arguments.length&&!arguments[2])&&(n="jsplumb-"+this._instanceIndex+"-"+this._idstamp()),this.setAttribute(e,Ye,n)),n}},{key:"getConnections",value:function(e,t){e?e.constructor===String&&(e={scope:e}):e={};for(var n=Hs(this,e.scope||this.defaultScope,!0),i=Hs(this,e.source),r=Hs(this,e.target),o=!t&&n.length>1?{}:[],a=function(e,i){if(!t&&n.length>1){var r=o[e];null==r&&(r=o[e]=[]),r.push(i)}else o.push(i)},s=0,l=this.connections.length;s<l;s++){var c=this.connections[s],u=c.proxies&&c.proxies[0]?c.proxies[0].originalEp.elementId:c.sourceId,d=c.proxies&&c.proxies[1]?c.proxies[1].originalEp.elementId:c.targetId;v(n,c.scope)&&v(i,u)&&v(r,d)&&a(c.scope,c)}return o}},{key:"select",value:function(e){return(e=e||{}).scope=e.scope||"*",new ys(this,e.connections||this.getConnections(e,!0))}},{key:"selectEndpoints",value:function(e){(e=e||{}).scope=e.scope||Ii;var t=!e.element&&!e.source&&!e.target,n=t?Ii:Hs(this,e.element),i=t?Ii:Hs(this,e.source),r=t?Ii:Hs(this,e.target),o=Hs(this,e.scope,!0),a=[];for(var s in this.endpointsByElement){var l=v(n,s,!0),c=v(i,s,!0),u="*"!==i,d=v(r,s,!0),h="*"!==r;if(l||c||d)e:for(var f=0,p=this.endpointsByElement[s].length;f<p;f++){var A=this.endpointsByElement[s][f];if(v(o,A.scope,!0)){var g=u&&i.length>0&&!A.isSource,m=h&&r.length>0&&!A.isTarget;if(g||m)continue e;a.push(A)}}}return new vs(this,a)}},{key:"setContainer",value:function(e){this._container=e,this.fire(wt,this._container)}},{key:"_set",value:function(e,t,n){var i,r,o=[{el:"source",elId:"sourceId"},{el:"target",elId:"targetId"}][n],a=e[o.elId],s=e.endpoints[n],l={index:n,originalEndpoint:s,originalSourceId:0===n?a:e.sourceId,newSourceId:e.sourceId,originalTargetId:1===n?a:e.targetId,newTargetId:e.targetId,connection:e,newEndpoint:s};return t instanceof Ta?(i=t).addConnection(e):i=(r=this.getId(t))===e[o.elId]?null:e.makeEndpoint(0===n,t,r),null!=i&&(l.newEndpoint=i,s.detachFromConnection(e),e.endpoints[n]=i,e[o.el]=i.element,e[o.elId]=i.elementId,l[0===n?"newSourceId":"newTargetId"]=i.elementId,this.fireMoveEvent(l),this._paintConnection(e)),l}},{key:"setSource",value:function(e,t){Qs(e,this._managedElements[e.sourceId]);var n=this._set(e,t,0);$s(e,this._managedElements[n.newSourceId])}},{key:"setTarget",value:function(e,t){Qs(e,this._managedElements[e.targetId]);var n=this._set(e,t,1);$s(e,this._managedElements[n.newTargetId])}},{key:"setConnectionType",value:function(e,t,n){e.setType(t,n),this._paintConnection(e)}},{key:"isHoverSuspended",value:function(){return this.hoverSuspended}},{key:"setSuspendDrawing",value:function(e,t){var n=this._suspendDrawing;return this._suspendDrawing=e,e?this._suspendedAt=""+(new Date).getTime():(this._suspendedAt=null,this.viewport.recomputeBounds()),t&&this.repaintEverything(),n}},{key:"getSuspendedAt",value:function(){return this._suspendedAt}},{key:"batch",value:function(e,t){var n=!0===this._suspendDrawing;n||this.setSuspendDrawing(!0),e(),n||this.setSuspendDrawing(!1,!t)}},{key:"each",value:function(e,t){if(null!=e){if(null!=e.length)for(var n=0;n<e.length;n++)t(e[n]);else t(e);return this}}},{key:"updateOffset",value:function(e){var t=e.elId;return e.recalc?this.viewport.refreshElement(t):this.viewport.getPosition(t)}},{key:"deleteConnection",value:function(e,t){if(null!=e&&!0!==e.deleted&&((t=t||{}).force||P(!0,!1,[[e.endpoints[0],Ot,[e]],[e.endpoints[1],Ot,[e]],[e,Ot,[e]],[this,tt,[Ht,e]]]))){Qs(e,this._managedElements[e.sourceId],this._managedElements[e.targetId]),this.fireDetachEvent(e,!e.pending&&!1!==t.fireEvent,t.originalEvent);var n=e.endpoints[0],i=e.endpoints[1];return n!==t.endpointToIgnore&&n.detachFromConnection(e,null,!0),i!==t.endpointToIgnore&&i.detachFromConnection(e,null,!0),V(this.connections,(function(t){return e.id===t.id})),e.destroy(),n!==t.endpointToIgnore&&n.deleteOnEmpty&&0===n.connections.length&&this.deleteEndpoint(n),i!==t.endpointToIgnore&&i.deleteOnEmpty&&0===i.connections.length&&this.deleteEndpoint(i),!0}return!1}},{key:"deleteEveryConnection",value:function(e){var t=this;e=e||{};var n=this.connections.length,i=0;return this.batch((function(){for(var r=0;r<n;r++)i+=t.deleteConnection(t.connections[0],e)?1:0})),i}},{key:"deleteConnectionsForElement",value:function(e,t){var n=this.getId(e),i=this._managedElements[n];if(i)for(var r=i.connections.length,o=0;o<r;o++)this.deleteConnection(i.connections[0],t);return this}},{key:"fireDetachEvent",value:function(e,t,n){var i=null!=e.id?{connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]}:e;t&&this.fire(yt,i,n),this.fire(_t,i,n)}},{key:"fireMoveEvent",value:function(e,t){this.fire(bt,e,t)}},{key:"manageAll",value:function(e,t){for(var n=w(e)?this.getSelector(this.getContainer(),e):e,i=0;i<n.length;i++)this.manage(n[i],null,t)}},{key:"manage",value:function(e,t,n){null==this.getAttribute(e,Ye)&&(t=t||this.getAttribute(e,"id")||Z(),this.setAttribute(e,Ye,t));var i=this.getId(e);if(this._managedElements[i])n&&(this._managedElements[i].viewportElement=this.updateOffset({elId:i,timestamp:null,recalc:!0}));else{var r={el:e,endpoints:[],connections:[],rotation:0,data:{}};this._managedElements[i]=r,this._suspendDrawing?r.viewportElement=this.viewport.registerElement(i,!0):r.viewportElement=this.updateOffset({elId:i,recalc:!0}),this.fire(kt,{el:e})}return this._managedElements[i]}},{key:"getManagedData",value:function(e,t,n){if(this._managedElements[e]){var i=this._managedElements[e].data[t];return null!=i?i[n]:null}}},{key:"setManagedData",value:function(e,t,n,i){this._managedElements[e]&&(this._managedElements[e].data[t]=this._managedElements[e].data[t]||{},this._managedElements[e].data[t][n]=i)}},{key:"getManagedElement",value:function(e){return this._managedElements[e]?this._managedElements[e].el:null}},{key:"unmanage",value:function(e,t){var n=this;this.removeAllEndpoints(e,!0);var i=function(e){var i=n.getId(e);n.removeAttribute(e,Ye),delete n._managedElements[i],n.viewport.remove(i),n.fire(Pt,{el:e,id:i}),e&&t&&n._removeElement(e)};this._getAssociatedElements(e).map(i),i(e)}},{key:"rotate",value:function(e,t,n){var i=this.getId(e);return this._managedElements[i]&&(this._managedElements[i].rotation=t,this.viewport.rotateElement(i,t),!0!==n)?this.revalidate(e):{c:new Set,e:new Set}}},{key:"_getRotation",value:function(e){var t=this._managedElements[e];return null!=t&&t.rotation||0}},{key:"_getRotations",value:function(e){var t=this,n=[],i=this._managedElements[e];return null!=i&&(n.push({r:i.viewportElement.r||0,c:i.viewportElement.c}),function e(i){if(null!=i.group){var r=t._managedElements[i.group];null!=r&&(n.push({r:r.viewportElement.r,c:r.viewportElement.c}),e(r))}}(i)),n}},{key:"_applyRotations",value:function(e,t){var n=e.slice(),i={x:n[0],y:n[1],cr:0,sr:0};return O(t,(function(e){i=ee(i,e.c,e.r)})),i}},{key:"_applyRotationsXY",value:function(e,t){return O(t,(function(t){e=ee(e,t.c,t.r)})),e}},{key:"_internal_newEndpoint",value:function(e){var t=y({},e),n=this.manage(t.element);t.elementId=this.getId(t.element),t.id="ep_"+this._idstamp();var i=new Ta(this,t);return function(e,t){null!=e&&e.endpoints.push(t)}(n,i),e.uuid&&this.endpointsByUUID.set(e.uuid,i),G(this.endpointsByElement,i.elementId,i),this._suspendDrawing||this._paintEndpoint(i,{timestamp:this._suspendedAt}),i}},{key:"_deriveEndpointAndAnchorSpec",value:function(e,t){for(var n=((t?"":"default ")+e).split(/[\s]/),i=null,r=null,o=null,a=null,s=0;s<n.length;s++){var l=this.getConnectionType(n[s]);l&&(l.endpoints&&(i=l.endpoints),l.endpoint&&(r=l.endpoint),l.anchors&&(a=l.anchors),l.anchor&&(o=l.anchor))}return{endpoints:i||[r,r],anchors:a||[o,o]}}},{key:"revalidate",value:function(e,t){var n=this.getId(e);return this.updateOffset({elId:n,recalc:!0,timestamp:t}),this.repaint(e)}},{key:"repaintEverything",value:function(){var e,t=Z();for(e in this._managedElements)this.viewport.refreshElement(e,!0);for(e in this.viewport.recomputeBounds(),this._managedElements)this.repaint(this._managedElements[e].el,t,!0);return this}},{key:"setElementPosition",value:function(e,t,n){var i=this.getId(e);return this.viewport.setPosition(i,t,n),this.repaint(e)}},{key:"repaint",value:function(e,t,n){var i={c:new Set,e:new Set},r=function(e){e.c.forEach((function(e){return i.c.add(e)})),e.e.forEach((function(e){return i.e.add(e)}))};if(!this._suspendDrawing){var o=this.getId(e);if(null!=e){var a=this._getAssociatedElements(e);if(null==t&&(t=Z()),!n)for(var s=0;s<a.length;s++)this.updateOffset({elId:this.getId(a[s]),recalc:!0,timestamp:t});if(r(this.router.redraw(o,t,null)),a.length>0)for(var l=0;l<a.length;l++)r(this.router.redraw(this.getId(a[l]),t,null))}}return i}},{key:"unregisterEndpoint",value:function(e){var t=e.getUuid();t&&this.endpointsByUUID.delete(t),function(e,t){null!=e&&V(e.endpoints,(function(e){return e===t}))}(this._managedElements[e.elementId],e);var n=this.endpointsByElement[e.elementId];null!=n&&(this.endpointsByElement[e.elementId]=n.filter((function(t){return t!==e}))),this.fire(Ct,e)}},{key:"_maybePruneEndpoint",value:function(e){return!(!e.deleteOnEmpty||0!==e.connections.length||(this.deleteEndpoint(e),0))}},{key:"deleteEndpoint",value:function(e){var t=this,n="string"==typeof e?this.endpointsByUUID.get(e):e;if(n){var i=n.proxiedBy,r=n.connections.slice();O(r,(function(e){n.detachFromConnection(e,null,!0)})),this.unregisterEndpoint(n),n.destroy(),O(r,(function(e){t.deleteConnection(e,{force:!0,endpointToIgnore:n})})),null!=i&&this.deleteEndpoint(i)}return this}},{key:"addEndpoint",value:function(e,t,n){var i=y({},n=n||{});y(i,t||{});var r=y({element:e},i);return this._internal_newEndpoint(r)}},{key:"addEndpoints",value:function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++)i.push(this.addEndpoint(e,t[r],n));return i}},{key:"reset",value:function(){var e=this;this.silently((function(){e.endpointsByElement={},e._managedElements={},e.endpointsByUUID.clear(),e.viewport.reset(),e.router.reset(),e.groupManager.reset(),e.connections.length=0}))}},{key:"destroy",value:function(){this.reset(),this.unbind(),this.sourceSelectors.length=0,this.targetSelectors.length=0,this._connectionTypes.clear(),this._endpointTypes.clear()}},{key:"getEndpoints",value:function(e){return this.endpointsByElement[this.getId(e)]||[]}},{key:"getEndpoint",value:function(e){return this.endpointsByUUID.get(e)}},{key:"setEndpointUuid",value:function(e,t){e.uuid&&this.endpointsByUUID.delete(e.uuid),e.uuid=t,this.endpointsByUUID.set(t,e)}},{key:"connect",value:function(e,t){try{var n=this._prepareConnectionParams(e,t),i=this._newConnection(n);return this._finaliseConnection(i,n),i}catch(e){return void se(e)}}},{key:"_prepareConnectionParams",value:function(e,t){var n=y({},e);t&&y(n,t);var i=n;if(i.source&&i.source.endpoint&&(i.sourceEndpoint=i.source),i.target&&i.target.endpoint&&(i.targetEndpoint=i.target),e.uuids&&(i.sourceEndpoint=this.getEndpoint(e.uuids[0]),i.targetEndpoint=this.getEndpoint(e.uuids[1])),null!=i.sourceEndpoint){if(i.sourceEndpoint.isFull())throw Wt;if(i.type||(i.type=i.sourceEndpoint.edgeType),i.sourceEndpoint.connectorOverlays){i.overlays=i.overlays||[];for(var r=0,o=i.sourceEndpoint.connectorOverlays.length;r<o;r++)i.overlays.push(i.sourceEndpoint.connectorOverlays[r])}i.sourceEndpoint.scope&&(i.scope=i.sourceEndpoint.scope)}else if(null==i.source)throw jt;if(null!=i.targetEndpoint){if(i.targetEndpoint.isFull())throw Vt}else if(null==i.target)throw zt;if(i.sourceEndpoint&&i.targetEndpoint&&!function(e,t){for(var n=e.scope.split(/\s/),i=t.scope.split(/\s/),r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(i[o]===n[r])return!0;return!1}(i.sourceEndpoint,i.targetEndpoint))throw"Cannot establish connection: scopes do not match";return i}},{key:"_newConnection",value:function(e){e.id="con_"+this._idstamp();var t=new Fa(this,e);return $s(t,this._managedElements[t.sourceId],this._managedElements[t.targetId]),this._paintConnection(t),t}},{key:"_finaliseConnection",value:function(e,t,n){t=t||{},e.suspendedEndpoint||this.connections.push(e),e.pending=null,e.endpoints[0].isTemporarySource=!1,this.repaint(e.source);var i={connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]};this.fire(vt,i,n),t.doNotFireConnectionEvent||!1===t.fireEvent||this.fire(mt,i,n)}},{key:"removeAllEndpoints",value:function(e,t){var n=this,i=function(e){var t,i,r=n.getId(e),o=n.endpointsByElement[r];if(o)for(t=0,i=o.length;t<i;t++)n.deleteEndpoint(o[t]);delete n.endpointsByElement[r]};return t&&this._getAssociatedElements(e).map(i),i(e),this}},{key:"_createSourceDefinition",value:function(e,t){var n=y({},t);y(n,e),n.edgeType=n.edgeType||Ei;var i=this._deriveEndpointAndAnchorSpec(n.edgeType);n.endpoint=n.endpoint||i.endpoints[0],n.anchor=n.anchor||i.anchors[0];var r=n.maxConnections||-1;return{def:y({},n),uniqueEndpoint:n.uniqueEndpoint,maxConnections:r,enabled:!0,endpoint:null}}},{key:"addSourceSelector",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._createSourceDefinition(t),r=new Go(e,i,n);return this.sourceSelectors.push(r),r}},{key:"removeSourceSelector",value:function(e){V(this.sourceSelectors,(function(t){return t===e}))}},{key:"removeTargetSelector",value:function(e){V(this.targetSelectors,(function(t){return t===e}))}},{key:"addTargetSelector",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._createTargetDefinition(t),r=new Go(e,i,n);return this.targetSelectors.push(r),r}},{key:"_createTargetDefinition",value:function(e,t){var n=y({},t);y(n,e),n.edgeType=n.edgeType||Ei;var i=n.maxConnections||-1;return{def:y({},n),uniqueEndpoint:n.uniqueEndpoint,maxConnections:i,enabled:!0,endpoint:null}}},{key:"show",value:function(e,t){return this._setVisible(e,Qe,t)}},{key:"hide",value:function(e,t){return this._setVisible(e,We,t)}},{key:"_setVisible",value:function(e,t,n){var i=t===Qe,r=null;n&&(r=function(e){e.setVisible(i,!0,!0)});var o=this.getId(e);return this._operation(e,(function(e){if(i&&n){var t=e.sourceId===o?1:0;e.endpoints[t].isVisible()&&e.setVisible(!0)}else e.setVisible(i)}),r),this}},{key:"toggleVisible",value:function(e,t){var n=null;t&&(n=function(e){var t=e.isVisible();e.setVisible(!t)}),this._operation(e,(function(e){var t=e.isVisible();e.setVisible(!t)}),n)}},{key:"_operation",value:function(e,t,n){var i=this.getId(e),r=this.endpointsByElement[i];if(r&&r.length)for(var o=0,a=r.length;o<a;o++){for(var s=0,l=r[o].connections.length;s<l;s++)if(t(r[o].connections[s]))return;n&&n(r[o])}}},{key:"registerConnectionType",value:function(e,t){if(this._connectionTypes.set(e,y({},t)),t.overlays){for(var n={},i=0;i<t.overlays.length;i++){var r=ca(t.overlays[i]);n[r.options.id]=r}this._connectionTypes.get(e).overlays=n}}},{key:"registerConnectionTypes",value:function(e){for(var t in e)this.registerConnectionType(t,e[t])}},{key:"registerEndpointType",value:function(e,t){if(this._endpointTypes.set(e,y({},t)),t.overlays){for(var n={},i=0;i<t.overlays.length;i++){var r=ca(t.overlays[i]);n[r.options.id]=r}this._endpointTypes.get(e).overlays=n}}},{key:"registerEndpointTypes",value:function(e){for(var t in e)this.registerEndpointType(t,e[t])}},{key:"getType",value:function(e,t){return"connection"===t?this.getConnectionType(e):this.getEndpointType(e)}},{key:"getConnectionType",value:function(e){return this._connectionTypes.get(e)}},{key:"getEndpointType",value:function(e){return this._endpointTypes.get(e)}},{key:"importDefaults",value:function(e){for(var t in e)this.defaults[t]=e[t];return null!=this.defaults[cs]&&(this.defaults[cs].strokeWidth=this.defaults[cs].strokeWidth||2),e.container&&this.setContainer(e.container),this}},{key:"restoreDefaults",value:function(){return this.defaults=y({},this._initialDefaults),this}},{key:"getManagedElements",value:function(){return this._managedElements}},{key:"proxyConnection",value:function(e,t,n,i,r){var o,a=null!=e.proxies[t],s=a?e.proxies[t].originalEp.elementId:e.endpoints[t].elementId,l=a?e.proxies[t].originalEp:e.endpoints[t],c=this.getId(n);e.proxies[t]?e.proxies[t].ep.elementId===c?o=e.proxies[t].ep:(e.proxies[t].ep.detachFromConnection(e,t),o=this._internal_newEndpoint({element:n,endpoint:i(e,t),anchor:r(e,t),parameters:{isProxyEndpoint:!0}})):o=this._internal_newEndpoint({element:n,endpoint:i(e,t),anchor:r(e,t),parameters:{isProxyEndpoint:!0}}),o.deleteOnEmpty=!0,e.proxies[t]={ep:o,originalEp:l},this.sourceOrTargetChanged(s,c,e,n,t),l.detachFromConnection(e,null,!0),o.connections=[e],e.endpoints[t]=o,l.proxiedBy=o,l.setVisible(!1),e.setVisible(!0),this.revalidate(n)}},{key:"unproxyConnection",value:function(e,t){if(null!=e.proxies&&null!=e.proxies[t]){var n=e.proxies[t].originalEp.element,i=e.proxies[t].originalEp.elementId,r=e.proxies[t].ep.elementId;e.endpoints[t]=e.proxies[t].originalEp,delete e.proxies[t].originalEp.proxiedBy,this.sourceOrTargetChanged(r,i,e,n,t),e.proxies[t].ep.detachFromConnection(e,null),e.proxies[t].originalEp.addConnection(e),e.isVisible()&&e.proxies[t].originalEp.setVisible(!0),e.proxies[t]=null,-1===N(e.proxies,(function(e){return null!=e}))&&(e.proxies.length=0)}}},{key:"sourceOrTargetChanged",value:function(e,t,n,i,r){e!==t&&(0===r?(n.sourceId=t,n.source=i):1===r&&(n.targetId=t,n.target=i),Qs(n,this._managedElements[e]),$s(n,this._managedElements[t]))}},{key:"getGroup",value:function(e){return this.groupManager.getGroup(e)}},{key:"getGroupFor",value:function(e){return this.groupManager.getGroupFor(e)}},{key:"addGroup",value:function(e){return this.groupManager.addGroup(e)}},{key:"addToGroup",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(t=this.groupManager).addToGroup.apply(t,[e,!1].concat(i))}},{key:"collapseGroup",value:function(e){this.groupManager.collapseGroup(e)}},{key:"expandGroup",value:function(e){this.groupManager.expandGroup(e)}},{key:"toggleGroup",value:function(e){this.groupManager.toggleGroup(e)}},{key:"removeGroup",value:function(e,t,n,i){return this.groupManager.removeGroup(e,t,n,i)}},{key:"removeAllGroups",value:function(e,t){this.groupManager.removeAllGroups(e,t,!1)}},{key:"removeFromGroup",value:function(e,t,n){this.groupManager.removeFromGroup(e,n,t),this._appendElement(t,this.getContainer()),this.updateOffset({recalc:!0,elId:this.getId(t)})}},{key:"_paintEndpoint",value:function(e,t){var n=(t=t||{}).timestamp,i=!(!1===t.recalc);if(!n||e.timestamp!==n){var r=this.viewport.getPosition(e.elementId),o=t.offset?{x:t.offset.x,y:t.offset.y}:{x:r.x,y:r.y};if(null!=o){var a=t.anchorLoc;if(null==a){var s={xy:o,wh:r,element:e,timestamp:n};if(i&&this.router.isDynamicAnchor(e)&&e.connections.length>0){var l=function(e){var n=0;if(null!=t.elementWithPrecedence)for(var i=0;i<e.connections.length;i++)if(e.connections[i].sourceId===t.elementWithPrecedence||e.connections[i].targetId===t.elementWithPrecedence){n=i;break}return e.connections[n]}(e),c=l.endpoints[0]===e?1:0,u=0===c?l.sourceId:l.targetId,d=this.viewport.getPosition(u);s.index=0===c?1:0,s.connection=l,s.txy=d,s.twh=d,s.tElement=l.endpoints[c],s.tRotation=this._getRotations(u)}else e.connections.length>0&&(s.connection=e.connections[0]);s.rotation=this._getRotations(e.elementId),a=this.router.computeAnchorLocation(e._anchor,s)}for(var h in e.endpoint.compute(a,this.router.getEndpointOrientation(e),e.paintStyleInUse),this.renderEndpoint(e,e.paintStyleInUse),e.timestamp=n,e.overlays)if(e.overlays.hasOwnProperty(h)){var f=e.overlays[h];f.isVisible()&&(e.overlayPlacements[h]=this.drawOverlay(f,e.endpoint,e.paintStyleInUse,e.getAbsoluteOverlayPosition(f)),this._paintOverlay(f,e.overlayPlacements[h],{xmin:0,ymin:0}))}}}}},{key:"_paintConnection",value:function(e,t){if(!this._suspendDrawing&&!1!==e.visible){var n=(t=t||{}).timestamp;if(null!=n&&n===e.lastPaintedAt)return;if(null==n||n!==e.lastPaintedAt){this.router.computePath(e,n);var i={xmin:1/0,ymin:1/0,xmax:-1/0,ymax:-1/0};for(var r in e.overlays)if(e.overlays.hasOwnProperty(r)){var o=e.overlays[r];o.isVisible()&&(e.overlayPlacements[r]=this.drawOverlay(o,e.connector,e.paintStyleInUse,e.getAbsoluteOverlayPosition(o)),i.xmin=Math.min(i.xmin,e.overlayPlacements[r].xmin),i.xmax=Math.max(i.xmax,e.overlayPlacements[r].xmax),i.ymin=Math.min(i.ymin,e.overlayPlacements[r].ymin),i.ymax=Math.max(i.ymax,e.overlayPlacements[r].ymax))}var a=parseFloat(""+e.paintStyleInUse.strokeWidth||"1")/2,s=parseFloat(""+e.paintStyleInUse.strokeWidth||"0"),l={xmin:Math.min(e.connector.bounds.xmin-(a+s),i.xmin),ymin:Math.min(e.connector.bounds.ymin-(a+s),i.ymin),xmax:Math.max(e.connector.bounds.xmax+(a+s),i.xmax),ymax:Math.max(e.connector.bounds.ymax+(a+s),i.ymax)};for(var c in this.paintConnector(e.connector,e.paintStyleInUse,l),e.overlays)if(e.overlays.hasOwnProperty(c)){var u=e.overlays[c];u.isVisible()&&this._paintOverlay(u,e.overlayPlacements[c],l)}}e.lastPaintedAt=n}}},{key:"_refreshEndpoint",value:function(e){e._anchor.isFloating||(e.connections.length>0?this.addEndpointClass(e,this.endpointConnectedClass):this.removeEndpointClass(e,this.endpointConnectedClass),e.isFull()?this.addEndpointClass(e,this.endpointFullClass):this.removeEndpointClass(e,this.endpointFullClass))}},{key:"_makeConnector",value:function(e,t,n){return Os.get(e,t,n)}},{key:"addOverlay",value:function(e,t,n){if(e.addOverlay(t),!n){var i=e instanceof Ta?e.element:e.source;this.revalidate(i)}}},{key:"removeOverlay",value:function(e,t){e.removeOverlay(t);var n=e instanceof Ta?e.element:e.source;this.revalidate(n)}},{key:"setOutlineColor",value:function(e,t){e.paintStyleInUse.outlineStroke=t,this._paintConnection(e)}},{key:"setOutlineWidth",value:function(e,t){e.paintStyleInUse.outlineWidth=t,this._paintConnection(e)}},{key:"setColor",value:function(e,t){e.paintStyleInUse.stroke=t,this._paintConnection(e)}},{key:"setLineWidth",value:function(e,t){e.paintStyleInUse.strokeWidth=t,this._paintConnection(e)}},{key:"setLineStyle",value:function(e,t){null!=t.lineWidth&&(e.paintStyleInUse.strokeWidth=t.lineWidth),null!=t.outlineWidth&&(e.paintStyleInUse.outlineWidth=t.outlineWidth),null!=t.color&&(e.paintStyleInUse.stroke=t.color),null!=t.outlineColor&&(e.paintStyleInUse.outlineStroke=t.outlineColor),this._paintConnection(e)}},{key:"getPathData",value:function(e){for(var t="",n=0;n<e.segments.length;n++)t+=e.segments[n].getPath(0===n),t+=" ";return t}}]),n}(aa),Vs={};function js(e,t){Vs[e]=t}function zs(e,t,n){var r=t,o=i(t.getBoundingClientRect)!==Si?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},a=document.body,s=document.documentElement,l=window.pageYOffset||s.scrollTop||a.scrollTop,c=window.pageXOffset||s.scrollLeft||a.scrollLeft,u=s.clientTop||a.clientTop||0,d=s.clientLeft||a.clientLeft||0,h=o.top+l-u+0*n,f=o.left+c-d+0*n,p=Qi(e),A=o.width||r.offsetWidth*n,g=o.height||r.offsetHeight*n;return{x:(p.x-f)/A,y:(p.y-h)/g}}function Ks(e){return Na(e)||Ha(e)||Qa(e)}function Gs(e,t){e.canvas&&(e.canvas.style.display=t?"block":"none")}function qs(e){e.canvas&&e.canvas.parentNode.removeChild(e.canvas),delete e.canvas}function Ys(e){return e.canvas}function Xs(e){return oa.getElement(e)}function Js(e){return oa.getElement(e,e.component,(function(t){var n=e.create(t);return e.instance.addClass(n,e.instance.overlayClass),n}))}function Zs(e,t,n,i){var r=e.x,o=e.y;return t._jsPlumbParentGroup&&t._jsPlumbParentGroup.constrain&&(r=Math.max(e.x,0),o=Math.max(e.y,0),r=Math.min(r,n.w-i.w),o=Math.min(o,n.h-i.h)),{x:r,y:o}}var el=function(e){l(n,e);var t=h(n);function n(e,i){var o;if(r(this,n),(o=t.call(this,e,i))._instanceIndex=e,s(d(o),"containerType",null),s(d(o),"dragSelection",void 0),s(d(o),"dragManager",void 0),s(d(o),"_connectorClick",void 0),s(d(o),"_connectorDblClick",void 0),s(d(o),"_connectorTap",void 0),s(d(o),"_connectorDblTap",void 0),s(d(o),"_endpointClick",void 0),s(d(o),"_endpointDblClick",void 0),s(d(o),"_overlayClick",void 0),s(d(o),"_overlayDblClick",void 0),s(d(o),"_overlayTap",void 0),s(d(o),"_overlayDblTap",void 0),s(d(o),"_connectorMouseover",void 0),s(d(o),"_connectorMouseout",void 0),s(d(o),"_endpointMouseover",void 0),s(d(o),"_endpointMouseout",void 0),s(d(o),"_connectorContextmenu",void 0),s(d(o),"_connectorMousedown",void 0),s(d(o),"_connectorMouseup",void 0),s(d(o),"_endpointMousedown",void 0),s(d(o),"_endpointMouseup",void 0),s(d(o),"_overlayMouseover",void 0),s(d(o),"_overlayMouseout",void 0),s(d(o),"_elementClick",void 0),s(d(o),"_elementTap",void 0),s(d(o),"_elementDblTap",void 0),s(d(o),"_elementMouseenter",void 0),s(d(o),"_elementMouseexit",void 0),s(d(o),"_elementMousemove",void 0),s(d(o),"_elementMouseup",void 0),s(d(o),"_elementMousedown",void 0),s(d(o),"_elementContextmenu",void 0),s(d(o),"_resizeObserver",void 0),s(d(o),"eventManager",void 0),s(d(o),"draggingClass","jtk-dragging"),s(d(o),"elementDraggingClass","jtk-element-dragging"),s(d(o),"hoverClass","jtk-hover"),s(d(o),"sourceElementDraggingClass","jtk-source-element-dragging"),s(d(o),"targetElementDraggingClass","jtk-target-element-dragging"),s(d(o),"hoverSourceClass","jtk-source-hover"),s(d(o),"hoverTargetClass","jtk-target-hover"),s(d(o),"dragSelectClass","jtk-drag-select"),s(d(o),"managedElementsSelector",void 0),s(d(o),"elementsDraggable",void 0),s(d(o),"elementDragHandler",void 0),s(d(o),"groupDragOptions",void 0),s(d(o),"elementDragOptions",void 0),s(d(o),"svg",{node:function(e,t){return on(e,t)},attr:function(e,t){return rn(e,t)},pos:function(e){return an(e)}}),i=i||{},o.containerType=Le(o.getContainer()),o.elementsDraggable=i&&!1!==i.elementsDraggable,o.managedElementsSelector=i&&i.managedElementsSelector||Qt,o.eventManager=new rr,o.dragSelection=new no(d(o)),o.dragManager=new uo(d(o),o.dragSelection),o.dragManager.addHandler(new ia(d(o))),o.groupDragOptions={constrainFunction:Zs},o.dragManager.addHandler(new ra(d(o),o.dragSelection),o.groupDragOptions),o.elementDragHandler=new ho(d(o),o.dragSelection),o.elementDragOptions=i&&i.dragOptions||{},o.dragManager.addHandler(o.elementDragHandler,o.elementDragOptions),i&&i.dragOptions&&i.dragOptions.filter&&o.dragManager.addFilter(i.dragOptions.filter),o._createEventListeners(),o._attachEventDelegates(),!1!==i.resizeObserver)try{o._resizeObserver=new ResizeObserver((function(e){e.filter((function(e){var t=o.getAttribute(e.target,Ye);if(null!=t){var n=o.viewport._elementMap.get(t);return!!n&&(n.w!==e.contentRect.width||n.h!==e.contentRect.height)}return!1})).forEach((function(e){return o.revalidate(e.target)}))}))}catch(e){se("WARN: ResizeObserver could not be attached.")}return o}return a(n,[{key:"fireOverlayMethod",value:function(e,t,n){var i=un(e.component instanceof Fa?yn:mn,t);n._jsPlumbOverlay=e,e.fire(t,{e:n,overlay:e}),this.fire(i,e.component,n)}},{key:"addDragFilter",value:function(e,t){this.dragManager.addFilter(e,t)}},{key:"removeDragFilter",value:function(e){this.dragManager.removeFilter(e)}},{key:"setDragGrid",value:function(e){this.dragManager.setOption(this.elementDragHandler,{grid:e})}},{key:"setDragConstrainFunction",value:function(e){this.dragManager.setOption(this.elementDragHandler,{constrainFunction:e})}},{key:"_removeElement",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"_appendElement",value:function(e,t){t&&t.appendChild(e)}},{key:"_appendElementToGroup",value:function(e,t){this.getGroupContentArea(e).appendChild(t)}},{key:"_appendElementToContainer",value:function(e){this._appendElement(e,this.getContainer())}},{key:"_getAssociatedElements",value:function(e){var t=[];if(3!==e.nodeType&&8!==e.nodeType){var n=e.querySelectorAll(Qt);Array.prototype.push.apply(t,n)}return t.filter((function(e){return 3!==e.nodeType&&8!==e.nodeType}))}},{key:"shouldFireEvent",value:function(e,t,n){return!0}},{key:"getClass",value:function(e){return we(e)}},{key:"addClass",value:function(e,t){xe(e,t)}},{key:"hasClass",value:function(e,t){return Ce(e,t)}},{key:"removeClass",value:function(e,t){_e(e,t)}},{key:"toggleClass",value:function(e,t){ke(e,t)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"setAttributes",value:function(e,t){for(var n in t)e.setAttribute(n,t[n])}},{key:"removeAttribute",value:function(e,t){e.removeAttribute&&e.removeAttribute(t)}},{key:"on",value:function(e,t,n,i){var r=this,o=function(e){null==i?r.eventManager.on(e,t,n):r.eventManager.on(e,t,n,i)};return ye(e)?O(e,(function(e){return o(e)})):o(e),this}},{key:"off",value:function(e,t,n){var i=this;return ye(e)?O(e,(function(e){return i.eventManager.off(e,t,n)})):this.eventManager.off(e,t,n),this}},{key:"trigger",value:function(e,t,n,i,r){this.eventManager.trigger(e,t,n,i,r)}},{key:"getOffsetRelativeToRoot",value:function(e){return Te(e)}},{key:"getOffset",value:function(e){for(var t,n=e,i=this.getContainer(),r=this.getPosition(n),o=e!==i&&n.offsetParent!==i?n.offsetParent:null;null!=o;)r.x+=o.offsetLeft,r.y+=o.offsetTop,null!=(t=o)&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(r.x-=t.scrollLeft,r.y-=t.scrollTop),o=o.offsetParent===i?null:o.offsetParent;if(null!=i&&(i.scrollTop>0||i.scrollLeft>0)){var a=null!=n.offsetParent?this.getStyle(n.offsetParent,gi):Ge,s=this.getStyle(n,gi);s!==ze&&s!==Ke&&a!==ze&&a!==Ke&&(r.x-=i.scrollLeft,r.y-=i.scrollTop)}return r}},{key:"getSize",value:function(e){var t=e;return null!=t.offsetWidth?Be(e):t.width&&t.width.baseVal?Ie(t):void 0}},{key:"getPosition",value:function(e){var t=e;return null!=t.offsetLeft?{x:parseFloat(t.offsetLeft),y:parseFloat(t.offsetTop)}:t.x&&t.x.baseVal?De(t):void 0}},{key:"getStyle",value:function(e,t){return i(window.getComputedStyle)!==Si?getComputedStyle(e,null).getPropertyValue(t):e.currentStyle[t]}},{key:"getGroupContentArea",value:function(e){var t=this.getSelector(e.el,bi);return t&&t.length>0?t[0]:e.el}},{key:"getSelector",value:function(e,t){var n=null;if(1===arguments.length){if(!w(e)){var i=document.createDocumentFragment();return i.appendChild(e),j(i.childNodes)}n=j(document.querySelectorAll(e))}else n=j(e.querySelectorAll(t));return n}},{key:"setPosition",value:function(e,t){var n=e;n.style.left=t.x+"px",n.style.top=t.y+"px"}},{key:"setDraggable",value:function(e,t){t?this.removeAttribute(e,Xe):this.setAttribute(e,Xe,Ti)}},{key:"isDraggable",value:function(e){var t=this.getAttribute(e,Xe);return null==t||t===Bi}},{key:"toggleDraggable",value:function(e){var t=this.isDraggable(e);return this.setDraggable(e,!t),!t}},{key:"_createEventListeners",value:function(){var e=function(e,t){if(!t.defaultPrevented&&null==t._jsPlumbOverlay){var n=Ae(ge(t),mi,this.getContainer(),!0);this.fire(e,n.jtk.connector.connection,t)}};this._connectorClick=e.bind(this,si),this._connectorDblClick=e.bind(this,li),this._connectorTap=e.bind(this,Ai),this._connectorDblTap=e.bind(this,ci);var t=function(e,t){var n=ge(t).parentNode;if(n.jtk&&n.jtk.connector){var i=n.jtk.connector,r=i.connection;this.setConnectorHover(i,e),e?(this.addClass(r.source,this.hoverSourceClass),this.addClass(r.target,this.hoverTargetClass)):(this.removeClass(r.source,this.hoverSourceClass),this.removeClass(r.target,this.hoverTargetClass)),this.fire(e?di:ui,n.jtk.connector.connection,t)}};this._connectorMouseover=t.bind(this,!0),this._connectorMouseout=t.bind(this,!1);var n=function(e,t){var n=ge(t).parentNode;n.jtk&&n.jtk.connector&&this.fire(e?hi:fi,n.jtk.connector.connection,t)};this._connectorMouseup=n.bind(this,!0),this._connectorMousedown=n.bind(this,!1),this._connectorContextmenu=function(e){var t=ge(e).parentNode;t.jtk&&t.jtk.connector&&this.fire(pi,t.jtk.connector.connection,e)}.bind(this);var i=function(e,t,n){t.defaultPrevented||null!=t._jsPlumbOverlay||this.fire(e,n.jtk.endpoint,t)};this._endpointClick=i.bind(this,Zn),this._endpointDblClick=i.bind(this,ei);var r=function(e,t){var n=ge(t);n.jtk&&n.jtk.endpoint&&(this.setEndpointHover(n.jtk.endpoint,e),this.fire(e?ii:ni,n.jtk.endpoint,t))};this._endpointMouseover=r.bind(this,!0),this._endpointMouseout=r.bind(this,!1);var o=function(e,t){var n=ge(t);n.jtk&&n.jtk.endpoint&&this.fire(e?ri:oi,n.jtk.endpoint,t)};this._endpointMouseup=o.bind(this,!0),this._endpointMousedown=o.bind(this,!1);var a=function(e,t){var n=Ae(ge(t),wi,this.getContainer(),!0).jtk.overlay;n&&this.fireOverlayMethod(n,e,t)}.bind(this);this._overlayClick=a.bind(this,wn),this._overlayDblClick=a.bind(this,Cn),this._overlayTap=a.bind(this,Mn),this._overlayDblTap=a.bind(this,_n);var s=function(e,t){var n=Ae(ge(t),wi,this.getContainer(),!0).jtk.overlay;n&&this.setOverlayHover(n,e)};this._overlayMouseover=s.bind(this,!0),this._overlayMouseout=s.bind(this,!1),this._elementClick=function(e,t,n){t.defaultPrevented||this.fire(1===t.detail?Wn:Vn,n,t)}.bind(this,Wn),this._elementTap=function(e,t,n){t.defaultPrevented||this.fire(Jn,n,t)}.bind(this,Jn),this._elementDblTap=function(e,t,n){t.defaultPrevented||this.fire(jn,n,t)}.bind(this,jn);var l=function(e,t){this.fire(e?Kn:zn,ge(t),t)};this._elementMouseenter=l.bind(this,!0),this._elementMouseexit=l.bind(this,!1),this._elementMousemove=function(e){this.fire(Gn,ge(e),e)}.bind(this),this._elementMouseup=function(e){this.fire(qn,ge(e),e)}.bind(this),this._elementMousedown=function(e){this.fire(Yn,ge(e),e)}.bind(this),this._elementContextmenu=function(e){this.fire(Xn,ge(e),e)}.bind(this)}},{key:"_attachEventDelegates",value:function(){var e=this.getContainer();this.eventManager.on(e,wn,wi,this._overlayClick),this.eventManager.on(e,Cn,wi,this._overlayDblClick),this.eventManager.on(e,Mn,wi,this._overlayTap),this.eventManager.on(e,_n,wi,this._overlayDblTap),this.eventManager.on(e,wn,mi,this._connectorClick),this.eventManager.on(e,Cn,mi,this._connectorDblClick),this.eventManager.on(e,Mn,mi,this._connectorTap),this.eventManager.on(e,_n,mi,this._connectorDblTap),this.eventManager.on(e,wn,vi,this._endpointClick),this.eventManager.on(e,Cn,vi,this._endpointDblClick),this.eventManager.on(e,wn,this.managedElementsSelector,this._elementClick),this.eventManager.on(e,Mn,this.managedElementsSelector,this._elementTap),this.eventManager.on(e,_n,this.managedElementsSelector,this._elementDblTap),this.eventManager.on(e,Fn,mi,this._connectorMouseover),this.eventManager.on(e,Dn,mi,this._connectorMouseout),this.eventManager.on(e,xn,mi,this._connectorContextmenu),this.eventManager.on(e,In,mi,this._connectorMouseup),this.eventManager.on(e,Sn,mi,this._connectorMousedown),this.eventManager.on(e,Fn,vi,this._endpointMouseover),this.eventManager.on(e,Dn,vi,this._endpointMouseout),this.eventManager.on(e,In,vi,this._endpointMouseup),this.eventManager.on(e,Sn,vi,this._endpointMousedown),this.eventManager.on(e,Fn,wi,this._overlayMouseover),this.eventManager.on(e,Dn,wi,this._overlayMouseout),this.eventManager.on(e,Fn,Qt,this._elementMouseenter),this.eventManager.on(e,Dn,Qt,this._elementMouseexit),this.eventManager.on(e,Bn,Qt,this._elementMousemove),this.eventManager.on(e,In,Qt,this._elementMouseup),this.eventManager.on(e,Sn,Qt,this._elementMousedown),this.eventManager.on(e,xn,Qt,this._elementContextmenu)}},{key:"_detachEventDelegates",value:function(){var e=this.getContainer();e&&(this.eventManager.off(e,wn,this._connectorClick),this.eventManager.off(e,Cn,this._connectorDblClick),this.eventManager.off(e,Mn,this._connectorTap),this.eventManager.off(e,_n,this._connectorDblTap),this.eventManager.off(e,wn,this._endpointClick),this.eventManager.off(e,Cn,this._endpointDblClick),this.eventManager.off(e,wn,this._overlayClick),this.eventManager.off(e,Cn,this._overlayDblClick),this.eventManager.off(e,Mn,this._overlayTap),this.eventManager.off(e,_n,this._overlayDblTap),this.eventManager.off(e,wn,this._elementClick),this.eventManager.off(e,Mn,this._elementTap),this.eventManager.off(e,_n,this._elementDblTap),this.eventManager.off(e,Fn,this._connectorMouseover),this.eventManager.off(e,Dn,this._connectorMouseout),this.eventManager.off(e,xn,this._connectorContextmenu),this.eventManager.off(e,In,this._connectorMouseup),this.eventManager.off(e,Sn,this._connectorMousedown),this.eventManager.off(e,Fn,this._endpointMouseover),this.eventManager.off(e,Dn,this._endpointMouseout),this.eventManager.off(e,In,this._endpointMouseup),this.eventManager.off(e,Sn,this._endpointMousedown),this.eventManager.off(e,Fn,this._overlayMouseover),this.eventManager.off(e,Dn,this._overlayMouseout),this.eventManager.off(e,En,this._elementMouseenter),this.eventManager.off(e,Tn,this._elementMouseexit),this.eventManager.off(e,Bn,this._elementMousemove),this.eventManager.off(e,In,this._elementMouseup),this.eventManager.off(e,Sn,this._elementMousedown),this.eventManager.off(e,xn,this._elementContextmenu))}},{key:"setContainer",value:function(e){var t,i=this;if(e===document||e===document.body)throw new Error("Cannot set document or document.body as container element");this._detachEventDelegates(),null!=this.dragManager&&(t=this.dragManager.reset()),this.setAttribute(e,fn,Z().replace("-",""));var r=this.getContainer();null!=r&&(r.removeAttribute(fn),O(j(r.childNodes).filter((function(e){return null!=e&&(i.hasClass(e,it)||i.hasClass(e,at)||i.hasClass(e,At)||e.getAttribute&&null!=e.getAttribute(Ye))})),(function(t){e.appendChild(t)}))),f(c(n.prototype),"setContainer",this).call(this,e),this.containerType=Le(e),null!=this.eventManager&&this._attachEventDelegates(),null!=this.dragManager&&(this.dragManager.addHandler(new ia(this)),this.dragManager.addHandler(new ra(this,this.dragSelection),this.groupDragOptions),this.elementDragHandler=new ho(this,this.dragSelection),this.dragManager.addHandler(this.elementDragHandler,this.elementDragOptions),null!=t&&this.dragManager.setFilters(t))}},{key:"reset",value:function(){f(c(n.prototype),"reset",this).call(this),this._resizeObserver&&this._resizeObserver.disconnect(),O(this.getContainer().querySelectorAll([Qt,vi,mi,wi].join(",")),(function(e){return e.parentNode&&e.parentNode.removeChild(e)}))}},{key:"destroy",value:function(){this._detachEventDelegates(),null!=this.dragManager&&this.dragManager.reset(),this.clearDragSelection(),f(c(n.prototype),"destroy",this).call(this)}},{key:"unmanage",value:function(e,t){null!=this._resizeObserver&&this._resizeObserver.unobserve(e),this.removeFromDragSelection(e),f(c(n.prototype),"unmanage",this).call(this,e,t)}},{key:"addToDragSelection",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];O(n,(function(t){return e.dragSelection.add(t)}))}},{key:"clearDragSelection",value:function(){this.dragSelection.clear()}},{key:"removeFromDragSelection",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];O(n,(function(t){return e.dragSelection.remove(t)}))}},{key:"toggleDragSelection",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];O(n,(function(t){return e.dragSelection.toggle(t)}))}},{key:"addToDragGroup",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.elementDragHandler).addToDragGroup.apply(t,[e].concat(i))}},{key:"removeFromDragGroup",value:function(){var e;(e=this.elementDragHandler).removeFromDragGroup.apply(e,arguments)}},{key:"setDragGroupState",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.elementDragHandler).setDragGroupState.apply(t,[e].concat(i))}},{key:"clearDragGroup",value:function(e){this.elementDragHandler.clearDragGroup(e)}},{key:"consume",value:function(e,t){pe(e,t)}},{key:"rotate",value:function(e,t,i){var r=this.getId(e);return this._managedElements[r]?(this._managedElements[r].el.style.transform="rotate("+t+"deg)",this._managedElements[r].el.style.transformOrigin="center center",f(c(n.prototype),"rotate",this).call(this,e,t,i)):{c:new Set,e:new Set}}},{key:"addOverlayClass",value:function(e,t){if(pa(e))e.instance.addClass(Xs(e),t);else if(Ks(e))e.instance.addClass(Ma(e),t);else{if(!Va(e))throw"Could not add class to overlay of type ["+e.type+"]";e.instance.addClass(Js(e),t)}}},{key:"removeOverlayClass",value:function(e,t){if(pa(e))e.instance.removeClass(Xs(e),t);else if(Ks(e))e.instance.removeClass(Ma(e),t);else{if(!Va(e))throw"Could not remove class from overlay of type ["+e.type+"]";e.instance.removeClass(Js(e),t)}}},{key:"_paintOverlay",value:function(e,t,n){if(pa(e)){Xs(e);var i=e.component.getXY();e.canvas.style.left=i.x+t.d.minx+"px",e.canvas.style.top=i.y+t.d.miny+"px"}else if(Ks(e))!function(e,t,n,i){Ma(e);var r=[0,0];i.xmin<0&&(r[0]=-i.xmin),i.ymin<0&&(r[1]=-i.ymin);var o={d:t,stroke:n.stroke?n.stroke:null,fill:n.fill?n.fill:null,transform:"translate("+r[0]+","+r[1]+")","pointer-events":"visibleStroke"};rn(e.path,o)}(e,isNaN(t.d.cxy.x)||isNaN(t.d.cxy.y)?"M 0 0":"M"+t.d.hxy.x+","+t.d.hxy.y+" L"+t.d.tail[0].x+","+t.d.tail[0].y+" L"+t.d.cxy.x+","+t.d.cxy.y+" L"+t.d.tail[1].x+","+t.d.tail[1].y+" Z",t,n);else{if(!Va(e))throw"Could not paint overlay of type ["+e.type+"]";Js(e);var r=e.component.getXY();e.canvas.style.left=r.x+t.d.minx+"px",e.canvas.style.top=r.y+t.d.miny+"px"}}},{key:"setOverlayVisible",value:function(e,t){var n=t?"block":"none";function i(e){null!=e&&(e.style.display=n)}pa(e)?i(Xs(e)):Va(e)?i(Js(e)):Ks(e)&&i(e.path)}},{key:"reattachOverlay",value:function(e,t){pa(e)?e.instance._appendElement(Xs(e),this.getContainer()):Va(e)?e.instance._appendElement(Js(e),this.getContainer()):Ks(e)&&this._appendElement(Ma(e),t.connector.canvas)}},{key:"setOverlayHover",value:function(e,t){var n;pa(e)?n=Xs(e):Va(e)?n=Js(e):Ks(e)&&(n=Ma(e)),null!=n&&(null!=this.hoverClass&&(t?this.addClass(n,this.hoverClass):this.removeClass(n,this.hoverClass)),this.setHover(e.component,t))}},{key:"destroyOverlay",value:function(e){if(pa(e)){var t=Xs(e);t.parentNode.removeChild(t),delete e.canvas,delete e.cachedDimensions}else if(Na(e)||Ha(e)||Qa(e))!function(e,t){var n=e;null!=n.path&&null!=n.path.parentNode&&n.path.parentNode.removeChild(n.path),null!=n.bgPath&&null!=n.bgPath.parentNode&&n.bgPath.parentNode.removeChild(n.bgPath),delete n.path,delete n.bgPath}(e);else if(Va(e)){var n=Js(e);n.parentNode.removeChild(n),delete e.canvas,delete e.cachedDimensions}}},{key:"drawOverlay",value:function(e,t,n,i){if(pa(e)||Va(e)){var r=oa._getDimensions(e);if(null!=r&&null!=r.w&&null!=r.h){var o={x:0,y:0};if(i)o={x:i.x,y:i.y};else if(t instanceof mo){var a=Array.isArray(e.location)?e.location:[e.location,e.location];o={x:a[0]*t.w,y:a[1]*t.h}}else{var s=e.location,l=!1;(w(e.location)||e.location<0||e.location>1)&&(s=parseInt(""+e.location,10),l=!0),o=t.pointOnPath(s,l)}var c=o.x-r.w/2,u=o.y-r.h/2;return{component:e,d:{minx:c,miny:u,td:r,cxy:o},xmin:c,xmax:c+r.w,ymin:u,ymax:u+r.h}}return{xmin:0,xmax:0,ymin:0,ymax:0}}if(Na(e)||Ha(e)||Qa(e))return e.draw(t,n,i);throw"Could not draw overlay of type ["+e.type+"]"}},{key:"updateLabel",value:function(e){if(k(e.label)){var t=e.label(this);Xs(e).innerText=null!=t?t:""}else null==e.labelText&&(e.labelText=e.label,null!=e.labelText?Xs(e).innerText=e.labelText:Xs(e).innerText="")}},{key:"setHover",value:function(e,t){e._hover=t,e instanceof Ta&&null!=e.endpoint?this.setEndpointHover(e,t,-1):e instanceof Fa&&null!=e.connector&&this.setConnectorHover(e.connector,t)}},{key:"paintConnector",value:function(e,t,n){!function(e,t,n,i){!function(e,t){if(null!=t.canvas)return t.canvas;var n=on("svg",{style:"",width:"0",height:"0","pointer-events":We,position:ze});t.canvas=n,e._appendElement(t.canvas,e.getContainer()),null!=t.cssClass&&e.addClass(n,t.cssClass),e.addClass(n,e.connectorClass),n.jtk=n.jtk||{},n.jtk.connector=t}(e,t),La.paint(t,e,n,i);var r=[0,0];if(i.xmin<0&&(r[0]=-i.xmin),i.ymin<0&&(r[1]=-i.ymin),t.segments.length>0){var o={d:e.getPathData(t),transform:"translate("+r[0]+","+r[1]+")","pointer-events":"visibleStroke"},a=null;if(n.outlineStroke){var s=n.outlineWidth||1,l=n.strokeWidth+2*s;(a=y({},n)).stroke=n.outlineStroke,a.strokeWidth=l,null==t.bgPath?(t.bgPath=on(tn,o),e.addClass(t.bgPath,e.connectorOutlineClass),ln(t.canvas,t.bgPath,0)):rn(t.bgPath,o),sn(t.canvas,t.bgPath,a)}var c=t;null==c.path?(c.path=on(tn,o),ln(c.canvas,c.path,n.outlineStroke?1:0)):(c.path.parentNode!==c.canvas&&ln(c.canvas,c.path,n.outlineStroke?1:0),rn(t.path,o)),sn(t.canvas,t.path,n)}}(this,e,t,n)}},{key:"setConnectorHover",value:function(e,t,n){if(!1===t||!this.currentlyDragging&&!this.isHoverSuspended()){var i=e.canvas;null!=i&&(null!=e.hoverClass&&(t?this.addClass(i,e.hoverClass):this.removeClass(i,e.hoverClass)),t?this.addClass(i,this.hoverClass):this.removeClass(i,this.hoverClass)),null!=e.connection.hoverPaintStyle&&(e.connection.paintStyleInUse=t?e.connection.hoverPaintStyle:e.connection.paintStyle,this._suspendDrawing||this._paintConnection(e.connection)),e.connection.endpoints[0]!==n&&this.setEndpointHover(e.connection.endpoints[0],t,0,!0),e.connection.endpoints[1]!==n&&this.setEndpointHover(e.connection.endpoints[1],t,1,!0)}}},{key:"destroyConnector",value:function(e){null!=e.connector&&qs(e.connector)}},{key:"addConnectorClass",value:function(e,t){e.canvas&&this.addClass(e.canvas,t)}},{key:"removeConnectorClass",value:function(e,t){e.canvas&&this.removeClass(e.canvas,t)}},{key:"getConnectorClass",value:function(e){return e.canvas?e.canvas.className.baseVal:""}},{key:"setConnectorVisible",value:function(e,t){Gs(e,t)}},{key:"applyConnectorType",value:function(e,t){if(e.canvas&&t.cssClass){var n=Array.isArray(t.cssClass)?t.cssClass:[t.cssClass];this.addClass(e.canvas,n.join(" "))}}},{key:"addEndpointClass",value:function(e,t){var n=Ys(e.endpoint);null!=n&&this.addClass(n,t)}},{key:"applyEndpointType",value:function(e,t){if(t.cssClass){var n=Ys(e.endpoint);if(n){var i=Array.isArray(t.cssClass)?t.cssClass:[t.cssClass];this.addClass(n,i.join(" "))}}}},{key:"destroyEndpoint",value:function(e){var t=this.endpointAnchorClassPrefix+(e.currentAnchorClass?"-"+e.currentAnchorClass:"");this.removeClass(e.element,t),qs(e.endpoint)}},{key:"renderEndpoint",value:function(e,t){var n=Vs[e.endpoint.type];null!=n?Pa.paint(e.endpoint,n,t):se("jsPlumb: no endpoint renderer found for type ["+e.endpoint.type+"]")}},{key:"removeEndpointClass",value:function(e,t){var n=Ys(e.endpoint);null!=n&&this.removeClass(n,t)}},{key:"getEndpointClass",value:function(e){var t=Ys(e.endpoint);return null!=t?t.className:""}},{key:"setEndpointHover",value:function(e,t,n,i){if(null!=e&&(!1===t||!this.currentlyDragging&&!this.isHoverSuspended())){var r=Ys(e.endpoint);if(null!=r&&(null!=e.hoverClass&&(t?this.addClass(r,e.hoverClass):this.removeClass(r,e.hoverClass)),0===n||1===n)){var o=0===n?this.hoverSourceClass:this.hoverTargetClass;t?this.addClass(r,o):this.removeClass(r,o)}if(null!=e.hoverPaintStyle&&(e.paintStyleInUse=t?e.hoverPaintStyle:e.paintStyle,this._suspendDrawing||this.renderEndpoint(e,e.paintStyleInUse)),!i)for(var a=0;a<e.connections.length;a++)this.setConnectorHover(e.connections[a].connector,t,e)}}},{key:"setEndpointVisible",value:function(e,t){Gs(e.endpoint,t)}},{key:"setGroupVisible",value:function(e,t){for(var n=e.el.querySelectorAll(Qt),i=0;i<n.length;i++)t?this.show(n[i],!0):this.hide(n[i],!0)}},{key:"deleteConnection",value:function(e,t){return null!=e&&!0!==e.deleted&&(!0!==e.endpoints[0].deleted&&this.setEndpointHover(e.endpoints[0],!1,0,!0),!0!==e.endpoints[1].deleted&&this.setEndpointHover(e.endpoints[1],!1,1,!0),f(c(n.prototype),"deleteConnection",this).call(this,e,t))}},{key:"addSourceSelector",value:function(e,t,i){return this.addDragFilter(e),f(c(n.prototype),"addSourceSelector",this).call(this,e,t,i)}},{key:"removeSourceSelector",value:function(e){this.removeDragFilter(e.selector),f(c(n.prototype),"removeSourceSelector",this).call(this,e)}},{key:"manage",value:function(e,t,i){if(this.containerType===oe.SVG&&!Pe(e))throw new Error("ERROR: cannot manage non-svg element when container is an SVG element.");var r=f(c(n.prototype),"manage",this).call(this,e,t,i);return null!=r&&null!=this._resizeObserver&&this._resizeObserver.observe(r.el),r}}]),n}(Ws),tl=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),s(d(o=t.call(this,e,i)),"width",void 0),s(d(o),"height",void 0),s(d(o),"type",n.type),i=i||{},o.width=i.width||10,o.height=i.height||10,o}return a(n,null,[{key:"_getParams",value:function(e){return{width:e.width,height:e.height}}}]),n}(mo);s(tl,"type","Rectangle");var nl={type:tl.type,cls:tl,compute:function(e,t,n,i){var r=i.width||e.width,o=i.height||e.height,a=t.curX-r/2,s=t.curY-o/2;return e.x=a,e.y=s,e.w=r,e.h=o,[a,s,r,o]},getParams:function(e){return{width:e.width,height:e.height}}},il=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),s(d(o=t.call(this,e,i)),"type",n.type),o}return n}(mo);s(il,"type","Blank");var rl,ol={type:il.type,cls:il,compute:function(e,t,n,i){return e.x=t.curX,e.y=t.curY,e.w=10,e.h=0,[t.curX,t.curY,10,0]},getParams:function(e){return{}}},al={width:10,height:0,fill:"transparent",stroke:"transparent"};js(hs.type,{makeNode:function(e,t){return on("circle",{cx:e.w/2,cy:e.h/2,r:e.radius})},updateNode:function(e,t){rn(t,{cx:""+e.w/2,cy:""+e.h/2,r:""+e.radius})}}),js(il.type,{makeNode:function(e,t){return on("rect",al)},updateNode:function(e,t){rn(t,al)}}),js(tl.type,{makeNode:function(e,t){return on("rect",{width:e.w,height:e.h})},updateNode:function(e,t){rn(t,{width:e.w,height:e.h})}}),function(e){e[e.top=0]="top",e[e.bottom=1]="bottom"}(rl||(rl={}));var sl=new Map;sl.set(rl.top,[hn.TopRight,hn.TopLeft]),sl.set(rl.bottom,[hn.BottomRight,hn.BottomLeft]);var ll={deriveAnchor:function(e,t,n,i){return sl.get(e)[t]}},cl="jtk-scrollable-list",ul=Ue(cl),dl="scroll",hl=function(){function e(t,n){var i=this;r(this,e),this.instance=t,s(this,"options",void 0),s(this,"count",void 0),s(this,"lists",void 0),this.count=0,this.lists={},this.options=n||{},this.instance.bind(kt,(function(e){for(var t=i.instance.getSelector(e.el,ul),n=0;n<t.length;n++)i.addList(t[n])})),this.instance.bind(Pt,(function(e){i.removeList(e.el)})),this.instance.bind(mt,(function(e,t){if(null==t){var n=i.findParentList(e.target);null!=n&&n.newConnection(e.connection,e.target,1);var r=i.findParentList(e.source);null!=r&&r.newConnection(e.connection,e.source,0)}})),this.instance.bind(Ut,(function(e){var t=e.dropEndpoint.element,n=i.findParentList(t);return null==n||t.offsetTop>=n.domElement.scrollTop&&t.offsetTop+t.offsetHeight<=n.domElement.scrollTop+n.domElement.offsetHeight}))}return a(e,[{key:"addList",value:function(e,t){var n=y({},ll);y(n,this.options),t=y(n,t||{});var i=[this.instance._instanceIndex,this.count++].join("_");return this.lists[i]=new fl(this.instance,e,t,i),this.lists[i]}},{key:"getList",value:function(e){var t=this.instance.getAttribute(e,cl);if(null!=t)return this.lists[t]}},{key:"removeList",value:function(e){var t=this.getList(e);t&&(t.destroy(),delete this.lists[t.id])}},{key:"findParentList",value:function(e){for(var t,n=e.parentNode,i=this.instance.getContainer();null!=n&&n!==i&&n!==document;){if(null!=(t=this.getList(n)))return t;n=n.parentNode}}}]),e}(),fl=function(){function e(t,n,i,o){r(this,e),this.instance=t,this.el=n,this.options=i,this.id=o,s(this,"_scrollHandler",void 0),s(this,"domElement",void 0),s(this,"elId",void 0),this.domElement=n,this.elId=this.instance.getId(n),t.setAttribute(n,cl,o),this._scrollHandler=this.scrollHandler.bind(this),this.domElement._jsPlumbScrollHandler=this._scrollHandler,t.on(n,dl,this._scrollHandler),this._scrollHandler()}return a(e,[{key:"deriveAnchor",value:function(e,t,n,i){return this.options.anchor?this.options.anchor:this.options.deriveAnchor(e,t,n,i)}},{key:"deriveEndpoint",value:function(e,t,n,i){return this.options.deriveEndpoint?this.options.deriveEndpoint(e,t,n,i):this.options.endpoint?this.options.endpoint:n.endpoint.type}},{key:"newConnection",value:function(e,t,n){t.offsetTop<this.el.scrollTop?this._proxyConnection(t,e,n,rl.top):t.offsetTop+t.offsetHeight>this.el.scrollTop+this.domElement.offsetHeight&&this._proxyConnection(t,e,n,rl.bottom)}},{key:"scrollHandler",value:function(){for(var e=this,t=this.instance.getSelector(this.el,Qt),n=function(n){if(t[n].offsetTop<e.el.scrollTop)t[n]._jsPlumbProxies=t[n]._jsPlumbProxies||[],e.instance.select({source:t[n]}).each((function(i){e._proxyConnection(t[n],i,0,rl.top)})),e.instance.select({target:t[n]}).each((function(i){e._proxyConnection(t[n],i,1,rl.top)}));else if(t[n].offsetTop+t[n].offsetHeight>e.el.scrollTop+e.domElement.offsetHeight)t[n]._jsPlumbProxies=t[n]._jsPlumbProxies||[],e.instance.select({source:t[n]}).each((function(i){e._proxyConnection(t[n],i,0,rl.bottom)})),e.instance.select({target:t[n]}).each((function(i){e._proxyConnection(t[n],i,1,rl.bottom)}));else if(t[n]._jsPlumbProxies){for(var i=0;i<t[n]._jsPlumbProxies.length;i++)e.instance.unproxyConnection(t[n]._jsPlumbProxies[i][0],t[n]._jsPlumbProxies[i][1]);delete t[n]._jsPlumbProxies}e.instance.revalidate(t[n])},i=0;i<t.length;i++)n(i)}},{key:"_proxyConnection",value:function(e,t,n,i){var r=this;this.instance.proxyConnection(t,n,this.domElement,(function(e,n){return r.deriveEndpoint(i,n,t.endpoints[n],t)}),(function(e,n){return r.deriveAnchor(i,n,t.endpoints[n],t)})),e._jsPlumbProxies=e._jsPlumbProxies||[],e._jsPlumbProxies.push([t,n])}},{key:"destroy",value:function(){this.instance.off(this.el,dl,this._scrollHandler),delete this.domElement._jsPlumbScrollHandler;for(var e=this.instance.getSelector(this.el,Qt),t=0;t<e.length;t++)if(e[t]._jsPlumbProxies){for(var n=0;n<e[t]._jsPlumbProxies.length;n++)this.instance.unproxyConnection(e[t]._jsPlumbProxies[n][0],e[t]._jsPlumbProxies[n][1]);delete e[t]._jsPlumbProxies}}}]),e}();function pl(e){var t=Math.floor(e),n=Math.ceil(e);return e-t<1e-10?t:n-e<1e-10?n:e}var Al=function(e){l(n,e);var t=h(n);function n(e){var i;r(this,n),s(d(i=t.call(this,e)),"type",n.segmentType),s(d(i),"cx",void 0),s(d(i),"cy",void 0),s(d(i),"radius",void 0),s(d(i),"anticlockwise",void 0),s(d(i),"startAngle",void 0),s(d(i),"endAngle",void 0),s(d(i),"sweep",void 0),s(d(i),"length",void 0),s(d(i),"circumference",void 0),s(d(i),"frac",void 0),i.cx=e.cx,i.cy=e.cy,i.radius=e.r,i.anticlockwise=e.ac,e.startAngle&&e.endAngle?(i.startAngle=e.startAngle,i.endAngle=e.endAngle,i.x1=i.cx+i.radius*Math.cos(i.startAngle),i.y1=i.cy+i.radius*Math.sin(i.startAngle),i.x2=i.cx+i.radius*Math.cos(i.endAngle),i.y2=i.cy+i.radius*Math.sin(i.endAngle)):(i.startAngle=i._calcAngle(i.x1,i.y1),i.endAngle=i._calcAngle(i.x2,i.y2)),i.endAngle<0&&(i.endAngle+=cr),i.startAngle<0&&(i.startAngle+=cr);var o=i.endAngle<i.startAngle?i.endAngle+cr:i.endAngle;return i.sweep=Math.abs(o-i.startAngle),i.anticlockwise&&(i.sweep=cr-i.sweep),i.circumference=2*Math.PI*i.radius,i.frac=i.sweep/cr,i.length=i.circumference*i.frac,i.extents={xmin:i.cx-i.radius,xmax:i.cx+i.radius,ymin:i.cy-i.radius,ymax:i.cy+i.radius},i}return a(n,[{key:"_calcAngle",value:function(e,t){return gr({x:this.cx,y:this.cy},{x:e,y:t})}},{key:"_calcAngleForLocation",value:function(e,t){if(e.anticlockwise){var n=e.startAngle<e.endAngle?e.startAngle+cr:e.startAngle;return n-Math.abs(n-e.endAngle)*t}var i=e.endAngle<e.startAngle?e.endAngle+cr:e.endAngle,r=Math.abs(i-e.startAngle);return e.startAngle+r*t}},{key:"getPath",value:function(e){var t=this.sweep>Math.PI?1:0,n=this.anticlockwise?0:1;return(e?"M"+this.x1+" "+this.y1+" ":"")+"A "+this.radius+" "+this.radius+" 0 "+t+","+n+" "+this.x2+" "+this.y2}},{key:"getLength",value:function(){return this.length}},{key:"pointOnPath",value:function(e,t){if(0===e)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===e)return{x:this.x2,y:this.y2,theta:this.endAngle};t&&(e/=length);var n=this._calcAngleForLocation(this,e),i=this.cx+this.radius*Math.cos(n),r=this.cy+this.radius*Math.sin(n);return{x:pl(i),y:pl(r),theta:n}}},{key:"gradientAtPoint",value:function(e,t){var n=this.pointOnPath(e,t),i=fr({x:this.cx,y:this.cy},n);return this.anticlockwise||i!==1/0&&i!==-1/0||(i*=-1),i}},{key:"pointAlongPathFrom",value:function(e,t,n){var i=this.pointOnPath(e,n),r=t/this.circumference*2*Math.PI,o=this.anticlockwise?-1:1,a=i.theta+o*r;return{x:this.cx+this.radius*Math.cos(a),y:this.cy+this.radius*Math.sin(a)}}}]),n}(ki);s(Al,"segmentType","Arc");var gl=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),(o=t.call(this,e,i)).connection=e,s(d(o),"showLoopback",void 0),s(d(o),"curviness",void 0),s(d(o),"margin",void 0),s(d(o),"proximityLimit",void 0),s(d(o),"orientation",void 0),s(d(o),"loopbackRadius",void 0),s(d(o),"clockwise",void 0),s(d(o),"isLoopbackCurrently",void 0),s(d(o),"geometry",null),i=i||{},o.showLoopback=!1!==i.showLoopback,o.curviness=i.curviness||10,o.margin=i.margin||5,o.proximityLimit=i.proximityLimit||80,o.clockwise=i.orientation&&"clockwise"===i.orientation,o.loopbackRadius=i.loopbackRadius||25,o.isLoopbackCurrently=!1,o}return a(n,[{key:"getDefaultStubs",value:function(){return[0,0]}},{key:"_compute",value:function(e,t){var n=t.sourcePos,i=t.targetPos,r=Math.abs(n.curX-i.curX),o=Math.abs(n.curY-i.curY);if(this.showLoopback&&t.sourceEndpoint.elementId===t.targetEndpoint.elementId){this.isLoopbackCurrently=!0;var a=t.sourcePos.curX,s=t.sourcePos.curY-this.margin,l=a,c=s-this.loopbackRadius,u=l-this.loopbackRadius,d=c-this.loopbackRadius;r=2*this.loopbackRadius,o=2*this.loopbackRadius,e.points[0]=u,e.points[1]=d,e.points[2]=r,e.points[3]=o,this._addSegment(Al,{loopback:!0,x1:a-u+4,y1:s-d,startAngle:0,endAngle:2*Math.PI,r:this.loopbackRadius,ac:!this.clockwise,x2:a-u-4,y2:s-d,cx:l-u,cy:c-d})}else this.isLoopbackCurrently=!1,this._computeBezier(e,t,n,i,r,o)}},{key:"exportGeometry",value:function(){return null==this.geometry?null:{controlPoints:[y({},this.geometry.controlPoints[0]),y({},this.geometry.controlPoints[1])],source:y({},this.geometry.source),target:y({},this.geometry.target)}}},{key:"transformGeometry",value:function(e,t,n){return{controlPoints:[{x:e.controlPoints[0].x+t,y:e.controlPoints[0].y+n},{x:e.controlPoints[1].x+t,y:e.controlPoints[1].y+n}],source:this.transformAnchorPlacement(e.source,t,n),target:this.transformAnchorPlacement(e.target,t,n)}}},{key:"importGeometry",value:function(e){return!(null==e||(null==e.controlPoints||2!=e.controlPoints.length?(se("jsPlumb Bezier: cannot import geometry; controlPoints missing or does not have length 2"),this.setGeometry(null,!0),1):null==e.controlPoints[0].x||null==e.controlPoints[0].y||null==e.controlPoints[1].x||null==e.controlPoints[1].y?(se("jsPlumb Bezier: cannot import geometry; controlPoints malformed"),this.setGeometry(null,!0),1):null==e.source||null==e.source.curX||null==e.source.curY?(se("jsPlumb Bezier: cannot import geometry; source missing or malformed"),this.setGeometry(null,!0),1):null==e.target||null==e.target.curX||null==e.target.curY?(se("jsPlumb Bezier: cannot import geometry; target missing or malformed"),this.setGeometry(null,!0),1):(this.setGeometry(e,!1),0)))}}]),n}(Ra),ml={subtract:function(e,t){return{x:e.x-t.x,y:e.y-t.y}},dotProduct:function(e,t){return e.x*t.x+e.y*t.y},square:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},scale:function(e,t){return{x:e.x*t,y:e.y*t}}},vl=64,yl=Math.pow(2,-vl-1);function bl(e,t){for(var n,i=[],r=function(e,t){for(var n=t.length-1,i=2*n-1,r=[],o=[],a=[],s=[],l=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;c<=n;c++)r[c]=ml.subtract(t[c],e);for(var u=0;u<=n-1;u++)o[u]=ml.subtract(t[u+1],t[u]),o[u]=ml.scale(o[u],3);for(var d=0;d<=n-1;d++)for(var h=0;h<=n;h++)a[d]||(a[d]=[]),a[d][h]=ml.dotProduct(o[d],r[h]);for(var f=0;f<=i;f++)s[f]||(s[f]=[]),s[f].y=0,s[f].x=parseFloat(""+f)/i;for(var p=n,A=n-1,g=0;g<=p+A;g++)for(var m=Math.max(0,g-A),v=Math.min(g,p),y=m;y<=v;y++){var b=g-y;s[y+b].y+=a[b][y]*l[b][y]}return s}(e,t),o=t.length-1,a=xl(r,2*o-1,i,0),s=ml.subtract(e,t[0]),l=ml.square(s),c=0,u=0;u<a;u++)s=ml.subtract(e,Cl(t,o,i[u],null,null)),(n=ml.square(s))<l&&(l=n,c=i[u]);return s=ml.subtract(e,t[o]),(n=ml.square(s))<l&&(l=n,c=1),{location:c,distance:l}}function wl(e,t){var n=bl(e,t);return{point:Cl(t,t.length-1,n.location,null,null),location:n.location}}function xl(e,t,n,i){var r,o,a=[],s=[],l=[],c=[];switch(function(e,t){var n,i,r=0;n=i=le(e[0].y);for(var o=1;o<=t;o++)(n=le(e[o].y))!=i&&r++,i=n;return r}(e,t)){case 0:return 0;case 1:if(i>=vl)return n[0]=(e[0].x+e[t].x)/2,1;if(function(e,t){var n,i,r,o,a,s,l,c,u;o=e[0].y-e[t].y,a=e[t].x-e[0].x,s=e[0].x*e[t].y-e[t].x*e[0].y,c=u=0;for(var d=1;d<t;d++){var h=o*e[d].x+a*e[d].y+s;h>c?c=h:h<u&&(u=h)}return n=(1*(s-c)-(l=a)*0)*(1/(0*l-1*o)),i=(1*(s-u)-0*(l=a))*(1/(0*l-1*o)),r=Math.min(n,i),Math.max(n,i)-r<yl?1:0}(e,t))return n[0]=function(e,t){var n=e[t].x-e[0].x,i=e[t].y-e[0].y,r=e[0].x-0;return 0+1/(0*n-1*i)*(n*(e[0].y-0)-i*r)*1}(e,t),1}Cl(e,t,.5,a,s),r=xl(a,t,l,i+1),o=xl(s,t,c,i+1);for(var u=0;u<r;u++)n[u]=l[u];for(var d=0;d<o;d++)n[d+r]=c[d];return r+o}function Cl(e,t,n,i,r){for(var o=[[]],a=0;a<=t;a++)o[0][a]=e[a];for(var s=1;s<=t;s++)for(var l=0;l<=t-s;l++)o[s]||(o[s]=[]),o[s][l]||(o[s][l]={}),o[s][l].x=(1-n)*o[s-1][l].x+n*o[s-1][l+1].x,o[s][l].y=(1-n)*o[s-1][l].y+n*o[s-1][l+1].y;if(null!=i)for(var c=0;c<=t;c++)i[c]=o[c][0];if(null!=r)for(var u=0;u<=t;u++)r[u]=o[t-u][u];return o[t][0]}function _l(e,t){var n={x:0,y:0};if(0===e)return t[0];var i=t.length-1;if(1===e)return t[i];var r=t,o=1-e;if(0===i)return t[0];if(1===i)return{x:o*r[0].x+e*r[1].x,y:o*r[0].y+e*r[1].y};if(4>i){var a,s,l,c=o*o,u=e*e,d=0;return 2===i?(r=[r[0],r[1],r[2],n],a=c,s=o*e*2,l=u):3===i&&(a=c*o,s=c*e*3,l=o*u*3,d=e*u),{x:a*r[0].x+s*r[1].x+l*r[2].x+d*r[3].x,y:a*r[0].y+s*r[1].y+l*r[2].y+d*r[3].y}}return n}function kl(e){var t=0;if(!Bl(e))for(var n=function(e,t){var n=[];for(var i=0;i<=15;i++)n.push(_l(i/15,t));return n}(0,e),i=0;i<15;i++)t+=Tl(n[i],n[i+1]);return t}var Sl=new Map;function El(e,t){for(var n=function(e){var t=Sl.get(e);if(!t){var n=function(e){return function(t){return e}},i=function(e){return function(t){for(var n=1,i=0;i<e.length;i++)n*=e[i](t);return n}};(t=[]).push((function(t){return Math.pow(t,e)}));for(var r=1;r<e;r++){for(var o=[n(e)],a=0;a<e-r;a++)o.push((function(e){return e}));for(var s=0;s<r;s++)o.push((function(e){return 1-e}));t.push(i(o))}t.push((function(t){return Math.pow(1-t,e)})),Sl.set(e,t)}return t}(e.length-1),i=0,r=0,o=0;o<e.length;o++)i+=e[o].x*n[o](t),r+=e[o].y*n[o](t);return{x:i,y:r}}function Tl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Bl(e){return e[0].x===e[1].x&&e[0].y===e[1].y}function Il(e,t,n){if(Bl(e))return{point:e[0],location:t};for(var i=El(e,t),r=0,o=t,a=n>0?1:-1,s=null;r<Math.abs(n);)r+=Tl(s=El(e,o+=.005*a),i),i=s;return{point:s,location:o}}function Dl(e,t,n){return Il(e,t,n).point}function Fl(e,t,n){return Il(e,t,n).location}function Ml(e,t){var n=El(e,t),i=El(e.slice(0,e.length-1),t),r=i.y-n.y,o=i.x-n.x;return 0===r?1/0:Math.atan(r/o)}function Ll(e,t,n){var i=Il(e,t,n);return i.location>1&&(i.location=1),i.location<0&&(i.location=0),Ml(e,i.location)}function Pl(e,t,n,i){var r=Il(e,t,i=null==i?0:i),o=Ml(e,r.location),a=Math.atan(-1/o),s=n/2*Math.sin(a),l=n/2*Math.cos(a);return[{x:r.point.x+l,y:r.point.y+s},{x:r.point.x-l,y:r.point.y-s}]}function Rl(e,t,n,i,r){var o=i-t,a=e-n,s=e*(t-i)+t*(n-e),l=function(e){return[Ul(e,"x"),Ul(e,"y")]}(r),c=[o*l[0][0]+a*l[1][0],o*l[0][1]+a*l[1][1],o*l[0][2]+a*l[1][2],o*l[0][3]+a*l[1][3]+s],u=Hl.apply(null,c),d=[];if(null!=u)for(var h=0;h<3;h++){var f,p=u[h],A=Math.pow(p,2),g=Math.pow(p,3),m={x:l[0][0]*g+l[0][1]*A+l[0][2]*p+l[0][3],y:l[1][0]*g+l[1][1]*A+l[1][2]*p+l[1][3]};f=n-e!=0?(m[0]-e)/(n-e):(m[1]-t)/(i-t),p>=0&&p<=1&&f>=0&&f<=1&&d.push(m)}return d}function Ol(e,t,n,i,r){var o=[];return o.push.apply(o,Rl(e,t,e+n,t,r)),o.push.apply(o,Rl(e+n,t,e+n,t+i,r)),o.push.apply(o,Rl(e+n,t+i,e,t+i,r)),o.push.apply(o,Rl(e,t+i,e,t,r)),o}function Nl(e,t){var n=[];return n.push.apply(n,Rl(e.x,e.y,e.x+e.w,e.y,t)),n.push.apply(n,Rl(e.x+e.w,e.y,e.x+e.w,e.y+e.h,t)),n.push.apply(n,Rl(e.x+e.w,e.y+e.h,e.x,e.y+e.h,t)),n.push.apply(n,Rl(e.x,e.y+e.h,e.x,e.y,t)),n}function Ul(e,t){return[-e[0][t]+3*e[1][t]+-3*e[2][t]+e[3][t],3*e[0][t]-6*e[1][t]+3*e[2][t],-3*e[0][t]+3*e[1][t],e[0][t]]}function Hl(e,t,n,i){var r,o,a=t/e,s=n/e,l=i/e,c=(3*s-Math.pow(a,2))/9,u=(9*a*s-27*l-2*Math.pow(a,3))/54,d=Math.pow(c,3)+Math.pow(u,2),h=[0,0,0];if(d>=0)r=le(u+Math.sqrt(d))*Math.pow(Math.abs(u+Math.sqrt(d)),1/3),o=le(u-Math.sqrt(d))*Math.pow(Math.abs(u-Math.sqrt(d)),1/3),h[0]=-a/3+(r+o),h[1]=-a/3-(r+o)/2,h[2]=-a/3-(r+o)/2,0!==Math.abs(Math.sqrt(3)*(r-o)/2)&&(h[1]=-1,h[2]=-1);else{var f=Math.acos(u/Math.sqrt(-Math.pow(c,3)));h[0]=2*Math.sqrt(-c)*Math.cos(f/3)-a/3,h[1]=2*Math.sqrt(-c)*Math.cos((f+2*Math.PI)/3)-a/3,h[2]=2*Math.sqrt(-c)*Math.cos((f+4*Math.PI)/3)-a/3}for(var p=0;p<3;p++)(h[p]<0||h[p]>1)&&(h[p]=-1);return h}var $l=function(e){l(n,e);var t=h(n);function n(e){var i;return r(this,n),s(d(i=t.call(this,e)),"curve",void 0),s(d(i),"cp1x",void 0),s(d(i),"cp1y",void 0),s(d(i),"cp2x",void 0),s(d(i),"cp2y",void 0),s(d(i),"length",0),s(d(i),"type",n.segmentType),i.cp1x=e.cp1x,i.cp1y=e.cp1y,i.cp2x=e.cp2x,i.cp2y=e.cp2y,i.x1=e.x1,i.x2=e.x2,i.y1=e.y1,i.y2=e.y2,i.curve=[{x:i.x1,y:i.y1},{x:i.cp1x,y:i.cp1y},{x:i.cp2x,y:i.cp2y},{x:i.x2,y:i.y2}],i.extents={xmin:Math.min(i.x1,i.x2,i.cp1x,i.cp2x),ymin:Math.min(i.y1,i.y2,i.cp1y,i.cp2y),xmax:Math.max(i.x1,i.x2,i.cp1x,i.cp2x),ymax:Math.max(i.y1,i.y2,i.cp1y,i.cp2y)},i}return a(n,[{key:"getPath",value:function(e){return(e?"M "+this.x2+" "+this.y2+" ":"")+"C "+this.cp2x+" "+this.cp2y+" "+this.cp1x+" "+this.cp1y+" "+this.x1+" "+this.y1}},{key:"pointOnPath",value:function(e,t){return e=n._translateLocation(this.curve,e,t),El(this.curve,e)}},{key:"gradientAtPoint",value:function(e,t){return e=n._translateLocation(this.curve,e,t),Ml(this.curve,e)}},{key:"pointAlongPathFrom",value:function(e,t,i){return e=n._translateLocation(this.curve,e,i),Dl(this.curve,e,t)}},{key:"getLength",value:function(){return null!=this.length&&0!==this.length||(this.length=kl(this.curve)),this.length}},{key:"findClosestPointOnPath",value:function(e,t){var n=wl({x:e,y:t},this.curve);return{d:Math.sqrt(Math.pow(n.point.x-e,2)+Math.pow(n.point.y-t,2)),x:n.point.x,y:n.point.y,l:1-n.location,s:this,x1:null,y1:null,x2:null,y2:null}}},{key:"lineIntersection",value:function(e,t,n,i){return Rl(e,t,n,i,this.curve)}}],[{key:"_translateLocation",value:function(e,t,n){return n&&(t=Fl(e,t>0?0:1,t)),t}}]),n}(ki);s($l,"segmentType","Bezier");var Ql=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),(o=t.call(this,e,i)).connection=e,s(d(o),"type",n.type),s(d(o),"majorAnchor",void 0),s(d(o),"minorAnchor",void 0),i=i||{},o.majorAnchor=i.curviness||150,o.minorAnchor=10,o}return a(n,[{key:"getCurviness",value:function(){return this.majorAnchor}},{key:"_findControlPoint",value:function(e,t,n,i,r){var o={x:0,y:0};return i[0]!==r[0]||i[1]===r[1]?(0===r[0]?o.x=n.curX<t.curX?e.x+this.minorAnchor:e.x-this.minorAnchor:o.x=e.x+this.majorAnchor*r[0],0===r[1]?o.y=n.curY<t.curY?e.y+this.minorAnchor:e.y-this.minorAnchor:o.y=e.y+this.majorAnchor*i[1]):(0===i[0]?o.x=t.curX<n.curX?e.x+this.minorAnchor:e.x-this.minorAnchor:o.x=e.x-this.majorAnchor*i[0],0===i[1]?o.y=t.curY<n.curY?e.y+this.minorAnchor:e.y-this.minorAnchor:o.y=e.y+this.majorAnchor*r[1]),o}},{key:"_computeBezier",value:function(e,t,n,i,r,o){var a,s,l=n.curX<i.curX?r:0,c=n.curY<i.curY?o:0,u=n.curX<i.curX?0:r,d=n.curY<i.curY?0:o;!0!==this.edited?(a=this._findControlPoint({x:l,y:c},n,i,e.so,e.to),s=this._findControlPoint({x:u,y:d},i,n,e.to,e.so)):(a=this.geometry.controlPoints[0],s=this.geometry.controlPoints[1]),this.geometry={controlPoints:[a,s],source:t.sourcePos,target:t.targetPos},this._addSegment($l,{x1:l,y1:c,x2:u,y2:d,cp1x:a.x,cp1y:a.y,cp2x:s.x,cp2y:s.y})}}]),n}(gl);s(Ql,"type","Bezier");var Wl=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),(o=t.call(this,e,i)).connection=e,s(d(o),"type",n.type),s(d(o),"_controlPoint",void 0),o.curviness=i.curviness||10,o.margin=i.margin||5,o.proximityLimit=i.proximityLimit||80,o.clockwise=i.orientation&&"clockwise"===i.orientation,o}return a(n,[{key:"_computeBezier",value:function(e,t,n,i,r,o){var a,s,l,c,u,d,h,f,p=n.curX<i.curX?0:r,A=n.curY<i.curY?0:o,g=n.curX<i.curX?r:0,m=n.curY<i.curY?o:0;if(0===n.x&&(p-=this.margin),1===n.x&&(p+=this.margin),0===n.y&&(A-=this.margin),1===n.y&&(A+=this.margin),0===i.x&&(g-=this.margin),1===i.x&&(g+=this.margin),0===i.y&&(m-=this.margin),1===i.y&&(m+=this.margin),!0!==this.edited){var v=(p+g)/2,y=(A+m)/2,b=(s=A,c=m,(a=p)<=(l=g)&&c<=s?1:a<=l&&s<=c?2:l<=a&&c>=s?3:4),w=Math.sqrt(Math.pow(g-p,2)+Math.pow(m-A,2));this._controlPoint=function(e,t,n,i,r,o,a,s,l){return s<=l?{x:e,y:t}:1===n?i.curY<=0&&r.curY>=1?{x:e+(i.x<.5?-1*o:o),y:t}:i.curX>=1&&r.curX<=0?{x:e,y:t+(i.y<.5?-1*a:a)}:{x:e+-1*o,y:t+-1*a}:2===n?i.curY>=1&&r.curY<=0?{x:e+(i.x<.5?-1*o:o),y:t}:i.curX>=1&&r.curX<=0?{x:e,y:t+(i.y<.5?-1*a:a)}:{x:e+o,y:t+-1*a}:3===n?i.curY>=1&&r.curY<=0?{x:e+(i.x<.5?-1*o:o),y:t}:i.curX<=0&&r.curX>=1?{x:e,y:t+(i.y<.5?-1*a:a)}:{x:e+-1*o,y:t+-1*a}:4===n?i.curY<=0&&r.curY>=1?{x:e+(i.x<.5?-1*o:o),y:t}:i.curX<=0&&r.curX>=1?{x:e,y:t+(i.y<.5?-1*a:a)}:{x:e+o,y:t+-1*a}:void 0}(v,y,b,t.sourcePos,t.targetPos,this.curviness,this.curviness,w,this.proximityLimit)}else this._controlPoint=this.geometry.controlPoints[0];u=this._controlPoint.x,d=this._controlPoint.x,h=this._controlPoint.y,f=this._controlPoint.y,this.geometry={controlPoints:[this._controlPoint,this._controlPoint],source:t.sourcePos,target:t.targetPos},this._addSegment($l,{x1:g,y1:m,x2:p,y2:A,cp1x:u,cp1y:h,cp2x:d,cp2y:f})}}]),n}(gl);function Vl(e){return e<0?-1:0===e?0:1}function jl(e){return[Vl(e[2]-e[0]),Vl(e[3]-e[1])]}function zl(e){return Math.sqrt(Math.pow(e[0]-e[2],2)+Math.pow(e[1]-e[3],2))}function Kl(e){var t=[];return t.push.apply(t,e),t}s(Wl,"type","StateMachine"),Os.register(Ql.type,Ql),Os.register(Wl.type,Wl);var Gl=function(e){l(n,e);var t=h(n);function n(e,i){var o;return r(this,n),(o=t.call(this,e,i)).connection=e,s(d(o),"type",n.type),s(d(o),"internalSegments",[]),s(d(o),"midpoint",void 0),s(d(o),"alwaysRespectStubs",void 0),s(d(o),"cornerRadius",void 0),s(d(o),"lastx",void 0),s(d(o),"lasty",void 0),s(d(o),"lastOrientation",void 0),s(d(o),"loopbackRadius",void 0),s(d(o),"isLoopbackCurrently",void 0),o.midpoint=null==i.midpoint||isNaN(i.midpoint)?.5:i.midpoint,o.cornerRadius=null!=i.cornerRadius?i.cornerRadius:0,o.alwaysRespectStubs=!0===i.alwaysRespectStubs,o.lastx=null,o.lasty=null,o.lastOrientation=null,o.loopbackRadius=i.loopbackRadius||25,o.isLoopbackCurrently=!1,o}return a(n,[{key:"getDefaultStubs",value:function(){return[30,30]}},{key:"addASegment",value:function(e,t,n){if(this.lastx!==e||this.lasty!==t){var i=null==this.lastx?n.sx:this.lastx,r=null==this.lasty?n.sy:this.lasty,o=i===e?"v":"h";this.lastx=e,this.lasty=t,this.internalSegments.push([i,r,e,t,o])}}},{key:"writeSegments",value:function(e){for(var t,n,i,r=null,o=0;o<this.internalSegments.length-1;o++){if(r=r||Kl(this.internalSegments[o]),t=Kl(this.internalSegments[o+1]),n=jl(r),i=jl(t),this.cornerRadius>0&&r[4]!==t[4]){var a=Math.min(zl(r),zl(t)),s=Math.min(this.cornerRadius,a/2);r[2]-=n[0]*s,r[3]-=n[1]*s,t[0]+=i[0]*s,t[1]+=i[1]*s;var l=n[1]===i[0]&&1===i[0]||n[1]===i[0]&&0===i[0]&&n[0]!==i[1]||n[1]===i[0]&&-1===i[0],c=(t[1]>r[3]?1:-1)==(t[0]>r[2]?1:-1),u=c&&l||!c&&!l?t[0]:r[2],d=c&&l||!c&&!l?r[3]:t[1];this._addSegment(Ns,{x1:r[0],y1:r[1],x2:r[2],y2:r[3]}),this._addSegment(Al,{r:s,x1:r[2],y1:r[3],x2:t[0],y2:t[1],cx:u,cy:d,ac:l})}else this._addSegment(Ns,{x1:r[0],y1:r[1],x2:r[2],y2:r[3]});r=t}null!=t&&this._addSegment(Ns,{x1:t[0],y1:t[1],x2:t[2],y2:t[3]})}},{key:"_compute",value:function(e,t){var n=this;this.internalSegments.length=0,this.lastx=null,this.lasty=null,this.lastOrientation=null;var i=function(t){return[e.startStubX,e.startStubY,e.endStubX,e.endStubY]},r={perpendicular:i,orthogonal:i,opposite:function(t){var i=e,r="x"===t?0:1,o={x:function(){return 1===i.so[r]&&(i.startStubX>i.endStubX&&i.tx>i.startStubX||i.sx>i.endStubX&&i.tx>i.sx)||-1===i.so[r]&&(i.startStubX<i.endStubX&&i.tx<i.startStubX||i.sx<i.endStubX&&i.tx<i.sx)},y:function(){return 1===i.so[r]&&(i.startStubY>i.endStubY&&i.ty>i.startStubY||i.sy>i.endStubY&&i.ty>i.sy)||-1===i.so[r]&&(i.startStubY<i.endStubY&&i.ty<i.startStubY||i.sy<i.endStubY&&i.ty<i.sy)}};return!n.alwaysRespectStubs&&o[t]()?{x:[(e.sx+e.tx)/2,e.startStubY,(e.sx+e.tx)/2,e.endStubY],y:[e.startStubX,(e.sy+e.ty)/2,e.endStubX,(e.sy+e.ty)/2]}[t]:[e.startStubX,e.startStubY,e.endStubX,e.endStubY]}},o=r[e.anchorOrientation](e.sourceAxis),a="x"===e.sourceAxis?0:1,s="x"===e.sourceAxis?1:0,l=o[a],c=o[s],u=o[a+2],d=o[s+2];this.addASegment(o[0],o[1],e);var h=e.startStubX+(e.endStubX-e.startStubX)*this.midpoint,f=e.startStubY+(e.endStubY-e.startStubY)*this.midpoint,p={x:[0,1],y:[1,0]},A={perpendicular:function(t,n,i,r,o){var a=e,s={x:[[a.startStubX,a.endStubX],null,[a.endStubX,a.startStubX]],y:[[a.startStubY,a.endStubY],null,[a.endStubY,a.startStubY]]},l={x:[[h,a.startStubY],[h,a.endStubY]],y:[[a.startStubX,f],[a.endStubX,f]]},c={x:[[a.endStubX,a.startStubY]],y:[[a.startStubX,a.endStubY]]},u={x:[[a.startStubX,a.endStubY],[a.endStubX,a.endStubY]],y:[[a.endStubX,a.startStubY],[a.endStubX,a.endStubY]]},d={x:[[a.startStubX,f],[a.endStubX,f],[a.endStubX,a.endStubY]],y:[[h,a.startStubY],[h,a.endStubY],[a.endStubX,a.endStubY]]},A={x:[a.startStubY,a.endStubY],y:[a.startStubX,a.endStubX]},g=p[t][0],m=p[t][1],v=a.so[g]+1,y=a.to[m]+1,b=-1===a.to[m]&&A[t][1]<A[t][0]||1===a.to[m]&&A[t][1]>A[t][0],w=s[t][v][0],x=s[t][v][1],C={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[t][v][y];return a.segment===C[3]||a.segment===C[2]&&b?l[t]:a.segment===C[2]&&x<w?c[t]:a.segment===C[2]&&x>=w||a.segment===C[1]&&!b?d[t]:a.segment===C[0]||a.segment===C[1]&&b?u[t]:void 0},orthogonal:function(t,n,i,r,o){var a=e,s={x:-1===a.so[0]?Math.min(n,r):Math.max(n,r),y:-1===a.so[1]?Math.min(n,r):Math.max(n,r)}[t];return{x:[[s,i],[s,o],[r,o]],y:[[i,s],[o,s],[o,r]]}[t]},opposite:function(i,r,o,s,l){var c=e,u={x:"y",y:"x"}[i],d={x:"h",y:"w"}[i],p=c["is"+i.toUpperCase()+"GreaterThanStubTimes2"];if(t.sourceEndpoint.elementId===t.targetEndpoint.elementId){var A=o+(1-t.sourceEndpoint._anchor.computedPosition[u])*t.sourceInfo[d]+n.maxStub;return{x:[[r,A],[s,A]],y:[[A,r],[A,s]]}[i]}return!p||1===c.so[a]&&r>s||-1===c.so[a]&&r<s?{x:[[r,f],[s,f]],y:[[h,r],[h,s]]}[i]:1===c.so[a]&&r<s||-1===c.so[a]&&r>s?{x:[[h,c.sy],[h,c.ty]],y:[[c.sx,f],[c.tx,f]]}[i]:void 0}},g=A[e.anchorOrientation](e.sourceAxis,l,c,u,d);if(g)for(var m=0;m<g.length;m++)this.addASegment(g[m][0],g[m][1],e);this.addASegment(o[2],o[3],e),this.addASegment(e.tx,e.ty,e),this.writeSegments(e)}},{key:"transformGeometry",value:function(e,t,n){return e}}]),n}(Ra);s(Gl,"type","Flowchart"),Os.register(Gl.type,Gl),go.registerHandler(fs),go.registerHandler(nl),go.registerHandler(ol),Os.register(Us.type,Us);for(var ql={clientX:5e4,clientY:5e4,screenX:5e4,screenY:5e4,pageX:5e4,pageY:5e4},Yl=[],Xl=0;Xl<256;Xl++)Yl[Xl]=(Xl<16?"0":"")+Xl.toString(16);var Jl=function(){function e(t,n,i){r(this,e),this._jsPlumb=t,this.ok=n,this.equal=i,s(this,"_divs",[]),s(this,"mottle",void 0),this.mottle=new rr}return a(e,[{key:"_t",value:function(e,t,n,i){this.mottle.trigger(e,t,{pageX:n,pageY:i,screenX:n,screenY:i,clientX:n,clientY:i})}},{key:"addDiv",value:function(e,t,n,i,r,o,a){var s=document.createElement("div");return s.style.position="absolute",s.innerHTML=e,t?t.appendChild(s):this._jsPlumb.getContainer().appendChild(s),s.setAttribute("id",e),s.style.left=(null!=i?i:Math.floor(1e3*Math.random()))+"px",s.style.top=(null!=r?r:Math.floor(1e3*Math.random()))+"px",n&&(s.className=n),o&&(s.style.width=o+"px"),a&&(s.style.height=a+"px"),this._divs.push(e),s}},{key:"addDivs",value:function(e,t){for(var n=0;n<e.length;n++)this.addDiv(e[n],t)}},{key:"assertEndpointCount",value:function(e,t){var n=this._jsPlumb.getEndpoints(e),i=n?n.length:0;this.equal(i,t,e.getAttribute("data-jtk-managed")+" has "+t+(t>1||0==t?" endpoints":" endpoint"))}},{key:"_assertManagedEndpointCount",value:function(e,t){var n=this._jsPlumb.getId(e),i=this._jsPlumb._managedElements[n];this.equal(i.endpoints.length,t,n+" has "+t+" endpoints in managed record")}},{key:"_assertManagedConnectionCount",value:function(e,t){var n=this._jsPlumb.getId(e),i=this._jsPlumb._managedElements[n];this.equal(i.connections.length,t,n+" has "+t+" connections in managed record")}},{key:"_registerDiv",value:function(e){this._divs.push(e)}},{key:"makeDragStartEvt",value:function(e){var t=this.makeEvent(e),n=this._jsPlumb.getContainer();return t.clientX+=n.offsetLeft,t.screenX+=n.offsetLeft,t.pageX+=n.offsetLeft,t.clientY+=n.offsetTop,t.screenY+=n.offsetTop,t.pageY+=n.offsetTop,t}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"dragNodeBy",value:function(e,t,n,i){(i=i||{}).before&&i.before();var r=this.makeEvent(e);this._jsPlumb.trigger(e,Sn,r),i.beforeMouseMove&&i.beforeMouseMove(),this._t(document,Bn,r.pageX+t,r.pageY+n),i.beforeMouseUp&&i.beforeMouseUp(),this.mottle.trigger(document,In,null),i.after&&i.after()}},{key:"dragNodeTo",value:function(e,t,n,i){i=i||{};var r=this._jsPlumb.viewport.getPosition(this._jsPlumb.getId(e));i.before&&i.before();var o=this.makeEvent(e);this._jsPlumb.trigger(e,Sn,o);var a=this._jsPlumb.getContainer().getBoundingClientRect();i.beforeMouseMove&&i.beforeMouseMove(),this._t(document,Bn,a.x+t+r.w/2,a.y+n+r.h/2),i.beforeMouseUp&&i.beforeMouseUp(),this.mottle.trigger(document,In,null),i.after&&i.after()}},{key:"dragToGroup",value:function(e,t,n){var i=this._jsPlumb.getGroup(t),r=this._jsPlumb.viewport.getPosition(i.elId),o=r.x+r.w/2,a=r.y+r.h/2;this.dragNodeTo(e,o,a,n)}},{key:"aSyncDragNodeBy",value:function(e,t,n,i){var r=this;(i=i||{}).before&&i.before();var o=this.makeEvent(e);this._jsPlumb.trigger(e,Sn,o),i.beforeMouseMove&&i.beforeMouseMove(),setTimeout((function(){r._t(document,Bn,o.pageX+t,o.pageY+n),i.beforeMouseUp&&i.beforeMouseUp(),setTimeout((function(){r.mottle.trigger(document,In,null),i.after&&i.after()}),45)}),45)}},{key:"dragANodeAround",value:function(e,t,n){this._jsPlumb.trigger(e,Sn,this.makeEvent(e));for(var i,r,o=50*Math.random(),a=0;a<o;a++){var s=(void 0,void 0,{clientX:i=Math.floor(2e3*Math.random()),clientY:r=Math.floor(2e3*Math.random()),screenX:i,screenY:r,pageX:i,pageY:r});e.style.left=s.screenX+"px",e.style.top=s.screenY+"px",this._jsPlumb.trigger(document,Bn,s)}t&&this.ok(t(),n||"while dragging assert"),this._jsPlumb.trigger(document,In,ql)}},{key:"dragConnection",value:function(e,t,n,i){var r=this.getCanvas(e),o=this.getCanvas(t),a=this.makeEvent(r),s=this.makeEvent(o);i=i||{};var l=this._jsPlumb.select().length;return this._jsPlumb.trigger(r,Sn,a),i.beforeMouseMove&&i.beforeMouseMove(),this._jsPlumb.trigger(n?o:document,Bn,s),i.beforeMouseUp&&i.beforeMouseUp(),this._jsPlumb.trigger(n?o:document,In,s),this._jsPlumb.select().get(l)}},{key:"aSyncDragConnection",value:function(e,t,n){var i=this;n=n||{};var r=this.getCanvas(e),o=this.getCanvas(t),a=this.makeEvent(r),s=this.makeEvent(o),l=this._jsPlumb.select().length;this._jsPlumb.trigger(r,Sn,a),setTimeout((function(){n.beforeMouseMove&&n.beforeMouseMove(),i._jsPlumb.trigger(document,Bn,s),setTimeout((function(){n.beforeMouseUp&&n.beforeMouseUp(),i._jsPlumb.trigger(o,In,s),n.after&&n.after(i._jsPlumb.select().get(l))}),5)}),5)}},{key:"dragAndAbortConnection",value:function(e){var t=this.getCanvas(e),n=this.makeEvent(t);this._jsPlumb.trigger(t,Sn,n),this._jsPlumb.trigger(document,Bn,ql),this._jsPlumb.trigger(document,In,ql)}},{key:"detachConnection",value:function(e,t){t=t||{};var n=this.getEndpointCanvas(e),i=this.makeEvent(n);t.before&&t.before(),this._jsPlumb.trigger(n,Sn,i),t.beforeMouseMove&&t.beforeMouseMove(),this._jsPlumb.trigger(document,Bn,ql),t.beforeMouseUp&&t.beforeMouseUp(),this._jsPlumb.trigger(document,In,ql),t.after&&t.after()}},{key:"detachAndReattachConnection",value:function(e,t){t=t||{};var n=this.getEndpointCanvas(e),i=this.makeEvent(n);t.before&&t.before(),this._jsPlumb.trigger(n,Sn,i),t.beforeMouseMove&&t.beforeMouseMove(),this._jsPlumb.trigger(document,Bn,ql),this._jsPlumb.trigger(document,Bn,i),t.beforeMouseUp&&t.beforeMouseUp(),this._jsPlumb.trigger(document,In,i),t.after&&t.after()}},{key:"detachConnectionByTarget",value:function(e,t){this.detachConnection(e.endpoints[1],t)}},{key:"relocateTarget",value:function(e,t,n){this.relocate(e,1,t,n)}},{key:"relocate",value:function(e,t,n,i){i=i||{},n=this.getCanvas(n);var r=this.getEndpointCanvas(e.endpoints[t]),o=this.makeEvent(r),a=this.makeEvent(n);i.before&&i.before(),this._jsPlumb.trigger(r,Sn,o),i.beforeMouseMove&&i.beforeMouseMove(),this._jsPlumb.trigger(document,Bn,a),i.beforeMouseUp&&i.beforeMouseUp(),this._jsPlumb.trigger(n,In,a),i.after&&i.after()}},{key:"relocateSource",value:function(e,t,n){this.relocate(e,0,t,n)}},{key:"makeEvent",value:function(e){var t=e.getBoundingClientRect(),n=t.x+t.width/2,i=t.y+t.height/2;return{clientX:n,clientY:i,screenX:n,screenY:i,pageX:n,pageY:i}}},{key:"getCanvas",value:function(e){return e.endpoint?this.getEndpointCanvas(e):e}},{key:"getEndpointCanvas",value:function(e){return e.endpoint.canvas}},{key:"getConnectionCanvas",value:function(e){return e.connector.canvas}},{key:"getEndpointCanvasPosition",value:function(e){var t=this.getEndpointCanvas(e);return{x:parseInt(t.style.left,10),y:parseInt(t.style.top,10),w:t.getAttribute("width"),h:t.getAttribute("height")}}},{key:"within",value:function(e,t,n){this.ok(Math.abs(e-t)<1e-11,n+"[expected: "+t+" got "+e+"] [diff:"+Math.abs(e-t)+"]")}},{key:"assertManagedEndpointCount",value:function(e,t){var n=this._jsPlumb.getId(e),i=this._jsPlumb._managedElements[n];this.equal(i.endpoints.length,t,n+" has "+t+" endpoints in managed record")}},{key:"assertManagedConnectionCount",value:function(e,t){var n=this._jsPlumb.getId(e),i=this._jsPlumb._managedElements[n];this.equal(i.connections.length,t,n+" has "+t+" connections in managed record")}},{key:"fireEventOnEndpoint",value:function(e){for(var t=this.getEndpointCanvas(e),n=0;n<(arguments.length<=1?0:arguments.length-1);n++)this._jsPlumb.trigger(t,n+1<1||arguments.length<=n+1?void 0:arguments[n+1])}},{key:"fireEventOnElement",value:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++)this._jsPlumb.trigger(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1])}},{key:"fireEventOnConnection",value:function(e){for(var t=this.getConnectionCanvas(e),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.fireEventOnElement.apply(this,[t].concat(i))}},{key:"clickOnConnection",value:function(e){this.fireEventOnConnection(e,wn)}},{key:"dblClickOnConnection",value:function(e){this.fireEventOnConnection(e,Cn)}},{key:"tapOnConnection",value:function(e){this.fireEventOnConnection(e,Sn),this.fireEventOnConnection(e,In)}},{key:"dblTapOnConnection",value:function(e){this.fireEventOnConnection(e,Sn),this.fireEventOnConnection(e,In),this.fireEventOnConnection(e,Sn),this.fireEventOnConnection(e,In)}},{key:"clickOnElement",value:function(e,t){this._jsPlumb.trigger(e,wn,null,null,null==t?1:t)}},{key:"dblClickOnElement",value:function(e){this._jsPlumb.trigger(e,Cn)}},{key:"tapOnElement",value:function(e){this._jsPlumb.trigger(e,Sn),this._jsPlumb.trigger(e,In)}},{key:"dblTapOnElement",value:function(e){this._jsPlumb.trigger(e,Sn),this._jsPlumb.trigger(e,In),this._jsPlumb.trigger(e,Sn),this._jsPlumb.trigger(e,In)}},{key:"getOverlayCanvas",value:function(e){return e.canvas||e.path}},{key:"fireEventOnOverlay",value:function(e,t,n){var i=e.getOverlay(t),r=this.getOverlayCanvas(i);this._jsPlumb.trigger(r,n)}},{key:"clickOnOverlay",value:function(e,t){this.fireEventOnOverlay(e,t,wn)}},{key:"dblClickOnOverlay",value:function(e,t){this.fireEventOnOverlay(e,t,Cn)}},{key:"tapOnOverlay",value:function(e,t){this.fireEventOnOverlay(e,t,Sn),this.fireEventOnOverlay(e,t,In)}},{key:"dblTapOnOverlay",value:function(e,t){this.fireEventOnOverlay(e,t,Sn),this.fireEventOnOverlay(e,t,In),this.fireEventOnOverlay(e,t,Sn),this.fireEventOnOverlay(e,t,In)}},{key:"cleanup",value:function(){var e=this._jsPlumb.getContainer();for(var t in this._jsPlumb.destroy(),this._divs){var n=document.getElementById(this._divs[t]);n&&n.parentNode.removeChild(n)}this._divs.length=0;var i=this._jsPlumb.select().length,r=this._jsPlumb.selectEndpoints().length,o=e.querySelectorAll(".jtk-endpoint").length,a=e.querySelectorAll(".jtk-connector").length;for(var s in e.__ta)for(var l in e.__ta[s])throw"Container event bindings not empty for key "+s;if(i>0)throw"there are connections in the data model!";if(r>0)throw"there are endpoints in the data model!";if(o>0)throw"there are "+o+" endpoints left in the dom!";if(a>0)throw"there are "+a+" connections left in the dom!"}},{key:"makeContent",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}},{key:"length",value:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}},{key:"head",value:function(e){for(var t in e)return e[t]}},{key:"uuid",value:function(){return Z()}}]),e}();function Zl(e,t,n){return new Jl(e,t,n)}function ec(e){return new Jl(e,QUnit.ok,QUnit.equal)}var tc=0;function nc(e){return new el(function(){var e=tc+1;return tc++,e}(),e)}function ic(e){!function t(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?e():setTimeout(t,9)}()}},65216:function(e,t,n){var i,r,o,a,s,l,c,u,d,h=n(37549);r=function(){function e(e,t){this.items=e,this.settings=t||{diacritics:!0}}e.prototype.tokenize=function(e,t){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];for(var n,i,a=[],l=e.split(/ +/),c=0,u=l.length;c<u;c++){if(n=o(l[c]),this.settings.diacritics)for(i in s)s.hasOwnProperty(i)&&(n=n.replace(new RegExp(i,"g"),s[i]));t&&(n="\\b"+n),a.push({string:l[c],regex:new RegExp(n,"i")})}return a},e.prototype.iterator=function(e,t){var n=a(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)};n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){function n(e,t){var n;return e&&-1!==(n=(e=String(e||"")).search(t.regex))?(t=t.string.length/e.length,0===n&&(t+=.5),t):0}var r,o=(e=this.prepareSearch(e,t)).tokens,a=e.options.fields,s=o.length,l=e.options.nesting,c=(r=a.length)?1===r?function(e,t){return n(i(t,a[0],l),e)}:function(e,t){for(var o=0,s=0;o<r;o++)s+=n(i(t,a[o],l),e);return s/r}:function(){return 0};return s?1===s?function(e){return c(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<s;n++){if((t=c(o[n],e))<=0)return 0;i+=t}return i/s}:function(e){for(var t=0,n=0;t<s;t++)n+=c(o[t],e);return n/s}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,o,a,s,l,c,u,d=this,h=!(e=d.prepareSearch(e,n)).query&&n.sort_empty||n.sort,f=function(e,t){return"$score"===e?t.score:i(d.items[t.id],e,n.nesting)},p=[];if(h)for(r=0,o=h.length;r<o;r++)!e.query&&"$score"===h[r].field||p.push(h[r]);if(e.query){for(u=!0,r=0,o=p.length;r<o;r++)if("$score"===p[r].field){u=!1;break}u&&p.unshift({field:"$score",direction:"desc"})}else for(r=0,o=p.length;r<o;r++)if("$score"===p[r].field){p.splice(r,1);break}for(c=[],r=0,o=p.length;r<o;r++)c.push("desc"===p[r].direction?-1:1);return(s=p.length)?1===s?(a=p[0].field,l=c[0],function(e,n){return l*t(f(a,e),f(a,n))}):function(e,n){for(var i,r=0;r<s;r++)if(i=p[r].field,i=c[r]*t(f(i,e),f(i,n)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=n({},t)).fields,r=t.sort,o=t.sort_empty;return i&&!a(i)&&(t.fields=[i]),r&&!a(r)&&(t.sort=[r]),o&&!a(o)&&(t.sort_empty=[o]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e,t.respect_word_boundaries),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,r=this.prepareSearch(e,t);return t=r.options,e=r.query,i=t.score||this.getScoreFunction(r),e.length?this.iterator(this.items,(function(e,o){n=i(e),(!1===t.filter||0<n)&&r.items.push({score:n,id:o})})):this.iterator(this.items,(function(e,t){r.items.push({score:1,id:t})})),(e=this.getSortFunction(r,t))&&r.items.sort(e),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?t<e?1:e<t?-1:0:(e=l(String(e||"")),(t=l(String(t||"")))<e?1:e<t?-1:0)},n=function(e,t){for(var n,i,r=1,o=arguments.length;r<o;r++)if(i=arguments[r])for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e},i=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||void 0!==h&&h.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"},l=function(){var e,t,n,i,r="",o={};for(n in s)if(s.hasOwnProperty(n))for(r+=i=s[n].substring(2,s[n].length-1),e=0,t=i.length;e<t;e++)o[i.charAt(e)]=n;var a=new RegExp("["+r+"]","g");return function(e){return e.replace(a,(function(e){return o[e]})).toLowerCase()}}();return e},i=r.call((o={id:"sifter",exports:{},loaded:!1}).exports,n,o.exports,o),o.loaded=!0,void 0===i&&(i=o.exports),"function"==typeof(s=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,r,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;n<i;n++)"string"==typeof e[n]?o.push(e[n]):(this.plugins.settings[e[n].name]=e[n].options,o.push(e[n].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(this.plugins.settings[r]=e[r],o.push(r));for(;o.length;)this.require(o.shift())},e.prototype.loadPlugin=function(t){var n=this.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');n.requested[t]=!0,n.loaded[t]=i.fn.apply(this,[this.plugins.settings[t]||{}]),n.names.push(t)},e.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?(a=s.call((l={id:"microplugin",exports:{},loaded:!1}).exports,n,l.exports,l),l.loaded=!0,void 0===a&&(a=l.exports)):a=s,u=[n(37549),i,a],c=function(e,t,n){"use strict";function i(){}function r(e,t){return navigator.userAgentData?e===navigator.userAgentData.platform:t.test(navigator.userAgent)}function o(e){return void 0!==e}function a(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function s(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function l(e,t,n){var i,r=e.trigger,o={};for(i in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return r.apply(e,arguments);o[n]=arguments},n.apply(e,[]),e.trigger=r,o)o.hasOwnProperty(i)&&r.apply(e,o[i])}function c(e){var t,n,i={};return void 0===e?console.warn("WARN getSelection cannot locate input control"):"selectionStart"in e?(i.start=e.selectionStart,i.length=e.selectionEnd-i.start):document.selection&&(e.focus(),t=document.selection.createRange(),n=document.selection.createRange().text.length,t.moveStart("character",-e.value.length),i.start=t.text.length-n,i.length=n),i}function u(t,n){return t?(v.$testInput||(v.$testInput=e("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),e("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(v.$testInput).appendTo("body")),v.$testInput.text(t),m(n,v.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),v.$testInput.width()):0}e.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()})).end()},i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var d,h=r("macOS",/Mac/),f=h?91:17,p=h?18:17,A=!r("Android",/android/i)&&!!document.createElement("input").validity,g=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}},m=function(e,t,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=e.css(n[i]);else o=e.css();t.css(o)},v=function(n,i){var r,o,a,s,l,c=n[0],u=(c.selectize=this,window.getComputedStyle&&window.getComputedStyle(c,null));if(u=(u?u.getPropertyValue("direction"):c.currentStyle&&c.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",e.extend(this,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===c.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(u),eventNS:".selectize"+ ++v.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?this.onSearchChange:(a=this.onSearchChange,s=i.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(l),l=window.setTimeout((function(){a.apply(e,t)}),s)})}),this.sifter=new t(this.options,{diacritics:i.diacritics}),this.settings.options){for(r=0,o=this.settings.options.length;r<o;r++)this.registerOption(this.settings.options[r]);delete this.settings.options}if(this.settings.optgroups){for(r=0,o=this.settings.optgroups.length;r<o;r++)this.registerOptionGroup(this.settings.optgroups[r]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return i.mixin(v),void 0!==n?n.mixin(v):(n="Dependency MicroPlugin is missing",d=(d={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||{},console.error("Selectize: "+n),d.explanation&&(console.group&&console.group(),console.error(d.explanation),console.group&&console.groupEnd())),e.extend(v.prototype,{setup:function(){var t,n,i,r=this,o=r.settings,a=r.eventNS,s=e(window),l=e(document),d=r.$input,g=r.settings.mode,m=d.attr("class")||"",v=e("<div>").addClass(o.wrapperClass).addClass(m).addClass(g),y=e("<div>").addClass(o.inputClass).addClass("items").appendTo(v),b=e('<input type="text" autocomplete="new-password" autofill="no" />').appendTo(y).attr("tabindex",d.is(":disabled")?"-1":r.tabIndex),w=e(o.dropdownParent||v);g=e("<div>").addClass(o.dropdownClass).addClass(g).hide().appendTo(w),w=e("<div>").addClass(o.dropdownContentClass).attr("tabindex","-1").appendTo(g),(n=d.attr("id"))&&(b.attr("id",n+"-selectized"),e("label[for='"+n+"']").attr("for",n+"-selectized")),r.settings.copyClassesToDropdown&&g.addClass(m),v.css({width:d[0].style.width}),r.plugins.names.length&&(n="plugin-"+r.plugins.names.join(" plugin-"),v.addClass(n),g.addClass(n)),(null===o.maxItems||1<o.maxItems)&&1===r.tagType&&d.attr("multiple","multiple"),r.settings.placeholder&&b.attr("placeholder",o.placeholder),!r.settings.splitOn&&r.settings.delimiter&&(m=r.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r.settings.splitOn=new RegExp("\\s*"+m+"+\\s*")),d.attr("autocorrect")&&b.attr("autocorrect",d.attr("autocorrect")),d.attr("autocapitalize")&&b.attr("autocapitalize",d.attr("autocapitalize")),d.is("input")&&(b[0].type=d[0].type),r.$wrapper=v,r.$control=y,r.$control_input=b,r.$dropdown=g,r.$dropdown_content=w,g.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",(function(e){e.stopImmediatePropagation()})),g.on("mouseenter","[data-selectable]",(function(){return r.onOptionHover.apply(r,arguments)})),g.on("mousedown click","[data-selectable]",(function(){return r.onOptionSelect.apply(r,arguments)})),n="mousedown",m="*:not(input)",i=function(){return r.onItemSelect.apply(r,arguments)},(t=y).on(n,m,(function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})),function(e){function t(t,i){var r,o,a;i=i||{},(t=t||window.event||{}).metaKey||t.altKey||!i.force&&!1===e.data("grow")||(i=e.val(),t.type&&"keydown"===t.type.toLowerCase()&&(r=48<=(o=t.keyCode)&&o<=57||65<=o&&o<=90||96<=o&&o<=111||186<=o&&o<=222||32===o,46===o||8===o?(a=c(e[0])).length?i=i.substring(0,a.start)+i.substring(a.start+a.length):8===o&&a.start?i=i.substring(0,a.start-1)+i.substring(a.start+1):46===o&&void 0!==a.start&&(i=i.substring(0,a.start)+i.substring(a.start+1)):r&&(o=t.shiftKey,a=String.fromCharCode(t.keyCode),i+=a=o?a.toUpperCase():a.toLowerCase())),t=(r=e.attr("placeholder"))?u(r,e)+4:0,(o=Math.max(u(i,e),t)+4)!==n&&(n=o,e.width(o),e.triggerHandler("resize")))}var n=null;e.on("keydown keyup update blur",t),t()}(b),y.on({mousedown:function(){return r.onMouseDown.apply(r,arguments)},click:function(){return r.onClick.apply(r,arguments)}}),b.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return r.onKeyDown.apply(r,arguments)},keypress:function(){return r.onKeyPress.apply(r,arguments)},input:function(){return r.onInput.apply(r,arguments)},resize:function(){r.positionDropdown.apply(r,[])},blur:function(){return r.onBlur.apply(r,arguments)},focus:function(){return r.ignoreBlur=!1,r.onFocus.apply(r,arguments)},paste:function(){return r.onPaste.apply(r,arguments)}}),l.on("keydown"+a,(function(e){r.isCmdDown=e[h?"metaKey":"ctrlKey"],r.isCtrlDown=e[h?"altKey":"ctrlKey"],r.isShiftDown=e.shiftKey})),l.on("keyup"+a,(function(e){e.keyCode===p&&(r.isCtrlDown=!1),16===e.keyCode&&(r.isShiftDown=!1),e.keyCode===f&&(r.isCmdDown=!1)})),l.on("mousedown"+a,(function(e){if(r.isFocused){if(e.target===r.$dropdown[0]||e.target.parentNode===r.$dropdown[0])return!1;r.$control.has(e.target).length||e.target===r.$control[0]||r.blur(e.target)}})),s.on(["scroll"+a,"resize"+a].join(" "),(function(){r.isOpen&&r.positionDropdown.apply(r,arguments)})),s.on("mousemove"+a,(function(){r.ignoreHover=!1})),this.revertSettings={$children:d.children().detach(),tabindex:d.attr("tabindex")},d.attr("tabindex",-1).hide().after(r.$wrapper),Array.isArray(o.items)&&(r.lastValidValue=o.items,r.setValue(o.items),delete o.items),A&&d.on("invalid"+a,(function(e){e.preventDefault(),r.isInvalid=!0,r.refreshState()})),r.updateOriginalInput(),r.refreshItems(),r.refreshState(),r.updatePlaceholder(),r.isSetup=!0,d.is(":disabled")&&r.disable(),r.on("change",this.onChange),d.data("selectize",r),d.addClass("selectized"),r.trigger("initialize"),!0===o.preload&&r.onSearchChange("")},setupTemplates:function(){var t=this.settings.labelField,n=this.settings.valueField,i=this.settings.optgroupLabelField;this.settings.render=e.extend({},{optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,i){return'<div class="option '+(""===e[n]?"selectize-dropdown-emptyoptionlabel":"")+'">'+i(e[t])+"</div>"},item:function(e,n){return'<div class="item">'+n(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&#x2026;</div>"}},this.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused&&this.isOpen||(this.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();if(e(t.target),n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout((function(){n.focus()}),0)},onChange:function(){""!==this.getValue()&&(this.lastValidValue=this.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(e){var t=this;t.isFull()||t.isInputHidden||t.isLocked?e.preventDefault():t.settings.splitOn&&setTimeout((function(){var e=t.$control_input.val();if(e.match(t.settings.splitOn))for(var n=e.trim().split(t.settings.splitOn),i=0,r=n.length;i<r;i++)t.createItem(n[i])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t;if(e.target,this.$control_input[0],this.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(e.preventDefault(),e.stopPropagation(),this.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:return!this.isOpen&&this.hasOptions?this.open():this.$activeOption&&(this.ignoreHover=!0,(t=this.getAdjacentOption(this.$activeOption,1)).length&&this.setActiveOption(t,!0,!0)),void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:return this.$activeOption&&(this.ignoreHover=!0,(t=this.getAdjacentOption(this.$activeOption,-1)).length&&this.setActiveOption(t,!0,!0)),void e.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),e.preventDefault()));case 37:return void this.advanceSelection(-1,e);case 39:return void this.advanceSelection(1,e);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||e.preventDefault()),void(this.settings.create&&this.createItem()&&this.settings.showAddOptionOnCreate&&e.preventDefault());case 8:case 46:return void this.deleteSelection(e)}!this.isFull()&&!this.isInputHidden||(h?e.metaKey:e.ctrlKey)||e.preventDefault()}},onInput:function(e){var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&!t.loadedSearches.hasOwnProperty(e)&&(t.loadedSearches[e]=!0,t.load((function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this.isFocused;if(this.isDisabled)return this.blur(),e&&e.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),t||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);e=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")},n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,e):e()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(n=e(t.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(n=n.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){l(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setMaxItems:function(e){this.settings.maxItems=e=0===e?null:e,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(t,n){var i,r,o,a,s,l;if("single"!==this.settings.mode){if(!(t=e(t)).length)return e(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(l=this.$control.children(".active:last"),l=Array.prototype.indexOf.apply(this.$control[0].childNodes,[l[0]]),(o=Array.prototype.indexOf.apply(this.$control[0].childNodes,[t[0]]))<l&&(s=l,l=o,o=s),r=l;r<=o;r++)a=this.$control[0].childNodes[r],-1===this.$activeItems.indexOf(a)&&(e(a).addClass("active"),this.$activeItems.push(a));n.preventDefault()}else"mousedown"===i&&this.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(s=this.$activeItems.indexOf(t[0]),this.$activeItems.splice(s,1),t.removeClass("active")):this.$activeItems.push(t.addClass("active")[0]):(e(this.$activeItems).removeClass("active"),this.$activeItems=[t.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(t,n,i){var r,a,s,l;this.$activeOption&&(this.$activeOption.removeClass("active"),this.trigger("dropdown_item_deactivate",this.$activeOption.attr("data-value"))),this.$activeOption=null,(t=e(t)).length&&(this.$activeOption=t.addClass("active"),this.isOpen&&this.trigger("dropdown_item_activate",this.$activeOption.attr("data-value")),!n&&o(n)||(t=this.$dropdown_content.height(),r=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,l=(s=a=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n)-t+r,t+n<a+r?this.$dropdown_content.stop().animate({scrollTop:l},i?this.settings.scrollDuration:0):a<n&&this.$dropdown_content.stop().animate({scrollTop:s},i?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;return e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0)),e},blur:function(e){return this.$control_input[0].blur(),this.onBlur(null,e),this},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return{fields:e.searchField,conjunction:e.searchConjunction,sort:t="string"==typeof t?[{field:t}]:t,nesting:e.nesting}},search:function(t){var n,i,r,o=this.settings,s=this.getSearchOptions();if(o.score&&"function"!=typeof(r=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,i=this.sifter.search(t,e.extend(s,{score:r})),this.currentResults=i):i=e.extend(!0,{},this.currentResults),o.hideSelected)for(n=i.items.length-1;0<=n;n--)-1!==this.items.indexOf(a(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){void 0===t&&(t=!0);var n,i,r,o,s,l,c,u,d,h,f,p,A,g,m,v,y=this,b=y.$control_input.val().trim(),w=y.search(b),x=y.$dropdown_content,C=y.$activeOption&&a(y.$activeOption.attr("data-value")),_=w.items.length;for("number"==typeof y.settings.maxOptions&&(_=Math.min(_,y.settings.maxOptions)),o={},s=[],n=0;n<_;n++)for(l=y.options[w.items[n].id],c=y.render("option",l),u=l[y.settings.optgroupField]||"",i=0,r=(d=Array.isArray(u)?u:[u])&&d.length;i<r;i++)u=d[i],y.optgroups.hasOwnProperty(u)||(u=""),o.hasOwnProperty(u)||(o[u]=document.createDocumentFragment(),s.push(u)),o[u].appendChild(c);for(this.settings.lockOptgroupOrder&&s.sort((function(e,t){return(y.optgroups[e]&&y.optgroups[e].$order||0)-(y.optgroups[t]&&y.optgroups[t].$order||0)})),h=document.createDocumentFragment(),n=0,_=s.length;n<_;n++)u=s[n],y.optgroups.hasOwnProperty(u)&&o[u].childNodes.length?((f=document.createDocumentFragment()).appendChild(y.render("optgroup_header",y.optgroups[u])),f.appendChild(o[u]),h.appendChild(y.render("optgroup",e.extend({},y.optgroups[u],{html:(m=f,v=void 0,(v=document.createElement("div")).appendChild(m.cloneNode(!0)),v.innerHTML),dom:f})))):h.appendChild(o[u]);if(x.html(h),y.settings.highlight&&(x.removeHighlight(),w.query.length&&w.tokens.length))for(n=0,_=w.tokens.length;n<_;n++)!function(e,t){var n,i;("string"!=typeof t||t.length)&&(n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var r,o,a=e.data.search(n);0<=a&&0<e.data.length&&(o=e.data.match(n),(r=document.createElement("span")).className="highlight",(a=e.splitText(a)).splitText(o[0].length),o=a.cloneNode(!0),r.appendChild(o),a.parentNode.replaceChild(r,a),t=1)}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var s=0;s<e.childNodes.length;++s)s+=i(e.childNodes[s]);return t},e.each((function(){i(this)})))}(x,w.tokens[n].regex);if(!y.settings.hideSelected)for(y.$dropdown.find(".selected").removeClass("selected"),n=0,_=y.items.length;n<_;n++)y.getOption(y.items[n]).addClass("selected");(p=y.canCreate(b))&&y.settings.showAddOptionOnCreate&&(x.prepend(y.render("option_create",{input:b})),g=e(x[0].childNodes[0])),y.hasOptions=0<w.items.length||p&&y.settings.showAddOptionOnCreate,y.hasOptions?(0<w.items.length?(b=C&&y.getOption(C),""!==w.query&&b&&b.length?A=b:"single"===y.settings.mode&&y.items.length&&(A=y.getOption(y.items[0])),A&&A.length||(A=g&&!y.settings.addPrecedence?y.getAdjacentOption(g,1):x.find("[data-selectable]:first"))):A=g,y.setActiveOption(A),t&&!y.isOpen&&y.open()):(y.setActiveOption(null),t&&y.isOpen&&y.close())},addOption:function(e){var t,n,i;if(Array.isArray(e))for(t=0,n=e.length;t<n;t++)this.addOption(e[t]);else(i=this.registerOption(e))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,e))},registerOption:function(e){var t=a(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=a(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,r,o;if(t=a(t),i=a(n[this.settings.valueField]),null!==t&&this.options.hasOwnProperty(t)){if("string"!=typeof i)throw new Error("Value must be set in option data");o=this.options[t].$order,i!==t&&(delete this.options[t],-1!==(r=this.items.indexOf(t))&&this.items.splice(r,1,i)),n.$order=n.$order||o,this.options[i]=n,r=this.renderCache.item,o=this.renderCache.option,r&&(delete r[t],delete r[i]),o&&(delete o[t],delete o[i]),-1!==this.items.indexOf(i)&&(r=this.getItem(t),o=e(this.render("item",n)),r.hasClass("active")&&o.addClass("active"),r.replaceWith(o)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(e,t){e=a(e);var n=this.renderCache.item,i=this.renderCache.option;n&&delete n[e],i&&delete i[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(t){var n=this,i=(n.loadedSearches={},n.userOptions={},n.renderCache={},n.options);e.each(n.options,(function(e,t){-1==n.items.indexOf(e)&&delete i[e]})),n.options=n.sifter.items=i,n.lastQuery=null,n.trigger("option_clear"),n.clear(t)},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getFirstOption:function(){var t=this.$dropdown.find("[data-selectable]");return 0<t.length?t.eq(0):e()},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]");return 0<=(t=i.index(t)+n)&&t<i.length?i.eq(t):e()},getElementWithValue:function(t,n){if(null!=(t=a(t)))for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getElementWithTextContent:function(t,n,i){if(null!=(t=a(t)))for(var r=0,o=i.length;r<o;r++){var s=i[r].textContent;if(1==n&&(s=null!==s?s.toLowerCase():null,t=t.toLowerCase()),s===t)return e(i[r])}return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},getFirstItemMatchedByTextContent:function(e,t){return this.getElementWithTextContent(e,t=null!==t&&!0===t,this.$dropdown_content.find("[data-selectable]"))},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var r=Array.isArray(e)?e:[e],o=(i=0,r.length);i<o;i++)this.isPending=i<o-1,this.addItem(r[i],t);(e=this.$control[0]).insertBefore(this.buffer,e.firstChild),this.buffer=null},addItem:function(t,n){l(this,n?[]:["change"],(function(){var i,r,o,s=this.settings.mode;t=a(t),-1!==this.items.indexOf(t)?"single"===s&&this.close():this.options.hasOwnProperty(t)&&("single"===s&&this.clear(n),"multi"===s&&this.isFull()||(i=e(this.render("item",this.options[t])),o=this.isFull(),this.items.splice(this.caretPos,0,t),this.insertAtCaret(i),this.isPending&&(o||!this.isFull())||this.refreshState(),this.isSetup&&(o=this.$dropdown_content.find("[data-selectable]"),this.isPending||(r=this.getOption(t),r=this.getAdjacentOption(r,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==s),r&&this.setActiveOption(this.getOption(r))),!o.length||this.isFull()?this.close():this.isPending||this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",t,i),this.isPending||this.updateOriginalInput({silent:n}))))}))},removeItem:function(t,n){var i,r,o=t instanceof e?t:this.getItem(t);t=a(o.attr("data-value")),-1!==(i=this.items.indexOf(t))&&(this.trigger("item_before_remove",t,o),o.remove(),o.hasClass("active")&&(r=this.$activeItems.indexOf(o[0]),this.$activeItems.splice(r,1)),this.items.splice(i,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(t)&&this.removeOption(t,n),i<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:n}),this.positionDropdown(),this.trigger("item_remove",t,o))},createItem:function(e,t){var n=this,i=n.caretPos,r=(e=e||(n.$control_input.val()||"").trim(),arguments[arguments.length-1]);if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof t&&(t=!0),!n.canCreate(e))return r(),!1;n.lock();var o,s,l="function"==typeof n.settings.create?this.settings.create:function(e){var t={};if(e=t[n.settings.labelField]=e,!n.settings.formatValueToKey||"function"!=typeof n.settings.formatValueToKey||null!=(e=n.settings.formatValueToKey.apply(this,[e]))&&"object"!=typeof e&&"function"!=typeof e)return t[n.settings.valueField]=e,t;throw new Error('Selectize "formatValueToKey" setting must be a function that returns a value other than object or function.')},c=(s=!(o=function(e){return n.unlock(),e&&"object"==typeof e&&"string"==typeof(o=a(e[n.settings.valueField]))?(n.setTextboxValue(""),n.addOption(e),n.setCaret(i),n.addItem(o),n.refreshOptions(t&&"single"!==n.settings.mode),void r(e)):r();var o}),function(){s||(s=!0,o.apply(this,arguments))});return void 0!==(l=l.apply(this,[e,c]))&&c(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!e.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length),this.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,r;if(e=e||{},1===this.tagType){for(i=[],t=0,n=this.items.length;t<n;t++)r=this.options[this.items[t]][this.settings.labelField]||"",i.push('<option value="'+s(this.items[t])+'" selected="selected">'+s(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),this.$input.html(i.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&!e.silent&&this.trigger("change",this.$input.val())},updatePlaceholder:function(){var e;this.settings.placeholder&&(e=this.$control_input,this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0}))},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var e=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.isBlurring&&this.$control_input.blur()),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),e&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e[0].getBoundingClientRect().width,top:t.top,left:t.left})},clear:function(e){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:e}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),n=(e=e[0],this.buffer||this.$control[0]);0===t?n.insertBefore(e,n.firstChild):n.insertBefore(e,n.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(t){var n,i,r,o,a,s=t&&8===t.keyCode?-1:1,l=c(this.$control_input[0]);if(this.$activeOption&&!this.settings.hideSelected&&(o=("string"==typeof this.settings.deselectBehavior&&"top"===this.settings.deselectBehavior?this.getFirstOption():this.getAdjacentOption(this.$activeOption,-1)).attr("data-value")),r=[],this.$activeItems.length){for(a=this.$control.children(".active:"+(0<s?"last":"first")),a=this.$control.children(":not(input)").index(a),0<s&&a++,n=0,i=this.$activeItems.length;n<i;n++)r.push(e(this.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(s<0&&0===l.start&&0===l.length?r.push(this.items[this.caretPos-1]):0<s&&l.start===this.$control_input.val().length&&r.push(this.items[this.caretPos]));if(!r.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[r]))return!1;for(void 0!==a&&this.setCaret(a);r.length;)this.removeItem(r.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),o&&(t=this.getOption(o)).length&&this.setActiveOption(t),!0},advanceSelection:function(e,t){var n,i,r;0!==e&&(this.rtl&&(e*=-1),n=0<e?"last":"first",r=c(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(i=this.$control_input.val().length,(e<0?0!==r.start||0!==r.length:r.start!==i)||i||this.advanceCaret(e,t)):(r=this.$control.children(".active:"+n)).length&&(i=this.$control.children(":not(input)").index(r),this.setActiveItem(null),this.setCaret(0<e?i+1:i)))},advanceCaret:function(e,t){var n;0!==e&&(this.isShiftDown?(n=this.$control_input[0<e?"next":"prev"]()).length&&(this.hideInput(),this.setActiveItem(n),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(t){if(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),!this.isPending)for(var n,i=this.$control.children(":not(input)"),r=0,o=i.length;r<o;r++)n=e(i[r]).detach(),r<t?this.$control_input.before(n):this.$control.append(n);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),0==--v.count&&v.$testInput&&(v.$testInput.remove(),v.$testInput=void 0),e(window).off(t),e(document).off(t),e(document.body).off(t),delete this.$input[0].selectize},render:function(t,n){var i,r,l="",c=!1;return(c="option"!==t&&"item"!==t?c:!!(i=a(n[this.settings.valueField])))&&(o(this.renderCache[t])||(this.renderCache[t]={}),this.renderCache[t].hasOwnProperty(i))?this.renderCache[t][i]:(l=e(this.settings.render[t].apply(this,[n,s])),"option"===t||"option_create"===t?n[this.settings.disabledField]||l.attr("data-selectable",""):"optgroup"===t&&(r=n[this.settings.optgroupValueField]||"",l.attr("data-group",r),n[this.settings.disabledField]&&l.attr("data-disabled","")),"option"!==t&&"item"!==t||l.attr("data-value",i||""),c&&(this.renderCache[t][i]=l[0]),l[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),v.count=0,v.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,showAddOptionOnCreate:!0,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,showEmptyOptionInDropdown:!1,emptyOptionLabel:"--",closeAfterSelect:!1,scrollDuration:60,deselectBehavior:"previous",loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){function n(t,n){function i(t,i){var o,d=a((t=e(t)).val());(d||r.allowEmptyOption)&&(v.hasOwnProperty(d)?i&&((o=v[d][u])?e.isArray(o)?o.push(i):v[d][u]=[o,i]:v[d][u]=i):((o=y(t)||{})[s]=o[s]||t.text(),o[l]=o[l]||d,o[c]=o[c]||t.prop("disabled"),o[u]=o[u]||i,v[d]=o,m.push(o),t.is(":selected")&&n.items.push(d)))}var f,p,A,g,m=n.options,v={},y=function(e){return"string"==typeof(e=o&&e.attr(o))&&e.length?JSON.parse(e):null};for(n.maxItems=t.attr("multiple")?null:1,f=0,p=(g=t.children()).length;f<p;f++)"optgroup"===(A=g[f].tagName.toLowerCase())?function(t){var r,o,a,s,l;for((a=(t=e(t)).attr("label"))&&((s=y(t)||{})[d]=a,s[h]=a,s[c]=t.prop("disabled"),n.optgroups.push(s)),r=0,o=(l=e("option",t)).length;r<o;r++)i(l[r],a)}(g[f]):"option"===A&&i(g[f])}var i=e.fn.selectize.defaults,r=e.extend({},i,t),o=r.dataAttr,s=r.labelField,l=r.valueField,c=r.disabledField,u=r.optgroupField,d=r.optgroupLabelField,h=r.optgroupValueField;return this.each((function(){var a,c,u,d;this.selectize||(a=e(this),c=this.tagName.toLowerCase(),(u=a.attr("placeholder")||a.attr("data-placeholder"))||r.allowEmptyOption||(u=a.children('option[value=""]').text()),r.allowEmptyOption&&r.showEmptyOptionInDropdown&&!a.children('option[value=""]').length&&(d=a.html(),a.html('<option value="">'+r.emptyOptionLabel+"</option>"+d)),("select"===c?n:function(t,n){var i,a,c,u,d=t.attr(o);if(d)for(n.options=JSON.parse(d),i=0,a=n.options.length;i<a;i++)n.items.push(n.options[i][l]);else if(d=e.trim(t.val()||""),r.allowEmptyOption||d.length){for(i=0,a=(c=d.split(r.delimiter)).length;i<a;i++)(u={})[s]=c[i],u[l]=c[i],n.options.push(u);n.items=c}})(a,d={placeholder:u,options:[],optgroups:[],items:[]}),new v(a,e.extend(!0,{},i,d,t)).settings_user=t)}))},e.fn.selectize.defaults=v.defaults,e.fn.selectize.support={validity:A},v.define("auto_position",(function(){const e="top",t="bottom";this.positionDropdown=function(){const n=this.$control,i="body"===this.settings.dropdownParent?n.offset():n.position();i.top+=n.outerHeight(!0);var r=this.$dropdown.prop("scrollHeight")+5,o=(r=this.$control.get(0).getBoundingClientRect().top+r+this.$wrapper.height()>window.innerHeight?e:t,{width:n.outerWidth(),left:i.left});r===e?(Object.assign(o,{bottom:i.top,top:"unset",margin:"0 0 5px 0"}),this.$dropdown.addClass("selectize-position-top")):(Object.assign(o,{top:i.top,bottom:"unset",margin:"5px 0 0 0"}),this.$dropdown.removeClass("selectize-position-top")),this.$dropdown.css(o)}})),v.define("auto_select_on_type",(function(e){var t,n=this;n.onBlur=(t=n.onBlur,function(e){var i=n.getFirstItemMatchedByTextContent(n.lastValue,!0);return void 0!==i.attr("data-value")&&n.getValue()!==i.attr("data-value")&&n.setValue(i.attr("data-value")),t.apply(this,arguments)})})),v.define("autofill_disable",(function(e){var t,n=this;n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$control_input.attr({autocomplete:"new-password",autofill:"no"})})})),v.define("drag_drop",(function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var n,i;"multi"===this.settings.mode&&((n=this).lock=(i=n.lock,function(){var e=n.$control.data("sortable");return e&&e.disable(),i.apply(n,arguments)}),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.addClass("dragging")},stop:function(){i.removeClass("dragging");var t=n.$activeItems?n.$activeItems.slice():null,r=[];i.children("[data-value]").each((function(){r.push(e(this).attr("data-value"))})),n.isFocused=!1,n.setValue(r),n.isFocused=!0,n.setActiveItem(t),n.positionDropdown()}})}}())})),v.define("dropdown_header",(function(t){var n,i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&#xd7;</a></div></div>'}},t),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)})})),v.define("optgroup_columns",(function(t){function n(){var n,i,a,s,l=e("[data-group]",r.$dropdown_content),c=l.length;if(c&&r.$dropdown_content.width()){if(t.equalizeHeight){for(n=i=0;n<c;n++)i=Math.max(i,l.eq(n).height());l.css({height:i})}t.equalizeWidth&&(s=r.$dropdown_content.innerWidth()-o(),a=Math.round(s/c),l.css({width:a}),1<c&&(s-=a*(c-1),l.eq(c-1).css({width:s})))}}var i,r=this,o=(t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]");return 0<=(t=i.index(t)+n)&&t<i.length?i.eq(t):e()},this.onKeyDown=(i=r.onKeyDown,function(e){var t,n;if(!this.isOpen||37!==e.keyCode&&39!==e.keyCode)return i.apply(this,arguments);r.ignoreHover=!0,t=(n=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),(n=(e=(n=37===e.keyCode?n.prev("[data-group]"):n.next("[data-group]")).find("[data-selectable]")).eq(Math.min(e.length-1,t))).length&&this.setActiveOption(n)}),function(){var e,t=o.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=o.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t});(t.equalizeHeight||t.equalizeWidth)&&(g(this,"positionDropdown",n),g(this,"refreshOptions",n))})),v.define("remove_button",(function(t){t=e.extend({label:"&#xd7;",title:"Remove",className:"remove",append:!0},t),("single"===this.settings.mode?function(t,n){n.className="remove-single";var i,r=t,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+s(n.title)+'">'+n.label+"</a>";t.setup=(i=r.setup,function(){var a,s;n.append&&(a=e(r.$input.context).attr("id"),e("#"+a),s=r.settings.render.item,r.settings.render.item=function(n){return i=s.apply(t,arguments),r=o,e("<span>").append(i).append(r);var i,r}),i.apply(t,arguments),t.$control.on("click","."+n.className,(function(e){e.preventDefault(),r.isLocked||r.clear()}))})}:function(t,n){var i,r=t,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+s(n.title)+'">'+n.label+"</a>";t.setup=(i=r.setup,function(){var a;n.append&&(a=r.settings.render.item,r.settings.render.item=function(e){return n=a.apply(t,arguments),i=o,r=n.search(/(<\/[^>]+>\s*)$/),n.substring(0,r)+i+n.substring(r);var n,i,r}),i.apply(t,arguments),t.$control.on("click","."+n.className,(function(t){if(t.preventDefault(),!r.isLocked)return t=e(t.currentTarget).parent(),r.setActiveItem(t),r.deleteSelection()&&r.setCaret(r.items.length),!1}))})})(this,t)})),v.define("restore_on_backspace",(function(e){var t;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=this.onKeyDown,function(n){var i;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(i=this.caretPos-1)&&i<this.items.length?(i=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),v.define("select_on_focus",(function(e){var t,n,i=this;i.on("focus",(t=i.onFocus,function(e){var n=i.getItem(i.getValue()).text();return i.clear(),i.setTextboxValue(n),i.$control_input.select(),setTimeout((function(){i.settings.selectOnTab&&i.setActiveOption(i.getFirstItemMatchedByTextContent(n)),i.settings.score=null}),0),t.apply(this,arguments)})),i.onBlur=(n=i.onBlur,function(e){return""===i.getValue()&&i.lastValidValue!==i.getValue()&&i.setValue(i.lastValidValue),setTimeout((function(){i.settings.score=function(){return function(){return 1}}}),0),n.apply(this,arguments)}),i.settings.score=function(){return function(){return 1}}})),v.define("tag_limit",(function(t){const n=this;t.tagLimit=t.tagLimit,this.onBlur=function(){const i=n.onBlur;return function(n){if(i.apply(this,n),n){const n=this.$control,i=n.find(".item"),r=t.tagLimit;void 0===r||i.length<=r||(i.toArray().forEach((function(t,n){n<r||e(t).hide()})),n.append("<span><b>"+(i.length-r)+"</b></span>"))}}}(),this.onFocus=function(){const e=n.onFocus;return function(t){if(e.apply(this,t),t){const e=this.$control;e.find(".item").show(),e.find("span").remove()}}}()})),v},void 0===(d=c.apply(t,u))||(e.exports=d)},63115:function(e,t,n){"use strict";var i;n.r(t),n.d(t,{default:function(){return i||(i=n.t(r,2))}});var r=n(71053);r.config.setModuleLoader("ace/mode/abap",(()=>n.e(2168).then(n.t.bind(n,52168,19)))),r.config.setModuleLoader("ace/mode/abc",(()=>n.e(104).then(n.t.bind(n,50104,19)))),r.config.setModuleLoader("ace/mode/actionscript",(()=>n.e(6967).then(n.t.bind(n,66967,19)))),r.config.setModuleLoader("ace/mode/ada",(()=>n.e(1664).then(n.t.bind(n,71664,19)))),r.config.setModuleLoader("ace/mode/alda",(()=>n.e(3604).then(n.t.bind(n,53604,19)))),r.config.setModuleLoader("ace/mode/apache_conf",(()=>n.e(1621).then(n.t.bind(n,21621,19)))),r.config.setModuleLoader("ace/mode/apex",(()=>n.e(6786).then(n.t.bind(n,76786,19)))),r.config.setModuleLoader("ace/mode/applescript",(()=>n.e(3527).then(n.t.bind(n,73527,19)))),r.config.setModuleLoader("ace/mode/aql",(()=>n.e(522).then(n.t.bind(n,70522,19)))),r.config.setModuleLoader("ace/mode/asciidoc",(()=>n.e(473).then(n.t.bind(n,70473,19)))),r.config.setModuleLoader("ace/mode/asl",(()=>n.e(6344).then(n.t.bind(n,56344,19)))),r.config.setModuleLoader("ace/mode/assembly_arm32",(()=>n.e(8914).then(n.t.bind(n,88914,19)))),r.config.setModuleLoader("ace/mode/assembly_x86",(()=>n.e(1023).then(n.t.bind(n,61023,19)))),r.config.setModuleLoader("ace/mode/astro",(()=>n.e(9915).then(n.t.bind(n,39915,19)))),r.config.setModuleLoader("ace/mode/autohotkey",(()=>n.e(6087).then(n.t.bind(n,26087,19)))),r.config.setModuleLoader("ace/mode/batchfile",(()=>n.e(8542).then(n.t.bind(n,78542,19)))),r.config.setModuleLoader("ace/mode/bibtex",(()=>n.e(1559).then(n.t.bind(n,63940,19)))),r.config.setModuleLoader("ace/mode/c9search",(()=>n.e(6358).then(n.t.bind(n,6358,19)))),r.config.setModuleLoader("ace/mode/c_cpp",(()=>n.e(8739).then(n.t.bind(n,18739,19)))),r.config.setModuleLoader("ace/mode/cirru",(()=>n.e(5507).then(n.t.bind(n,5507,19)))),r.config.setModuleLoader("ace/mode/clojure",(()=>n.e(2256).then(n.t.bind(n,12256,19)))),r.config.setModuleLoader("ace/mode/cobol",(()=>n.e(4859).then(n.t.bind(n,74859,19)))),r.config.setModuleLoader("ace/mode/coffee",(()=>n.e(5170).then(n.t.bind(n,85170,19)))),r.config.setModuleLoader("ace/mode/coldfusion",(()=>n.e(8759).then(n.t.bind(n,81140,19)))),r.config.setModuleLoader("ace/mode/crystal",(()=>n.e(9994).then(n.t.bind(n,19994,19)))),r.config.setModuleLoader("ace/mode/csharp",(()=>n.e(9349).then(n.t.bind(n,69349,19)))),r.config.setModuleLoader("ace/mode/csound_document",(()=>Promise.all([n.e(9053),n.e(4420)]).then(n.t.bind(n,54420,19)))),r.config.setModuleLoader("ace/mode/csound_orchestra",(()=>Promise.all([n.e(9053),n.e(2922)]).then(n.t.bind(n,82922,19)))),r.config.setModuleLoader("ace/mode/csound_score",(()=>n.e(9119).then(n.t.bind(n,59119,19)))),r.config.setModuleLoader("ace/mode/csp",(()=>n.e(6714).then(n.t.bind(n,96714,19)))),r.config.setModuleLoader("ace/mode/css",(()=>Promise.resolve().then(n.t.bind(n,90327,19)))),r.config.setModuleLoader("ace/mode/curly",(()=>n.e(5561).then(n.t.bind(n,95561,19)))),r.config.setModuleLoader("ace/mode/cuttlefish",(()=>n.e(8403).then(n.t.bind(n,68403,19)))),r.config.setModuleLoader("ace/mode/d",(()=>n.e(1496).then(n.t.bind(n,61496,19)))),r.config.setModuleLoader("ace/mode/dart",(()=>n.e(9764).then(n.t.bind(n,77383,19)))),r.config.setModuleLoader("ace/mode/diff",(()=>n.e(9253).then(n.t.bind(n,29253,19)))),r.config.setModuleLoader("ace/mode/django",(()=>n.e(8681).then(n.t.bind(n,98681,19)))),r.config.setModuleLoader("ace/mode/dockerfile",(()=>n.e(7696).then(n.t.bind(n,7696,19)))),r.config.setModuleLoader("ace/mode/dot",(()=>n.e(3215).then(n.t.bind(n,63215,19)))),r.config.setModuleLoader("ace/mode/drools",(()=>n.e(6787).then(n.t.bind(n,16787,19)))),r.config.setModuleLoader("ace/mode/edifact",(()=>n.e(2154).then(n.t.bind(n,72154,19)))),r.config.setModuleLoader("ace/mode/eiffel",(()=>n.e(1109).then(n.t.bind(n,31109,19)))),r.config.setModuleLoader("ace/mode/ejs",(()=>Promise.all([n.e(3041),n.e(9556)]).then(n.t.bind(n,99556,19)))),r.config.setModuleLoader("ace/mode/elixir",(()=>n.e(7293).then(n.t.bind(n,7293,19)))),r.config.setModuleLoader("ace/mode/elm",(()=>n.e(3168).then(n.t.bind(n,13168,19)))),r.config.setModuleLoader("ace/mode/erlang",(()=>n.e(6013).then(n.t.bind(n,86013,19)))),r.config.setModuleLoader("ace/mode/flix",(()=>n.e(937).then(n.t.bind(n,30937,19)))),r.config.setModuleLoader("ace/mode/forth",(()=>n.e(8115).then(n.t.bind(n,28115,19)))),r.config.setModuleLoader("ace/mode/fortran",(()=>n.e(1350).then(n.t.bind(n,21350,19)))),r.config.setModuleLoader("ace/mode/fsharp",(()=>n.e(3632).then(n.t.bind(n,33632,19)))),r.config.setModuleLoader("ace/mode/fsl",(()=>n.e(8025).then(n.t.bind(n,38025,19)))),r.config.setModuleLoader("ace/mode/ftl",(()=>n.e(858).then(n.t.bind(n,60858,19)))),r.config.setModuleLoader("ace/mode/gcode",(()=>n.e(4024).then(n.t.bind(n,4024,19)))),r.config.setModuleLoader("ace/mode/gherkin",(()=>n.e(8942).then(n.t.bind(n,88942,19)))),r.config.setModuleLoader("ace/mode/gitignore",(()=>n.e(3989).then(n.t.bind(n,16370,19)))),r.config.setModuleLoader("ace/mode/glsl",(()=>n.e(8898).then(n.t.bind(n,68898,19)))),r.config.setModuleLoader("ace/mode/gobstones",(()=>n.e(6386).then(n.t.bind(n,96386,19)))),r.config.setModuleLoader("ace/mode/golang",(()=>n.e(787).then(n.t.bind(n,63168,19)))),r.config.setModuleLoader("ace/mode/graphqlschema",(()=>n.e(4622).then(n.t.bind(n,14622,19)))),r.config.setModuleLoader("ace/mode/groovy",(()=>n.e(9772).then(n.t.bind(n,9772,19)))),r.config.setModuleLoader("ace/mode/haml",(()=>Promise.all([n.e(3041),n.e(1592)]).then(n.t.bind(n,81592,19)))),r.config.setModuleLoader("ace/mode/handlebars",(()=>n.e(6158).then(n.t.bind(n,86158,19)))),r.config.setModuleLoader("ace/mode/haskell",(()=>n.e(8532).then(n.t.bind(n,28532,19)))),r.config.setModuleLoader("ace/mode/haskell_cabal",(()=>n.e(880).then(n.t.bind(n,60880,19)))),r.config.setModuleLoader("ace/mode/haxe",(()=>n.e(9602).then(n.t.bind(n,19602,19)))),r.config.setModuleLoader("ace/mode/hjson",(()=>n.e(1982).then(n.t.bind(n,41982,19)))),r.config.setModuleLoader("ace/mode/html",(()=>Promise.resolve().then(n.t.bind(n,10599,19)))),r.config.setModuleLoader("ace/mode/html_elixir",(()=>n.e(3293).then(n.t.bind(n,63293,19)))),r.config.setModuleLoader("ace/mode/html_ruby",(()=>Promise.all([n.e(3041),n.e(7529)]).then(n.t.bind(n,29910,19)))),r.config.setModuleLoader("ace/mode/ini",(()=>n.e(7062).then(n.t.bind(n,97062,19)))),r.config.setModuleLoader("ace/mode/io",(()=>n.e(7714).then(n.t.bind(n,17714,19)))),r.config.setModuleLoader("ace/mode/ion",(()=>n.e(8934).then(n.t.bind(n,38934,19)))),r.config.setModuleLoader("ace/mode/jack",(()=>n.e(5421).then(n.t.bind(n,45421,19)))),r.config.setModuleLoader("ace/mode/jade",(()=>n.e(1548).then(n.t.bind(n,41548,19)))),r.config.setModuleLoader("ace/mode/java",(()=>n.e(4286).then(n.t.bind(n,4286,19)))),r.config.setModuleLoader("ace/mode/javascript",(()=>Promise.resolve().then(n.t.bind(n,54797,19)))),r.config.setModuleLoader("ace/mode/jexl",(()=>n.e(2043).then(n.t.bind(n,72043,19)))),r.config.setModuleLoader("ace/mode/json",(()=>n.e(8008).then(n.t.bind(n,78008,19)))),r.config.setModuleLoader("ace/mode/json5",(()=>n.e(5541).then(n.t.bind(n,25541,19)))),r.config.setModuleLoader("ace/mode/jsp",(()=>n.e(3729).then(n.t.bind(n,93729,19)))),r.config.setModuleLoader("ace/mode/jssm",(()=>n.e(605).then(n.t.bind(n,10605,19)))),r.config.setModuleLoader("ace/mode/jsx",(()=>n.e(25).then(n.t.bind(n,20025,19)))),r.config.setModuleLoader("ace/mode/julia",(()=>n.e(437).then(n.t.bind(n,30437,19)))),r.config.setModuleLoader("ace/mode/kotlin",(()=>n.e(6691).then(n.t.bind(n,16691,19)))),r.config.setModuleLoader("ace/mode/latex",(()=>n.e(3664).then(n.t.bind(n,53664,19)))),r.config.setModuleLoader("ace/mode/latte",(()=>n.e(6370).then(n.t.bind(n,6370,19)))),r.config.setModuleLoader("ace/mode/less",(()=>n.e(1143).then(n.t.bind(n,91143,19)))),r.config.setModuleLoader("ace/mode/liquid",(()=>n.e(9910).then(n.t.bind(n,9910,19)))),r.config.setModuleLoader("ace/mode/lisp",(()=>n.e(3558).then(n.t.bind(n,93558,19)))),r.config.setModuleLoader("ace/mode/livescript",(()=>n.e(3591).then(n.t.bind(n,33591,19)))),r.config.setModuleLoader("ace/mode/logiql",(()=>n.e(2566).then(n.t.bind(n,12566,19)))),r.config.setModuleLoader("ace/mode/logtalk",(()=>n.e(8560).then(n.t.bind(n,98560,19)))),r.config.setModuleLoader("ace/mode/lsl",(()=>n.e(9243).then(n.t.bind(n,79243,19)))),r.config.setModuleLoader("ace/mode/lua",(()=>n.e(1650).then(n.t.bind(n,71650,19)))),r.config.setModuleLoader("ace/mode/luapage",(()=>n.e(3197).then(n.t.bind(n,23197,19)))),r.config.setModuleLoader("ace/mode/lucene",(()=>n.e(4424).then(n.t.bind(n,94424,19)))),r.config.setModuleLoader("ace/mode/makefile",(()=>n.e(7970).then(n.t.bind(n,77970,19)))),r.config.setModuleLoader("ace/mode/markdown",(()=>n.e(5611).then(n.t.bind(n,5611,19)))),r.config.setModuleLoader("ace/mode/mask",(()=>n.e(2906).then(n.t.bind(n,82906,19)))),r.config.setModuleLoader("ace/mode/matlab",(()=>n.e(1051).then(n.t.bind(n,41051,19)))),r.config.setModuleLoader("ace/mode/maze",(()=>n.e(95).then(n.t.bind(n,45333,19)))),r.config.setModuleLoader("ace/mode/mediawiki",(()=>n.e(4164).then(n.t.bind(n,4164,19)))),r.config.setModuleLoader("ace/mode/mel",(()=>n.e(5226).then(n.t.bind(n,85226,19)))),r.config.setModuleLoader("ace/mode/mips",(()=>n.e(9249).then(n.t.bind(n,9249,19)))),r.config.setModuleLoader("ace/mode/mixal",(()=>n.e(1891).then(n.t.bind(n,51891,19)))),r.config.setModuleLoader("ace/mode/mushcode",(()=>n.e(4106).then(n.t.bind(n,4106,19)))),r.config.setModuleLoader("ace/mode/mysql",(()=>n.e(390).then(n.t.bind(n,10390,19)))),r.config.setModuleLoader("ace/mode/nasal",(()=>n.e(5115).then(n.t.bind(n,95115,19)))),r.config.setModuleLoader("ace/mode/nginx",(()=>n.e(9724).then(n.t.bind(n,69724,19)))),r.config.setModuleLoader("ace/mode/nim",(()=>n.e(9172).then(n.t.bind(n,49172,19)))),r.config.setModuleLoader("ace/mode/nix",(()=>n.e(7887).then(n.t.bind(n,87887,19)))),r.config.setModuleLoader("ace/mode/nsis",(()=>n.e(7909).then(n.t.bind(n,47909,19)))),r.config.setModuleLoader("ace/mode/nunjucks",(()=>n.e(1585).then(n.t.bind(n,21585,19)))),r.config.setModuleLoader("ace/mode/objectivec",(()=>n.e(7221).then(n.t.bind(n,79602,19)))),r.config.setModuleLoader("ace/mode/ocaml",(()=>n.e(3768).then(n.t.bind(n,3768,19)))),r.config.setModuleLoader("ace/mode/odin",(()=>n.e(2514).then(n.t.bind(n,82514,19)))),r.config.setModuleLoader("ace/mode/partiql",(()=>n.e(5573).then(n.t.bind(n,15573,19)))),r.config.setModuleLoader("ace/mode/pascal",(()=>n.e(3582).then(n.t.bind(n,23582,19)))),r.config.setModuleLoader("ace/mode/perl",(()=>n.e(6471).then(n.t.bind(n,66471,19)))),r.config.setModuleLoader("ace/mode/pgsql",(()=>n.e(6435).then(n.t.bind(n,96435,19)))),r.config.setModuleLoader("ace/mode/php",(()=>n.e(9140).then(n.t.bind(n,59140,19)))),r.config.setModuleLoader("ace/mode/php_laravel_blade",(()=>Promise.all([n.e(9140),n.e(5815)]).then(n.t.bind(n,5815,19)))),r.config.setModuleLoader("ace/mode/pig",(()=>n.e(7500).then(n.t.bind(n,7500,19)))),r.config.setModuleLoader("ace/mode/plain_text",(()=>n.e(1692).then(n.t.bind(n,71692,19)))),r.config.setModuleLoader("ace/mode/plsql",(()=>n.e(7232).then(n.t.bind(n,57232,19)))),r.config.setModuleLoader("ace/mode/powershell",(()=>n.e(4919).then(n.t.bind(n,4919,19)))),r.config.setModuleLoader("ace/mode/praat",(()=>n.e(5108).then(n.t.bind(n,85108,19)))),r.config.setModuleLoader("ace/mode/prisma",(()=>n.e(9290).then(n.t.bind(n,39290,19)))),r.config.setModuleLoader("ace/mode/prolog",(()=>n.e(2861).then(n.t.bind(n,32861,19)))),r.config.setModuleLoader("ace/mode/properties",(()=>n.e(2803).then(n.t.bind(n,2803,19)))),r.config.setModuleLoader("ace/mode/protobuf",(()=>n.e(2713).then(n.t.bind(n,22713,19)))),r.config.setModuleLoader("ace/mode/prql",(()=>n.e(7781).then(n.t.bind(n,37781,19)))),r.config.setModuleLoader("ace/mode/puppet",(()=>n.e(1092).then(n.t.bind(n,61092,19)))),r.config.setModuleLoader("ace/mode/python",(()=>n.e(2172).then(n.t.bind(n,42172,19)))),r.config.setModuleLoader("ace/mode/qml",(()=>n.e(7382).then(n.t.bind(n,97382,19)))),r.config.setModuleLoader("ace/mode/r",(()=>n.e(4142).then(n.t.bind(n,74142,19)))),r.config.setModuleLoader("ace/mode/raku",(()=>n.e(1975).then(n.t.bind(n,1975,19)))),r.config.setModuleLoader("ace/mode/razor",(()=>n.e(8012).then(n.t.bind(n,8012,19)))),r.config.setModuleLoader("ace/mode/rdoc",(()=>n.e(5542).then(n.t.bind(n,85542,19)))),r.config.setModuleLoader("ace/mode/red",(()=>n.e(571).then(n.t.bind(n,70571,19)))),r.config.setModuleLoader("ace/mode/redshift",(()=>n.e(9671).then(n.t.bind(n,89671,19)))),r.config.setModuleLoader("ace/mode/rhtml",(()=>n.e(3967).then(n.t.bind(n,43967,19)))),r.config.setModuleLoader("ace/mode/robot",(()=>n.e(5292).then(n.t.bind(n,85292,19)))),r.config.setModuleLoader("ace/mode/rst",(()=>n.e(8357).then(n.t.bind(n,38357,19)))),r.config.setModuleLoader("ace/mode/ruby",(()=>Promise.all([n.e(3041),n.e(2006)]).then(n.t.bind(n,82006,19)))),r.config.setModuleLoader("ace/mode/rust",(()=>n.e(6116).then(n.t.bind(n,56116,19)))),r.config.setModuleLoader("ace/mode/sac",(()=>n.e(2929).then(n.t.bind(n,12929,19)))),r.config.setModuleLoader("ace/mode/sass",(()=>n.e(3940).then(n.t.bind(n,23940,19)))),r.config.setModuleLoader("ace/mode/scad",(()=>n.e(5785).then(n.t.bind(n,55785,19)))),r.config.setModuleLoader("ace/mode/scala",(()=>n.e(9502).then(n.t.bind(n,49502,19)))),r.config.setModuleLoader("ace/mode/scheme",(()=>n.e(4029).then(n.t.bind(n,4029,19)))),r.config.setModuleLoader("ace/mode/scrypt",(()=>n.e(7573).then(n.t.bind(n,37573,19)))),r.config.setModuleLoader("ace/mode/scss",(()=>n.e(5458).then(n.t.bind(n,75458,19)))),r.config.setModuleLoader("ace/mode/sh",(()=>n.e(4681).then(n.t.bind(n,54681,19)))),r.config.setModuleLoader("ace/mode/sjs",(()=>n.e(5282).then(n.t.bind(n,65282,19)))),r.config.setModuleLoader("ace/mode/slim",(()=>Promise.all([n.e(3041),n.e(7614),n.e(6355)]).then(n.t.bind(n,38736,19)))),r.config.setModuleLoader("ace/mode/smarty",(()=>n.e(6490).then(n.t.bind(n,36490,19)))),r.config.setModuleLoader("ace/mode/smithy",(()=>n.e(5888).then(n.t.bind(n,85888,19)))),r.config.setModuleLoader("ace/mode/snippets",(()=>n.e(4204).then(n.t.bind(n,54204,19)))),r.config.setModuleLoader("ace/mode/soy_template",(()=>n.e(1806).then(n.t.bind(n,31806,19)))),r.config.setModuleLoader("ace/mode/space",(()=>n.e(982).then(n.t.bind(n,60982,19)))),r.config.setModuleLoader("ace/mode/sparql",(()=>n.e(7255).then(n.t.bind(n,87255,19)))),r.config.setModuleLoader("ace/mode/sql",(()=>n.e(7916).then(n.t.bind(n,77916,19)))),r.config.setModuleLoader("ace/mode/sqlserver",(()=>n.e(2419).then(n.t.bind(n,82419,19)))),r.config.setModuleLoader("ace/mode/stylus",(()=>n.e(7364).then(n.t.bind(n,87364,19)))),r.config.setModuleLoader("ace/mode/svg",(()=>n.e(9378).then(n.t.bind(n,69378,19)))),r.config.setModuleLoader("ace/mode/swift",(()=>n.e(5559).then(n.t.bind(n,15559,19)))),r.config.setModuleLoader("ace/mode/tcl",(()=>n.e(179).then(n.t.bind(n,30179,19)))),r.config.setModuleLoader("ace/mode/terraform",(()=>n.e(9636).then(n.t.bind(n,39636,19)))),r.config.setModuleLoader("ace/mode/tex",(()=>n.e(5073).then(n.t.bind(n,65073,19)))),r.config.setModuleLoader("ace/mode/text",(()=>Promise.resolve().then(n.t.bind(n,11569,19)))),r.config.setModuleLoader("ace/mode/textile",(()=>n.e(9485).then(n.t.bind(n,39485,19)))),r.config.setModuleLoader("ace/mode/toml",(()=>n.e(7398).then(n.t.bind(n,37398,19)))),r.config.setModuleLoader("ace/mode/tsx",(()=>n.e(8471).then(n.t.bind(n,58471,19)))),r.config.setModuleLoader("ace/mode/turtle",(()=>n.e(6244).then(n.t.bind(n,46244,19)))),r.config.setModuleLoader("ace/mode/twig",(()=>n.e(511).then(n.t.bind(n,60511,19)))),r.config.setModuleLoader("ace/mode/typescript",(()=>n.e(4765).then(n.t.bind(n,74765,19)))),r.config.setModuleLoader("ace/mode/vala",(()=>n.e(804).then(n.t.bind(n,30804,19)))),r.config.setModuleLoader("ace/mode/vbscript",(()=>n.e(4921).then(n.t.bind(n,24921,19)))),r.config.setModuleLoader("ace/mode/velocity",(()=>Promise.resolve().then(n.t.bind(n,11485,19)))),r.config.setModuleLoader("ace/mode/verilog",(()=>n.e(62).then(n.t.bind(n,70062,19)))),r.config.setModuleLoader("ace/mode/vhdl",(()=>n.e(8216).then(n.t.bind(n,58216,19)))),r.config.setModuleLoader("ace/mode/visualforce",(()=>n.e(7055).then(n.t.bind(n,17055,19)))),r.config.setModuleLoader("ace/mode/vue",(()=>Promise.all([n.e(7614),n.e(8696)]).then(n.t.bind(n,28696,19)))),r.config.setModuleLoader("ace/mode/wollok",(()=>n.e(2526).then(n.t.bind(n,52526,19)))),r.config.setModuleLoader("ace/mode/xml",(()=>n.e(7353).then(n.t.bind(n,57353,19)))),r.config.setModuleLoader("ace/mode/yaml",(()=>n.e(2841).then(n.t.bind(n,2841,19)))),r.config.setModuleLoader("ace/mode/zeek",(()=>n.e(2952).then(n.t.bind(n,50571,19)))),r.config.setModuleLoader("ace/mode/zig",(()=>n.e(1386).then(n.t.bind(n,61386,19)))),r.config.setModuleLoader("ace/snippets/abc",(()=>n.e(1197).then(n.t.bind(n,81197,19)))),r.config.setModuleLoader("ace/snippets/abc.snippets",(()=>n.e(361).then(n.t.bind(n,30361,23)))),r.config.setModuleLoader("ace/snippets/actionscript",(()=>n.e(8292).then(n.t.bind(n,88292,19)))),r.config.setModuleLoader("ace/snippets/actionscript.snippets",(()=>n.e(970).then(n.t.bind(n,80970,23)))),r.config.setModuleLoader("ace/snippets/c_cpp",(()=>n.e(7738).then(n.t.bind(n,77738,19)))),r.config.setModuleLoader("ace/snippets/c_cpp.snippets",(()=>n.e(1140).then(n.t.bind(n,1140,23)))),r.config.setModuleLoader("ace/snippets/clojure",(()=>n.e(5873).then(n.t.bind(n,85873,19)))),r.config.setModuleLoader("ace/snippets/clojure.snippets",(()=>n.e(5493).then(n.t.bind(n,55493,23)))),r.config.setModuleLoader("ace/snippets/coffee",(()=>n.e(2661).then(n.t.bind(n,22661,19)))),r.config.setModuleLoader("ace/snippets/coffee.snippets",(()=>n.e(4497).then(n.t.bind(n,64497,23)))),r.config.setModuleLoader("ace/snippets/csound_document",(()=>n.e(5825).then(n.t.bind(n,55825,19)))),r.config.setModuleLoader("ace/snippets/csound_document.snippets",(()=>n.e(3493).then(n.t.bind(n,63493,23)))),r.config.setModuleLoader("ace/snippets/csound_orchestra",(()=>n.e(9601).then(n.t.bind(n,9601,19)))),r.config.setModuleLoader("ace/snippets/csound_orchestra.snippets",(()=>n.e(4005).then(n.t.bind(n,74005,23)))),r.config.setModuleLoader("ace/snippets/css",(()=>n.e(6110).then(n.t.bind(n,46110,19)))),r.config.setModuleLoader("ace/snippets/css.snippets",(()=>n.e(928).then(n.t.bind(n,50928,23)))),r.config.setModuleLoader("ace/snippets/dart",(()=>n.e(5608).then(n.t.bind(n,45608,19)))),r.config.setModuleLoader("ace/snippets/dart.snippets",(()=>n.e(1718).then(n.t.bind(n,1718,23)))),r.config.setModuleLoader("ace/snippets/diff",(()=>n.e(1886).then(n.t.bind(n,91886,19)))),r.config.setModuleLoader("ace/snippets/diff.snippets",(()=>n.e(5792).then(n.t.bind(n,85792,23)))),r.config.setModuleLoader("ace/snippets/django",(()=>n.e(5554).then(n.t.bind(n,35554,19)))),r.config.setModuleLoader("ace/snippets/django.snippets",(()=>n.e(4636).then(n.t.bind(n,74636,23)))),r.config.setModuleLoader("ace/snippets/drools",(()=>n.e(7728).then(n.t.bind(n,37728,19)))),r.config.setModuleLoader("ace/snippets/drools.snippets",(()=>n.e(6302).then(n.t.bind(n,36302,23)))),r.config.setModuleLoader("ace/snippets/edifact",(()=>n.e(8487).then(n.t.bind(n,78487,19)))),r.config.setModuleLoader("ace/snippets/edifact.snippets",(()=>n.e(4255).then(n.t.bind(n,84255,23)))),r.config.setModuleLoader("ace/snippets/erlang",(()=>n.e(6226).then(n.t.bind(n,16226,19)))),r.config.setModuleLoader("ace/snippets/erlang.snippets",(()=>n.e(1068).then(n.t.bind(n,1068,23)))),r.config.setModuleLoader("ace/snippets/fsl",(()=>n.e(2468).then(n.t.bind(n,42468,19)))),r.config.setModuleLoader("ace/snippets/fsl.snippets",(()=>n.e(7098).then(n.t.bind(n,17098,23)))),r.config.setModuleLoader("ace/snippets/gobstones",(()=>n.e(9635).then(n.t.bind(n,49635,19)))),r.config.setModuleLoader("ace/snippets/gobstones.snippets",(()=>n.e(1827).then(n.t.bind(n,31827,23)))),r.config.setModuleLoader("ace/snippets/graphqlschema",(()=>n.e(2435).then(n.t.bind(n,72435,19)))),r.config.setModuleLoader("ace/snippets/graphqlschema.snippets",(()=>n.e(4723).then(n.t.bind(n,74723,23)))),r.config.setModuleLoader("ace/snippets/haml",(()=>n.e(8199).then(n.t.bind(n,28199,19)))),r.config.setModuleLoader("ace/snippets/haml.snippets",(()=>n.e(6335).then(n.t.bind(n,56335,23)))),r.config.setModuleLoader("ace/snippets/haskell",(()=>n.e(9025).then(n.t.bind(n,49025,19)))),r.config.setModuleLoader("ace/snippets/haskell.snippets",(()=>n.e(7954).then(n.t.bind(n,55573,23)))),r.config.setModuleLoader("ace/snippets/html",(()=>n.e(7723).then(n.t.bind(n,27723,19)))),r.config.setModuleLoader("ace/snippets/html.snippets",(()=>n.e(5366).then(n.t.bind(n,75366,23)))),r.config.setModuleLoader("ace/snippets/io",(()=>n.e(5481).then(n.t.bind(n,95481,19)))),r.config.setModuleLoader("ace/snippets/java",(()=>n.e(6273).then(n.t.bind(n,46273,19)))),r.config.setModuleLoader("ace/snippets/java.snippets",(()=>n.e(4933).then(n.t.bind(n,94933,23)))),r.config.setModuleLoader("ace/snippets/javascript",(()=>n.e(7582).then(n.t.bind(n,7582,19)))),r.config.setModuleLoader("ace/snippets/javascript.snippets",(()=>n.e(976).then(n.t.bind(n,40976,23)))),r.config.setModuleLoader("ace/snippets/jsp",(()=>n.e(3620).then(n.t.bind(n,43620,19)))),r.config.setModuleLoader("ace/snippets/jsp.snippets",(()=>n.e(4330).then(n.t.bind(n,4330,23)))),r.config.setModuleLoader("ace/snippets/liquid",(()=>n.e(5353).then(n.t.bind(n,35353,19)))),r.config.setModuleLoader("ace/snippets/liquid.snippets",(()=>n.e(6621).then(n.t.bind(n,16621,23)))),r.config.setModuleLoader("ace/snippets/lsl",(()=>n.e(5333).then(n.t.bind(n,77714,19)))),r.config.setModuleLoader("ace/snippets/lsl.snippets",(()=>n.e(8268).then(n.t.bind(n,38268,23)))),r.config.setModuleLoader("ace/snippets/lua",(()=>n.e(7447).then(n.t.bind(n,17447,19)))),r.config.setModuleLoader("ace/snippets/lua.snippets",(()=>n.e(5903).then(n.t.bind(n,5903,23)))),r.config.setModuleLoader("ace/snippets/makefile",(()=>n.e(7461).then(n.t.bind(n,57461,19)))),r.config.setModuleLoader("ace/snippets/makefile.snippets",(()=>n.e(2001).then(n.t.bind(n,72001,23)))),r.config.setModuleLoader("ace/snippets/markdown",(()=>n.e(5088).then(n.t.bind(n,95088,19)))),r.config.setModuleLoader("ace/snippets/markdown.snippets",(()=>n.e(9118).then(n.t.bind(n,69118,23)))),r.config.setModuleLoader("ace/snippets/maze",(()=>n.e(986).then(n.t.bind(n,60986,19)))),r.config.setModuleLoader("ace/snippets/maze.snippets",(()=>n.e(9124).then(n.t.bind(n,49124,23)))),r.config.setModuleLoader("ace/snippets/perl",(()=>n.e(7216).then(n.t.bind(n,47216,19)))),r.config.setModuleLoader("ace/snippets/perl.snippets",(()=>n.e(4062).then(n.t.bind(n,24062,23)))),r.config.setModuleLoader("ace/snippets/php",(()=>n.e(1269).then(n.t.bind(n,11269,19)))),r.config.setModuleLoader("ace/snippets/php.snippets",(()=>n.e(5537).then(n.t.bind(n,35537,23)))),r.config.setModuleLoader("ace/snippets/python",(()=>n.e(1335).then(n.t.bind(n,91335,19)))),r.config.setModuleLoader("ace/snippets/python.snippets",(()=>n.e(1311).then(n.t.bind(n,11311,23)))),r.config.setModuleLoader("ace/snippets/r",(()=>n.e(6459).then(n.t.bind(n,26459,19)))),r.config.setModuleLoader("ace/snippets/r.snippets",(()=>n.e(5691).then(n.t.bind(n,35691,23)))),r.config.setModuleLoader("ace/snippets/razor",(()=>n.e(1529).then(n.t.bind(n,13910,19)))),r.config.setModuleLoader("ace/snippets/razor.snippets",(()=>n.e(3725).then(n.t.bind(n,53725,23)))),r.config.setModuleLoader("ace/snippets/robot",(()=>n.e(4781).then(n.t.bind(n,4781,19)))),r.config.setModuleLoader("ace/snippets/robot.snippets",(()=>n.e(8777).then(n.t.bind(n,98777,23)))),r.config.setModuleLoader("ace/snippets/rst",(()=>n.e(8595).then(n.t.bind(n,60976,19)))),r.config.setModuleLoader("ace/snippets/rst.snippets",(()=>n.e(5502).then(n.t.bind(n,85502,23)))),r.config.setModuleLoader("ace/snippets/ruby",(()=>n.e(6121).then(n.t.bind(n,56121,19)))),r.config.setModuleLoader("ace/snippets/ruby.snippets",(()=>n.e(4109).then(n.t.bind(n,24109,23)))),r.config.setModuleLoader("ace/snippets/sh",(()=>n.e(502).then(n.t.bind(n,10502,19)))),r.config.setModuleLoader("ace/snippets/sh.snippets",(()=>n.e(1560).then(n.t.bind(n,21560,23)))),r.config.setModuleLoader("ace/snippets/snippets",(()=>n.e(6627).then(n.t.bind(n,16627,19)))),r.config.setModuleLoader("ace/snippets/snippets.snippets",(()=>n.e(5411).then(n.t.bind(n,45411,23)))),r.config.setModuleLoader("ace/snippets/sql",(()=>n.e(3045).then(n.t.bind(n,93045,19)))),r.config.setModuleLoader("ace/snippets/sql.snippets",(()=>n.e(2993).then(n.t.bind(n,52993,23)))),r.config.setModuleLoader("ace/snippets/sqlserver",(()=>n.e(9950).then(n.t.bind(n,49950,19)))),r.config.setModuleLoader("ace/snippets/sqlserver.snippets",(()=>n.e(8288).then(n.t.bind(n,98288,23)))),r.config.setModuleLoader("ace/snippets/tcl",(()=>n.e(6362).then(n.t.bind(n,56362,19)))),r.config.setModuleLoader("ace/snippets/tcl.snippets",(()=>n.e(1188).then(n.t.bind(n,11188,23)))),r.config.setModuleLoader("ace/snippets/tex",(()=>n.e(0).then(n.t.bind(n,2e4,19)))),r.config.setModuleLoader("ace/snippets/tex.snippets",(()=>n.e(3998).then(n.t.bind(n,93998,23)))),r.config.setModuleLoader("ace/snippets/textile",(()=>n.e(8244).then(n.t.bind(n,98244,19)))),r.config.setModuleLoader("ace/snippets/textile.snippets",(()=>n.e(7210).then(n.t.bind(n,7210,23)))),r.config.setModuleLoader("ace/snippets/vala",(()=>n.e(3883).then(n.t.bind(n,13883,19)))),r.config.setModuleLoader("ace/snippets/velocity",(()=>n.e(4206).then(n.t.bind(n,14206,19)))),r.config.setModuleLoader("ace/snippets/velocity.snippets",(()=>n.e(5904).then(n.t.bind(n,45904,23)))),r.config.setModuleLoader("ace/snippets/wollok",(()=>n.e(4537).then(n.t.bind(n,64537,19)))),r.config.setModuleLoader("ace/snippets/wollok.snippets",(()=>n.e(2797).then(n.t.bind(n,22797,23)))),r.config.setModuleLoader("ace/theme/ambiance",(()=>n.e(2642).then(n.t.bind(n,82642,19)))),r.config.setModuleLoader("ace/theme/chaos",(()=>n.e(9420).then(n.t.bind(n,79420,19)))),r.config.setModuleLoader("ace/theme/chrome",(()=>n.e(1648).then(n.t.bind(n,51648,19)))),r.config.setModuleLoader("ace/theme/cloud9_day",(()=>n.e(7475).then(n.t.bind(n,77475,19)))),r.config.setModuleLoader("ace/theme/cloud9_night",(()=>n.e(7279).then(n.t.bind(n,17279,19)))),r.config.setModuleLoader("ace/theme/cloud9_night_low_color",(()=>n.e(9142).then(n.t.bind(n,69142,19)))),r.config.setModuleLoader("ace/theme/cloud_editor",(()=>n.e(4329).then(n.t.bind(n,4329,19)))),r.config.setModuleLoader("ace/theme/cloud_editor_dark",(()=>n.e(784).then(n.t.bind(n,80784,19)))),r.config.setModuleLoader("ace/theme/clouds",(()=>n.e(8452).then(n.t.bind(n,28452,19)))),r.config.setModuleLoader("ace/theme/clouds_midnight",(()=>n.e(99).then(n.t.bind(n,10099,19)))),r.config.setModuleLoader("ace/theme/cobalt",(()=>n.e(4861).then(n.t.bind(n,34861,19)))),r.config.setModuleLoader("ace/theme/crimson_editor",(()=>n.e(7361).then(n.t.bind(n,27361,19)))),r.config.setModuleLoader("ace/theme/dawn",(()=>n.e(5500).then(n.t.bind(n,55500,19)))),r.config.setModuleLoader("ace/theme/dracula",(()=>n.e(1670).then(n.t.bind(n,11670,19)))),r.config.setModuleLoader("ace/theme/dreamweaver",(()=>n.e(2895).then(n.t.bind(n,22895,19)))),r.config.setModuleLoader("ace/theme/eclipse",(()=>n.e(5094).then(n.t.bind(n,42713,19)))),r.config.setModuleLoader("ace/theme/github",(()=>n.e(5805).then(n.t.bind(n,35805,19)))),r.config.setModuleLoader("ace/theme/github_dark",(()=>n.e(8572).then(n.t.bind(n,58572,19)))),r.config.setModuleLoader("ace/theme/gob",(()=>n.e(6360).then(n.t.bind(n,26360,19)))),r.config.setModuleLoader("ace/theme/gruvbox",(()=>n.e(687).then(n.t.bind(n,60687,19)))),r.config.setModuleLoader("ace/theme/gruvbox_dark_hard",(()=>n.e(6020).then(n.t.bind(n,86020,19)))),r.config.setModuleLoader("ace/theme/gruvbox_light_hard",(()=>n.e(222).then(n.t.bind(n,40222,19)))),r.config.setModuleLoader("ace/theme/idle_fingers",(()=>n.e(9741).then(n.t.bind(n,9741,19)))),r.config.setModuleLoader("ace/theme/iplastic",(()=>n.e(5291).then(n.t.bind(n,45291,19)))),r.config.setModuleLoader("ace/theme/katzenmilch",(()=>n.e(6474).then(n.t.bind(n,76474,19)))),r.config.setModuleLoader("ace/theme/kr_theme",(()=>n.e(1757).then(n.t.bind(n,61757,19)))),r.config.setModuleLoader("ace/theme/kuroir",(()=>n.e(6910).then(n.t.bind(n,16910,19)))),r.config.setModuleLoader("ace/theme/merbivore",(()=>n.e(6683).then(n.t.bind(n,76683,19)))),r.config.setModuleLoader("ace/theme/merbivore_soft",(()=>n.e(4717).then(n.t.bind(n,97098,19)))),r.config.setModuleLoader("ace/theme/mono_industrial",(()=>n.e(7775).then(n.t.bind(n,27775,19)))),r.config.setModuleLoader("ace/theme/monokai",(()=>n.e(9446).then(n.t.bind(n,49446,19)))),r.config.setModuleLoader("ace/theme/nord_dark",(()=>n.e(2476).then(n.t.bind(n,47714,19)))),r.config.setModuleLoader("ace/theme/one_dark",(()=>n.e(5051).then(n.t.bind(n,67432,19)))),r.config.setModuleLoader("ace/theme/pastel_on_dark",(()=>n.e(4626).then(n.t.bind(n,14626,19)))),r.config.setModuleLoader("ace/theme/solarized_dark",(()=>n.e(3834).then(n.t.bind(n,73834,19)))),r.config.setModuleLoader("ace/theme/solarized_light",(()=>n.e(3280).then(n.t.bind(n,73280,19)))),r.config.setModuleLoader("ace/theme/sqlserver",(()=>n.e(2355).then(n.t.bind(n,42355,19)))),r.config.setModuleLoader("ace/theme/terminal",(()=>n.e(6018).then(n.t.bind(n,76018,19)))),r.config.setModuleLoader("ace/theme/textmate",(()=>Promise.resolve().then(n.t.bind(n,34344,19)))),r.config.setModuleLoader("ace/theme/tomorrow",(()=>n.e(7985).then(n.t.bind(n,57985,19)))),r.config.setModuleLoader("ace/theme/tomorrow_night",(()=>n.e(3320).then(n.t.bind(n,33320,19)))),r.config.setModuleLoader("ace/theme/tomorrow_night_blue",(()=>n.e(6207).then(n.t.bind(n,36207,19)))),r.config.setModuleLoader("ace/theme/tomorrow_night_bright",(()=>n.e(1055).then(n.t.bind(n,81055,19)))),r.config.setModuleLoader("ace/theme/tomorrow_night_eighties",(()=>n.e(7789).then(n.t.bind(n,97789,19)))),r.config.setModuleLoader("ace/theme/twilight",(()=>n.e(346).then(n.t.bind(n,20346,19)))),r.config.setModuleLoader("ace/theme/vibrant_ink",(()=>n.e(9185).then(n.t.bind(n,89185,19)))),r.config.setModuleLoader("ace/theme/xcode",(()=>n.e(1105).then(n.t.bind(n,91105,19)))),r.config.setModuleLoader("ace/keyboard/vim",(()=>n.e(9710).then(n.t.bind(n,59710,19)))),r.config.setModuleLoader("ace/keyboard/emacs",(()=>n.e(2293).then(n.t.bind(n,22293,19)))),r.config.setModuleLoader("ace/keyboard/sublime",(()=>n.e(1929).then(n.t.bind(n,41929,19)))),r.config.setModuleLoader("ace/keyboard/vscode",(()=>n.e(4354).then(n.t.bind(n,84354,19)))),r.config.setModuleLoader("ace/ext/beautify",(()=>n.e(497).then(n.t.bind(n,90497,19)))),r.config.setModuleLoader("ace/ext/code_lens",(()=>n.e(1464).then(n.t.bind(n,51464,19)))),r.config.setModuleLoader("ace/ext/command_bar",(()=>n.e(4377).then(n.t.bind(n,94377,19)))),r.config.setModuleLoader("ace/ext/elastic_tabstops_lite",(()=>n.e(3383).then(n.t.bind(n,3383,19)))),r.config.setModuleLoader("ace/ext/emmet",(()=>n.e(3598).then(n.t.bind(n,93598,19)))),r.config.setModuleLoader("ace/ext/error_marker",(()=>Promise.resolve().then(n.t.bind(n,86581,19)))),r.config.setModuleLoader("ace/ext/hardwrap",(()=>n.e(4985).then(n.t.bind(n,44985,19)))),r.config.setModuleLoader("ace/ext/inline_autocomplete",(()=>n.e(7196).then(n.t.bind(n,47196,19)))),r.config.setModuleLoader("ace/ext/keybinding_menu",(()=>n.e(9872).then(n.t.bind(n,49872,19)))),r.config.setModuleLoader("ace/ext/language_tools",(()=>Promise.resolve().then(n.t.bind(n,17710,19)))),r.config.setModuleLoader("ace/ext/linking",(()=>n.e(1214).then(n.t.bind(n,61214,19)))),r.config.setModuleLoader("ace/ext/modelist",(()=>n.e(3919).then(n.t.bind(n,33919,23)))),r.config.setModuleLoader("ace/ext/options",(()=>n.e(9976).then(n.t.bind(n,19976,19)))),r.config.setModuleLoader("ace/ext/prompt",(()=>n.e(3870).then(n.t.bind(n,3870,19)))),r.config.setModuleLoader("ace/ext/rtl",(()=>n.e(324).then(n.t.bind(n,30324,23)))),r.config.setModuleLoader("ace/ext/searchbox",(()=>n.e(5543).then(n.t.bind(n,35543,19)))),r.config.setModuleLoader("ace/ext/settings_menu",(()=>n.e(6687).then(n.t.bind(n,26687,19)))),r.config.setModuleLoader("ace/ext/simple_tokenizer",(()=>n.e(80).then(n.t.bind(n,20080,23)))),r.config.setModuleLoader("ace/ext/spellcheck",(()=>n.e(4158).then(n.t.bind(n,34158,19)))),r.config.setModuleLoader("ace/ext/split",(()=>n.e(2710).then(n.t.bind(n,52710,19)))),r.config.setModuleLoader("ace/ext/static_highlight",(()=>n.e(8605).then(n.t.bind(n,18605,23)))),r.config.setModuleLoader("ace/ext/statusbar",(()=>n.e(3825).then(n.t.bind(n,73825,19)))),r.config.setModuleLoader("ace/ext/textarea",(()=>n.e(1226).then(n.t.bind(n,41226,23)))),r.config.setModuleLoader("ace/ext/themelist",(()=>n.e(7487).then(n.t.bind(n,47487,19)))),r.config.setModuleLoader("ace/ext/whitespace",(()=>n.e(5385).then(n.t.bind(n,57766,19))))},71053:function(e,t,n){"use strict";var i=n(20506),r=n(35339).Q,o=n(48277).K,a=n(89383).f,s=n(88783).a,l=n(28639).t;n(28921),n(35127),n(73987),n(72070),n(97293),n(34344),n(86581),t.config=n(88814),t.edit=function(e,n){if("string"==typeof e){var r=e;if(!(e=document.getElementById(r)))throw new Error("ace.edit can't find div #"+r)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var s=e;a=s.value,e=i.createElement("pre"),s.parentNode.replaceChild(e,s)}else e&&(a=e.textContent,e.innerHTML="");var c=t.createEditSession(a),u=new o(new l(e),c,n),d={document:c,editor:u,onResize:u.resize.bind(u,null)};return s&&(d.textarea=s),u.on("destroy",(function(){d.editor.container.env=null})),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new s),n},t.Range=r,t.Editor=o,t.EditSession=a,t.UndoManager=s,t.VirtualRenderer=l,t.version=t.config.version},13969:function(e,t,n){"use strict";var i=n(33432),r=n(71743).b;class o{constructor(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"number"!=typeof t?this.setPosition(t.row,t.column):this.setPosition(t,n)}getPosition(){return this.$clipPositionToDocument(this.row,this.column)}getDocument(){return this.document}onChange(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var t=function(e,t,n){var i="insert"==e.action,r=(i?1:-1)*(e.end.row-e.start.row),o=(i?1:-1)*(e.end.column-e.start.column),s=e.start,l=i?s:e.end;return a(t,s,n)?{row:t.row,column:t.column}:a(l,t,!n)?{row:t.row+r,column:t.column+(t.row==l.row?o:0)}:{row:s.row,column:s.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}}setPosition(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}}detach(){this.document.off("change",this.$onChange)}attach(e){this.document=e||this.document,this.document.on("change",this.$onChange)}$clipPositionToDocument(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}function a(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}o.prototype.$insertRight=!1,i.implement(o.prototype,r),t.M=o},45051:function(e,t){"use strict";t.T=function(e,t,n){var i=t.start.row,r=t.start.column,o=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=o.substring(0,r)+t.lines[0]+o.substring(r);else{var a=[i,1].concat(t.lines);e.splice.apply(e,a),e[i]=o.substring(0,r)+e[i],e[i+t.lines.length-1]+=o.substring(r)}break;case"remove":var s=t.end.column,l=t.end.row;i===l?e[i]=o.substring(0,r)+o.substring(s):e.splice(i,l-i+1,o.substring(0,r)+e[l].substring(s))}}},74432:function(e,t,n){"use strict";var i=n(35127).HashHandler,r=n(23945).a9,o=n(92194).V,a=n(23945).zW,s=n(63767),l=n(66016),c=n(20506),u=n(41294).snippetManager,d=n(88814),h=n(78946),f=n(37661).K,p=function(e,t){t.completer&&t.completer.destroy()};class A{constructor(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=l.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=l.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=l.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=l.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay),this.$firstOpenTimer=l.delayedCall(function(){var e=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!e||0===this.editor.completers.length||(this.completions=new m(A.completionsForLoading),this.openPopup(this.editor,e.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}static get completionsForLoading(){return[{caption:d.nls("Loading..."),value:""}]}$init(){return this.popup=new r(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),h.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup}$initInline(){if(this.inlineEnabled&&!this.inlineRenderer)return this.inlineRenderer=new o,this.inlineRenderer}getPopup(){return this.popup||this.$init()}$onHidePopup(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1}$seen(e){!this.hasSeen.has(e)&&e&&e.completer&&e.completer.onSeen&&"function"==typeof e.completer.onSeen&&(e.completer.onSeen(this.editor,e),this.hasSeen.add(e))}$onPopupChange(e){if(this.inlineRenderer&&this.inlineEnabled){var t=e?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(t),this.popup.isMouseOver&&this.setSelectOnHover)return void this.tooltipTimer.call(null,null);this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)}$updateGhostText(e){var t=this.base.row,n=this.base.column,i=this.editor.getCursorPosition().column,r=this.editor.session.getLine(t).slice(n,i);this.inlineRenderer.show(this.editor,e,r)?this.$seen(e):this.inlineRenderer.hide()}$onPopupRender(){const e=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var t=this.popup.getFirstVisibleRow();t<=this.popup.getLastVisibleRow();t++){var n=this.popup.getData(t);!n||e&&!n.hideInlinePreview||this.$seen(n)}}$onPopupShow(e){this.$onPopupChange(e),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)}observeLayoutChanges(){if(!this.$elements&&this.editor){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var e=this.editor.container.parentNode,t=[];e;)t.push(e),e.addEventListener("scroll",this.onLayoutChange,{passive:!0}),e=e.parentNode;this.$elements=t}}unObserveLayoutChanges(){window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach((e=>{e.removeEventListener("scroll",this.onLayoutChange,{passive:!0})})),this.$elements=null}onLayoutChange(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()}$updatePopupPosition(){var e=this.editor,t=e.renderer,n=t.layerConfig.lineHeight,i=t.$cursorLayer.getPixelPosition(this.base,!0);i.left-=this.popup.getTextLeftOffset();var r=e.container.getBoundingClientRect();i.top+=r.top-t.layerConfig.offset,i.left+=r.left-e.renderer.scrollLeft,i.left+=t.gutterWidth;var o={top:i.top,left:i.left};t.$ghostText&&t.$ghostTextWidget&&this.base.row===t.$ghostText.position.row&&(o.top+=t.$ghostTextWidget.el.offsetHeight);var a=e.container.getBoundingClientRect().bottom-n,s=a<o.top?{top:a,left:o.left}:o;this.popup.tryShow(s,n,"bottom")||this.popup.tryShow(i,n,"top")||this.popup.show(i,n)}openPopup(e,t,n){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var i,r=this.popup.getRow(),o=this.popup.data[r];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:a(this.popup.getRow()),inline:this.inlineEnabled}),e.keyBinding.addKeyboardHandler(this.keyboardHandler),this.stickySelection&&(i=this.popup.data.indexOf(o)),i&&-1!==i||(i=0),this.popup.setRow(this.autoSelect?i:-1),i===r&&o!==this.completions.filtered[i]&&this.$onPopupChange();const s=this.inlineRenderer&&this.inlineEnabled;if(i===r&&s){var l=this.popup.getData(this.popup.getRow());this.$updateGhostText(l)}n||(this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()}detach(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()}changeListener(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()}blurListener(e){var t=document.activeElement,n=this.editor.textInput.getElement(),i=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),r=this.popup&&this.popup.container;t==n||t.parentNode==r||i||t==this.tooltipNode||e.relatedTarget==n||this.detach()}mousedownListener(e){this.detach()}mousewheelListener(e){this.popup.isMouseOver||this.detach()}mouseOutListener(e){this.popup.isOpen&&this.$updatePopupPosition()}goTo(e){this.popup.goTo(e)}insertMatch(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(""===e.value)return this.detach();var n=this.completions,i=this.getCompletionProvider().insertMatch(this.editor,e,n.filterText,t);return this.completions==n&&this.detach(),i}showPopup(e,t){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)}getCompletionProvider(e){return this.completionProvider||(this.completionProvider=new g(e)),this.completionProvider}gatherCompletions(e,t){return this.getCompletionProvider().gatherCompletions(e,t)}updateCompletions(e,t){if(e&&this.base&&this.completions){var n=this.editor.getCursorPosition();if((r=this.editor.session.getTextRange({start:this.base,end:n}))==this.completions.filterText)return;return this.completions.setFilter(r),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=r||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,r,e):this.detach()}if(t&&t.matches)return n=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(n.row,n.column),this.base.$insertRight=!0,this.completions=new m(t.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",e);var i=this.editor.getSession(),r=(n=this.editor.getCursorPosition(),s.getCompletionPrefix(this.editor));this.base=i.doc.createAnchor(n.row,n.column-r.length),this.base.$insertRight=!0;var o={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:r,pos:n}).provideCompletions(this.editor,o,function(t,n,i){var r=n.filtered,o=s.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),i){if(!r.length){var a=!this.autoShown&&this.emptyMessage;if("function"==typeof a&&(a=this.emptyMessage(o)),a){var l=[{caption:a,value:""}];return this.completions=new m(l),this.openPopup(this.editor,o,e),this.popup.renderer.setStyle("ace_loading",!1),void this.popup.renderer.setStyle("ace_empty-message",!0)}return this.detach()}if(1==r.length&&r[0].value==o&&!r[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&1==r.length)return this.insertMatch(r[0])}this.completions=!i&&this.showLoadingState?new m(A.completionsForLoading.concat(r),n.filterText):n,this.openPopup(this.editor,o,e),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!i)}.bind(this)),!this.showLoadingState||this.autoShown||this.popup&&this.popup.isOpen||this.$firstOpenTimer.delay(this.stickySelectionDelay/2)}cancelContextMenu(){this.editor.$mouseHandler.cancelContextMenu()}updateDocTooltip(){var e=this.popup,t=this.completions.filtered,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),i=null;if(!n||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var r=this.editor.completers.length,o=0;o<r;o++){var a=this.editor.completers[o];if(a.getDocTooltip&&n.completerId===a.id){i=a.getDocTooltip(n);break}}if(i||"string"==typeof n||(i=n),"string"==typeof i&&(i={docText:i}),!i||!i.docHTML&&!i.docText)return this.hideDocTooltip();this.showDocTooltip(i)}showDocTooltip(e){this.tooltipNode||(this.tooltipNode=c.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",f));var t=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(t.isDark?"ace_dark ":"")+(t.cssClass||"");var n=this.tooltipNode;e.docHTML?n.innerHTML=e.docHTML:e.docText&&(n.textContent=e.docText),n.parentNode||this.popup.container.appendChild(this.tooltipNode);var i=this.popup,r=i.container.getBoundingClientRect();n.style.top=i.container.style.top,n.style.bottom=i.container.style.bottom,n.style.display="block",window.innerWidth-r.right<320?r.left<320?i.isTopdown?(n.style.top=r.bottom+"px",n.style.left=r.left+"px",n.style.right="",n.style.bottom=""):(n.style.top=i.container.offsetTop-n.offsetHeight+"px",n.style.left=r.left+"px",n.style.right="",n.style.bottom=""):(n.style.right=window.innerWidth-r.left+"px",n.style.left=""):(n.style.left=r.right+1+"px",n.style.right="")}hideDocTooltip(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}}onTooltipClick(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}}destroy(){if(this.detach(),this.popup){this.popup.destroy();var e=this.popup.container;e&&e.parentNode&&e.parentNode.removeChild(e)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",p),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null}}A.prototype.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},Backspace:function(e){e.execCommand("backspace"),!s.getCompletionPrefix(e)&&e.completer&&e.completer.detach()},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},A.for=function(e){return e.completer instanceof A||(e.completer&&(e.completer.destroy(),e.completer=null),d.get("sharedPopups")?(A.$sharedInstance||(A.$sharedInstance=new A),e.completer=A.$sharedInstance):(e.completer=new A,e.once("destroy",p))),e.completer},A.startCommand={name:"startAutocomplete",exec:function(e,t){var n=A.for(e);n.autoInsert=!1,n.autoSelect=!0,n.autoShown=!1,n.showPopup(e,t),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};class g{constructor(e){this.initialPosition=e,this.active=!0}insertByIndex(e,t,n){return!(!this.completions||!this.completions.filtered)&&this.insertMatch(e,this.completions.filtered[t],n)}insertMatch(e,t,n){if(!t)return!1;if(e.startOperation({command:{name:"insertMatch"}}),t.completer&&t.completer.insertMatch)t.completer.insertMatch(e,t);else{if(!this.completions)return!1;var i=this.completions.filterText.length,r=0;if(t.range&&t.range.start.row===t.range.end.row&&(i-=this.initialPosition.prefix.length,i+=this.initialPosition.pos.column-t.range.start.column,r+=t.range.end.column-this.initialPosition.pos.column),i||r){var o;o=e.selection.getAllRanges?e.selection.getAllRanges():[e.getSelectionRange()];for(var a,s=0;a=o[s];s++)a.start.column-=i,a.end.column+=r,e.session.remove(a)}t.snippet?u.insertSnippet(e,t.snippet):this.$insertString(e,t),t.completer&&t.completer.onInsert&&"function"==typeof t.completer.onInsert&&t.completer.onInsert(e,t),t.command&&"startAutocomplete"===t.command&&e.execCommand(t.command)}return e.endOperation(),!0}$insertString(e,t){var n=t.value||t;e.execCommand("insertstring",n)}gatherCompletions(e,t){var n=e.getSession(),i=e.getCursorPosition(),r=s.getCompletionPrefix(e),o=[];this.completers=e.completers;var a=e.completers.length;return e.completers.forEach((function(l,c){l.getCompletions(e,n,i,r,(function(n,i){l.hideInlinePreview&&(i=i.map((e=>Object.assign(e,{hideInlinePreview:l.hideInlinePreview})))),!n&&i&&(o=o.concat(i)),t(null,{prefix:s.getCompletionPrefix(e),matches:o,finished:0==--a})}))})),!0}provideCompletions(e,t,n){var i=function(e){var i=e.prefix,r=e.matches;this.completions=new m(r),t.exactMatch&&(this.completions.exactMatch=!0),t.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(i),(e.finished||this.completions.filtered.length)&&n(null,this.completions,e.finished)}.bind(this),r=!0,o=null;if(this.gatherCompletions(e,function(e,t){this.active&&(e&&(n(e,[],!0),this.detach()),0===t.prefix.indexOf(t.prefix)&&(r?o=t:i(t)))}.bind(this)),r=!1,o){var a=o;o=null,i(a)}}detach(){this.active=!1,this.completers&&this.completers.forEach((function(e){"function"==typeof e.cancel&&e.cancel()}))}}class m{constructor(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1,this.ignoreCaption=!1}setFilter(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort((function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)}));var n=null;t=t.filter((function(e){var t=e.snippet||e.caption||e.value;return t!==n&&(n=t,!0)})),this.filtered=t}filterCompletions(e,t){var n=[],i=t.toUpperCase(),r=t.toLowerCase();e:for(var o,a=0;o=e[a];a++){var s=!this.ignoreCaption&&o.caption||o.value||o.snippet;if(s){var l,c,u=-1,d=0,h=0;if(this.exactMatch){if(t!==s.substr(0,t.length))continue e}else{var f=s.toLowerCase().indexOf(r);if(f>-1)h=f;else for(var p=0;p<t.length;p++){var A=s.indexOf(r[p],u+1),g=s.indexOf(i[p],u+1);if((l=A>=0&&(g<0||A<g)?A:g)<0)continue e;(c=l-u-1)>0&&(-1===u&&(h+=10),h+=c,d|=1<<p),u=l}}o.matchMask=d,o.exactMatch=h?0:1,o.$score=(o.score||0)-h,n.push(o)}}return n}}t.jT=A,t.o2=g,t.C3=m},92194:function(e,t,n){"use strict";var i=n(41294).snippetManager,r=n(76634)._;t.V=class{constructor(){this.editor=null}show(e,t,n){if(n=n||"",e&&this.editor&&this.editor!==e&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!e||!t)return!1;this.inlineScreenReader||(this.inlineScreenReader=new r(e));var o=t.snippet?i.getDisplayTextForSnippet(e,t.snippet):t.value;return!(t.hideInlinePreview||!o||!o.startsWith(n)||(this.editor=e,this.inlineScreenReader.setScreenReaderContent(o),""===(o=o.slice(n.length))?e.removeGhostText():e.setGhostText(o),0))}isOpen(){return!!this.editor&&!!this.editor.renderer.$ghostText}hide(){return!!this.editor&&(this.editor.removeGhostText(),!0)}destroy(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)}}},76634:function(e,t){"use strict";t._=class{constructor(e){this.editor=e,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}setScreenReaderContent(e){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",function(){let e=this.popup.getRow(),t=this.popup.renderer.$textLayer,n=t.element.childNodes[e-t.config.firstRow];if(n){let e="doc-tooltip ";for(let t=0;t<this._lines.length;t++)e+=`ace-inline-screenreader-line-${t} `;n.setAttribute("aria-describedby",e)}}.bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=e.split(/\r\n|\r|\n/);const t=this.createCodeBlock();this.screenReaderDiv.appendChild(t)}destroy(){this.screenReaderDiv.remove()}createCodeBlock(){const e=document.createElement("pre");e.setAttribute("id","ace-inline-screenreader");for(let t=0;t<this._lines.length;t++){const n=document.createElement("code");n.setAttribute("id",`ace-inline-screenreader-line-${t}`);const i=document.createTextNode(this._lines[t]);n.appendChild(i),e.appendChild(n)}return e}}},23945:function(e,t,n){"use strict";var i=n(28639).t,r=n(48277).K,o=n(35339).Q,a=n(78946),s=n(66016),l=n(20506),c=n(88814).nls,u=n(44202),d=function(e){return`suggest-aria-id:${e}`},h=u.isSafari?"menu":"listbox",f=u.isSafari?"menuitem":"option",p=u.isSafari?"aria-current":"aria-selected",A=function(e){var t=new i(e);t.$maxLines=4;var n=new r(t);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusTimeout=0,n.$highlightTagPending=!0,n};l.importCssString('\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    margin-left: 0.9em;\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n.ace_autocomplete.ace_loading:after  {\n    content: "";\n    position: absolute;\n    top: 0px;\n    height: 2px;\n    width: 8%;\n    background: blue;\n    z-index: 100;\n    animation: ace_progress 3s infinite linear;\n    animation-delay: 300ms;\n    transform: translateX(-100%) scaleX(1);\n}\n@keyframes ace_progress {\n    0% { transform: translateX(-100%) scaleX(1) }\n    50% { transform: translateX(625%) scaleX(2) } \n    100% { transform: translateX(1500%) scaleX(3) } \n}\n@media (prefers-reduced-motion) {\n    .ace_autocomplete.ace_loading:after {\n        transform: translateX(625%) scaleX(2);\n        animation: none;\n     }\n}\n',"autocompletion.css",!1),t.a9=class{constructor(e){var t=l.createElement("div"),n=A(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.renderer.$textLayer.element.setAttribute("role",h),n.renderer.$textLayer.element.setAttribute("aria-roledescription",c("Autocomplete suggestions")),n.renderer.$textLayer.element.setAttribute("aria-label",c("Autocomplete suggestions")),n.renderer.textarea.setAttribute("aria-hidden","true"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var i,r=function(){};n.focus=r,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=r,n.renderer.$cursorLayer.element.style.opacity="0",n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",(function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),g.start.row=g.end.row=t.row,e.stop()}));var u=new o(-1,0,-1,1/0),g=new o(-1,0,-1,1/0);g.id=n.session.addMarker(g,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?u.id&&(n.session.removeMarker(u.id),u.id=null):u.id=n.session.addMarker(u,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",(function(e){if(i){if(i.x!=e.x||i.y!=e.y){(i=e).scrollTop=n.renderer.scrollTop,n.isMouseOver=!0;var t=i.getDocumentPosition().row;u.start.row!=t&&(u.id||n.setRow(t),v(t))}}else i=e})),n.renderer.on("beforeRender",(function(){if(i&&-1!=u.start.row){i.$pos=null;var e=i.getDocumentPosition().row;u.id||n.setRow(e),v(e,!0)}})),n.renderer.on("afterRender",(function(){var e=n.getRow(),t=n.renderer.$textLayer,i=t.element.childNodes[e-t.config.firstRow],r=document.activeElement;if(i!==n.selectedNode&&n.selectedNode&&(l.removeCssClass(n.selectedNode,"ace_selected"),r.removeAttribute("aria-activedescendant"),n.selectedNode.removeAttribute(p),n.selectedNode.removeAttribute("id")),n.selectedNode=i,i){l.addCssClass(i,"ace_selected");var o=d(e);i.id=o,t.element.setAttribute("aria-activedescendant",o),r.setAttribute("aria-activedescendant",o),i.setAttribute("role",f),i.setAttribute("aria-roledescription",c("item")),i.setAttribute("aria-label",n.getData(e).caption||n.getData(e).value),i.setAttribute("aria-setsize",n.data.length),i.setAttribute("aria-posinset",e+1),i.setAttribute("aria-describedby","doc-tooltip"),i.setAttribute(p,"true")}}));var m=function(){v(-1)},v=function(e,t){e!==u.start.row&&(u.start.row=u.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return u.start.row},a.addListener(n.container,"mouseout",(function(){n.isMouseOver=!1,m()})),n.on("hide",m),n.on("changeSelection",m),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var y=n.session.bgTokenizer;return y.$tokenizeRow=function(e){var t=n.data[e],i=[];if(!t)return i;"string"==typeof t&&(t={value:t});var r=t.caption||t.value||t.name;function o(e,n){e&&i.push({type:(t.className||"")+(n||""),value:e})}for(var a=r.toLowerCase(),s=(n.filterText||"").toLowerCase(),l=0,c=0,u=0;u<=s.length;u++)if(u!=c&&(t.matchMask&1<<u||u==s.length)){var d=s.slice(c,u);c=u;var h=a.indexOf(d,l);if(-1==h)continue;o(r.slice(l,h),""),l=h+d.length,o(r.slice(h,l),"completion-highlight")}return o(r.slice(l,r.length),""),i.push({type:"completion-spacer",value:" "}),t.meta&&i.push({type:"completion-meta",value:t.meta}),t.message&&i.push({type:"completion-message",value:t.message}),i},y.$updateOnChange=r,y.start=r,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.isMouseOver=!1,n.data=[],n.setData=function(e,t){n.filterText=t||"",n.setValue(s.stringRepeat("\n",e.length),-1),n.data=e||[],n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return g.start.row},n.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,e)),g.start.row!=e&&(n.selection.clearSelection(),g.start.row=g.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",(function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()})),n.hide=function(){this.container.style.display="none",n.anchorPos=null,n.anchor=null,n.isOpen&&(n.isOpen=!1,this._signal("hide"))},n.tryShow=function(e,t,r,o){if(!o&&n.isOpen&&n.anchorPos&&n.anchor&&n.anchorPos.top===e.top&&n.anchorPos.left===e.left&&n.anchor===r)return!0;var a=this.container,s=window.innerHeight,l=window.innerWidth,c=this.renderer,u=c.$maxLines*t*1.4,d={top:0,bottom:0,left:0},h=s-e.top-3*this.$borderSize-t,f=e.top-3*this.$borderSize;r||(r=f<=h||h>=u?"bottom":"top"),"top"===r?(d.bottom=e.top-this.$borderSize,d.top=d.bottom-u):"bottom"===r&&(d.top=e.top+t+this.$borderSize,d.bottom=d.top+u);var p=d.top>=0&&d.bottom<=s;if(!o&&!p)return!1;c.$maxPixelHeight=p?null:"top"===r?f:h,"top"===r?(a.style.top="",a.style.bottom=s-d.bottom+"px",n.isTopdown=!1):(a.style.top=d.top+"px",a.style.bottom="",n.isTopdown=!0),a.style.display="";var A=e.left;return A+a.offsetWidth>l&&(A=l-a.offsetWidth),a.style.left=A+"px",a.style.right="",n.isOpen||(n.isOpen=!0,this._signal("show"),i=null),n.anchorPos=e,n.anchor=r,!0},n.show=function(e,t,n){this.tryShow(e,t,n?"bottom":void 0,!0)},n.goTo=function(e){var t=this.getRow(),n=this.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.setRow(t)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n}},t.gz=A,t.zW=d},81560:function(e,t,n){var i=n(35339).Q,r=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(e,t,n,o,a){var s=function(e,t){var n=function(e,t){return e.getTextRange(i.fromPoints({row:0,column:0},t)).split(r).length-1}(e,t),o=e.getValue().split(r),a=Object.create(null),s=o[n];return o.forEach((function(e,t){if(e&&e!==s){var i=Math.abs(n-t),r=o.length-i;a[e]?a[e]=Math.max(r,a[e]):a[e]=r}})),a}(t,n);a(null,Object.keys(s).map((function(e){return{caption:e,value:e,score:s[e],meta:"local"}})))}},63767:function(e,t){"use strict";t.parForEach=function(e,t,n){var i=0,r=e.length;0===r&&n();for(var o=0;o<r;o++)t(e[o],(function(e,t){++i===r&&n(e,t)}))};var n=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,i){i=i||n;for(var r=[],o=t-1;o>=0&&i.test(e[o]);o--)r.push(e[o]);return r.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,i){i=i||n;for(var r=[],o=t;o<e.length&&i.test(e[o]);o++)r.push(e[o]);return r},t.getCompletionPrefix=function(e){var t,n=e.getCursorPosition(),i=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(i,n.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(i,n.column)},t.triggerAutocomplete=function(e,t){return t=null==t?e.session.getPrecedingCharacter():t,e.completers.some((e=>{if(e.triggerCharacters&&Array.isArray(e.triggerCharacters))return e.triggerCharacters.includes(t)}))}},27474:function(e,t,n){"use strict";var i=n(33432),r=n(71743).b;class o{constructor(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,o=t;n.lines[t];)t++;var a=r.getLength(),s=0;for(n.running=!1;t<a;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++s%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}}setTokenizer(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)}setDocument(e){this.doc=e,this.lines=[],this.states=[],this.stop()}fireUpdateEvent(e,t){var n={first:e,last:t};this._signal("update",{data:n})}start(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)}scheduleStart(){this.running||(this.running=setTimeout(this.$worker,700))}$updateOnChange(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()}stop(){this.running&&clearTimeout(this.running),this.running=!1}getTokens(e){return this.lines[e]||this.$tokenizeRow(e)}getState(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"}$tokenizeRow(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}cleanup(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}i.implement(o.prototype,r),t.K=o},63196:function(e,t,n){"use strict";var i=n(1850),r=n(66016),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;t.t=class{constructor(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())}isBidiRow(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)}onChange(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)}getDocumentRow(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e}getSplitIndex(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e}updateRowLine(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?n:i.DOT))}else this.line+=this.showInvisibles?n:i.DOT;var a,s=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||s.isFullWidth(e.charCodeAt(0))?(a="\t"===e?s.getScreenTabSize(t+l):2,l+=a-1,r.stringRepeat(i.DOT,a)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)}updateBidiMap(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}}markAsDirty(){this.currentRow=null}updateCharacterWidths(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}}setShowInvisibles(e){this.showInvisibles=e,this.currentRow=null}setEolChar(e){this.EOL=e}setContentWidth(e){this.contentWidth=e}isRtlLine(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)}setRtlDirection(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)}getPosLeft(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,a=0;!this.session.getOverwrite()&&e<=t&&o[r]%2!=0&&r++;for(var s=0;s<r;s++)a+=this.charWidths[o[s]];return!this.session.getOverwrite()&&e>t&&o[r]%2==0&&(a+=this.charWidths[o[r]]),this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(a+=this.rtlLineOffset),a}getSelections(e,t){var n,i=this.bidiMap,r=i.bidiLevels,o=[],a=0,s=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,d=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,f=0;f<r.length;f++)h=i.logicalFromVisual[f],n=r[f],(c=h>=s&&h<l)&&!u?d=a:!c&&u&&o.push({left:d,width:a-d}),a+=this.charWidths[n],u=c;if(c&&f===r.length&&o.push({left:d,width:a-d}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o}offsetToCol(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,i===r.length-1){o=0;break}o=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!=0&&r[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2==0&&r[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===o&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!=0&&0!==o&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}},63364:function(e){"use strict";var t;e.exports={lineMode:!1,pasteCancelled:function(){return!!(t&&t>Date.now()-50)||(t=!1)},cancel:function(){t=Date.now()}}},32516:function(e,t,n){"use strict";var i=n(33432),r=n(35127).MultiHashHandler,o=n(71743).b;class a extends r{constructor(e,t){super(t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}))}exec(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue}toggleRecording(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)}replay(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}}trimMacro(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}i.implement(a.prototype,o),t.CommandManager=a},44589:function(e,t,n){"use strict";var i=n(66016),r=n(88814),o=n(35339).Q;function a(e,t){return{win:e,mac:t}}t.P=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:a("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:a("Alt-E","F4"),exec:function(e){r.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:a("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:a("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(e){e.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:a("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),a=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var u=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),l),s>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+s)):(a=e.session.doc.getLine(n.row).length>a?a+1:a,e.selection.moveCursorTo(n.row,a))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var a=0;a<i.length;a++)a==i.length-1&&(i[a].end.row===t&&i[a].end.column===n||r.push(new o(i[a].end.row,i[a].end.column,t,n))),0===a?0===i[a].start.row&&0===i[a].start.column||r.push(new o(0,0,i[a].start.row,i[a].start.column)):r.push(new o(i[a-1].end.row,i[a-1].end.column,i[a].start.row,i[a].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),a=0;a<r.length;a++)e.selection.addRange(r[a],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(e){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),e.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:a("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var s=1;s<9;s++)t.P.push({name:"foldToLevel"+s,description:"Fold To Level "+s,level:s,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})},10784:function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=n(35127).HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)},88814:function(e,t,n){e=n.nmd(e);var i=n(66016),r=n(59513),o=n(20506),a=n(31554).o;e.exports=t=new a;var s,l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(l.hasOwnProperty(e))l[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},t.all=function(){return i.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var a=l[t+"Path"];return null==a?a=l.basePath:"/"==i&&(t=i=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.setLoader=function(e){s=e},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(e,i){var o;if(Array.isArray(e))var a=e[0],l=e[1];else"string"==typeof e&&(l=e);var u=function(e){if(e&&!t.$loading[l])return i&&i(e);if(t.$loading[l]||(t.$loading[l]=[]),t.$loading[l].push(i),!(t.$loading[l].length>1)){var o=function(){!function(e,t){"ace/theme/textmate"===e||"./theme/textmate"===e?t(0,n(34344)):s?s(e,t):console.error("loader is not configured")}(l,(function(e,n){n&&(t.$loaded[l]=n),t._emit("load.module",{name:l,module:n});var i=t.$loading[l];t.$loading[l]=null,i.forEach((function(e){e&&e(n)}))}))};if(!t.get("packaged"))return o();r.loadScript(t.moduleUrl(l,a),o),c()}};if(t.dynamicModules[l])t.dynamicModules[l]().then((function(e){e.default?u(e.default):u(e)}));else{try{o=this.$require(l)}catch(e){}u(o||t.$loaded[l])}},t.$require=function(t){if("function"==typeof e.require)return e.require(t)},t.setModuleLoader=function(e,n){t.dynamicModules[e]=n};var c=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.32.9"},16127:function(e){e.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}'},71349:function(e,t,n){"use strict";var i=n(33432),r=n(45051).T,o=n(71743).b,a=n(35339).Q,s=n(13969).M;class l{constructor(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}setValue(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")}getValue(){return this.getAllLines().join(this.getNewLineCharacter())}createAnchor(e,t){return new s(this,e,t)}$detectNewLine(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")}getNewLineCharacter(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}}setNewLineMode(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))}getNewLineMode(){return this.$newLineMode}isNewLine(e){return"\r\n"==e||"\r"==e||"\n"==e}getLine(e){return this.$lines[e]||""}getLines(e,t){return this.$lines.slice(e,t+1)}getAllLines(){return this.getLines(0,this.getLength())}getLength(){return this.$lines.length}getTextRange(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())}getLinesForRange(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t}insertLines(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)}removeLines(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)}insertNewLine(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])}insert(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))}insertInLine(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)}clippedPos(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}}clonePos(e){return{row:e.row,column:e.column}}pos(e,t){return{row:e,column:t}}$clipPosition(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e}insertFullLines(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)}insertMergedLines(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)}remove(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)}removeInLine(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)}removeFullLines(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,o=n?this.getLine(r).length:0,s=i?t+1:t,l=i?0:this.getLine(s).length,c=new a(r,o,s,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u}removeNewLine(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})}replace(e,t){return e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)}applyDeltas(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])}revertDeltas(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])}applyDelta(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))}$safeApplyDelta(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)}$splitAndapplyLargeDelta(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,o=e.start.column,a=0,s=0;a<i;a=s){s+=t-1;var l=n.slice(a,s);l.push(""),this.applyDelta({start:this.pos(r+a,o),end:this.pos(r+s,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(a),e.start.row=r+a,e.start.column=o,this.applyDelta(e,!0)}revertDelta(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})}indexToPosition(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;r<o;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:o-1,column:e+n[o-1].length+i}}positionToIndex(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),a=t||0;a<o;++a)r+=n[a].length+i;return r+e.column}$split(e){return e.split(/\r\n|\r|\n/)}}l.prototype.$autoNewLine="",l.prototype.$newLineMode="auto",i.implement(l.prototype,o),t.y=l},89383:function(e,t,n){"use strict";var i=n(33432),r=n(66016),o=n(63196).t,a=n(88814),s=n(71743).b,l=n(36888).L,c=n(11569).Mode,u=n(35339).Q,d=n(71349).y,h=n(27474).K,f=n(47295).V,p=n(88783).a;class A{constructor(e,t){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++A.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new h((new c).getTokenizer(),this);var n=this;this.bgTokenizer.on("update",(function(e){n._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new d(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),a.resetOptions(this),this.setMode(t),a._signal("session",this),this.destroyed=!1}setDocument(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()}getDocument(){return this.doc}$resetRowCache(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))}$getRowCacheIndex(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(t<o))return r;i=r-1}}return n-1}resetCaches(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)}onChangeFold(e){var t=e.data;this.$resetRowCache(t.start.row)}onChange(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)}setValue(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const t=new p;t.$undoStack=e.history.undo,t.$redoStack=e.history.redo,t.mark=e.history.mark,t.$rev=e.history.rev;const n=new A(e.value);return e.folds.forEach((function(e){n.addFold("...",u.fromPoints(e.start,e.end))})),n.setAnnotations(e.annotations),n.setBreakpoints(e.breakpoints),n.setMode(e.mode),n.setScrollLeft(e.scrollLeft),n.setScrollTop(e.scrollTop),n.setUndoManager(t),n.selection.fromJSON(e.selection),n}toJSON(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map((function(e){return e.range})),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}}toString(){return this.doc.getValue()}getSelection(){return this.selection}getState(e){return this.bgTokenizer.getState(e)}getTokens(e){return this.bgTokenizer.getTokens(e)}getTokenAt(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var o=i.length-1;r=this.getLine(e).length}else for(o=0;o<i.length&&!((r+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null}setUndoManager(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}}markUndoGroup(){this.$syncInformUndoManager&&this.$syncInformUndoManager()}getUndoManager(){return this.$undoManager||this.$defaultUndoManager}getTabString(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"}setUseSoftTabs(e){this.setOption("useSoftTabs",e)}getUseSoftTabs(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs}setTabSize(e){this.setOption("tabSize",e)}getTabSize(){return this.$tabSize}isTabStop(e){return this.$useSoftTabs&&e.column%this.$tabSize==0}setNavigateWithinSoftTabs(e){this.setOption("navigateWithinSoftTabs",e)}getNavigateWithinSoftTabs(){return this.$navigateWithinSoftTabs}setOverwrite(e){this.setOption("overwrite",e)}getOverwrite(){return this.$overwrite}toggleOverwrite(){this.setOverwrite(!this.$overwrite)}addGutterDecoration(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})}removeGutterDecoration(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})}getBreakpoints(){return this.$breakpoints}setBreakpoints(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})}clearBreakpoints(){this.$breakpoints=[],this._signal("changeBreakpoint",{})}setBreakpoint(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})}clearBreakpoint(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})}addMarker(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r}addDynamicMarker(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}}removeMarker(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}getMarkers(e){return e?this.$frontMarkers:this.$backMarkers}highlight(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)}highlightLines(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new u(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r}setAnnotations(e){this.$annotations=e,this._signal("changeAnnotation",{})}getAnnotations(){return this.$annotations||[]}clearAnnotations(){this.setAnnotations([])}$detectNewLine(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"}getWordRange(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else r=/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var a=t;a<n.length&&n.charAt(a).match(r);)a++;return new u(e,o,e,a)}getAWordRange(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n}setNewLineMode(e){this.doc.setNewLineMode(e)}getNewLineMode(){return this.doc.getNewLineMode()}setUseWorker(e){this.setOption("useWorker",e)}getUseWorker(){return this.$useWorker}onReloadTokenizer(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)}setMode(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,a.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)}$onChangeMode(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}this.bgTokenizer.setTokenizer(i),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}}$stopWorker(){this.$worker&&(this.$worker.terminate(),this.$worker=null)}$startWorker(){try{this.$worker=this.$mode.createWorker(this)}catch(e){a.warn("Could not load worker",e),this.$worker=null}}getMode(){return this.$mode}setScrollTop(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))}getScrollTop(){return this.$scrollTop}setScrollLeft(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))}getScrollLeft(){return this.$scrollLeft}getScreenWidth(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth}getLineWidgetMaxWidth(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e}$computeWidth(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],a=o?o.start.row:1/0,s=t.length,l=0;l<s;l++){if(l>a){if((l=o.end.row+1)>=s)break;a=(o=this.$foldData[r++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}}getLine(e){return this.doc.getLine(e)}getLines(e,t){return this.doc.getLines(e,t)}getLength(){return this.doc.getLength()}getTextRange(e){return this.doc.getTextRange(e||this.selection.getRange())}insert(e,t){return this.doc.insert(e,t)}remove(e){return this.doc.remove(e)}removeFullLines(e,t){return this.doc.removeFullLines(e,t)}undoChanges(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}}redoChanges(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}}setUndoSelect(e){this.$undoSelect=e}$getUndoSelection(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,o=0;o<e.length;o++){var a=e[o];a.start&&(i?n(a)?(r=a.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=a.end,1==i.compare(r.row,r.column)&&i.setEnd(r)):(r=a.start,-1==i.compare(r.row,r.column)&&(i=u.fromPoints(a.start,a.start))):i=n(a)?u.fromPoints(a.start,a.end):u.fromPoints(a.start,a.start))}return i}replace(e,t){return this.doc.replace(e,t)}moveText(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var a=e.start.row-e.end.row;(c=a?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),a&&o.start.row>=e.end.row&&(o.start.row+=a,o.end.row+=a)}if(o.end=this.insert(o.start,i),r.length){var s=e.start,l=o.start,c=(a=l.row-s.row,l.column-s.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==s.row&&(e.start.column+=c),e.end.row==s.row&&(e.end.column+=c),e.start.row+=a,e.end.row+=a,e})))}return o}indentRows(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)}outdentRows(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var a=0;a<i&&" "==o.charAt(a);++a);a<i&&"\t"==o.charAt(a)?(n.start.column=a,n.end.column=a+1):(n.start.column=0,n.end.column=a),this.remove(n)}}$moveLines(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var o=new u(e,0,t,Number.MAX_VALUE),a=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,s),a.length&&this.addFolds(a),i}moveLinesUp(e,t){return this.$moveLines(e,t,-1)}moveLinesDown(e,t){return this.$moveLines(e,t,1)}duplicateLines(e,t){return this.$moveLines(e,t,0)}$clipRowToDocument(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))}$clipColumnToRow(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)}$clipPositionToDocument(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}}$clipRangeToDocument(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e}setUseWrapMode(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}}getUseWrapMode(){return this.$useWrapMode}setWrapLimitRange(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))}adjustWrapLimit(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)}$constrainWrapLimit(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e}getWrapLimit(){return this.$wrapLimit}setWrapLimit(e){this.setWrapLimitRange(e,e)}getWrapLimitRange(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}}$updateInternalDataOnChange(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,o=i.row,a=r.row,s=a-o,l=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,s);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(A=this.getFoldLine(r.row)){A.addRemoveChars(r.row,r.column,i.column-r.column),A.shiftRow(-s);var d=this.getFoldLine(o);d&&d!==A&&(d.merge(A),A=d),u=c.indexOf(A)+1}for(;u<c.length;u++)(A=c[u]).start.row>=r.row&&A.shiftRow(-s);a=o}else{var h=Array(s);h.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;if(f.splice.apply(f,h),c=this.$foldData,u=0,A=this.getFoldLine(o)){var p=A.range.compareInside(i.row,i.column);0==p?(A=A.split(i.row,i.column))&&(A.shiftRow(s),A.addRemoveChars(a,0,r.column-i.column)):-1==p&&(A.addRemoveChars(o,0,r.column-i.column),A.shiftRow(s)),u=c.indexOf(A)+1}for(;u<c.length;u++){var A;(A=c[u]).start.row>=o&&A.shiftRow(s)}}else s=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),s=-s),(A=this.getFoldLine(o))&&A.addRemoveChars(o,i.column,s);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,a):this.$updateRowLengthCache(o,a),l}$updateRowLengthCache(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null}$updateWrapData(e,t){var n,i,r=this.doc.getAllLines(),o=this.getTabSize(),a=this.$wrapData,s=this.$wrapLimit,l=e;for(t=Math.min(t,r.length-1);l<=t;)(i=this.getFoldLine(l,i))?(n=[],i.walk(function(e,t,i,o){var a;if(null!=e){(a=this.$getDisplayTokens(e,n.length))[0]=v;for(var s=1;s<a.length;s++)a[s]=y}else a=this.$getDisplayTokens(r[t].substring(o,i),n.length);n=n.concat(a)}.bind(this),i.end.row,r[i.end.row].length+1),a[i.start.row]=this.$computeWrapSplits(n,s,o),l=i.end.row+1):(n=this.$getDisplayTokens(r[l]),a[l]=this.$computeWrapSplits(n,s,o),l++)}$computeWrapSplits(e,t,n){if(0==e.length)return[];var i=[],r=e.length,o=0,a=0,s=this.$wrapAsCode,l=this.$indentedSoftWrap,c=t<=Math.max(2*n,8)||!1===l?0:Math.floor(t/2);function u(t){for(var r=t-o,u=o;u<t;u++){var h=e[u];12!==h&&2!==h||(r-=1)}i.length||(d=function(){var t=0;if(0===c)return t;if(l)for(var i=0;i<e.length;i++){var r=e[i];if(r==w)t+=1;else{if(r!=x){if(r==C)continue;break}t+=n}}return s&&!1!==l&&(t+=n),Math.min(t,c)}(),i.indent=d),a+=r,i.push(a),o=t}for(var d=0;r-o>t-d;){var h=o+t-d;if(e[h-1]>=w&&e[h]>=w)u(h);else if(e[h]!=v&&e[h]!=y){for(var f=Math.max(h-(t-(t>>2)),o-1);h>f&&e[h]<v;)h--;if(s){for(;h>f&&e[h]<v;)h--;for(;h>f&&e[h]==b;)h--}else for(;h>f&&e[h]<w;)h--;h>f?u(++h):(e[h=o+t]==m&&h--,u(h-d))}else{for(;h!=o-1&&e[h]!=v;h--);if(h>o){u(h);continue}for(h=o+t;h<e.length&&e[h]==y;h++);if(h==e.length)break;u(h)}}return i}$getDisplayTokens(e,t){var n,i=[];t=t||0;for(var r=0;r<e.length;r++){var o=e.charCodeAt(r);if(9==o){n=this.getScreenTabSize(i.length+t),i.push(x);for(var a=1;a<n;a++)i.push(C)}else 32==o?i.push(w):o>39&&o<48||o>57&&o<64?i.push(b):o>=4352&&_(o)?i.push(g,m):i.push(g)}return i}$getStringScreenWidth(e,t,n){if(0==t)return[0,0];var i,r;for(null==t&&(t=1/0),n=n||0,r=0;r<e.length&&(9==(i=e.charCodeAt(r))?n+=this.getScreenTabSize(n):i>=4352&&_(i)?n+=2:n+=1,!(n>t));r++);return[n,r]}getRowLength(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t}getRowLineCount(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1}getRowWrapIndent(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0}getScreenLastRowColumn(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)}getDocumentLastRowColumn(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)}getDocumentLastRowColumnPosition(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)}getRowSplitData(e){return this.$useWrapMode?this.$wrapData[e]:void 0}getScreenTabSize(e){return this.$tabSize-(e%this.$tabSize|0)}screenToDocumentRow(e,t){return this.screenToDocumentPosition(e,t).row}screenToDocumentColumn(e,t){return this.screenToDocumentPosition(e,t).column}screenToDocumentPosition(e,t,n){if(e<0)return{row:0,column:0};var i,r,o=0,a=0,s=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),d=c.length;if(d&&u>=0){s=c[u],o=this.$docRowCache[u];var h=e>c[d-1]}else h=!d;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),A=p?p.start.row:1/0;s<=e&&!(s+(l=this.getRowLength(o))>e||o>=f);)s+=l,++o>A&&(o=p.end.row+1,A=(p=this.getNextFoldLine(o,p))?p.start.row:1/0),h&&(this.$docRowCache.push(o),this.$screenRowCache.push(s));if(p&&p.start.row<=o)i=this.getFoldDisplayLine(p),o=p.start.row;else{if(s+l<=e||o>f)return{row:f,column:this.getLine(f).length};i=this.getLine(o),p=null}var g=0,m=Math.floor(e-s);if(this.$useWrapMode){var v=this.$wrapData[o];v&&(r=v[m],m>0&&v.length&&(g=v.indent,a=v[m-1]||v[v.length-1],i=i.substring(a)))}return void 0!==n&&this.$bidiHandler.isBidiRow(s+m,o,m)&&(t=this.$bidiHandler.offsetToCol(n)),a+=this.$getStringScreenWidth(i,t-g)[1],this.$useWrapMode&&a>=r&&(a=r-1),p?p.idxToPosition(a):{row:o,column:a}}documentToScreenPosition(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,r=0,o=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var a,s=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){s=l[c],r=this.$screenRowCache[c];var d=e>l[u-1]}else d=!u;for(var h=this.getNextFoldLine(s),f=h?h.start.row:1/0;s<e;){if(s>=f){if((a=h.end.row+1)>e)break;f=(h=this.getNextFoldLine(a,h))?h.start.row:1/0}else a=s+1;r+=this.getRowLength(s),s=a,d&&(this.$docRowCache.push(s),this.$screenRowCache.push(r))}var p="";h&&s>=f?(p=this.getFoldDisplayLine(h,e,t),o=h.start.row):(p=this.getLine(e).substring(0,t),o=e);var A=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){for(var m=0;p.length>=g[m];)r++,m++;p=p.substring(g[m-1]||0,p.length),A=m>0?g.indent:0}}return this.lineWidgets&&this.lineWidgets[s]&&this.lineWidgets[s].rowsAbove&&(r+=this.lineWidgets[s].rowsAbove),{row:r,column:A+this.$getStringScreenWidth(p)[0]}}documentToScreenColumn(e,t){return this.documentToScreenPosition(e,t).column}documentToScreenRow(e,t){return this.documentToScreenPosition(e,t).row}getScreenLength(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(s=0,(t=this.$foldData[s++])?t.start.row:1/0);i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[s++])?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,s=0;s<a.length;s++)e-=(t=a[s]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e}$setFontMetrics(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,o;for(n||(n=1/0),i=i||0,o=0;o<t.length&&!((i+="\t"===(r=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);o++);return[i,o]})}getPrecedingCharacter(){var e=this.selection.getCursor();return 0===e.column?0===e.row?"":this.doc.getNewLineCharacter():this.getLine(e.row)[e.column-1]}destroy(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()}}A.$uid=0,A.prototype.$modes=a.$modes,A.prototype.getValue=A.prototype.toString,A.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},A.prototype.$overwrite=!1,A.prototype.$mode=null,A.prototype.$modeId=null,A.prototype.$scrollTop=0,A.prototype.$scrollLeft=0,A.prototype.$wrapLimit=80,A.prototype.$useWrapMode=!1,A.prototype.$wrapLimitRange={min:null,max:null},A.prototype.lineWidgets=null,A.prototype.isFullWidth=_,i.implement(A.prototype,s);var g=1,m=2,v=3,y=4,b=9,w=10,x=11,C=12;function _(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}n(12393).M.call(A.prototype),n(65806).k.call(A.prototype),a.defineOptions(A.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.f=A},65806:function(e,t,n){"use strict";var i=n(49400).E,r=n(35339).Q;t.k=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),a=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(a||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},a=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!a)return null;if(a[1]){if(!(s=this.$findClosingBracket(a[1],e)))return null;t=r.fromPoints(e,s),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var s;if(!(s=this.$findOpeningBracket(a[2],e)))return null;t=r.fromPoints(s,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,o=!t&&n.charAt(e.column-1),a=o&&o.match(i);if(a||(o=(void 0===t||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},a=o&&o.match(i)),!a)return null;var s=new r(e.row,e.column-1,e.row,e.column),l=a[1]?this.$findClosingBracket(a[1],e):this.$findOpeningBracket(a[2],e);return l?[s,new r(l.row,l.column,l.row,l.column+1)]:[s]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,a=new i(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var l=t.column-a.getCurrentTokenColumn()-2,c=s.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(o-=1))return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{s=a.stepBackward()}while(s&&!n.test(s.type));if(null==s)break;l=(c=s.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,a=new i(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var l=t.column-a.getCurrentTokenColumn();;){for(var c=s.value,u=c.length;l<u;){var d=c.charAt(l);if(d==r){if(0==(o-=1))return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else d==e&&(o+=1);l+=1}do{s=a.stepForward()}while(s&&!n.test(s.type));if(null==s)break;l=0}return null}},this.getMatchingTags=function(e){var t=new i(this,e.row,e.column),n=this.$findTagName(t);if(n)return"<"===t.stepBackward().value?this.$findClosingTag(t,n):this.$findOpeningTag(t,n)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,i=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=i?e.stepBackward():e.stepForward())&&("/>"===t.value?i=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,i=t.value,o=t.value,a=0,s=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),c=!1;do{if(n=t,t=e.stepForward()){if(">"===t.value&&!c){var u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(-1!==t.type.indexOf("tag-name")){if(o===(i=t.value))if("<"===n.value)a++;else if("</"===n.value&&--a<0){e.stepBackward();var d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(!(t=e.stepForward())||">"!==t.value)return;var f=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else o===i&&"/>"===t.value&&--a<0&&(f=h=d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),u=new r(l.end.row,l.end.column,l.end.row,l.end.column+1))}}while(t&&a>=0);if(s&&u&&d&&f&&l&&h)return{openTag:new r(s.start.row,s.start.column,u.end.row,u.end.column),closeTag:new r(d.start.row,d.start.column,f.end.row,f.end.column),openTagName:l,closeTagName:h}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),i=t.value,o=0,a=e.getCurrentTokenRow(),s=e.getCurrentTokenColumn(),l=s+2,c=new r(a,s,a,l);e.stepForward();var u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if((t=e.stepForward())&&">"===t.value){var d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=n,a=e.getCurrentTokenRow(),l=(s=e.getCurrentTokenColumn())+t.value.length,n=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===n.value){if(++o>0){var h=new r(a,s,a,l),f=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var p=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===n.value&&o--}else if("/>"===t.value){for(var A=0,g=n;g;){if(-1!==g.type.indexOf("tag-name")&&g.value===i){o--;break}if("<"===g.value)break;g=e.stepBackward(),A++}for(var m=0;m<A;m++)e.stepForward()}}while(n&&o<=0);return f&&p&&c&&d&&h&&u?{openTag:new r(f.start.row,f.start.column,p.end.row,p.end.column),closeTag:new r(c.start.row,c.start.column,d.end.row,d.end.column),openTagName:h,closeTagName:u}:void 0}}}},21133:function(e,t,n){"use strict";var i=n(2846).U;class r extends i{constructor(e,t){super(),this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]}toString(){return'"'+this.placeholder+'" '+this.range.toString()}setFoldLine(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))}clone(){var e=this.range.clone(),t=new r(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t}addSubFold(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,o(t.start,n),o(t.end,n);for(var i=e.start.row,r=e.start.column,a=0,s=-1;a<this.subFolds.length&&1==(s=this.subFolds[a].range.compare(i,r));a++);var l=this.subFolds[a],c=0;if(0==s){if(l.range.containsRange(e))return l.addSubFold(e);c=1}i=e.range.end.row,r=e.range.end.column;var u=a;for(s=-1;u<this.subFolds.length&&1==(s=this.subFolds[u].range.compare(i,r));u++);0==s&&u++;for(var d=this.subFolds.splice(a,u-a,e),h=0==s?d.length-1:d.length,f=c;f<h;f++)e.addSubFold(d[f]);return e.setFoldLine(this.foldLine),e}}restoreRange(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}function o(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}t.a=r},16262:function(e,t,n){"use strict";var i=n(35339).Q;class r{constructor(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}shiftRow(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))}addFold(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this}containsRow(e){return e>=this.start.row&&e<=this.end.row}walk(e,t,n){var i,r,o=0,a=this.folds,s=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<a.length;l++){if(-1==(r=(i=a[l]).range.compareStart(t,n)))return void e(null,t,n,o,s);if(!e(null,i.start.row,i.start.column,o,s)&&e(i.placeholder,i.start.row,i.start.column,o)||0===r)return;s=!i.sameRow,o=i.end.column}e(null,t,n,o,s)}getNextFoldTo(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null}addRemoveChars(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var a=(r=this.folds).indexOf(i);for(0===a&&(this.start.column+=n);a<r.length;a++){if((i=r[a]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}}split(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,o=this.folds,a=this.foldData,s=o.indexOf(i),l=o[s-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(s,o.length-s);var c=new r(a,o);return a.splice(a.indexOf(this)+1,0,c),c}merge(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)}toString(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")}idxToPosition(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}t.M=r},12393:function(e,t,n){"use strict";var i=n(35339).Q,r=n(16262).M,o=n(21133).a,a=n(49400).E,s=n(3934).C;t.M=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var a=r[o].range;if(a.contains(e,t)){if(1==n&&a.isEnd(e,t)&&!a.isEmpty())continue;if(-1==n&&a.isStart(e,t)&&!a.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var a=i[o].range.compareRange(e);if(2!=a){if(-2==a)break;for(var s=i[o].folds,l=0;l<s.length;l++){var c=s[l];if(-2==(a=c.range.compareRange(e)))break;if(2!=a){if(42==a)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,o,a={end:{column:0}},s=0;s<i.folds.length;s++){var l=(o=i.folds[s]).range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(a.end.column,o.start.column);break}if(0===l)return null;a=o}return r||(r=this.getLine(o.start.row).substring(a.end.column)),-1==n?r.substring(0,t-a.end.column):1==n?r.substring(t-a.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],a=o.end.row,s=o.start.row;if(a>=t){s<t&&(s>=e?i-=t-s:i=0);break}a>=e&&(i-=s>=e?a-s:a-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,a=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var s=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,d=this.getFoldAt(s,l,1),h=this.getFoldAt(c,u,-1);if(d&&h==d)return d.addSubFold(n);d&&!d.range.isStart(s,l)&&this.removeFold(d),h&&!h.range.isEnd(c,u)&&this.removeFold(h);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),n.collapseChildren||f.forEach((function(e){n.addSubFold(e)})));for(var p=0;p<i.length;p++){var A=i[p];if(c==A.start.row){A.addFold(n),a=!0;break}if(s==A.end.row){if(A.addFold(n),a=!0,!n.sameRow){var g=i[p+1];if(g&&g.start.row==c){A.merge(g);break}}break}if(c<=A.start.row)break}return a||(A=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var a=t.split(e.start.row,e.start.column);(o=a.folds).shift(),a.start.row=o[0].start.row,a.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e)n=new i(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new i(e,0,e,this.getLine(e).length);else if("row"in e)n=i.fromPoints(e,e);else{if(Array.isArray(e))return r=[],e.forEach((function(e){r=r.concat(this.unfold(e))}),this),r;n=e}for(var o=r=this.getFoldsInRangeList(n);1==r.length&&i.comparePoints(r[0].start,n.start)<0&&i.comparePoints(r[0].end,n.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(r):this.expandFolds(r),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,a="";return e.walk((function(e,t,n,s){if(!(t<i)){if(t==i){if(n<r)return;s=Math.max(r,s)}a+=null!=e?e:o.getLine(t).substring(s,n)}}),t,n),a},this.getDisplayLine=function(e,t,n,i){var r,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var a="...";if(!i.isMultiLine()){if((a=this.getTextRange(i)).length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,i)}},this.getCommentFoldRange=function(e,t,n){var r=new a(this,e,t),o=r.getCurrentToken(),s=o&&o.type;if(o&&/^comment|string/.test(s)){"comment"==(s=s.match(/comment|string/)[0])&&(s+="|doc-start|\\.doc");var l=new RegExp(s),c=new i;if(1!=n){do{o=r.stepBackward()}while(o&&l.test(o.type)&&!/^comment.end/.test(o.type));o=r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+(/^comment.start/.test(o.type)?o.value.length:2),r=new a(this,e,t),-1!=n){var u=-1;do{if(o=r.stepForward(),-1==u){var d=this.getState(r.$row);l.test(d)||(u=r.$row)}else if(r.$row>u)break}while(o&&l.test(o.type)&&!/^comment.start/.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn(),/^comment.end/.test(o.type)||(c.end.column+=o.value.length-2),c}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]&&(!i||i(o))){var a=this.getFoldWidgetRange(o);a&&a.isMultiLine()&&a.end.row<=t&&a.start.row>=e&&(o=a.end.row,a.collapseChildren=n,this.addFold("...",a))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var a=this.getFoldWidgetRange(r);if(i||(i=a),a&&a.end.row>=e)break}r--}return{range:-1!==r&&a,firstRange:i}},this.onFoldWidgetClick=function(e,t){t instanceof s&&(t=t.domEvent);var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var a=this.getFoldWidgetRange(e,!0);if(a&&!a.isMultiLine()&&(o=this.getFoldAt(a.start.row,a.start.column,1))&&a.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var l=s.range.start.row+1,c=s.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=a?a.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):a&&(t.all&&(a.collapseChildren=1e4),this.addFold("...",a));return a}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}},48277:function(e,t,n){"use strict";var i=n(33432),r=n(20506),o=n(66016),a=n(44202),s=n(6375).k,l=n(77418).e,c=n(14764).e,u=n(59828).$,d=n(89383).f,h=n(18308).v,f=n(35339).Q,p=n(71743).b,A=n(32516).CommandManager,g=n(44589).P,m=n(88814),v=n(49400).E,y=n(65592).G,b=n(76832).S,w=n(88814).nls,x=n(63364),C=n(17776);class _{constructor(e,t,n){this.session,this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++_.$uid,this.commands=new A(a.isMac?"mac":"win",g),"object"==typeof document&&(this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new d("")),m.resetOptions(this),n&&this.setOptions(n),m._signal("editor",this)}$initOperationListeners(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)}startOperation(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()}endOperation(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}}$historyTracker(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}}setKeyboardHandler(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;m.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()}getKeyboardHandler(){return this.keyBinding.getKeyboardHandler()}setSession(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}}getSession(){return this.session}setValue(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e}getValue(){return this.session.getValue()}getSelection(){return this.selection}resize(e){this.renderer.onResize(e)}setTheme(e,t){this.renderer.setTheme(e,t)}getTheme(){return this.renderer.getTheme()}setStyle(e){this.renderer.setStyle(e)}unsetStyle(e){this.renderer.unsetStyle(e)}getFontSize(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize}setFontSize(e){this.setOption("fontSize",e)}$highlightBrackets(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),i=e.getKeyboardHandler(),r=i&&i.$getDirectionForHighlight&&i.$getDirectionForHighlight(e),o=t.getMatchingBracketRanges(n,r);if(!o){var a=new v(t,n.row,n.column).getCurrentToken();if(a&&/\b(?:tag-open|tag-name)/.test(a.type)){var s=t.getMatchingTags(n);s&&(o=[s.openTagName,s.closeTagName])}}if(!o&&t.$mode.getMatching&&(o=t.$mode.getMatching(e.session)),o){var l="ace_bracket";Array.isArray(o)?1==o.length&&(l="ace_error_bracket"):o=[o],2==o.length&&(0==f.comparePoints(o[0].end,o[1].start)?o=[f.fromPoints(o[0].start,o[1].end)]:0==f.comparePoints(o[0].start,o[1].end)&&(o=[f.fromPoints(o[1].start,o[0].end)])),t.$bracketHighlight={ranges:o,markerIds:o.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}}focus(){this.textInput.focus()}isFocused(){return this.textInput.isFocused()}blur(){this.textInput.blur()}onFocus(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))}onBlur(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))}$cursorChange(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()}onDocumentChange(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()}onTokenizerUpdate(e){var t=e.data;this.renderer.updateLines(t.first,t.last)}onScrollTopChange(){this.renderer.scrollToY(this.session.getScrollTop())}onScrollLeftChange(){this.renderer.scrollToX(this.session.getScrollLeft())}onCursorChange(){this.$cursorChange(),this._signal("changeSelection")}$updateHighlightActiveLine(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))}onSelectionChange(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")}$getSelectionHighLightRegexp(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),o=r.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),s=r.substring(n-1,i+1);if(a.test(s))return a}}}onChangeFrontMarker(){this.renderer.updateFrontMarkers()}onChangeBackMarker(){this.renderer.updateBackMarkers()}onChangeBreakpoint(){this.renderer.updateBreakpoints()}onChangeAnnotation(){this.renderer.setAnnotations(this.session.getAnnotations())}onChangeMode(e){this.renderer.updateText(),this._emit("changeMode",e)}onChangeWrapLimit(){this.renderer.updateFull()}onChangeWrapMode(){this.renderer.onResize(!0)}onChangeFold(){this.$updateHighlightActiveLine(),this.renderer.updateFull()}getSelectedText(){return this.session.getTextRange(this.getSelectionRange())}getCopyText(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var o=i[r];r&&i[r-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var a={text:e};return this._signal("copy",a),x.lineMode=!!n&&a.text,a.text}onCopy(){this.commands.exec("copy",this)}onCut(){this.commands.exec("cut",this)}onPaste(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)}$handlePaste(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===x.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,a=!(2!=r.length||r[0]&&r[1]);if(r.length!=o.length||a)return this.commands.exec("insertstring",this,t);for(var s=o.length;s--;){var l=o[s];l.isEmpty()||i.remove(l),i.insert(l.start,r[s])}}}execCommand(e,t){return this.commands.exec(e,this,t)}insert(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((a=f.fromPoints(r,r)).end.column+=e.length,this.session.remove(a));else{var a=this.getSelectionRange();r=this.session.remove(a),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(r.row);if(r.column>s.search(/\S|$/)){var l=s.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),d=(s=n.getLine(r.row),i.checkOutdent(u,s,e));if(n.insert(r,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(r.row,c+o.selection[0],r.row,c+o.selection[1])):this.selection.setSelectionRange(new f(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var h=i.getNextLineIndent(u,s.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},h)}d&&i.autoOutdent(u,n,r.row)}}autoIndent(){for(var e=this.session,t=e.getMode(),n=this.selection.isEmpty()?[new f(0,0,e.doc.getLength()-1,0)]:this.selection.getAllRanges(),i="",r="",o="",a=e.getTabString(),s=0;s<n.length;s++)for(var l=n[s].start.row,c=n[s].end.row,u=l;u<=c;u++){u>0&&(i=e.getState(u-1),r=e.getLine(u-1),o=t.getNextLineIndent(i,r,a));var d=e.getLine(u),h=t.$getIndent(d);if(o!==h){if(h.length>0){var p=new f(u,0,u,h.length);e.remove(p)}o.length>0&&e.insert({row:u,column:0},o)}t.autoOutdent(i,e,u)}}onTextInput(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()}applyComposition(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))}onCommandKey(e,t,n){return this.keyBinding.onCommandKey(e,t,n)}setOverwrite(e){this.session.setOverwrite(e)}getOverwrite(){return this.session.getOverwrite()}toggleOverwrite(){this.session.toggleOverwrite()}setScrollSpeed(e){this.setOption("scrollSpeed",e)}getScrollSpeed(){return this.getOption("scrollSpeed")}setDragDelay(e){this.setOption("dragDelay",e)}getDragDelay(){return this.getOption("dragDelay")}setSelectionStyle(e){this.setOption("selectionStyle",e)}getSelectionStyle(){return this.getOption("selectionStyle")}setHighlightActiveLine(e){this.setOption("highlightActiveLine",e)}getHighlightActiveLine(){return this.getOption("highlightActiveLine")}setHighlightGutterLine(e){this.setOption("highlightGutterLine",e)}getHighlightGutterLine(){return this.getOption("highlightGutterLine")}setHighlightSelectedWord(e){this.setOption("highlightSelectedWord",e)}getHighlightSelectedWord(){return this.$highlightSelectedWord}setAnimatedScroll(e){this.renderer.setAnimatedScroll(e)}getAnimatedScroll(){return this.renderer.getAnimatedScroll()}setShowInvisibles(e){this.renderer.setShowInvisibles(e)}getShowInvisibles(){return this.renderer.getShowInvisibles()}setDisplayIndentGuides(e){this.renderer.setDisplayIndentGuides(e)}getDisplayIndentGuides(){return this.renderer.getDisplayIndentGuides()}setHighlightIndentGuides(e){this.renderer.setHighlightIndentGuides(e)}getHighlightIndentGuides(){return this.renderer.getHighlightIndentGuides()}setShowPrintMargin(e){this.renderer.setShowPrintMargin(e)}getShowPrintMargin(){return this.renderer.getShowPrintMargin()}setPrintMarginColumn(e){this.renderer.setPrintMarginColumn(e)}getPrintMarginColumn(){return this.renderer.getPrintMarginColumn()}setReadOnly(e){this.setOption("readOnly",e)}getReadOnly(){return this.getOption("readOnly")}setBehavioursEnabled(e){this.setOption("behavioursEnabled",e)}getBehavioursEnabled(){return this.getOption("behavioursEnabled")}setWrapBehavioursEnabled(e){this.setOption("wrapBehavioursEnabled",e)}getWrapBehavioursEnabled(){return this.getOption("wrapBehavioursEnabled")}setShowFoldWidgets(e){this.setOption("showFoldWidgets",e)}getShowFoldWidgets(){return this.getOption("showFoldWidgets")}setFadeFoldWidgets(e){this.setOption("fadeFoldWidgets",e)}getFadeFoldWidgets(){return this.getOption("fadeFoldWidgets")}remove(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var a=n.getLine(t.end.row);/^\s+$/.test(a)&&(t.end.column=a.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()}removeWordRight(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeWordLeft(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeToLineStart(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeToLineEnd(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()}splitLine(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)}setGhostText(e,t){this.session.widgetManager||(this.session.widgetManager=new y(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(e,t)}removeGhostText(){this.session.widgetManager&&this.renderer.removeGhostText()}transposeLetters(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new f(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new f(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}}toLowerCase(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)}toUpperCase(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)}indent(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n))return u=this.$getSelectedRows(),void e.indentRows(u.first,u.last,"\t")}var i=e.getLine(t.start.row),r=t.start,a=e.getTabSize(),s=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=a-s%a,c=o.stringRepeat(" ",l);else{for(l=s%a;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")}blockIndent(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")}blockOutdent(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())}sortLines(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new f(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}}toggleCommentLines(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)}toggleBlockComment(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)}getNumberAt(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null}modifyNumber(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new f(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var a=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,s=o.start+o.value.length-a,l=parseFloat(o.value);l*=Math.pow(10,s),a!==o.end&&n<a?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e;var c=(l/=Math.pow(10,s)).toFixed(s),u=new f(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()}toggleWord(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),a=t-i-1;a<0&&(a=0);var s=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){l=s+t.length,a>=s&&a<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,s+i),c.selection.selectTo(e,l+i)),s=l}));for(var u,d=this.$toggleWordPairs,h=0;h<d.length;h++)for(var f=d[h],p=0;p<=1;p++){var A=+!p,g=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(f[p])+")\\s?$","i"));g&&n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(g[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(o.escapeRegExp(f[p]),"i"),(function(e){var t=f[A];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+f[A].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}}findLinkAt(e,t){var n=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),i=t;i<0&&(i=0);var r,o=0,a=0;for(let e of n){if(a=o+e.length,i>=o&&i<=a&&e.match(/((?:https?|ftp):\/\/[\S]+)/)){r=e.replace(/[\s:.,'";}\]]+$/,"");break}o=a}return r}openLink(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t}removeLines(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()}duplicateSelection(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,a=t.insert(o,t.getTextRange(n));n.start=o,n.end=a,e.setSelectionRange(n,i)}}moveLinesDown(){this.$moveLines(1,!1)}moveLinesUp(){this.$moveLines(-1,!1)}moveText(e,t,n){return this.session.moveText(e,t,n)}copyLinesUp(){this.$moveLines(-1,!0)}copyLinesDown(){this.$moveLines(1,!0)}$moveLines(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var a=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,l=0,c=a.length,u=0;u<c;u++){var d=u;a[u].moveBy(s,0);for(var h=(n=this.$getSelectedRows(a[u])).first,f=n.last;++u<c;){l&&a[u].moveBy(l,0);var p=this.$getSelectedRows(a[u]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(u--,s=this.session.$moveLines(h,f,t?0:e),t&&-1==e&&(d=u+1);d<=u;)a[d].moveBy(s,0),d++;t||(s=0),l+=s}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}}$getSelectedRows(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}}onCompositionStart(e){this.renderer.showComposition(e)}onCompositionUpdate(e){this.renderer.setCompositionText(e)}onCompositionEnd(){this.renderer.hideComposition()}getFirstVisibleRow(){return this.renderer.getFirstVisibleRow()}getLastVisibleRow(){return this.renderer.getLastVisibleRow()}isRowVisible(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()}isRowFullyVisible(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()}$getVisibleRowCount(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1}$moveByPage(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)}selectPageDown(){this.$moveByPage(1,!0)}selectPageUp(){this.$moveByPage(-1,!0)}gotoPageDown(){this.$moveByPage(1,!1)}gotoPageUp(){this.$moveByPage(-1,!1)}scrollPageDown(){this.$moveByPage(1)}scrollPageUp(){this.$moveByPage(-1)}scrollToRow(e){this.renderer.scrollToRow(e)}scrollToLine(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)}centerSelection(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)}getCursorPosition(){return this.selection.getCursor()}getCursorPositionScreen(){return this.session.documentToScreenPosition(this.getCursorPosition())}getSelectionRange(){return this.selection.getRange()}selectAll(){this.selection.selectAll()}clearSelection(){this.selection.clearSelection()}moveCursorTo(e,t){this.selection.moveCursorTo(e,t)}moveCursorToPosition(e){this.selection.moveCursorToPosition(e)}jumpToMatching(e,t){var n=this.getCursorPosition(),i=new v(this.session,n.row,n.column),r=i.getCurrentToken(),o=0;r&&-1!==r.type.indexOf("tag-name")&&(r=i.stepBackward());var a=r||i.stepForward();if(a){var s,l,c=!1,u={},d=n.column-a.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(a.value.match(/[{}()\[\]]/g)){for(;d<a.value.length&&!c;d++)if(h[a.value[d]])switch(l=h[a.value[d]]+"."+a.type.replace("rparen","lparen"),isNaN(u[l])&&(u[l]=0),a.value[d]){case"(":case"[":case"{":u[l]++;break;case")":case"]":case"}":u[l]--,-1===u[l]&&(s="bracket",c=!0)}}else-1!==a.type.indexOf("tag-name")&&(isNaN(u[a.value])&&(u[a.value]=0),"<"===r.value&&o>1?u[a.value]++:"</"===r.value&&u[a.value]--,-1===u[a.value]&&(s="tag",c=!0));c||(r=a,o++,a=i.stepForward(),d=0)}while(a&&!c);if(s){var p,A;if("bracket"===s)(p=this.session.getBracketRange(n))||(A=(p=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+d-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+d-1)).start,(t||A.row===n.row&&Math.abs(A.column-n.column)<2)&&(p=this.session.getBracketRange(A)));else if("tag"===s){if(!a||-1===a.type.indexOf("tag-name"))return;if(0===(p=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var g=this.session.getMatchingTags(n);g&&(g.openTag.contains(n.row,n.column)?A=(p=g.closeTag).start:(p=g.openTag,A=g.closeTag.start.row===n.row&&g.closeTag.start.column===n.column?p.end:p.start))}A=A||p.start}(A=p&&p.cursor||A)&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(A.row,A.column):this.selection.moveTo(A.row,A.column))}}}gotoLine(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)}navigateTo(e,t){this.selection.moveTo(e,t)}navigateUp(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)}navigateDown(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)}navigateLeft(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()}navigateRight(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()}navigateLineStart(){this.selection.moveCursorLineStart(),this.clearSelection()}navigateLineEnd(){this.selection.moveCursorLineEnd(),this.clearSelection()}navigateFileEnd(){this.selection.moveCursorFileEnd(),this.clearSelection()}navigateFileStart(){this.selection.moveCursorFileStart(),this.clearSelection()}navigateWordRight(){this.selection.moveCursorWordRight(),this.clearSelection()}navigateWordLeft(){this.selection.moveCursorWordLeft(),this.clearSelection()}replace(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i}replaceAll(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),i}$tryReplace(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null}getLastSearchOptions(){return this.$search.getOptions()}find(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))}findNext(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)}findPrevious(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)}revealRange(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)}undo(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)}redo(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)}destroy(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()}setAutoScrollEditorIntoView(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),a=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),s=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,a=e.layerConfig,s=o.top-a.offset;null!=(i=o.top>=0&&s+t.top<0||!(o.top<a.height&&o.top+t.top+a.lineHeight>window.innerHeight)&&null)&&(r.style.top=s+"px",r.style.left=o.left+"px",r.style.height=a.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",a))}}}$resetCursorStyle(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}prompt(e,t,n){var i=this;m.loadModule("ace/ext/prompt",(function(r){r.prompt(i,e,t,n)}))}}_.$uid=0,_.prototype.curOp=null,_.prototype.prevOp={},_.prototype.$mergeableCommands=["backspace","del","insertstring"],_.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],i.implement(_.prototype,p),m.defineOptions(_.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?k.attach(this):k.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?k.attach(this):k.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var t=r.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(e){var t,n={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(e){e.blur(),e.renderer.scroller.focus()},readOnly:!0},i=function(e){if(e.target==this.renderer.scroller&&e.keyCode===C.enter){e.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0),this.focus()}};e?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(a.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",w("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",w("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",i.bind(this)),this.commands.addCommand(n),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",w("editor")),this.renderer.$gutter.setAttribute("aria-label",w("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new b(this)),t.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",i.bind(this)),this.commands.removeCommand(n),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var k={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.K=_},86581:function(e,t,n){"use strict";var i=n(65592).G,r=n(20506),o=n(35339).Q,a=n(88814).nls;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),l=s.row,c=n.widgetManager.getWidgetsAtRow(l).filter((function(e){return"errorMarker"==e.type}))[0];c?c.destroy():l-=t;var u,d=function(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=i+r>>1,a=n(t,e[o]);if(a>0)i=o+1;else{if(!(a<0))return o;r=o-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var a=i[r];if(a&&n){if(a.row===t){do{a=i[r+=n]}while(a&&a.row===t);if(!a)return i.slice()}var s=[];t=a.row;do{s[n<0?"unshift":"push"](a),a=i[r+=n]}while(a&&a.row==t);return s.length&&s}}}(n,l,t);if(d){var h=d[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,u=e.renderer.$gutterLayer.$annotations[s.row]}else{if(c)return;u={text:[a("Looks good!")],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var f={row:s.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},p=f.el.appendChild(r.createElement("div")),A=f.el.appendChild(r.createElement("div"));A.className="error_widget_arrow "+u.className;var g=e.renderer.$cursorLayer.getPixelPosition(s).left;A.style.left=g+e.renderer.gutterWidth-5+"px",f.el.className="error_widget_wrapper",p.className="error_widget "+u.className,p.innerHTML=u.text.join("<br>"),p.appendChild(r.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return f.destroy(),{command:"null"}};f.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(f),e.off("changeSelection",f.destroy),e.off("changeSession",f.destroy),e.off("mouseup",f.destroy),e.off("change",f.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",f.destroy),e.on("changeSession",f.destroy),e.on("mouseup",f.destroy),e.on("change",f.destroy),e.session.widgetManager.addLineWidget(f),f.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:f.el.offsetHeight})},r.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)},17710:function(e,t,n){"use strict";var i=n(41294).snippetManager,r=n(74432).jT,o=n(88814),a=n(66016),s=n(63767),l=n(81560),c={getCompletions:function(e,t,n,i,r){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,i,r);var o=e.session.getState(n.row),a=t.$mode.getCompletions(o,t,n,i);r(null,a=a.map((e=>(e.completerId=c.id,e))))},id:"keywordCompleter"},u={getCompletions:function(e,t,n,r,o){var a=[],s=t.getTokenAt(n.row,n.column);s&&s.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?a.push("html-tag"):a=i.getActiveScopes(e);var l=i.snippetMap,c=[];a.forEach((function(e){for(var t=l[e]||[],n=t.length;n--;){var i=t[n],r=i.name||i.tabTrigger;r&&c.push({caption:r,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+" ":"snippet",completerId:u.id})}}),this),o(null,c)},getDocTooltip:function(e){var t,n;e.snippet&&!e.docHTML&&(e.docHTML=["<b>",a.escapeHTML(e.caption),"</b>","<hr></hr>",a.escapeHTML((t=e.snippet,n={},t.replace(/\${(\d+)(:(.*?))?}/g,(function(e,t,i,r){return n[t]=r||""})).replace(/\$(\d+?)/g,(function(e,t){return n[t]}))))].join(""))},id:"snippetCompleter"},d=[u,l,c];t.setCompleters=function(e){d.length=0,e&&d.push.apply(d,e)},t.addCompleter=function(e){d.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=u;var h,f={name:"expandSnippet",exec:function(e){return i.expandWithTab(e)},bindKey:"Tab"},p=function(e,t){A(t.session.$mode)},A=function(e){"string"==typeof e&&(e=o.$modes[e]),e&&(i.files||(i.files={}),g(e.$id,e.snippetFileId),e.modes&&e.modes.forEach(A))},g=function(e,t){t&&e&&!i.files[e]&&(i.files[e]={},o.loadModule(t,(function(t){t&&(i.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach((function(e){A("ace/mode/"+e)}))))})))},m=function(e){var t=e.editor,n=t.completer&&t.completer.activated;if("backspace"===e.command.name)n&&!s.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name&&!n){h=e;var i=e.editor.$liveAutocompletionDelay;i?v.delay(i):y(e)}},v=a.delayedCall((function(){y(h)}),0),y=function(e){var t=e.editor,n=s.getCompletionPrefix(t),i=e.args,o=s.triggerAutocomplete(t,i);if(n&&n.length>=t.$liveAutocompletionThreshold||o){var a=r.for(t);a.autoShown=!0,a.showPopup(t)}},b=n(48277).K;n(88814).defineOptions(b.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.addCommand(r.startCommand)):this.commands.removeCommand(r.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.on("afterExec",m)):this.commands.off("afterExec",m)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(e){e?(this.commands.addCommand(f),this.on("changeMode",p),p(0,this)):(this.commands.removeCommand(f),this.off("changeMode",p))},value:!1}})},76832:function(e,t,n){"use strict";var i=n(17776),r=n(40458).Z;t.S=class{constructor(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new r(this.editor)}addListener(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))}removeListener(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))}$onGutterKeyDown(e){if(this.annotationTooltip.isOpen)return e.preventDefault(),void(e.keyCode===i.escape&&this.annotationTooltip.hideTooltip());if(e.target===this.element){if(e.keyCode!=i.enter)return;e.preventDefault();var t=this.editor.getCursorPosition().row;return this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),void setTimeout(function(){var e=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(e),n=this.$findNearestAnnotation(e);if(null!==t||null!==n)return null===t&&null!==n?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==t&&null===n?(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(n-e)<Math.abs(t-e)?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new o(e,this))}.bind(this),10)}$handleGutterKeyboardInteraction(e){if(e.keyCode!==i.tab){if(e.keyCode===i.escape)return e.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(e.keyCode!==i.up)if(e.keyCode!==i.down){if(e.keyCode===i.left)return e.preventDefault(),void this.$switchLane("annotation");if(e.keyCode===i.right)return e.preventDefault(),void this.$switchLane("fold");if(e.keyCode!==i.enter&&e.keyCode!==i.space);else switch(e.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var n=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),r=this.annotationTooltip.getElement().style;r.left=n.right+"px",r.top=n.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else e.preventDefault()}$blurGutter(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()}$isFoldWidgetVisible(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getFoldWidget(e).style.display;return t&&n}$isAnnotationVisible(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getAnnotation(e).style.display;return t&&n}$getFoldWidget(e){return this.lines.get(e).element.childNodes[1]}$getAnnotation(e){return this.lines.get(e).element.childNodes[2]}$findNearestFoldWidget(e){if(this.$isFoldWidgetVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null}$findNearestAnnotation(e){if(this.$isAnnotationVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null}$focusFoldWidget(e){if(null!=e){var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}}$focusAnnotation(e){if(null!=e){var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}}$blurFoldWidget(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()}$blurAnnotation(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()}$moveFoldWidgetUp(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)}$moveFoldWidgetDown(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)}$moveAnnotationUp(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)}$moveAnnotationDown(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)}$switchLane(e){switch(e){case"annotation":if("annotation"===this.activeLane)break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(null==t)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var n=this.$findNearestFoldWidget(this.activeRowIndex);if(null==n)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$focusFoldWidget(this.activeRowIndex)}}$rowIndexToRow(e){var t=this.lines.get(e);return t?t.row:null}$rowToRowIndex(e){for(var t=0;t<this.lines.getLength();t++)if(this.lines.get(t).row==e)return t;return null}};class o{constructor(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}getKey(){return i.keyCodeToString(this.domEvent.keyCode)}getRow(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)}isInAnnotationLane(){return"annotation"===this.gutterKeyboardHandler.activeLane}isInFoldLane(){return"fold"===this.gutterKeyboardHandler.activeLane}}},35127:function(e,t,n){"use strict";var i=n(17776),r=n(44202),o=i.KEY_MODS;class a{constructor(e,t){this.$init(e,t,!1)}$init(e,t,n){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=n}addCommand(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)}removeCommand(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var a=o.indexOf(e);-1!=a&&(o.splice(a,1),1==o.length&&(i[r]=o[0]))}}}bindKey(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var a=this.parseKeys(e),s=o[a.hashId]+a.key;this._addCommandToBinding(i+s,t,n)}),this)}_addCommandToBinding(e,t,n){var i,r=this.commandKeyBinding;if(t)if(!r[e]||this.$singleCommand)r[e]=t;else{Array.isArray(r[e])?-1!=(i=r[e].indexOf(t))&&r[e].splice(i,1):r[e]=[r[e]],"number"!=typeof n&&(n=s(t));var o=r[e];for(i=0;i<o.length&&!(s(o[i])>n);i++);o.splice(i,0,t)}else delete r[e]}addCommands(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)}removeCommands(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)}bindKeys(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)}_buildKeyHash(e){this.bindKey(e.bindKey,e)}parseKeys(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,a=t.length;a--;){var s=i.KEY_MODS[t[a]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[a]+" in "+e),!1;o|=s}return{key:n,hashId:o}}findKeyCommand(e,t){var n=o[e]+t;return this.commandKeyBinding[n]}handleKeyboard(e,t,n,i){if(!(i<0)){var r=o[t]+n,a=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,a=this.commandKeyBinding[e.$keyChain]||a),!a||"chainKeys"!=a&&"chainKeys"!=a[a.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:a}):(e.$keyChain=e.$keyChain||r,{command:"null"})}}getStatusText(e,t){return t.$keyChain||""}}function s(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}class l extends a{constructor(e,t){super(e,t),this.$singleCommand=!0}}l.call=function(e,t,n){a.prototype.$init.call(e,t,n,!0)},a.call=function(e,t,n){a.prototype.$init.call(e,t,n,!1)},t.HashHandler=l,t.MultiHashHandler=a},59828:function(e,t,n){"use strict";var i=n(17776),r=n(78946);t.$=class{constructor(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}setDefaultHandler(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)}setKeyboardHandler(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}}addKeyboardHandler(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}}removeKeyboardHandler(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)}getKeyboardHandler(){return this.$handlers[this.$handlers.length-1]}getStatusText(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")}$callKeyboardHandlers(e,t,n,i){for(var o,a=!1,s=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((a="null"==o.command||s.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),a)););return a||-1!=e||(o={command:"insertstring"},a=s.exec("insertstring",this.$editor,t)),a&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),a}onCommandKey(e,t,n){var r=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,e)}onTextInput(e){return this.$callKeyboardHandlers(-1,e)}}},6375:function(e,t,n){"use strict";var i,r=n(78946),o=n(88814).nls,a=n(44202),s=n(20506),l=n(66016),c=n(63364),u=a.isChrome<18,d=a.isIE,h=a.isChrome>63,f=400,p=n(17776),A=p.KEY_MODS,g=a.isIOS,m=g?/\s/:/\n/,v=a.isMobile;i=function(e,t){var n=s.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),n.style.opacity="0",e.insertBefore(n,e.firstChild);var i=!1,y=!1,b=!1,w=!1,x="";v||(n.style.fontSize="1px");var C=!1,_=!1,k="",S=0,E=0,T=0,B=Number.MAX_SAFE_INTEGER,I=Number.MIN_SAFE_INTEGER,D=0;try{var F=document.activeElement===n}catch(e){}this.setNumberOfExtraLines=function(e){B=Number.MAX_SAFE_INTEGER,I=Number.MIN_SAFE_INTEGER,D=e<0?0:e},this.setAriaOptions=function(e){if(e.activeDescendant?(n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-autocomplete",e.inline?"both":"list"),n.setAttribute("aria-activedescendant",e.activeDescendant)):(n.setAttribute("aria-haspopup","false"),n.setAttribute("aria-autocomplete","both"),n.removeAttribute("aria-activedescendant")),e.role&&n.setAttribute("role",e.role),e.setLabel&&(n.setAttribute("aria-roledescription",o("editor")),t.session)){var i=t.session.selection.cursor.row;n.setAttribute("aria-label",o("Cursor at row $0",[i+1]))}},this.setAriaOptions({role:"textbox"}),r.addListener(n,"blur",(function(e){_||(t.onBlur(e),F=!1)}),t),r.addListener(n,"focus",(function(e){if(!_){if(F=!0,a.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),a.isEdge?setTimeout(L):L()}}),t),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),x||h||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var i=0!=n.getBoundingClientRect().top}catch(e){return}var r=[];if(i)for(var o=n.parentElement;o&&1==o.nodeType;)r.push(o),o.setAttribute("ace_nocontext","true"),o=!o.parentElement&&o.getRootNode?o.getRootNode().host:o.parentElement;n.focus({preventScroll:!0}),i&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return F},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;if("insertstring"!=i){var r=i&&(e.docChanged||e.selectionChanged);b&&r&&(k=n.value="",j()),L()}}));var M=function(e,n){for(var i=n,r=1;r<=e-B&&r<2*D+1;r++)i+=t.session.getLine(e-r).length+1;return i},L=g?function(e){if(F&&(!i||e)&&!w){e||(e="");var r="\n ab"+e+"cde fg\n";r!=n.value&&(n.value=k=r);var o=4+(e.length||(t.selection.isEmpty()?0:1));4==S&&E==o||n.setSelectionRange(4,o),S=4,E=o}}:function(){if(!b&&!w&&(F||R)){b=!0;var e=0,i=0,r="";if(t.session){var o=t.selection,a=o.getRange(),s=o.cursor.row;s===I+1?I=(B=I+1)+2*D:s===B-1?B=(I=B-1)-2*D:(s<B-1||s>I+1)&&(B=s>D?s-D:0,I=s>D?s+D:2*D);for(var l=[],c=B;c<=I;c++)l.push(t.session.getLine(c));if(r=l.join("\n"),e=M(a.start.row,a.start.column),i=M(a.end.row,a.end.column),a.start.row<B){var u=t.session.getLine(B-1);e=a.start.row<B-1?0:e,i+=u.length+1,r=u+"\n"+r}else if(a.end.row>I){var d=t.session.getLine(I+1);i=a.end.row>I+1?d.length:a.end.column,i+=r.length+1,r=r+"\n"+d}else v&&s>0&&(r="\n"+r,i+=1,e+=1);r.length>f&&(e<f&&i<f?r=r.slice(0,f):(r="\n",e==i?e=i=0:(e=0,i=1)));var h=r+"\n\n";h!=k&&(n.value=k=h,S=E=h.length)}if(R&&(S=n.selectionStart,E=n.selectionEnd),E!=i||S!=e||n.selectionEnd!=E)try{n.setSelectionRange(e,i),S=e,E=i}catch(e){}b=!1}};this.resetSelection=L,F&&t.onFocus();var P=null;this.setInputHandler=function(e){P=e},this.getInputHandler=function(){return P};var R=!1,O=function(e,i){if(R&&(R=!1),y)return L(),e&&t.onPaste(e),y=!1,"";for(var r=n.selectionStart,o=n.selectionEnd,s=S,l=k.length-E,c=e,u=e.length-r,d=e.length-o,h=0;s>0&&k[h]==e[h];)h++,s--;for(c=c.slice(h),h=1;l>0&&k.length-h>S-1&&k[k.length-h]==e[e.length-h];)h++,l--;u-=h-1,d-=h-1;var f=c.length-h+1;if(f<0&&(s=-f,f=0),c=c.slice(0,f),!(i||c||u||s||l||d))return"";w=!0;var p=!1;return a.isAndroid&&". "==c&&(c="  ",p=!0),c&&!s&&!l&&!u&&!d||C?t.onTextInput(c):t.onTextInput(c,{extendLeft:s,extendRight:l,restoreStart:u,restoreEnd:d}),w=!1,k=e,S=r,E=o,T=d,p?"\n":c},N=function(e){if(b)return V();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,r=O(i,!0);(i.length>500||m.test(r)||v&&S<1&&S==E)&&L()},U=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!u){var r=d||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return U(e,t,!0)}}},H=function(e,o){var a=t.getCopyText();if(!a)return r.preventDefault(e);U(e,a)?(g&&(L(a),i=a,setTimeout((function(){i=!1}),10)),o?t.onCut():t.onCopy(),r.preventDefault(e)):(i=!0,n.value=a,n.select(),setTimeout((function(){i=!1,L(),o?t.onCut():t.onCopy()})))},$=function(e){H(e,!0)},Q=function(e){H(e,!1)},W=function(e){var i=U(e);c.pasteCancelled()||("string"==typeof i?(i&&t.onPaste(i,e),a.isIE&&setTimeout(L),r.preventDefault(e)):(n.value="",y=!0))};r.addCommandKeyListener(n,(function(e,n,i){if(!b)return t.onCommandKey(e,n,i)}),t),r.addListener(n,"select",(function(e){b||(i?i=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=k.length&&e.value===k&&k&&e.selectionEnd!==E}(n)?(t.selectAll(),L()):v&&n.selectionStart!=S&&L())}),t),r.addListener(n,"input",N,t),r.addListener(n,"cut",$,t),r.addListener(n,"copy",Q,t),r.addListener(n,"paste",W,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||r.addListener(e,"keydown",(function(e){if((!a.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:Q(e);break;case 86:W(e);break;case 88:$(e)}}),t);var V=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(C)return z();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;O(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+E-b.selectionStart+T)}}},j=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",z),e&&N())};function z(){_=!0,n.blur(),n.focus(),_=!1}var K,G=l.delayedCall(V,50).schedule.bind(null,null);function q(){clearTimeout(K),K=setTimeout((function(){x&&(n.style.cssText=x,x=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}r.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!C)){e.data&&(b.useTextareaForIME=!1),setTimeout(V,0),t._signal("compositionStart"),t.on("mousedown",z);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,b.markerRange=i,b.selectionStart=S,t.onCompositionStart(b),b.useTextareaForIME?(k=n.value="",S=0,E=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),r.addListener(n,"compositionupdate",V,t),r.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(k=n.value),S=E=-1,L()),G()}),t),r.addListener(n,"keydown",G,t),r.addListener(n,"compositionend",j,t),this.getElement=function(){return n},this.setCommandMode=function(e){C=e,n.readOnly=!1},this.setReadOnly=function(e){C||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){R=!0,L(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,i){x||(x=n.style.cssText),n.style.cssText=(i?"z-index:100000;":"")+(a.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+E)*t.renderer.characterWidth*.5+"px;";var o=t.container.getBoundingClientRect(),l=s.computedStyle(t.container),c=o.top+(parseInt(l.borderTopWidth)||0),u=o.left+(parseInt(o.borderLeftWidth)||0),d=o.bottom-c-n.clientHeight-2,h=function(e){s.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,d))};h(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(K),a.isWin&&r.capture(t.container,h,q))},this.onContextMenuClose=q;var Y=function(e){t.textInput.onContextMenu(e),q()};r.addListener(n,"mouseup",Y,t),r.addListener(n,"mousedown",(function(e){e.preventDefault(),q()}),t),r.addListener(t.renderer.scroller,"contextmenu",Y,t),r.addListener(n,"contextmenu",Y,t),g&&function(e,t,n){var r=null,o=!1;n.addEventListener("keydown",(function(e){r&&clearTimeout(r),o=!0}),!0),n.addEventListener("keyup",(function(e){r=setTimeout((function(){o=!1}),100)}),!0);var a=function(e){if(document.activeElement===n&&!(o||b||t.$mouseHandler.isMousePressed||i)){var r=n.selectionStart,a=n.selectionEnd,s=null,l=0;if(0==r?s=p.up:1==r?s=p.home:a>E&&"\n"==k[a]?s=p.end:r<S&&" "==k[r-1]?(s=p.left,l=A.option):r<S||r==S&&E!=S&&r==a?s=p.left:a>E&&k.slice(0,a).split("\n").length>2?s=p.down:a>E&&" "==k[a-1]?(s=p.right,l=A.option):(a>E||a==E&&E!=S&&r==a)&&(s=p.right),r!==a&&(l|=A.shift),s){if(!t.onCommandKey({},l,s)&&t.commands){s=p.keyCodeToString(s);var c=t.commands.findKeyCommand(l,s);c&&t.execCommand(c)}S=r,E=a,L("")}}};document.addEventListener("selectionchange",a),t.on("destroy",(function(){document.removeEventListener("selectionchange",a)}))}(0,t,n),this.destroy=function(){n.parentElement&&n.parentElement.removeChild(n)}},t.k=i},31724:function(e,t,n){"use strict";var i=n(20506);class r{constructor(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}$updateOpacity(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")}$startCssAnimation(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))}$stopCssAnimation(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")}setPadding(e){this.$padding=e}setSession(e){this.session=e}setBlinking(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())}setBlinkInterval(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())}setSmoothBlinking(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())}addCursor(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e}removeCursor(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}}hideCursor(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()}showCursor(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()}restartTimer(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()}getPixelPosition(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}}isCursorInView(e,t){return e.top>=0&&e.top<t.maxHeight}update(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),n=0;for(var o=t.length;n<o;n++){var a=this.getPixelPosition(t[n].cursor,!0);if(!((a.top>e.height+e.offset||a.top<0)&&n>1)){var s=this.cursors[r++]||this.addCursor(),l=s.style;this.drawCursor?this.drawCursor(s,a,e,t[n],this.session):this.isCursorInView(a,e)?(i.setStyle(l,"display","block"),i.translate(s,a.left,a.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=a,this.restartTimer()}$setOverwrite(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))}destroy(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}r.prototype.$padding=0,r.prototype.drawCursor=null,t.b=r},71948:function(e,t,n){"use strict";var i=n(20506),r=n(33432),o=n(71743).b;class a{constructor(e,t){this.canvas=i.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)}$updateDecorators(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d"),i=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),i){var r={info:1,warning:2,error:3};i.forEach((function(e){e.priority=r[e.type]||null})),i=i.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));var o=this.renderer.session.$foldData;for(let e=0;e<i.length;e++){let r=i[e].row,a=this.compensateFoldRows(r,o),s=Math.round((r-a)*this.lineHeight*this.heightRatio),l=Math.round((r-a)*this.lineHeight*this.heightRatio),c=Math.round(((r-a)*this.lineHeight+this.lineHeight)*this.heightRatio);if(c-l<this.minDecorationHeight){let e=(l+c)/2|0;e<this.halfMinDecorationHeight?e=this.halfMinDecorationHeight:e+this.halfMinDecorationHeight>this.canvasHeight&&(e=this.canvasHeight-this.halfMinDecorationHeight),l=Math.round(e-this.halfMinDecorationHeight),c=Math.round(e+this.halfMinDecorationHeight)}n.fillStyle=t[i[e].type]||null,n.fillRect(0,s,this.canvasWidth,c-l)}}var a=this.renderer.session.selection.getCursor();if(a){let e=this.compensateFoldRows(a.row,o),t=Math.round((a.row-e)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,t,this.canvasWidth,2)}}compensateFoldRows(e,t){let n=0;if(t&&t.length>0)for(let i=0;i<t.length;i++)e>t[i].start.row&&e<t[i].end.row?n+=e-t[i].start.row:e>=t[i].end.row&&(n+=t[i].end.row-t[i].start.row);return n}}r.implement(a.prototype,o),t.K=a},57305:function(e,t,n){var i=n(33432),r=n(20506),o=n(66016),a=n(78946),s=n(44202),l=n(71743).b,c=512,u="function"==typeof ResizeObserver,d=200;class h{constructor(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()}$setMeasureNodeStyles(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",s.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"}checkForSizeChanges(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}}$addObserver(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)}$pollSizeChanges(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=a.onIdle((function t(){e.checkForSizeChanges(),a.onIdle(t,500)}),500)}setPolling(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)}$measureSizes(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t}$measureCharWidth(e){return this.$main.textContent=o.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c}getCharacterWidth(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t}destroy(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}$getZoom(e){return e&&e.parentElement?(window.getComputedStyle(e).zoom||1)*this.$getZoom(e.parentElement):1}$initTransformMeasureNodes(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(d,0),e(0,d),e(d,d)],this.el)}transformCoordinates(e,t){function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function a(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var s=a(this.els[0]),l=a(this.els[1]),c=a(this.els[2]),u=a(this.els[3]),h=n(i(u,l),i(u,c),i(r(l,c),r(u,s))),f=o(1+h[0],i(l,s)),p=o(1+h[1],i(c,s));if(t){var A=t,g=h[0]*A[0]/d+h[1]*A[1]/d+1,m=r(o(A[0],f),o(A[1],p));return r(o(1/g/d,m),s)}var v=i(e,s),y=n(i(f,o(h[0],v)),i(p,o(h[1],v)),v);return o(d,y)}}h.prototype.$characterSize={width:0,height:0},i.implement(h.prototype,l),t.X=h},83613:function(e,t,n){"use strict";var i=n(20506),r=n(33432),o=n(66016),a=n(71743).b,s=n(97139).q,l=n(88814).nls;class c{constructor(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new s(this.element),this.$lines.$offsetCoefficient=1}setSession(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)}addGutterDecoration(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)}removeGutterDecoration(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)}setAnnotations(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[],type:[]});var a=n.text,s=n.type;a=a?o.escapeHTML(a):n.html||"",-1===r.text.indexOf(a)&&(r.text.push(a),r.type.push(s));var l=n.className;l?r.className=l:"error"==s?r.className=" ace_error":"warning"==s&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=s||r.className||(r.className=" ace_info")}}$updateAnnotations(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}}update(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(n),o=r?r.start.row:1/0,a=null,s=-1,l=n;;){if(l>o&&(l=r.end.row+1,o=(r=t.getNextFoldLine(l,r))?r.start.row:1/0),l>i){for(;this.$lines.getLength()>s+1;)this.$lines.pop();break}(a=this.$lines.get(++s))?a.row=l:(a=this.$lines.createCell(l,e,this.session,u),this.$lines.push(a)),this.$renderCell(a,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)}$updateGutterWidth(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var o=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,a=this.$padding||this.$computePadding();(o+=a.left+a.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))}$updateCursorRow(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}}updateLineHighlight(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}}scrollLines(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)}$renderLines(e,t,n){for(var i=[],r=t,o=this.session.getNextFoldLine(r),a=o?o.start.row:1/0;r>a&&(r=o.end.row+1,a=(o=this.session.getNextFoldLine(r,o))?o.start.row:1/0),!(r>n);){var s=this.$lines.createCell(r,e,this.session,u);this.$renderCell(s,e,o,r),i.push(s),r++}return i}$renderCell(e,t,n,r){var o=e.element,a=this.session,s=o.childNodes[0],c=o.childNodes[1],u=o.childNodes[2],d=u.firstChild,h=a.$firstLineNumber,f=a.$breakpoints,p=a.$decorations,A=a.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&a.foldWidgets,m=n?n.start.row:Number.MAX_VALUE,v=t.lineHeight+"px",y=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",b=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",w=(A?A.getText(a,r):r+h).toString();if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=m&&this.$cursorRow<=n.end.row)&&(y+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),f[r]&&(y+=f[r]),p[r]&&(y+=p[r]),this.$annotations[r]&&r!==m&&(y+=this.$annotations[r].className),g){var x=g[r];null==x&&(x=g[r]=a.getFoldWidget(r))}if(x){var C="ace_fold-widget ace_"+x,_="start"==x&&r==m&&r<n.end.row;if(_){C+=" ace_closed";for(var k="",S=!1,E=r+1;E<=n.end.row;E++)if(this.$annotations[E]){if(" ace_error"===this.$annotations[E].className){S=!0,k=" ace_error_fold";break}" ace_warning"!==this.$annotations[E].className||(S=!0,k=" ace_warning_fold")}y+=k}else C+=" ace_open";c.className!=C&&(c.className=C),i.setStyle(c.style,"height",v),i.setStyle(c.style,"display","inline-block"),c.setAttribute("role","button"),c.setAttribute("tabindex","-1");var T=a.getFoldWidgetRange(r);T?c.setAttribute("aria-label",l("Toggle code folding, rows $0 through $1",[T.start.row+1,T.end.row+1])):n?c.setAttribute("aria-label",l("Toggle code folding, rows $0 through $1",[n.start.row+1,n.end.row+1])):c.setAttribute("aria-label",l("Toggle code folding, row $0",[r+1])),_?(c.setAttribute("aria-expanded","false"),c.setAttribute("title",l("Unfold code"))):(c.setAttribute("aria-expanded","true"),c.setAttribute("title",l("Fold code")))}else c&&(i.setStyle(c.style,"display","none"),c.setAttribute("tabindex","0"),c.removeAttribute("role"),c.removeAttribute("aria-label"));return S&&this.$showFoldedAnnotations?(u.className="ace_gutter_annotation",d.className=b,d.className+=k,i.setStyle(d.style,"height",v),i.setStyle(u.style,"display","block"),i.setStyle(u.style,"height",v),u.setAttribute("aria-label",l("Read annotations row $0",[w])),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")):this.$annotations[r]?(u.className="ace_gutter_annotation",d.className=b,this.$useSvgGutterIcons?d.className+=this.$annotations[r].className:o.classList.add(this.$annotations[r].className.replace(" ","")),i.setStyle(d.style,"height",v),i.setStyle(u.style,"display","block"),i.setStyle(u.style,"height",v),u.setAttribute("aria-label",l("Read annotations row $0",[w])),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")):(i.setStyle(u.style,"display","none"),u.removeAttribute("aria-label"),u.removeAttribute("role"),u.setAttribute("tabindex","0")),w!==s.data&&(s.data=w),o.className!=y&&(o.className=y),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(r,t,a)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(r,t,a)+"px"),e.text=w,"none"===u.style.display&&"none"===c.style.display?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e}setHighlightGutterLine(e){this.$highlightGutterLine=e}setShowLineNumbers(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}}getShowLineNumbers(){return this.$showLineNumbers}setShowFoldWidgets(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null}getShowFoldWidgets(){return this.$showFoldWidgets}$computePadding(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding}getRegion(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}function u(e){var t=document.createTextNode("");e.appendChild(t);var n=i.createElement("span");e.appendChild(n);var r=i.createElement("span");e.appendChild(r);var o=i.createElement("span");return r.appendChild(o),e}c.prototype.$fixedWidth=!1,c.prototype.$highlightGutterLine=!0,c.prototype.$renderer="",c.prototype.$showLineNumbers=!0,c.prototype.$showFoldWidgets=!0,r.implement(c.prototype,a),t.W=c},97139:function(e,t,n){"use strict";var i=n(20506);t.q=class{constructor(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}moveContainer(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)}pageChanged(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)}computeLineTop(e,t,n){var i=t.firstRowScreen*t.lineHeight,r=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight}computeLineHeight(e,t,n){return t.lineHeight*n.getRowLineCount(e)}getLength(){return this.cells.length}get(e){return this.cells[e]}shift(){this.$cacheCell(this.cells.shift())}pop(){this.$cacheCell(this.cells.pop())}push(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)}unshift(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)}last(){return this.cells.length?this.cells[this.cells.length-1]:null}$cacheCell(e){e&&(e.element.remove(),this.cellCache.push(e))}createCell(e,t,n,r){var o=this.cellCache.pop();if(!o){var a=i.createElement("div");r&&r(a),this.element.appendChild(a),o={element:a,text:"",row:e}}return o.row=e,o}}},21092:function(e,t,n){"use strict";var i=n(35339).Q,r=n(20506);class o{constructor(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}setPadding(e){this.$padding=e}setSession(e){this.session=e}setMarkers(e){this.markers=e}elt(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e}update(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e),a=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,a,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}}$getTop(e,t){return(e-t.firstRowScreen)*t.lineHeight}drawTextMarker(e,t,n,r,o){for(var a=this.session,s=t.start.row,l=t.end.row,c=s,u=0,d=0,h=a.getScreenLastRowColumn(c),f=new i(c,t.start.column,c,d);c<=l;c++)f.start.row=f.end.row=c,f.start.column=c==s?t.start.column:a.getRowWrapIndent(c),f.end.column=h,u=d,d=h,h=c+1<l?a.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,f,n+(c==s?" ace_start":"")+" ace_br"+((c==s||c==s+1&&t.start.column?1:0)|(u<d?2:0)|(d>h?4:0)|(c==l?8:0)),r,c==l?0:1,o)}drawMultiLineMarker(e,t,n,i,r){var o=this.$padding,a=i.lineHeight,s=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+s+"px;left:"+l+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,r)}else{s=this.$getTop(t.end.row,i);var u=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+a+"px;width:"+u+"px;top:"+s+"px;left:"+o+"px;"+(r||""))}if(!((a=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){s=this.$getTop(t.start.row+1,i);var d=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(d?" ace_br"+d:""),"height:"+a+"px;right:0;top:"+s+"px;left:"+o+"px;"+(r||""))}}drawSingleLineMarker(e,t,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,o);var a=i.lineHeight,s=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+a+"px;width:"+s+"px;top:"+l+"px;left:"+c+"px;"+(o||""))}drawBidiSingleLineMarker(e,t,n,i,r,o){var a=i.lineHeight,s=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+a+"px;width:"+(e.width+(r||0))+"px;top:"+s+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)}drawFullLineMarker(e,t,n,i,r){var o=this.$getTop(t.start.row,i),a=i.lineHeight;t.start.row!=t.end.row&&(a+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+a+"px;top:"+o+"px;left:0;right:0;"+(r||""))}drawScreenLineMarker(e,t,n,i,r){var o=this.$getTop(t.start.row,i),a=i.lineHeight;this.elt(n,"height:"+a+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}o.prototype.$padding=0,t.p=o},92801:function(e,t,n){"use strict";var i=n(33432),r=n(20506),o=n(66016),a=n(97139).q,s=n(71743).b,l=n(88814).nls;const c=n(73332).t;class u{constructor(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)}$updateEolChar(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0}setPadding(e){this.$padding=e,this.element.style.margin="0 "+e+"px"}getLineHeight(){return this.$fontMetrics.$characterSize.height||0}getCharacterWidth(){return this.$fontMetrics.$characterSize.width||0}$setFontMetrics(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()}checkForSizeChanges(){this.$fontMetrics.checkForSizeChanges()}$pollSizeChanges(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()}setSession(e){this.session=e,e&&this.$computeTabString()}setShowInvisibles(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)}setDisplayIndentGuides(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)}setHighlightIndentGuides(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)}$computeTabString(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showTabs?((i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i)):t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",a=this.showSpaces?" ace_invisible ace_invisible_space":"",s=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):s;(i=this.dom.createElement("span")).className=r+a,i.textContent=s,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+l,i.textContent=c,this.$tabStrings["\t"]=i}}updateLines(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,a=0,s=e.firstRow;s<i;s++){if(l=this.session.getFoldLine(s)){if(l.containsRow(i)){i=l.start.row;break}s=l.end.row}a++}for(var l,c=!1,u=(s=i,(l=this.session.getNextFoldLine(s))?l.start.row:1/0);s>u&&(s=l.end.row+1,u=(l=this.session.getNextFoldLine(s,l))?l.start.row:1/0),!(s>r);){var d=o[a++];if(d){this.dom.removeChildren(d),this.$renderLine(d,s,s==u&&l),c&&(d.style.top=this.$lines.computeLineTop(s,e,this.session)+"px");var h=e.lineHeight*this.session.getRowLength(s)+"px";d.style.height!=h&&(c=!0,d.style.height=h)}s++}if(c)for(;a<this.$lines.cells.length;){var f=this.$lines.cells[a++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}}scrollLines(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()}$renderLinesFragment(e,t,n){for(var i=[],o=t,a=this.session.getNextFoldLine(o),s=a?a.start.row:1/0;o>s&&(o=a.end.row+1,s=(a=this.session.getNextFoldLine(o,a))?a.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),r.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),r.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==s&&a),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",i.push(l),o++}return i}update(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))}$renderToken(e,t,n,i){for(var r,a=this,s=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,u=this.dom.createFragment(this.element),d=0;r=s.exec(i);){var h=r[1],f=r[2],p=r[3],A=r[4],g=r[5];if(a.showSpaces||!f){var m=d!=r.index?i.slice(d,r.index):"";if(d=r.index+r[0].length,m&&u.appendChild(this.dom.createTextNode(m,this.element)),h){var v=a.session.getScreenTabSize(t+r.index);u.appendChild(a.$tabStrings[v].cloneNode(!0)),t+=v-1}else f?a.showSpaces?((b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",b.textContent=o.stringRepeat(a.SPACE_CHAR,f.length),u.appendChild(b)):u.appendChild(this.dom.createTextNode(f,this.element)):p?((b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",b.textContent=o.stringRepeat(a.SPACE_CHAR,p.length),u.appendChild(b)):A?(t+=1,(b=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",b.className=a.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=a.showSpaces?a.SPACE_CHAR:A,u.appendChild(b)):g&&(t+=1,(b=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",b.className="ace_cjk",b.textContent=g,u.appendChild(b))}}if(u.appendChild(this.dom.createTextNode(d?i.slice(d):i,this.element)),c(n.type))e.appendChild(u);else{var y="ace_"+n.type.replace(/\./g," ace_"),b=this.dom.createElement("span");"fold"==n.type&&(b.style.width=n.value.length*this.config.characterWidth+"px",b.setAttribute("title",l("Unfold code"))),b.className=y,b.appendChild(u),e.appendChild(b)}return t+i.length}renderIndentGuide(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,o=0;o<r;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}if("\t"==t[0]){for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}return this.$highlightIndentGuide(),t}$highlightIndentGuide(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,i=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:i,start:t.row},this.session.$bracketHighlight)for(var r=this.session.$bracketHighlight.ranges,o=0;o<r.length;o++)if(t.row!==r[o].start.row){this.$highlightIndentGuideMarker.end=r[o].start.row,t.row>r[o].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length)for(this.$highlightIndentGuideMarker.dir=1,o=t.row+1;o<e.length;o++){var a=e[o],s=/^\s*/.exec(a)[0].length;if(""!==a&&(this.$highlightIndentGuideMarker.end=o,s<=n))break}this.$renderHighlightIndentGuide()}}}$clearActiveIndentGuide(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var i=0;i<n.length;i++)if(n[i].classList&&n[i].classList.contains("ace_indent-guide-active")){n[i].classList.remove("ace_indent-guide-active");break}}}$setIndentGuideActive(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;if(n){let e=n[t-1];e&&e.classList&&e.classList.contains("ace_indent-guide")&&e.classList.add("ace_indent-guide-active")}}}$renderHighlightIndentGuide(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var i=e[n];if(this.$highlightIndentGuideMarker.end&&i.row>=this.$highlightIndentGuideMarker.start+1){if(i.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}else for(n=e.length-1;n>=0;n--)if(i=e[n],this.$highlightIndentGuideMarker.end&&i.row<this.$highlightIndentGuideMarker.start){if(i.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}}$createLineElement(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t}$renderWrappedLine(e,t,n){var i=0,r=0,a=n[0],s=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],d=u.value;if(0==c&&this.displayIndentGuides){if(i=d.length,!(d=this.renderIndentGuide(l,d,a)))continue;i-=d.length}if(i+d.length<a)s=this.$renderToken(l,s,u,d),i+=d.length;else{for(;i+d.length>=a;)s=this.$renderToken(l,s,u,d.substring(0,a-i)),d=d.substring(a-i),i=a,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("",n.indent),this.element)),s=0,a=n[++r]||Number.MAX_VALUE;0!=d.length&&(i+=d.length,s=this.$renderToken(l,s,u,d))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,s,null,"",!0)}$renderSimpleLine(e,t){for(var n=0,i=0;i<t.length;i++){var r=t[i],o=r.value;if(0!=i||!this.displayIndentGuides||(o=this.renderIndentGuide(e,o))){if(n+o.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,o);n=this.$renderToken(e,n,r,o)}}}$renderOverflowMessage(e,t,n,i,r){n&&this.$renderToken(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",e.appendChild(o)}$renderLine(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var r=e;if(i.length){var o=this.session.getRowSplitData(t);o&&o.length?(this.$renderWrappedLine(e,i,o),r=e.lastChild):(r=e,this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i))}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){n&&(t=n.end.row);var a=this.dom.createElement("span");a.className="ace_invisible ace_invisible_eol",a.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(a)}}$getFoldLineTokens(e,t){var n=this.session,i=[],r=n.getTokens(e);return t.walk((function(e,t,o,a,s){null!=e?i.push({type:"fold",value:e}):(s&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,++r==e.length)return;for(o!=t&&((a=e[r].value.substring(t-o)).length>n-t&&(a=a.substring(0,n-t)),i.push({type:e[r].type,value:a}),o=t+a.length,r+=1);o<n&&r<e.length;){var a;(a=e[r].value).length+o>n?i.push({type:e[r].type,value:a.substring(0,n-o)}):i.push(e[r]),o+=a.length,r+=1}}(r,a,o))}),t.end.row,this.session.getLine(t.end.row).length),i}$useLineGroups(){return this.session.getUseWrapMode()}}u.prototype.EOF_CHAR="",u.prototype.EOL_CHAR_LF="",u.prototype.EOL_CHAR_CRLF="",u.prototype.EOL_CHAR=u.prototype.EOL_CHAR_LF,u.prototype.TAB_CHAR="",u.prototype.SPACE_CHAR="",u.prototype.$padding=0,u.prototype.MAX_LINE_LENGTH=1e4,u.prototype.showInvisibles=!1,u.prototype.showSpaces=!1,u.prototype.showTabs=!1,u.prototype.showEOL=!1,u.prototype.displayIndentGuides=!0,u.prototype.$highlightIndentGuides=!0,u.prototype.$tabStrings=[],u.prototype.destroy={},u.prototype.onChangeTabSize=u.prototype.$computeTabString,i.implement(u.prototype,s),t.E=u},73332:function(e,t){const n=new Set(["text","rparen","lparen"]);t.t=function(e){return n.has(e)}},31554:function(e,t,n){var i=n(33432),r=n(71743).b;const o=n(32087).N;var a,s={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return l('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:l('misspelled option "'+e+'"')}};function l(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}class c{constructor(){this.$defaultOptions={}}defineOptions(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,s),this}resetOptions(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))}setDefaultValue(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)}setDefaultValues(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)}setMessages(e){a=e}nls(e,t){a&&!a[e]&&l("No message found for '"+e+"' in the provided messages, falling back to default English message.");var n=a&&a[e]||e;return t&&(n=n.replace(/\$(\$|[\d]+)/g,(function(e,n){return"$"==n?"$":t[n]}))),n}}c.prototype.warn=l,c.prototype.reportError=o,i.implement(c.prototype,r),t.o=c},1850:function(e,t){"use strict";var n=0,i=0,r=!1,o=!1,a=!1,s=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=11,u=18,d=[u,u,u,u,u,u,u,u,u,6,5,6,8,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,5,5,5,6,8,4,4,c,c,c,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,u,u,u,u,u,u,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,9,4,c,c,c,c,4,4,4,4,0,4,4,u,4,4,c,c,2,2,4,0,4,4,4,2,0,4,4,4,4,4],h=[8,8,8,8,8,8,8,8,8,8,8,u,u,u,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,c,c,c,c,c,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function f(e,t,r){if(!(i<e))if(1!=e||1!=n||o)for(var a,s,l,c,u=r.length,d=0;d<u;){if(t[d]>=e){for(a=d+1;a<u&&t[a]>=e;)a++;for(s=d,l=a-1;s<l;s++,l--)c=r[s],r[s]=r[l],r[l]=c;d=a}d++}else r.reverse()}function p(e,t,i,s){var l,d,h,f,p=t[s];switch(p){case 0:case 1:r=!1;case 4:case 3:return p;case 2:return r?3:2;case 7:return r=!0,1;case 8:return 4;case 9:return s<1||s+1>=t.length||2!=(l=i[s-1])&&3!=l||2!=(d=t[s+1])&&3!=d?4:(r&&(d=3),d==l?d:4);case 10:return 2==(l=s>0?i[s-1]:5)&&s+1<t.length&&2==t[s+1]?2:4;case c:if(s>0&&2==i[s-1])return 2;if(r)return 4;for(f=s+1,h=t.length;f<h&&t[f]==c;)f++;return f<h&&2==t[f]?2:4;case 12:for(h=t.length,f=s+1;f<h&&12==t[f];)f++;if(f<h){var A=e[s],g=A>=1425&&A<=2303||64286==A;if(l=t[f],g&&(1==l||7==l))return 1}return s<1||5==(l=t[s-1])?4:i[s-1];case 5:return r=!1,o=!0,n;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:r=!1;case u:return 4}}function A(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:d[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?c:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?h[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="",t.doBidiReorder=function(e,c,d){if(e.length<2)return{};var h=e.split(""),g=new Array(h.length),m=new Array(h.length),v=[];n=d?1:0,function(e,t,c,u){var d=n?l:s,h=null,f=null,g=null,m=0,v=null,y=-1,b=null,w=null,x=[];if(!u)for(b=0,u=[];b<c;b++)u[b]=A(e[b]);for(i=n,r=!1,o=!1,a=!1,w=0;w<c;w++){if(h=m,x[w]=f=p(e,u,x,w),v=240&(m=d[h][f]),m&=15,t[w]=g=d[m][5],v>0)if(16==v){for(b=y;b<w;b++)t[b]=1;y=-1}else y=-1;if(d[m][6])-1==y&&(y=w);else if(y>-1){for(b=y;b<w;b++)t[b]=g;y=-1}5==u[w]&&(t[w]=0),i|=g}if(a)for(b=0;b<c;b++)if(6==u[b]){t[b]=n;for(var C=b-1;C>=0&&8==u[C];C--)t[C]=n}}(h,v,h.length,c);for(var y=0;y<g.length;g[y]=y,y++);for(f(2,v,g),f(1,v,g),y=0;y<g.length-1;y++)3===c[y]?v[y]=t.AN:1===v[y]&&(c[y]>7&&c[y]<13||4===c[y]||c[y]===u)?v[y]=t.ON_R:y>0&&""===h[y-1]&&/\u0622|\u0623|\u0625|\u0627/.test(h[y])&&(v[y-1]=v[y]=t.R_H,y++);for(h[h.length-1]===t.DOT&&(v[h.length-1]=t.B),""===h[0]&&(v[0]=t.RLE),y=0;y<g.length;y++)m[y]=v[g[y]];return{logicalFromVisual:g,bidiLevels:m}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=A(e.charAt(i)),n||1!=t[i]&&7!=t[i]&&3!=t[i]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}},89960:function(e,t){t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(let i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;n={};for(let i in t)n[i]=e(t[i]);return n}},20506:function(e,t,n){"use strict";var i,r=n(44202);t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],a=0;a<t.length;a++){var s=e(t[a],n,i);s&&o.push(s)}return o}var l=document.createElement(t[0]),c=t[1],u=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(u=2),a=u;a<t.length;a++)e(t[a],l,i);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var o=[];function a(){var e=o;o=null,e&&e.forEach((function(e){s(e[0],e[1])}))}function s(e,n,r){if("undefined"!=typeof document){if(o)if(r)a();else if(!1===r)return o.push([e,n]);if(!i){var s=r;r&&r.getRootNode&&(s=r.getRootNode())&&s!=r||(s=document);var l=s.ownerDocument||s;if(n&&t.hasCssString(n,s))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),s==l&&(s=t.getDocumentHead(l)),s.insertBefore(c,s.firstChild)}}}if(t.useStrictCSP=function(e){i=e,0==e?a():o||(o=[])},t.importCssString=s,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e&&e.documentElement||document&&document.documentElement;if(!o)return 0;o.appendChild(i);var a=n.offsetWidth;r.overflow="scroll";var s=n.offsetWidth;return a===s&&(s=i.clientWidth),o.removeChild(i),a-s},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,r.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||void 0===l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}},78946:function(e,t,n){"use strict";var i,r=n(17776),o=n(44202),a=null,s=0;function l(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return i={passive:!1},!0}})}catch(e){}}(),i}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){d(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,i){e.addEventListener(t,n,l()),i&&i.$toDestroy.push(new c(e,t,n))},d=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};function h(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function f(){a=Object.create(null)}if(t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),n&&n(e),d(i,"mousemove",t),d(i,"mouseup",r),d(i,"dragstart",r)}return u(i,"mousemove",t),u(i,"mouseup",r),u(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){u(e,"wheel",(function(e){var n=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*i;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*i;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*i}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,a){var s,l,c,d=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};function f(e){if(0!==t.getButton(e)?d=0:e.detail>1?++d>4&&(d=1):d=1,o.isIE){var a=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-l)>5;c&&!a||(d=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[d-1]||600),1==d&&(s=e.clientX,l=e.clientY)}if(e._clicks=d,i[r]("mousedown",e),d>4)d=0;else if(d>1)return i[r](h[d],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",f,a)}))},t.getModifierString=function(e){return r.KEY_MODS[h(e)]},t.addCommandKeyListener=function(e,n,i){var l=null;u(e,"keydown",(function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=function(e,t,n){var i=h(t);if(!o.isMac&&a){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),a.altGr){if(!(3&~i))return;a.altGr=0}if(18===n||17===n){var l=t.location;17===n&&1===l?1==a[n]&&(s=t.timeStamp):18===n&&3===i&&2===l&&t.timeStamp-s<50&&(a.altGr=!0)}}if(n in r.MODIFIER_KEYS&&(n=-1),i||13!==n||3!==t.location||(e(t,i,-n),!t.defaultPrevented)){if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,i,n)}}(n,e,e.keyCode);return l=e.defaultPrevented,t}),i),u(e,"keypress",(function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),i),u(e,"keyup",(function(e){a[e.keyCode]=null}),i),a||(f(),u(window,"focus",f))},"object"==typeof window&&window.postMessage&&!o.isOldIE){var p=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+p++,r=function(o){o.data==i&&(t.stopPropagation(o),d(n,"message",r),e())};u(n,"message",r),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}},71743:function(e,t){"use strict";var n={},i=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],o=this._defaultHandlers[e];if(n.length||o){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=r),n=n.slice();for(var a=0;a<n.length&&(n[a](t,this),!t.propagationStopped);a++);return o&&!t.defaultPrevented?o(t,this):void 0}},n._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},n.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},n.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},n.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},n.on=n.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},n.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.b=n},17776:function(e,t,n){"use strict";var i=n(33432),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.PRINTABLE_KEYS[173]="-",n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.default=t,t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}},66016:function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=n(89960).deepCopy,t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r},t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(e){return!1}return!0},t.skipEmptyMatch=function(e,t,n){return n&&e.codePointAt(t)>65535?2:1}},59513:function(e,t,n){"use strict";var i=n(20506);t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}},33432:function(e,t){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}},32087:function(e,t){t.N=function(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}},37661:function(e,t){t.K=function(e){e.stopPropagation();var t=e.currentTarget;t.scrollHeight>t.clientHeight||e.preventDefault()}},44202:function(e,t){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},i=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),r=n.userAgent||"",o=n.appName||"";t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==o||o.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=r.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isSafari=parseFloat(r.split(" Safari/")[1])&&!t.isChrome||void 0,t.isEdge=parseFloat(r.split(" Edge/")[1])||void 0,t.isAIR=r.indexOf("AdobeAIR")>=0,t.isAndroid=r.indexOf("Android")>=0,t.isChromeOS=r.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid},65592:function(e,t,n){"use strict";var i=n(20506);t.G=class{constructor(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}getRowLength(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t}$getWidgetScreenLength(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e}$onChangeEditor(e){this.attach(e.editor)}attach(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))}detach(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}}updateOnFold(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,o=i.end.row,a="add"==e.action,s=r+1;s<o;s++)n[s]&&(n[s].hidden=a);n[o]&&(a?n[r]?n[o].hidden=a:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=a))}}updateOnChange(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var r=t.splice(n+1,i);!t[n]&&r[r.length-1]&&(t[n]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}}$updateRows(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}}$registerLineWidget(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e}addLineWidget(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=i.createElement("div"),e.el.textContent=e.text),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&i.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex="5",t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex="3"),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var r=this.session.lineWidgets;e.row!=n.end.row||r[n.start.row]?e.hidden=!0:r[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e}removeLineWidget(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()}getWidgetsAtRow(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i}onWidgetChanged(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()}measureWidgets(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var a=n[o];if(a&&a.el&&a.session==this.session){if(!a._inDocument){if(this.session.lineWidgets[a.row]!=a)continue;a._inDocument=!0,t.container.appendChild(a.el)}a.h=a.el.offsetHeight,a.fixedWidth||(a.w=a.el.offsetWidth,a.screenWidth=Math.ceil(a.w/i.characterWidth));var s=a.h/i.lineHeight;a.coverLine&&(s-=this.session.getRowLineCount(a.row))<0&&(s=0),a.rowCount!=s&&(a.rowCount=s,a.row<r&&(r=a.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}}renderWidgets(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var a=r;a<=o;a++){var s=i[a];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var l=t.$cursorLayer.getPixelPosition({row:a,column:0},!0).top;s.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=l-n.offset+"px";var c=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(c-=t.scrollLeft),s.el.style.left=c+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=t.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}},3091:function(e,t){"use strict";var n;(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call((n=function(){this.$behaviours={}}).prototype),t.Q=n},94507:function(e,t,n){"use strict";var i=n(33432),r=(n(3091).Q,n(19600)._),o=n(49400).E,a=function(){this.inherit(r),this.add("colon","insertion",(function(e,t,n,i,r){if(":"===r&&n.selection.isEmpty()){var a=n.getCursorPosition(),s=new o(i,a.row,a.column),l=s.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=s.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(a.row);if(":"===c.substring(a.column,a.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(a.column)))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&":"===a){var s=n.getCursorPosition(),l=new o(i,s.row,s.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type&&";"===i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r}})),this.add("semicolon","insertion",(function(e,t,n,i,r){if(";"===r&&n.selection.isEmpty()){var o=n.getCursorPosition();if(";"===i.doc.getLine(o.row).substring(o.column,o.column+1))return{text:"",selection:[1,1]}}})),this.add("!important","insertion",(function(e,t,n,i,r){if("!"===r&&n.selection.isEmpty()){var o=n.getCursorPosition(),a=i.doc.getLine(o.row);if(/^\s*(;|}|$)/.test(a.substring(o.column)))return{text:"!important",selection:[10,10]}}}))};i.inherits(a,r),t.r=a},19600:function(e,t,n){"use strict";var i,r,o=n(33432),a=n(3091).Q,s=n(49400).E,l=n(66016),c=["text","paren.rparen","rparen","paren","punctuation.operator"],u=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],d={},h={'"':'"',"'":"'"},f=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,d.rangeCount!=e.multiSelect.rangeCount&&(d={rangeCount:e.multiSelect.rangeCount})),d[t])return i=d[t];i=d[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}};(r=function(e){e=e||{},this.add("braces","insertion",(function(t,n,o,a,s){var c=o.getCursorPosition(),u=a.doc.getLine(c.row);if("{"==s){f(o);var d=o.getSelectionRange(),h=a.doc.getTextRange(d);if(""!==h&&"{"!==h&&o.getWrapBehavioursEnabled())return p(d,h,"{","}");if(r.isSaneInsertion(o,a))return/[\]\}\)]/.test(u[c.column])||o.inMultiSelectMode||e.braces?(r.recordAutoInsert(o,a,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(o,a,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(f(o),"}"==u.substring(c.column,c.column+1)&&null!==a.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&r.isAutoInsertedClosing(c,u,s))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){f(o);var A="";if(r.isMaybeInsertedClosing(c,u)&&(A=l.stringRepeat("}",i.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),"}"===u.substring(c.column,c.column+1)){var g=a.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!g)return null;var m=this.$getIndent(a.getLine(g.row))}else{if(!A)return void r.clearMaybeInsertedClosing();m=this.$getIndent(u)}var v=m+a.getTabString();return{text:"\n"+v+"\n"+m+A,selection:[1,v.length,1,v.length]}}r.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,o){var a=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==a){if(f(n),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,o){if("("==o){f(n);var a=n.getSelectionRange(),s=i.doc.getTextRange(a);if(""!==s&&n.getWrapBehavioursEnabled())return p(a,s,"(",")");if(r.isSaneInsertion(n,i))return r.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==o){f(n);var l=n.getCursorPosition(),c=i.doc.getLine(l.row);if(")"==c.substring(l.column,l.column+1)&&null!==i.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,c,o))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(f(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(e,t,n,i,o){if("["==o){f(n);var a=n.getSelectionRange(),s=i.doc.getTextRange(a);if(""!==s&&n.getWrapBehavioursEnabled())return p(a,s,"[","]");if(r.isSaneInsertion(n,i))return r.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){f(n);var l=n.getCursorPosition(),c=i.doc.getLine(l.row);if("]"==c.substring(l.column,l.column+1)&&null!==i.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,c,o))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(f(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){var o=i.$mode.$quotes||h;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;f(n);var a=r,s=n.getSelectionRange(),l=i.doc.getTextRange(s);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return p(s,l,a,a);if(!l){var c=n.getCursorPosition(),u=i.doc.getLine(c.row),d=u.substring(c.column-1,c.column),A=u.substring(c.column,c.column+1),g=i.getTokenAt(c.row,c.column),m=i.getTokenAt(c.row,c.column+1);if("\\"==d&&g&&/escape/.test(g.type))return null;var v,y=g&&/string|escape/.test(g.type),b=!m||/string|escape/.test(m.type);if(A==a)(v=y!==b)&&/string\.end/.test(m.type)&&(v=!1);else{if(y&&!b)return null;if(y&&b)return null;var w=i.$mode.tokenRe;w.lastIndex=0;var x=w.test(d);w.lastIndex=0;var C=w.test(A),_=i.$mode.$pairQuotesAfter;if(!(_&&_[a]&&_[a].test(d))&&x||C)return null;if(A&&!/[\s;,.})\]\\]/.test(A))return null;var k=u[c.column-2];if(d==a&&(k==a||w.test(k)))return null;v=!0}return{text:v?a+a:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.$mode.$quotes||h,a=i.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(a)&&(f(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==a))return r.end.column++,r})),!1!==e.closeDocComment&&this.add("doc comment end","insertion",(function(e,t,n,i,r){if("doc-start"===e&&("\n"===r||"\r\n"===r)&&n.selection.isEmpty()){var o=n.getCursorPosition(),a=i.doc.getLine(o.row),s=i.doc.getLine(o.row+1),l=this.$getIndent(a);if(/\s*\*/.test(s))return/^\s*\*/.test(a)?{text:r+l+"* ",selection:[1,3+l.length,1,3+l.length]}:{text:r+l+" * ",selection:[1,3+l.length,1,3+l.length]};if(/\/\*\*/.test(a.substring(0,o.column)))return{text:r+l+" * "+r+" "+l+"*/",selection:[1,4+l.length,1,4+l.length]}}}))}).isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new s(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",c)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new s(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",c))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",u)},r.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},r.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+o.substr(r.column),i.autoInsertedBrackets++},r.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+n,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},r.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},r.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},r.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},r.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},o.inherits(r,a),t._=r},88157:function(e,t,n){"use strict";var i=n(33432),r=n(3091).Q,o=n(49400).E;function a(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}n(66016);var s=function(){this.add("string_dquotes","insertion",(function(e,t,n,i,r){if('"'==r||"'"==r){var s=r,l=i.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:s+l+s,selection:!1};var c=n.getCursorPosition(),u=i.doc.getLine(c.row).substring(c.column,c.column+1),d=new o(i,c.row,c.column),h=d.getCurrentToken();if(u==s&&(a(h,"attribute-value")||a(h,"string")))return{text:"",selection:[1,1]};if(h||(h=d.stepBackward()),!h)return;for(;a(h,"tag-whitespace")||a(h,"whitespace");)h=d.stepBackward();var f=!u||u.match(/\s/);if(a(h,"attribute-equals")&&(f||">"==u)||a(h,"decl-attribute-equals")&&(f||"?"==u))return{text:s+s,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)&&i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o)return r.end.column++,r})),this.add("autoclosing","insertion",(function(e,t,n,i,r){if(">"==r){var s=n.getSelectionRange().start,l=new o(i,s.row,s.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(a(c,"tag-name")||a(c,"tag-whitespace")||a(c,"attribute-name")||a(c,"attribute-equals")||a(c,"attribute-value")))return;if(a(c,"reference.attribute-value"))return;if(a(c,"attribute-value")){var u=l.getCurrentTokenColumn()+c.value.length;if(s.column<u)return;if(s.column==u){var d=l.stepForward();if(d&&a(d,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(i.getLine(s.row).slice(s.column)))return;for(;!a(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var h=l.getCurrentTokenRow(),f=l.getCurrentTokenColumn();if(a(l.stepBackward(),"end-tag-open"))return;var p=c.value;if(h==s.row&&(p=p.substring(0,s.column-f)),this.voidElements.hasOwnProperty(p.toLowerCase()))return;return{text:"></"+p+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,i,r){if("\n"==r){var a=n.getCursorPosition(),s=i.getLine(a.row),l=new o(i,a.row,a.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,d=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var h=i.getTokenAt(a.row,a.column+1),f=(s=i.getLine(d),this.$getIndent(s)),p=f+i.getTabString();return h&&"</"===h.value?{text:"\n"+p+"\n"+f,selection:[1,p.length,1,p.length]}:{text:"\n"+p}}}}}))};i.inherits(s,r),t.XmlBehaviour=s},90327:function(e,t,n){"use strict";var i=n(33432),r=n(11569).Mode,o=n(66244).CssHighlightRules,a=n(10803).MatchingBraceOutdent,s=n(28921).WorkerClient,l=n(2339).d,c=n(94507).r,u=n(22238).l,d=function(){this.HighlightRules=o,this.$outdent=new a,this.$behaviour=new c,this.$completer=new l,this.foldingRules=new u};i.inherits(d,r),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"==r[r.length-1].type||t.match(/^.*\{\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}.call(d.prototype),t.Mode=d},2339:function(e,t){"use strict";var n={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},i=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var i=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}));n.hasOwnProperty(i)||(n[i]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,i){if(this.completionsDefined||this.defineCompletions(),"ruleset"===e||"ace/mode/scss"==t.$mode.$id){var r=t.getLine(n.row).substr(0,n.column),o=/\([^)]*$/.test(r);return o&&(r=r.substr(r.lastIndexOf("(")+1)),/:[^;]+$/.test(r)?(/([\w\-]+):[^:]*$/.test(r),this.getPropertyValueCompletions(e,t,n,i)):this.getPropertyCompletions(e,t,n,i,o)}return[]},this.getPropertyCompletions=function(e,t,i,r,o){return o=o||!1,Object.keys(n).map((function(e){return{caption:e,snippet:e+": $0"+(o?"":";"),meta:"property",score:1e6}}))},this.getPropertyValueCompletions=function(e,t,i,r){var o=t.getLine(i.row).substr(0,i.column),a=(/([\w\-]+):[^:]*$/.exec(o)||{})[1];if(!a)return[];var s=[];return a in n&&"object"==typeof n[a]&&(s=Object.keys(n[a])),s.map((function(e){return{caption:e,snippet:e,meta:"property value",score:1e6}}))}}).call(i.prototype),t.d=i},66244:function(e,t,n){"use strict";var i=n(33432),r=(n(66016),n(81926).r),o=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",a=t.supportFunction="rgb|rgba|url|attr|counter|counters",s=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",d=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",h=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",f=function(){var e=this.createKeywordMapper({"support.function":a,"support.constant":s,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:u},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:d},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:h},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};i.inherits(f,r),t.CssHighlightRules=f},22238:function(e,t,n){"use strict";var i=n(33432),r=n(35339).Q,o=n(97293).FoldMode,a=t.l=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(a,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(r=o.match(this.foldingStartMarker)){var a=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,a);var s=e.getCommentFoldRange(n,a+r[0].length,1);return s&&!s.isMultiLine()&&(i?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}return"markbegin"!==t&&(r=o.match(this.foldingStopMarker))?(a=r.index+r[0].length,r[1]?this.closingBracketBlock(e,r[1],n,a):e.getCommentFoldRange(n,a,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,a=n.length,s=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(i==c)break}s=t}}return new r(o,a,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),a=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=s.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>a)return new r(a,i,n,t.length)}}.call(a.prototype)},97293:function(e,t,n){"use strict";var i=n(35339).Q,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,o=e.getLine(t),a=o.search(r);if(-1!=a){for(var s=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var d=e.getLine(t).search(r);if(-1!=d){if(d<=a){var h=e.getTokenAt(t,0);if(!h||"string"!==h.type)break}u=t}}if(u>c){var f=e.getLine(u).length;return new i(c,s,u,f)}}},this.openingBracketBlock=function(e,t,n,r,o){var a={row:n,column:r+1},s=e.$findClosingBracket(t,a,o);if(s){var l=e.foldWidgets[s.row];return null==l&&(l=e.getFoldWidget(s.row)),"start"==l&&s.row>a.row&&(s.row--,s.column=e.getLine(s.row).length),i.fromPoints(a,s)}},this.closingBracketBlock=function(e,t,n,r,o){var a={row:n,column:r},s=e.$findOpeningBracket(t,a);if(s)return s.column++,a.column--,i.fromPoints(s,a)}}).call(r.prototype)},73681:function(e,t,n){"use strict";var i=n(33432),r=n(5957).l,o=n(82287).l,a=n(22238).l,s=t.FoldMode=function(e,t){r.call(this,new o(e,t),{"js-":new a,"css-":new a})};i.inherits(s,r)},5957:function(e,t,n){"use strict";var i=n(33432),r=n(97293).FoldMode,o=t.l=function(e,t){this.defaultMode=e,this.subModes=t};i.inherits(o,r),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,i){var r=this.$getMode(e);return r?r.getFoldWidget(t,n,i):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var i=this.$getMode(e.getState(n-1));return i&&i.getFoldWidget(e,t,n)||(i=this.$getMode(e.getState(n))),i&&i.getFoldWidget(e,t,n)||(i=this.defaultMode),i.getFoldWidgetRange(e,t,n)}}.call(o.prototype)},30323:function(e,t,n){"use strict";var i=n(33432),r=n(97293).FoldMode,o=n(35339).Q,a=t.l=function(){};i.inherits(a,r),function(){this.getFoldWidgetRange=function(e,t,n){var i=this.indentationBlock(e,n);if(i)return i;var r=/\S/,a=e.getLine(n),s=a.search(r);if(-1!=s&&"##"==a[s]){for(var l=a.length,c=e.getLength(),u=n,d=n;++n<c;){var h=(a=e.getLine(n)).search(r);if(-1!=h){if("##"!=a[h])break;d=n}}if(d>u){var f=e.getLine(d).length;return new o(u,l,d,f)}}},this.getFoldWidget=function(e,t,n){var i=e.getLine(n),r=i.search(/\S/),o=e.getLine(n+1),a=e.getLine(n-1),s=a.search(/\S/),l=o.search(/\S/);if(-1==r)return e.foldWidgets[n-1]=-1!=s&&s<l?"start":"","";if(-1==s){if(r==l&&"##"==i[r]&&"##"==o[r])return e.foldWidgets[n-1]="",e.foldWidgets[n+1]="","start"}else if(s==r&&"##"==i[r]&&"##"==a[r]&&-1==e.getLine(n-2).search(/\S/))return e.foldWidgets[n-1]="start",e.foldWidgets[n+1]="","";return e.foldWidgets[n-1]=-1!=s&&s<r?"start":"",r<l?"start":""}}.call(a.prototype)},82287:function(e,t,n){"use strict";var i=n(33432),r=n(35339).Q,o=n(97293).FoldMode,a=t.l=function(e,t){o.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(a,o);var s=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function l(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"===t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())||this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),i=new s,r=0;r<n.length;r++){var o=n[r];if(l(o,"tag-open")){if(i.end.column=i.start.column+o.value.length,i.closing=l(o,"end-tag-open"),!(o=n[++r]))return null;for(i.tagName=o.value,i.end.column+=o.value.length,r++;r<n.length;r++)if(o=n[r],i.end.column+=o.value.length,l(o,"tag-close")){i.selfClosing="/>"==o.value;break}return i}if(l(o,"tag-close"))return i.selfClosing="/>"==o.value,i;i.start.column+=o.value.length}return null},this._findEndTagInLine=function(e,t,n,i){for(var r=e.getTokens(t),o=0,a=0;a<r.length;a++){var s=r[a];if(!((o+=s.value.length)<i)&&l(s,"end-tag-open")&&(s=r[a+1])&&s.value==n)return!0}return!1},this.getFoldWidgetRange=function(e,t,n){var i=e.getMatchingTags({row:n,column:0});return i?new r(i.openTag.end.row,i.openTag.end.column,i.closeTag.start.row,i.closeTag.start.column):this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length)}}).call(a.prototype)},10599:function(e,t,n){"use strict";var i=n(33432),r=n(66016),o=n(11569).Mode,a=n(54797).Mode,s=n(90327).Mode,l=n(95316).HtmlHighlightRules,c=n(88157).XmlBehaviour,u=n(73681).FoldMode,d=n(81875).HtmlCompletions,h=n(28921).WorkerClient,f=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],p=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],A=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new d,this.createModeDelegates({"js-":a,"css-":s}),this.foldingRules=new u(this.voidElements,r.arrayToMap(p))};i.inherits(A,o),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=r.arrayToMap(f),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){if(this.constructor==A){var t=new h(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}.call(A.prototype),t.Mode=A},81875:function(e,t,n){"use strict";var i=n(49400).E,r=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),o={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},a=Object.keys(o);function s(e,t){return e.type.lastIndexOf(t+".xml")>-1}function l(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!s(r,"tag-name");)r=n.stepBackward();if(r)return r.value}var c=function(){};(function(){this.getCompletions=function(e,t,n,i){var r=t.getTokenAt(n.row,n.column);if(!r)return[];if(s(r,"tag-name")||s(r,"tag-open")||s(r,"end-tag-open"))return this.getTagCompletions(e,t,n,i);if(s(r,"tag-whitespace")||s(r,"attribute-name"))return this.getAttributeCompletions(e,t,n,i);if(s(r,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,i);var o=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(o)?this.getHTMLEntityCompletions(e,t,n,i):[]},this.getTagCompletions=function(e,t,n,i){return a.map((function(e){return{value:e,meta:"tag",score:1e6}}))},this.getAttributeCompletions=function(e,t,n,i){var a=l(t,n);if(!a)return[];var s=r;return a in o&&(s=s.concat(Object.keys(o[a]))),s.map((function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:1e6}}))},this.getAttributeValueCompletions=function(e,t,n,r){var a=l(t,n),c=function(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!s(r,"attribute-name");)r=n.stepBackward();if(r)return r.value}(t,n);if(!a)return[];var u=[];return a in o&&c in o[a]&&"object"==typeof o[a][c]&&(u=Object.keys(o[a][c])),u.map((function(e){return{caption:e,snippet:e,meta:"attribute value",score:1e6}}))},this.getHTMLEntityCompletions=function(e,t,n,i){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map((function(e){return{caption:e,snippet:e,meta:"html entity",score:1e6}}))}}).call(c.prototype),t.HtmlCompletions=c},95316:function(e,t,n){"use strict";var i=n(33432),r=n(66016),o=n(66244).CssHighlightRules,a=n(86202).JavaScriptHighlightRules,s=n(61454).l,l=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){s.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(new a({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};i.inherits(c,s),t.HtmlHighlightRules=c},54797:function(e,t,n){"use strict";var i=n(33432),r=n(11569).Mode,o=n(86202).JavaScriptHighlightRules,a=n(10803).MatchingBraceOutdent,s=n(28921).WorkerClient,l=n(19600)._,c=n(22238).l,u=function(){this.HighlightRules=o,this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c};i.inherits(u,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,a=r.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==e||"no_regex"==e)(s=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==e){if("start"==a||"no_regex"==a)return"";var s;(s=t.match(/^\s*(\/?)\*/))&&(s[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(u.prototype),t.Mode=u},86202:function(e,t,n){"use strict";var i=n(33432),r=n(48450).U,o=n(81926).r,a="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",s=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),c("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+a+")(\\.)(prototype)(\\.)("+a+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:t,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),c("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[c("function_arguments"),{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+a+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),e&&0==e.jsx||l.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=a.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,c("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function c(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.inherits(s,o),t.JavaScriptHighlightRules=s},48450:function(e,t,n){"use strict";var i=n(33432),r=n(81926).r,o=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};i.inherits(o,r),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.U=o},10803:function(e,t,n){"use strict";var i=n(35339).Q,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var r=n[1].length,o=e.findMatchingBracket({row:t,column:r});if(!o||o.row==t)return 0;var a=this.$getIndent(e.getLine(o.row));e.replace(new i(t,0,t,r-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r},11569:function(e,t,n){"use strict";var i,r=n(88814),o=n(66739).Tokenizer,a=n(81926).r,s=n(19600)._,l=n(78853),c=n(66016),u=n(49400).E,d=n(35339).Q;(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+l.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+l.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,o=!0,a=!0,s=1/0,l=t.getTabSize(),u=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(A=this.lineCommentStart.map(c.escapeRegExp).join("|"),f=this.lineCommentStart[0]):(A=c.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart),A=new RegExp("^(\\s*)(?:"+A+") ?"),u=t.getUseSoftTabs(),v=function(e,t){var n=e.match(A);if(n){var i=n[1].length,o=n[0].length;h(e,i,o)||" "!=n[0][o-1]||o--,r.removeInLine(t,i,o)}};var d=f+" ",h=(m=function(e,t){o&&!/\S/.test(e)||(h(e,s,s)?r.insertInLine({row:t,column:s},d):r.insertInLine({row:t,column:s},f))},y=function(e,t){return A.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%l!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return l>2?i%l!=l-1:i%l==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,A=new RegExp("^(\\s*)(?:"+c.escapeRegExp(f)+")"),g=new RegExp("(?:"+c.escapeRegExp(p)+")\\s*$"),m=function(e,t){y(e,t)||o&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},p),r.insertInLine({row:t,column:s},f))},v=function(e,t){var n;(n=e.match(g))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(A))&&r.removeInLine(t,n[1].length,n[0].length)},y=function(e,n){if(A.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function b(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var w=1/0;b((function(e,t){var n=e.search(/\S/);-1!==n?(n<s&&(s=n),a&&!y(e,t)&&(a=!1)):w>e.length&&(w=e.length)})),s==1/0&&(s=w,o=!1,a=!1),u&&s%l!=0&&(s=Math.floor(s/l)*l),b(a?v:m)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,a,s=(A=new u(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(s&&/comment/.test(s.type)){for(var c,h;s&&/comment/.test(s.type);){if(-1!=(g=s.value.indexOf(r.start))){var f=A.getCurrentTokenRow(),p=A.getCurrentTokenColumn()+g;c=new d(f,p,f,p+r.start.length);break}s=A.stepBackward()}var A;for(s=(A=new u(t,i.row,i.column)).getCurrentToken();s&&/comment/.test(s.type);){var g;if(-1!=(g=s.value.indexOf(r.end))){f=A.getCurrentTokenRow(),p=A.getCurrentTokenColumn()+g,h=new d(f,p,f,p+r.end.length);break}s=A.stepForward()}h&&t.remove(h),c&&(t.remove(c),o=c.start.row,a=-r.start.length)}else a=r.start.length,o=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);l.start.row==o&&(l.start.column+=a),l.end.row==o&&(l.end.column+=a),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(let o in e)if(e[o]){var t=e[o],n=t.prototype.$id,i=r.$modes[n];i||(r.$modes[n]=i=new t),r.$modes[o]||(r.$modes[o]=i),this.$embeds.push(o),this.$modes[o]=i}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(let e=0;e<o.length;e++)!function(t){var n=o[e],i=t[n];t[o[e]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(a=this.$modes[r])return a[e].apply(a,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var a,s=i.split(this.$embeds[o]);if(!s[0]&&s[1])return t[0]=s[1],(a=this.$modes[this.$embeds[o]])[e].apply(a,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var a in o)if(o[a][t]){var s=o[a][t].apply(this,arguments);if(s)return s}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,a=r.length;o<a;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var s=0,l=r[o].token.length;s<l;s++)/keyword|support|storage/.test(r[o].token[s])&&(i=r[o].regex.match(/\(.+?\)/g)[s],n.push(i.substr(1,i.length-2)));this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call((i=function(){this.HighlightRules=a}).prototype),t.Mode=i},81926:function(e,t,n){"use strict";const i=n(89960).deepCopy;var r;(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,o){var a="function"==typeof e?(new e).getRules():e;if(r)for(var s=0;s<r.length;s++)r[s]=t+r[s];else for(var l in r=[],a)r.push(t+l);if(this.addRules(a,t),n){var c=Array.prototype[o?"push":"unshift"];for(s=0;s<r.length;s++)c.apply(this.$rules[r[s]],i(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(o){var a=i[o];a.processed=!0;for(var s=0;s<a.length;s++){var l=a[s],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var d=l.stateName;d||("string"!=typeof(d=l.token)&&(d=d[0]||""),i[d]&&(d+=n++)),i[d]=u,l.next=d,r(d)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)i[h]?i[h].push&&i[h].push.apply(i[h],l.rules[h]):i[h]=l.rules[h];var f="string"==typeof l?l:l.include;if(f&&("$self"===f&&(f="start"),c=Array.isArray(f)?f.map((function(e){return i[e]})):i[f]),c){var p=[s,1].concat(c);l.noEscape&&(p=p.filter((function(e){return!e.next}))),a.splice.apply(a,p),s--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),a=o.length;a--;){var s=o[a];this.$keywordList.push(s),n&&(s=s.toLowerCase()),r[s]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call((r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}).prototype),t.r=r},11485:function(e,t,n){"use strict";var i=n(33432),r=n(10599).Mode,o=n(29610).VelocityHighlightRules,a=n(30323).l,s=function(){r.call(this),this.HighlightRules=o,this.foldingRules=new a};i.inherits(s,r),function(){this.lineCommentStart="##",this.blockComment={start:"#*",end:"*#"},this.$id="ace/mode/velocity",this.snippetFileId="ace/snippets/velocity"}.call(s.prototype),t.Mode=s},29610:function(e,t,n){"use strict";var i=n(33432),r=n(66016),o=n(81926).r,a=n(95316).HtmlHighlightRules,s=function(){a.call(this);var e=r.arrayToMap("true|false|null".split("|")),t=r.arrayToMap("_DateTool|_DisplayTool|_EscapeTool|_FieldTool|_MathTool|_NumberTool|_SerializerTool|_SortTool|_StringTool|_XPathTool".split("|")),n=r.arrayToMap("$contentRoot|$foreach".split("|")),i=r.arrayToMap("#set|#macro|#include|#parse|#if|#elseif|#else|#foreach|#break|#end|#stop".split("|"));for(var o in this.$rules.start.push({token:"comment",regex:"##.*$"},{token:"comment.block",regex:"#\\*",next:"vm_comment"},{token:"string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:function(r){return i.hasOwnProperty(r)?"keyword":e.hasOwnProperty(r)?"constant.language":n.hasOwnProperty(r)?"variable.language":t.hasOwnProperty(r)||t.hasOwnProperty(r.substring(1))?"support.function":"debugger"==r?"invalid.deprecated":r.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*)$/)?"variable":"identifier"},regex:"[a-zA-Z$#][a-zA-Z0-9_]*\\b"},{token:"keyword.operator",regex:"!|&|\\*|\\-|\\+|=|!=|<=|>=|<|>|&&|\\|\\|"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}),this.$rules.vm_comment=[{token:"comment",regex:"\\*#|--\x3e",next:"start"},{defaultToken:"comment"}],this.$rules.vm_start=[{token:"variable",regex:"}",next:"pop"},{token:"string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:function(r){return i.hasOwnProperty(r)?"keyword":e.hasOwnProperty(r)?"constant.language":n.hasOwnProperty(r)?"variable.language":t.hasOwnProperty(r)||t.hasOwnProperty(r.substring(1))?"support.function":"debugger"==r?"invalid.deprecated":r.match(/^(\$[a-zA-Z_$][a-zA-Z0-9_]*)$/)?"variable":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|&|\\*|\\-|\\+|=|!=|<=|>=|<|>|&&|\\|\\|"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],this.$rules)this.$rules[o].unshift({token:"variable",regex:"\\${",push:"vm_start"});this.normalizeRules()};i.inherits(s,o),t.VelocityHighlightRules=s},61454:function(e,t,n){"use strict";var i=n(33432),r=n(81926).r,o=function(e){var t="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),i.inherits(o,r),t.l=o},40458:function(e,t,n){"use strict";var i=n(20506),r=n(78946),o=n(77961).m_,a=n(88814).nls;t.Y=function(e){var t,n,o=e.editor,a=o.renderer.$gutterLayer,l=new s(o);function c(){t&&(t=clearTimeout(t)),l.isOpen&&(l.hideTooltip(),o.off("mousewheel",c))}function u(e){l.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(o.isFocused()&&0==t.getButton()&&"foldWidgets"!=a.getRegion(t)){var n=t.getDocumentPosition().row,i=o.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return o.selectAll(),t.preventDefault();e.$clickSelection=o.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(r){var s=r.domEvent.target||r.domEvent.srcElement;if(i.hasCssClass(s,"ace_fold-widget"))return c();l.isOpen&&e.$tooltipFollowsMouse&&u(r),n=r,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row;if(t==o.session.getLength()){var i=o.renderer.pixelToScreenCoordinates(0,n.y).row,r=n.$pos;if(i>o.session.documentToScreenRow(r.row,r.column))return c()}if(l.showTooltip(t),l.isOpen)if(o.on("mousewheel",c),e.$tooltipFollowsMouse)u(n);else{var s=n.getGutterRow(),d=a.$lines.get(s);if(d){var h=d.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),f=l.getElement().style;f.left=h.right+"px",f.top=h.bottom+"px"}else u(n)}}():c()}),50))})),r.addListener(o.renderer.$gutter,"mouseout",(function(e){n=null,l.isOpen&&!t&&(t=setTimeout((function(){t=null,c()}),50))}),o),o.on("changeSession",c),o.on("input",c)};class s extends o{constructor(e){super(e.container),this.editor=e}setPosition(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),a=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+a>i&&(t-=20+a),o.prototype.setPosition.call(this,e,t)}static get annotationLabels(){return{error:{singular:a("error"),plural:a("errors")},warning:{singular:a("warning"),plural:a("warnings")},info:{singular:a("information message"),plural:a("information messages")}}}showTooltip(e){var t,n=this.editor.renderer.$gutterLayer,i=n.$annotations[e];t=i?{text:Array.from(i.text),type:Array.from(i.type)}:{text:[],type:[]};var r=n.session.getFoldLine(e);if(r&&n.$showFoldedAnnotations){var o,a={error:[],warning:[],info:[]};for(let t=e+1;t<=r.end.row;t++)if(n.$annotations[t])for(var l=0;l<n.$annotations[t].text.length;l++){var c=n.$annotations[t].type[l];a[c].push(n.$annotations[t].text[l]),"error"!==c?"warning"!==c||(o="warning_fold"):o="error_fold"}if("error_fold"===o||"warning_fold"===o){var u=`${s.annotationsToSummaryString(a)} in folded code.`;t.text.push(u),t.type.push(o)}}if(0===t.text.length)return this.hide();var d={error:[],warning:[],info:[]},h=n.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(let e=0;e<t.text.length;e++){var f=`<span class='ace_${t.type[e]} ${h}' aria-label='${s.annotationLabels[t.type[e].replace("_fold","")].singular}' role=img> </span> ${t.text[e]}`;d[t.type[e].replace("_fold","")].push(f)}var p=[].concat(d.error,d.warning,d.info).join("<br>");this.setHtml(p),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)}hideTooltip(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)}static annotationsToSummaryString(e){const t=[],n=["error","warning","info"];for(const i of n){if(!e[i].length)continue;const n=1===e[i].length?s.annotationLabels[i].singular:s.annotationLabels[i].plural;t.push(`${e[i].length} ${n}`)}return t.join(", ")}}t.Z=s},25439:function(e,t,n){"use strict";var i=n(44202);class r{constructor(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}onMouseDown(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,o=e.getButton();return 0!==o?((r.getSelectionRange().isEmpty()||1==o)&&r.selection.moveToPosition(n),void(2==o&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))}startSelect(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.setStyle("ace_selecting"),this.setState("select"))}select(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()}extendSelectionBy(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var a=this.$clickSelection.comparePoint(r.start),s=this.$clickSelection.comparePoint(r.end);if(-1==a&&s<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==s&&a>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==a&&1==s)i=r.end,t=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()}selectByLinesEnd(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")}focusWait(){var e,t,n,i,r=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))),o=Date.now();(r>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())}onDoubleClick(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()}onTripleClick(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()}onQuadClick(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")}onMouseWheel(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,o=r?e.wheelX/r:n.vx,a=r?e.wheelY/r:n.vy;r<550&&(o=(o+n.vx)/2,a=(a+n.vy)/2);var s=Math.abs(o/a),l=!1;return s>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),s<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?n.allowed=i:i-n.allowed<550&&(Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(a)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0),n.t=i,n.vx=o,n.vy=a,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}r.prototype.selectEnd=r.prototype.selectByLinesEnd,r.prototype.selectAllEnd=r.prototype.selectByLinesEnd,r.prototype.selectByWordsEnd=r.prototype.selectByLinesEnd,t.J=r},44132:function(e,t,n){"use strict";var i=n(20506),r=n(78946),o=n(44202);function a(e){var t=e.editor,n=i.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var a,l,c,u,d,h,f,p,A,g,m,v=t.container,y=0;function b(){var e=h;(function(e,n){var i=Date.now(),r=!n||e.row!=n.row,o=!n||e.column!=n.column;!g||r||o?(t.moveCursorToPosition(e),g=i,m={x:l,y:c}):s(m.x,m.y,l,c)>5?g=null:i-g>=200&&(t.renderer.scrollCursorIntoView(),g=null)})(h=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,a=t.renderer.scroller.getBoundingClientRect(),s={x:{left:l-a.left,right:a.right-l},y:{top:c-a.top,bottom:a.bottom-c}},u=Math.min(s.x.left,s.x.right),d=Math.min(s.y.top,s.y.bottom),h={row:e.row,column:e.column};u/o<=2&&(h.column+=s.x.left<s.x.right?-3:2),d/r<=1&&(h.row+=s.y.top<s.y.bottom?-1:1);var f=e.row!=h.row,p=e.column!=h.column,g=!n||e.row!=n.row;f||p&&!g?A?i-A>=200&&t.renderer.scrollCursorIntoView(h):A=i:A=null}(h,e)}function w(){d=t.selection.toOrientedRange(),a=t.session.addMarker(d,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),b(),u=setInterval(b,20),y=0,r.addListener(document,"mousemove",_)}function x(){clearInterval(u),t.session.removeMarker(a),a=null,t.selection.fromOrientedRange(d),t.isFocused()&&!p&&t.$resetCursorStyle(),d=null,h=null,y=0,A=null,g=null,r.removeListener(document,"mousemove",_)}this.onDragStart=function(e){if(this.cancelDrag||!v.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}d=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(n),r.setDragImage&&r.setDragImage(n,0,0),setTimeout((function(){t.container.removeChild(n)})),r.clearData(),r.setData("Text",t.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(e){if(v.draggable=!1,p=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;f||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&k(e.dataTransfer))return l=e.clientX,c=e.clientY,a||w(),y++,e.dataTransfer.dropEffect=f=S(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&k(e.dataTransfer))return l=e.clientX,c=e.clientY,a||(w(),y++),null!==C&&(C=null),e.dataTransfer.dropEffect=f=S(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--y<=0&&a)return x(),f=null,r.preventDefault(e)},this.onDrop=function(e){if(h){var n=e.dataTransfer;if(p)switch(f){case"move":d=d.contains(h.row,h.column)?{start:h,end:h}:t.moveText(d,h);break;case"copy":d=t.moveText(d,h,!0)}else{var i=n.getData("Text");d={start:h,end:t.session.insert(h,i)},t.focus(),f=null}return x(),r.preventDefault(e)}},r.addListener(v,"dragstart",this.onDragStart.bind(e),t),r.addListener(v,"dragend",this.onDragEnd.bind(e),t),r.addListener(v,"dragenter",this.onDragEnter.bind(e),t),r.addListener(v,"dragover",this.onDragOver.bind(e),t),r.addListener(v,"dragleave",this.onDragLeave.bind(e),t),r.addListener(v,"drop",this.onDrop.bind(e),t);var C=null;function _(){null==C&&(C=setTimeout((function(){null!=C&&a&&x()}),20))}function k(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function S(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function s(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),t.getDragDelay()?(o.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(a.prototype),t.O=a},14764:function(e,t,n){"use strict";var i=n(20506);t.e=class{constructor(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,o=r.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?r.removeFold(o):r.expandFold(o),t.stop());var a=t.domEvent&&t.domEvent.target;a&&i.hasCssClass(a,"ace_inline_button")&&i.hasCssClass(a,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var a=i.getFoldAt(n,i.getLine(n).length,1);a?i.removeFold(a):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}}},3934:function(e,t,n){"use strict";var i=n(78946),r=n(44202);t.C=class{constructor(e,t){this.speed,this.wheelX,this.wheelY,this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}stopPropagation(){i.stopPropagation(this.domEvent),this.propagationStopped=!0}preventDefault(){i.preventDefault(this.domEvent),this.defaultPrevented=!0}stop(){this.stopPropagation(),this.preventDefault()}getDocumentPosition(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos}getGutterRow(){var e=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(e,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)}inSelection(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection}getButton(){return i.getButton(this.domEvent)}getShiftKey(){return this.domEvent.shiftKey}getAccelKey(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey}}},77418:function(e,t,n){"use strict";var i=n(78946),r=n(44202),o=n(25439).J,a=n(40458).Y,s=n(3934).C,l=n(44132).O,c=n(97134).A,u=n(88814);class d{constructor(e){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var t=this;this.editor=e,new o(this),new a(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},s=e.renderer.getMouseEventTarget();i.addListener(s,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([s,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(s,"mousedown",n,e),i.addListener(u,"mousedown",n,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)}onMouseEvent(e,t){this.editor.session&&this.editor._emit(e,new s(t,this.editor))}onMouseMove(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))}onMouseWheel(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)}setState(e){this.state=e}captureMouse(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var a=this,l=function(e){if(e){if(r.isWebKit&&!e.which&&a.releaseMouse)return a.releaseMouse();a.x=e.clientX,a.y=e.clientY,t&&t(e),a.mouseEvent=new s(e,a.editor),a.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",d),clearInterval(h),n.session&&u(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",a.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e),n.endOperation()},u=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var d=function(e){a.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};n.on("beforeEndOperation",d),n.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=l,a.releaseMouse=i.capture(this.editor.container,l,c);var h=setInterval(u,20)}cancelContextMenu(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}destroy(){this.releaseMouse&&this.releaseMouse()}}d.prototype.releaseMouse=null,u.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.e=d},69065:function(e,t,n){var i=n(78946),r=n(44202);function o(e,t){return e.row==t.row&&e.column==t.column}t.r=function(e){var t=e.domEvent,n=t.altKey,a=t.shiftKey,s=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(s&&r.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(s||n||l){if(0===c){var u,d=e.editor,h=d.selection,f=d.inMultiSelectMode,p=e.getDocumentPosition(),A=h.getCursor(),g=e.inSelection()||h.isEmpty()&&o(p,A),m=e.x,v=e.y,y=d.session,b=d.renderer.pixelToScreenCoordinates(m,v),w=b;if(d.$mouseHandler.$enableJumpToDef)s&&n||l&&n?u=a?"block":"add":n&&d.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!f&&a)return}else n&&d.$blockSelectEnabled&&(u="block");if(u&&r.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&g)return;if(!f){var x=h.toOrientedRange();d.addSelectionMarker(x)}var C=h.rangeList.rangeAtPoint(p);d.inVirtualSelectionMode=!0,a&&(C=null,x=h.ranges[0]||x,d.removeSelectionMarker(x)),d.once("mouseup",(function(){var e=h.toOrientedRange();C&&e.isEmpty()&&o(C.cursor,e.cursor)?h.substractPoint(e.cursor):(a?h.substractPoint(x.cursor):x&&(d.removeSelectionMarker(x),h.addRange(x)),h.addRange(e)),d.inVirtualSelectionMode=!1}))}else if("block"==u){var _;e.stop(),d.inVirtualSelectionMode=!0;var k=[],S=function(){var e=d.renderer.pixelToScreenCoordinates(m,v),t=y.screenToDocumentPosition(e.row,e.column,e.offsetX);o(w,e)&&o(t,h.lead)||(w=e,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(k),k=h.rectangularRangeBlock(w,b),d.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=d.$mouseHandler.$clickSelection.clone()),k.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers())};f&&!l?h.toSingleRange():!f&&l&&(_=h.toOrientedRange(),d.addSelectionMarker(_)),a?b=y.documentToScreenPosition(h.lead):h.moveToPosition(p),w={row:-1,column:-1};var E=S;i.capture(d.container,(function(e){m=e.clientX,v=e.clientY}),(function(e){S(),clearInterval(T),d.removeSelectionMarkers(k),k.length||(k=[h.toOrientedRange()]),_&&(d.removeSelectionMarker(_),h.toSingleRange(_));for(var t=0;t<k.length;t++)h.addRange(k[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null}));var T=setInterval((function(){E()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}},97134:function(e,t,n){"use strict";var i=n(3934).C,r=n(78946),o=n(20506);t.A=function(e,t){var n,a,s,l,c,u,d,h,f,p="scroll",A=0,g=0,m=0,v=0;function y(){var e,n,i;f||(e=window.navigator&&window.navigator.clipboard,n=!1,i=function(i){var r,a,s=i.target.getAttribute("action");if("more"==s||!n)return n=!n,r=t.getCopyText(),a=t.session.getUndoManager().hasUndo(),void f.replaceChild(o.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],a&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),f.firstChild);"paste"==s?e.readText().then((function(e){t.execCommand(s,e)})):s&&("cut"!=s&&"copy"!=s||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(s)),f.firstChild.style.display="none",n=!1,"openCommandPalette"!=s&&t.focus()},f=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){p="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container));var r=t.selection.cursor,a=t.renderer.textToScreenCoordinates(r.row,r.column),s=t.renderer.textToScreenCoordinates(0,0).pageX,l=t.renderer.scrollLeft,c=t.container.getBoundingClientRect();f.style.top=a.pageY-c.top-3+"px",a.pageX-c.left<c.width-70?(f.style.left="",f.style.right="10px"):(f.style.right="",f.style.left=s+l-c.left+"px"),f.style.display="",f.firstChild.style.display="none",t.on("input",b)}function b(e){f&&(f.style.display="none"),t.off("input",b)}function w(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(d.row,d.column);!e.isEmpty()&&n||(t.selection.moveToPosition(d),t.selection.selectWord()),p="wait",y()}r.addListener(e,"contextmenu",(function(e){h&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(c||r.length>1)return clearTimeout(c),c=null,s=-1,void(p="zoom");h=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,f=e.timeStamp;l=f;var y=r[0],b=y.clientX,x=y.clientY;Math.abs(n-b)+Math.abs(a-x)>o&&(s=-1),n=e.clientX=b,a=e.clientY=x,m=v=0;var C=new i(e,t);if(d=C.getDocumentPosition(),f-s<500&&1==r.length&&!A)g++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(d);var e=g>=2?t.selection.getLineRange(d.row):t.session.getBracketRange(d);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),p="wait"}();else{g=0;var _=t.selection.cursor,k=t.selection.isEmpty()?_:t.selection.anchor,S=t.renderer.$cursorLayer.getPixelPosition(_,!0),E=t.renderer.$cursorLayer.getPixelPosition(k,!0),T=t.renderer.scroller.getBoundingClientRect(),B=t.renderer.layerConfig.offset,I=t.renderer.scrollLeft,D=function(e,t){return(e/=u)*e+(t=t/o-.75)*t};if(e.clientX<T.left)return void(p="zoom");var F=D(e.clientX-T.left-S.left+I,e.clientY-T.top-S.top+B),M=D(e.clientX-T.left-E.left+I,e.clientY-T.top-E.top+B);F<3.5&&M<3.5&&(p=F>M?"cursor":"anchor"),p=M<3.5?"anchor":F<3.5?"cursor":"scroll",c=setTimeout(w,450)}s=f}),t),r.addListener(e,"touchend",(function(e){h=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==p?(p="",A=0):c?(t.selection.moveToPosition(d),A=0,y()):"scroll"==p?(A+=60,u=setInterval((function(){A--<=0&&(clearInterval(u),u=null),Math.abs(m)<.01&&(m=0),Math.abs(v)<.01&&(v=0),A<20&&(m*=.9),A<20&&(v*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*m,10*v),e==t.session.getScrollTop()&&(A=0)}),10),b()):y(),clearTimeout(c),c=null}),t),r.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var r=e.touches;if(!(r.length>1||"zoom"==p)){var o=r[0],s=n-o.clientX,u=a-o.clientY;if("wait"==p){if(!(s*s+u*u>4))return e.preventDefault();p="cursor"}n=o.clientX,a=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var d=e.timeStamp,h=d-l;if(l=d,"scroll"==p){var f=new i(e,t);f.speed=1,f.wheelX=s,f.wheelY=u,10*Math.abs(s)<Math.abs(u)&&(s=0),10*Math.abs(u)<Math.abs(s)&&(u=0),0!=h&&(m=s/h,v=u/h),t._emit("mousewheel",f),f.propagationStopped||(m=v=0)}else{var A=new i(e,t).getDocumentPosition();"cursor"==p?t.selection.moveCursorToPosition(A):"anchor"==p&&t.selection.setSelectionAnchor(A.row,A.column),t.renderer.scrollCursorIntoView(A),e.preventDefault()}}}),t)}},72070:function(e,t,n){var i=n(2846).U,r=n(35339).Q,o=n(36888).L,a=n(69065).r,s=n(78946),l=n(66016),c=n(10784);t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,n(18308).v),d=n(89383).f;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],o=i.start.row,a=i.end.row;if(o===a)t.push(i.clone());else{for(t.push(new r(o,i.start.column,o,this.session.getLine(o).length));++o<a;)t.push(this.getLineRange(o,!0));t.push(new r(a,0,a,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}for(this.toSingleRange(),n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],o=e.column<t.column;if(o)var a=e.column,s=t.column,l=e.offsetX,c=t.offsetX;else a=t.column,s=e.column,l=t.offsetX,c=e.offsetX;var u,d,h,f=e.row<t.row;if(f)var p=e.row,A=t.row;else p=t.row,A=e.row;a<0&&(a=0),p<0&&(p=0),p==A&&(n=!0);for(var g=p;g<=A;g++){var m=r.fromPoints(this.session.screenToDocumentPosition(g,a,l),this.session.screenToDocumentPosition(g,s,c));if(m.isEmpty()){if(u&&(h=u,(d=m.end).row==h.row&&d.column==h.column))break;u=m.end}m.cursor=o?m.start:m.end,i.push(m)}if(f&&i.reverse(),!n){for(var v=i.length-1;i[v].isEmpty()&&v>0;)v--;if(v>0)for(var y=0;i[y].isEmpty();)y++;for(var b=v;b>=y;b--)i[b].isEmpty()&&i.splice(b,1)}return i}}.call(o.prototype);var h=n(48277).K;function f(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",a),e.commands.addCommands(c.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),n=!1;s.addListener(t,"keydown",(function(t){var r=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&r?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),s.addListener(t,"keyup",i,e),s.addListener(t,"blur",i,e)}function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,a=1==n||n&&n.$byLines,s=this.session,l=this.selection,c=l.rangeList,u=(r?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=l._eventRegistry;l._eventRegistry={};var h=new o(s);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(a)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;h.fromOrientedRange(u[f]),h.index=f,this.selection=s.selection=h;var p=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===p||(i=p),h.toOrientedRange(u[f])}h.detach(),this.selection=s.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=d,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var A=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),A&&A.from==A.to&&this.renderer.animateScrolling(A.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var a=r.length;a--;)o.addRange(r[a],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var a,s=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=s;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);if(i?(a=r.fromPoints(s,c)).cursor=a.start:(a=r.fromPoints(c,s)).cursor=a.end,a.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(a),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;)if((a=i[r]).isEmpty()){let e=t.getWordRange(a.start.row,a.start.column);a.start.row=e.start.row,a.start.column=e.start.column,a.end.row=e.end.row,a.end.column=e.end.column}n.mergeOverlappingRanges();var o=[];for(r=i.length;r--;){var a=i[r];o.unshift(t.getTextRange(a))}for(e<0?o.unshift(o.pop()):o.push(o.shift()),r=i.length;r--;){var s=(a=i[r]).clone();t.replace(a,o[r]),a.start.row=s.start.row,a.start.column=s.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var o=i.getTextRange(r),a=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(i,o,e);a&&(a.cursor=-1==e?a.start:a.end,this.session.unfold(a),this.multiSelect.addRange(a),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,o=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var a=0,s=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>a&&(a=n.column),i<s&&(s=i),i}));n.forEach((function(t,n){var i=t.cursor,o=a-i.column,u=c[n]-s;o>u?e.insert(i,l.stringRepeat(" ",o-u)):e.remove(new r(i.row,i.column,i.row,i.column-o+u)),t.start.column=t.end.column=a,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),d=u.start.row,h=u.end.row,f=d==h;if(f){var p,A=this.session.getLength();do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&++h<A);do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&--d>0);d<0&&(d=0),h>=A&&(h=A-1)}var g=this.session.removeFullLines(d,h);g=this.$reAlignText(g,f),this.session.insert({row:d,column:0},g.join("\n")+"\n"),f||(u.start.column=0,u.end.column=g[g.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,i,r,o=!0,a=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,r=t[3].length,t):(n+i+r!=t[1].length+t[2].length+t[3].length&&(a=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?c:o?a?function(e){return e[2]?s(n+i-e[2].length)+e[2]+s(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?s(n)+e[2]+s(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function s(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?s(n)+e[2]+s(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(h.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=f,n(88814).defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(e){f(this),e?this.on("mousedown",a):this.off("mousedown",a)},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})},73987:function(e,t,n){"use strict";var i=n(35339).Q,r=n(71743).b,o=n(33432);class a{constructor(e,t,n,i,r,o){var a=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){a.onCursorChange()}))},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}setup(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)}showOtherMarkers(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}}hideOtherMarkers(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}}onUpdate(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var a=this.others.length-1;a>=0;a--){var s={row:(l=this.others[a]).row,column:l.column+o};this.doc.insertMergedLines(s,e.lines)}else if("remove"===e.action)for(a=this.others.length-1;a>=0;a--){var l;s={row:(l=this.others[a]).row,column:l.column+o},this.doc.remove(new i(s.row,s.column,s.row,s.column-n))}this.$updating=!1,this.updateMarkers()}}updateAnchors(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()}updateMarkers(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}}onCursorChange(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}}detach(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null}cancel(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}o.implement(a.prototype,r),t.PlaceHolder=a},35339:function(e,t){"use strict";class n{constructor(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}}isEqual(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column}toString(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"}contains(e,t){return 0==this.compare(e,t)}compareRange(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0}comparePoint(e){return this.compare(e.row,e.column)}containsRange(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)}intersects(e){var t=this.compareRange(e);return-1==t||0==t||1==t}isEnd(e,t){return this.end.row==e&&this.end.column==t}isStart(e,t){return this.start.row==e&&this.start.column==t}setStart(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)}setEnd(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)}inside(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)}insideStart(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)}insideEnd(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)}compare(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0}compareStart(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)}compareEnd(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)}compareInside(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)}clipRows(e,t){if(this.end.row>t)var i={row:t+1,column:0};else this.end.row<e&&(i={row:e,column:0});if(this.start.row>t)var r={row:t+1,column:0};else this.start.row<e&&(r={row:e,column:0});return n.fromPoints(r||this.start,i||this.end)}extend(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var r={row:e,column:t};else var o={row:e,column:t};return n.fromPoints(r||this.start,o||this.end)}isEmpty(){return this.start.row===this.end.row&&this.start.column===this.end.column}isMultiLine(){return this.start.row!==this.end.row}clone(){return n.fromPoints(this.start,this.end)}collapseRows(){return 0==this.end.column?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)}toScreenRange(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new n(t.row,t.column,i.row,i.column)}moveBy(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Q=n},2846:function(e,t,n){"use strict";var i=n(35339).Q.comparePoints;class r{constructor(){this.ranges=[],this.$bias=1}pointIndex(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var a=r[o],s=i(e,a.end);if(!(s>0)){var l=i(e,a.start);return 0===s?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1}add(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)}addList(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t}substractPoint(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)}merge(){for(var e,t=[],n=this.ranges,r=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],o=1;o<n.length;o++){e=r,r=n[o];var a=i(e.end,r.start);a<0||(0!=a||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(o,1),t.push(r),r=e,o--)}return this.ranges=n,t}contains(e,t){return this.pointIndex({row:e,column:t})>=0}containsPoint(e){return this.pointIndex(e)>=0}rangeAtPoint(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]}clipRows(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var o=[],a=i;a<r;a++)o.push(n[a]);return o}removeAll(){return this.ranges.splice(0,this.ranges.length)}attach(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)}detach(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)}$onChange(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,o=this.ranges,a=0,s=o.length;a<s&&!((u=o[a]).end.row>=i);a++);if("insert"==e.action){for(var l=r-i,c=-t.column+n.column;a<s&&!((u=o[a]).start.row>i);a++)if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&a<s-1&&u.end.column>u.start.column&&u.end.column==o[a+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=i-r,c=t.column-n.column;a<s&&!((u=o[a]).start.row>r);a++)u.end.row<r&&(i<u.end.row||i==u.end.row&&t.column<u.end.column)?(u.end.row=i,u.end.column=t.column):u.end.row==r?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>r&&(u.end.row+=l),u.start.row<r&&(i<u.start.row||i==u.start.row&&t.column<u.start.column)?(u.start.row=i,u.start.column=t.column):u.start.row==r?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>r&&(u.start.row+=l);if(0!=l&&a<s)for(;a<s;a++){var u;(u=o[a]).start.row+=l,u.end.row+=l}}}r.prototype.comparePoints=i,t.U=r},27410:function(e,t,n){"use strict";var i=n(78946);t.x=class{constructor(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}}schedule(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)}clear(e){var t=this.changes;return this.changes=0,t}}},21268:function(e,t,n){"use strict";var i=n(33432),r=n(20506),o=n(78946),a=n(71743).b,s=32768;class l{constructor(e,t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+t,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)}setVisible(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}i.implement(l.prototype,a);class c extends l{constructor(e,t){super(e,"-v"),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0}onScroll(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1}getWidth(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)}setHeight(e){this.element.style.height=e+"px"}setScrollHeight(e){this.scrollHeight=e,e>s?(this.coeff=s/e,e=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"}setScrollTop(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}c.prototype.setInnerHeight=c.prototype.setScrollHeight;t.vB=c,t.V1=class extends l{constructor(e,t){super(e,"-h"),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"}onScroll(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1}getHeight(){return this.isVisible?this.height:0}setWidth(e){this.element.style.width=e+"px"}setInnerWidth(e){this.inner.style.width=e+"px"}setScrollWidth(e){this.inner.style.width=e+"px"}setScrollLeft(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}},27272:function(e,t,n){"use strict";var i=n(33432),r=n(20506),o=n(78946),a=n(71743).b;r.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);class s{constructor(e,t){this.element=r.createElement("div"),this.element.className="ace_sb"+t,this.inner=r.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}setVisible(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}i.implement(s.prototype,a);class l extends s{constructor(e,t){super(e,"-v"),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0}onMouseDown(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientY,r=t.clientY,a=this.thumbTop;o.capture(this.inner,(function(e){i=e.clientY}),(function(){clearInterval(s)}));var s=setInterval((function(){if(void 0!==i){var e=n.scrollTopFromThumbTop(a+i-r);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),o.preventDefault(t)}}getHeight(){return this.height}scrollTopFromThumbTop(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t|=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t}getWidth(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)}setHeight(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)}setScrollHeight(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))}setScrollTop(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}l.prototype.setInnerHeight=l.prototype.setScrollHeight;class c extends s{constructor(e,t){super(e,"-h"),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t}onMouseDown(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientX,r=t.clientX,a=this.thumbLeft;o.capture(this.inner,(function(e){i=e.clientX}),(function(){clearInterval(s)}));var s=setInterval((function(){if(void 0!==i){var e=n.scrollLeftFromThumbLeft(a+i-r);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),o.preventDefault(t)}}getHeight(){return this.isVisible?this.height:0}scrollLeftFromThumbLeft(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t|=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t}setWidth(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)}setScrollWidth(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))}setScrollLeft(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}c.prototype.setInnerWidth=c.prototype.setScrollWidth,t.vB=l,t.V1=c},18308:function(e,t,n){"use strict";var i=n(66016),r=n(33432),o=n(35339).Q;t.v=class{constructor(){this.$options={}}set(e){return r.mixin(this.$options,e),this}getOptions(){return i.copyObject(this.$options)}setOptions(e){this.$options=e}find(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,a){return i=new o(e,n,r,a),!(n==a&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i}findAll(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),a=[],s=t.re;if(t.$isMultiLine){var l,c=s.length,u=r.length-c;e:for(var d=s.offset||0;d<=u;d++){for(var h=0;h<c;h++)if(-1==r[d+h].search(s[h]))continue e;var f=r[d],p=r[d+c-1],A=f.length-f.match(s[0])[0].length,g=p.match(s[c-1])[0].length;l&&l.end.row===d&&l.end.column>A||(a.push(l=new o(d,A,d+c-1,g)),c>2&&(d=d+c-2))}}else for(var m=0;m<r.length;m++){var v=i.getMatchOffsets(r[m],s);for(h=0;h<v.length;h++){var y=v[h];a.push(new o(m,y.offset,m,y.offset+y.length))}}if(n){var b=n.start.column,w=n.end.column;for(m=0,h=a.length-1;m<h&&a[m].start.column<b&&0==a[m].start.row;)m++;for(var x=n.end.row-n.start.row;m<h&&a[h].end.column>w&&a[h].end.row==x;)h--;for(a=a.slice(m,h+1),m=0,h=a.length;m<h;m++)a[m].start.row+=n.start.row,a[m].end.row+=n.start.row}return a}replace(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(n.regExp||(t=t.replace(/\$/g,"$$$$")),t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var a=e[o];a&&a.toLowerCase()!=a?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}}$assembleRegExp(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n));var r=e.caseSensitive?"gm":"gmi";try{new RegExp(n,"u"),e.$supportsUnicodeFlag=!0,r+="u"}catch(t){e.$supportsUnicodeFlag=!1}if(e.wholeWord&&(n=function(e,t){let n=i.supportsLookbehind();function r(e,i=!0){return(n&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(e)||t.regExp?n&&t.$supportsUnicodeFlag?i?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}let o=Array.from(e),a=o[0],s=o[o.length-1];return r(a)+e+r(s,!1)}(n,e)),e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var o=new RegExp(n,r)}catch(e){o=!1}return e.re=o}$assembleMultilineRegExp(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return i}$matchIterator(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=1==t.backwards,o=0!=t.skipCurrent,a=n.unicode,s=t.range,l=t.start;l||(l=s?s[r?"end":"start"]:e.selection.getRange()),l.start&&(l=l[o!=r?"end":"start"]);var c=s?s.start.row:0,u=s?s.end.row:e.getLength()-1;if(r)var d=function(e){var n=l.row;if(!f(n,l.column,e)){for(n--;n>=c;n--)if(f(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=u,c=l.row;n>=c;n--)if(f(n,Number.MAX_VALUE,e))return}};else d=function(e){var n=l.row;if(!f(n,l.column,e)){for(n+=1;n<=u;n++)if(f(n,0,e))return;if(0!=t.wrap)for(n=c,u=l.row;n<=u;n++)if(f(n,0,e))return}};if(t.$isMultiLine)var h=n.length,f=function(t,i,o){var a=r?t-h+1:t;if(!(a<0||a+h>e.getLength())){var s=e.getLine(a),l=s.search(n[0]);if(!(!r&&l<i||-1===l)){for(var c=1;c<h;c++)if(-1==(s=e.getLine(a+c)).search(n[c]))return;var u=s.match(n[h-1])[0].length;if(!(r&&u>i))return!!o(a,l,a+h-1,u)||void 0}}};else f=r?function(t,r,o){var s,l=e.getLine(t),c=[],u=0;for(n.lastIndex=0;s=n.exec(l);){var d=s[0].length;if(u=s.index,!d){if(u>=l.length)break;n.lastIndex=u+=i.skipEmptyMatch(l,u,a)}if(s.index+d>r)break;c.push(s.index,d)}for(var h=c.length-1;h>=0;h-=2){var f=c[h-1];if(o(t,f,t,f+(d=c[h])))return!0}}:function(t,r,o){var s,l,c=e.getLine(t);for(n.lastIndex=r;l=n.exec(c);){var u=l[0].length;if(o(t,s=l.index,t,s+u))return!0;if(!u&&(n.lastIndex=s+=i.skipEmptyMatch(c,s,a),s>=c.length))return!1}};return{forEach:d}}}},47295:function(e,t,n){"use strict";var i=n(66016),r=n(35339).Q;class o{constructor(e,t,n="text"){this.setRegexp(e),this.clazz=t,this.type=n}setRegexp(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])}update(e,t,n,o){if(this.regExp)for(var a=o.firstRow,s=o.lastRow,l={},c=a;c<=s;c++){var u=this.cache[c];null==u&&((u=i.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map((function(e){return new r(c,e.offset,c,e.offset+e.length)})),this.cache[c]=u.length?u:"");for(var d=u.length;d--;){var h=u[d].toScreenRange(n),f=h.toString();l[f]||(l[f]=!0,t.drawSingleLineMarker(e,h,this.clazz,o))}}}}o.prototype.MAX_RANGES=500,t.V=o},36888:function(e,t,n){"use strict";var i=n(33432),r=n(66016),o=n(71743).b,a=n(35339).Q;class s{constructor(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))}isEmpty(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column}isMultiLine(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row}getCursor(){return this.lead.getPosition()}setAnchor(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)}getAnchor(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()}getSelectionLead(){return this.lead.getPosition()}isBackwards(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column}getRange(){var e=this.anchor,t=this.lead;return this.$isEmpty?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)}clearSelection(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))}selectAll(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)}setRange(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)}$setSelection(e,t,n,i){if(!this.$silent){var r=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection")}}$moveSelection(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)}selectTo(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))}selectToPosition(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))}moveTo(e,t){this.clearSelection(),this.moveCursorTo(e,t)}moveToPosition(e){this.clearSelection(),this.moveCursorToPosition(e)}selectUp(){this.$moveSelection(this.moveCursorUp)}selectDown(){this.$moveSelection(this.moveCursorDown)}selectRight(){this.$moveSelection(this.moveCursorRight)}selectLeft(){this.$moveSelection(this.moveCursorLeft)}selectLineStart(){this.$moveSelection(this.moveCursorLineStart)}selectLineEnd(){this.$moveSelection(this.moveCursorLineEnd)}selectFileEnd(){this.$moveSelection(this.moveCursorFileEnd)}selectFileStart(){this.$moveSelection(this.moveCursorFileStart)}selectWordRight(){this.$moveSelection(this.moveCursorWordRight)}selectWordLeft(){this.$moveSelection(this.moveCursorWordLeft)}getWordRange(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)}selectWord(){this.setSelectionRange(this.getWordRange())}selectAWord(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)}getLineRange(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new a(i,0,n,this.session.getLine(n).length):new a(i,0,n+1,0)}selectLine(){this.setSelectionRange(this.getLineRange())}moveCursorUp(){this.moveCursorBy(-1,0)}moveCursorDown(){this.moveCursorBy(1,0)}wouldMoveIntoSoftTab(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t}moveCursorLeft(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}}moveCursorRight(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead,this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}}moveCursorLineStart(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)}moveCursorLineEnd(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)}moveCursorFileEnd(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)}moveCursorFileStart(){this.moveCursorTo(0,0)}moveCursorLongWordRight(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}}moveCursorLongWordLeft(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}}$shortWordEndIndex(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n}moveCursorShortWordRight(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var a=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+a)}moveCursorShortWordLeft(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),a=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-a)}moveCursorWordRight(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()}moveCursorWordLeft(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()}moveCursorBy(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)}moveCursorToPosition(e){this.moveCursorTo(e.row,e.column)}moveCursorTo(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)}moveCursorToScreen(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)}detach(){this.lead.detach(),this.anchor.detach()}fromOrientedRange(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn}toOrientedRange(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e}getRangeOfMovements(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(e){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}}toJSON(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e}fromJSON(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)}isEqual(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}s.prototype.setSelectionAnchor=s.prototype.setAnchor,s.prototype.getSelectionAnchor=s.prototype.getAnchor,s.prototype.setSelectionRange=s.prototype.setRange,i.implement(s.prototype,o),t.L=s},41294:function(e,t,n){"use strict";var i=n(20506),r=n(33432),o=n(71743).b,a=n(66016),s=n(35339).Q,l=n(2846).U,c=n(35127).HashHandler,u=n(66739).Tokenizer,d=n(63364),h={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,n){var i=e.session.getTextRange();return n?i.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):i},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return d.getText&&d.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(e){return(e.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:f.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:f.bind(null,{year:"2-digit"}),CURRENT_MONTH:f.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:f.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:f.bind(null,{month:"short"}),CURRENT_DATE:f.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:f.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:f.bind(null,{weekday:"short"}),CURRENT_HOUR:f.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:f.bind(null,{minute:"2-digit"}),CURRENT_SECOND:f.bind(null,{second:"2-digit"})};function f(e){var t=(new Date).toLocaleString("en-us",e);return 1==t.length?"0"+t:t}h.SELECTED_TEXT=h.SELECTION;class p{constructor(){this.snippetMap={},this.snippetNameMap={},this.variables=h}getTokenizer(){return p.$tokenizer||this.createTokenizer()}createTokenizer(){function e(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var n={regex:"/("+t("/")+"+)/",onMatch:function(e,t,n){var i=n[0];return i.fmtString=!0,i.guard=e.slice(1,-1),i.flag="",""},next:"formatString"};return p.$tokenizer=new u({start:[{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return("}"==i&&n.length||-1!="`$\\".indexOf(i))&&(e=i),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,i){var r=e(t.substr(1));return i.unshift(r[0]),r},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){var i=e.slice(1,-1).replace(/\\[,|\\]|,/g,(function(e){return 2==e.length?e[1]:"\0"})).split("\0").map((function(e){return{value:e}}));return n[0].choices=i,[i[0]]},next:"start"},n,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return"}"==i&&n.length||-1!="`$\\".indexOf(i)?e=i:"n"==i?e="\n":"t"==i?e="\t":-1!="ulULE".indexOf(i)&&(e={changeCase:i,local:i>"a"}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,n){var i=n.shift();return i&&(i.flag=e.slice(1,-1)),this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,n){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,n){var i={text:e.slice(2)};return n.unshift(i),[i]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,n){var i=n.shift();return this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,n){return n[0].formatFunction=e.slice(2,-1),[n.shift()]},next:"formatString"},n,{regex:/:[\?\-+]?/,onMatch:function(e,t,n){"+"==e[1]&&(n[0].ifEnd=n[0]),"?"==e[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),p.$tokenizer}tokenizeTmSnippet(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map((function(e){return e.value||e}))}getVariableValue(e,t,n){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var i=this.variables[t];return"function"==typeof i&&(i=this.variables[t](e,t,n)),null==i?"":i}tmStrFormat(e,t,n){if(!t.fmt)return e;var i=t.flag||"",r=t.guard;r=new RegExp(r,i.replace(/[^gim]/g,""));var o="string"==typeof t.fmt?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,a=this,s=e.replace(r,(function(){var e=a.variables.__;a.variables.__=[].slice.call(arguments);for(var t=a.resolveVariables(o,n),i="E",r=0;r<t.length;r++){var s=t[r];if("object"==typeof s)if(t[r]="",s.changeCase&&s.local){var l=t[r+1];l&&"string"==typeof l&&("u"==s.changeCase?t[r]=l[0].toUpperCase():t[r]=l[0].toLowerCase(),t[r+1]=l.substr(1))}else s.changeCase&&(i=s.changeCase);else"U"==i?t[r]=s.toUpperCase():"L"==i&&(t[r]=s.toLowerCase())}return a.variables.__=e,t.join("")}));return s}tmFormatFunction(e,t,n){return"upcase"==t.formatFunction?e.toUpperCase():"downcase"==t.formatFunction?e.toLowerCase():e}resolveVariables(e,t){for(var n=[],i="",r=!0,o=0;o<e.length;o++){var a=e[o];if("string"!=typeof a){if(a){if(r=!1,a.fmtString){var s=e.indexOf(a,o+1);-1==s&&(s=e.length),a.fmt=e.slice(o+1,s),o=s}if(a.text){var l=this.getVariableValue(t,a.text,i)+"";a.fmtString&&(l=this.tmStrFormat(l,a,t)),a.formatFunction&&(l=this.tmFormatFunction(l,a,t)),l&&!a.ifEnd?(n.push(l),c(a)):!l&&a.ifEnd&&c(a.ifEnd)}else a.elseEnd?c(a.elseEnd):(null!=a.tabstopId||null!=a.changeCase)&&n.push(a)}}else n.push(a),"\n"==a?(r=!0,i=""):r&&(i=/^\t*/.exec(a)[0],r=/\S/.test(a))}function c(t){var n=e.indexOf(t,o+1);-1!=n&&(o=n)}return n}getDisplayTextForSnippet(e,t){return A.call(this,e,t).text}insertSnippetForSelection(e,t,n={}){var i=A.call(this,e,t,n),r=e.getSelectionRange(),o=e.session.replace(r,i.text),a=new g(e),s=e.inVirtualSelectionMode&&e.selection.index;a.addTabstops(i.tabstops,r.start,o,s)}insertSnippet(e,t,n={}){var i=this;if(e.inVirtualSelectionMode)return i.insertSnippetForSelection(e,t,n);e.forEachSelection((function(){i.insertSnippetForSelection(e,t,n)}),null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()}$getScope(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var n=e.getCursorPosition(),i=e.session.getState(n.row);"object"==typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?t="javascript":"css-"==i.substring(0,4)?t="css":"php-"==i.substring(0,4)&&(t="php"))}return t}getActiveScopes(e){var t=this.$getScope(e),n=[t],i=this.snippetMap;return i[t]&&i[t].includeScopes&&n.push.apply(n,i[t].includeScopes),n.push("_"),n}expandWithTab(e,t){var n=this,i=e.forEachSelection((function(){return n.expandSnippetForSelection(e,t)}),null,{keepOrder:!0});return i&&e.tabstopManager&&e.tabstopManager.tabNext(),i}expandSnippetForSelection(e,t){var n,i=e.getCursorPosition(),r=e.session.getLine(i.row),o=r.substring(0,i.column),a=r.substr(i.column),s=this.snippetMap;return this.getActiveScopes(e).some((function(e){var t=s[e];return t&&(n=this.findMatchingSnippet(t,o,a)),!!n}),this),!!n&&(t&&t.dryRun||(e.session.doc.removeInLine(i.row,i.column-n.replaceBefore.length,i.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null),!0)}findMatchingSnippet(e,t,n){for(var i=e.length;i--;){var r=e[i];if((!r.startRe||r.startRe.test(t))&&(!r.endRe||r.endRe.test(n))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(n):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"",r}}register(e,t){var n=this.snippetMap,i=this.snippetNameMap,r=this;function o(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function s(e,t,n){return e=o(e),t=o(t),n?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function l(e){e.scope||(e.scope=t||"_"),t=e.scope,n[t]||(n[t]=[],i[t]={});var o=i[t];if(e.name){var l=o[e.name];l&&r.unregister(l),o[e.name]=e}n[t].push(e),e.prefix&&(e.tabTrigger=e.prefix),!e.content&&e.body&&(e.content=Array.isArray(e.body)?e.body.join("\n"):e.body),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=a.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=s(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=s(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}e||(e=[]),Array.isArray(e)?e.forEach(l):Object.keys(e).forEach((function(t){l(e[t])})),this._signal("registerSnippets",{scope:t})}unregister(e,t){var n=this.snippetMap,i=this.snippetNameMap;function r(e){var r=i[e.scope||t];if(r&&r[e.name]){delete r[e.name];var o=n[e.scope||t],a=o&&o.indexOf(e);a>=0&&o.splice(a,1)}}e.content?r(e):Array.isArray(e)&&e.forEach(r)}parseSnippetFile(e){e=e.replace(/\r/g,"");for(var t,n=[],i={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=r.exec(e);){if(t[1])try{i=JSON.parse(t[1]),n.push(i)}catch(e){}if(t[4])i.content=t[4].replace(/^\t/gm,""),n.push(i),i={};else{var o=t[2],a=t[3];if("regex"==o){var s=/\/((?:[^\/\\]|\\.)*)|$/g;i.guard=s.exec(a)[1],i.trigger=s.exec(a)[1],i.endTrigger=s.exec(a)[1],i.endGuard=s.exec(a)[1]}else"snippet"==o?(i.tabTrigger=a.match(/^\S*/)[0],i.name||(i.name=a)):o&&(i[o]=a)}}return n}getSnippetByName(e,t){var n,i=this.snippetNameMap;return this.getActiveScopes(t).some((function(t){var r=i[t];return r&&(n=r[e]),!!n}),this),n}}r.implement(p.prototype,o);var A=function(e,t,n={}){var i=e.getCursorPosition(),r=e.session.getLine(i.row),o=e.session.getTabString(),a=r.match(/^\s*/)[0];i.column<a.length&&(a=a.slice(0,i.column)),t=t.replace(/\r/g,"");var s=this.tokenizeTmSnippet(t);s=(s=this.resolveVariables(s,e)).map((function(e){return"\n"!=e||n.excludeExtraIndent?"string"==typeof e?e.replace(/\t/g,o):e:e+a}));var l=[];s.forEach((function(e,t){if("object"==typeof e){var n=e.tabstopId,i=l[n];if(i||((i=l[n]=[]).index=n,i.value="",i.parents={}),-1===i.indexOf(e)){e.choices&&!i.choices&&(i.choices=e.choices),i.push(e);var r=s.indexOf(e,t+1);if(-1!==r){var o=s.slice(t+1,r);o.some((function(e){return"object"==typeof e}))&&!i.value?i.value=o:!o.length||i.value&&"string"==typeof i.value||(i.value=o.join(""))}}}})),l.forEach((function(e){e.length=0}));var c={};function u(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if("object"==typeof i){if(c[i.tabstopId])continue;i=t[e.lastIndexOf(i,n-1)]||{tabstopId:i.tabstopId}}t[n]=i}return t}for(var d=0;d<s.length;d++){var h=s[d];if("object"==typeof h){var f=h.tabstopId,p=l[f],A=s.indexOf(h,d+1);if(c[f])c[f]===h&&(delete c[f],Object.keys(c).forEach((function(e){p.parents[e]=!0})));else{c[f]=h;var g=p.value;"string"!=typeof g?g=u(g):h.fmt&&(g=this.tmStrFormat(g,h,e)),s.splice.apply(s,[d+1,Math.max(0,A-d)].concat(g,h)),-1===p.indexOf(h)&&p.push(h)}}}var m=0,v=0,y="";return s.forEach((function(e){if("string"==typeof e){var t=e.split("\n");t.length>1?(v=t[t.length-1].length,m+=t.length-1):v+=e.length,y+=e}else e&&(e.start?e.end={row:m,column:v}:e.start={row:m,column:v})})),{text:y,tabstops:l,tokens:s}};class g{constructor(e){if(this.index=0,this.ranges=[],this.tabstops=[],e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=a.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)}attach(e){this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.session=e.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}detach(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null}onChange(e){for(var t="r"==e.action[0],n=this.selectedTabstop||{},i=n.parents||{},r=this.tabstops.slice(),o=0;o<r.length;o++){var a=r[o],s=a==n||i[a.index];if(a.rangeList.$bias=s?0:1,"remove"==e.action&&a!==n){var l=a.parents&&a.parents[n.index],c=a.rangeList.pointIndex(e.start,l);c=c<0?-c-1:c+1;var u=a.rangeList.pointIndex(e.end,l);u=u<0?-u-1:u-1;for(var d=a.rangeList.ranges.slice(c,u),h=0;h<d.length;h++)this.removeRange(d[h])}a.rangeList.$onChange(e)}var f=this.session;this.$inChange||!t||1!=f.getLength()||f.getValue()||this.detach()}updateLinkedFields(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges&&e.firstNonLinked){this.$inChange=!0;for(var n=this.session,i=n.getTextRange(e.firstNonLinked),r=0;r<e.length;r++){var o=e[r];if(o.linked){var a=o.original,s=t.snippetManager.tmStrFormat(i,a,this.editor);n.replace(o,s)}}this.$inChange=!1}}onAfterExec(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()}onChangeSelection(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),i=0;i<this.ranges.length;i++)if(!this.ranges[i].linked){var r=this.ranges[i].contains(e.row,e.column),o=n||this.ranges[i].contains(t.row,t.column);if(r&&o)return}this.detach()}}onChangeSession(){this.detach()}tabNext(e){var t=this.tabstops.length,n=this.index+(e||1);(n=Math.min(Math.max(n,1),t))==t&&(n=0),this.selectTabstop(n),this.updateTabstopMarkers(),0===n&&this.detach()}selectTabstop(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){this.selectedTabstop=t;var n=t.firstNonLinked||t;if(t.choices&&(n.cursor=n.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(n);else{var i=this.editor.multiSelect;i.toSingleRange(n);for(var r=0;r<t.length;r++)t.hasLinkedRanges&&t[r].linked||i.addRange(t[r].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}}addTabstops(e,t,n){var i=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var r=s.fromPoints(n,n);v(r.start,t),v(r.end,t),e[0]=[r],e[0].index=0}var o=[this.index+1,0],a=this.ranges,c=this.snippetId=(this.snippetId||0)+1;e.forEach((function(e,n){var r=this.$openTabstops[n]||e;r.snippetId=c;for(var u=0;u<e.length;u++){var d=e[u],h=s.fromPoints(d.start,d.end||d.start);m(h.start,t),m(h.end,t),h.original=d,h.tabstop=r,a.push(h),r!=e?r.unshift(h):r[u]=h,d.fmtString||r.firstNonLinked&&i?(h.linked=!0,r.hasLinkedRanges=!0):r.firstNonLinked||(r.firstNonLinked=h)}r.firstNonLinked||(r.hasLinkedRanges=!1),r===e&&(o.push(r),this.$openTabstops[n]=r),this.addTabstopMarkers(r),r.rangeList=r.rangeList||new l,r.rangeList.$bias=0,r.rangeList.addList(r)}),this),o.length>2&&(this.tabstops.length&&o.push(o.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,o))}addTabstopMarkers(e){var t=this.session;e.forEach((function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))}))}removeTabstopMarkers(e){var t=this.session;e.forEach((function(e){t.removeMarker(e.markerId),e.markerId=null}))}updateTabstopMarkers(){if(this.selectedTabstop){var e=this.selectedTabstop.snippetId;0===this.selectedTabstop.index&&e--,this.tabstops.forEach((function(t){t.snippetId===e?this.addTabstopMarkers(t):this.removeTabstopMarkers(t)}),this)}}removeRange(e){var t=e.tabstop.indexOf(e);-1!=t&&e.tabstop.splice(t,1),-1!=(t=this.ranges.indexOf(e))&&this.ranges.splice(t,1),-1!=(t=e.tabstop.rangeList.ranges.indexOf(e))&&e.tabstop.splice(t,1),this.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())}}g.prototype.keyboardHandler=new c,g.prototype.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||(e.tabstopManager.tabNext(1),e.renderer.scrollCursorIntoView())},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1),e.renderer.scrollCursorIntoView()},Esc:function(e){e.tabstopManager.detach()}});var m=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},v=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};i.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),t.snippetManager=new p;var y=n(48277).K;(function(){this.insertSnippet=function(e,n){return t.snippetManager.insertSnippet(this,e,n)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(y.prototype)},65234:function(e){e.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'},34344:function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=n(65234),t.$id="ace/theme/textmate",n(20506).importCssString(t.cssText,t.cssClass,!1)},49400:function(e,t,n){"use strict";var i=n(35339).Q;t.E=class{constructor(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1}stepBackward(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]}stepForward(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]}getCurrentToken(){return this.$rowTokens[this.$tokenIndex]}getCurrentTokenRow(){return this.$row}getCurrentTokenColumn(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n}getCurrentTokenPosition(){return{row:this.$row,column:this.getCurrentTokenColumn()}}getCurrentTokenRange(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}},66739:function(e,t,n){"use strict";const i=n(32087).N;var r=2e3;class o{constructor(e){for(var t in this.splitRegex,this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},a="g",s=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&-1===a.indexOf("i")&&(a+="i"),c.unicode&&-1===a.indexOf("u")&&(a+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=d>1?this.$applyToken:c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(d=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||s.push(c)),o[r]=l,r+=d,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),s.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,a)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",a)}}$setMaxTokenCount(e){r=0|e}$applyToken(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;r<o;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i}$arrayTokens(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n}removeCapturingGroups(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))}createSplitterRegexp(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,a,s,l){return i?i="]"!=s:s?i=!0:a?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))}getLineTokens(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(i="start",o=this.states[i]);var a=this.matchMappings[i],s=this.regExps[i];s.lastIndex=0;for(var l,c=[],u=0,d=0,h={type:null,value:""};l=s.exec(e);){var f=a.defaultToken,p=null,A=l[0],g=s.lastIndex;if(g-A.length>u){var m=e.substring(u,g-A.length);h.type==f?h.value+=m:(h.type&&c.push(h),h={type:f,value:m})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){f=(p=o[a[v]]).onMatch?p.onMatch(A,i,n,e):p.token,p.next&&(i="string"==typeof p.next?p.next:p.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),a=this.matchMappings[i],u=g,(s=this.regExps[i]).lastIndex=g),p.consumeLineEnd&&(u=g);break}if(A)if("string"==typeof f)p&&!1===p.merge||h.type!==f?(h.type&&c.push(h),h={type:f,value:A}):h.value+=A;else if(f)for(h.type&&c.push(h),h={type:null,value:""},v=0;v<f.length;v++)c.push(f[v]);if(u==e.length)break;if(u=g,d++>r){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)h.type&&c.push(h),h={value:e.substring(u,u+=500),type:"overflow"};i="start",n=[];break}}return h.type&&c.push(h),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}}}o.prototype.reportError=i,t.Tokenizer=o},77961:function(e,t,n){"use strict";var i=n(20506),r=(n(78946),n(35339).Q,n(37661).K,"ace_tooltip");new class{constructor(){this.popups=[]}addPopup(e){this.popups.push(e),this.updatePopups()}removePopup(e){const t=this.popups.indexOf(e);-1!==t&&(this.popups.splice(t,1),this.updatePopups())}updatePopups(){this.popups.sort(((e,t)=>t.priority-e.priority));let e=[];for(let t of this.popups){let n=!0;for(let i of e)if(this.doPopupsOverlap(i,t)){n=!1;break}n?e.push(t):t.hide()}}doPopupsOverlap(e,t){const n=e.getElement().getBoundingClientRect(),i=t.getElement().getBoundingClientRect();return n.left<i.right&&n.right>i.left&&n.top<i.bottom&&n.bottom>i.top}};t.m_=class{constructor(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}$init(){return this.$element=i.createElement("div"),this.$element.className=r,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element}getElement(){return this.$element||this.$init()}setText(e){this.getElement().textContent=e}setHtml(e){this.getElement().innerHTML=e}setPosition(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"}setClassName(e){i.addCssClass(this.getElement(),e)}setTheme(e){this.$element.className=r+" "+(e.isDark?"ace_dark ":"")+(e.cssClass||"")}show(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)}hide(e){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=r,this.isOpen=!1)}getHeight(){return this.getElement().offsetHeight}getWidth(){return this.getElement().offsetWidth}destroy(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}},88783:function(e,t,n){"use strict";class i{constructor(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}addSession(e){this.$session=e}add(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}}addSelection(e,t){this.selections.push({value:e,rev:t||this.$rev})}startNewGroup(){return this.lastDeltas=null,this.$rev}markIgnored(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null}getSelection(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}}getRevision(){return this.$rev}getDeltas(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,o=n.length;o--;){var a=n[o][0];if(a.id<t&&!i&&(i=o+1),a.id<=e){r=o+1;break}}return n.slice(r,i)}getChangedRanges(e,t){null==t&&(t=this.$rev+1)}getChangedLines(e,t){null==t&&(t=this.$rev+1)}undo(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=u(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}}redo(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)A(e,i[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}$syncRev(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n}reset(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]}canUndo(){return this.$undoStack.length>0}canRedo(){return this.$redoStack.length>0}bookmark(e){null==e&&(e=this.$rev),this.mark=e}isAtBookmark(){return this.$rev===this.mark}toJSON(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}}fromJSON(e){this.reset(),this.$undoStack=e.$undoStack,this.$redoStack=e.$redoStack}$prettyPrint(e){return e?s(e):s(this.$undoStack)+"\n---\n"+s(this.$redoStack)}}i.prototype.hasUndo=i.prototype.canUndo,i.prototype.hasRedo=i.prototype.canRedo,i.prototype.isClean=i.prototype.isAtBookmark,i.prototype.markClean=i.prototype.bookmark;var r=n(35339).Q,o=r.comparePoints;function a(e){return{row:e.row,column:e.column}}function s(e){if(e=e||this,Array.isArray(e))return e.map(s).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(o(t.start,e.end)>=0)h(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;h(e,t,1)}else if(n&&!i)if(o(t.start,e.end)>=0)h(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;h(e,t,-1)}else if(!n&&i)if(o(t.start,e.start)>=0)h(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;h(e,t,1)}else if(!n&&!i)if(o(t.start,e.start)>=0)h(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;h(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!c(e[n],t[i])){for(;n<e.length;){for(;i--;)c(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function d(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)o(e.start,t.start)<0?h(t,e,1):h(e,t,1);else if(n&&!i)o(e.start,t.end)>=0?h(e,t,-1):(o(e.start,t.start)<=0||h(e,r.fromPoints(t.start,e.start),-1),h(t,e,1));else if(!n&&i)o(t.start,e.end)>=0?h(t,e,-1):(o(t.start,e.start)<=0||h(t,r.fromPoints(e.start,t.start),-1),h(e,t,1));else if(!n&&!i)if(o(t.start,e.end)>=0)h(t,e,-1);else{var a,s;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(a=e,e=p(e,t.start)),o(e.end,t.end)>0&&(s=p(e,t.end)),f(t.end,e.start,e.end,-1),s&&!a&&(e.lines=s.lines,e.start=s.start,e.end=s.end,s=e),[t,a,s].filter(Boolean);h(e,t,-1)}return[t,e]}function h(e,t,n){f(e.start,t.start,t.end,n),f(e.end,t.start,t.end,n)}function f(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function p(e,t){var n=e.lines,i=e.end;e.end=a(t);var r=e.end.row-e.start.row,o=n.splice(r,n.length),s=r?t.column:t.column-e.start.column;return n.push(o[0].substring(0,s)),o[0]=o[0].substr(s),{start:a(t),end:i,lines:o,action:e.action}}function A(e,t){t=function(e){return{start:a(e.start),end:a(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],r=0;r<i.length;r++){var o=d(i[r],t);t=o[0],2!=o.length&&(o[2]?(i.splice(r+1,1,o[1],o[2]),r++):o[1]||(i.splice(r,1),r--))}i.length||e.splice(n,1)}return e}r.comparePoints,t.a=i},78853:function(e,t){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,r=[],o=0;o<n.length;o+=2)r.push(i+=n[o]),n[o+1]&&r.push(45,i+=n[o+1]);t.wordChars=String.fromCharCode.apply(null,r)},28639:function(e,t,n){"use strict";var i=n(33432),r=n(20506),o=n(66016),a=n(88814),s=n(83613).W,l=n(21092).p,c=n(92801).E,u=n(31724).b,d=n(21268).V1,h=n(21268).vB,f=n(27272).V1,p=n(27272).vB,A=n(27410).x,g=n(57305).X,m=n(71743).b,v=n(16127),y=n(71948).K,b=n(44202);r.importCssString(v,"ace_editor.css",!1);class w{constructor(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==a.get("useStrictCSP")&&a.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new A(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),a.resetOptions(this),a._signal("renderer",this)}updateCharacterSize(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")}setSession(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))}updateLines(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)}onChangeNewLineMode(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)}onChangeTabSize(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()}updateText(){this.$loop.schedule(this.CHANGE_TEXT)}updateFull(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)}updateFontSize(){this.$textLayer.checkForSizeChanges()}$updateSizeAsync(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()}onResize(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}}$updateCachedSize(e,t,n,i){i-=this.$extraHeight||0;var o=0,a=this.$size,s={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};if(i&&(e||a.height!=i)&&(a.height=i,o|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(a.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||a.width!=n)){o|=this.CHANGE_SIZE,a.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),a.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(a.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return a.$dirty=!n||!i,o&&this._signal("resize",s),o}onGutterResize(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()}adjustWrapLimit(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)}setAnimatedScroll(e){this.setOption("animatedScroll",e)}getAnimatedScroll(){return this.$animatedScroll}setShowInvisibles(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)}getShowInvisibles(){return this.getOption("showInvisibles")}getDisplayIndentGuides(){return this.getOption("displayIndentGuides")}setDisplayIndentGuides(e){this.setOption("displayIndentGuides",e)}getHighlightIndentGuides(){return this.getOption("highlightIndentGuides")}setHighlightIndentGuides(e){this.setOption("highlightIndentGuides",e)}setShowPrintMargin(e){this.setOption("showPrintMargin",e)}getShowPrintMargin(){return this.getOption("showPrintMargin")}setPrintMarginColumn(e){this.setOption("printMarginColumn",e)}getPrintMarginColumn(){return this.getOption("printMarginColumn")}getShowGutter(){return this.getOption("showGutter")}setShowGutter(e){return this.setOption("showGutter",e)}getFadeFoldWidgets(){return this.getOption("fadeFoldWidgets")}setFadeFoldWidgets(e){this.setOption("fadeFoldWidgets",e)}setHighlightGutterLine(e){this.setOption("highlightGutterLine",e)}getHighlightGutterLine(){return this.getOption("highlightGutterLine")}$updatePrintMargin(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}}getContainerElement(){return this.container}getMouseEventTarget(){return this.scroller}getTextAreaContainer(){return this.container}$moveTextAreaToCursor(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,a=n.left;o-=i.offset;var s=t&&t.useTextareaForIME||b.isMobile?this.lineHeight:1;if(o<0||o>i.height-s)r.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-s;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(a-=this.scrollLeft)>this.$size.scrollerWidth-l&&(a=this.$size.scrollerWidth-l),a+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",s+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(a,this.$size.scrollerWidth-l),Math.min(o,c))}}}else r.translate(this.textarea,-100,0)}}getFirstVisibleRow(){return this.layerConfig.firstRow}getFirstFullyVisibleRow(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)}getLastFullyVisibleRow(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t}getLastVisibleRow(){return this.layerConfig.lastRow}setPadding(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()}setScrollMargin(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()}setMargin(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()}getHScrollBarAlwaysVisible(){return this.$hScrollBarAlwaysVisible}setHScrollBarAlwaysVisible(e){this.setOption("hScrollBarAlwaysVisible",e)}getVScrollBarAlwaysVisible(){return this.$vScrollBarAlwaysVisible}setVScrollBarAlwaysVisible(e){this.setOption("vScrollBarAlwaysVisible",e)}$updateScrollBarV(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)}$updateScrollBarH(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)}freeze(){this.$frozen=!0}unfreeze(){this.$frozen=!1}$renderChanges(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",a=n.minHeight+"px";r.setStyle(this.content.style,"width",o),r.setStyle(this.content.style,"height",a)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e}$autosize(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}}$computeLayerConfig(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),a=this.$horizScroll!==o;a&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var s=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>u.top),h=s!==d;h&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var f,p,A=this.scrollTop%this.lineHeight,g=Math.ceil(l/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-A)/this.lineHeight)),v=m+g,y=this.lineHeight;m=e.screenToDocumentRow(m,0);var b=e.getFoldLine(m);b&&(m=b.start.row),f=e.documentToScreenRow(m,0),p=e.getRowLength(m)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(v)*y+p,A=this.scrollTop-f*y;var w=0;return(this.layerConfig.width!=r||a)&&(w=this.CHANGE_H_SCROLL),(a||h)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),h&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:m,firstRowScreen:f,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:A,gutterOffset:y?Math.max(0,Math.ceil((A+t.height-t.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),w}$updateLines(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}}$getLongestLine(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))}updateFrontMarkers(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)}updateBackMarkers(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)}addGutterDecoration(e,t){this.$gutterLayer.addGutterDecoration(e,t)}removeGutterDecoration(e,t){this.$gutterLayer.removeGutterDecoration(e,t)}updateBreakpoints(e){this._rows=e,this.$loop.schedule(this.CHANGE_GUTTER)}setAnnotations(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)}updateCursor(){this.$loop.schedule(this.CHANGE_CURSOR)}hideCursor(){this.$cursorLayer.hideCursor()}showCursor(){this.$cursorLayer.showCursor()}scrollSelectionIntoView(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)}scrollCursorIntoView(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,a=n&&n.top||0,s=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+a>o?(t&&l+a>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-s<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-s<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+s-this.$size.scrollerHeight));var c=this.scrollLeft,u=2*this.layerConfig.characterWidth;r-u<c?((r-=u)<this.$padding+u&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):(r+=u,c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0))}}getScrollTop(){return this.session.getScrollTop()}getScrollLeft(){return this.session.getScrollLeft()}getScrollTopRow(){return this.scrollTop/this.lineHeight}getScrollBottomRow(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)}scrollToRow(e){this.session.setScrollTop(e*this.lineHeight)}alignCursor(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r}$calcSteps(e,t){var n=0,i=this.STEPS,r=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<i;++n)r.push(o(n/this.STEPS,e,t-e));return r}scrollToLine(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)}animateScrolling(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.$stopAnimation)return i.session?void(o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):a()):clearInterval(i.$timer);a()}),10)}}function a(){i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,i.$stopAnimation=!1,t&&t()}}scrollToY(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)}scrollToX(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)}scrollTo(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)}scrollBy(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)}isScrollableBy(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0}pixelToScreenCoordinates(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=this.$blockCursor?Math.floor(o):Math.round(o);return{row:a,column:s,side:o-s>0?1:-1,offsetX:r}}screenToTextCoordinates(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,a=this.$blockCursor?Math.floor(o):Math.round(o),s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(s,Math.max(a,0),r)}textToScreenCoordinates(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}}visualizeFocus(){r.addCssClass(this.container,"ace_focus")}visualizeBlur(){r.removeCssClass(this.container,"ace_focus")}showComposition(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")}setCompositionText(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()}hideComposition(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}}setGhostText(e,t){var n=this.session.selection.cursor,i=t||{row:n.row,column:n.column};this.removeGhostText();var r=e.split("\n");if(this.addToken(r[0],"ghost_text",i.row,i.column),this.$ghostText={text:e,position:{row:i.row,column:i.column}},r.length>1){this.$ghostTextWidget={text:r.slice(1).join("\n"),row:i.row,column:i.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var o=this.$cursorLayer.getPixelPosition(i,!0),a=this.container.getBoundingClientRect().height,s=r.length*this.lineHeight;if(s<a-o.top)return;s<a?this.scrollBy(0,(r.length-1)*this.lineHeight):this.scrollToRow(i.row)}}removeGhostText(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}}addToken(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:t,value:e},a=r.getTokens(n);if(null!=i&&a.length)for(var s=0,l=0;l<a.length;l++){var c=a[l];if(i<=(s+=c.value.length)){var u=c.value.length-(s-i),d=c.value.slice(0,u),h=c.value.slice(u);a.splice(l,1,{type:c.type,value:d},o,{type:c.type,value:h});break}}else a.push(o);this.updateLines(n,n)}removeExtraToken(e,t){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)}setTheme(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)o(e);else{var i=e||this.$options.theme.initialValue;a.loadModule(["theme",i],o)}function o(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}}getTheme(){return this.$themeId}setStyle(e,t){r.setCssClass(this.container,e,!1!==t)}unsetStyle(e){r.removeCssClass(this.container,e)}setCursorStyle(e){r.setStyle(this.scroller.style,"cursor",e)}setMouseCursor(e){r.setStyle(this.scroller.style,"cursor",e)}attachToShadowRoot(){r.importCssString(v,"ace_editor.css",this.container)}destroy(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)}$updateCustomScrollbar(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new y(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))}$addResizeObserver(){if(window.ResizeObserver&&!this.$resizeObserver){var e=this;this.$resizeTimer=o.delayedCall((function(){e.destroyed||e.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(t){var n=t[0].contentRect.width,i=t[0].contentRect.height;Math.abs(e.$size.width-n)>1||Math.abs(e.$size.height-i)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}}}w.prototype.CHANGE_CURSOR=1,w.prototype.CHANGE_MARKER=2,w.prototype.CHANGE_GUTTER=4,w.prototype.CHANGE_SCROLL=8,w.prototype.CHANGE_LINES=16,w.prototype.CHANGE_TEXT=32,w.prototype.CHANGE_SIZE=64,w.prototype.CHANGE_MARKER_BACK=128,w.prototype.CHANGE_MARKER_FRONT=256,w.prototype.CHANGE_FULL=512,w.prototype.CHANGE_H_SCROLL=1024,w.prototype.$changes=0,w.prototype.$padding=null,w.prototype.$frozen=!1,w.prototype.STEPS=8,i.implement(w.prototype,m),a.defineOptions(w.prototype,"renderer",{useResizeObserver:{set:function(e){!e&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):e&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(e){this.$gutterLayer.$useSvgGutterIcons=e},initialValue:!1},showFoldedAnnotations:{set:function(e){this.$gutterLayer.$showFoldedAnnotations=e},initialValue:!1},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.t=w},28921:function(e,t){var n;n=function(){this.attachToDocument=function(){},this.on=function(){},this.terminate=function(){}},t.WorkerClient=n},14044:function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(37549),n(69856)],i=function(e){function t(t){var n="dragover"===t;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&-1!==e.inArray("Files",r.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:i}))&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}var n;e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file"/>').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,uniqueFilenames:void 0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,(function(e,n){t=t.replace("{"+e+"}",n)})),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done((function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_promisePipe:(n=e.fn.jquery.split("."),Number(n[0])>1||Number(n[1])>7?"then":"pipe"),_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,(function(e,t){n.push({name:e,value:t})})),n):[]},_getTotal:function(t){var n=0;return e.each(t,(function(e,t){n+=t.size||1})),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)Object.prototype.hasOwnProperty.call(e._response,t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=r,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).on("progress",(function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)})),t.xhr=function(){return i})},_deinitProgressListener:function(t){var n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&e(n.upload).off("progress")},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_getUniqueFilename:function(e,t){return t[e=String(e)]?(e=e.replace(/(?: \(([\d]+)\))?(\.[^.]+)?$/,(function(e,t,n){return" ("+(t?Number(t)+1:1)+")"+(n||"")})),this._getUniqueFilename(e,t)):(t[e]=!0,e)},_initXHRData:function(t){var n,i=this,r=t.files[0],o=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.uploadName||r.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,(function(i,r){n.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||a,value:r})}))):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),(function(e,t){n.append(t.name,t.value)}))),t.blob?n.append(a,t.blob,r.uploadName||r.name):e.each(t.files,(function(r,o){if(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o)){var s=o.uploadName||o.name;t.uniqueFilenames&&(s=i._getUniqueFilename(s,t.uniqueFilenames)),n.append("array"===e.type(t.paramName)&&t.paramName[r]||a,o,s)}}))),t.data=n):(t.contentType=r.type||"application/octet-stream",t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each((function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1})),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),o=r.promise();return n=n||this.options.context||o,!0===t?r.resolveWith(n,i):!1===t&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var i=this,r=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this]))[i._promisePipe]((function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():r(arguments)}))[i._promisePipe](t,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,r,o=this,a=t.files[0],s=a.size,l=t.uploadedBytes,c=t.maxChunkSize||s,u=this._blobSlice,d=e.Deferred(),h=d.promise();return!(!(this._isXHRUpload(t)&&u&&(l||("function"===e.type(c)?c(t):c)<s))||t.data)&&(!!n||(l>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(r=function(){var n=e.extend({},t),h=n._progress.loaded;n.blob=u.call(a,l,l+("function"===e.type(c)?c(n):c),a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,o._trigger("chunkbeforesend",null,n),o._initXHRData(n),o._initProgressListener(n),i=(!1!==o._trigger("chunksend",null,n)&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done((function(i,a,c){l=o._getUploadedBytes(c)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<s?r():d.resolveWith(n.context,[i,a,c])})).fail((function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})).always((function(){o._deinitProgressListener(n)}))},this._enhancePromise(h),h.abort=function(){return i.abort()},r(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,r){var o=r._progress.total,a=r._response;r._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),a.result=r.result=t,a.textStatus=r.textStatus=n,a.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,r,o,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((r||!1===s._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&s._getXHRPromise(!1,l.context,r)||s._chunkedUpload(l)||e.ajax(l)).done((function(e,t,n){s._onDone(e,t,n,l)})).fail((function(e,t,n){s._onFail(e,t,n,l)})).always((function(e,t,n){if(s._deinitProgressListener(l),s._onAlways(e,t,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")}))};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o[s._promisePipe](c)):(this._sequence=this._sequence[s._promisePipe](c,c),a=this._sequence),a.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),c())},this._enhancePromise(a)):c()},_onAdd:function(t,n){var i,r,o,a,s=this,l=!0,c=e.extend({},this.options,n),u=n.files,d=u.length,h=c.limitMultiFileUploads,f=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,A=0,g=this._getParamName(c),m=0;if(!d)return!1;if(f&&void 0===u[0].size&&(f=void 0),(c.singleFileUploads||h||f)&&this._isXHRUpload(c))if(c.singleFileUploads||f||!h)if(!c.singleFileUploads&&f)for(o=[],i=[],a=0;a<d;a+=1)A+=u[a].size+p,(a+1===d||A+u[a+1].size+p>f||h&&a+1-m>=h)&&(o.push(u.slice(m,a+1)),(r=g.slice(m,a+1)).length||(r=g),i.push(r),m=a+1,A=0);else i=g;else for(o=[],i=[],a=0;a<d;a+=h)o.push(u.slice(a,a+h)),(r=g.slice(a,a+h)).length||(r=g),i.push(r);else o=[u],i=[g];return n.originalFiles=u,e.each(o||u,(function(r,a){var c=e.extend({},n);return c.files=o?a:[a],c.paramName=i[r],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(t,c),l=s._trigger("add",e.Event("add",{delegatedEvent:t}),c)})),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0),r=n.is(document.activeElement);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),n.after(i).detach(),r&&i.trigger("focus"),e.cleanData(n.off("remove")),this.options.fileInput=this.options.fileInput.map((function(e,t){return t===n[0]?i[0]:t})),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var i,r=this,o=e.Deferred(),a=[],s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},l=function(){i.readEntries((function(e){e.length?(a=a.concat(e),l()):function(e){r._handleFileTreeEntries(e,n+t.name+"/").done((function(e){o.resolve(e)})).fail(s)}(a)}),s)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file((function(e){e.relativePath=n,o.resolve(e)}),s):t.isDirectory?(i=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,(function(e){return i._handleFileTreeEntry(e,n)})))[this._promisePipe]((function(){return Array.prototype.concat.apply([],arguments)}))},_getDroppedFiles:function(t){var n=(t=t||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,(function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()}))):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var n,i,r=(t=e(t)).prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if((n=e.makeArray(t.prop("files"))).length)void 0===n[0].name&&n[0].fileName&&e.each(n,(function(e,t){t.name=t.fileName,t.size=t.fileSize}));else{if(!(i=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles))[this._promisePipe]((function(){return Array.prototype.concat.apply([],arguments)})):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always((function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)}))},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,(function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)})),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,r={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always((function(i){r.files=i,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),r)&&n._onAdd(t,r)})))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,i=this.element.data();e.each(this.element[0].attributes,(function(e,r){var o,a=r.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,(function(e){return e.charAt(1).toUpperCase()})),o=i[a],t._isRegExpOption(a,o)&&(o=t._getRegExp(o)),n[a]=o)}))},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always((function(e){t.files=e,n._onAdd(null,t)})):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always((function(e){i||(e.length?(t.files=e,(n=r._onSend(null,t)).then((function(e,t,n){o.resolve(e,t,n)}),(function(e,t,n){o.reject(e,t,n)}))):o.reject())})),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})},void 0===(o=i.apply(t,r))||(e.exports=o)}()},55640:function(e,t,n){var i,r,o;r=[n(37549)],i=function(e){function t(t,i,r){i={content:{message:"object"==typeof i?i.message:i,title:i.title?i.title:"",icon:i.icon?i.icon:"",url:i.url?i.url:"#",target:i.target?i.target:"-"}},r=e.extend(!0,{},i,r),this.settings=e.extend(!0,{},n,r),this._defaults=n,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}var n={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.extend(t.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,n){var i={};for(var t in"string"==typeof t?i[t]=n:i=t,i)switch(t){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=i[t],this.$ele.addClass("alert-"+i[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+i[t]);break;case"icon":var r=this.$ele.find('[data-notify="icon"]');"class"==e.settings.icon_type.toLowerCase()?r.removeClass(e.settings.content.icon).addClass(i[t]):(r.is("img")||r.find("img"),r.attr("src",i[t]));break;case"progress":var o=e.settings.delay-e.settings.delay*(i[t]/100);this.$ele.data("notify-delay",o),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i[t]).css("width",i[t]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",i[t]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",i[t]);break;default:this.$ele.find('[data-notify="'+t+'"]').html(i[t])}var a=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(a)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var t=this,n=this.settings.offset.y,i={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},r=!1,o=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each((function(){return n=Math.max(n,parseInt(e(this).css(o.placement.from))+parseInt(e(this).outerHeight())+parseInt(o.spacing))})),1==this.settings.newest_on_top&&(n=this.settings.offset.y),i[this.settings.placement.from]=n+"px",this.settings.placement.align){case"left":case"right":i[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":i.left=0,i.right=0}this.$ele.css(i).addClass(this.settings.animate.enter),e.each(Array("webkit","moz","o","ms",""),(function(e,n){t.$ele[0].style[n+"AnimationIterationCount"]=1})),e(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(n=parseInt(n)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(n)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,(function(e){r=!0})).one(this.animations.end,(function(n){e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)})),setTimeout((function(){r||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",(function(){t.close()})),this.$ele.mouseover((function(t){e(this).data("data-hover","true")})).mouseout((function(t){e(this).data("data-hover","false")})),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var n=setInterval((function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"==t.settings.mouse_over||"pause"!=t.settings.mouse_over){var i=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i).css("width",i+"%")}e<=-t.settings.timer&&(clearInterval(n),t.close())}),t.settings.timer)}},close:function(){var t=this,n=parseInt(this.$ele.css(this.settings.placement.from)),i=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(n),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,(function(e){i=!0})).one(this.animations.end,(function(n){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)})),setTimeout((function(){i||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))}),600)},reposition:function(t){var n=this,i='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',r=this.$ele.nextAll(i);1==this.settings.newest_on_top&&(r=this.$ele.prevAll(i)),r.each((function(){e(this).css(n.settings.placement.from,t),t=parseInt(t)+parseInt(n.settings.spacing)+e(this).outerHeight()}))}}),e.notify=function(e,n){return new t(this,e,n).notify},e.notifyDefaults=function(t){return n=e.extend(!0,{},n,t)},e.notifyClose=function(t){void 0===t||"all"==t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")}},void 0===(o=i.apply(t,r))||(e.exports=o)},64096:function(e){e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return r(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){},{}],2:[function(e,t,n){function i(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3})$/);if(i){i=i[1];for(var r=0;r<t.length;r++)t[r]=parseInt(i[r]+i[r],16)}else if(i=e.match(/^#([a-fA-F0-9]{6})$/))for(i=i[1],r=0;r<t.length;r++)t[r]=parseInt(i.slice(2*r,2*r+2),16);else if(i=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<t.length;r++)t[r]=parseInt(i[r+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<t.length;r++)t[r]=Math.round(2.55*parseFloat(i[r+1]));n=parseFloat(i[4])}else if(i=e.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(t=d[i[1]]))return}for(r=0;r<t.length;r++)t[r]=c(t[r],0,255);return n=n||0==n?c(n,0,1):1,t[3]=n,t}}function r(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[c(parseInt(t[1]),0,360),c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}}}function o(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[c(parseInt(t[1]),0,360),c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}}}function a(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function s(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function l(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function c(e,t,n){return Math.min(Math.max(t,e),n)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var d=e(6);t.exports={getRgba:i,getHsla:r,getRgb:function(e){var t=i(e);return t&&t.slice(0,3)},getHsl:function(e){var t=r(e);return t&&t.slice(0,3)},getHwb:o,getAlpha:function(e){var t=i(e);return t||(t=r(e))||(t=o(e))?t[3]:void 0},hexString:function(e){return"#"+u(e[0])+u(e[1])+u(e[2])},rgbString:function(e,t){return 1>t||e[3]&&e[3]<1?a(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:a,percentString:function(e,t){return 1>t||e[3]&&e[3]<1?s(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:s,hslString:function(e,t){return 1>t||e[3]&&e[3]<1?l(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:l,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return h[e.slice(0,3)]}};var h={};for(var f in d)h[d[f]]=f},{6:6}],3:[function(e,t,n){var i=e(5),r=e(2),o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);var t;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e)if(t=r.getRgba(e))this.setValues("rgb",t);else if(t=r.getHsla(e))this.setValues("hsl",t);else{if(!(t=r.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if(void 0!==(t=e).r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=0>(e%=360)?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return 128>(299*e[0]+587*e[1]+114*e[2])/1e3},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=0>n?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,i=e,r=void 0===t?.5:t,o=2*r-1,a=n.alpha()-i.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new o,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(e=i[a],"[object Array]"===(t={}.toString.call(e))?r[a]=e.slice(0):"[object Number]"===t?r[a]=e:console.error("unexpected color value:",e));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},o.prototype.setValues=function(e,t){var n,r,o=this.values,a=this.spaces,s=this.maxes,l=1;if("alpha"===e)l=t;else if(t.length)o[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)o[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[a[e][0]]){var c=a[e];for(n=0;n<e.length;n++)o[e][n]=t[c[n]];l=t.alpha}if(o.alpha=Math.max(0,Math.min(1,void 0===l?o.alpha:l)),"alpha"===e)return!1;for(n=0;n<e.length;n++)r=Math.max(0,Math.min(s[e][n],o[e][n])),o[e][n]=Math.round(r);for(var u in a)u!==e&&(o[u]=i[e][u](o[e]));return!0},o.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},o.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:(n===i[t]||(i[t]=n,this.setValues(e,i)),this)},"undefined"!=typeof window&&(window.Color=o),t.exports=o},{2:2,5:5}],4:[function(e,t,n){function i(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s==a?t=0:i==s?t=(r-o)/l:r==s?t=2+(o-i)/l:o==s&&(t=4+(i-r)/l),0>(t=Math.min(60*t,360))&&(t+=360),n=(a+s)/2,[t,100*(s==a?0:.5>=n?l/(s+a):l/(2-s-a)),100*n]}function o(e){var t,n,i=e[0],r=e[1],o=e[2],a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?t=0:i==s?t=(r-o)/l:r==s?t=2+(o-i)/l:o==s&&(t=4+(i-r)/l),0>(t=Math.min(60*t,360))&&(t+=360),[t,n,s/255*1e3/10]}function a(e){var t=e[0],n=e[1],r=e[2];return[i(e)[0],1/255*Math.min(t,Math.min(n,r))*100,100*(r=1-1/255*Math.max(t,Math.max(n,r)))]}function s(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]}function l(e){return k[JSON.stringify(e)]}function c(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]}function u(e){var t=c(e),n=t[0],i=t[1],r=t[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function d(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[o=255*l,o,o];t=2*l-(n=.5>l?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;3>c;c++)0>(i=a+1/3*-(c-1))&&i++,i>1&&i--,o=1>6*i?t+6*(n-t)*i:1>2*i?n:2>3*i?t+(n-t)*(2/3-i)*6:t,r[c]=255*o;return r}function h(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function f(e){var t,n,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),i=6*a-(t=Math.floor(6*a)),!!(1&t)&&(i=1-i),o=s+i*((n=1-l)-s),t){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function p(e){var t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function A(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,t=(t=3.2406*r+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function m(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function v(e){var t,n,i,r,o=e[0],a=e[1],s=e[2];return 8>=o?r=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),[t=.008856>=t/95.047?t=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),n,i=.008859>=i/108.883?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function y(e){var t,n=e[0],i=e[1],r=e[2];return 0>(t=360*Math.atan2(r,i)/2/Math.PI)&&(t+=360),[n,Math.sqrt(i*i+r*r),t]}function w(e){return A(v(e))}function x(e){var t,n=e[0],i=e[1];return t=e[2]/360*2*Math.PI,[n,i*Math.cos(t),i*Math.sin(t)]}function C(e){return _[e]}t.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:c,rgb2lab:u,rgb2lch:function(e){return y(u(e))},hsl2rgb:d,hsl2hsv:function(e){var t=e[0],n=e[1]/100,i=e[2]/100;return 0===i?[0,0,0]:[t,2*(n*=1>=(i*=2)?i:2-i)/(i+n)*100,(i+n)/2*100]},hsl2hwb:function(e){return a(d(e))},hsl2cmyk:function(e){return s(d(e))},hsl2keyword:function(e){return l(d(e))},hsv2rgb:h,hsv2hsl:function(e){var t,n,i=e[0],r=e[1]/100,o=e[2]/100;return t=r*o,[i,100*(t=(t/=1>=(n=(2-r)*o)?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return a(h(e))},hsv2cmyk:function(e){return s(h(e))},hsv2keyword:function(e){return l(h(e))},hwb2rgb:f,hwb2hsl:function(e){return i(f(e))},hwb2hsv:function(e){return o(f(e))},hwb2cmyk:function(e){return s(f(e))},hwb2keyword:function(e){return l(f(e))},cmyk2rgb:p,cmyk2hsl:function(e){return i(p(e))},cmyk2hsv:function(e){return o(p(e))},cmyk2hwb:function(e){return a(p(e))},cmyk2keyword:function(e){return l(p(e))},keyword2rgb:C,keyword2hsl:function(e){return i(C(e))},keyword2hsv:function(e){return o(C(e))},keyword2hwb:function(e){return a(C(e))},keyword2cmyk:function(e){return s(C(e))},keyword2lab:function(e){return u(C(e))},keyword2xyz:function(e){return c(C(e))},xyz2rgb:A,xyz2lab:m,xyz2lch:function(e){return y(m(e))},lab2xyz:v,lab2rgb:w,lab2lch:y,lch2lab:x,lch2xyz:function(e){return v(x(e))},lch2rgb:function(e){return w(x(e))}};var _={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},k={};for(var S in _)k[JSON.stringify(_[S])]=S},{}],5:[function(e,t,n){var i=e(4),r=function(){return new c};for(var o in i){r[o+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];(r[s]=r[s]||{})[l]=r[o]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=i[e](t);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(o)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=r[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach((function(e){c.prototype[e]=function(t){return this.routeSpace(e,arguments)}})),t.exports=r},{4:4}],6:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,n){var i=e(28)();e(26)(i),e(22)(i),e(25)(i),e(21)(i),e(23)(i),e(24)(i),e(29)(i),e(33)(i),e(31)(i),e(34)(i),e(32)(i),e(35)(i),e(30)(i),e(27)(i),e(36)(i),e(37)(i),e(38)(i),e(39)(i),e(40)(i),e(43)(i),e(41)(i),e(42)(i),e(44)(i),e(45)(i),e(46)(i),e(15)(i),e(16)(i),e(17)(i),e(18)(i),e(19)(i),e(20)(i),e(8)(i),e(9)(i),e(10)(i),e(11)(i),e(12)(i),e(13)(i),e(14)(i),window.Chart=t.exports=i},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,8:8,9:9}],8:[function(e,t,n){"use strict";t.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){e.Radar=function(t,n){return n.type="radar",new e(t,n)}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e){e.defaults.scatter={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}},e.controllers.scatter=e.controllers.line,e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({dataElementType:e.elements.Rectangle,initialize:function(t,n){e.DatasetController.prototype.initialize.call(this,t,n),this.getMeta().bar=!0},getBarCount:function(){var e=this,n=0;return t.each(e.chart.data.datasets,(function(t,i){e.chart.getDatasetMeta(i).bar&&e.chart.isDatasetVisible(i)&&++n}),e),n},update:function(e){var n=this;t.each(n.getMeta().data,(function(t,i){n.updateElement(t,i,e)}),n)},updateElement:function(e,n,i){var r=this,o=r.getMeta(),a=r.getScaleForId(o.xAxisID),s=r.getScaleForId(o.yAxisID),l=s.getBasePixel(),c=r.chart.options.elements.rectangle,u=e.custom||{},d=r.getDataset();e._xScale=a,e._yScale=s,e._datasetIndex=r.index,e._index=n;var h=r.getRuler(n);e._model={x:r.calculateBarX(n,r.index,h),y:i?l:r.calculateBarY(n,r.index),label:r.chart.data.labels[n],datasetLabel:d.label,base:i?l:r.calculateBarBase(r.index,n),width:r.calculateBarWidth(h),backgroundColor:u.backgroundColor?u.backgroundColor:t.getValueAtIndexOrDefault(d.backgroundColor,n,c.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:c.borderSkipped,borderColor:u.borderColor?u.borderColor:t.getValueAtIndexOrDefault(d.borderColor,n,c.borderColor),borderWidth:u.borderWidth?u.borderWidth:t.getValueAtIndexOrDefault(d.borderWidth,n,c.borderWidth)},e.pivot()},calculateBarBase:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=0;if(r.options.stacked){for(var a=n.chart,s=a.data.datasets,l=Number(s[e].data[t]),c=0;e>c;c++){var u=s[c],d=a.getDatasetMeta(c);if(d.bar&&d.yAxisID===r.id&&a.isDatasetVisible(c)){var h=Number(u.data[t]);o+=0>l?Math.min(h,0):Math.max(h,0)}}return r.getPixelForValue(o)}return r.getBasePixel()},getRuler:function(e){var t,n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=n.getBarCount(),a=(t="category"===r.options.type?r.getPixelForTick(e+1)-r.getPixelForTick(e):r.width/r.ticks.length)*r.options.categoryPercentage,s=(t-t*r.options.categoryPercentage)/2,l=a/o;return r.ticks.length!==n.chart.data.labels.length&&(l*=r.ticks.length/n.chart.data.labels.length),{datasetCount:o,tickWidth:t,categoryWidth:a,categorySpacing:s,fullBarWidth:l,barWidth:l*r.options.barPercentage,barSpacing:l-l*r.options.barPercentage}},calculateBarWidth:function(e){var t=this.getScaleForId(this.getMeta().xAxisID);return t.options.barThickness?t.options.barThickness:t.options.stacked?e.categoryWidth:e.barWidth},getBarIndex:function(e){var t,n=0;for(t=0;e>t;++t)this.chart.getDatasetMeta(t).bar&&this.chart.isDatasetVisible(t)&&++n;return n},calculateBarX:function(e,t,n){var i=this,r=i.getMeta(),o=i.getScaleForId(r.xAxisID),a=i.getBarIndex(t),s=o.getPixelForValue(null,e,t,i.chart.isCombo);return s-=i.chart.isCombo?n.tickWidth/2:0,o.options.stacked?s+n.categoryWidth/2+n.categorySpacing:s+n.barWidth/2+n.categorySpacing+n.barWidth*a+n.barSpacing/2+n.barSpacing*a},calculateBarY:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=Number(n.getDataset().data[e]);if(r.options.stacked){for(var a=0,s=0,l=0;t>l;l++){var c=n.chart.data.datasets[l],u=n.chart.getDatasetMeta(l);if(u.bar&&u.yAxisID===r.id&&n.chart.isDatasetVisible(l)){var d=Number(c.data[e]);0>d?s+=d||0:a+=d||0}}return 0>o?r.getPixelForValue(s+o):r.getPixelForValue(a+o)}return r.getPixelForValue(o)},draw:function(e){var t,n,i=e||1,r=this.getMeta().data,o=this.getDataset();for(t=0,n=r.length;n>t;++t){var a=o.data[t];null==a||isNaN(a)||r[t].transition(i).draw()}},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},o=e._model;o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,t.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:t.getValueAtIndexOrDefault(n.hoverBorderColor,i,t.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:t.getValueAtIndexOrDefault(n.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},o=e._model,a=this.chart.options.elements.rectangle;o.backgroundColor=r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(n.backgroundColor,i,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(n.borderColor,i,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(n.borderWidth,i,a.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}}}},e.controllers.horizontalBar=e.controllers.bar.extend({updateElement:function(e,n,i){var r=this,o=r.getMeta(),a=r.getScaleForId(o.xAxisID),s=r.getScaleForId(o.yAxisID),l=a.getBasePixel(),c=e.custom||{},u=r.getDataset(),d=r.chart.options.elements.rectangle;e._xScale=a,e._yScale=s,e._datasetIndex=r.index,e._index=n;var h=r.getRuler(n);e._model={x:i?l:r.calculateBarX(n,r.index),y:r.calculateBarY(n,r.index,h),label:r.chart.data.labels[n],datasetLabel:u.label,base:i?l:r.calculateBarBase(r.index,n),height:r.calculateBarHeight(h),backgroundColor:c.backgroundColor?c.backgroundColor:t.getValueAtIndexOrDefault(u.backgroundColor,n,d.backgroundColor),borderSkipped:c.borderSkipped?c.borderSkipped:d.borderSkipped,borderColor:c.borderColor?c.borderColor:t.getValueAtIndexOrDefault(u.borderColor,n,d.borderColor),borderWidth:c.borderWidth?c.borderWidth:t.getValueAtIndexOrDefault(u.borderWidth,n,d.borderWidth)},e.draw=function(){function e(e){return l[(c+e)%4]}var t=this._chart.ctx,n=this._view,i=n.height/2,r=n.y-i,o=n.y+i,a=n.base-(n.base-n.x),s=n.borderWidth/2;n.borderWidth&&(r+=s,o-=s,a+=s),t.beginPath(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var l=[[n.base,o],[n.base,r],[a,r],[a,o]],c=["bottom","left","top","right"].indexOf(n.borderSkipped,0);-1===c&&(c=0),t.moveTo.apply(t,e(0));for(var u=1;4>u;u++)t.lineTo.apply(t,e(u));t.fill(),n.borderWidth&&t.stroke()},e.pivot()},calculateBarBase:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=0;if(r.options.stacked){for(var a=n.chart,s=a.data.datasets,l=Number(s[e].data[t]),c=0;e>c;c++){var u=s[c],d=a.getDatasetMeta(c);if(d.bar&&d.xAxisID===r.id&&a.isDatasetVisible(c)){var h=Number(u.data[t]);o+=0>l?Math.min(h,0):Math.max(h,0)}}return r.getPixelForValue(o)}return r.getBasePixel()},getRuler:function(e){var t,n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=n.getBarCount(),a=(t="category"===r.options.type?r.getPixelForTick(e+1)-r.getPixelForTick(e):r.width/r.ticks.length)*r.options.categoryPercentage,s=(t-t*r.options.categoryPercentage)/2,l=a/o;return r.ticks.length!==n.chart.data.labels.length&&(l*=r.ticks.length/n.chart.data.labels.length),{datasetCount:o,tickHeight:t,categoryHeight:a,categorySpacing:s,fullBarHeight:l,barHeight:l*r.options.barPercentage,barSpacing:l-l*r.options.barPercentage}},calculateBarHeight:function(e){var t=this.getScaleForId(this.getMeta().yAxisID);return t.options.barThickness?t.options.barThickness:t.options.stacked?e.categoryHeight:e.barHeight},calculateBarX:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=Number(n.getDataset().data[e]);if(r.options.stacked){for(var a=0,s=0,l=0;t>l;l++){var c=n.chart.data.datasets[l],u=n.chart.getDatasetMeta(l);if(u.bar&&u.xAxisID===r.id&&n.chart.isDatasetVisible(l)){var d=Number(c.data[e]);0>d?s+=d||0:a+=d||0}}return 0>o?r.getPixelForValue(s+o):r.getPixelForValue(a+o)}return r.getPixelForValue(o)},calculateBarY:function(e,t,n){var i=this,r=i.getMeta(),o=i.getScaleForId(r.yAxisID),a=i.getBarIndex(t),s=o.getPixelForValue(null,e,t,i.chart.isCombo);return s-=i.chart.isCombo?n.tickHeight/2:0,o.options.stacked?s+n.categoryHeight/2+n.categorySpacing:s+n.barHeight/2+n.categorySpacing+n.barHeight*a+n.barSpacing/2+n.barSpacing*a}})}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+i.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({dataElementType:e.elements.Point,update:function(e){var n=this,i=n.getMeta().data;t.each(i,(function(t,i){n.updateElement(t,i,e)}))},updateElement:function(n,i,r){var o=this,a=o.getMeta(),s=o.getScaleForId(a.xAxisID),l=o.getScaleForId(a.yAxisID),c=n.custom||{},u=o.getDataset(),d=u.data[i],h=o.chart.options.elements.point,f=o.index;t.extend(n,{_xScale:s,_yScale:l,_datasetIndex:f,_index:i,_model:{x:r?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof d?d:NaN,i,f,o.chart.isCombo),y:r?l.getBasePixel():l.getPixelForValue(d,i,f),radius:r?0:c.radius?c.radius:o.getRadius(d),hitRadius:c.hitRadius?c.hitRadius:t.getValueAtIndexOrDefault(u.hitRadius,i,h.hitRadius)}}),e.DatasetController.prototype.removeHoverStyle.call(o,n,h);var p=n._model;p.skip=c.skip?c.skip:isNaN(p.x)||isNaN(p.y),n.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(n){var i=this;e.DatasetController.prototype.setHoverStyle.call(i,n);var r=i.chart.data.datasets[n._datasetIndex],o=n._index,a=n.custom||{};n._model.radius=a.hoverRadius?a.hoverRadius:t.getValueAtIndexOrDefault(r.hoverRadius,o,i.chart.options.elements.point.hoverRadius)+i.getRadius(r.data[o])},removeHoverStyle:function(t){var n=this;e.DatasetController.prototype.removeHoverStyle.call(n,t,n.chart.options.elements.point);var i=n.chart.data.datasets[t._datasetIndex].data[t._index],r=t.custom||{};t._model.radius=r.radius?r.radius:n.getRadius(i)}})}},{}],17:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&t.push(r[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map((function(i,r){var o=e.getDatasetMeta(0),a=n.datasets[0],s=o.data[r],l=s&&s.custom||{},c=t.getValueAtIndexOrDefault,u=e.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:c(a.backgroundColor,r,u.backgroundColor),strokeStyle:l.borderColor?l.borderColor:c(a.borderColor,r,u.borderColor),lineWidth:l.borderWidth?l.borderWidth:c(a.borderWidth,r,u.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}})):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;i>n;++n)(r=a.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,n){var i=n.labels[e.index],r=": "+n.datasets[e.datasetIndex].data[e.index];return t.isArray(i)?(i=i.slice())[0]+=r:i+=r,i}}}},n.pie=t.clone(n.doughnut),t.extend(n.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,getRingIndex:function(e){for(var t=0,n=0;e>n;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var n=this,i=n.chart,r=i.chartArea,o=i.options,a=o.elements.arc,s=r.right-r.left-a.borderWidth,l=r.bottom-r.top-a.borderWidth,c=Math.min(s,l),u={x:0,y:0},d=n.getMeta(),h=o.cutoutPercentage,f=o.circumference;if(f<2*Math.PI){var p=o.rotation%(2*Math.PI),A=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+f,g={x:Math.cos(p),y:Math.sin(p)},m={x:Math.cos(A),y:Math.sin(A)},v=0>=p&&A>=0||p<=2*Math.PI&&2*Math.PI<=A,y=p<=.5*Math.PI&&.5*Math.PI<=A||p<=2.5*Math.PI&&2.5*Math.PI<=A,b=p<=-Math.PI&&-Math.PI<=A||p<=Math.PI&&Math.PI<=A,w=p<=.5*-Math.PI&&.5*-Math.PI<=A||p<=1.5*Math.PI&&1.5*Math.PI<=A,x=h/100,C={x:b?-1:Math.min(g.x*(g.x<0?1:x),m.x*(m.x<0?1:x)),y:w?-1:Math.min(g.y*(g.y<0?1:x),m.y*(m.y<0?1:x))},_={x:v?1:Math.max(g.x*(g.x>0?1:x),m.x*(m.x>0?1:x)),y:y?1:Math.max(g.y*(g.y>0?1:x),m.y*(m.y>0?1:x))},k={width:.5*(_.x-C.x),height:.5*(_.y-C.y)};c=Math.min(s/k.width,l/k.height),u={x:-.5*(_.x+C.x),y:-.5*(_.y+C.y)}}i.borderWidth=n.getMaxBorderWidth(d.data),i.outerRadius=Math.max((c-i.borderWidth)/2,0),i.innerRadius=Math.max(h?i.outerRadius/100*h:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=u.x*i.outerRadius,i.offsetY=u.y*i.outerRadius,d.total=n.calculateTotal(),n.outerRadius=i.outerRadius-i.radiusLength*n.getRingIndex(n.index),n.innerRadius=n.outerRadius-i.radiusLength,t.each(d.data,(function(t,i){n.updateElement(t,i,e)}))},updateElement:function(e,n,i){var r=this,o=r.chart,a=o.chartArea,s=o.options,l=s.animation,c=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=s.rotation,h=s.rotation,f=r.getDataset(),p=i&&l.animateRotate||e.hidden?0:r.calculateCircumference(f.data[n])*(s.circumference/(2*Math.PI)),A=i&&l.animateScale?0:r.innerRadius,g=i&&l.animateScale?0:r.outerRadius,m=t.getValueAtIndexOrDefault;t.extend(e,{_datasetIndex:r.index,_index:n,_model:{x:c+o.offsetX,y:u+o.offsetY,startAngle:d,endAngle:h,circumference:p,outerRadius:g,innerRadius:A,label:m(f.label,n,o.data.labels[n])}});var v=e._model;this.removeHoverStyle(e),i&&l.animateRotate||(v.startAngle=0===n?s.rotation:r.getMeta().data[n-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,n=this.getDataset(),i=this.getMeta(),r=0;return t.each(i.data,(function(t,i){e=n.data[i],isNaN(e)||t.hidden||(r+=Math.abs(e))})),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,i=0,r=this.index,o=e.length,a=0;o>a;a++)t=e[a]._model?e[a]._model.borderWidth:0,i=(n=e[a]._chart?e[a]._chart.config.data.datasets[r].hoverBorderWidth:0)>(i=t>i?t:i)?n:i;return i}})}},{}],18:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return n.getValueOrDefault(e.showLine,t.showLines)}var n=e.helpers;e.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,update:function(e){var i,r,o,a=this,s=a.getMeta(),l=s.dataset,c=s.data||[],u=a.chart.options,d=u.elements.line,h=a.getScaleForId(s.yAxisID),f=a.getDataset(),p=t(f,u);for(p&&(o=l.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),l._scale=h,l._datasetIndex=a.index,l._children=c,l._model={spanGaps:f.spanGaps?f.spanGaps:u.spanGaps,tension:o.tension?o.tension:n.getValueOrDefault(f.lineTension,d.tension),backgroundColor:o.backgroundColor?o.backgroundColor:f.backgroundColor||d.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:f.borderWidth||d.borderWidth,borderColor:o.borderColor?o.borderColor:f.borderColor||d.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:f.borderCapStyle||d.borderCapStyle,borderDash:o.borderDash?o.borderDash:f.borderDash||d.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:f.borderDashOffset||d.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:f.borderJoinStyle||d.borderJoinStyle,fill:o.fill?o.fill:void 0!==f.fill?f.fill:d.fill,steppedLine:o.steppedLine?o.steppedLine:n.getValueOrDefault(f.steppedLine,d.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:n.getValueOrDefault(f.cubicInterpolationMode,d.cubicInterpolationMode),scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},l.pivot()),i=0,r=c.length;r>i;++i)a.updateElement(c[i],i,e);for(p&&0!==l._model.tension&&a.updateBezierControlPoints(),i=0,r=c.length;r>i;++i)c[i].pivot()},getPointBackgroundColor:function(e,t){var i=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),o=e.custom||{};return o.backgroundColor?i=o.backgroundColor:r.pointBackgroundColor?i=n.getValueAtIndexOrDefault(r.pointBackgroundColor,t,i):r.backgroundColor&&(i=r.backgroundColor),i},getPointBorderColor:function(e,t){var i=this.chart.options.elements.point.borderColor,r=this.getDataset(),o=e.custom||{};return o.borderColor?i=o.borderColor:r.pointBorderColor?i=n.getValueAtIndexOrDefault(r.pointBorderColor,t,i):r.borderColor&&(i=r.borderColor),i},getPointBorderWidth:function(e,t){var i=this.chart.options.elements.point.borderWidth,r=this.getDataset(),o=e.custom||{};return o.borderWidth?i=o.borderWidth:r.pointBorderWidth?i=n.getValueAtIndexOrDefault(r.pointBorderWidth,t,i):r.borderWidth&&(i=r.borderWidth),i},updateElement:function(e,t,i){var r,o,a=this,s=a.getMeta(),l=e.custom||{},c=a.getDataset(),u=a.index,d=c.data[t],h=a.getScaleForId(s.yAxisID),f=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point,A=1===(a.chart.data.labels||[]).length||1===c.data.length||a.chart.isCombo;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),void 0!==c.hitRadius&&void 0===c.pointHitRadius&&(c.pointHitRadius=c.hitRadius),r=f.getPixelForValue("object"==typeof d?d:NaN,t,u,A),o=i?h.getBasePixel():a.calculatePointY(d,t,u),e._xScale=f,e._yScale=h,e._datasetIndex=u,e._index=t,e._model={x:r,y:o,skip:l.skip||isNaN(r)||isNaN(o),radius:l.radius||n.getValueAtIndexOrDefault(c.pointRadius,t,p.radius),pointStyle:l.pointStyle||n.getValueAtIndexOrDefault(c.pointStyle,t,p.pointStyle),backgroundColor:a.getPointBackgroundColor(e,t),borderColor:a.getPointBorderColor(e,t),borderWidth:a.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||n.getValueAtIndexOrDefault(c.pointHitRadius,t,p.hitRadius)}},calculatePointY:function(e,t,n){var i,r,o,a=this,s=a.chart,l=a.getMeta(),c=a.getScaleForId(l.yAxisID),u=0,d=0;if(c.options.stacked){for(i=0;n>i;i++)if(r=s.data.datasets[i],"line"===(o=s.getDatasetMeta(i)).type&&o.yAxisID===c.id&&s.isDatasetVisible(i)){var h=Number(c.getRightValue(r.data[t]));0>h?d+=h||0:u+=h||0}var f=Number(c.getRightValue(e));return 0>f?c.getPixelForValue(d+f):c.getPixelForValue(u+f)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,i,r,o,a=this,s=a.getMeta(),l=a.chart.chartArea,c=s.data||[];if(s.dataset._model.spanGaps&&(c=c.filter((function(e){return!e._model.skip}))),"monotone"===s.dataset._model.cubicInterpolationMode)n.splineCurveMonotone(c);else for(t=0,i=c.length;i>t;++t)r=c[t]._model,o=n.splineCurve(n.previousItem(c,t)._model,r,n.nextItem(c,t)._model,s.dataset._model.tension),r.controlPointPreviousX=o.previous.x,r.controlPointPreviousY=o.previous.y,r.controlPointNextX=o.next.x,r.controlPointNextY=o.next.y;if(a.chart.options.elements.line.capBezierPoints)for(t=0,i=c.length;i>t;++t)(r=c[t]._model).controlPointPreviousX=e(r.controlPointPreviousX,l.left,l.right),r.controlPointPreviousY=e(r.controlPointPreviousY,l.top,l.bottom),r.controlPointNextX=e(r.controlPointNextX,l.left,l.right),r.controlPointNextY=e(r.controlPointNextY,l.top,l.bottom)},draw:function(e){var n,i,r=this,o=r.getMeta(),a=o.data||[],s=e||1;for(n=0,i=a.length;i>n;++n)a[n].transition(s);for(t(r.getDataset(),r.chart.options)&&o.dataset.transition(s).draw(),n=0,i=a.length;i>n;++n)a[n].draw()},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},o=e._model;o.radius=r.hoverRadius||n.getValueAtIndexOrDefault(t.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor||n.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,i,n.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor||n.getValueAtIndexOrDefault(t.pointHoverBorderColor,i,n.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth||n.getValueAtIndexOrDefault(t.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(e){var t=this,i=t.chart.data.datasets[e._datasetIndex],r=e._index,o=e.custom||{},a=e._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),a.radius=o.radius||n.getValueAtIndexOrDefault(i.pointRadius,r,t.chart.options.elements.point.radius),a.backgroundColor=t.getPointBackgroundColor(e,r),a.borderColor=t.getPointBorderColor(e,r),a.borderWidth=t.getPointBorderWidth(e,r)}})}},{}],19:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&t.push(r[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map((function(i,r){var o=e.getDatasetMeta(0),a=n.datasets[0],s=o.data[r].custom||{},l=t.getValueAtIndexOrDefault,c=e.options.elements.arc;return{text:i,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,r,c.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,r,c.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,r,c.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}})):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;i>n;++n)(r=a.getDatasetMeta(n)).data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,update:function(e){var n=this,i=n.chart,r=i.chartArea,o=n.getMeta(),a=i.options,s=a.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(a.cutoutPercentage?i.outerRadius/100*a.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),n.outerRadius=i.outerRadius-i.radiusLength*n.index,n.innerRadius=n.outerRadius-i.radiusLength,o.count=n.countVisibleElements(),t.each(o.data,(function(t,i){n.updateElement(t,i,e)}))},updateElement:function(e,n,i){for(var r=this,o=r.chart,a=r.getDataset(),s=o.options,l=s.animation,c=o.scale,u=t.getValueAtIndexOrDefault,d=o.data.labels,h=r.calculateCircumference(a.data[n]),f=c.xCenter,p=c.yCenter,A=0,g=r.getMeta(),m=0;n>m;++m)isNaN(a.data[m])||g.data[m].hidden||++A;var v=s.startAngle,y=e.hidden?0:c.getDistanceFromCenterForValue(a.data[n]),b=v+h*A,w=b+(e.hidden?0:h),x=l.animateScale?0:c.getDistanceFromCenterForValue(a.data[n]);t.extend(e,{_datasetIndex:r.index,_index:n,_scale:c,_model:{x:f,y:p,innerRadius:0,outerRadius:i?x:y,startAngle:i&&l.animateRotate?v:b,endAngle:i&&l.animateRotate?v:w,label:u(d,n,d[n])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),n=this.getMeta(),i=0;return t.each(n.data,(function(t,n){isNaN(e.data[n])||t.hidden||i++})),i},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:t.noop,update:function(e){var n=this,i=n.getMeta(),r=i.dataset,o=i.data,a=r.custom||{},s=n.getDataset(),l=n.chart.options.elements.line,c=n.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),t.extend(i.dataset,{_datasetIndex:n.index,_children:o,_loop:!0,_model:{tension:a.tension?a.tension:t.getValueOrDefault(s.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:s.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:s.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:s.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle,scaleTop:c.top,scaleBottom:c.bottom,scaleZero:c.getBasePosition()}}),i.dataset.pivot(),t.each(o,(function(t,i){n.updateElement(t,i,e)}),n),n.updateBezierControlPoints()},updateElement:function(e,n,i){var r=this,o=e.custom||{},a=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,c=s.getPointPositionForValue(n,a.data[n]);t.extend(e,{_datasetIndex:r.index,_index:n,_scale:s,_model:{x:i?s.xCenter:c.x,y:i?s.yCenter:c.y,tension:o.tension?o.tension:t.getValueOrDefault(a.tension,r.chart.options.elements.line.tension),radius:o.radius?o.radius:t.getValueAtIndexOrDefault(a.pointRadius,n,l.radius),backgroundColor:o.backgroundColor?o.backgroundColor:t.getValueAtIndexOrDefault(a.pointBackgroundColor,n,l.backgroundColor),borderColor:o.borderColor?o.borderColor:t.getValueAtIndexOrDefault(a.pointBorderColor,n,l.borderColor),borderWidth:o.borderWidth?o.borderWidth:t.getValueAtIndexOrDefault(a.pointBorderWidth,n,l.borderWidth),pointStyle:o.pointStyle?o.pointStyle:t.getValueAtIndexOrDefault(a.pointStyle,n,l.pointStyle),hitRadius:o.hitRadius?o.hitRadius:t.getValueAtIndexOrDefault(a.hitRadius,n,l.hitRadius)}}),e._model.skip=o.skip?o.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,n=this.getMeta();t.each(n.data,(function(i,r){var o=i._model,a=t.splineCurve(t.previousItem(n.data,r,!0)._model,o,t.nextItem(n.data,r,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),o.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),o.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),i.pivot()}))},draw:function(e){var n=this.getMeta(),i=e||1;t.each(n.data,(function(e){e.transition(i)})),n.dataset.transition(i).draw(),t.each(n.data,(function(e){e.draw()}))},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},r=e._index,o=e._model;o.radius=i.hoverRadius?i.hoverRadius:t.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,t.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:t.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,t.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:t.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},r=e._index,o=e._model,a=this.chart.options.elements.point;o.radius=i.radius?i.radius:t.getValueAtIndexOrDefault(n.radius,r,a.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:t.getValueAtIndexOrDefault(n.pointBackgroundColor,r,a.backgroundColor),o.borderColor=i.borderColor?i.borderColor:t.getValueAtIndexOrDefault(n.pointBorderColor,r,a.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:t.getValueAtIndexOrDefault(n.pointBorderWidth,r,a.borderWidth)}})}},{}],21:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,i){var r=this;i||(e.animating=!0);for(var o=0;o<r.animations.length;++o)if(r.animations[o].chartInstance===e)return void(r.animations[o].animationObject=t);r.animations.push({chartInstance:e,animationObject:t}),1===r.animations.length&&r.requestAnimationFrame()},cancelAnimation:function(e){var n=t.findIndex(this.animations,(function(t){return t.chartInstance===e}));-1!==n&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1);for(var i=0;i<e.animations.length;)null===e.animations[i].animationObject.currentStep&&(e.animations[i].animationObject.currentStep=0),e.animations[i].animationObject.currentStep+=1+n,e.animations[i].animationObject.currentStep>e.animations[i].animationObject.numSteps&&(e.animations[i].animationObject.currentStep=e.animations[i].animationObject.numSteps),e.animations[i].animationObject.render(e.animations[i].chartInstance,e.animations[i].animationObject),e.animations[i].animationObject.onAnimationProgress&&e.animations[i].animationObject.onAnimationProgress.call&&e.animations[i].animationObject.onAnimationProgress.call(e.animations[i].chartInstance,e.animations[i]),e.animations[i].animationObject.currentStep===e.animations[i].animationObject.numSteps?(e.animations[i].animationObject.onAnimationComplete&&e.animations[i].animationObject.onAnimationComplete.call&&e.animations[i].animationObject.onAnimationComplete.call(e.animations[i].chartInstance,e.animations[i]),e.animations[i].chartInstance.animating=!1,e.animations.splice(i,1)):++i;var r=(Date.now()-t)/e.frameDuration;e.dropFrames+=r,e.animations.length>0&&e.requestAnimationFrame()}}}},{}],22:[function(e,t,n){"use strict";t.exports=function(e){(e.canvasHelpers={}).drawPoint=function(e,t,n,i,r){var o,a,s,l,c,u;if("object"!=typeof t||"[object HTMLImageElement]"!==(o=t.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||0>=n)){switch(t){default:e.beginPath(),e.arc(i,r,n,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),c=(a=3*n/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(i-a/2,r+c/3),e.lineTo(i+a/2,r+c/3),e.lineTo(i,r-2*c/3),e.closePath(),e.fill();break;case"rect":u=1/Math.SQRT2*n,e.beginPath(),e.fillRect(i-u,r-u,2*u,2*u),e.strokeRect(i-u,r-u,2*u,2*u);break;case"rectRot":u=1/Math.SQRT2*n,e.beginPath(),e.moveTo(i-u,r),e.lineTo(i,r+u),e.lineTo(i+u,r),e.lineTo(i,r-u),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(i,r+n),e.lineTo(i,r-n),e.moveTo(i-n,r),e.lineTo(i+n,r),e.closePath();break;case"crossRot":e.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i-s,r+l),e.lineTo(i+s,r-l),e.closePath();break;case"star":e.beginPath(),e.moveTo(i,r+n),e.lineTo(i,r-n),e.moveTo(i-n,r),e.lineTo(i+n,r),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i-s,r+l),e.lineTo(i+s,r-l),e.closePath();break;case"line":e.beginPath(),e.moveTo(i-n,r),e.lineTo(i+n,r),e.closePath();break;case"dash":e.beginPath(),e.moveTo(i,r),e.lineTo(i+n,r),e.closePath()}e.stroke()}}else e.drawImage(t,i-t.width/2,r-t.height/2)}}},{}],23:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){var n=r.getStyle(e,t),i=n&&n.match(/(\d+)px/);return i?Number(i[1]):void 0}function n(e,n){var i=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e._chartjs={initial:{height:r,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===o||""===o){var a=t(e,"width");void 0!==a&&(e.width=a)}if(null===r||""===r)if(""===e.style.height)e.height=e.width/(n.options.aspectRatio||2);else{var s=t(e,"height");void 0!==a&&(e.height=s)}return e}function i(e,t){if("string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e instanceof HTMLCanvasElement){var i=e.getContext&&e.getContext("2d");if(i instanceof CanvasRenderingContext2D)return n(e,t),i}return null}var r=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(t,n,o){var a=this,s=i(t,n=function(t){var n=(t=t||{}).data=t.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],t.options=r.configMerge(e.defaults.global,e.defaults[t.type],t.options||{}),t}(n)),l=s&&s.canvas,c=l&&l.height,u=l&&l.width;return o.ctx=s,o.canvas=l,o.config=n,o.width=u,o.height=c,o.aspectRatio=c?u/c:null,a.id=r.uid(),a.chart=o,a.config=n,a.options=n.options,a._bufferedRender=!1,e.instances[a.id]=a,Object.defineProperty(a,"data",{get:function(){return a.config.data}}),s&&l?(r.retinaScale(o),a.options.responsive&&(r.addResizeListener(l.parentNode,(function(){a.resize()})),a.resize(!0)),a.initialize(),a):(console.error("Failed to create chart: can't acquire context from the given item"),a)},r.extend(e.Controller.prototype,{initialize:function(){var t=this;return e.plugins.notify("beforeInit",[t]),t.bindEvents(),t.ensureScalesHaveIDs(),t.buildOrUpdateControllers(),t.buildScales(),t.updateLayout(),t.resetElements(),t.initToolTip(),t.update(),e.plugins.notify("afterInit",[t]),t},clear:function(){return r.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(t){var n=this,i=n.chart,o=n.options,a=i.canvas,s=o.maintainAspectRatio&&i.aspectRatio||null,l=Math.floor(r.getMaximumWidth(a)),c=Math.floor(s?l/s:r.getMaximumHeight(a));if(i.width!==l||i.height!==c){a.width=i.width=l,a.height=i.height=c,a.style.width=l+"px",a.style.height=c+"px",r.retinaScale(i);var u={width:l,height:c};e.plugins.notify("resize",[n,u]),n.options.onResize&&n.options.onResize(n,u),t||(n.stop(),n.update(n.options.responsiveAnimationDuration))}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;r.each(t.xAxes,(function(e,t){e.id=e.id||"x-axis-"+t})),r.each(t.yAxes,(function(e,t){e.id=e.id||"y-axis-"+t})),n&&(n.id=n.id||"scale")},buildScales:function(){var t=this,n=t.options,i=t.scales={},o=[];n.scales&&(o=o.concat((n.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category"}})),(n.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear"}})))),n.scale&&o.push({options:n.scale,dtype:"radialLinear",isDefault:!0}),r.each(o,(function(n){var o=n.options,a=r.getValueOrDefault(o.type,n.dtype),s=e.scaleService.getScaleConstructor(a);if(s){var l=new s({id:o.id,options:o,ctx:t.chart.ctx,chart:t});i[l.id]=l,n.isDefault&&(t.scale=l)}})),e.scaleService.addScalesToLayout(this)},updateLayout:function(){e.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var t=this,n=[],i=[];if(r.each(t.data.datasets,(function(r,o){var a=t.getDatasetMeta(o);a.type||(a.type=r.type||t.config.type),n.push(a.type),a.controller?a.controller.updateIndex(o):(a.controller=new e.controllers[a.type](t,o),i.push(a.controller))}),t),n.length>1)for(var o=1;o<n.length;o++)if(n[o]!==n[o-1]){t.isCombo=!0;break}return i},resetElements:function(){var e=this;r.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t,n){var i=this;e.plugins.notify("beforeUpdate",[i]),i.tooltip._data=i.data;var o=i.buildOrUpdateControllers();r.each(i.data.datasets,(function(e,t){i.getDatasetMeta(t).controller.buildOrUpdateElements()}),i),e.layoutService.update(i,i.chart.width,i.chart.height),e.plugins.notify("afterScaleUpdate",[i]),r.each(o,(function(e){e.reset()})),i.updateDatasets(),e.plugins.notify("afterUpdate",[i]),i._bufferedRender?i._bufferedRequest={lazy:n,duration:t}:i.render(t,n)},updateDatasets:function(){var t,n,i=this;if(e.plugins.notify("beforeDatasetsUpdate",[i])){for(t=0,n=i.data.datasets.length;n>t;++t)i.getDatasetMeta(t).controller.update();e.plugins.notify("afterDatasetsUpdate",[i])}},render:function(t,n){var i=this;e.plugins.notify("beforeRender",[i]);var o=i.options.animation;if(o&&(void 0!==t&&0!==t||void 0===t&&0!==o.duration)){var a=new e.Animation;a.numSteps=(t||o.duration)/16.66,a.easing=o.easing,a.render=function(e,t){var n=r.easingEffects[t.easing],i=t.currentStep/t.numSteps,o=n(i);e.draw(o,i,t.currentStep)},a.onAnimationProgress=o.onProgress,a.onAnimationComplete=o.onComplete,e.animationService.addAnimation(i,a,t,n)}else i.draw(),o&&o.onComplete&&o.onComplete.call&&o.onComplete.call(i);return i},draw:function(t){var n=this,i=t||1;n.clear(),e.plugins.notify("beforeDraw",[n,i]),r.each(n.boxes,(function(e){e.draw(n.chartArea)}),n),n.scale&&n.scale.draw(),e.plugins.notify("beforeDatasetsDraw",[n,i]),r.each(n.data.datasets,(function(e,i){n.isDatasetVisible(i)&&n.getDatasetMeta(i).controller.draw(t)}),n,!0),e.plugins.notify("afterDatasetsDraw",[n,i]),n.tooltip.transition(i).draw(),e.plugins.notify("afterDraw",[n,i])},getElementAtEvent:function(t){return e.Interaction.modes.single(this,t)},getElementsAtEvent:function(t){return e.Interaction.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return e.Interaction.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,n,i){var r=e.Interaction.modes[n];return"function"==typeof r?r(this,t,i):[]},getDatasetAtEvent:function(t){return e.Interaction.modes.dataset(this,t)},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var i=n._meta[t.id];return i||(i=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;n>t;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var t,n,i,o=this,a=o.chart.canvas;for(o.stop(),n=0,i=o.data.datasets.length;i>n;++n)(t=o.getDatasetMeta(n)).controller&&(t.controller.destroy(),t.controller=null);a&&(r.unbindEvents(o,o.events),r.removeResizeListener(a.parentNode),r.clear(o.chart),function(e){if(e._chartjs){var t=e._chartjs.initial;["height","width"].forEach((function(n){var i=t[n];null==i?e.removeAttribute(n):e.setAttribute(n,i)})),r.each(t.style||{},(function(t,n){e.style[n]=t})),e.width=e.width,delete e._chartjs}}(a),o.chart.canvas=null,o.chart.ctx=null),e.plugins.notify("destroy",[o]),delete e.instances[o.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t.chart,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t),t.tooltip.initialize()},bindEvents:function(){var e=this;r.bindEvents(e,e.options.events,(function(t){e.eventHandler(t)}))},updateHoverStyle:function(e,t,n){var i,r,o,a=n?"setHoverStyle":"removeHoverStyle";for(r=0,o=e.length;o>r;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(e){var t=this,n=t.legend,i=t.tooltip,r=t.options.hover;t._bufferedRender=!0,t._bufferedRequest=null;var o=t.handleEvent(e);o|=n&&n.handleEvent(e),o|=i&&i.handleEvent(e);var a=t._bufferedRequest;return a?t.render(a.duration,a.lazy):o&&!t.animating&&(t.stop(),t.render(r.animationDuration,!0)),t._bufferedRender=!1,t._bufferedRequest=null,t},handleEvent:function(e){var t,n=this,i=n.options||{},o=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,o.mode,o),o.onHover&&o.onHover.call(n,n.active),("mouseup"===e.type||"click"===e.type)&&i.onClick&&i.onClick.call(n,e,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),t=!r.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}})}},{}],24:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return e._chartjs?void e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),void r.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),o=r.apply(this,t);return i.each(e._chartjs.listeners,(function(e){"function"==typeof e[n]&&e[n].apply(e,t)})),o}})})))}function n(e,t){var n=e._chartjs;if(n){var i=n.listeners,o=i.indexOf(t);-1!==o&&i.splice(o,1),i.length>0||(r.forEach((function(t){delete e[t]})),delete e._chartjs)}}var i=e.helpers,r=["push","pop","shift","splice","unshift"];e.DatasetController=function(e,t){this.initialize(e,t)},i.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,i=n.getMeta(),r=n.getDataset().data||[],o=i.data;for(e=0,t=r.length;t>e;++e)o[e]=o[e]||n.createMetaData(e);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,i=e.getDataset(),r=i.data||(i.data=[]);e._data!==r&&(e._data&&n(e._data,e),t(r,e),e._data=r),e.resyncElements()},update:i.noop,draw:function(e){var t,n,i=e||1,r=this.getMeta().data;for(t=0,n=r.length;n>t;++t)r[t].transition(i).draw()},removeHoverStyle:function(e,t){var n=this.chart.data.datasets[e._datasetIndex],r=e._index,o=e.custom||{},a=i.getValueAtIndexOrDefault,s=e._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:a(n.backgroundColor,r,t.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(n.borderColor,r,t.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(n.borderWidth,r,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=i.getValueAtIndexOrDefault,a=i.getHoverColor,s=e._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:o(t.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:o(t.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:o(t.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,i=t.data.length,r=n.length;i>r?t.data.splice(r,i-r):r>i&&e.insertElements(i,r-i)},insertElements:function(e,t){for(var n=0;t>n;++n)this.addElementAndReset(e+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=i.inherits}},{}],25:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.elements={},e.Element=function(e){t.extend(this,e),this.initialize.apply(this,arguments)},t.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=t.clone(e._model)),e._start=t.clone(e._view),e},transition:function(e){var n=this;return n._view||(n._view=t.clone(n._model)),1===e?(n._view=n._model,n._start=null,n):(n._start||n.pivot(),t.each(n._model,(function(i,r){if("_"===r[0]);else if(n._view.hasOwnProperty(r))if(i===n._view[r]);else if("string"==typeof i)try{var o=t.color(n._model[r]).mix(t.color(n._start[r]),e);n._view[r]=o.rgbString()}catch(e){n._view[r]=i}else if("number"==typeof i){var a=void 0!==n._start[r]&&!1===isNaN(n._start[r])?n._start[r]:0;n._view[r]=(n._model[r]-a)*e+a}else n._view[r]=i;else"number"!=typeof i||isNaN(n._view[r])?n._view[r]=i:n._view[r]=i*e}),n),n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}}),e.Element.extend=t.inherits}},{}],26:[function(e,t,n){"use strict";var i=e(3);t.exports=function(e){function t(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function n(e){return null!=e&&"none"!==e}function r(e,i,r){var o=document.defaultView,a=e.parentNode,s=o.getComputedStyle(e)[i],l=o.getComputedStyle(a)[i],c=n(s),u=n(l),d=Number.POSITIVE_INFINITY;return c||u?Math.min(c?t(s,e,r):d,u?t(l,a,r):d):"none"}var o=e.helpers={};o.each=function(e,t,n,i){var r,a;if(o.isArray(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;a>r;r++)t.call(n,e[r],r);else if("object"==typeof e){var s=Object.keys(e);for(a=s.length,r=0;a>r;r++)t.call(n,e[s[r]],s[r])}},o.clone=function(e){var t={};return o.each(e,(function(e,n){o.isArray(e)?t[n]=e.slice(0):t[n]="object"==typeof e&&null!==e?o.clone(e):e})),t},o.extend=function(e){for(var t=function(t,n){e[n]=t},n=1,i=arguments.length;i>n;n++)o.each(arguments[n],t);return e},o.configMerge=function(t){var n=o.clone(t);return o.each(Array.prototype.slice.call(arguments,1),(function(t){o.each(t,(function(t,i){var r=n.hasOwnProperty(i),a=r?n[i]:{};"scales"===i?n[i]=o.scaleMerge(a,t):"scale"===i?n[i]=o.configMerge(a,e.scaleService.getScaleDefaults(t.type),t):!r||"object"!=typeof a||o.isArray(a)||null===a||"object"!=typeof t||o.isArray(t)?n[i]=t:n[i]=o.configMerge(a,t)}))})),n},o.scaleMerge=function(t,n){var i=o.clone(t);return o.each(n,(function(t,n){"xAxes"===n||"yAxes"===n?i.hasOwnProperty(n)?o.each(t,(function(t,r){var a=o.getValueOrDefault(t.type,"xAxes"===n?"category":"linear"),s=e.scaleService.getScaleDefaults(a);r>=i[n].length||!i[n][r].type?i[n].push(o.configMerge(s,t)):t.type&&t.type!==i[n][r].type?i[n][r]=o.configMerge(i[n][r],s,t):i[n][r]=o.configMerge(i[n][r],t)})):(i[n]=[],o.each(t,(function(t){var r=o.getValueOrDefault(t.type,"xAxes"===n?"category":"linear");i[n].push(o.configMerge(e.scaleService.getScaleDefaults(r),t))}))):i.hasOwnProperty(n)&&"object"==typeof i[n]&&null!==i[n]&&"object"==typeof t?i[n]=o.configMerge(i[n],t):i[n]=t})),i},o.getValueAtIndexOrDefault=function(e,t,n){return null==e?n:o.isArray(e)?t<e.length?e[t]:n:e},o.getValueOrDefault=function(e,t){return void 0===e?t:e},o.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;++n)if(e[n]===t)return n;return-1},o.where=function(e,t){if(o.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return o.each(e,(function(e){t(e)&&n.push(e)})),n},o.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;r>i;++i)if(t.call(n,e[i],i,e))return i;return-1},o.findNextWhere=function(e,t,n){null==n&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},o.findPreviousWhere=function(e,t,n){null==n&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},o.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=o.inherits,e&&o.extend(n.prototype,e),n.__super__=t.prototype,n},o.noop=function(){},o.uid=function(){var e=0;return function(){return e++}}(),o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o.almostEquals=function(e,t,n){return Math.abs(e-t)<n},o.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},o.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},o.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},o.toRadians=function(e){return e*(Math.PI/180)},o.toDegrees=function(e){return e*(180/Math.PI)},o.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},o.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},o.aliasPixel=function(e){return e%2==0?0:.5},o.splineCurve=function(e,t,n,i){var r=e.skip?t:e,o=t,a=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),c=s/(s+l),u=l/(s+l),d=i*(c=isNaN(c)?0:c),h=i*(u=isNaN(u)?0:u);return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(e){var t,n,i,r,a,s,l,c,u,d=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),h=d.length;for(t=0;h>t;++t)(i=d[t]).model.skip||(n=t>0?d[t-1]:null,(r=h-1>t?d[t+1]:null)&&!r.model.skip&&(i.deltaK=(r.model.y-i.model.y)/(r.model.x-i.model.x)),!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2);for(t=0;h-1>t;++t)i=d[t],r=d[t+1],i.model.skip||r.model.skip||(o.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,s=r.mK/i.deltaK,9>=(c=Math.pow(a,2)+Math.pow(s,2))||(l=3/Math.sqrt(c),i.mK=a*l*i.deltaK,r.mK=s*l*i.deltaK)));for(t=0;h>t;++t)(i=d[t]).model.skip||(n=t>0?d[t-1]:null,r=h-1>t?d[t+1]:null,n&&!n.model.skip&&(u=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-u,i.model.controlPointPreviousY=i.model.y-u*i.mK),r&&!r.model.skip&&(u=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+u,i.model.controlPointNextY=i.model.y+u*i.mK))},o.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},o.previousItem=function(e,t,n){return n?0>=t?e[e.length-1]:e[t-1]:0>=t?e[0]:e[t-1]},o.niceNum=function(e,t){var n=Math.floor(o.log10(e)),i=e/Math.pow(10,n);return(t?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10)*Math.pow(10,n)};var a=o.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5*1),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-a.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*a.easeInBounce(2*e):.5*a.easeOutBounce(2*e-1)+.5}};o.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},o.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)},o.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,a=e.currentTarget||e.srcElement,s=a.getBoundingClientRect(),l=r.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=r.clientX,i=r.clientY);var c=parseFloat(o.getStyle(a,"padding-left")),u=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),h=parseFloat(o.getStyle(a,"padding-bottom")),f=s.right-s.left-c-d,p=s.bottom-s.top-u-h;return{x:n=Math.round((n-s.left-c)/f*a.width/t.currentDevicePixelRatio),y:i=Math.round((i-s.top-u)/p*a.height/t.currentDevicePixelRatio)}},o.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},o.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=o.noop},o.bindEvents=function(e,t,n){var i=e.events=e.events||{};o.each(t,(function(t){i[t]=function(){n.apply(e,arguments)},o.addEvent(e.chart.canvas,t,i[t])}))},o.unbindEvents=function(e,t){var n=e.chart.canvas;o.each(t,(function(e,t){o.removeEvent(n,t,e)}))},o.getConstraintWidth=function(e){return r(e,"max-width","clientWidth")},o.getConstraintHeight=function(e){return r(e,"max-height","clientHeight")},o.getMaximumWidth=function(e){var t=e.parentNode,n=parseInt(o.getStyle(t,"padding-left"),10),i=parseInt(o.getStyle(t,"padding-right"),10),r=t.clientWidth-n-i,a=o.getConstraintWidth(e);return isNaN(a)?r:Math.min(r,a)},o.getMaximumHeight=function(e){var t=e.parentNode,n=parseInt(o.getStyle(t,"padding-top"),10),i=parseInt(o.getStyle(t,"padding-bottom"),10),r=t.clientHeight-n-i,a=o.getConstraintHeight(e);return isNaN(a)?r:Math.min(r,a)},o.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},o.retinaScale=function(e){var t=e.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==t){var n=e.canvas,i=e.height,r=e.width;n.height=i*t,n.width=r*t,e.ctx.scale(t,t),n.style.height=i+"px",n.style.width=r+"px"}},o.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},o.fontString=function(e,t,n){return t+" "+e+"px "+n},o.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.font=t;var s=0;o.each(n,(function(t){null!=t&&!0!==o.isArray(t)?s=o.measureText(e,r,a,s,t):o.isArray(t)&&o.each(t,(function(t){null==t||o.isArray(t)||(s=o.measureText(e,r,a,s,t))}))}));var l=a.length/2;if(l>n.length){for(var c=0;l>c;c++)delete r[a[c]];a.splice(0,l)}return s},o.measureText=function(e,t,n,i,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i},o.numberOfLabelLines=function(e){var t=1;return o.each(e,(function(e){o.isArray(e)&&e.length>t&&(t=e.length)})),t},o.drawRoundedRectangle=function(e,t,n,i,r,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+r-o),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()},o.color=function(t){return i?i(t instanceof CanvasGradient?e.defaults.global.defaultColor:t):(console.error("Color.js not found!"),t)},o.addResizeListener=function(e,t){var n=document.createElement("iframe");n.className="chartjs-hidden-iframe",n.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",n.tabIndex=-1;var i=e._chartjs={resizer:n,ticking:!1},r=function(){i.ticking||(i.ticking=!0,o.requestAnimFrame.call(window,(function(){return i.resizer?(i.ticking=!1,t()):void 0})))};o.addEvent(n,"load",(function(){o.addEvent(n.contentWindow||n,"resize",r),r()})),e.insertBefore(n,e.firstChild)},o.removeResizeListener=function(e){if(e&&e._chartjs){var t=e._chartjs.resizer;t&&(t.parentNode.removeChild(t),e._chartjs.resizer=null),delete e._chartjs}},o.isArray=Array.isArray?function(e){return Array.isArray(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.arrayEquals=function(e,t){var n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;i>n;++n)if(r=e[n],a=t[n],r instanceof Array&&a instanceof Array){if(!o.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},o.callCallback=function(e,t,n){e&&"function"==typeof e.call&&e.apply(n,t)},o.getHoverColor=function(e){return e instanceof CanvasPattern?e:o.color(e).saturate(.5).darken(.1).rgbString()}}},{3:3}],27:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){var n,i,r,o,a;for(i=0,o=e.data.datasets.length;o>i;++i)if(e.isDatasetVisible(i))for(r=0,a=(n=e.getDatasetMeta(i)).data.length;a>r;++r){var s=n.data[r];s._view.skip||t(s)}}function n(e,n){var i=[];return t(e,(function(e){e.inRange(n.x,n.y)&&i.push(e)})),i}function i(e,n,i,r){var a=Number.POSITIVE_INFINITY,s=[];return r||(r=o.distanceBetweenPoints),t(e,(function(e){if(!i||e.inRange(n.x,n.y)){var t=e.getCenterPoint(),o=r(n,t);a>o?(s=[e],a=o):o===a&&s.push(e)}})),s}function r(e,t,r){var a=o.getRelativePosition(t,e.chart),s=r.intersect?n(e,a):i(e,a,!1,(function(e,t){return Math.abs(e.x-t.x)})),l=[];return s.length?(e.data.datasets.forEach((function(t,n){if(e.isDatasetVisible(n)){var i=e.getDatasetMeta(n).data[s[0]._index];i&&!i._view.skip&&l.push(i)}})),l):[]}var o=e.helpers;e.Interaction={modes:{single:function(e,n){var i=o.getRelativePosition(n,e.chart),r=[];return t(e,(function(e){return e.inRange(i.x,i.y)?(r.push(e),r):void 0})),r.slice(0,1)},label:r,index:r,dataset:function(e,t,r){var a=o.getRelativePosition(t,e.chart),s=r.intersect?n(e,a):i(e,a,!1);return s.length>0&&(s=e.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(e,t){return r(e,t,!0)},point:function(e,t){return n(e,o.getRelativePosition(t,e.chart))},nearest:function(e,t,n){var r=i(e,o.getRelativePosition(t,e.chart),n.intersect);return r.length>1&&r.sort((function(e,t){var n=e.getArea()-t.getArea();return 0===n&&(n=e._datasetIndex-t._datasetIndex),n})),r.slice(0,1)},x:function(e,n,i){var r=o.getRelativePosition(n,e.chart),a=[],s=!1;return t(e,(function(e){e.inXRange(r.x)&&a.push(e),e.inRange(r.x,r.y)&&(s=!0)})),i.intersect&&!s&&(a=[]),a},y:function(e,n,i){var r=o.getRelativePosition(n,e.chart),a=[],s=!1;return t(e,(function(e){e.inYRange(r.y)&&a.push(e),e.inRange(r.x,r.y)&&(s=!0)})),i.intersect&&!s&&(a=[]),a}}}}},{}],28:[function(e,t,n){"use strict";t.exports=function(){var e=function(t,n){return this.controller=new e.Controller(t,n,this),this.controller};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e.Chart=e,e}},{}],29:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),e.boxes.push(t)},removeBox:function(e,t){e.boxes&&e.boxes.splice(e.boxes.indexOf(t),1)},update:function(e,n,i){function r(e){var n=t.findNextWhere(_,(function(t){return t.box===e}));if(n)if(e.isHorizontal()){var i={left:k,right:S,top:0,bottom:0};e.update(e.options.fullWidth?m:x,v/2,i)}else e.update(n.minSize.width,C)}function o(e){e.isHorizontal()?(e.left=e.options.fullWidth?l:k,e.right=e.options.fullWidth?n-c:k+x,e.top=F,e.bottom=F+e.height,F=e.bottom):(e.left=D,e.right=D+e.width,e.top=E,e.bottom=E+C,D=e.right)}if(e){var a=e.options.layout,s=a?a.padding:null,l=0,c=0,u=0,d=0;isNaN(s)?(l=s.left||0,c=s.right||0,u=s.top||0,d=s.bottom||0):(l=s,c=s,u=s,d=s);var h=t.where(e.boxes,(function(e){return"left"===e.options.position})),f=t.where(e.boxes,(function(e){return"right"===e.options.position})),p=t.where(e.boxes,(function(e){return"top"===e.options.position})),A=t.where(e.boxes,(function(e){return"bottom"===e.options.position})),g=t.where(e.boxes,(function(e){return"chartArea"===e.options.position}));p.sort((function(e,t){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)})),A.sort((function(e,t){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}));var m=n-l-c,v=i-u-d,y=v/2,b=(n-m/2)/(h.length+f.length),w=(i-y)/(p.length+A.length),x=m,C=v,_=[];t.each(h.concat(f,p,A),(function(e){var t,n=e.isHorizontal();n?(t=e.update(e.options.fullWidth?m:x,w),C-=t.height):(t=e.update(b,y),x-=t.width),_.push({horizontal:n,minSize:t,box:e})}));var k=l,S=c,E=u,T=d;t.each(h.concat(f),r),t.each(h,(function(e){k+=e.width})),t.each(f,(function(e){S+=e.width})),t.each(p.concat(A),r),t.each(p,(function(e){E+=e.height})),t.each(A,(function(e){T+=e.height})),t.each(h.concat(f),(function(e){var n=t.findNextWhere(_,(function(t){return t.box===e})),i={left:0,right:0,top:E,bottom:T};n&&e.update(n.minSize.width,C,i)})),k=l,S=c,E=u,T=d,t.each(h,(function(e){k+=e.width})),t.each(f,(function(e){S+=e.width})),t.each(p,(function(e){E+=e.height})),t.each(A,(function(e){T+=e.height}));var B=i-E-T,I=n-k-S;(I!==x||B!==C)&&(t.each(h,(function(e){e.height=B})),t.each(f,(function(e){e.height=B})),t.each(p,(function(e){e.options.fullWidth||(e.width=I)})),t.each(A,(function(e){e.options.fullWidth||(e.width=I)})),C=B,x=I);var D=l,F=u;t.each(h.concat(p),o),D+=x,F+=C,t.each(f,o),t.each(A,o),e.chartArea={left:k,top:E,right:k+x,bottom:E+C},t.each(g,(function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(x,C)}))}}}}},{}],30:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}var n=e.helpers,i=n.noop;e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return n.isArray(t.datasets)?t.datasets.map((function(t,i){return{text:t.label,fillStyle:n.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(i),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:i}}),this):[]}}},e.Legend=e.Element.extend({initialize:function(e){n.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:i,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:function(){var e=this;e.legendItems=e.options.labels.generateLabels.call(e,e.chart),e.options.reverse&&e.legendItems.reverse()},afterBuildLabels:i,beforeFit:i,fit:function(){var i=this,r=i.options,o=r.labels,a=r.display,s=i.ctx,l=e.defaults.global,c=n.getValueOrDefault,u=c(o.fontSize,l.defaultFontSize),d=c(o.fontStyle,l.defaultFontStyle),h=c(o.fontFamily,l.defaultFontFamily),f=n.fontString(u,d,h),p=i.legendHitBoxes=[],A=i.minSize,g=i.isHorizontal();if(g?(A.width=i.maxWidth,A.height=a?10:0):(A.width=a?10:0,A.height=i.maxHeight),a)if(s.font=f,g){var m=i.lineWidths=[0],v=i.legendItems.length?u+o.padding:0;s.textAlign="left",s.textBaseline="top",n.each(i.legendItems,(function(e,n){var r=t(o,u)+u/2+s.measureText(e.text).width;m[m.length-1]+r+o.padding>=i.width&&(v+=u+o.padding,m[m.length]=i.left),p[n]={left:0,top:0,width:r,height:u},m[m.length-1]+=r+o.padding})),A.height+=v}else{var y=o.padding,b=i.columnWidths=[],w=o.padding,x=0,C=0,_=u+y;n.each(i.legendItems,(function(e,n){var i=t(o,u)+u/2+s.measureText(e.text).width;C+_>A.height&&(w+=x+o.padding,b.push(x),x=0,C=0),x=Math.max(x,i),C+=_,p[n]={left:0,top:0,width:i,height:u}})),w+=x,b.push(x),A.width+=w}i.width=A.width,i.height=A.height},afterFit:i,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var i=this,r=i.options,o=r.labels,a=e.defaults.global,s=a.elements.line,l=i.width,c=i.lineWidths;if(r.display){var u,d=i.ctx,h=n.getValueOrDefault,f=h(o.fontColor,a.defaultFontColor),p=h(o.fontSize,a.defaultFontSize),A=h(o.fontStyle,a.defaultFontStyle),g=h(o.fontFamily,a.defaultFontFamily),m=n.fontString(p,A,g);d.textAlign="left",d.textBaseline="top",d.lineWidth=.5,d.strokeStyle=f,d.fillStyle=f,d.font=m;var v=t(o,p),y=i.legendHitBoxes,b=function(t,n,i){if(!(isNaN(v)||0>=v)){d.save(),d.fillStyle=h(i.fillStyle,a.defaultColor),d.lineCap=h(i.lineCap,s.borderCapStyle),d.lineDashOffset=h(i.lineDashOffset,s.borderDashOffset),d.lineJoin=h(i.lineJoin,s.borderJoinStyle),d.lineWidth=h(i.lineWidth,s.borderWidth),d.strokeStyle=h(i.strokeStyle,a.defaultColor);var o=0===h(i.lineWidth,s.borderWidth);if(d.setLineDash&&d.setLineDash(h(i.lineDash,s.borderDash)),r.labels&&r.labels.usePointStyle){var l=p*Math.SQRT2/2,c=l/Math.SQRT2,u=t+c,f=n+c;e.canvasHelpers.drawPoint(d,i.pointStyle,l,u,f)}else o||d.strokeRect(t,n,v,p),d.fillRect(t,n,v,p);d.restore()}},w=i.isHorizontal();u=w?{x:i.left+(l-c[0])/2,y:i.top+o.padding,line:0}:{x:i.left+o.padding,y:i.top+o.padding,line:0};var x=p+o.padding;n.each(i.legendItems,(function(e,t){var n=d.measureText(e.text).width,r=v+p/2+n,a=u.x,s=u.y;w?a+r>=l&&(s=u.y+=x,u.line++,a=u.x=i.left+(l-c[u.line])/2):s+x>i.bottom&&(a=u.x=a+i.columnWidths[u.line]+o.padding,s=u.y=i.top,u.line++),b(a,s,e),y[t].left=a,y[t].top=s,function(e,t,n,i){d.fillText(n.text,v+p/2+e,t),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(v+p/2+e,t+p/2),d.lineTo(v+p/2+e+i,t+p/2),d.stroke())}(a,s,e,n),w?u.x+=r+o.padding:u.y+=x}))}},handleEvent:function(e){var t=this,i=t.options,r="mouseup"===e.type?"click":e.type,o=!1;if("mousemove"===r){if(!i.onHover)return}else{if("click"!==r)return;if(!i.onClick)return}var a=n.getRelativePosition(e,t.chart.chart),s=a.x,l=a.y;if(s>=t.left&&s<=t.right&&l>=t.top&&l<=t.bottom)for(var c=t.legendHitBoxes,u=0;u<c.length;++u){var d=c[u];if(s>=d.left&&s<=d.left+d.width&&l>=d.top&&l<=d.top+d.height){if("click"===r){i.onClick.call(t,e,t.legendItems[u]),o=!0;break}if("mousemove"===r){i.onHover.call(t,e,t.legendItems[u]),o=!0;break}}}return o}}),e.plugins.register({beforeInit:function(t){var n=t.options.legend;n&&(t.legend=new e.Legend({ctx:t.chart.ctx,options:n,chart:t}),e.layoutService.addBox(t,t.legend))}})}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers.noop;e.plugins={_plugins:[],register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}))},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t){var n,i,r=this._plugins,o=r.length;for(n=0;o>n;++n)if("function"==typeof(i=r[n])[e]&&!1===i[e].apply(i,t||[]))return!1;return!0}},e.PluginBase=e.Element.extend({beforeInit:t,afterInit:t,beforeUpdate:t,afterUpdate:t,beforeDraw:t,afterDraw:t,destroy:t}),e.pluginService=e.plugins}},{}],32:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:e.Ticks.formatters.values}},e.Scale=e.Element.extend({beforeUpdate:function(){t.callCallback(this.options.beforeUpdate,[this])},update:function(e,n,i){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=n,r.margins=t.extend({left:0,right:0,top:0,bottom:0},i),r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r.beforeBuildTicks(),r.buildTicks(),r.afterBuildTicks(),r.beforeTickToLabelConversion(),r.convertTicksToLabels(),r.afterTickToLabelConversion(),r.beforeCalculateTickRotation(),r.calculateTickRotation(),r.afterCalculateTickRotation(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:function(){t.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){t.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(){t.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){t.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback)},afterTickToLabelConversion:function(){t.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var n=this,i=n.ctx,r=e.defaults.global,o=n.options.ticks,a=t.getValueOrDefault(o.fontSize,r.defaultFontSize),s=t.getValueOrDefault(o.fontStyle,r.defaultFontStyle),l=t.getValueOrDefault(o.fontFamily,r.defaultFontFamily),c=t.fontString(a,s,l);i.font=c;var u,d=i.measureText(n.ticks[0]).width,h=i.measureText(n.ticks[n.ticks.length-1]).width;if(n.labelRotation=o.minRotation||0,n.paddingRight=0,n.paddingLeft=0,n.options.display&&n.isHorizontal()){n.paddingRight=h/2+3,n.paddingLeft=d/2+3,n.longestTextCache||(n.longestTextCache={});for(var f,p,A=t.longestText(i,c,n.ticks,n.longestTextCache),g=A,m=n.getPixelForTick(1)-n.getPixelForTick(0)-6;g>m&&n.labelRotation<o.maxRotation;){if(f=Math.cos(t.toRadians(n.labelRotation)),p=Math.sin(t.toRadians(n.labelRotation)),(u=f*d)+a/2>n.yLabelWidth&&(n.paddingLeft=u+a/2),n.paddingRight=a/2,p*A>n.maxHeight){n.labelRotation--;break}n.labelRotation++,g=f*A}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0))},afterCalculateTickRotation:function(){t.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callCallback(this.options.beforeFit,[this])},fit:function(){var n=this,i=n.minSize={width:0,height:0},r=n.options,o=e.defaults.global,a=r.ticks,s=r.scaleLabel,l=r.gridLines,c=r.display,u=n.isHorizontal(),d=t.getValueOrDefault(a.fontSize,o.defaultFontSize),h=t.getValueOrDefault(a.fontStyle,o.defaultFontStyle),f=t.getValueOrDefault(a.fontFamily,o.defaultFontFamily),p=t.fontString(d,h,f),A=t.getValueOrDefault(s.fontSize,o.defaultFontSize),g=r.gridLines.tickMarkLength;if(i.width=u?n.isFullWidth()?n.maxWidth-n.margins.left-n.margins.right:n.maxWidth:c&&l.drawTicks?g:0,i.height=u?c&&l.drawTicks?g:0:n.maxHeight,s.display&&c&&(u?i.height+=1.5*A:i.width+=1.5*A),a.display&&c){n.longestTextCache||(n.longestTextCache={});var m=t.longestText(n.ctx,p,n.ticks,n.longestTextCache),v=t.numberOfLabelLines(n.ticks),y=.5*d;if(u){n.longestLabelWidth=m;var b=Math.sin(t.toRadians(n.labelRotation))*n.longestLabelWidth+d*v+y*v;i.height=Math.min(n.maxHeight,i.height+b),n.ctx.font=p;var w=n.ctx.measureText(n.ticks[0]).width,x=n.ctx.measureText(n.ticks[n.ticks.length-1]).width,C=Math.cos(t.toRadians(n.labelRotation)),_=Math.sin(t.toRadians(n.labelRotation));n.paddingLeft=0!==n.labelRotation?C*w+3:w/2+3,n.paddingRight=0!==n.labelRotation?_*(d/2)+3:x/2+3}else{var k=n.maxWidth-i.width;a.mirror?m=0:m+=n.options.ticks.padding,k>m?i.width+=m:i.width=n.maxWidth,n.paddingTop=d/2,n.paddingBottom=d/2}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingTop=Math.max(n.paddingTop-n.margins.top,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0),n.paddingBottom=Math.max(n.paddingBottom-n.margins.bottom,0)),n.width=i.width,n.height=i.height},afterFit:function(){t.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){return null==e?NaN:"number"!=typeof e||isFinite(e)?"object"==typeof e?e instanceof Date||e.isValid?e:this.getRightValue(this.isHorizontal()?e.x:e.y):e:NaN},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(e,t){var n=this;if(n.isHorizontal()){var i=(n.width-(n.paddingLeft+n.paddingRight))/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),r=i*e+n.paddingLeft;return t&&(r+=i/2),n.left+Math.round(r)+(n.isFullWidth()?n.margins.left:0)}var o=n.height-(n.paddingTop+n.paddingBottom);return n.top+e*(o/(n.ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=(t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft;return t.left+Math.round(n)+(t.isFullWidth()?t.margins.left:0)}return t.top+e*t.height},getBasePixel:function(){var e=this,t=e.min,n=e.max;return e.getPixelForValue(e.beginAtZero?0:0>t&&0>n?n:t>0&&n>0?t:0)},draw:function(n){var i=this,r=i.options;if(r.display){var o,a,s=i.ctx,l=e.defaults.global,c=r.ticks,u=r.gridLines,d=r.scaleLabel,h=0!==i.labelRotation,f=c.autoSkip,p=i.isHorizontal();c.maxTicksLimit&&(a=c.maxTicksLimit);var A=t.getValueOrDefault(c.fontColor,l.defaultFontColor),g=t.getValueOrDefault(c.fontSize,l.defaultFontSize),m=t.getValueOrDefault(c.fontStyle,l.defaultFontStyle),v=t.getValueOrDefault(c.fontFamily,l.defaultFontFamily),y=t.fontString(g,m,v),b=u.tickMarkLength,w=t.getValueOrDefault(u.borderDash,l.borderDash),x=t.getValueOrDefault(u.borderDashOffset,l.borderDashOffset),C=t.getValueOrDefault(d.fontColor,l.defaultFontColor),_=t.getValueOrDefault(d.fontSize,l.defaultFontSize),k=t.getValueOrDefault(d.fontStyle,l.defaultFontStyle),S=t.getValueOrDefault(d.fontFamily,l.defaultFontFamily),E=t.fontString(_,k,S),T=t.toRadians(i.labelRotation),B=Math.cos(T),I=i.longestLabelWidth*B;s.fillStyle=A;var D=[];if(p){if(o=!1,h&&(I/=2),(I+c.autoSkipPadding)*i.ticks.length>i.width-(i.paddingLeft+i.paddingRight)&&(o=1+Math.floor((I+c.autoSkipPadding)*i.ticks.length/(i.width-(i.paddingLeft+i.paddingRight)))),a&&i.ticks.length>a)for(;!o||i.ticks.length/(o||1)>a;)o||(o=1),o+=1;f||(o=!1)}var F="right"===r.position?i.left:i.right-b,M="right"===r.position?i.left+b:i.right,L="bottom"===r.position?i.top:i.bottom-b,P="bottom"===r.position?i.top+b:i.bottom;if(t.each(i.ticks,(function(e,a){if(null!=e){var s=i.ticks.length===a+1;if((!(o>1&&a%o>0||a%o==0&&a+o>=i.ticks.length)||s)&&null!=e){var l,d;a===(void 0!==i.zeroLineIndex?i.zeroLineIndex:0)?(l=u.zeroLineWidth,d=u.zeroLineColor):(l=t.getValueAtIndexOrDefault(u.lineWidth,a),d=t.getValueAtIndexOrDefault(u.color,a));var f,A,g,m,v,y,C,_,k,S,E="middle",B="middle";if(p){h||(B="top"===r.position?"bottom":"top"),E=h?"right":"center";var I=i.getPixelForTick(a)+t.aliasPixel(l);k=i.getPixelForTick(a,u.offsetGridLines)+c.labelOffset,S=h?i.top+12:"top"===r.position?i.bottom-b:i.top+b,f=g=v=C=I,A=L,m=P,y=n.top,_=n.bottom}else{"left"===r.position?c.mirror?(k=i.right+c.padding,E="left"):(k=i.right-c.padding,E="right"):c.mirror?(k=i.left-c.padding,E="right"):(k=i.left+c.padding,E="left");var R=i.getPixelForTick(a);R+=t.aliasPixel(l),S=i.getPixelForTick(a,u.offsetGridLines),f=F,g=M,v=n.left,C=n.right,A=m=y=_=R}D.push({tx1:f,ty1:A,tx2:g,ty2:m,x1:v,y1:y,x2:C,y2:_,labelX:k,labelY:S,glWidth:l,glColor:d,glBorderDash:w,glBorderDashOffset:x,rotation:-1*T,label:e,textBaseline:B,textAlign:E})}}})),t.each(D,(function(e){if(u.display&&(s.save(),s.lineWidth=e.glWidth,s.strokeStyle=e.glColor,s.setLineDash&&(s.setLineDash(e.glBorderDash),s.lineDashOffset=e.glBorderDashOffset),s.beginPath(),u.drawTicks&&(s.moveTo(e.tx1,e.ty1),s.lineTo(e.tx2,e.ty2)),u.drawOnChartArea&&(s.moveTo(e.x1,e.y1),s.lineTo(e.x2,e.y2)),s.stroke(),s.restore()),c.display){s.save(),s.translate(e.labelX,e.labelY),s.rotate(e.rotation),s.font=y,s.textBaseline=e.textBaseline,s.textAlign=e.textAlign;var n=e.label;if(t.isArray(n))for(var i=0,r=-(n.length-1)*g*.75;i<n.length;++i)s.fillText(""+n[i],0,r),r+=1.5*g;else s.fillText(n,0,0);s.restore()}})),d.display){var R,O,N=0;if(p)R=i.left+(i.right-i.left)/2,O="bottom"===r.position?i.bottom-_/2:i.top+_/2;else{var U="left"===r.position;R=U?i.left+_/2:i.right-_/2,O=i.top+(i.bottom-i.top)/2,N=U?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(R,O),s.rotate(N),s.textAlign="center",s.textBaseline="middle",s.fillStyle=C,s.font=E,s.fillText(d.labelString,0,0),s.restore()}if(u.drawBorder){s.lineWidth=t.getValueAtIndexOrDefault(u.lineWidth,0),s.strokeStyle=t.getValueAtIndexOrDefault(u.color,0);var H=i.left,$=i.right,Q=i.top,W=i.bottom,V=t.aliasPixel(s.lineWidth);p?(Q=W="top"===r.position?i.bottom:i.top,Q+=V,W+=V):(H=$="left"===r.position?i.right:i.left,H+=V,$+=V),s.beginPath(),s.moveTo(H,Q),s.lineTo($,W),s.stroke()}}}})}},{}],33:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,n,i){this.constructors[e]=n,this.defaults[e]=t.clone(i)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.scaleMerge(e.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(e,n){var i=this.defaults;i.hasOwnProperty(e)&&(i[e]=t.extend(i[e],n))},addScalesToLayout:function(n){t.each(n.scales,(function(t){e.layoutService.addBox(n,t)}))}}}},{}],34:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.Ticks={generators:{linear:function(e,n){var i,r=[];if(e.stepSize&&e.stepSize>0)i=e.stepSize;else{var o=t.niceNum(n.max-n.min,!1);i=t.niceNum(o/(e.maxTicks-1),!0)}var a=Math.floor(n.min/i)*i,s=Math.ceil(n.max/i)*i;e.min&&e.max&&e.stepSize&&(e.max-e.min)%e.stepSize==0&&(a=e.min,s=e.max);var l=(s-a)/i;l=t.almostEquals(l,Math.round(l),i/1e3)?Math.round(l):Math.ceil(l),r.push(void 0!==e.min?e.min:a);for(var c=1;l>c;++c)r.push(a+c*i);return r.push(void 0!==e.max?e.max:s),r},logarithmic:function(e,n){for(var i=[],r=t.getValueOrDefault,o=r(e.min,Math.pow(10,Math.floor(t.log10(n.min))));o<n.max;){var a,s;i.push(o),0===o?(a=Math.floor(t.log10(n.minNotZero)),s=Math.round(n.minNotZero/Math.pow(10,a))):(a=Math.floor(t.log10(o)),s=Math.floor(o/Math.pow(10,a))+1),10===s&&(s=1,++a),o=s*Math.pow(10,a)}var l=r(e.max,o);return i.push(l),i}},formatters:{values:function(e){return t.isArray(e)?e:""+e},linear:function(e,n,i){var r=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var o=t.log10(Math.abs(r)),a="";if(0!==e){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a="0";return a},logarithmic:function(e,n,i){var r=e/Math.pow(10,Math.floor(t.log10(e)));return 0===e?"0":1===r||2===r||5===r||0===n||n===i.length-1?e.toExponential():""}}}}},{}],35:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var n=t.noop;e.Title=e.Element.extend({initialize:function(n){var i=this;t.extend(i,n),i.options=t.configMerge(e.defaults.global.title,n.options),i.legendHitBoxes=[]},beforeUpdate:function(){var n=this.chart.options;n&&n.title&&(this.options=t.configMerge(e.defaults.global.title,n.title))},update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,i=t.getValueOrDefault,r=n.options,o=e.defaults.global,a=r.display,s=i(r.fontSize,o.defaultFontSize),l=n.minSize;n.isHorizontal()?(l.width=n.maxWidth,l.height=a?s+2*r.padding:0):(l.width=a?s+2*r.padding:0,l.height=n.maxHeight),n.width=l.width,n.height=l.height},afterFit:n,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var n=this,i=n.ctx,r=t.getValueOrDefault,o=n.options,a=e.defaults.global;if(o.display){var s,l,c,u=r(o.fontSize,a.defaultFontSize),d=r(o.fontStyle,a.defaultFontStyle),h=r(o.fontFamily,a.defaultFontFamily),f=t.fontString(u,d,h),p=0,A=n.top,g=n.left,m=n.bottom,v=n.right;i.fillStyle=r(o.fontColor,a.defaultFontColor),i.font=f,n.isHorizontal()?(s=g+(v-g)/2,l=A+(m-A)/2,c=v-g):(s="left"===o.position?g+u/2:v-u/2,l=A+(m-A)/2,c=m-A,p=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(s,l),i.rotate(p),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0,c),i.restore()}}}),e.plugins.register({beforeInit:function(t){var n=t.options.title;n&&(t.titleBlock=new e.Title({ctx:t.chart.ctx,options:n,chart:t}),e.layoutService.addBox(t,t.titleBlock))}})}},{}],36:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){var n=o.color(e);return n.alpha(t*n.alpha()).rgbaString()}function n(e,t){return t&&(o.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function i(e){var t=e._xScale,n=e._yScale||e._scale,i=e._index,r=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(i,r):"",yLabel:n?n.getLabelForIndex(i,r):"",index:i,datasetIndex:r,x:e._model.x,y:e._model.y}}function r(t){var n=e.defaults.global,i=o.getValueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:i(t.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:i(t.bodyFontStyle,n.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:i(t.bodyFontSize,n.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:i(t.titleFontFamily,n.defaultFontFamily),_titleFontStyle:i(t.titleFontStyle,n.defaultFontStyle),titleFontSize:i(t.titleFontSize,n.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:i(t.footerFontFamily,n.defaultFontFamily),_footerFontStyle:i(t.footerFontStyle,n.defaultFontStyle),footerFontSize:i(t.footerFontSize,n.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors}}var o=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,callbacks:{beforeTitle:o.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(e.length>0){var o=e[0];o.xLabel?n=o.xLabel:r>0&&o.index<r&&(n=i[o.index])}return n},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}},e.Tooltip=e.Element.extend({initialize:function(){this._model=r(this._options)},getTitle:function(){var e=this,t=e._options.callbacks,i=t.beforeTitle.apply(e,arguments),r=t.title.apply(e,arguments),o=t.afterTitle.apply(e,arguments),a=[];return a=n(a,i),a=n(a,r),n(a,o)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var i=this,r=i._options.callbacks,a=[];return o.each(e,(function(e){var o={before:[],lines:[],after:[]};n(o.before,r.beforeLabel.call(i,e,t)),n(o.lines,r.label.call(i,e,t)),n(o.after,r.afterLabel.call(i,e,t)),a.push(o)})),a},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,t=e._options.callbacks,i=t.beforeFooter.apply(e,arguments),r=t.footer.apply(e,arguments),o=t.afterFooter.apply(e,arguments),a=[];return a=n(a,i),a=n(a,r),n(a,o)},update:function(t){var n,a,s=this,l=s._options,c=s._model,u=s._model=r(l),d=s._active,h=s._data,f=s._chartInstance,p={xAlign:c.xAlign,yAlign:c.yAlign},A={x:c.x,y:c.y},g={width:c.width,height:c.height},m={x:c.caretX,y:c.caretY};if(d.length){u.opacity=1;var v=[];m=e.Tooltip.positioners[l.position](d,s._eventPosition);var y=[];for(n=0,a=d.length;a>n;++n)y.push(i(d[n]));l.filter&&(y=y.filter((function(e){return l.filter(e,h)}))),l.itemSort&&(y=y.sort((function(e,t){return l.itemSort(e,t,h)}))),o.each(y,(function(e){v.push(l.callbacks.labelColor.call(s,e,f))})),u.title=s.getTitle(y,h),u.beforeBody=s.getBeforeBody(y,h),u.body=s.getBody(y,h),u.afterBody=s.getAfterBody(y,h),u.footer=s.getFooter(y,h),u.x=Math.round(m.x),u.y=Math.round(m.y),u.caretPadding=o.getValueOrDefault(m.padding,2),u.labelColors=v,u.dataPoints=y,A=function(e,t,n){var i=e.x,r=e.y,o=e.caretSize,a=e.caretPadding,s=e.cornerRadius,l=n.xAlign,c=n.yAlign,u=o+a,d=s+a;return"right"===l?i-=t.width:"center"===l&&(i-=t.width/2),"top"===c?r+=u:r-="bottom"===c?t.height+u:t.height/2,"center"===c?"left"===l?i+=u:"right"===l&&(i-=u):"left"===l?i-=d:"right"===l&&(i+=d),{x:i,y:r}}(u,g=function(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,a=t.body,s=a.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);s+=t.beforeBody.length+t.afterBody.length;var l=t.title.length,c=t.footer.length,u=t.titleFontSize,d=t.bodyFontSize,h=t.footerFontSize;i+=l*u,i+=l?(l-1)*t.titleSpacing:0,i+=l?t.titleMarginBottom:0,i+=s*d,i+=s?(s-1)*t.bodySpacing:0,i+=c?t.footerMarginTop:0,i+=c*h,i+=c?(c-1)*t.footerSpacing:0;var f=0,p=function(e){r=Math.max(r,n.measureText(e).width+f)};return n.font=o.fontString(u,t._titleFontStyle,t._titleFontFamily),o.each(t.title,p),n.font=o.fontString(d,t._bodyFontStyle,t._bodyFontFamily),o.each(t.beforeBody.concat(t.afterBody),p),f=t.displayColors?d+2:0,o.each(a,(function(e){o.each(e.before,p),o.each(e.lines,p),o.each(e.after,p)})),f=0,n.font=o.fontString(h,t._footerFontStyle,t._footerFontFamily),o.each(t.footer,p),{width:r+=2*t.xPadding,height:i}}(this,u),p=function(e,t){var n=e._model,i=e._chart,r=e._chartInstance.chartArea,o="center",a="center";n.y<t.height?a="top":n.y>i.height-t.height&&(a="bottom");var s,l,c,u,d,h=(r.left+r.right)/2,f=(r.top+r.bottom)/2;"center"===a?(s=function(e){return h>=e},l=function(e){return e>h}):(s=function(e){return e<=t.width/2},l=function(e){return e>=i.width-t.width/2}),c=function(e){return e+t.width>i.width},u=function(e){return e-t.width<0},d=function(e){return f>=e?"top":"bottom"},s(n.x)?(o="left",c(n.x)&&(o="center",a=d(n.y))):l(n.x)&&(o="right",u(n.x)&&(o="center",a=d(n.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:o,yAlign:p.yAlign?p.yAlign:a}}(this,g))}else u.opacity=0;return u.xAlign=p.xAlign,u.yAlign=p.yAlign,u.x=A.x,u.y=A.y,u.width=g.width,u.height=g.height,u.caretX=m.x,u.caretY=m.y,s._model=u,t&&l.custom&&l.custom.call(s,u),s},drawCaret:function(e,n,i){var r,o,a,s,l,c,u=this._view,d=this._chart.ctx,h=u.caretSize,f=u.cornerRadius,p=u.xAlign,A=u.yAlign,g=e.x,m=e.y,v=n.width,y=n.height;"center"===A?("left"===p?(o=(r=g)-h,a=r):(o=(r=g+v)+h,a=r),s=(l=m+y/2)-h,c=l+h):("left"===p?a=(o=(r=g+f)+h)+h:"right"===p?a=(o=(r=g+v-f)-h)-h:(r=(o=g+v/2)-h,a=o+h),"top"===A?(l=(s=m)-h,c=s):(l=(s=m+y)+h,c=s)),d.fillStyle=t(u.backgroundColor,i),d.beginPath(),d.moveTo(r,s),d.lineTo(o,l),d.lineTo(a,c),d.closePath(),d.fill()},drawTitle:function(e,n,i,r){var a=n.title;if(a.length){i.textAlign=n._titleAlign,i.textBaseline="top";var s,l,c=n.titleFontSize,u=n.titleSpacing;for(i.fillStyle=t(n.titleFontColor,r),i.font=o.fontString(c,n._titleFontStyle,n._titleFontFamily),s=0,l=a.length;l>s;++s)i.fillText(a[s],e.x,e.y),e.y+=c+u,s+1===a.length&&(e.y+=n.titleMarginBottom-u)}},drawBody:function(e,n,i,r){var a=n.bodyFontSize,s=n.bodySpacing,l=n.body;i.textAlign=n._bodyAlign,i.textBaseline="top";var c=t(n.bodyFontColor,r);i.fillStyle=c,i.font=o.fontString(a,n._bodyFontStyle,n._bodyFontFamily);var u=0,d=function(t){i.fillText(t,e.x+u,e.y),e.y+=a+s};o.each(n.beforeBody,d);var h=n.displayColors;u=h?a+2:0,o.each(l,(function(s,l){o.each(s.before,d),o.each(s.lines,(function(o){h&&(i.fillStyle=t(n.legendColorBackground,r),i.fillRect(e.x,e.y,a,a),i.strokeStyle=t(n.labelColors[l].borderColor,r),i.strokeRect(e.x,e.y,a,a),i.fillStyle=t(n.labelColors[l].backgroundColor,r),i.fillRect(e.x+1,e.y+1,a-2,a-2),i.fillStyle=c),d(o)})),o.each(s.after,d)})),u=0,o.each(n.afterBody,d),e.y-=s},drawFooter:function(e,n,i,r){var a=n.footer;a.length&&(e.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=t(n.footerFontColor,r),i.font=o.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),o.each(a,(function(t){i.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing})))},drawBackground:function(e,n,i,r,a){i.fillStyle=t(n.backgroundColor,a),o.drawRoundedRectangle(i,e.x,e.y,r.width,r.height,n.cornerRadius),i.fill()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity;this._options.enabled&&(this.drawBackground(i,t,e,n,r),this.drawCaret(i,n,r),i.x+=t.xPadding,i.y+=t.yPadding,this.drawTitle(i,t,e,r),this.drawBody(i,t,e,r),this.drawFooter(i,t,e,r))}},handleEvent:function(e){var t=this,n=t._options,i=!1;if(t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:t._active=t._chartInstance.getElementsAtEventForMode(e,n.mode,n),i=!o.arrayEquals(t._active,t._lastActive),t._lastActive=t._active,n.enabled||n.custom){t._eventPosition=o.getRelativePosition(e,t._chart);var r=t._model;t.update(!0),t.pivot(),i|=r.x!==t._model.x||r.y!==t._model.y}return i}}),e.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,o=0;for(t=0,n=e.length;n>t;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:Math.round(i/o),y:Math.round(r/o)}},nearest:function(e,t){var n,i,r,a=t.x,s=t.y,l=Number.POSITIVE_INFINITY;for(i=0,r=e.length;r>i;++i){var c=e[i];if(c&&c.hasValue()){var u=c.getCenterPoint(),d=o.distanceBetweenPoints(t,u);l>d&&(l=d,n=c)}}if(n){var h=n.tooltipPosition();a=h.x,s=h.y}return{x:a,y:s}}}}},{}],37:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global;n.elements.arc={backgroundColor:n.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,n){var i=this._view;if(i){for(var r=t.getAngleFromPoint(i,{x:e,y:n}),o=r.angle,a=r.distance,s=i.startAngle,l=i.endAngle;s>l;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;s>o;)o+=2*Math.PI;var c=o>=s&&l>=o,u=a>=i.innerRadius&&a<=i.outerRadius;return c&&u}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,i=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,i),e.arc(t.x,t.y,t.innerRadius,i,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],38:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},e.elements.Line=e.Element.extend({draw:function(){function e(e,t){var n=t._view;!0===t._view.steppedLine?(l.lineTo(n.x,e._view.y),l.lineTo(n.x,n.y)):0===t._view.tension?l.lineTo(n.x,n.y):l.bezierCurveTo(e._view.controlPointNextX,e._view.controlPointNextY,n.controlPointPreviousX,n.controlPointPreviousY,n.x,n.y)}var i=this,r=i._view,o=r.spanGaps,a=r.scaleZero,s=i._loop;s||("top"===r.fill?a=r.scaleTop:"bottom"===r.fill&&(a=r.scaleBottom));var l=i._chart.ctx;l.save();var c,u,d,h,f=i._children.slice(),p=-1;if(s&&f.length&&f.push(f[0]),f.length&&r.fill){for(l.beginPath(),c=0;c<f.length;++c)u=f[c],d=t.previousItem(f,c),h=u._view,0===c?(s?l.moveTo(a.x,a.y):l.moveTo(h.x,a),h.skip||(p=c,l.lineTo(h.x,h.y))):(d=-1===p?d:f[p],h.skip?o||p!==c-1||(s?l.lineTo(a.x,a.y):l.lineTo(d._view.x,a)):(p!==c-1?o&&-1!==p?e(d,u):(s||l.lineTo(h.x,a),l.lineTo(h.x,h.y)):e(d,u),p=c));s||-1===p||l.lineTo(f[p]._view.x,a),l.fillStyle=r.backgroundColor||n.defaultColor,l.closePath(),l.fill()}var A=n.elements.line;for(l.lineCap=r.borderCapStyle||A.borderCapStyle,l.setLineDash&&l.setLineDash(r.borderDash||A.borderDash),l.lineDashOffset=r.borderDashOffset||A.borderDashOffset,l.lineJoin=r.borderJoinStyle||A.borderJoinStyle,l.lineWidth=r.borderWidth||A.borderWidth,l.strokeStyle=r.borderColor||n.defaultColor,l.beginPath(),p=-1,c=0;c<f.length;++c)u=f[c],d=t.previousItem(f,c),h=u._view,0===c?h.skip||(l.moveTo(h.x,h.y),p=c):(d=-1===p?d:f[p],h.skip||(p!==c-1&&!o||-1===p?l.moveTo(h.x,h.y):e(d,u),p=c));l.stroke(),l.restore()}})}},{}],39:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}var n=e.helpers,i=e.defaults.global,r=i.defaultColor;i.elements.point={radius:3,pointStyle:"circle",backgroundColor:r,borderWidth:1,borderColor:r,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:t,inXRange:t,inYRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(){var t=this._view,o=this._chart.ctx,a=t.pointStyle,s=t.radius,l=t.x,c=t.y;t.skip||(o.strokeStyle=t.borderColor||r,o.lineWidth=n.getValueOrDefault(t.borderWidth,i.elements.point.borderWidth),o.fillStyle=t.backgroundColor||r,e.canvasHelpers.drawPoint(o,a,s,l,c))}})}},{}],40:[function(e,t,n){"use strict";t.exports=function(e){function t(e){return void 0!==e._view.width}function n(e){var n,i,r,o,a=e._view;if(t(e)){var s=a.width/2;n=a.x-s,i=a.x+s,r=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;n=Math.min(a.x,a.base),i=Math.max(a.x,a.base),r=a.y-l,o=a.y+l}return{left:n,top:r,right:i,bottom:o}}var i=e.defaults.global;i.elements.rectangle={backgroundColor:i.defaultColor,borderWidth:0,borderColor:i.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){function e(e){return l[(c+e)%4]}var t=this._chart.ctx,n=this._view,i=n.width/2,r=n.x-i,o=n.x+i,a=n.base-(n.base-n.y),s=n.borderWidth/2;n.borderWidth&&(r+=s,o-=s,a+=s),t.beginPath(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var l=[[r,n.base],[r,a],[o,a],[o,n.base]],c=["bottom","left","top","right"].indexOf(n.borderSkipped,0);-1===c&&(c=0);var u=e(0);t.moveTo(u[0],u[1]);for(var d=1;4>d;d++)u=e(d),t.lineTo(u[0],u[1]);t.fill(),n.borderWidth&&t.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var i=!1;if(this._view){var r=n(this);i=e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}return i},inLabelRange:function(e,i){var r=this;if(!r._view)return!1;var o=n(r);return t(r)?e>=o.left&&e<=o.right:i>=o.top&&i<=o.bottom},inXRange:function(e){var t=n(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=n(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,n,i=this._view;return t(this)?(e=i.x,n=(i.y+i.base)/2):(e=(i.x+i.base)/2,n=i.y),{x:e,y:n}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],41:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.Scale.extend({getLabels:function(){var e=this.chart.data;return(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,n=this,i=n.getLabels();n.minIndex=0,n.maxIndex=i.length-1,void 0!==n.options.ticks.min&&(e=t.indexOf(i,n.options.ticks.min),n.minIndex=-1!==e?e:n.minIndex),void 0!==n.options.ticks.max&&(e=t.indexOf(i,n.options.ticks.max),n.maxIndex=-1!==e?e:n.maxIndex),n.min=i[n.minIndex],n.max=i[n.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,i=n.chart.data,r=n.isHorizontal();return i.xLabels&&r||i.yLabels&&!r?n.getRightValue(i.datasets[t].data[e]):n.ticks[e]},getPixelForValue:function(e,t,n,i){var r=this,o=Math.max(r.maxIndex+1-r.minIndex-(r.options.gridLines.offsetGridLines?0:1),1);if(void 0!==e&&isNaN(t)){var a=r.getLabels().indexOf(e);t=-1!==a?a:t}if(r.isHorizontal()){var s=(r.width-(r.paddingLeft+r.paddingRight))/o,l=s*(t-r.minIndex)+r.paddingLeft;return(r.options.gridLines.offsetGridLines&&i||r.maxIndex===r.minIndex&&i)&&(l+=s/2),r.left+Math.round(l)}var c=(r.height-(r.paddingTop+r.paddingBottom))/o,u=c*(t-r.minIndex)+r.paddingTop;return r.options.gridLines.offsetGridLines&&i&&(u+=c/2),r.top+Math.round(u)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t=this,n=Math.max(t.ticks.length-(t.options.gridLines.offsetGridLines?0:1),1),i=t.isHorizontal(),r=(i?t.width-(t.paddingLeft+t.paddingRight):t.height-(t.paddingTop+t.paddingBottom))/n;return e-=i?t.left:t.top,t.options.gridLines.offsetGridLines&&(e-=r/2),0>=(e-=i?t.paddingLeft:t.paddingTop)?0:Math.round(e/r)},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",n,{position:"bottom"})}},{}],42:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:e.Ticks.formatters.linear}},i=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return a?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,r=n.chart,o=r.data.datasets,a=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var s={};t.each(o,(function(o,a){var l=r.getDatasetMeta(a);void 0===s[l.type]&&(s[l.type]={positiveValues:[],negativeValues:[]});var c=s[l.type].positiveValues,u=s[l.type].negativeValues;r.isDatasetVisible(a)&&e(l)&&t.each(o.data,(function(e,t){var r=+n.getRightValue(e);isNaN(r)||l.data[t].hidden||(c[t]=c[t]||0,u[t]=u[t]||0,i.relativePoints?c[t]=100:0>r?u[t]+=r:c[t]+=r)}))})),t.each(s,(function(e){var i=e.positiveValues.concat(e.negativeValues),r=t.min(i),o=t.max(i);n.min=null===n.min?r:Math.min(n.min,r),n.max=null===n.max?o:Math.max(n.max,o)}))}else t.each(o,(function(i,o){var a=r.getDatasetMeta(o);r.isDatasetVisible(o)&&e(a)&&t.each(i.data,(function(e,t){var i=+n.getRightValue(e);isNaN(i)||a.data[t].hidden||((null===n.min||i<n.min)&&(n.min=i),(null===n.max||i>n.max)&&(n.max=i))}))}));this.handleTickRangeOptions()},getTickLimit:function(){var n,i=this,r=i.options.ticks;if(i.isHorizontal())n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.width/50));else{var o=t.getValueOrDefault(r.fontSize,e.defaults.global.defaultFontSize);n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.height/(2*o)))}return n},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n,i=this,r=i.paddingLeft,o=i.paddingBottom,a=i.start,s=+i.getRightValue(e),l=i.end-a;return i.isHorizontal()?(n=i.width-(r+i.paddingRight),t=i.left+n/l*(s-a),Math.round(t+r)):(n=i.height-(i.paddingTop+o),t=i.bottom-o-n/l*(s-a),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),i=t.paddingLeft,r=t.paddingBottom,o=n?t.width-(i+t.paddingRight):t.height-(t.paddingTop+r),a=(n?e-t.left-i:t.bottom-r-e)/o;return t.start+(t.end-t.start)*a},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",i,n)}},{}],43:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.LinearScaleBase=e.Scale.extend({handleTickRangeOptions:function(){var e=this,n=e.options.ticks;if(n.beginAtZero){var i=t.sign(e.min),r=t.sign(e.max);0>i&&0>r?e.max=0:i>0&&r>0&&(e.min=0)}void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(e.min=Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(e.max=Math.max(e.max,n.suggestedMax)),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:n,handleDirectionalChanges:n,buildTicks:function(){var n=this,i=n.options.ticks,r=n.getTickLimit(),o={maxTicks:r=Math.max(2,r),min:i.min,max:i.max,stepSize:t.getValueOrDefault(i.fixedStepSize,i.stepSize)},a=n.ticks=e.Ticks.generators.linear(o,n);n.handleDirectionalChanges(),n.max=t.max(a),n.min=t.min(a),i.reverse?(a.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{}],44:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:e.Ticks.formatters.logarithmic}},i=e.Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,r=i.ticks,o=n.chart,a=o.data.datasets,s=t.getValueOrDefault,l=n.isHorizontal();if(n.min=null,n.max=null,n.minNotZero=null,i.stacked){var c={};t.each(a,(function(r,a){var s=o.getDatasetMeta(a);o.isDatasetVisible(a)&&e(s)&&(void 0===c[s.type]&&(c[s.type]=[]),t.each(r.data,(function(e,t){var r=c[s.type],o=+n.getRightValue(e);isNaN(o)||s.data[t].hidden||(r[t]=r[t]||0,i.relativePoints?r[t]=100:r[t]+=o)})))})),t.each(c,(function(e){var i=t.min(e),r=t.max(e);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?r:Math.max(n.max,r)}))}else t.each(a,(function(i,r){var a=o.getDatasetMeta(r);o.isDatasetVisible(r)&&e(a)&&t.each(i.data,(function(e,t){var i=+n.getRightValue(e);isNaN(i)||a.data[t].hidden||((null===n.min||i<n.min)&&(n.min=i),(null===n.max||i>n.max)&&(n.max=i),0!==i&&(null===n.minNotZero||i<n.minNotZero)&&(n.minNotZero=i))}))}));n.min=s(r.min,n.min),n.max=s(r.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(t.log10(n.min))-1),n.max=Math.pow(10,Math.floor(t.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){var n=this,i=n.options.ticks,r={min:i.min,max:i.max},o=n.ticks=e.Ticks.generators.logarithmic(r,n);n.isHorizontal()||o.reverse(),n.max=t.max(o),n.min=t.min(o),i.reverse?(o.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var n,i,r,o=this,a=o.start,s=+o.getRightValue(e),l=o.paddingTop,c=o.paddingBottom,u=o.paddingLeft,d=o.options.ticks;return o.isHorizontal()?(r=t.log10(o.end)-t.log10(a),0===s?i=o.left+u:(n=o.width-(u+o.paddingRight),i=o.left+n/r*(t.log10(s)-t.log10(a)),i+=u)):(n=o.height-(l+c),0!==a||d.reverse?0===o.end&&d.reverse?(r=t.log10(o.start)-t.log10(o.minNotZero),i=s===o.end?o.top+l:s===o.minNotZero?o.top+l+.02*n:o.top+l+.02*n+.98*n/r*(t.log10(s)-t.log10(o.minNotZero))):(r=t.log10(o.end)-t.log10(a),n=o.height-(l+c),i=o.bottom-c-n/r*(t.log10(s)-t.log10(a))):(r=t.log10(o.end)-t.log10(o.minNotZero),i=s===a?o.bottom-c:s===o.minNotZero?o.bottom-c-.02*n:o.bottom-c-.02*n-.98*n/r*(t.log10(s)-t.log10(o.minNotZero)))),i},getValueForPixel:function(e){var n,i,r=this,o=t.log10(r.end)-t.log10(r.start);return r.isHorizontal()?(i=r.width-(r.paddingLeft+r.paddingRight),n=r.start*Math.pow(10,(e-r.left-r.paddingLeft)*o/i)):(i=r.height-(r.paddingTop+r.paddingBottom),n=Math.pow(10,(r.bottom-r.paddingBottom-e)*o/i)/r.start),n}});e.scaleService.registerScaleType("logarithmic",i,n)}},{}],45:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:e.Ticks.formatters.linear},pointLabels:{fontSize:10,callback:function(e){return e}}},r=e.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var e=this,i=e.options,r=i.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var o=t.min([e.height,e.width]),a=t.getValueOrDefault(r.fontSize,n.defaultFontSize);e.drawingArea=i.display?o/2-(a/2+r.backdropPaddingY):o/2},determineDataLimits:function(){var e=this,n=e.chart;e.min=null,e.max=null,t.each(n.data.datasets,(function(i,r){if(n.isDatasetVisible(r)){var o=n.getDatasetMeta(r);t.each(i.data,(function(t,n){var i=+e.getRightValue(t);isNaN(i)||o.data[n].hidden||((null===e.min||i<e.min)&&(e.min=i),(null===e.max||i>e.max)&&(e.max=i))}))}})),e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,i=t.getValueOrDefault(e.fontSize,n.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,i,r,o,a,s,l,c,u,d,h,f,p=this.options.pointLabels,A=t.getValueOrDefault(p.fontSize,n.defaultFontSize),g=t.getValueOrDefault(p.fontStyle,n.defaultFontStyle),m=t.getValueOrDefault(p.fontFamily,n.defaultFontFamily),v=t.fontString(A,g,m),y=t.min([this.height/2-A-5,this.width/2]),b=this.width,w=0;for(this.ctx.font=v,i=0;i<this.getValueCount();i++){e=this.getPointPosition(i,y),r=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5;var x=360*(this.getIndexAngle(i)+Math.PI/2)/(2*Math.PI)%360;0===x||180===x?(o=r/2,e.x+o>b&&(b=e.x+o,a=i),e.x-o<w&&(w=e.x-o,l=i)):180>x?e.x+r>b&&(b=e.x+r,a=i):e.x-r<w&&(w=e.x-r,l=i)}u=w,d=Math.ceil(b-this.width),s=this.getIndexAngle(a),c=this.getIndexAngle(l),h=d/Math.sin(s+Math.PI/2),f=u/Math.sin(c+Math.PI/2),h=t.isNumber(h)?h:0,f=t.isNumber(f)?f:0,this.drawingArea=Math.round(y-(f+h)/2),this.setCenterPoint(f,h)},setCenterPoint:function(e,t){var n=this,i=n.width-t-n.drawingArea,r=e+n.drawingArea;n.xCenter=Math.round((r+i)/2+n.left),n.yCenter=Math.round(n.height/2+n.top)},getIndexAngle:function(e){var t=2*Math.PI/this.getValueCount(),n=(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360;return e*t-Math.PI/2+n},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,i=n.getIndexAngle(e);return{x:Math.round(Math.cos(i)*t)+n.xCenter,y:Math.round(Math.sin(i)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:0>t&&0>n?n:t>0&&n>0?t:0)},draw:function(){var e=this,i=e.options,r=i.gridLines,o=i.ticks,a=i.angleLines,s=i.pointLabels,l=t.getValueOrDefault;if(i.display){var c=e.ctx,u=l(o.fontSize,n.defaultFontSize),d=l(o.fontStyle,n.defaultFontStyle),h=l(o.fontFamily,n.defaultFontFamily),f=t.fontString(u,d,h);if(t.each(e.ticks,(function(a,s){if(s>0||i.reverse){var d=e.getDistanceFromCenterForValue(e.ticksAsNumbers[s]),h=e.yCenter-d;if(r.display&&0!==s)if(c.strokeStyle=t.getValueAtIndexOrDefault(r.color,s-1),c.lineWidth=t.getValueAtIndexOrDefault(r.lineWidth,s-1),i.lineArc)c.beginPath(),c.arc(e.xCenter,e.yCenter,d,0,2*Math.PI),c.closePath(),c.stroke();else{c.beginPath();for(var p=0;p<e.getValueCount();p++){var A=e.getPointPosition(p,d);0===p?c.moveTo(A.x,A.y):c.lineTo(A.x,A.y)}c.closePath(),c.stroke()}if(o.display){var g=l(o.fontColor,n.defaultFontColor);if(c.font=f,o.showLabelBackdrop){var m=c.measureText(a).width;c.fillStyle=o.backdropColor,c.fillRect(e.xCenter-m/2-o.backdropPaddingX,h-u/2-o.backdropPaddingY,m+2*o.backdropPaddingX,u+2*o.backdropPaddingY)}c.textAlign="center",c.textBaseline="middle",c.fillStyle=g,c.fillText(a,e.xCenter,h)}}})),!i.lineArc){c.lineWidth=a.lineWidth,c.strokeStyle=a.color;for(var p=e.getDistanceFromCenterForValue(i.reverse?e.min:e.max),A=l(s.fontSize,n.defaultFontSize),g=l(s.fontStyle,n.defaultFontStyle),m=l(s.fontFamily,n.defaultFontFamily),v=t.fontString(A,g,m),y=e.getValueCount()-1;y>=0;y--){if(a.display){var b=e.getPointPosition(y,p);c.beginPath(),c.moveTo(e.xCenter,e.yCenter),c.lineTo(b.x,b.y),c.stroke(),c.closePath()}var w=e.getPointPosition(y,p+5),x=l(s.fontColor,n.defaultFontColor);c.font=v,c.fillStyle=x;var C=e.pointLabels,_=360*(this.getIndexAngle(y)+Math.PI/2)/(2*Math.PI)%360;c.textAlign=0===_||180===_?"center":180>_?"left":"right",c.textBaseline=90===_||270===_?"middle":_>270||90>_?"bottom":"top",c.fillText(C[y]?C[y]:"",w.x,w.y)}}}}});e.scaleService.registerScaleType("radialLinear",r,i)}},{}],46:[function(e,t,n){"use strict";var i=e(1);i="function"==typeof i?i:window.moment,t.exports=function(e){var t=e.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},r=e.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},getLabelMoment:function(e,t){return null===e||null===t?null:void 0!==this.labelMoments[e]?this.labelMoments[e][t]:null},getLabelDiff:function(e,t){var n=this;return null===e||null===t?null:(void 0===n.labelDiffs&&n.buildLabelDiffs(),void 0!==n.labelDiffs[e]?n.labelDiffs[e][t]:null)},getMomentStartOf:function(e){var t=this;return"week"===t.options.time.unit&&!1!==t.options.time.isoWeekday?e.clone().startOf("isoWeek").isoWeekday(t.options.time.isoWeekday):e.clone().startOf(t.tickUnit)},determineDataLimits:function(){var e=this;e.labelMoments=[];var n=[];e.chart.data.labels&&e.chart.data.labels.length>0?(t.each(e.chart.data.labels,(function(t){var i=e.parseTime(t);i.isValid()&&(e.options.time.round&&i.startOf(e.options.time.round),n.push(i))}),e),e.firstTick=i.min.call(e,n),e.lastTick=i.max.call(e,n)):(e.firstTick=null,e.lastTick=null),t.each(e.chart.data.datasets,(function(r,o){var a=[],s=e.chart.isDatasetVisible(o);"object"==typeof r.data[0]&&null!==r.data[0]?t.each(r.data,(function(t){var n=e.parseTime(e.getRightValue(t));n.isValid()&&(e.options.time.round&&n.startOf(e.options.time.round),a.push(n),s&&(e.firstTick=null!==e.firstTick?i.min(e.firstTick,n):n,e.lastTick=null!==e.lastTick?i.max(e.lastTick,n):n))}),e):a=n,e.labelMoments.push(a)}),e),e.options.time.min&&(e.firstTick=e.parseTime(e.options.time.min)),e.options.time.max&&(e.lastTick=e.parseTime(e.options.time.max)),e.firstTick=(e.firstTick||i()).clone(),e.lastTick=(e.lastTick||i()).clone()},buildLabelDiffs:function(){var e=this;e.labelDiffs=[];var n=[];e.chart.data.labels&&e.chart.data.labels.length>0&&t.each(e.chart.data.labels,(function(t){var i=e.parseTime(t);i.isValid()&&(e.options.time.round&&i.startOf(e.options.time.round),n.push(i.diff(e.firstTick,e.tickUnit,!0)))}),e),t.each(e.chart.data.datasets,(function(i){var r=[];"object"==typeof i.data[0]&&null!==i.data[0]?t.each(i.data,(function(t){var n=e.parseTime(e.getRightValue(t));n.isValid()&&(e.options.time.round&&n.startOf(e.options.time.round),r.push(n.diff(e.firstTick,e.tickUnit,!0)))}),e):r=n,e.labelDiffs.push(r)}),e)},buildTicks:function(){var i=this;i.ctx.save();var r,o=t.getValueOrDefault(i.options.ticks.fontSize,e.defaults.global.defaultFontSize),a=t.getValueOrDefault(i.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),s=t.getValueOrDefault(i.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),l=t.fontString(o,a,s);if(i.ctx.font=l,i.ticks=[],i.unitScale=1,i.scaleSizeInUnits=0,i.options.time.unit)i.tickUnit=i.options.time.unit||"day",i.displayFormat=i.options.time.displayFormats[i.tickUnit],i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.unitScale=t.getValueOrDefault(i.options.time.unitStepSize,1);else{var c=i.isHorizontal()?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.paddingBottom),u=i.tickFormatFunction(i.firstTick,0,[]),d=i.ctx.measureText(u).width,h=c/(d=d*Math.cos(t.toRadians(i.options.ticks.maxRotation))+o*Math.sin(t.toRadians(i.options.ticks.maxRotation)));i.tickUnit=i.options.time.minUnit,i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.displayFormat=i.options.time.displayFormats[i.tickUnit];for(var f=0,p=n.units[f];f<n.units.length;){if(i.unitScale=1,t.isArray(p.steps)&&Math.ceil(i.scaleSizeInUnits/h)<t.max(p.steps)){for(var A=0;A<p.steps.length;++A)if(p.steps[A]>=Math.ceil(i.scaleSizeInUnits/h)){i.unitScale=t.getValueOrDefault(i.options.time.unitStepSize,p.steps[A]);break}break}if(!1===p.maxStep||Math.ceil(i.scaleSizeInUnits/h)<p.maxStep){i.unitScale=t.getValueOrDefault(i.options.time.unitStepSize,Math.ceil(i.scaleSizeInUnits/h));break}++f,p=n.units[f],i.tickUnit=p.name;var g=i.firstTick.diff(i.getMomentStartOf(i.firstTick),i.tickUnit,!0),m=i.getMomentStartOf(i.lastTick.clone().add(1,i.tickUnit)).diff(i.lastTick,i.tickUnit,!0);i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)+g+m,i.displayFormat=i.options.time.displayFormats[p.name]}}if(i.options.time.min?r=i.getMomentStartOf(i.firstTick):(i.firstTick=i.getMomentStartOf(i.firstTick),r=i.firstTick),!i.options.time.max){var v=i.getMomentStartOf(i.lastTick),y=v.diff(i.lastTick,i.tickUnit,!0);0>y?i.lastTick=i.getMomentStartOf(i.lastTick.add(1,i.tickUnit)):y>=0&&(i.lastTick=v),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)}i.options.time.displayFormat&&(i.displayFormat=i.options.time.displayFormat),i.ticks.push(i.firstTick.clone());for(var b=1;b<=i.scaleSizeInUnits;++b){var w=r.clone().add(b,i.tickUnit);if(i.options.time.max&&w.diff(i.lastTick,i.tickUnit,!0)>=0)break;b%i.unitScale==0&&i.ticks.push(w)}(0!==i.ticks[i.ticks.length-1].diff(i.lastTick,i.tickUnit)||0===i.scaleSizeInUnits)&&(i.options.time.max?(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.ticks[0],i.tickUnit,!0)):(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0))),i.ctx.restore(),i.labelDiffs=void 0},getLabelForIndex:function(e,t){var n=this,i=n.chart.data.labels&&e<n.chart.data.labels.length?n.chart.data.labels[e]:"";return"object"==typeof n.chart.data.datasets[t].data[0]&&(i=n.getRightValue(n.chart.data.datasets[t].data[e])),n.options.time.tooltipFormat&&(i=n.parseTime(i).format(n.options.time.tooltipFormat)),i},tickFormatFunction:function(e,n,i){var r=e.format(this.displayFormat),o=this.options.ticks,a=t.getValueOrDefault(o.callback,o.userCallback);return a?a(r,n,i):r},convertTicksToLabels:function(){var e=this;e.tickMoments=e.ticks,e.ticks=e.ticks.map(e.tickFormatFunction,e)},getPixelForValue:function(e,t,n){var i=this,r=null;if(void 0!==t&&void 0!==n&&(r=i.getLabelDiff(n,t)),null===r&&(e&&e.isValid||(e=i.parseTime(i.getRightValue(e))),e&&e.isValid&&e.isValid()&&(r=e.diff(i.firstTick,i.tickUnit,!0))),null!==r){var o=0!==r?r/i.scaleSizeInUnits:r;if(i.isHorizontal()){var a=(i.width-(i.paddingLeft+i.paddingRight))*o+i.paddingLeft;return i.left+Math.round(a)}var s=(i.height-(i.paddingTop+i.paddingBottom))*o+i.paddingTop;return i.top+Math.round(s)}},getPixelForTick:function(e){return this.getPixelForValue(this.tickMoments[e],null,null)},getValueForPixel:function(e){var t=this,n=t.isHorizontal()?t.width-(t.paddingLeft+t.paddingRight):t.height-(t.paddingTop+t.paddingBottom),r=(e-(t.isHorizontal()?t.left+t.paddingLeft:t.top+t.paddingTop))/n;return r*=t.scaleSizeInUnits,t.firstTick.clone().add(i.duration(r,t.tickUnit).asSeconds(),"seconds")},parseTime:function(e){var t=this;return"string"==typeof t.options.time.parser?i(e,t.options.time.parser):"function"==typeof t.options.time.parser?t.options.time.parser(e):"function"==typeof e.getMonth||"number"==typeof e?i(e):e.isValid&&e.isValid()?e:"string"!=typeof t.options.time.format&&t.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),t.options.time.format(e)):i(e,t.options.time.format)}});e.scaleService.registerScaleType("time",r,{position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}})}},{1:1}]},{},[7])(7)},47807:function(e){e.exports=function(){return n={},e.m=t=[function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,a=i.length;o<a;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var i=n(3),r=n(4);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return h=t,f=n,(d=e).addEventListener(h,f),{destroy:function(){d.removeEventListener(h,f)}};if(i.nodeList(e))return l=e,c=t,u=n,Array.prototype.forEach.call(l,(function(e){e.addEventListener(c,u)})),{destroy:function(){Array.prototype.forEach.call(l,(function(e){e.removeEventListener(c,u)}))}};if(i.string(e))return o=e,a=t,s=n,r(document.body,o,a,s);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,a,s,l,c,u,d,h,f}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var i=n(5);function r(e,t,n,r,o){var a=function(e,t,n,r){return function(n){n.delegateTarget=i(n.target,t),n.delegateTarget&&r.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}e.exports=function(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,n,i,o)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.resolveOptions(e),this.initSelection()}var l=(function(e,t,n){t&&a(e.prototype,t)}(s,[{key:"resolveOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=r()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=r()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(e){var t=0<arguments.length&&void 0!==e?e:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),s),c=n(1),u=n.n(c),d=n(2),h=n.n(d),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,u.a),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(g,[{key:"resolveOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===f(t.container)?t.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=h()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return m("action",e)}},{key:"defaultTarget",value:function(e){var t=m("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return m("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(e){var t=0<arguments.length&&void 0!==e?e:["copy","cut"],n="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return n.forEach((function(e){i=i&&!!document.queryCommandSupported(e)})),i}}]),g);function g(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return n.resolveOptions(t),n.listenClick(e),n}function m(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t.default=A}],e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=6).default;function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t,n}()},83772:function(e,t,n){var i,r;i=[n(37549),n(78907)],void 0===(r=function(e){return function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=function(t,n){if(!r.versionCheck||!r.versionCheck("1.10.8"))throw"KeyTable requires DataTables 1.10.8 or newer";this.c=e.extend(!0,{},r.defaults.keyTable,o.defaults,n),this.s={dt:new r.Api(t),enable:!0,focusDraw:!1,waitingForDraw:!1,lastFocus:null},this.dom={};var i=this.s.dt.settings()[0],a=i.keytable;if(a)return a;i.keytable=this,this._constructor()};return e.extend(o.prototype,{blur:function(){this._blur()},enable:function(e){this.s.enable=e},focus:function(e,t){this._focus(this.s.dt.cell(e,t))},focused:function(e){if(!this.s.lastFocus)return!1;var t=this.s.lastFocus.cell.index();return e.row===t.row&&e.column===t.column},_constructor:function(){this._tabInput();var t=this,i=this.s.dt,r=e(i.table().node());if("static"===r.css("position")&&r.css("position","relative"),e(i.table().body()).on("click.keyTable","th, td",(function(e){if(!1!==t.s.enable){var n=i.cell(this);n.any()&&t._focus(n,null,!1,e)}})),e(n).on("keydown.keyTable",(function(e){t._key(e)})),this.c.blurable&&e(n).on("mousedown.keyTable",(function(n){e(n.target).parents(".dataTables_filter").length&&t._blur(),e(n.target).parents().filter(i.table().container()).length||e(n.target).parents("div.DTE").length||e(n.target).parents("div.editor-datetime").length||e(n.target).parents().filter(".DTFC_Cloned").length||t._blur()})),this.c.editor){var o=this.c.editor;o.on("open.keyTableMain",(function(e,n,i){"inline"!==n&&t.s.enable&&(t.enable(!1),o.one("close.keyTable",(function(){t.enable(!0)})))})),this.c.editOnFocus&&i.on("key-focus.keyTable key-refocus.keyTable",(function(e,n,i,r){t._editor(null,r)})),i.on("key.keyTable",(function(e,n,i,r,o){t._editor(i,o)}))}i.settings()[0].oFeatures.bStateSave&&i.on("stateSaveParams.keyTable",(function(e,n,i){i.keyTable=t.s.lastFocus?t.s.lastFocus.cell.index():null})),i.on("draw.keyTable",(function(r){if(!t.s.focusDraw){var o=t.s.lastFocus;if(o&&o.node&&e(o.node).closest("body")===n.body){var a=t.s.lastFocus.relative,s=i.page.info(),l=a.row+s.start;if(0===s.recordsDisplay)return;l>=s.recordsDisplay&&(l=s.recordsDisplay-1),t._focus(l,a.column,!0,r)}}})),i.on("destroy.keyTable",(function(){i.off(".keyTable"),e(i.table().body()).off("click.keyTable","th, td"),e(n.body).off("keydown.keyTable").off("click.keyTable")}));var a=i.state.loaded();a&&a.keyTable?i.one("init",(function(){var e=i.cell(a.keyTable);e.any()&&e.focus()})):this.c.focus&&i.cell(this.c.focus).focus()},_blur:function(){if(this.s.enable&&this.s.lastFocus){var t=this.s.lastFocus.cell;e(t.node()).removeClass(this.c.className),this.s.lastFocus=null,this._updateFixedColumns(t.index().column),this._emitEvent("key-blur",[this.s.dt,t])}},_clipboardCopy:function(){var i=this.s.dt;if(this.s.lastFocus&&t.getSelection&&!t.getSelection().toString()){var r=this.s.lastFocus.cell.render("display"),o=e("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0}),a=e("<textarea readonly/>").val(r).appendTo(o);try{o.appendTo(i.table().container()),a[0].focus(),a[0].select(),n.execCommand("copy")}catch(e){}o.remove()}},_columns:function(){var e=this.s.dt,t=e.columns(this.c.columns).indexes(),n=[];return e.columns(":visible").every((function(e){-1!==t.indexOf(e)&&n.push(e)})),n},_editor:function(t,n){var i=this,r=this.s.dt,o=this.c.editor;e("div.DTE",this.s.lastFocus.cell.node()).length||16!==t&&(n.stopPropagation(),13===t&&n.preventDefault(),o.one("open.keyTable",(function(){o.off("cancelOpen.keyTable"),i.c.editAutoSelect&&e("div.DTE_Field_InputControl input, div.DTE_Field_InputControl textarea").select(),r.keys.enable(i.c.editorKeys),r.one("key-blur.editor",(function(){o.displayed()&&o.submit()})),o.one("close",(function(){r.keys.enable(!0),r.off("key-blur.editor")}))})).one("cancelOpen.keyTable",(function(){o.off("open.keyTable")})).inline(this.s.lastFocus.cell.index()))},_emitEvent:function(t,n){this.s.dt.iterator("table",(function(i,r){e(i.nTable).triggerHandler(t,n)}))},_focus:function(r,o,a,s){var l=this,c=this.s.dt,u=c.page.info(),d=this.s.lastFocus;if(s||(s=null),this.s.enable){if("number"!=typeof r){var h=r.index();o=h.column,r=c.rows({filter:"applied",order:"applied"}).indexes().indexOf(h.row),u.serverSide&&(r+=u.start)}if(-1!==u.length&&(r<u.start||r>=u.start+u.length))return this.s.focusDraw=!0,this.s.waitingForDraw=!0,void c.one("draw",(function(){l.s.focusDraw=!1,l.s.waitingForDraw=!1,l._focus(r,o,i,s)})).page(Math.floor(r/u.length)).draw(!1);if(-1!==e.inArray(o,this._columns())){u.serverSide&&(r-=u.start);var f=c.cells(null,o,{search:"applied",order:"applied"}).flatten(),p=c.cell(f[r]);if(d){if(d.node===p.node())return void this._emitEvent("key-refocus",[this.s.dt,p,s||null]);this._blur()}var A=e(p.node());if(A.addClass(this.c.className),this._updateFixedColumns(o),a===i||!0===a){this._scroll(e(t),e(n.body),A,"offset");var g=c.table().body().parentNode;if(g!==c.table().header().parentNode){var m=e(g.parentNode);this._scroll(m,m,A,"position")}}this.s.lastFocus={cell:p,node:p.node(),relative:{row:c.rows({page:"current"}).indexes().indexOf(p.index().row),column:p.index().column}},this._emitEvent("key-focus",[this.s.dt,p,s||null]),c.state.save()}}},_key:function(t){if(this.s.waitingForDraw)t.preventDefault();else{var n=this.s.enable,i=!0===n||"navigation-only"===n;if(n)if(t.ctrlKey&&67===t.keyCode)this._clipboardCopy();else if(!(0===t.keyCode||t.ctrlKey||t.metaKey||t.altKey)&&this.s.lastFocus){var r=this.s.dt;if(!this.c.keys||-1!==e.inArray(t.keyCode,this.c.keys))switch(t.keyCode){case 9:this._shift(t,t.shiftKey?"left":"right",!0);break;case 27:this.s.blurable&&!0===n&&this._blur();break;case 33:case 34:i&&(t.preventDefault(),r.page(33===t.keyCode?"previous":"next").draw(!1));break;case 35:case 36:if(i){t.preventDefault();var o=r.cells({page:"current"}).indexes(),a=this._columns();this._focus(r.cell(o[35===t.keyCode?o.length-1:a[0]]),null,!0,t)}break;case 37:i&&this._shift(t,"left");break;case 38:i&&this._shift(t,"up");break;case 39:i&&this._shift(t,"right");break;case 40:i&&this._shift(t,"down");break;default:!0===n&&this._emitEvent("key",[r,t.keyCode,this.s.lastFocus.cell,t])}}}},_scroll:function(e,t,n,i){var r=n[i](),o=n.outerHeight(),a=n.outerWidth(),s=t.scrollTop(),l=t.scrollLeft(),c=e.height(),u=e.width();"position"===i&&(r.top+=parseInt(n.closest("table").css("top"),10)),r.top<s&&t.scrollTop(r.top),r.left<l&&t.scrollLeft(r.left),r.top+o>s+c&&o<c&&t.scrollTop(r.top+o-c),r.left+a>l+u&&a<u&&t.scrollLeft(r.left+a-u)},_shift:function(t,n,i){var r=this.s.dt,o=r.page.info(),a=o.recordsDisplay,s=this.s.lastFocus.cell,l=this._columns();if(s){var c=r.rows({filter:"applied",order:"applied"}).indexes().indexOf(s.index().row);o.serverSide&&(c+=o.start);var u=r.columns(l).indexes().indexOf(s.index().column),d=c,h=l[u];"right"===n?u>=l.length-1?(d++,h=l[0]):h=l[u+1]:"left"===n?0===u?(d--,h=l[l.length-1]):h=l[u-1]:"up"===n?d--:"down"===n&&d++,d>=0&&d<a&&-1!==e.inArray(h,l)?(t.preventDefault(),this._focus(d,h,!0,t)):i&&this.c.blurable?this._blur():t.preventDefault()}},_tabInput:function(){var t=this,n=this.s.dt,i=null!==this.c.tabIndex?this.c.tabIndex:n.settings()[0].iTabIndex;-1!=i&&e('<div><input type="text" tabindex="'+i+'"/></div>').css({position:"absolute",height:1,width:0,overflow:"hidden"}).insertBefore(n.table().node()).children().on("focus",(function(e){n.cell(":eq(0)",{page:"current"}).any()&&t._focus(n.cell(":eq(0)","0:visible",{page:"current"}),null,!0,e)}))},_updateFixedColumns:function(e){var t=this.s.dt,n=t.settings()[0];if(n._oFixedColumns){var i=n._oFixedColumns.s.iLeftColumns,r=n.aoColumns.length-n._oFixedColumns.s.iRightColumns;(e<i||e>=r)&&t.fixedColumns().update()}}}),o.defaults={blurable:!0,className:"focus",columns:"",editor:null,editorKeys:"navigation-only",editAutoSelect:!0,editOnFocus:!1,focus:null,keys:null,tabIndex:null},o.version="2.3.1",e.fn.dataTable.KeyTable=o,e.fn.DataTable.KeyTable=o,r.Api.register("cell.blur()",(function(){return this.iterator("table",(function(e){e.keytable&&e.keytable.blur()}))})),r.Api.register("cell().focus()",(function(){return this.iterator("cell",(function(e,t,n){e.keytable&&e.keytable.focus(t,n)}))})),r.Api.register("keys.disable()",(function(){return this.iterator("table",(function(e){e.keytable&&e.keytable.enable(!1)}))})),r.Api.register("keys.enable()",(function(e){return this.iterator("table",(function(t){t.keytable&&t.keytable.enable(e===i||e)}))})),r.ext.selector.cell.push((function(e,t,n){var r=t.focused,o=e.keytable,a=[];if(!o||r===i)return n;for(var s=0,l=n.length;s<l;s++)(!0===r&&o.focused(n[s])||!1===r&&!o.focused(n[s]))&&a.push(n[s]);return a})),e(n).on("preInit.dt.dtk",(function(t,n,i){if("dt"===t.namespace){var a=n.oInit.keys,s=r.defaults.keys;if(a||s){var l=e.extend({},s,a);!1!==a&&new o(n,l)}}})),o}(e,window,document)}.apply(t,i))||(e.exports=r)},72378:function(e,t,n){var i,r;i=[n(37549),n(78907)],void 0===(r=function(e){return function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=function(t,n){if(!r.versionCheck||!r.versionCheck("1.10.3"))throw"DataTables Responsive requires DataTables 1.10.3 or newer";this.s={dt:new r.Api(t),columns:[],current:[]},this.s.dt.settings()[0].responsive||(n&&"string"==typeof n.details?n.details={type:n.details}:n&&!1===n.details?n.details={type:!1}:n&&!0===n.details&&(n.details={type:"inline"}),this.c=e.extend(!0,{},o.defaults,r.defaults.responsive,n),t.responsive=this,this._constructor())};e.extend(o.prototype,{_constructor:function(){var n=this,i=this.s.dt,o=i.settings()[0],a=e(t).width();i.settings()[0]._responsive=this,e(t).on("resize.dtr orientationchange.dtr",r.util.throttle((function(){var i=e(t).width();i!==a&&(n._resize(),a=i)}))),o.oApi._fnCallbackReg(o,"aoRowCreatedCallback",(function(t,r,o){-1!==e.inArray(!1,n.s.current)&&e("td, th",t).each((function(t){var r=i.column.index("toData",t);!1===n.s.current[r]&&e(this).css("display","none")}))})),i.on("destroy.dtr",(function(){i.off(".dtr"),e(i.table().body()).off(".dtr"),e(t).off("resize.dtr orientationchange.dtr"),e.each(n.s.current,(function(e,t){!1===t&&n._setColumnVis(e,!0)}))})),this.c.breakpoints.sort((function(e,t){return e.width<t.width?1:e.width>t.width?-1:0})),this._classLogic(),this._resizeAuto();var s=this.c.details;!1!==s.type&&(n._detailsInit(),i.on("column-visibility.dtr",(function(e,t,i,r){n._classLogic(),n._resizeAuto(),n._resize()})),i.on("draw.dtr",(function(){n._redrawChildren()})),e(i.table().node()).addClass("dtr-"+s.type)),i.on("column-reorder.dtr",(function(e,t,i){n._classLogic(),n._resizeAuto(),n._resize()})),i.on("column-sizing.dtr",(function(){n._resizeAuto(),n._resize()})),i.on("init.dtr",(function(t,r,o){n._resizeAuto(),n._resize(),e.inArray(!1,n.s.current)&&i.columns.adjust()})),this._resize()},_columnsVisiblity:function(t){var n,i,r=this.s.dt,o=this.s.columns,a=o.map((function(e,t){return{columnIdx:t,priority:e.priority}})).sort((function(e,t){return e.priority!==t.priority?e.priority-t.priority:e.columnIdx-t.columnIdx})),s=e.map(o,(function(n){return(!n.auto||null!==n.minWidth)&&(!0===n.auto?"-":-1!==e.inArray(t,n.includeIn))})),l=0;for(n=0,i=s.length;n<i;n++)!0===s[n]&&(l+=o[n].minWidth);var c=r.settings()[0].oScroll,u=c.sY||c.sX?c.iBarWidth:0,d=r.table().container().offsetWidth-u-l;for(n=0,i=s.length;n<i;n++)o[n].control&&(d-=o[n].minWidth);var h=!1;for(n=0,i=a.length;n<i;n++){var f=a[n].columnIdx;"-"===s[f]&&!o[f].control&&o[f].minWidth&&(h||d-o[f].minWidth<0?(h=!0,s[f]=!1):s[f]=!0,d-=o[f].minWidth)}var p=!1;for(n=0,i=o.length;n<i;n++)if(!o[n].control&&!o[n].never&&!s[n]){p=!0;break}for(n=0,i=o.length;n<i;n++)o[n].control&&(s[n]=p);return-1===e.inArray(!0,s)&&(s[0]=!0),s},_classLogic:function(){var t=this,n=this.c.breakpoints,r=this.s.dt,o=r.columns().eq(0).map((function(t){var n=this.column(t),o=n.header().className,a=r.settings()[0].aoColumns[t].responsivePriority;if(a===i){var s=e(n.header()).data("priority");a=s!==i?1*s:1e4}return{className:o,includeIn:[],auto:!1,control:!1,never:!!o.match(/\bnever\b/),priority:a}})),a=function(t,n){var i=o[t].includeIn;-1===e.inArray(n,i)&&i.push(n)},s=function(e,i,r,s){var l,c,u;if(r){if("max-"===r)for(l=t._find(i).width,c=0,u=n.length;c<u;c++)n[c].width<=l&&a(e,n[c].name);else if("min-"===r)for(l=t._find(i).width,c=0,u=n.length;c<u;c++)n[c].width>=l&&a(e,n[c].name);else if("not-"===r)for(c=0,u=n.length;c<u;c++)-1===n[c].name.indexOf(s)&&a(e,n[c].name)}else o[e].includeIn.push(i)};o.each((function(t,i){for(var r=t.className.split(" "),o=!1,a=0,l=r.length;a<l;a++){var c=e.trim(r[a]);if("all"===c)return o=!0,void(t.includeIn=e.map(n,(function(e){return e.name})));if("none"===c||t.never)return void(o=!0);if("control"===c)return o=!0,void(t.control=!0);e.each(n,(function(e,t){var n=t.name.split("-"),r=new RegExp("(min\\-|max\\-|not\\-)?("+n[0]+")(\\-[_a-zA-Z0-9])?"),a=c.match(r);a&&(o=!0,a[2]===n[0]&&a[3]==="-"+n[1]?s(i,t.name,a[1],a[2]+a[3]):a[2]!==n[0]||a[3]||s(i,t.name,a[1],a[2]))}))}o||(t.auto=!0)})),this.s.columns=o},_detailsDisplay:function(t,n){var i=this,r=this.s.dt,o=this.c.details;if(o&&!1!==o.type){var a=o.display(t,n,(function(){return o.renderer(r,t[0],i._detailsObj(t[0]))}));!0!==a&&!1!==a||e(r.table().node()).triggerHandler("responsive-display.dt",[r,t,a,n])}},_detailsInit:function(){var t=this,n=this.s.dt,i=this.c.details;"inline"===i.type&&(i.target="td:first-child, th:first-child"),n.on("draw.dtr",(function(){t._tabIndexes()})),t._tabIndexes(),e(n.table().body()).on("keyup.dtr","td, th",(function(t){13===t.keyCode&&e(this).data("dtr-keyboard")&&e(this).click()}));var r=i.target,o="string"==typeof r?r:"td, th";e(n.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",o,(function(i){if(e(n.table().node()).hasClass("collapsed")&&n.row(e(this).closest("tr")).length){if("number"==typeof r){var o=r<0?n.columns().eq(0).length+r:r;if(n.cell(this).index().column!==o)return}var a=n.row(e(this).closest("tr"));"click"===i.type?t._detailsDisplay(a,!1):"mousedown"===i.type?e(this).css("outline","none"):"mouseup"===i.type&&e(this).blur().css("outline","")}}))},_detailsObj:function(t){var n=this,i=this.s.dt;return e.map(this.s.columns,(function(e,r){if(!e.never&&!e.control)return{title:i.settings()[0].aoColumns[r].sTitle,data:i.cell(t,r).render(n.c.orthogonal),hidden:i.column(r).visible()&&!n.s.current[r],columnIndex:r,rowIndex:t}}))},_find:function(e){for(var t=this.c.breakpoints,n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n]},_redrawChildren:function(){var e=this,t=this.s.dt;t.rows({page:"current"}).iterator("row",(function(n,i){t.row(i),e._detailsDisplay(t.row(i),!0)}))},_resize:function(){var n,i,r=this,o=this.s.dt,a=e(t).width(),s=this.c.breakpoints,l=s[0].name,c=this.s.columns,u=this.s.current.slice();for(n=s.length-1;n>=0;n--)if(a<=s[n].width){l=s[n].name;break}var d=this._columnsVisiblity(l);this.s.current=d;var h=!1;for(n=0,i=c.length;n<i;n++)if(!1===d[n]&&!c[n].never&&!c[n].control){h=!0;break}e(o.table().node()).toggleClass("collapsed",h);var f=!1;o.columns().eq(0).each((function(e,t){d[t]!==u[t]&&(f=!0,r._setColumnVis(e,d[t]))})),f&&(this._redrawChildren(),e(o.table().node()).trigger("responsive-resize.dt",[o,this.s.current]))},_resizeAuto:function(){var t=this.s.dt,n=this.s.columns;if(this.c.auto&&-1!==e.inArray(!0,e.map(n,(function(e){return e.auto})))){t.table().node().offsetWidth,t.columns;var i=t.table().node().cloneNode(!1),r=e(t.table().header().cloneNode(!1)).appendTo(i),o=e(t.table().body()).clone(!1,!1).empty().appendTo(i),a=t.columns().header().filter((function(e){return t.column(e).visible()})).to$().clone(!1).css("display","table-cell");e(o).append(e(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");var s=t.table().footer();if(s){var l=e(s.cloneNode(!1)).appendTo(i),c=t.columns().footer().filter((function(e){return t.column(e).visible()})).to$().clone(!1).css("display","table-cell");e("<tr/>").append(c).appendTo(l)}e("<tr/>").append(a).appendTo(r),"inline"===this.c.details.type&&e(i).addClass("dtr-inline collapsed"),e(i).find("[name]").removeAttr("name");var u=e("<div/>").css({width:1,height:1,overflow:"hidden"}).append(i);u.insertBefore(t.table().node()),a.each((function(e){var i=t.column.index("fromVisible",e);n[i].minWidth=this.offsetWidth||0})),u.remove()}},_setColumnVis:function(t,n){var i=this.s.dt,r=n?"":"none";e(i.column(t).header()).css("display",r),e(i.column(t).footer()).css("display",r),i.column(t).nodes().to$().css("display",r)},_tabIndexes:function(){var t=this.s.dt,n=t.cells({page:"current"}).nodes().to$(),i=t.settings()[0],r=this.c.details.target;n.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),e("number"==typeof r?":eq("+r+")":r,t.rows({page:"current"}).nodes()).attr("tabIndex",i.iTabIndex).data("dtr-keyboard",1)}}),o.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],o.display={childRow:function(t,n,i){return n?e(t.node()).hasClass("parent")?(t.child(i(),"child").show(),!0):void 0:t.child.isShown()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),e(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,n,i){return!n&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),e(t.node()).addClass("parent"),!0)},modal:function(t){return function(i,r,o){if(r)e("div.dtr-modal-content").empty().append(o());else{var a=function(){s.remove(),e(n).off("keypress.dtr")},s=e('<div class="dtr-modal"/>').append(e('<div class="dtr-modal-display"/>').append(e('<div class="dtr-modal-content"/>').append(o())).append(e('<div class="dtr-modal-close">&times;</div>').click((function(){a()})))).append(e('<div class="dtr-modal-background"/>').click((function(){a()}))).appendTo("body");e(n).on("keyup.dtr",(function(e){27===e.keyCode&&(e.stopPropagation(),a())}))}t&&t.header&&e("div.dtr-modal-content").prepend("<h2>"+t.header(i)+"</h2>")}}},o.renderer={listHidden:function(){return function(t,n,i){var r=e.map(i,(function(e){return e.hidden?'<li data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><span class="dtr-title">'+e.title+'</span> <span class="dtr-data">'+e.data+"</span></li>":""})).join("");return!!r&&e('<ul data-dtr-index="'+n+'"/>').append(r)}},tableAll:function(t){return t=e.extend({tableClass:""},t),function(n,i,r){var o=e.map(r,(function(e){return'<tr data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><td>'+e.title+":</td> <td>"+e.data+"</td></tr>"})).join("");return e('<table class="'+t.tableClass+'" width="100%"/>').append(o)}}},o.defaults={breakpoints:o.breakpoints,auto:!0,details:{display:o.display.childRow,renderer:o.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var a=e.fn.dataTable.Api;return a.register("responsive()",(function(){return this})),a.register("responsive.index()",(function(t){return{column:(t=e(t)).data("dtr-index"),row:t.parent().data("dtr-index")}})),a.register("responsive.rebuild()",(function(){return this.iterator("table",(function(e){e._responsive&&e._responsive._classLogic()}))})),a.register("responsive.recalc()",(function(){return this.iterator("table",(function(e){e._responsive&&(e._responsive._resizeAuto(),e._responsive._resize())}))})),a.register("responsive.hasHidden()",(function(){var t=this.context[0];return!!t._responsive&&-1!==e.inArray(!1,t._responsive.s.current)})),o.version="2.1.0",e.fn.dataTable.Responsive=o,e.fn.DataTable.Responsive=o,e(n).on("preInit.dt.dtr",(function(t,n,i){if("dt"===t.namespace&&(e(n.nTable).hasClass("responsive")||e(n.nTable).hasClass("dt-responsive")||n.oInit.responsive||r.defaults.responsive)){var a=n.oInit.responsive;!1!==a&&new o(n,e.isPlainObject(a)?a:{})}})),o}(e,window,document)}.apply(t,i))||(e.exports=r)},59114:function(e,t,n){var i,r;i=[n(37549),n(78907)],void 0===(r=function(e){return function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=function(t,r){this instanceof o?(r===i&&(r={}),this.s={dt:e.fn.dataTable.Api(t).settings()[0],tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1},this.s=e.extend(this.s,o.oDefaults,r),this.s.heights.row=this.s.rowHeight,this.dom={force:n.createElement("div"),scroller:null,table:null,loader:null},this.s.dt.oScroller||(this.s.dt.oScroller=this,this._fnConstruct())):alert("Scroller warning: Scroller must be initialised with the 'new' keyword.")};e.extend(o.prototype,{fnRowToPixels:function(e,t,n){var r;if(n)r=this._domain("virtualToPhysical",e*this.s.heights.row);else{var o=e-this.s.baseRowTop;r=this.s.baseScrollTop+o*this.s.heights.row}return t||t===i?parseInt(r,10):r},fnPixelsToRow:function(e,t,n){var r=e-this.s.baseScrollTop,o=n?this._domain("physicalToVirtual",e)/this.s.heights.row:r/this.s.heights.row+this.s.baseRowTop;return t||t===i?parseInt(o,10):o},fnScrollToRow:function(t,n){var i=this,r=!1,o=this.fnRowToPixels(t),a=t-(this.s.displayBuffer-1)/2*this.s.viewportRows;a<0&&(a=0),(o>this.s.redrawBottom||o<this.s.redrawTop)&&this.s.dt._iDisplayStart!==a&&(r=!0,o=this.fnRowToPixels(t,!1,!0)),void 0===n||n?(this.s.ani=r,e(this.dom.scroller).animate({scrollTop:o},(function(){setTimeout((function(){i.s.ani=!1}),25)}))):e(this.dom.scroller).scrollTop(o)},fnMeasure:function(t){this.s.autoHeight&&this._fnCalcRowHeight();var n=this.s.heights;n.row&&(n.viewport=e(this.dom.scroller).height(),this.s.viewportRows=parseInt(n.viewport/n.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer),(t===i||t)&&this.s.dt.oInstance.fnDraw(!1)},fnPageInfo:function(){var e=this.s.dt,t=this.dom.scroller.scrollTop,n=e.fnRecordsDisplay(),i=Math.ceil(this.fnPixelsToRow(t+this.s.heights.viewport,!1,this.s.ani));return{start:Math.floor(this.fnPixelsToRow(t,!1,this.s.ani)),end:n<i?n-1:i-1}},_fnConstruct:function(){var n=this;if(this.s.dt.oFeatures.bPaginate){this.dom.force.style.position="relative",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=e("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=e(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",e(this.s.dt.nTableWrapper).addClass("DTS"),this.s.loadingIndicator&&(this.dom.loader=e('<div class="dataTables_processing DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),e(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),this.s.ingnoreScroll=!0,this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle((function(){n.s.dt.oApi._fnSaveState(n.s.dt)}),500),e(this.dom.scroller).on("scroll.DTS",(function(e){n._fnScroll.call(n)})),e(this.dom.scroller).on("touchstart.DTS",(function(){n._fnScroll.call(n)})),this.s.dt.aoDrawCallback.push({fn:function(){n.s.dt.bInitialised&&n._fnDrawCallback.call(n)},sName:"Scroller"}),e(t).on("resize.DTS",(function(){n.fnMeasure(!1),n._fnInfo()}));var i=!0;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",(function(e,t){i&&n.s.dt.oLoadedState?(t.iScroller=n.s.dt.oLoadedState.iScroller,t.iScrollerTopRow=n.s.dt.oLoadedState.iScrollerTopRow,i=!1):(t.iScroller=n.dom.scroller.scrollTop,t.iScrollerTopRow=n.s.topRowFloat)}),"Scroller_State"),this.s.dt.oLoadedState&&(this.s.topRowFloat=this.s.dt.oLoadedState.iScrollerTopRow||0),e(this.s.dt.nTable).one("init.dt",(function(){n.fnMeasure()})),this.s.dt.aoDestroyCallback.push({sName:"Scroller",fn:function(){e(t).off("resize.DTS"),e(n.dom.scroller).off("touchstart.DTS scroll.DTS"),e(n.s.dt.nTableWrapper).removeClass("DTS"),e("div.DTS_Loading",n.dom.scroller.parentNode).remove(),e(n.s.dt.nTable).off("init.dt"),n.dom.table.style.position="",n.dom.table.style.top="",n.dom.table.style.left=""}})}else this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller")},_fnScroll:function(){var t,n=this,i=this.s.heights,r=this.dom.scroller.scrollTop;if(!this.s.skip&&!this.s.ingnoreScroll)if(this.s.dt.bFiltered||this.s.dt.bSorted)this.s.lastScrollTop=0;else{if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout((function(){n.s.dt.oApi._fnSaveState(n.s.dt)}),250),r<this.s.redrawTop||r>this.s.redrawBottom){var o=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);if(Math.abs(r-this.s.lastScrollTop)>i.viewport||this.s.ani?(t=parseInt(this._domain("physicalToVirtual",r)/i.row,10)-o,this.s.topRowFloat=this._domain("physicalToVirtual",r)/i.row):(t=this.fnPixelsToRow(r)-o,this.s.topRowFloat=this.fnPixelsToRow(r,!1)),t<=0?t=0:t+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(t=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength)<0&&(t=0):t%2!=0&&t++,t!=this.s.dt._iDisplayStart){this.s.tableTop=e(this.s.dt.nTable).offset().top,this.s.tableBottom=e(this.s.dt.nTable).height()+this.s.tableTop;var a=function(){null===n.s.scrollDrawReq&&(n.s.scrollDrawReq=r),n.s.dt._iDisplayStart=t,n.s.dt.oApi._fnDraw(n.s.dt)};this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(a,this.s.serverWait)):a(),this.dom.loader&&!this.s.loaderVisible&&(this.dom.loader.css("display","block"),this.s.loaderVisible=!0)}}else this.s.topRowFloat=this._domain("physicalToVirtual",r)/i.row;this.s.lastScrollTop=r,this.s.stateSaveThrottle()}},_domain:function(e,t){var n,i=this.s.heights;if(i.virtual===i.scroll)return t;var r=(i.scroll-i.viewport)/2,o=(i.virtual-i.viewport)/2;return n=o/(r*r),"virtualToPhysical"===e?t<o?Math.pow(t/n,.5):(t=2*o-t)<0?i.scroll:2*r-Math.pow(t/n,.5):"physicalToVirtual"===e?t<r?t*t*n:(t=2*r-t)<0?i.virtual:2*o-t*t*n:void 0},_fnDrawCallback:function(){var t=this,n=this.s.heights,i=this.dom.scroller.scrollTop,r=(n.viewport,e(this.s.dt.nTable).height()),o=this.s.dt._iDisplayStart,a=this.s.dt._iDisplayLength,s=this.s.dt.fnRecordsDisplay();this.s.skip=!0,this._fnScrollForce(),i=0===o?this.s.topRowFloat*n.row:o+a>=s?n.scroll-(s-this.s.topRowFloat)*n.row:this._domain("virtualToPhysical",this.s.topRowFloat*n.row),this.dom.scroller.scrollTop=i,this.s.baseScrollTop=i,this.s.baseRowTop=this.s.topRowFloat;var l=i-(this.s.topRowFloat-o)*n.row;0===o?l=0:o+a>=s&&(l=n.scroll-r),this.dom.table.style.top=l+"px",this.s.tableTop=l,this.s.tableBottom=r+this.s.tableTop;var c=(i-this.s.tableTop)*this.s.boundaryScale;if(this.s.redrawTop=i-c,this.s.redrawBottom=i+c,this.s.skip=!1,this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.iScroller){var u=!(!this.s.dt.sAjaxSource&&!t.s.dt.ajax||this.s.dt.oFeatures.bServerSide);(u&&2==this.s.dt.iDraw||!u&&1==this.s.dt.iDraw)&&setTimeout((function(){e(t.dom.scroller).scrollTop(t.s.dt.oLoadedState.iScroller),t.s.redrawTop=t.s.dt.oLoadedState.iScroller-n.viewport/2,setTimeout((function(){t.s.ingnoreScroll=!1}),0)}),0)}else t.s.ingnoreScroll=!1;this.s.dt.oFeatures.bInfo&&setTimeout((function(){t._fnInfo.call(t)}),0),this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var e=this.s.heights,t=1e6;e.virtual=e.row*this.s.dt.fnRecordsDisplay(),e.scroll=e.virtual,e.scroll>t&&(e.scroll=t),this.dom.force.style.height=e.scroll>this.s.heights.row?e.scroll+"px":this.s.heights.row+"px"},_fnCalcRowHeight:function(){var t=this.s.dt,n=t.nTable,i=n.cloneNode(!1),r=e("<tbody/>").appendTo(i),o=e('<div class="'+t.oClasses.sWrapper+' DTS"><div class="'+t.oClasses.sScrollWrapper+'"><div class="'+t.oClasses.sScrollBody+'"></div></div></div>');for(e("tbody tr:lt(4)",n).clone().appendTo(r);e("tr",r).length<3;)r.append("<tr><td>&nbsp;</td></tr>");e("div."+t.oClasses.sScrollBody,o).append(i);var a=this.s.dt.nHolding||n.parentNode;e(a).is(":visible")||(a="body"),o.appendTo(a),this.s.heights.row=e("tr",r).eq(1).outerHeight(),o.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var t,n=this.s.dt,i=n.oLanguage,r=this.dom.scroller.scrollTop,o=Math.floor(this.fnPixelsToRow(r,!1,this.s.ani)+1),a=n.fnRecordsTotal(),s=n.fnRecordsDisplay(),l=Math.ceil(this.fnPixelsToRow(r+this.s.heights.viewport,!1,this.s.ani)),c=s<l?s:l,u=n.fnFormatNumber(o),d=n.fnFormatNumber(c),h=n.fnFormatNumber(a),f=n.fnFormatNumber(s);t=0===n.fnRecordsDisplay()&&n.fnRecordsDisplay()==n.fnRecordsTotal()?i.sInfoEmpty+i.sInfoPostFix:0===n.fnRecordsDisplay()?i.sInfoEmpty+" "+i.sInfoFiltered.replace("_MAX_",h)+i.sInfoPostFix:n.fnRecordsDisplay()==n.fnRecordsTotal()?i.sInfo.replace("_START_",u).replace("_END_",d).replace("_MAX_",h).replace("_TOTAL_",f)+i.sInfoPostFix:i.sInfo.replace("_START_",u).replace("_END_",d).replace("_MAX_",h).replace("_TOTAL_",f)+" "+i.sInfoFiltered.replace("_MAX_",n.fnFormatNumber(n.fnRecordsTotal()))+i.sInfoPostFix;var p=i.fnInfoCallback;p&&(t=p.call(n.oInstance,n,o,c,a,s,t));var A=n.aanFeatures.i;if(void 0!==A)for(var g=0,m=A.length;g<m;g++)e(A[g]).html(t);e(n.nTable).triggerHandler("info.dt")}}}),o.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},o.oDefaults=o.defaults,o.version="1.4.2","function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.10.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit,n=t.scroller||t.oScroller||{};new o(e,n)},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.10.0 or greater - www.datatables.net/download"),e(n).on("preInit.dt.dtscroller",(function(t,n){if("dt"===t.namespace){var i=n.oInit.scroller,a=r.defaults.scroller;if(i||a){var s=e.extend({},i,a);!1!==i&&new o(n,s)}}})),e.fn.dataTable.Scroller=o,e.fn.DataTable.Scroller=o;var a=e.fn.dataTable.Api;return a.register("scroller()",(function(){return this})),a.register("scroller().rowToPixels()",(function(e,t,n){var i=this.context;if(i.length&&i[0].oScroller)return i[0].oScroller.fnRowToPixels(e,t,n)})),a.register("scroller().pixelsToRow()",(function(e,t,n){var i=this.context;if(i.length&&i[0].oScroller)return i[0].oScroller.fnPixelsToRow(e,t,n)})),a.register("scroller().scrollToRow()",(function(e,t){return this.iterator("table",(function(n){n.oScroller&&n.oScroller.fnScrollToRow(e,t)})),this})),a.register("row().scrollTo()",(function(e){var t=this;return this.iterator("row",(function(n,i){if(n.oScroller){var r=t.rows({order:"applied",search:"applied"}).indexes().indexOf(i);n.oScroller.fnScrollToRow(r,e)}})),this})),a.register("scroller.measure()",(function(e){return this.iterator("table",(function(t){t.oScroller&&t.oScroller.fnMeasure(e)})),this})),a.register("scroller.page()",(function(){var e=this.context;if(e.length&&e[0].oScroller)return e[0].oScroller.fnPageInfo()})),o}(e,window,document)}.apply(t,i))||(e.exports=r)},54086:function(e,t,n){var i,r;i=[n(37549),n(78907)],void 0===(r=function(e){return function(e,t,n,i){"use strict";var r=e.fn.dataTable;function o(e,t,n){var i,r,o,a=function(t,n){if(t>n){var i=n;n=t,t=i}var r=!1;return e.columns(":visible").indexes().filter((function(e){return e===t&&(r=!0),e===n?(r=!1,!0):r}))},s=function(t,n){var i=e.rows({search:"applied"}).indexes();if(i.indexOf(t)>i.indexOf(n)){var r=n;n=t,t=r}var o=!1;return i.filter((function(e){return e===t&&(o=!0),e===n?(o=!1,!0):o}))};e.cells({selected:!0}).any()||n?(r=a(n.column,t.column),o=s(n.row,t.row)):(r=a(0,t.column),o=s(0,t.row)),i=e.cells(o,r).flatten(),e.cells(t,{selected:!0}).any()?e.cells(i).deselect():e.cells(i).select()}function a(t){var n=t.settings()[0]._select.selector;e(t.table().container()).off("mousedown.dtSelect",n).off("mouseup.dtSelect",n).off("click.dtSelect",n),e("body").off("click.dtSelect"+t.table().node().id)}function s(i){var r=e(i.table().container()),o=i.settings()[0],a=o._select.selector;r.on("mousedown.dtSelect",a,(function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&r.css("-moz-user-select","none").one("selectstart.dtSelect",a,(function(){return!1}))})).on("mouseup.dtSelect",a,(function(){r.css("-moz-user-select","")})).on("click.dtSelect",a,(function(n){var r,o=i.select.items();if(!t.getSelection||!e.trim(t.getSelection().toString())){var a=i.settings()[0];if(e(n.target).closest("div.dataTables_wrapper")[0]==i.table().container()){var s=i.cell(e(n.target).closest("td, th"));if(s.any()){var c=e.Event("user-select.dt");if(l(i,c,[o,s,n]),!c.isDefaultPrevented()){var u=s.index();"row"===o?(r=u.row,h(n,i,a,"row",r)):"column"===o?(r=s.index().column,h(n,i,a,"column",r)):"cell"===o&&(r=s.index(),h(n,i,a,"cell",r)),a._select_lastCell=u}}}}})),e("body").on("click.dtSelect"+i.table().node().id,(function(t){if(o._select.blurable){if(e(t.target).parents().filter(i.table().container()).length)return;if(t.target.getRootNode()!==n)return;if(e(t.target).parents("div.DTE").length)return;d(o,!0)}}))}function l(t,n,i,r){r&&!t.flatten().length||("string"==typeof n&&(n+=".dt"),i.unshift(t),e(t.table().node()).trigger(n,i))}function c(t){var n=t.settings()[0];if(n._select.info&&n.aanFeatures.i){var i=t.rows({selected:!0}).flatten().length,r=t.columns({selected:!0}).flatten().length,o=t.cells({selected:!0}).flatten().length,a=function(n,i,r){n.append(e('<span class="select-item"/>').append(t.i18n("select."+i+"s",{_:"%d "+i+"s selected",0:"",1:"1 "+i+" selected"},r)))};e.each(n.aanFeatures.i,(function(t,n){n=e(n);var s=e('<span class="select-info"/>');a(s,"row",i),a(s,"column",r),a(s,"cell",o);var l=n.children("span.select-info");l.length&&l.remove(),""!==s.text()&&n.append(s)}))}}function u(t,n,i,r){var o=t[n+"s"]({search:"applied"}).indexes(),a=e.inArray(r,o),s=e.inArray(i,o);if(t[n+"s"]({selected:!0}).any()||-1!==a){if(a>s){var l=s;s=a,a=l}o.splice(s+1,o.length),o.splice(0,a)}else o.splice(e.inArray(i,o)+1,o.length);t[n](i,{selected:!0}).any()?(o.splice(e.inArray(i,o),1),t[n+"s"](o).deselect()):t[n+"s"](o).select()}function d(e,t){if(t||"single"===e._select.style){var n=new r.Api(e);n.rows({selected:!0}).deselect(),n.columns({selected:!0}).deselect(),n.cells({selected:!0}).deselect()}}function h(e,t,n,i,r){var a=t.select.style(),s=t[i](r,{selected:!0}).any();if("os"===a)if(e.ctrlKey||e.metaKey)t[i](r).select(!s);else if(e.shiftKey)"cell"===i?o(t,r,n._select_lastCell||null):u(t,i,r,n._select_lastCell?n._select_lastCell[i]:null);else{var l=t[i+"s"]({selected:!0});s&&1===l.flatten().length?t[i](r).deselect():(l.deselect(),t[i](r).select())}else"multi+shift"==a&&e.shiftKey?"cell"===i?o(t,r,n._select_lastCell||null):u(t,i,r,n._select_lastCell?n._select_lastCell[i]:null):t[i](r).select(!s)}r.select={},r.select.version="1.2.2",r.select.init=function(t){var n=t.settings()[0],o=n.oInit.select,a=r.defaults.select,s=o===i?a:o,l="row",c="api",u=!1,d=!0,h="td, th",f="selected",p=!1;n._select={},!0===s?(c="os",p=!0):"string"==typeof s?(c=s,p=!0):e.isPlainObject(s)&&(s.blurable!==i&&(u=s.blurable),s.info!==i&&(d=s.info),s.items!==i&&(l=s.items),s.style!==i&&(c=s.style,p=!0),s.selector!==i&&(h=s.selector),s.className!==i&&(f=s.className)),t.select.selector(h),t.select.items(l),t.select.style(c),t.select.blurable(u),t.select.info(d),n._select.className=f,e.fn.dataTable.ext.order["select-checkbox"]=function(t,n){return this.api().column(n,{order:"index"}).nodes().map((function(n){return"row"===t._select.items?e(n).parent().hasClass(t._select.className):"cell"===t._select.items&&e(n).hasClass(t._select.className)}))},!p&&e(t.table().node()).hasClass("selectable")&&t.select.style("os")},e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],(function(e,t){r.ext.selector[t.type].push((function(e,n,r){var o,a=n.selected,s=[];if(a===i)return r;for(var l=0,c=r.length;l<c;l++)o=e[t.prop][r[l]],(!0===a&&!0===o._select_selected||!1===a&&!o._select_selected)&&s.push(r[l]);return s}))})),r.ext.selector.cell.push((function(e,t,n){var r,o=t.selected,a=[];if(o===i)return n;for(var s=0,l=n.length;s<l;s++)r=e.aoData[n[s].row],(!0===o&&r._selected_cells&&!0===r._selected_cells[n[s].column]||!1===o&&(!r._selected_cells||!r._selected_cells[n[s].column]))&&a.push(n[s]);return a}));var f=r.Api.register,p=r.Api.registerPlural;function A(e,t){return function(n){return n.i18n("buttons."+e,t)}}function g(e){var t=e._eventNamespace;return"draw.dt.DT"+t+" select.dt.DT"+t+" deselect.dt.DT"+t}f("select()",(function(){return this.iterator("table",(function(e){r.select.init(new r.Api(e))}))})),f("select.blurable()",(function(e){return e===i?this.context[0]._select.blurable:this.iterator("table",(function(t){t._select.blurable=e}))})),f("select.info()",(function(e){return c===i?this.context[0]._select.info:this.iterator("table",(function(t){t._select.info=e}))})),f("select.items()",(function(e){return e===i?this.context[0]._select.items:this.iterator("table",(function(t){t._select.items=e,l(new r.Api(t),"selectItems",[e])}))})),f("select.style()",(function(t){return t===i?this.context[0]._select.style:this.iterator("table",(function(n){n._select.style=t,n._select_init||function(t){var n=new r.Api(t);t.aoRowCreatedCallback.push({fn:function(n,i,r){var o,a,s=t.aoData[r];for(s._select_selected&&e(n).addClass(t._select.className),o=0,a=t.aoColumns.length;o<a;o++)(t.aoColumns[o]._select_selected||s._selected_cells&&s._selected_cells[o])&&e(s.anCells[o]).addClass(t._select.className)},sName:"select-deferRender"}),n.on("preXhr.dt.dtSelect",(function(){var e=n.rows({selected:!0}).ids(!0).filter((function(e){return e!==i})),t=n.cells({selected:!0}).eq(0).map((function(e){var t=n.row(e.row).id(!0);return t?{row:t,column:e.column}:i})).filter((function(e){return e!==i}));n.one("draw.dt.dtSelect",(function(){n.rows(e).select(),t.any()&&t.each((function(e){n.cells(e.row,e.column).select()}))}))})),n.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",(function(){c(n)})),n.on("destroy.dtSelect",(function(){a(n),n.off(".dtSelect")}))}(n);var o=new r.Api(n);a(o),"api"!==t&&s(o),l(new r.Api(n),"selectStyle",[t])}))})),f("select.selector()",(function(e){return e===i?this.context[0]._select.selector:this.iterator("table",(function(t){a(new r.Api(t)),t._select.selector=e,"api"!==t._select.style&&s(new r.Api(t))}))})),p("rows().select()","row().select()",(function(t){var n=this;return!1===t?this.deselect():(this.iterator("row",(function(t,n){d(t),t.aoData[n]._select_selected=!0,e(t.aoData[n].nTr).addClass(t._select.className)})),this.iterator("table",(function(e,t){l(n,"select",["row",n[t]],!0)})),this)})),p("columns().select()","column().select()",(function(t){var n=this;return!1===t?this.deselect():(this.iterator("column",(function(t,n){d(t),t.aoColumns[n]._select_selected=!0;var i=new r.Api(t).column(n);e(i.header()).addClass(t._select.className),e(i.footer()).addClass(t._select.className),i.nodes().to$().addClass(t._select.className)})),this.iterator("table",(function(e,t){l(n,"select",["column",n[t]],!0)})),this)})),p("cells().select()","cell().select()",(function(t){var n=this;return!1===t?this.deselect():(this.iterator("cell",(function(t,n,r){d(t);var o=t.aoData[n];o._selected_cells===i&&(o._selected_cells=[]),o._selected_cells[r]=!0,o.anCells&&e(o.anCells[r]).addClass(t._select.className)})),this.iterator("table",(function(e,t){l(n,"select",["cell",n[t]],!0)})),this)})),p("rows().deselect()","row().deselect()",(function(){var t=this;return this.iterator("row",(function(t,n){t.aoData[n]._select_selected=!1,e(t.aoData[n].nTr).removeClass(t._select.className)})),this.iterator("table",(function(e,n){l(t,"deselect",["row",t[n]],!0)})),this})),p("columns().deselect()","column().deselect()",(function(){var t=this;return this.iterator("column",(function(t,n){t.aoColumns[n]._select_selected=!1;var i=new r.Api(t),o=i.column(n);e(o.header()).removeClass(t._select.className),e(o.footer()).removeClass(t._select.className),i.cells(null,n).indexes().each((function(n){var i=t.aoData[n.row],r=i._selected_cells;!i.anCells||r&&r[n.column]||e(i.anCells[n.column]).removeClass(t._select.className)}))})),this.iterator("table",(function(e,n){l(t,"deselect",["column",t[n]],!0)})),this})),p("cells().deselect()","cell().deselect()",(function(){var t=this;return this.iterator("cell",(function(t,n,i){var r=t.aoData[n];r._selected_cells[i]=!1,r.anCells&&!t.aoColumns[i]._select_selected&&e(r.anCells[i]).removeClass(t._select.className)})),this.iterator("table",(function(e,n){l(t,"deselect",["cell",t[n]],!0)})),this}));var m=0;return e.extend(r.ext.buttons,{selected:{text:A("selected","Selected"),className:"buttons-selected",init:function(e,t,n){var i=this;n._eventNamespace=".select"+m++,e.on(g(n),(function(){var e=i.rows({selected:!0}).any()||i.columns({selected:!0}).any()||i.cells({selected:!0}).any();i.enable(e)})),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectedSingle:{text:A("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e,t,n){var i=this;n._eventNamespace=".select"+m++,e.on(g(n),(function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;i.enable(1===t)})),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectAll:{text:A("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:A("selectNone","Deselect all"),className:"buttons-select-none",action:function(){d(this.settings()[0],!0)},init:function(e,t,n){var i=this;n._eventNamespace=".select"+m++,e.on(g(n),(function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;i.enable(t>0)})),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}}}),e.each(["Row","Column","Cell"],(function(e,t){var n=t.toLowerCase();r.ext.buttons["select"+t+"s"]={text:A("select"+t+"s","Select "+n+"s"),className:"buttons-select-"+n+"s",action:function(){this.select.items(n)},init:function(e){var t=this;e.on("selectItems.dt.DT",(function(e,i,r){t.active(r===n)}))}}})),e(n).on("preInit.dt.dtSelect",(function(e,t){"dt"===e.namespace&&r.select.init(new r.Api(t))})),r.select}(e,window,document)}.apply(t,i))||(e.exports=r)},78907:function(e,t,n){var i,r;!function(o){"use strict";i=[n(37549)],r=function(e){return function(e,t,n,i){var r,o,a,s,l=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new o(e?ot(this[r.iApiIndex]):this)},this.fnAddData=function(t,n){var r=this.api(!0),o=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(n===i||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===i||e?t.draw(!1):""===r.sX&&""===r.sY||$e(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),o=r.rows(e),a=o.settings()[0],s=a.aoData[o[0][0]];return o.remove(),t&&t.call(this,a,s),(n===i||n)&&r.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,o,a){var s=this.api(!0);null===t||t===i?s.search(e,n,r,a):s.column(t).search(e,n,r,a),s.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var r=this.api(!0).column(e).visible(t);(n===i||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return ot(this[r.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,o){var a=this.api(!0);return n===i||null===n?a.row(t).data(e):a.cell(t,n).data(e),(o===i||o)&&a.columns.adjust(),(r===i||r)&&a.draw(),0},this.fnVersionCheck=r.fnVersionCheck;var n=this,a=t===i,s=this.length;for(var c in a&&(t={}),this.oApi=this.internal=r.internal,l.ext.internal)c&&(this[c]=Lt(c));return this.each((function(){var r,o=s>1?lt({},t,!0):t,c=0,u=this.getAttribute("id"),d=!1,h=l.defaults,f=e(this);if("table"==this.nodeName.toLowerCase()){I(h),D(h.column),E(h,h,!0),E(h.column,h.column,!0),E(h,e.extend(o,f.data()));var p=l.settings;for(c=0,r=p.length;c<r;c++){var A=p[c];if(A.nTable==this||A.nTHead.parentNode==this||A.nTFoot&&A.nTFoot.parentNode==this){var g=o.bRetrieve!==i?o.bRetrieve:h.bRetrieve,m=o.bDestroy!==i?o.bDestroy:h.bDestroy;if(a||g)return A.oInstance;if(m){A.oInstance.fnDestroy();break}return void at(A,0,"Cannot reinitialise DataTable",3)}if(A.sTableId==this.id){p.splice(c,1);break}}null!==u&&""!==u||(u="DataTables_Table_"+l.ext._unique++,this.id=u);var v=e.extend(!0,{},l.models.oSettings,{sDestroyWidth:f[0].style.width,sInstance:u,sTableId:u});v.nTable=this,v.oApi=n.internal,v.oInit=o,p.push(v),v.oInstance=1===n.length?n:f.dataTable(),I(o),o.oLanguage&&T(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=e.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=lt(e.extend(!0,{},h),o),st(v.oFeatures,o,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),st(v,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),st(v.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),st(v.oLanguage,o,"fnInfoCallback"),ut(v,"aoDrawCallback",o.fnDrawCallback,"user"),ut(v,"aoServerParams",o.fnServerParams,"user"),ut(v,"aoStateSaveParams",o.fnStateSaveParams,"user"),ut(v,"aoStateLoadParams",o.fnStateLoadParams,"user"),ut(v,"aoStateLoaded",o.fnStateLoaded,"user"),ut(v,"aoRowCallback",o.fnRowCallback,"user"),ut(v,"aoRowCreatedCallback",o.fnCreatedRow,"user"),ut(v,"aoHeaderCallback",o.fnHeaderCallback,"user"),ut(v,"aoFooterCallback",o.fnFooterCallback,"user"),ut(v,"aoInitComplete",o.fnInitComplete,"user"),ut(v,"aoPreDrawCallback",o.fnPreDrawCallback,"user"),v.rowIdFn=Y(o.rowId),F(v);var y=v.oClasses;if(e.extend(y,l.ext.classes,o.oClasses),f.addClass(y.sTable),v.iInitDisplayStart===i&&(v.iInitDisplayStart=o.iDisplayStart,v._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading){v.bDeferLoading=!0;var b=e.isArray(o.iDeferLoading);v._iRecordsDisplay=b?o.iDeferLoading[0]:o.iDeferLoading,v._iRecordsTotal=b?o.iDeferLoading[1]:o.iDeferLoading}var w=v.oLanguage;e.extend(!0,w,o.oLanguage),w.sUrl&&(e.ajax({dataType:"json",url:w.sUrl,success:function(t){T(t),E(h.oLanguage,t),e.extend(!0,w,t),Fe(v)},error:function(){Fe(v)}}),d=!0),null===o.asStripeClasses&&(v.asStripeClasses=[y.sStripeOdd,y.sStripeEven]);var x=v.asStripeClasses,C=f.children("tbody").find("tr").eq(0);-1!==e.inArray(!0,e.map(x,(function(e,t){return C.hasClass(e)})))&&(e("tbody tr",this).removeClass(x.join(" ")),v.asDestroyStripes=x.slice());var _,k=[],S=this.getElementsByTagName("thead");if(0!==S.length&&(ue(v.aoHeader,S[0]),k=de(v)),null===o.aoColumns)for(_=[],c=0,r=k.length;c<r;c++)_.push(null);else _=o.aoColumns;for(c=0,r=_.length;c<r;c++)L(v,k?k[c]:null);if(Q(v,o.aoColumnDefs,_,(function(e,t){P(v,e,t)})),C.length){var B=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(C[0]).children("th, td").each((function(e,t){var n=v.aoColumns[e];if(n.mData===e){var r=B(t,"sort")||B(t,"order"),o=B(t,"filter")||B(t,"search");null===r&&null===o||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:i,type:null!==r?e+".@data-"+r:i,filter:null!==o?e+".@data-"+o:i},P(v,e))}}))}var M=v.oFeatures,R=function(){if(o.aaSorting===i){var t=v.aaSorting;for(c=0,r=t.length;c<r;c++)t[c][1]=v.aoColumns[c].asSorting[0]}tt(v),M.bSort&&ut(v,"aoDrawCallback",(function(){if(v.bSorted){var t=Ye(v),n={};e.each(t,(function(e,t){n[t.src]=t.dir})),dt(v,null,"order",[v,t,n]),Je(v)}})),ut(v,"aoDrawCallback",(function(){(v.bSorted||"ssp"===pt(v)||M.bDeferRender)&&tt(v)}),"sc");var n=f.children("caption").each((function(){this._captionSide=e(this).css("caption-side")})),a=f.children("thead");0===a.length&&(a=e("<thead/>").appendTo(f)),v.nTHead=a[0];var s=f.children("tbody");0===s.length&&(s=e("<tbody/>").appendTo(f)),v.nTBody=s[0];var l=f.children("tfoot");if(0===l.length&&n.length>0&&(""!==v.oScroll.sX||""!==v.oScroll.sY)&&(l=e("<tfoot/>").appendTo(f)),0===l.length||0===l.children().length?f.addClass(y.sNoFooter):l.length>0&&(v.nTFoot=l[0],ue(v.aoFooter,v.nTFoot)),o.aaData)for(c=0;c<o.aaData.length;c++)W(v,o.aaData[c]);else(v.bDeferLoading||"dom"==pt(v))&&V(v,e(v.nTBody).children("tr"));v.aiDisplay=v.aiDisplayMaster.slice(),v.bInitialised=!0,!1===d&&Fe(v)};o.bStateSave?(M.bStateSave=!0,ut(v,"aoDrawCallback",it,"state_save"),rt(v,0,R)):R()}else at(null,0,"Non-table node initialisation ("+this.nodeName+")",2)})),n=null,this},c={},u=/[\r\n]/g,d=/<.*?>/g,h=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,f=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),p=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,A=function(e){return!e||!0===e||"-"===e},g=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},m=function(e,t){return c[t]||(c[t]=new RegExp(Ce(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(c[t],"."):e},v=function(e,t,n){var i="string"==typeof e;return!!A(e)||(t&&i&&(e=m(e,t)),n&&i&&(e=e.replace(p,"")),!isNaN(parseFloat(e))&&isFinite(e))},y=function(e,t,n){return!!A(e)||function(e){return A(e)||"string"==typeof e}(e)&&!!v(_(e),t,n)||null},b=function(e,t,n){var r=[],o=0,a=e.length;if(n!==i)for(;o<a;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;o<a;o++)e[o]&&r.push(e[o][t]);return r},w=function(e,t,n,r){var o=[],a=0,s=t.length;if(r!==i)for(;a<s;a++)e[t[a]][n]&&o.push(e[t[a]][n][r]);else for(;a<s;a++)o.push(e[t[a]][n]);return o},x=function(e,t){var n,r=[];t===i?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)r.push(o);return r},C=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},_=function(e){return e.replace(d,"")},k=function(e){if(function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],i=1,r=t.length;i<r;i++){if(t[i]===n)return!1;n=t[i]}return!0}(e))return e.slice();var t,n,i,r=[],o=e.length,a=0;e:for(n=0;n<o;n++){for(t=e[n],i=0;i<a;i++)if(r[i]===t)continue e;r.push(t),a++}return r};function S(t){var n,i,r={};e.each(t,(function(e,o){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=e.replace(n[0],n[2].toLowerCase()),r[i]=e,"o"===n[1]&&S(t[e]))})),t._hungarianMap=r}function E(t,n,r){var o;t._hungarianMap||S(t),e.each(n,(function(a,s){(o=t._hungarianMap[a])===i||!r&&n[o]!==i||("o"===o.charAt(0)?(n[o]||(n[o]={}),e.extend(!0,n[o],n[a]),E(t[o],n[o],r)):n[o]=n[a])}))}function T(e){var t=l.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&st(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&st(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var i=e.sDecimal;i&&Ft(i)}l.util={throttle:function(e,t){var n,r,o=t!==i?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+o?(clearTimeout(r),r=setTimeout((function(){n=i,e.apply(t,s)}),o)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(f,"\\$1")}};var B=function(e,t,n){e[t]!==i&&(e[n]=e[t])};function I(e){B(e,"ordering","bSort"),B(e,"orderMulti","bSortMulti"),B(e,"orderClasses","bSortClasses"),B(e,"orderCellsTop","bSortCellsTop"),B(e,"order","aaSorting"),B(e,"orderFixed","aaSortingFixed"),B(e,"paging","bPaginate"),B(e,"pagingType","sPaginationType"),B(e,"pageLength","iDisplayLength"),B(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var n=0,i=t.length;n<i;n++)t[n]&&E(l.models.oSearch,t[n])}function D(t){B(t,"orderable","bSortable"),B(t,"orderData","aDataSort"),B(t,"orderSequence","asSorting"),B(t,"orderDataType","sortDataType");var n=t.aDataSort;"number"!=typeof n||e.isArray(n)||(t.aDataSort=[n])}function F(n){if(!l.__browser){var i={};l.__browser=i;var r=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),a=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(n.oBrowser,l.__browser),n.oScroll.iBarWidth=l.__browser.barWidth}function M(e,t,n,r,o,a){var s,l=r,c=!1;for(n!==i&&(s=n,c=!0);l!==o;)e.hasOwnProperty(l)&&(s=c?t(s,e[l],l,e):e[l],c=!0,l+=a);return s}function L(t,i){var r=l.defaults.column,o=t.aoColumns.length,a=e.extend({},l.models.oColumn,r,{nTh:i||n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(a);var s=t.aoPreSearchCols;s[o]=e.extend({},l.models.oSearch,s[o]),P(t,o,e(i).data())}function P(t,n,r){var o=t.aoColumns[n],a=t.oClasses,s=e(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=s.attr("width")||null;var c=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(o.sWidthOrig=c[1])}r!==i&&null!==r&&(D(r),E(l.defaults.column,r),r.mDataProp===i||r.mData||(r.mData=r.mDataProp),r.sType&&(o._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass),e.extend(o,r),st(o,r,"sWidth","sWidthOrig"),r.iDataSort!==i&&(o.aDataSort=[r.iDataSort]),st(o,r,"aDataSort"));var u=o.mData,d=Y(u),h=o.mRender?Y(o.mRender):null,f=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};o._bAttrSrc=e.isPlainObject(u)&&(f(u.sort)||f(u.type)||f(u.filter)),o._setter=null,o.fnGetData=function(e,t,n){var r=d(e,t,i,n);return h&&t?h(r,t,e,n):r},o.fnSetData=function(e,t,n){return X(u)(e,t,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(o.bSortable=!1,s.addClass(a.sSortableNone));var p=-1!==e.inArray("asc",o.asSorting),A=-1!==e.inArray("desc",o.asSorting);o.bSortable&&(p||A)?p&&!A?(o.sSortingClass=a.sSortableAsc,o.sSortingClassJUI=a.sSortJUIAscAllowed):!p&&A?(o.sSortingClass=a.sSortableDesc,o.sSortingClassJUI=a.sSortJUIDescAllowed):(o.sSortingClass=a.sSortable,o.sSortingClassJUI=a.sSortJUI):(o.sSortingClass=a.sSortableNone,o.sSortingClassJUI="")}function R(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;Ve(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}var r=e.oScroll;""===r.sY&&""===r.sX||$e(e),dt(e,null,"column-sizing",[e])}function O(e,t){var n=H(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function N(t,n){var i=H(t,"bVisible"),r=e.inArray(n,i);return-1!==r?r:null}function U(t){var n=0;return e.each(t.aoColumns,(function(t,i){i.bVisible&&"none"!==e(i.nTh).css("display")&&n++})),n}function H(t,n){var i=[];return e.map(t.aoColumns,(function(e,t){e[n]&&i.push(t)})),i}function $(e){var t,n,r,o,a,s,c,u,d,h=e.aoColumns,f=e.aoData,p=l.ext.type.detect;for(t=0,n=h.length;t<n;t++)if(d=[],!(c=h[t]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(r=0,o=p.length;r<o;r++){for(a=0,s=f.length;a<s&&(d[a]===i&&(d[a]=j(e,a,t,"type")),(u=p[r](d[a],e))||r===p.length-1)&&"html"!==u;a++);if(u){c.sType=u;break}}c.sType||(c.sType="string")}}function Q(t,n,r,o){var a,s,l,c,u,d,h,f=t.aoColumns;if(n)for(a=n.length-1;a>=0;a--){var p=(h=n[a]).targets!==i?h.targets:h.aTargets;for(e.isArray(p)||(p=[p]),l=0,c=p.length;l<c;l++)if("number"==typeof p[l]&&p[l]>=0){for(;f.length<=p[l];)L(t);o(p[l],h)}else if("number"==typeof p[l]&&p[l]<0)o(f.length+p[l],h);else if("string"==typeof p[l])for(u=0,d=f.length;u<d;u++)("_all"==p[l]||e(f[u].nTh).hasClass(p[l]))&&o(u,h)}if(r)for(a=0,s=r.length;a<s;a++)o(a,r[a])}function W(t,n,r,o){var a=t.aoData.length,s=e.extend(!0,{},l.models.oRow,{src:r?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var c=t.aoColumns,u=0,d=c.length;u<d;u++)c[u].sType=null;t.aiDisplayMaster.push(a);var h=t.rowIdFn(n);return h!==i&&(t.aIds[h]=s),!r&&t.oFeatures.bDeferRender||ie(t,a,r,o),a}function V(t,n){var i;return n instanceof e||(n=e(n)),n.map((function(e,n){return i=ne(t,n),W(t,i.data,n,i.cells)}))}function j(e,t,n,r){var o=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,c=a.fnGetData(s,r,{settings:e,row:t,col:n});if(c===i)return e.iDrawError!=o&&null===l&&(at(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),l;if(c!==s&&null!==c||null===l||r===i){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==r?"":c}function z(e,t,n,i){var r=e.aoColumns[n],o=e.aoData[t]._aData;r.fnSetData(o,i,{settings:e,row:t,col:n})}var K=/\[.*?\]$/,G=/\(\)$/;function q(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],(function(e){return e.replace(/\\\./g,".")}))}function Y(t){if(e.isPlainObject(t)){var n={};return e.each(t,(function(e,t){t&&(n[e]=Y(t))})),function(e,t,r,o){var a=n[t]||n._;return a!==i?a(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var r=function(t,n,o){var a,s,l,c;if(""!==o)for(var u=q(o),d=0,h=u.length;d<h;d++){if(a=u[d].match(K),s=u[d].match(G),a){if(u[d]=u[d].replace(K,""),""!==u[d]&&(t=t[u[d]]),l=[],u.splice(0,d+1),c=u.join("."),e.isArray(t))for(var f=0,p=t.length;f<p;f++)l.push(r(t[f],n,c));var A=a[0].substring(1,a[0].length-1);t=""===A?l:l.join(A);break}if(s)u[d]=u[d].replace(G,""),t=t[u[d]]();else{if(null===t||t[u[d]]===i)return i;t=t[u[d]]}}return t};return function(e,n){return r(e,n,t)}}function X(t){if(e.isPlainObject(t))return X(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var n=function(t,r,o){for(var a,s,l,c,u,d=q(o),h=d[d.length-1],f=0,p=d.length-1;f<p;f++){if(s=d[f].match(K),l=d[f].match(G),s){if(d[f]=d[f].replace(K,""),t[d[f]]=[],(a=d.slice()).splice(0,f+1),u=a.join("."),e.isArray(r))for(var A=0,g=r.length;A<g;A++)n(c={},r[A],u),t[d[f]].push(c);else t[d[f]]=r;return}l&&(d[f]=d[f].replace(G,""),t=t[d[f]](r)),null!==t[d[f]]&&t[d[f]]!==i||(t[d[f]]={}),t=t[d[f]]}h.match(G)?t=t[h.replace(G,"")](r):t[h.replace(K,"")]=r};return function(e,i){return n(e,i,t)}}function J(e){return b(e.aoData,"_aData")}function Z(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function ee(e,t,n){for(var r=-1,o=0,a=e.length;o<a;o++)e[o]==t?r=o:e[o]>t&&e[o]--;-1!=r&&n===i&&e.splice(r,1)}function te(e,t,n,r){var o,a,s=e.aoData[t],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=j(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var c=s.anCells;if(c)if(r!==i)l(c[r],r);else for(o=0,a=c.length;o<a;o++)l(c[o],o)}else s._aData=ne(e,s,r,r===i?i:s._aData).data;s._aSortData=null,s._aFilterData=null;var u=e.aoColumns;if(r!==i)u[r].sType=null;else{for(o=0,a=u.length;o<a;o++)u[o].sType=null;re(e,s)}}function ne(t,n,r,o){var a,s,l,c=[],u=n.firstChild,d=0,h=t.aoColumns,f=t._rowReadObject;o=o!==i?o:f?{}:[];var p=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var i=e.substring(n+1);X(e)(o,t.getAttribute(i))}}},A=function(t){r!==i&&r!==d||(s=h[d],l=e.trim(t.innerHTML),s&&s._bAttrSrc?(X(s.mData._)(o,l),p(s.mData.sort,t),p(s.mData.type,t),p(s.mData.filter,t)):f?(s._setter||(s._setter=X(s.mData)),s._setter(o,l)):o[d]=l),d++};if(u)for(;u;)"TD"!=(a=u.nodeName.toUpperCase())&&"TH"!=a||(A(u),c.push(u)),u=u.nextSibling;else for(var g=0,m=(c=n.anCells).length;g<m;g++)A(c[g]);var v=n.firstChild?n:n.nTr;if(v){var y=v.getAttribute("id");y&&X(t.rowId)(o,y)}return{data:o,cells:c}}function ie(t,i,r,o){var a,s,l,c,u,d=t.aoData[i],h=d._aData,f=[];if(null===d.nTr){for(a=r||n.createElement("tr"),d.nTr=a,d.anCells=f,a._DT_RowIndex=i,re(t,d),c=0,u=t.aoColumns.length;c<u;c++)l=t.aoColumns[c],(s=r?o[c]:n.createElement(l.sCellType))._DT_CellIndex={row:i,column:c},f.push(s),r&&!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display"||(s.innerHTML=j(t,i,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?a.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,s,j(t,i,c),h,i,c);dt(t,"aoRowCreatedCallback",null,[a,h,i])}d.nTr.setAttribute("role","row")}function re(t,n){var i=n.nTr,r=n._aData;if(i){var o=t.rowIdFn(r);if(o&&(i.id=o),r.DT_RowClass){var a=r.DT_RowClass.split(" ");n.__rowc=n.__rowc?k(n.__rowc.concat(a)):a,e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&e(i).attr(r.DT_RowAttr),r.DT_RowData&&e(i).data(r.DT_RowData)}}function oe(t){var n,i,r,o,a,s=t.nTHead,l=t.nTFoot,c=0===e("th, td",s).length,u=t.oClasses,d=t.aoColumns;for(c&&(o=e("<tr/>").appendTo(s)),n=0,i=d.length;n<i;n++)a=d[n],r=e(a.nTh).addClass(a.sClass),c&&r.appendTo(o),t.oFeatures.bSort&&(r.addClass(a.sSortingClass),!1!==a.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),et(t,a.nTh,n))),a.sTitle!=r[0].innerHTML&&r.html(a.sTitle),ft(t,"header")(t,r,a,u);if(c&&ue(t.aoHeader,s),e(s).find(">tr").attr("role","row"),e(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l){var h=t.aoFooter[0];for(n=0,i=h.length;n<i;n++)(a=d[n]).nTf=h[n].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}}function ae(t,n,r){var o,a,s,l,c,u,d,h,f,p=[],A=[],g=t.aoColumns.length;if(n){for(r===i&&(r=!1),o=0,a=n.length;o<a;o++){for(p[o]=n[o].slice(),p[o].nTr=n[o].nTr,s=g-1;s>=0;s--)t.aoColumns[s].bVisible||r||p[o].splice(s,1);A.push([])}for(o=0,a=p.length;o<a;o++){if(d=p[o].nTr)for(;u=d.firstChild;)d.removeChild(u);for(s=0,l=p[o].length;s<l;s++)if(h=1,f=1,A[o][s]===i){for(d.appendChild(p[o][s].cell),A[o][s]=1;p[o+h]!==i&&p[o][s].cell==p[o+h][s].cell;)A[o+h][s]=1,h++;for(;p[o][s+f]!==i&&p[o][s].cell==p[o][s+f].cell;){for(c=0;c<h;c++)A[o+c][s+f]=1;f++}e(p[o][s].cell).attr("rowspan",h).attr("colspan",f)}}}}function se(t){var n=dt(t,"aoPreDrawCallback","preDraw",[t]);if(-1===e.inArray(!1,n)){var r=[],o=0,a=t.asStripeClasses,s=a.length,l=(t.aoOpenRows.length,t.oLanguage),c=t.iInitDisplayStart,u="ssp"==pt(t),d=t.aiDisplay;t.bDrawing=!0,c!==i&&-1!==c&&(t._iDisplayStart=u?c:c>=t.fnRecordsDisplay()?0:c,t.iInitDisplayStart=-1);var h=t._iDisplayStart,f=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,Ue(t,!1);else if(u){if(!t.bDestroying&&!fe(t))return}else t.iDraw++;if(0!==d.length)for(var p=u?0:h,A=u?t.aoData.length:f,g=p;g<A;g++){var m=d[g],v=t.aoData[m];null===v.nTr&&ie(t,m);var y=v.nTr;if(0!==s){var b=a[o%s];v._sRowStripe!=b&&(e(y).removeClass(v._sRowStripe).addClass(b),v._sRowStripe=b)}dt(t,"aoRowCallback",null,[y,v._aData,o,g]),r.push(y),o++}else{var w=l.sZeroRecords;1==t.iDraw&&"ajax"==pt(t)?w=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(w=l.sEmptyTable),r[0]=e("<tr/>",{class:s?a[0]:""}).append(e("<td />",{valign:"top",colSpan:U(t),class:t.oClasses.sRowEmpty}).html(w))[0]}dt(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],J(t),h,f,d]),dt(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],J(t),h,f,d]);var x=e(t.nTBody);x.children().detach(),x.append(e(r)),dt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else Ue(t,!1)}function le(e,t){var n=e.oFeatures,i=n.bSort,r=n.bFilter;i&&Xe(e),r?ve(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,se(e),e._drawHold=!1}function ce(t){var n=t.oClasses,i=e(t.nTable),r=e("<div/>").insertBefore(i),o=t.oFeatures,a=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=r[0],t.nTableWrapper=a[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,c,u,d,h,f,p=t.sDom.split(""),A=0;A<p.length;A++){if(s=null,"<"==(c=p[A])){if(u=e("<div/>")[0],"'"==(d=p[A+1])||'"'==d){for(h="",f=2;p[A+f]!=d;)h+=p[A+f],f++;if("H"==h?h=n.sJUIHeader:"F"==h&&(h=n.sJUIFooter),-1!=h.indexOf(".")){var g=h.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==h.charAt(0)?u.id=h.substr(1,h.length-1):u.className=h;A+=f}a.append(u),a=e(u)}else if(">"==c)a=a.parent();else if("l"==c&&o.bPaginate&&o.bLengthChange)s=Pe(t);else if("f"==c&&o.bFilter)s=me(t);else if("r"==c&&o.bProcessing)s=Ne(t);else if("t"==c)s=He(t);else if("i"==c&&o.bInfo)s=Be(t);else if("p"==c&&o.bPaginate)s=Re(t);else if(0!==l.ext.feature.length)for(var m=l.ext.feature,v=0,y=m.length;v<y;v++)if(c==m[v].cFeature){s=m[v].fnInit(t);break}if(s){var b=t.aanFeatures;b[c]||(b[c]=[]),b[c].push(s),a.append(s)}}r.replaceWith(a),t.nHolding=null}function ue(t,n){var i,r,o,a,s,l,c,u,d,h,f=e(n).children("tr"),p=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(t.splice(0,t.length),o=0,l=f.length;o<l;o++)t.push([]);for(o=0,l=f.length;o<l;o++)for(0,r=(i=f[o]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(u=(u=1*r.getAttribute("colspan"))&&0!==u&&1!==u?u:1,d=(d=1*r.getAttribute("rowspan"))&&0!==d&&1!==d?d:1,c=p(t,o,0),h=1===u,s=0;s<u;s++)for(a=0;a<d;a++)t[o+a][c+s]={cell:r,unique:h},t[o+a].nTr=i;r=r.nextSibling}}function de(e,t,n){var i=[];n||(n=e.aoHeader,t&&ue(n=[],t));for(var r=0,o=n.length;r<o;r++)for(var a=0,s=n[r].length;a<s;a++)!n[r][a].unique||i[a]&&e.bSortCellsTop||(i[a]=n[r][a].cell);return i}function he(t,n,i){if(dt(t,"aoServerParams","serverParams",[n]),n&&e.isArray(n)){var r={},o=/(.*?)\[\]$/;e.each(n,(function(e,t){var n=t.name.match(o);if(n){var i=n[0];r[i]||(r[i]=[]),r[i].push(t.value)}else r[t.name]=t.value})),n=r}var a,s=t.ajax,l=t.oInstance,c=function(e){dt(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(e.isPlainObject(s)&&s.data){a=s.data;var u=e.isFunction(a)?a(n,t):a;n=e.isFunction(a)&&u?u:e.extend(!0,n,u),delete s.data}var d={data:n,success:function(e){var n=e.error||e.sError;n&&at(t,0,n),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i,r){var o=dt(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,o)&&("parsererror"==i?at(t,0,"Invalid JSON response",1):4===n.readyState&&at(t,0,"Ajax error",7)),Ue(t,!1)}};t.oAjaxData=n,dt(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,(function(e,t){return{name:t,value:e}})),c,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(d,{url:s||t.sAjaxSource})):e.isFunction(s)?t.jqXHR=s.call(l,n,c,t):(t.jqXHR=e.ajax(e.extend(d,s)),s.data=a)}function fe(e){return!e.bAjaxDataGet||(e.iDraw++,Ue(e,!0),he(e,pe(e),(function(t){Ae(e,t)})),!1)}function pe(t){var n,i,r,o,a=t.aoColumns,s=a.length,c=t.oFeatures,u=t.oPreviousSearch,d=t.aoPreSearchCols,h=[],f=Ye(t),p=t._iDisplayStart,A=!1!==c.bPaginate?t._iDisplayLength:-1,g=function(e,t){h.push({name:e,value:t})};g("sEcho",t.iDraw),g("iColumns",s),g("sColumns",b(a,"sName").join(",")),g("iDisplayStart",p),g("iDisplayLength",A);var m={draw:t.iDraw,columns:[],order:[],start:p,length:A,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<s;n++)r=a[n],o=d[n],i="function"==typeof r.mData?"function":r.mData,m.columns.push({data:i,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+n,i),c.bFilter&&(g("sSearch_"+n,o.sSearch),g("bRegex_"+n,o.bRegex),g("bSearchable_"+n,r.bSearchable)),c.bSort&&g("bSortable_"+n,r.bSortable);c.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),c.bSort&&(e.each(f,(function(e,t){m.order.push({column:t.col,dir:t.dir}),g("iSortCol_"+e,t.col),g("sSortDir_"+e,t.dir)})),g("iSortingCols",f.length));var v=l.ext.legacy.ajax;return null===v?t.sAjaxSource?h:m:v?h:m}function Ae(e,t){var n=function(e,n){return t[e]!==i?t[e]:t[n]},r=ge(e,t),o=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<e.iDraw)return;e.iDraw=1*o}Z(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(s,10);for(var l=0,c=r.length;l<c;l++)W(e,r[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,se(e),e._bInitComplete||Me(e,t),e.bAjaxDataGet=!0,Ue(e,!1)}function ge(t,n){var r=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?Y(r)(n):n}function me(t){var i=t.oClasses,r=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=o.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=e("<div/>",{id:s.f?null:r+"_filter",class:i.sFilter}).append(e("<label/>").append(c)),d=function(){s.f;var e=this.value?this.value:"";e!=a.sSearch&&(ve(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,se(t))},h=null!==t.searchDelay?t.searchDelay:"ssp"===pt(t)?400:0,f=e("input",u).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?je(d,h):d).on("keypress.DT",(function(e){if(13==e.keyCode)return!1})).attr("aria-controls",r);return e(t.nTable).on("search.dt.DT",(function(e,i){if(t===i)try{f[0]!==n.activeElement&&f.val(a.sSearch)}catch(e){}})),u[0]}function ve(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex};if($(e),"ssp"!=pt(e)){we(e,t.sSearch,n,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var l=0;l<o.length;l++)be(e,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);ye(e)}else a(t);e.bFiltered=!0,dt(e,null,"search",[e])}function ye(t){for(var n,i,r=l.ext.search,o=t.aiDisplay,a=0,s=r.length;a<s;a++){for(var c=[],u=0,d=o.length;u<d;u++)i=o[u],n=t.aoData[i],r[a](t,n._aFilterData,i,n._aData,u)&&c.push(i);o.length=0,e.merge(o,c)}}function be(e,t,n,i,r,o){if(""!==t){for(var a,s=[],l=e.aiDisplay,c=xe(t,i,r,o),u=0;u<l.length;u++)a=e.aoData[l[u]]._aFilterData[n],c.test(a)&&s.push(l[u]);e.aiDisplay=s}}function we(e,t,n,i,r,o){var a,s,c,u=xe(t,i,r,o),d=e.oPreviousSearch.sSearch,h=e.aiDisplayMaster,f=[];if(0!==l.ext.search.length&&(n=!0),s=Se(e),t.length<=0)e.aiDisplay=h.slice();else{for((s||n||d.length>t.length||0!==t.indexOf(d)||e.bSorted)&&(e.aiDisplay=h.slice()),a=e.aiDisplay,c=0;c<a.length;c++)u.test(e.aoData[a[c]]._sFilterRow)&&f.push(a[c]);e.aiDisplay=f}}function xe(t,n,i,r){if(t=n?t:Ce(t),i){var o=e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],(function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")}));t="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(t,r?"i":"")}var Ce=l.util.escapeRegex,_e=e("<div>")[0],ke=_e.textContent!==i;function Se(e){var t,n,i,r,o,a,s,c,u=e.aoColumns,d=l.ext.type.search,h=!1;for(n=0,r=e.aoData.length;n<r;n++)if(!(c=e.aoData[n])._aFilterData){for(a=[],i=0,o=u.length;i<o;i++)(t=u[i]).bSearchable?(s=j(e,n,i,"filter"),d[t.sType]&&(s=d[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(_e.innerHTML=s,s=ke?_e.textContent:_e.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);c._aFilterData=a,c._sFilterRow=a.join("  "),h=!0}return h}function Ee(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function Te(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function Be(t){var n=t.sTableId,i=t.aanFeatures.i,r=e("<div/>",{class:t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:Ie,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),r[0]}function Ie(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l=De(t,l+=i.sInfoPostFix);var c=i.fnInfoCallback;null!==c&&(l=c.call(t.oInstance,t,r,o,a,s,l)),e(n).html(l)}}function De(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/r)))}function Fe(e){var t,n,i,r=e.iInitDisplayStart,o=e.aoColumns,a=e.oFeatures,s=e.bDeferLoading;if(e.bInitialised){for(ce(e),oe(e),ae(e,e.aoHeader),ae(e,e.aoFooter),Ue(e,!0),a.bAutoWidth&&Ve(e),t=0,n=o.length;t<n;t++)(i=o[t]).sWidth&&(i.nTh.style.width=qe(i.sWidth));dt(e,null,"preInit",[e]),le(e);var l=pt(e);("ssp"!=l||s)&&("ajax"==l?he(e,[],(function(n){var i=ge(e,n);for(t=0;t<i.length;t++)W(e,i[t]);e.iInitDisplayStart=r,le(e),Ue(e,!1),Me(e,n)})):(Ue(e,!1),Me(e)))}else setTimeout((function(){Fe(e)}),200)}function Me(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&R(e),dt(e,null,"plugin-init",[e,t]),dt(e,"aoInitComplete","init",[e,t])}function Le(e,t){var n=parseInt(t,10);e._iDisplayLength=n,ht(e),dt(e,null,"length",[e,n])}function Pe(t){for(var n=t.oClasses,i=t.sTableId,r=t.aLengthMenu,o=e.isArray(r[0]),a=o?r[0]:r,s=o?r[1]:r,l=e("<select/>",{name:i+"_length","aria-controls":i,class:n.sLengthSelect}),c=0,u=a.length;c<u;c++)l[0][c]=new Option("number"==typeof s[c]?t.fnFormatNumber(s[c]):s[c],a[c]);var d=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(d[0].id=i+"_length"),d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),e("select",d).val(t._iDisplayLength).on("change.DT",(function(n){Le(t,e(this).val()),se(t)})),e(t.nTable).on("length.dt.DT",(function(n,i,r){t===i&&e("select",d).val(r)})),d[0]}function Re(t){var n=t.sPaginationType,i=l.ext.pager[n],r="function"==typeof i,o=function(e){se(e)},a=e("<div/>").addClass(t.oClasses.sPaging+n)[0],s=t.aanFeatures;return r||i.fnInit(t,a,o),s.p||(a.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,n,a=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),u=-1===l,d=u?0:Math.ceil(a/l),h=u?1:Math.ceil(c/l),f=i(d,h);for(t=0,n=s.p.length;t<n;t++)ft(e,"pageButton")(e,s.p[t],t,f,d,h)}else i.fnUpdate(e,o)},sName:"pagination"})),a}function Oe(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();0===o||-1===r?i=0:"number"==typeof t?(i=t*r)>o&&(i=0):"first"==t?i=0:"previous"==t?(i=r>=0?i-r:0)<0&&(i=0):"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:at(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==i;return e._iDisplayStart=i,a&&(dt(e,null,"page",[e]),n&&se(e)),a}function Ne(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function Ue(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),dt(t,null,"processing",[t,n])}function He(t){var n=e(t.nTable);n.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var r=i.sX,o=i.sY,a=t.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,c=e(n[0].cloneNode(!1)),u=e(n[0].cloneNode(!1)),d=n.children("tfoot"),h="<div/>",f=function(e){return e?qe(e):null};d.length||(d=null);var p=e(h,{class:a.sScrollWrapper}).append(e(h,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?f(r):"100%"}).append(e(h,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(e(h,{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:f(r)}).append(n));d&&p.append(e(h,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:r?f(r):"100%"}).append(e(h,{class:a.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var A=p.children(),g=A[0],m=A[1],v=d?A[2]:null;return r&&e(m).on("scroll.DT",(function(e){var t=this.scrollLeft;g.scrollLeft=t,d&&(v.scrollLeft=t)})),e(m).css(o&&i.bCollapse?"max-height":"height",o),t.nScrollHead=g,t.nScrollBody=m,t.nScrollFoot=v,t.aoDrawCallback.push({fn:$e,sName:"scrolling"}),p[0]}function $e(t){var n,r,o,a,s,l,c,u,d,h=t.oScroll,f=h.sX,p=h.sXInner,A=h.sY,g=h.iBarWidth,m=e(t.nScrollHead),v=m[0].style,y=m.children("div"),w=y[0].style,x=y.children("table"),C=t.nScrollBody,_=e(C),k=C.style,S=e(t.nScrollFoot).children("div"),E=S.children("table"),T=e(t.nTHead),B=e(t.nTable),I=B[0],D=I.style,F=t.nTFoot?e(t.nTFoot):null,M=t.oBrowser,L=M.bScrollOversize,P=b(t.aoColumns,"nTh"),N=[],U=[],H=[],$=[],Q=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},W=C.scrollHeight>C.clientHeight;if(t.scrollBarVis!==W&&t.scrollBarVis!==i)return t.scrollBarVis=W,void R(t);t.scrollBarVis=W,B.children("thead, tfoot").remove(),F&&(l=F.clone().prependTo(B),r=F.find("tr"),a=l.find("tr")),s=T.clone().prependTo(B),n=T.find("tr"),o=s.find("tr"),s.find("th, td").removeAttr("tabindex"),f||(k.width="100%",m[0].style.width="100%"),e.each(de(t,s),(function(e,n){c=O(t,e),n.style.width=t.aoColumns[c].sWidth})),F&&Qe((function(e){e.style.width=""}),a),d=B.outerWidth(),""===f?(D.width="100%",L&&(B.find("tbody").height()>C.offsetHeight||"scroll"==_.css("overflow-y"))&&(D.width=qe(B.outerWidth()-g)),d=B.outerWidth()):""!==p&&(D.width=qe(p),d=B.outerWidth()),Qe(Q,o),Qe((function(t){H.push(t.innerHTML),N.push(qe(e(t).css("width")))}),o),Qe((function(t,n){-1!==e.inArray(t,P)&&(t.style.width=N[n])}),n),e(o).height(0),F&&(Qe(Q,a),Qe((function(t){$.push(t.innerHTML),U.push(qe(e(t).css("width")))}),a),Qe((function(e,t){e.style.width=U[t]}),r),e(a).height(0)),Qe((function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+H[t]+"</div>",e.style.width=N[t]}),o),F&&Qe((function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+$[t]+"</div>",e.style.width=U[t]}),a),B.outerWidth()<d?(u=C.scrollHeight>C.offsetHeight||"scroll"==_.css("overflow-y")?d+g:d,L&&(C.scrollHeight>C.offsetHeight||"scroll"==_.css("overflow-y"))&&(D.width=qe(u-g)),""!==f&&""===p||at(t,1,"Possible column misalignment",6)):u="100%",k.width=qe(u),v.width=qe(u),F&&(t.nScrollFoot.style.width=qe(u)),A||L&&(k.height=qe(I.offsetHeight+g));var V=B.outerWidth();x[0].style.width=qe(V),w.width=qe(V);var j=B.height()>C.clientHeight||"scroll"==_.css("overflow-y"),z="padding"+(M.bScrollbarLeft?"Left":"Right");w[z]=j?g+"px":"0px",F&&(E[0].style.width=qe(V),S[0].style.width=qe(V),S[0].style[z]=j?g+"px":"0px"),B.children("colgroup").insertBefore(B.children("thead")),_.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(C.scrollTop=0)}function Qe(e,t,n){for(var i,r,o=0,a=0,s=t.length;a<s;){for(i=t[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,o):e(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}var We=/<.*?>/g;function Ve(n){var i,r,o,a=n.nTable,s=n.aoColumns,l=n.oScroll,c=l.sY,u=l.sX,d=l.sXInner,h=s.length,f=H(n,"bVisible"),p=e("th",n.nTHead),A=a.getAttribute("width"),g=a.parentNode,m=!1,v=n.oBrowser,y=v.bScrollOversize,b=a.style.width;for(b&&-1!==b.indexOf("%")&&(A=b),i=0;i<f.length;i++)null!==(r=s[f[i]]).sWidth&&(r.sWidth=ze(r.sWidthOrig,g),m=!0);if(y||!m&&!u&&!c&&h==U(n)&&h==p.length)for(i=0;i<h;i++){var w=O(n,i);null!==w&&(s[w].sWidth=qe(p.eq(i).width()))}else{var x=e(a).clone().css("visibility","hidden").removeAttr("id");x.find("tbody tr").remove();var C=e("<tr/>").appendTo(x.find("tbody"));for(x.find("thead, tfoot").remove(),x.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),x.find("tfoot th, tfoot td").css("width",""),p=de(n,x.find("thead")[0]),i=0;i<f.length;i++)r=s[f[i]],p[i].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?qe(r.sWidthOrig):"",r.sWidthOrig&&u&&e(p[i]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<f.length;i++)r=s[o=f[i]],e(Ke(n,o)).clone(!1).append(r.sContentPadding).appendTo(C);e("[name]",x).removeAttr("name");var _=e("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(x).appendTo(g);u&&d?x.width(d):u?(x.css("width","auto"),x.removeAttr("width"),x.width()<g.clientWidth&&A&&x.width(g.clientWidth)):c?x.width(g.clientWidth):A&&x.width(A);var k=0;for(i=0;i<f.length;i++){var S=e(p[i]),E=S.outerWidth()-S.width(),T=v.bBounding?Math.ceil(p[i].getBoundingClientRect().width):S.outerWidth();k+=T,s[f[i]].sWidth=qe(T-E)}a.style.width=qe(k),_.remove()}if(A&&(a.style.width=qe(A)),(A||u)&&!n._reszEvt){var B=function(){e(t).on("resize.DT-"+n.sInstance,je((function(){R(n)})))};y?setTimeout(B,1e3):B(),n._reszEvt=!0}}var je=l.util.throttle;function ze(t,i){if(!t)return 0;var r=e("<div/>").css("width",qe(t)).appendTo(i||n.body),o=r[0].offsetWidth;return r.remove(),o}function Ke(t,n){var i=Ge(t,n);if(i<0)return null;var r=t.aoData[i];return r.nTr?r.anCells[n]:e("<td/>").html(j(t,i,n,"display"))[0]}function Ge(e,t){for(var n,i=-1,r=-1,o=0,a=e.aoData.length;o<a;o++)(n=(n=(n=j(e,o,t,"display")+"").replace(We,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function qe(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ye(t){var n,r,o,a,s,c,u,d=[],h=t.aoColumns,f=t.aaSortingFixed,p=e.isPlainObject(f),A=[],g=function(t){t.length&&!e.isArray(t[0])?A.push(t):e.merge(A,t)};for(e.isArray(f)&&g(f),p&&f.pre&&g(f.pre),g(t.aaSorting),p&&f.post&&g(f.post),n=0;n<A.length;n++)for(r=0,o=(a=h[u=A[n][0]].aDataSort).length;r<o;r++)c=h[s=a[r]].sType||"string",A[n]._idx===i&&(A[n]._idx=e.inArray(A[n][1],h[s].asSorting)),d.push({src:u,col:s,dir:A[n][1],index:A[n]._idx,type:c,formatter:l.ext.type.order[c+"-pre"]});return d}function Xe(e){var t,n,i,r,o,a=[],s=l.ext.type.order,c=e.aoData,u=(e.aoColumns,0),d=e.aiDisplayMaster;for($(e),t=0,n=(o=Ye(e)).length;t<n;t++)(r=o[t]).formatter&&u++,nt(e,r.col);if("ssp"!=pt(e)&&0!==o.length){for(t=0,i=d.length;t<i;t++)a[d[t]]=t;u===o.length?d.sort((function(e,t){var n,i,r,s,l,u=o.length,d=c[e]._aSortData,h=c[t]._aSortData;for(r=0;r<u;r++)if(0!=(s=(n=d[(l=o[r]).col])<(i=h[l.col])?-1:n>i?1:0))return"asc"===l.dir?s:-s;return(n=a[e])<(i=a[t])?-1:n>i?1:0})):d.sort((function(e,t){var n,i,r,l,u,d=o.length,h=c[e]._aSortData,f=c[t]._aSortData;for(r=0;r<d;r++)if(n=h[(u=o[r]).col],i=f[u.col],0!==(l=(s[u.type+"-"+u.dir]||s["string-"+u.dir])(n,i)))return l;return(n=a[e])<(i=a[t])?-1:n>i?1:0}))}e.bSorted=!0}function Je(e){for(var t,n,i=e.aoColumns,r=Ye(e),o=e.oLanguage.oAria,a=0,s=i.length;a<s;a++){var l=i[a],c=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==a?(d.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=c[r[0].index+1]||c[0]):n=c[0],t=u+("asc"===n?o.sSortAscending:o.sSortDescending)):t=u,d.setAttribute("aria-label",t)}}function Ze(t,n,r,o){var a,s=t.aoColumns[n],l=t.aaSorting,c=s.asSorting,u=function(t,n){var r=t._idx;return r===i&&(r=e.inArray(t[1],c)),r+1<c.length?r+1:n?null:0};if("number"==typeof l[0]&&(l=t.aaSorting=[l]),r&&t.oFeatures.bSortMulti){var d=e.inArray(n,b(l,"0"));-1!==d?(null===(a=u(l[d],!0))&&1===l.length&&(a=0),null===a?l.splice(d,1):(l[d][1]=c[a],l[d]._idx=a)):(l.push([n,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(a=u(l[0]),l.length=1,l[0][1]=c[a],l[0]._idx=a):(l.length=0,l.push([n,c[0]]),l[0]._idx=0);le(t),"function"==typeof o&&o(t)}function et(e,t,n,i){var r=e.aoColumns[n];ct(t,{},(function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(Ue(e,!0),setTimeout((function(){Ze(e,n,t.shiftKey,i),"ssp"!==pt(e)&&Ue(e,!1)}),0)):Ze(e,n,t.shiftKey,i))}))}function tt(t){var n,i,r,o=t.aLastSort,a=t.oClasses.sSortColumn,s=Ye(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,i=o.length;n<i;n++)r=o[n].src,e(b(t.aoData,"anCells",r)).removeClass(a+(n<2?n+1:3));for(n=0,i=s.length;n<i;n++)r=s[n].src,e(b(t.aoData,"anCells",r)).addClass(a+(n<2?n+1:3))}t.aLastSort=s}function nt(e,t){var n,i,r,o=e.aoColumns[t],a=l.ext.order[o.sSortDataType];a&&(n=a.call(e.oInstance,e,t,N(e,t)));for(var s=l.ext.type.order[o.sType+"-pre"],c=0,u=e.aoData.length;c<u;c++)(i=e.aoData[c])._aSortData||(i._aSortData=[]),i._aSortData[t]&&!a||(r=a?n[c]:j(e,c,t,"sort"),i._aSortData[t]=s?s(r):r)}function it(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Ee(t.oPreviousSearch),columns:e.map(t.aoColumns,(function(e,n){return{visible:e.bVisible,search:Ee(t.aoPreSearchCols[n])}}))};dt(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function rt(t,n,r){var o,a,s=t.aoColumns,l=function(n){if(n&&n.time){var l=dt(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,l)){var c=t.iStateDuration;if(c>0&&n.time<+new Date-1e3*c)r();else if(n.columns&&s.length!==n.columns.length)r();else{if(t.oLoadedState=e.extend(!0,{},n),n.start!==i&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==i&&(t._iDisplayLength=n.length),n.order!==i&&(t.aaSorting=[],e.each(n.order,(function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)}))),n.search!==i&&e.extend(t.oPreviousSearch,Te(n.search)),n.columns)for(o=0,a=n.columns.length;o<a;o++){var u=n.columns[o];u.visible!==i&&(s[o].bVisible=u.visible),u.search!==i&&e.extend(t.aoPreSearchCols[o],Te(u.search))}dt(t,"aoStateLoaded","stateLoaded",[t,n]),r()}}else r()}else r()};if(t.oFeatures.bStateSave){var c=t.fnStateLoadCallback.call(t.oInstance,t,l);c!==i&&l(c)}else r()}function ot(t){var n=l.settings,i=e.inArray(t,b(n,"nTable"));return-1!==i?n[i]:null}function at(e,n,i,r){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(i);else{var o=l.ext,a=o.sErrMode||o.errMode;if(e&&dt(e,null,"error",[e,r,i]),"alert"==a)alert(i);else{if("throw"==a)throw new Error(i);"function"==typeof a&&a(e,r,i)}}}function st(t,n,r,o){e.isArray(r)?e.each(r,(function(i,r){e.isArray(r)?st(t,n,r[0],r[1]):st(t,n,r)})):(o===i&&(o=r),n[r]!==i&&(t[o]=n[r]))}function lt(t,n,i){var r;for(var o in n)n.hasOwnProperty(o)&&(r=n[o],e.isPlainObject(r)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],r)):i&&"data"!==o&&"aaData"!==o&&e.isArray(r)?t[o]=r.slice():t[o]=r);return t}function ct(t,n,i){e(t).on("click.DT",n,(function(e){t.blur(),i(e)})).on("keypress.DT",n,(function(e){13===e.which&&(e.preventDefault(),i(e))})).on("selectstart.DT",(function(){return!1}))}function ut(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function dt(t,n,i,r){var o=[];if(n&&(o=e.map(t[n].slice().reverse(),(function(e,n){return e.fn.apply(t.oInstance,r)}))),null!==i){var a=e.Event(i+".dt");e(t.nTable).trigger(a,r),o.push(a.result)}return o}function ht(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||t<0)&&(t=0),e._iDisplayStart=t}function ft(t,n){var i=t.renderer,r=l.ext.renderer[n];return e.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i&&r[i]||r._}function pt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}var At=[],gt=Array.prototype;o=function(t,n){if(!(this instanceof o))return new o(t,n);var i=[],r=function(t){var n=function(t){var n,i,r=l.settings,o=e.map(r,(function(e,t){return e.nTable}));return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=e.inArray(t,o))?[r[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=e(t):t instanceof e&&(i=t),i?i.map((function(t){return-1!==(n=e.inArray(this,o))?r[n]:null})).toArray():void 0):[]}(t);n&&(i=i.concat(n))};if(e.isArray(t))for(var a=0,s=t.length;a<s;a++)r(t[a]);else r(t);this.context=k(i),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},o.extend(this,this,At)},l.Api=o,e.extend(o.prototype,{any:function(){return 0!==this.count()},concat:gt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new o(t[e],this[e]):null},filter:function(e){var t=[];if(gt.filter)t=gt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new o(this.context,t)},flatten:function(){var e=[];return new o(this.context,e.concat.apply(e,this.toArray()))},join:gt.join,indexOf:gt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var a,s,l,c,u,d,h,f,p=[],A=this.context,g=this.selector;for("string"==typeof e&&(r=n,n=t,t=e,e=!1),s=0,l=A.length;s<l;s++){var m=new o(A[s]);if("table"===t)(a=n.call(m,A[s],s))!==i&&p.push(a);else if("columns"===t||"rows"===t)(a=n.call(m,A[s],this[s],s))!==i&&p.push(a);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(h=this[s],"column-rows"===t&&(d=wt(A[s],g.opts)),c=0,u=h.length;c<u;c++)f=h[c],(a="cell"===t?n.call(m,A[s],f.row,f.column,s,c):n.call(m,A[s],f,s,c,d))!==i&&p.push(a)}if(p.length||r){var v=new o(A,e?p.concat.apply([],p):p),y=v.selector;return y.rows=g.rows,y.cols=g.cols,y.opts=g.opts,v}return this},lastIndexOf:gt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(gt.map)t=gt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new o(this.context,t)},pluck:function(e){return this.map((function(t){return t[e]}))},pop:gt.pop,push:gt.push,reduce:gt.reduce||function(e,t){return M(this,e,t,0,this.length,1)},reduceRight:gt.reduceRight||function(e,t){return M(this,e,t,this.length-1,-1,-1)},reverse:gt.reverse,selector:null,shift:gt.shift,slice:function(){return new o(this.context,this)},sort:gt.sort,splice:gt.splice,toArray:function(){return gt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new o(this.context,k(this))},unshift:gt.unshift}),o.extend=function(t,n,i){if(i.length&&n&&(n instanceof o||n.__dt_wrapper)){var r,a,s,l=function(e,t,n){return function(){var i=t.apply(e,arguments);return o.extend(i,i,n.methodExt),i}};for(r=0,a=i.length;r<a;r++)n[(s=i[r]).name]="function"==typeof s.val?l(t,s.val,s):e.isPlainObject(s.val)?{}:s.val,n[s.name].__dt_wrapper=!0,o.extend(t,n[s.name],s.propExt)}},o.register=a=function(t,n){if(e.isArray(t))for(var i=0,r=t.length;i<r;i++)o.register(t[i],n);else{var a,s,l,c,u=t.split("."),d=At,h=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].name===t)return e[n];return null};for(a=0,s=u.length;a<s;a++){var f=h(d,l=(c=-1!==u[a].indexOf("()"))?u[a].replace("()",""):u[a]);f||(f={name:l,val:{},methodExt:[],propExt:[]},d.push(f)),a===s-1?f.val=n:d=c?f.methodExt:f.propExt}}},o.registerPlural=s=function(t,n,r){o.register(t,r),o.register(n,(function(){var t=r.apply(this,arguments);return t===this?this:t instanceof o?t.length?e.isArray(t[0])?new o(t.context,t[0]):t[0]:i:t}))};a("tables()",(function(t){return t?new o(function(t,n){if("number"==typeof t)return[n[t]];var i=e.map(n,(function(e,t){return e.nTable}));return e(i).filter(t).map((function(t){var r=e.inArray(this,i);return n[r]})).toArray()}(t,this.context)):this})),a("table()",(function(e){var t=this.tables(e),n=t.context;return n.length?new o(n[0]):t})),s("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(e){return e.nTable}),1)})),s("tables().body()","table().body()",(function(){return this.iterator("table",(function(e){return e.nTBody}),1)})),s("tables().header()","table().header()",(function(){return this.iterator("table",(function(e){return e.nTHead}),1)})),s("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(e){return e.nTFoot}),1)})),s("tables().containers()","table().container()",(function(){return this.iterator("table",(function(e){return e.nTableWrapper}),1)})),a("draw()",(function(e){return this.iterator("table",(function(t){"page"===e?se(t):("string"==typeof e&&(e="full-hold"!==e),le(t,!1===e))}))})),a("page()",(function(e){return e===i?this.page.info().page:this.iterator("table",(function(t){Oe(t,e)}))})),a("page.info()",(function(e){if(0===this.context.length)return i;var t=this.context[0],n=t._iDisplayStart,r=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),a=-1===r;return{page:a?0:Math.floor(n/r),pages:a?1:Math.ceil(o/r),start:n,end:t.fnDisplayEnd(),length:r,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===pt(t)}})),a("page.len()",(function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",(function(t){Le(t,e)}))}));var mt=function(e,t,n){if(n){var i=new o(e);i.one("draw",(function(){n(i.ajax.json())}))}if("ssp"==pt(e))le(e,t);else{Ue(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),he(e,[],(function(n){Z(e);for(var i=ge(e,n),r=0,o=i.length;r<o;r++)W(e,i[r]);le(e,t),Ue(e,!1)}))}};a("ajax.json()",(function(){var e=this.context;if(e.length>0)return e[0].json})),a("ajax.params()",(function(){var e=this.context;if(e.length>0)return e[0].oAjaxData})),a("ajax.reload()",(function(e,t){return this.iterator("table",(function(n){mt(n,!1===t,e)}))})),a("ajax.url()",(function(t){var n=this.context;return t===i?0===n.length?i:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",(function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t}))})),a("ajax.url().load()",(function(e,t){return this.iterator("table",(function(n){mt(n,!1===t,e)}))}));var vt=function(t,n,o,a,s){var l,c,u,d,h,f,p=[],A=typeof n;for(n&&"string"!==A&&"function"!==A&&n.length!==i||(n=[n]),u=0,d=n.length;u<d;u++)for(h=0,f=(c=n[u]&&n[u].split&&!n[u].match(/[\[\(:]/)?n[u].split(","):[n[u]]).length;h<f;h++)(l=o("string"==typeof c[h]?e.trim(c[h]):c[h]))&&l.length&&(p=p.concat(l));var g=r.selector[t];if(g.length)for(u=0,d=g.length;u<d;u++)p=g[u](a,s,p);return k(p)},yt=function(t){return t||(t={}),t.filter&&t.search===i&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},bt=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},wt=function(t,n){var i,r,o,a=[],s=t.aiDisplay,l=t.aiDisplayMaster,c=n.search,u=n.order,d=n.page;if("ssp"==pt(t))return"removed"===c?[]:x(0,l.length);if("current"==d)for(i=t._iDisplayStart,r=t.fnDisplayEnd();i<r;i++)a.push(s[i]);else if("current"==u||"applied"==u)a="none"==c?l.slice():"applied"==c?s.slice():e.map(l,(function(t,n){return-1===e.inArray(t,s)?t:null}));else if("index"==u||"original"==u)for(i=0,r=t.aoData.length;i<r;i++)("none"==c||-1===(o=e.inArray(i,s))&&"removed"==c||o>=0&&"applied"==c)&&a.push(i);return a};a("rows()",(function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t=""),n=yt(n);var r=this.iterator("table",(function(r){return function(t,n,r){var o;return vt("row",n,(function(n){var a=g(n);if(null!==a&&!r)return[a];if(o||(o=wt(t,r)),null!==a&&-1!==e.inArray(a,o))return[a];if(null===n||n===i||""===n)return o;if("function"==typeof n)return e.map(o,(function(e){var i=t.aoData[e];return n(e,i._aData,i.nTr)?e:null}));var s=C(w(t.aoData,o,"nTr"));if(n.nodeName){if(n._DT_RowIndex!==i)return[n._DT_RowIndex];if(n._DT_CellIndex)return[n._DT_CellIndex.row];var l=e(n).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var c=t.aIds[n.replace(/^#/,"")];if(c!==i)return[c.idx]}return e(s).filter(n).map((function(){return this._DT_RowIndex})).toArray()}),t,r)}(r,t,n)}),1);return r.selector.rows=t,r.selector.opts=n,r})),a("rows().nodes()",(function(){return this.iterator("row",(function(e,t){return e.aoData[t].nTr||i}),1)})),a("rows().data()",(function(){return this.iterator(!0,"rows",(function(e,t){return w(e.aoData,t,"_aData")}),1)})),s("rows().cache()","row().cache()",(function(e){return this.iterator("row",(function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData}),1)})),s("rows().invalidate()","row().invalidate()",(function(e){return this.iterator("row",(function(t,n){te(t,n,e)}))})),s("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(e,t){return t}),1)})),s("rows().ids()","row().id()",(function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var a=0,s=this[i].length;a<s;a++){var l=n[i].rowIdFn(n[i].aoData[this[i][a]]._aData);t.push((!0===e?"#":"")+l)}return new o(n,t)})),s("rows().remove()","row().remove()",(function(){var e=this;return this.iterator("row",(function(t,n,r){var o,a,s,l,c,u,d=t.aoData,h=d[n];for(d.splice(n,1),o=0,a=d.length;o<a;o++)if(u=(c=d[o]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=o),null!==u)for(s=0,l=u.length;s<l;s++)u[s]._DT_CellIndex.row=o;ee(t.aiDisplayMaster,n),ee(t.aiDisplay,n),ee(e[r],n,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,ht(t);var f=t.rowIdFn(h._aData);f!==i&&delete t.aIds[f]})),this.iterator("table",(function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t})),this})),a("rows.add()",(function(t){var n=this.iterator("table",(function(e){var n,i,r,o=[];for(i=0,r=t.length;i<r;i++)(n=t[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(V(e,n)[0]):o.push(W(e,n));return o}),1),i=this.rows(-1);return i.pop(),e.merge(i,n),i})),a("row()",(function(e,t){return bt(this.rows(e,t))})),a("row().data()",(function(e){var t=this.context;return e===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=e,te(t[0],this[0],"data"),this)})),a("row().node()",(function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null})),a("row.add()",(function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",(function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?V(e,t)[0]:W(e,t)}));return this.row(n[0])}));var xt=function(e,t){var n=e.context;if(n.length){var r=n[0].aoData[t!==i?t:e[0]];r&&r._details&&(r._details.remove(),r._detailsShow=i,r._details=i)}},Ct=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];i._details&&(i._detailsShow=t,t?i._details.insertAfter(i.nTr):i._details.detach(),_t(n[0]))}},_t=function(e){var t=new o(e),n=".dt.DT_details",i="draw"+n,r="column-visibility"+n,a="destroy"+n,s=e.aoData;t.off(i+" "+r+" "+a),b(s,"_details").length>0&&(t.on(i,(function(n,i){e===i&&t.rows({page:"current"}).eq(0).each((function(e){var t=s[e];t._detailsShow&&t._details.insertAfter(t.nTr)}))})),t.on(r,(function(t,n,i,r){if(e===n)for(var o,a=U(n),l=0,c=s.length;l<c;l++)(o=s[l])._details&&o._details.children("td[colspan]").attr("colspan",a)})),t.on(a,(function(n,i){if(e===i)for(var r=0,o=s.length;r<o;r++)s[r]._details&&xt(t,r)})))},kt="row().child",St=kt+"()";a(St,(function(t,n){var r=this.context;return t===i?r.length&&this.length?r[0].aoData[this[0]]._details:i:(!0===t?this.child.show():!1===t?xt(this):r.length&&this.length&&function(t,n,i,r){var o=[],a=function(n,i){if(e.isArray(n)||n instanceof e)for(var r=0,s=n.length;r<s;r++)a(n[r],i);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var l=e("<tr><td/></tr>").addClass(i);e("td",l).addClass(i).html(n)[0].colSpan=U(t),o.push(l[0])}};a(i,r),n._details&&n._details.detach(),n._details=e(o),n._detailsShow&&n._details.insertAfter(n.nTr)}(r[0],r[0].aoData[this[0]],t,n),this)})),a([kt+".show()",St+".show()"],(function(e){return Ct(this,!0),this})),a([kt+".hide()",St+".hide()"],(function(){return Ct(this,!1),this})),a([kt+".remove()",St+".remove()"],(function(){return xt(this),this})),a(kt+".isShown()",(function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1}));var Et=/^([^:]+):(name|visIdx|visible)$/,Tt=function(e,t,n,i,r){for(var o=[],a=0,s=r.length;a<s;a++)o.push(j(e,r[a],t));return o};a("columns()",(function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t=""),n=yt(n);var r=this.iterator("table",(function(i){return function(t,n,i){var r=t.aoColumns,o=b(r,"sName"),a=b(r,"nTh");return vt("column",n,(function(n){var s=g(n);if(""===n)return x(r.length);if(null!==s)return[s>=0?s:r.length+s];if("function"==typeof n){var l=wt(t,i);return e.map(r,(function(e,i){return n(i,Tt(t,i,0,0,l),a[i])?i:null}))}var c="string"==typeof n?n.match(Et):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var d=e.map(r,(function(e,t){return e.bVisible?t:null}));return[d[d.length+u]]}return[O(t,u)];case"name":return e.map(o,(function(e,t){return e===c[1]?t:null}));default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var h=e(a).filter(n).map((function(){return e.inArray(this,a)})).toArray();if(h.length||!n.nodeName)return h;var f=e(n).closest("*[data-dt-column]");return f.length?[f.data("dt-column")]:[]}),t,i)}(i,t,n)}),1);return r.selector.cols=t,r.selector.opts=n,r})),s("columns().header()","column().header()",(function(e,t){return this.iterator("column",(function(e,t){return e.aoColumns[t].nTh}),1)})),s("columns().footer()","column().footer()",(function(e,t){return this.iterator("column",(function(e,t){return e.aoColumns[t].nTf}),1)})),s("columns().data()","column().data()",(function(){return this.iterator("column-rows",Tt,1)})),s("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(e,t){return e.aoColumns[t].mData}),1)})),s("columns().cache()","column().cache()",(function(e){return this.iterator("column-rows",(function(t,n,i,r,o){return w(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)}),1)})),s("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(e,t,n,i,r){return w(e.aoData,r,"anCells",t)}),1)})),s("columns().visible()","column().visible()",(function(t,n){var r=this.iterator("column",(function(n,r){if(t===i)return n.aoColumns[r].bVisible;!function(t,n,r){var o,a,s,l,c=t.aoColumns,u=c[n],d=t.aoData;if(r===i)return u.bVisible;if(u.bVisible!==r){if(r){var h=e.inArray(!0,b(c,"bVisible"),n+1);for(a=0,s=d.length;a<s;a++)l=d[a].nTr,o=d[a].anCells,l&&l.insertBefore(o[n],o[h]||null)}else e(b(t.aoData,"anCells",n)).detach();u.bVisible=r,ae(t,t.aoHeader),ae(t,t.aoFooter),it(t)}}(n,r,t)}));return t!==i&&(this.iterator("column",(function(e,i){dt(e,null,"column-visibility",[e,i,t,n])})),(n===i||n)&&this.columns.adjust()),r})),s("columns().indexes()","column().index()",(function(e){return this.iterator("column",(function(t,n){return"visible"===e?N(t,n):n}),1)})),a("columns.adjust()",(function(){return this.iterator("table",(function(e){R(e)}),1)})),a("column.index()",(function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return O(n,t);if("fromData"===e||"toVisible"===e)return N(n,t)}})),a("column()",(function(e,t){return bt(this.columns(e,t))}));a("cells()",(function(t,n,r){if(e.isPlainObject(t)&&(t.row===i?(r=t,t=null):(r=n,n=null)),e.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",(function(n){return function(t,n,r){var o,a,s,l,c,u,d,h=t.aoData,f=wt(t,r),p=C(w(h,f,"anCells")),A=e([].concat.apply([],p)),g=t.aoColumns.length;return vt("cell",n,(function(n){var r="function"==typeof n;if(null===n||n===i||r){for(a=[],s=0,l=f.length;s<l;s++)for(o=f[s],c=0;c<g;c++)u={row:o,column:c},r?(d=h[o],n(u,j(t,o,c),d.anCells?d.anCells[c]:null)&&a.push(u)):a.push(u);return a}if(e.isPlainObject(n))return[n];var p=A.filter(n).map((function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}})).toArray();return p.length||!n.nodeName?p:(d=e(n).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]}),t,r)}(n,t,yt(r))}));var o,a,s,l,c,u=this.columns(n,r),d=this.rows(t,r),h=this.iterator("table",(function(e,t){for(o=[],a=0,s=d[t].length;a<s;a++)for(l=0,c=u[t].length;l<c;l++)o.push({row:d[t][a],column:u[t][l]});return o}),1);return e.extend(h.selector,{cols:n,rows:t,opts:r}),h})),s("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(e,t,n){var r=e.aoData[t];return r&&r.anCells?r.anCells[n]:i}),1)})),a("cells().data()",(function(){return this.iterator("cell",(function(e,t,n){return j(e,t,n)}),1)})),s("cells().cache()","cell().cache()",(function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",(function(t,n,i){return t.aoData[n][e][i]}),1)})),s("cells().render()","cell().render()",(function(e){return this.iterator("cell",(function(t,n,i){return j(t,n,i,e)}),1)})),s("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(e,t,n){return{row:t,column:n,columnVisible:N(e,n)}}),1)})),s("cells().invalidate()","cell().invalidate()",(function(e){return this.iterator("cell",(function(t,n,i){te(t,n,e,i)}))})),a("cell()",(function(e,t,n){return bt(this.cells(e,t,n))})),a("cell().data()",(function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?j(t[0],n[0].row,n[0].column):i:(z(t[0],n[0].row,n[0].column,e),te(t[0],n[0].row,"data",n[0].column),this)})),a("order()",(function(t,n){var r=this.context;return t===i?0!==r.length?r[0].aaSorting:i:("number"==typeof t?t=[[t,n]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",(function(e){e.aaSorting=t.slice()})))})),a("order.listener()",(function(e,t,n){return this.iterator("table",(function(i){et(i,e,t,n)}))})),a("order.fixed()",(function(t){if(!t){var n=this.context,r=n.length?n[0].aaSortingFixed:i;return e.isArray(r)?{pre:r}:r}return this.iterator("table",(function(n){n.aaSortingFixed=e.extend(!0,{},t)}))})),a(["columns().order()","column().order()"],(function(t){var n=this;return this.iterator("table",(function(i,r){var o=[];e.each(n[r],(function(e,n){o.push([n,t])})),i.aaSorting=o}))})),a("search()",(function(t,n,r,o){var a=this.context;return t===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",(function(i){i.oFeatures.bFilter&&ve(i,e.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)}))})),s("columns().search()","column().search()",(function(t,n,r,o){return this.iterator("column",(function(a,s){var l=a.aoPreSearchCols;if(t===i)return l[s].sSearch;a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),ve(a,a.oPreviousSearch,1))}))})),a("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),a("state.clear()",(function(){return this.iterator("table",(function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})}))})),a("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),a("state.save()",(function(){return this.iterator("table",(function(e){it(e)}))})),l.versionCheck=l.fnVersionCheck=function(e){for(var t,n,i=l.version.split("."),r=e.split("."),o=0,a=r.length;o<a;o++)if((t=parseInt(i[o],10)||0)!==(n=parseInt(r[o],10)||0))return t>n;return!0},l.isDataTable=l.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;return t instanceof l.Api||(e.each(l.settings,(function(t,r){var o=r.nScrollHead?e("table",r.nScrollHead)[0]:null,a=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&a!==n||(i=!0)})),i)},l.tables=l.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var i=e.map(l.settings,(function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable}));return n?new o(i):i},l.camelToHungarian=E,a("$()",(function(t,n){var i=this.rows(n).nodes(),r=e(i);return e([].concat(r.filter(t).toArray(),r.find(t).toArray()))})),e.each(["on","one","off"],(function(t,n){a(n+"()",(function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),(function(e){return e.match(/\.dt\b/)?e:e+".dt"})).join(" ");var i=e(this.tables().nodes());return i[n].apply(i,t),this}))})),a("clear()",(function(){return this.iterator("table",(function(e){Z(e)}))})),a("settings()",(function(){return new o(this.context,this.context)})),a("init()",(function(){var e=this.context;return e.length?e[0].oInit:null})),a("data()",(function(){return this.iterator("table",(function(e){return b(e.aoData,"_aData")})).flatten()})),a("destroy()",(function(n){return n=n||!1,this.iterator("table",(function(i){var r,a=i.nTableWrapper.parentNode,s=i.oClasses,c=i.nTable,u=i.nTBody,d=i.nTHead,h=i.nTFoot,f=e(c),p=e(u),A=e(i.nTableWrapper),g=e.map(i.aoData,(function(e){return e.nTr}));i.bDestroying=!0,dt(i,"aoDestroyCallback","destroy",[i]),n||new o(i).columns().visible(!0),A.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+i.sInstance),c!=d.parentNode&&(f.children("thead").detach(),f.append(d)),h&&c!=h.parentNode&&(f.children("tfoot").detach(),f.append(h)),i.aaSorting=[],i.aaSortingFixed=[],tt(i),e(g).removeClass(i.asStripeClasses.join(" ")),e("th, td",d).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),p.children().detach(),p.append(g);var m=n?"remove":"detach";f[m](),A[m](),!n&&a&&(a.insertBefore(c,i.nTableReinsertBefore),f.css("width",i.sDestroyWidth).removeClass(s.sTable),(r=i.asDestroyStripes.length)&&p.children().each((function(t){e(this).addClass(i.asDestroyStripes[t%r])})));var v=e.inArray(i,l.settings);-1!==v&&l.settings.splice(v,1)}))})),e.each(["column","row","cell"],(function(e,t){a(t+"s().every()",(function(e){var n=this.selector.opts,r=this;return this.iterator(t,(function(o,a,s,l,c){e.call(r[t](a,"cell"===t?s:n,"cell"===t?n:i),a,s,l,c)}))}))})),a("i18n()",(function(t,n,r){var o=this.context[0],a=Y(t)(o.oLanguage);return a===i&&(a=n),r!==i&&e.isPlainObject(a)&&(a=a[r]!==i?a[r]:a._),a.replace("%d",r)})),l.version="1.10.16",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},S(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},S(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==pt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==pt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!o||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=r={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},e.extend(r,{afnFiltering:r.search,aTypes:r.type.detect,ofnSearch:r.type.search,oSort:r.type.order,afnSortData:r.order,aoFeatures:r.feature,oApi:r.internal,oStdClasses:r.classes,oPagination:r.pager}),e.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Bt=l.ext.pager;function It(e,t){var n=[],i=Bt.numbers_length,r=Math.floor(i/2);return t<=i?n=x(0,t):e<=r?((n=x(0,i-2)).push("ellipsis"),n.push(t-1)):e>=t-1-r?((n=x(t-(i-2),t)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=x(e-r+2,e+r-1)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}e.extend(Bt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[It(e,t)]},simple_numbers:function(e,t){return["previous",It(e,t),"next"]},full_numbers:function(e,t){return["first","previous",It(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",It(e,t),"last"]},_numbers:It,numbers_length:7}),e.extend(!0,l.ext.renderer,{pageButton:{_:function(t,r,o,a,s,l){var c,u,d,h=t.oClasses,f=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},A=0,g=function(n,i){var r,a,d,m=function(e){Oe(t,e.data.action,!0)};for(r=0,a=i.length;r<a;r++)if(d=i[r],e.isArray(d)){var v=e("<"+(d.DT_el||"div")+"/>").appendTo(n);g(v,d)}else{switch(c=null,u="",d){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=f.sFirst,u=d+(s>0?"":" "+h.sPageButtonDisabled);break;case"previous":c=f.sPrevious,u=d+(s>0?"":" "+h.sPageButtonDisabled);break;case"next":c=f.sNext,u=d+(s<l-1?"":" "+h.sPageButtonDisabled);break;case"last":c=f.sLast,u=d+(s<l-1?"":" "+h.sPageButtonDisabled);break;default:c=d+1,u=s===d?h.sPageButtonActive:""}null!==c&&(ct(e("<a>",{class:h.sPageButton+" "+u,"aria-controls":t.sTableId,"aria-label":p[d],"data-dt-idx":A,tabindex:t.iTabIndex,id:0===o&&"string"==typeof d?t.sTableId+"_"+d:null}).html(c).appendTo(n),{action:d},m),A++)}};try{d=e(r).find(n.activeElement).data("dt-idx")}catch(e){}g(e(r).empty(),a),d!==i&&e(r).find("[data-dt-idx="+d+"]").focus()}}}),e.extend(l.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return v(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!h.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||A(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return v(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return A(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(l.ext.type.search,{html:function(e){return A(e)?e:"string"==typeof e?e.replace(u," ").replace(d,""):""},string:function(e){return A(e)?e:"string"==typeof e?e.replace(u," "):e}});var Dt=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=m(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};function Ft(t){e.each({num:function(e){return Dt(e,t)},"num-fmt":function(e){return Dt(e,t,p)},"html-num":function(e){return Dt(e,t,d)},"html-num-fmt":function(e){return Dt(e,t,d,p)}},(function(e,n){r.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(r.type.search[e+t]=r.type.search.html)}))}e.extend(r.type.order,{"date-pre":function(e){return Date.parse(e)||-1/0},"html-pre":function(e){return A(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return A(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Ft(""),e.extend(!0,l.ext.renderer,{header:{_:function(t,n,i,r){e(t.nTable).on("order.dt.DT",(function(e,o,a,s){if(t===o){var l=i.idx;n.removeClass(i.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:i.sSortingClass)}}))},jqueryui:function(t,n,i,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",(function(e,o,a,s){if(t===o){var l=i.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[l]?r.sSortJUIAsc:"desc"==s[l]?r.sSortJUIDesc:i.sSortingClassJUI)}}))}}});var Mt=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};function Lt(e){return function(){var t=[ot(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[e].apply(this,t)}}return l.render={number:function(e,t,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=o<0?"-":"",s=parseFloat(o);if(isNaN(s))return Mt(o);s=s.toFixed(n),o=Math.abs(s);var l=parseInt(o,10),c=n?t+(o-l).toFixed(n).substring(2):"";return a+(i||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+c+(r||"")}}},text:function(){return{display:Mt}}},e.extend(l.ext.internal,{_fnExternApiFunc:Lt,_fnBuildAjax:he,_fnAjaxUpdate:fe,_fnAjaxParameters:pe,_fnAjaxUpdateDraw:Ae,_fnAjaxDataSrc:ge,_fnAddColumn:L,_fnColumnOptions:P,_fnAdjustColumnSizing:R,_fnVisibleToColumnIndex:O,_fnColumnIndexToVisible:N,_fnVisbleColumns:U,_fnGetColumns:H,_fnColumnTypes:$,_fnApplyColumnDefs:Q,_fnHungarianMap:S,_fnCamelToHungarian:E,_fnLanguageCompat:T,_fnBrowserDetect:F,_fnAddData:W,_fnAddTr:V,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,i){return e.inArray(i,t.aoData[n].anCells)},_fnGetCellData:j,_fnSetCellData:z,_fnSplitObjNotation:q,_fnGetObjectDataFn:Y,_fnSetObjectDataFn:X,_fnGetDataMaster:J,_fnClearTable:Z,_fnDeleteIndex:ee,_fnInvalidate:te,_fnGetRowElements:ne,_fnCreateTr:ie,_fnBuildHead:oe,_fnDrawHead:ae,_fnDraw:se,_fnReDraw:le,_fnAddOptionsHtml:ce,_fnDetectHeader:ue,_fnGetUniqueThs:de,_fnFeatureHtmlFilter:me,_fnFilterComplete:ve,_fnFilterCustom:ye,_fnFilterColumn:be,_fnFilter:we,_fnFilterCreateSearch:xe,_fnEscapeRegex:Ce,_fnFilterData:Se,_fnFeatureHtmlInfo:Be,_fnUpdateInfo:Ie,_fnInfoMacros:De,_fnInitialise:Fe,_fnInitComplete:Me,_fnLengthChange:Le,_fnFeatureHtmlLength:Pe,_fnFeatureHtmlPaginate:Re,_fnPageChange:Oe,_fnFeatureHtmlProcessing:Ne,_fnProcessingDisplay:Ue,_fnFeatureHtmlTable:He,_fnScrollDraw:$e,_fnApplyToChildren:Qe,_fnCalculateColumnWidths:Ve,_fnThrottle:je,_fnConvertToWidth:ze,_fnGetWidestNode:Ke,_fnGetMaxLenString:Ge,_fnStringToCss:qe,_fnSortFlatten:Ye,_fnSort:Xe,_fnSortAria:Je,_fnSortListener:Ze,_fnSortAttachListener:et,_fnSortingClasses:tt,_fnSortData:nt,_fnSaveState:it,_fnLoadState:rt,_fnSettingsFromNode:ot,_fnLog:at,_fnMap:st,_fnBindAction:ct,_fnCallbackReg:ut,_fnCallbackFire:dt,_fnLengthOverflow:ht,_fnRenderer:ft,_fnDataSource:pt,_fnRowAttributes:re,_fnCalculateEnd:function(){}}),e.fn.dataTable=l,l.$=e,e.fn.dataTableSettings=l.settings,e.fn.dataTableExt=l.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(l,(function(t,n){e.fn.DataTable[t]=n})),e.fn.dataTable}(e,window,document)}.apply(t,i),void 0===r||(e.exports=r)}()},86016:function(e){"use strict";e.exports=function(e,t){if(t||(t={}),!e)return"";var n=(/[^.\/\\]*$/.exec(e)||[""])[0];return t.preserveCase?n:n.toLowerCase()}},34897:function(e,t,n){var i=n(37549);e.exports=function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},e.apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],r={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},o={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},a=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},s=function(e){return!0===e?1:0};function l(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(i,r)}),t)}}var c=function(e){return e instanceof Array?e:[e]};function u(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function d(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function h(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function f(e,t){return t(e)?e:e.parentNode?f(e.parentNode,t):void 0}function p(e,t){var n=d("div","numInputWrapper"),i=d("input","numInput "+e),r=d("span","arrowUp"),o=d("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var a in t)i.setAttribute(a,t[a]);return n.appendChild(i),n.appendChild(r),n.appendChild(o),n}function A(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var g=function(){},m=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},v={D:g,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*s(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:g,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:g,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},y={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},b={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[b.w(e,t,n)]},F:function(e,t,n){return m(b.n(e,t,n)-1,!1,t)},G:function(e,t,n){return a(b.h(e,t,n))},H:function(e){return a(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[s(e.getHours()>11)]},M:function(e,t){return m(e.getMonth(),!0,t)},S:function(e){return a(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return a(e.getFullYear(),4)},d:function(e){return a(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return a(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return a(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},w=function(e){var t=e.config,n=void 0===t?r:t,i=e.l10n,a=void 0===i?o:i,s=e.isMobile,l=void 0!==s&&s;return function(e,t,i){var r=i||a;return void 0===n.formatDate||l?t.split("").map((function(t,i,o){return b[t]&&"\\"!==o[i-1]?b[t](e,r,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,r)}},x=function(e){var t=e.config,n=void 0===t?r:t,i=e.l10n,a=void 0===i?o:i;return function(e,t,i,o){if(0===e||e){var s,l=o||a,c=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var u=t||(n||r).dateFormat,d=String(e).trim();if("today"===d)s=new Date,i=!0;else if(n&&n.parseDate)s=n.parseDate(e,u);else if(/Z$/.test(d)||/GMT$/.test(d))s=new Date(e);else{for(var h=void 0,f=[],p=0,A=0,g="";p<u.length;p++){var m=u[p],b="\\"===m,w="\\"===u[p-1]||b;if(y[m]&&!w){g+=y[m];var x=new RegExp(g).exec(e);x&&(h=!0)&&f["Y"!==m?"push":"unshift"]({fn:v[m],val:x[++A]})}else b||(g+=".")}s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f.forEach((function(e){var t=e.fn,n=e.val;return s=t(s,n,l)||s})),s=h?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===i&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+c))}}};function C(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var _=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},k=function(e,t,n){return 3600*e+60*t+n},S=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]},E={DAY:864e5};function T(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var r=e.minDate.getHours(),o=e.minDate.getMinutes(),a=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<o&&(n=o),t===r&&n===o&&i<a&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(l,n)),t===s&&n===l&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0,o=t;r<o.length;r++)i(o[r]);return e});var B=300;function I(i,g){var v={config:e(e({},r),F.defaultConfig),l10n:o};function b(){var e;return(null===(e=v.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function I(e){return e.bind(v)}function D(){var e=v.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==v.calendarContainer&&(v.calendarContainer.style.visibility="hidden",v.calendarContainer.style.display="block"),void 0!==v.daysContainer){var t=(v.days.offsetWidth+1)*e.showMonths;v.daysContainer.style.width=t+"px",v.calendarContainer.style.width=t+(void 0!==v.weekWrapper?v.weekWrapper.offsetWidth:0)+"px",v.calendarContainer.style.removeProperty("visibility"),v.calendarContainer.style.removeProperty("display")}}))}function M(e){if(0===v.selectedDates.length){var t=void 0===v.config.minDate||C(new Date,v.config.minDate)>=0?new Date:new Date(v.config.minDate.getTime()),n=T(v.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),v.selectedDates=[t],v.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=A(e),i=n;void 0!==v.amPM&&n===v.amPM&&(v.amPM.textContent=v.l10n.amPM[s(v.amPM.textContent===v.l10n.amPM[0])]);var r=parseFloat(i.getAttribute("min")),o=parseFloat(i.getAttribute("max")),l=parseFloat(i.getAttribute("step")),c=parseInt(i.value,10),u=c+l*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==i.value&&2===i.value.length){var d=i===v.hourElement,h=i===v.minuteElement;u<r?(u=o+u+s(!d)+(s(d)&&s(!v.amPM)),h&&Q(void 0,-1,v.hourElement)):u>o&&(u=i===v.hourElement?u-o-s(!v.amPM):r,h&&Q(void 0,1,v.hourElement)),v.amPM&&d&&(1===l?u+c===23:Math.abs(u-c)>l)&&(v.amPM.textContent=v.l10n.amPM[s(v.amPM.textContent===v.l10n.amPM[0])]),i.value=a(u)}}(e);var i=v._input.value;L(),Se(),v._input.value!==i&&v._debouncedChange()}function L(){if(void 0!==v.hourElement&&void 0!==v.minuteElement){var e=(parseInt(v.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(v.minuteElement.value,10)||0)%60,n=void 0!==v.secondElement?(parseInt(v.secondElement.value,10)||0)%60:0;void 0!==v.amPM&&(h=e,f=v.amPM.textContent,e=h%12+12*s(f===v.l10n.amPM[1]));var i=void 0!==v.config.minTime||v.config.minDate&&v.minDateHasTime&&v.latestSelectedDateObj&&0===C(v.latestSelectedDateObj,v.config.minDate,!0),r=void 0!==v.config.maxTime||v.config.maxDate&&v.maxDateHasTime&&v.latestSelectedDateObj&&0===C(v.latestSelectedDateObj,v.config.maxDate,!0);if(void 0!==v.config.maxTime&&void 0!==v.config.minTime&&v.config.minTime>v.config.maxTime){var o=k(v.config.minTime.getHours(),v.config.minTime.getMinutes(),v.config.minTime.getSeconds()),a=k(v.config.maxTime.getHours(),v.config.maxTime.getMinutes(),v.config.maxTime.getSeconds()),l=k(e,t,n);if(l>a&&l<o){var c=S(o);e=c[0],t=c[1],n=c[2]}}else{if(r){var u=void 0!==v.config.maxTime?v.config.maxTime:v.config.maxDate;(e=Math.min(e,u.getHours()))===u.getHours()&&(t=Math.min(t,u.getMinutes())),t===u.getMinutes()&&(n=Math.min(n,u.getSeconds()))}if(i){var d=void 0!==v.config.minTime?v.config.minTime:v.config.minDate;(e=Math.max(e,d.getHours()))===d.getHours()&&t<d.getMinutes()&&(t=d.getMinutes()),t===d.getMinutes()&&(n=Math.max(n,d.getSeconds()))}}R(e,t,n)}var h,f}function P(e){var t=e||v.latestSelectedDateObj;t&&t instanceof Date&&R(t.getHours(),t.getMinutes(),t.getSeconds())}function R(e,t,n){void 0!==v.latestSelectedDateObj&&v.latestSelectedDateObj.setHours(e%24,t,n||0,0),v.hourElement&&v.minuteElement&&!v.isMobile&&(v.hourElement.value=a(v.config.time_24hr?e:(12+e)%12+12*s(e%12==0)),v.minuteElement.value=a(t),void 0!==v.amPM&&(v.amPM.textContent=v.l10n.amPM[s(e>=12)]),void 0!==v.secondElement&&(v.secondElement.value=a(n)))}function O(e){var t=A(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&ie(n)}function N(e,t,n,i){return t instanceof Array?t.forEach((function(t){return N(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return N(e,t,n,i)})):(e.addEventListener(t,n,i),void v._handlers.push({remove:function(){return e.removeEventListener(t,n,i)}}))}function U(){we("onChange")}function H(e,t){var n=void 0!==e?v.parseDate(e):v.latestSelectedDateObj||(v.config.minDate&&v.config.minDate>v.now?v.config.minDate:v.config.maxDate&&v.config.maxDate<v.now?v.config.maxDate:v.now),i=v.currentYear,r=v.currentMonth;try{void 0!==n&&(v.currentYear=n.getFullYear(),v.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,v.config.errorHandler(e)}t&&v.currentYear!==i&&(we("onYearChange"),q()),!t||v.currentYear===i&&v.currentMonth===r||we("onMonthChange"),v.redraw()}function $(e){var t=A(e);~t.className.indexOf("arrow")&&Q(e,t.classList.contains("arrowUp")?1:-1)}function Q(e,t,n){var i=e&&A(e),r=n||i&&i.parentNode&&i.parentNode.firstChild,o=xe("increment");o.delta=t,r&&r.dispatchEvent(o)}function W(e,t,n,i){var r=re(t,!0),o=d("span",e,t.getDate().toString());return o.dateObj=t,o.$i=i,o.setAttribute("aria-label",v.formatDate(t,v.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===C(t,v.now)&&(v.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),r?(o.tabIndex=-1,Ce(t)&&(o.classList.add("selected"),v.selectedDateElem=o,"range"===v.config.mode&&(u(o,"startRange",v.selectedDates[0]&&0===C(t,v.selectedDates[0],!0)),u(o,"endRange",v.selectedDates[1]&&0===C(t,v.selectedDates[1],!0)),"nextMonthDay"===e&&o.classList.add("inRange")))):o.classList.add("flatpickr-disabled"),"range"===v.config.mode&&function(e){return!("range"!==v.config.mode||v.selectedDates.length<2)&&C(e,v.selectedDates[0])>=0&&C(e,v.selectedDates[1])<=0}(t)&&!Ce(t)&&o.classList.add("inRange"),v.weekNumbers&&1===v.config.showMonths&&"prevMonthDay"!==e&&i%7==6&&v.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+v.config.getWeek(t)+"</span>"),we("onDayCreate",o),o}function V(e){e.focus(),"range"===v.config.mode&&le(e)}function j(e){for(var t=e>0?0:v.config.showMonths-1,n=e>0?v.config.showMonths:-1,i=t;i!=n;i+=e)for(var r=v.daysContainer.children[i],o=e>0?0:r.children.length-1,a=e>0?r.children.length:-1,s=o;s!=a;s+=e){var l=r.children[s];if(-1===l.className.indexOf("hidden")&&re(l.dateObj))return l}}function z(e,t){var n=b(),i=oe(n||document.body),r=void 0!==e?e:i?n:void 0!==v.selectedDateElem&&oe(v.selectedDateElem)?v.selectedDateElem:void 0!==v.todayDateElem&&oe(v.todayDateElem)?v.todayDateElem:j(t>0?1:-1);void 0===r?v._input.focus():i?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():v.currentMonth,i=t>0?v.config.showMonths:-1,r=t>0?1:-1,o=n-v.currentMonth;o!=i;o+=r)for(var a=v.daysContainer.children[o],s=n-v.currentMonth===o?e.$i+t:t<0?a.children.length-1:0,l=a.children.length,c=s;c>=0&&c<l&&c!=(t>0?l:-1);c+=r){var u=a.children[c];if(-1===u.className.indexOf("hidden")&&re(u.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return V(u)}v.changeMonth(r),z(j(r),0)}(r,t):V(r)}function K(e,t){for(var n=(new Date(e,t,1).getDay()-v.l10n.firstDayOfWeek+7)%7,i=v.utils.getDaysInMonth((t-1+12)%12,e),r=v.utils.getDaysInMonth(t,e),o=window.document.createDocumentFragment(),a=v.config.showMonths>1,s=a?"prevMonthDay hidden":"prevMonthDay",l=a?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,u=0;c<=i;c++,u++)o.appendChild(W("flatpickr-day "+s,new Date(e,t-1,c),0,u));for(c=1;c<=r;c++,u++)o.appendChild(W("flatpickr-day",new Date(e,t,c),0,u));for(var h=r+1;h<=42-n&&(1===v.config.showMonths||u%7!=0);h++,u++)o.appendChild(W("flatpickr-day "+l,new Date(e,t+1,h%r),0,u));var f=d("div","dayContainer");return f.appendChild(o),f}function G(){if(void 0!==v.daysContainer){h(v.daysContainer),v.weekNumbers&&h(v.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<v.config.showMonths;t++){var n=new Date(v.currentYear,v.currentMonth,1);n.setMonth(v.currentMonth+t),e.appendChild(K(n.getFullYear(),n.getMonth()))}v.daysContainer.appendChild(e),v.days=v.daysContainer.firstChild,"range"===v.config.mode&&1===v.selectedDates.length&&le()}}function q(){if(!(v.config.showMonths>1||"dropdown"!==v.config.monthSelectorType)){var e=function(e){return!(void 0!==v.config.minDate&&v.currentYear===v.config.minDate.getFullYear()&&e<v.config.minDate.getMonth()||void 0!==v.config.maxDate&&v.currentYear===v.config.maxDate.getFullYear()&&e>v.config.maxDate.getMonth())};v.monthsDropdownContainer.tabIndex=-1,v.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=d("option","flatpickr-monthDropdown-month");n.value=new Date(v.currentYear,t).getMonth().toString(),n.textContent=m(t,v.config.shorthandCurrentMonth,v.l10n),n.tabIndex=-1,v.currentMonth===t&&(n.selected=!0),v.monthsDropdownContainer.appendChild(n)}}}function Y(){var e,t=d("div","flatpickr-month"),n=window.document.createDocumentFragment();v.config.showMonths>1||"static"===v.config.monthSelectorType?e=d("span","cur-month"):(v.monthsDropdownContainer=d("select","flatpickr-monthDropdown-months"),v.monthsDropdownContainer.setAttribute("aria-label",v.l10n.monthAriaLabel),N(v.monthsDropdownContainer,"change",(function(e){var t=A(e),n=parseInt(t.value,10);v.changeMonth(n-v.currentMonth),we("onMonthChange")})),q(),e=v.monthsDropdownContainer);var i=p("cur-year",{tabindex:"-1"}),r=i.getElementsByTagName("input")[0];r.setAttribute("aria-label",v.l10n.yearAriaLabel),v.config.minDate&&r.setAttribute("min",v.config.minDate.getFullYear().toString()),v.config.maxDate&&(r.setAttribute("max",v.config.maxDate.getFullYear().toString()),r.disabled=!!v.config.minDate&&v.config.minDate.getFullYear()===v.config.maxDate.getFullYear());var o=d("div","flatpickr-current-month");return o.appendChild(e),o.appendChild(i),n.appendChild(o),t.appendChild(n),{container:t,yearElement:r,monthElement:e}}function X(){h(v.monthNav),v.monthNav.appendChild(v.prevMonthNav),v.config.showMonths&&(v.yearElements=[],v.monthElements=[]);for(var e=v.config.showMonths;e--;){var t=Y();v.yearElements.push(t.yearElement),v.monthElements.push(t.monthElement),v.monthNav.appendChild(t.container)}v.monthNav.appendChild(v.nextMonthNav)}function J(){v.weekdayContainer?h(v.weekdayContainer):v.weekdayContainer=d("div","flatpickr-weekdays");for(var e=v.config.showMonths;e--;){var t=d("div","flatpickr-weekdaycontainer");v.weekdayContainer.appendChild(t)}return Z(),v.weekdayContainer}function Z(){if(v.weekdayContainer){var e=v.l10n.firstDayOfWeek,n=t(v.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var i=v.config.showMonths;i--;)v.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function ee(e,t){void 0===t&&(t=!0);var n=t?e:e-v.currentMonth;n<0&&!0===v._hidePrevMonthArrow||n>0&&!0===v._hideNextMonthArrow||(v.currentMonth+=n,(v.currentMonth<0||v.currentMonth>11)&&(v.currentYear+=v.currentMonth>11?1:-1,v.currentMonth=(v.currentMonth+12)%12,we("onYearChange"),q()),G(),we("onMonthChange"),_e())}function te(e){return v.calendarContainer.contains(e)}function ne(e){if(v.isOpen&&!v.config.inline){var t=A(e),n=te(t),i=!(t===v.input||t===v.altInput||v.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(v.input)||~e.path.indexOf(v.altInput))||n||te(e.relatedTarget)),r=!v.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&r&&(v.config.allowInput&&v.setDate(v._input.value,!1,v.config.altInput?v.config.altFormat:v.config.dateFormat),void 0!==v.timeContainer&&void 0!==v.minuteElement&&void 0!==v.hourElement&&""!==v.input.value&&void 0!==v.input.value&&M(),v.close(),v.config&&"range"===v.config.mode&&1===v.selectedDates.length&&v.clear(!1))}}function ie(e){if(!(!e||v.config.minDate&&e<v.config.minDate.getFullYear()||v.config.maxDate&&e>v.config.maxDate.getFullYear())){var t=e,n=v.currentYear!==t;v.currentYear=t||v.currentYear,v.config.maxDate&&v.currentYear===v.config.maxDate.getFullYear()?v.currentMonth=Math.min(v.config.maxDate.getMonth(),v.currentMonth):v.config.minDate&&v.currentYear===v.config.minDate.getFullYear()&&(v.currentMonth=Math.max(v.config.minDate.getMonth(),v.currentMonth)),n&&(v.redraw(),we("onYearChange"),q())}}function re(e,t){var n;void 0===t&&(t=!0);var i=v.parseDate(e,void 0,t);if(v.config.minDate&&i&&C(i,v.config.minDate,void 0!==t?t:!v.minDateHasTime)<0||v.config.maxDate&&i&&C(i,v.config.maxDate,void 0!==t?t:!v.maxDateHasTime)>0)return!1;if(!v.config.enable&&0===v.config.disable.length)return!0;if(void 0===i)return!1;for(var r=!!v.config.enable,o=null!==(n=v.config.enable)&&void 0!==n?n:v.config.disable,a=0,s=void 0;a<o.length;a++){if("function"==typeof(s=o[a])&&s(i))return r;if(s instanceof Date&&void 0!==i&&s.getTime()===i.getTime())return r;if("string"==typeof s){var l=v.parseDate(s,void 0,!0);return l&&l.getTime()===i.getTime()?r:!r}if("object"==typeof s&&void 0!==i&&s.from&&s.to&&i.getTime()>=s.from.getTime()&&i.getTime()<=s.to.getTime())return r}return!r}function oe(e){return void 0!==v.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&v.daysContainer.contains(e)}function ae(e){var t=e.target===v._input,n=v._input.value.trimEnd()!==ke();!t||!n||e.relatedTarget&&te(e.relatedTarget)||v.setDate(v._input.value,!0,e.target===v.altInput?v.config.altFormat:v.config.dateFormat)}function se(e){var t=A(e),n=v.config.wrap?i.contains(t):t===v._input,r=v.config.allowInput,o=v.isOpen&&(!r||!n),a=v.config.inline&&n&&!r;if(13===e.keyCode&&n){if(r)return v.setDate(v._input.value,!0,t===v.altInput?v.config.altFormat:v.config.dateFormat),v.close(),t.blur();v.open()}else if(te(t)||o||a){var s=!!v.timeContainer&&v.timeContainer.contains(t);switch(e.keyCode){case 13:s?(e.preventDefault(),M(),Ae()):ge(e);break;case 27:e.preventDefault(),Ae();break;case 8:case 46:n&&!v.config.allowInput&&(e.preventDefault(),v.clear());break;case 37:case 39:if(s||n)v.hourElement&&v.hourElement.focus();else{e.preventDefault();var l=b();if(void 0!==v.daysContainer&&(!1===r||l&&oe(l))){var c=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),ee(c),z(j(1),0)):z(void 0,c)}}break;case 38:case 40:e.preventDefault();var u=40===e.keyCode?1:-1;v.daysContainer&&void 0!==t.$i||t===v.input||t===v.altInput?e.ctrlKey?(e.stopPropagation(),ie(v.currentYear-u),z(j(1),0)):s||z(void 0,7*u):t===v.currentYearElement?ie(v.currentYear-u):v.config.enableTime&&(!s&&v.hourElement&&v.hourElement.focus(),M(e),v._debouncedChange());break;case 9:if(s){var d=[v.hourElement,v.minuteElement,v.secondElement,v.amPM].concat(v.pluginElements).filter((function(e){return e})),h=d.indexOf(t);if(-1!==h){var f=d[h+(e.shiftKey?-1:1)];e.preventDefault(),(f||v._input).focus()}}else!v.config.noCalendar&&v.daysContainer&&v.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),v._input.focus())}}if(void 0!==v.amPM&&t===v.amPM)switch(e.key){case v.l10n.amPM[0].charAt(0):case v.l10n.amPM[0].charAt(0).toLowerCase():v.amPM.textContent=v.l10n.amPM[0],L(),Se();break;case v.l10n.amPM[1].charAt(0):case v.l10n.amPM[1].charAt(0).toLowerCase():v.amPM.textContent=v.l10n.amPM[1],L(),Se()}(n||te(t))&&we("onKeyDown",e)}function le(e,t){if(void 0===t&&(t="flatpickr-day"),1===v.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var n=e?e.dateObj.getTime():v.days.firstElementChild.dateObj.getTime(),i=v.parseDate(v.selectedDates[0],void 0,!0).getTime(),r=Math.min(n,v.selectedDates[0].getTime()),o=Math.max(n,v.selectedDates[0].getTime()),a=!1,s=0,l=0,c=r;c<o;c+=E.DAY)re(new Date(c),!0)||(a=a||c>r&&c<o,c<i&&(!s||c>s)?s=c:c>i&&(!l||c<l)&&(l=c));Array.from(v.rContainer.querySelectorAll("*:nth-child(-n+"+v.config.showMonths+") > ."+t)).forEach((function(t){var r=t.dateObj.getTime(),o=s>0&&r<s||l>0&&r>l;if(o)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));a&&!o||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(n<=v.selectedDates[0].getTime()?"startRange":"endRange"),i<n&&r===i?t.classList.add("startRange"):i>n&&r===i&&t.classList.add("endRange"),r>=s&&(0===l||r<=l)&&_(r,i,n)&&t.classList.add("inRange")))}))}}function ce(){!v.isOpen||v.config.static||v.config.inline||fe()}function ue(e){return function(t){var n=v.config["_"+e+"Date"]=v.parseDate(t,v.config.dateFormat),i=v.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(v["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),v.selectedDates&&(v.selectedDates=v.selectedDates.filter((function(e){return re(e)})),v.selectedDates.length||"min"!==e||P(n),Se()),v.daysContainer&&(pe(),void 0!==n?v.currentYearElement[e]=n.getFullYear().toString():v.currentYearElement.removeAttribute(e),v.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function de(){return v.config.wrap?i.querySelector("[data-input]"):i}function he(){"object"!=typeof v.config.locale&&void 0===F.l10ns[v.config.locale]&&v.config.errorHandler(new Error("flatpickr: invalid locale "+v.config.locale)),v.l10n=e(e({},F.l10ns.default),"object"==typeof v.config.locale?v.config.locale:"default"!==v.config.locale?F.l10ns[v.config.locale]:void 0),y.D="("+v.l10n.weekdays.shorthand.join("|")+")",y.l="("+v.l10n.weekdays.longhand.join("|")+")",y.M="("+v.l10n.months.shorthand.join("|")+")",y.F="("+v.l10n.months.longhand.join("|")+")",y.K="("+v.l10n.amPM[0]+"|"+v.l10n.amPM[1]+"|"+v.l10n.amPM[0].toLowerCase()+"|"+v.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},g),JSON.parse(JSON.stringify(i.dataset||{}))).time_24hr&&void 0===F.defaultConfig.time_24hr&&(v.config.time_24hr=v.l10n.time_24hr),v.formatDate=w(v),v.parseDate=x({config:v.config,l10n:v.l10n})}function fe(e){if("function"!=typeof v.config.position){if(void 0!==v.calendarContainer){we("onPreCalendarPosition");var t=e||v._positionElement,n=Array.prototype.reduce.call(v.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=v.calendarContainer.offsetWidth,r=v.config.position.split(" "),o=r[0],a=r.length>1?r[1]:null,s=t.getBoundingClientRect(),l=window.innerHeight-s.bottom,c="above"===o||"below"!==o&&l<n&&s.top>n,d=window.pageYOffset+s.top+(c?-n-2:t.offsetHeight+2);if(u(v.calendarContainer,"arrowTop",!c),u(v.calendarContainer,"arrowBottom",c),!v.config.inline){var h=window.pageXOffset+s.left,f=!1,p=!1;"center"===a?(h-=(i-s.width)/2,f=!0):"right"===a&&(h-=i-s.width,p=!0),u(v.calendarContainer,"arrowLeft",!f&&!p),u(v.calendarContainer,"arrowCenter",f),u(v.calendarContainer,"arrowRight",p);var A=window.document.body.offsetWidth-(window.pageXOffset+s.right),g=h+i>window.document.body.offsetWidth,m=A+i>window.document.body.offsetWidth;if(u(v.calendarContainer,"rightMost",g),!v.config.static)if(v.calendarContainer.style.top=d+"px",g)if(m){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===y)return;var b=window.document.body.offsetWidth,w=Math.max(0,b/2-i/2),x=y.cssRules.length,C="{left:"+s.left+"px;right:auto;}";u(v.calendarContainer,"rightMost",!1),u(v.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+C,x),v.calendarContainer.style.left=w+"px",v.calendarContainer.style.right="auto"}else v.calendarContainer.style.left="auto",v.calendarContainer.style.right=A+"px";else v.calendarContainer.style.left=h+"px",v.calendarContainer.style.right="auto"}}}else v.config.position(v,e)}function pe(){v.config.noCalendar||v.isMobile||(q(),_e(),G())}function Ae(){v._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(v.close,0):v.close()}function ge(e){e.preventDefault(),e.stopPropagation();var t=f(A(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,i=v.latestSelectedDateObj=new Date(n.dateObj.getTime()),r=(i.getMonth()<v.currentMonth||i.getMonth()>v.currentMonth+v.config.showMonths-1)&&"range"!==v.config.mode;if(v.selectedDateElem=n,"single"===v.config.mode)v.selectedDates=[i];else if("multiple"===v.config.mode){var o=Ce(i);o?v.selectedDates.splice(parseInt(o),1):v.selectedDates.push(i)}else"range"===v.config.mode&&(2===v.selectedDates.length&&v.clear(!1,!1),v.latestSelectedDateObj=i,v.selectedDates.push(i),0!==C(i,v.selectedDates[0],!0)&&v.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(L(),r){var a=v.currentYear!==i.getFullYear();v.currentYear=i.getFullYear(),v.currentMonth=i.getMonth(),a&&(we("onYearChange"),q()),we("onMonthChange")}if(_e(),G(),Se(),r||"range"===v.config.mode||1!==v.config.showMonths?void 0!==v.selectedDateElem&&void 0===v.hourElement&&v.selectedDateElem&&v.selectedDateElem.focus():V(n),void 0!==v.hourElement&&void 0!==v.hourElement&&v.hourElement.focus(),v.config.closeOnSelect){var s="single"===v.config.mode&&!v.config.enableTime,l="range"===v.config.mode&&2===v.selectedDates.length&&!v.config.enableTime;(s||l)&&Ae()}U()}}v.parseDate=x({config:v.config,l10n:v.l10n}),v._handlers=[],v.pluginElements=[],v.loadedPlugins=[],v._bind=N,v._setHoursFromDate=P,v._positionCalendar=fe,v.changeMonth=ee,v.changeYear=ie,v.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),v.input.value="",void 0!==v.altInput&&(v.altInput.value=""),void 0!==v.mobileInput&&(v.mobileInput.value=""),v.selectedDates=[],v.latestSelectedDateObj=void 0,!0===t&&(v.currentYear=v._initialDate.getFullYear(),v.currentMonth=v._initialDate.getMonth()),!0===v.config.enableTime){var n=T(v.config);R(n.hours,n.minutes,n.seconds)}v.redraw(),e&&we("onChange")},v.close=function(){v.isOpen=!1,v.isMobile||(void 0!==v.calendarContainer&&v.calendarContainer.classList.remove("open"),void 0!==v._input&&v._input.classList.remove("active")),we("onClose")},v.onMouseOver=le,v._createElement=d,v.createDay=W,v.destroy=function(){void 0!==v.config&&we("onDestroy");for(var e=v._handlers.length;e--;)v._handlers[e].remove();if(v._handlers=[],v.mobileInput)v.mobileInput.parentNode&&v.mobileInput.parentNode.removeChild(v.mobileInput),v.mobileInput=void 0;else if(v.calendarContainer&&v.calendarContainer.parentNode)if(v.config.static&&v.calendarContainer.parentNode){var t=v.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else v.calendarContainer.parentNode.removeChild(v.calendarContainer);v.altInput&&(v.input.type="text",v.altInput.parentNode&&v.altInput.parentNode.removeChild(v.altInput),delete v.altInput),v.input&&(v.input.type=v.input._type,v.input.classList.remove("flatpickr-input"),v.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete v[e]}catch(e){}}))},v.isEnabled=re,v.jumpToDate=H,v.updateValue=Se,v.open=function(e,t){if(void 0===t&&(t=v._positionElement),!0===v.isMobile){if(e){e.preventDefault();var n=A(e);n&&n.blur()}return void 0!==v.mobileInput&&(v.mobileInput.focus(),v.mobileInput.click()),void we("onOpen")}if(!v._input.disabled&&!v.config.inline){var i=v.isOpen;v.isOpen=!0,i||(v.calendarContainer.classList.add("open"),v._input.classList.add("active"),we("onOpen"),fe(t)),!0===v.config.enableTime&&!0===v.config.noCalendar&&(!1!==v.config.allowInput||void 0!==e&&v.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return v.hourElement.select()}),50))}},v.redraw=pe,v.set=function(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(v.config,e),e)void 0!==me[i]&&me[i].forEach((function(e){return e()}));else v.config[e]=t,void 0!==me[e]?me[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(v.config[e]=c(t));v.redraw(),Se(!0)},v.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=v.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return v.clear(t);ve(e,n),v.latestSelectedDateObj=v.selectedDates[v.selectedDates.length-1],v.redraw(),H(void 0,t),P(),0===v.selectedDates.length&&v.clear(!1),Se(t),t&&we("onChange")},v.toggle=function(e){if(!0===v.isOpen)return v.close();v.open(e)};var me={locale:[he,Z],showMonths:[X,D,J],minDate:[H],maxDate:[H],positionElement:[be],clickOpens:[function(){!0===v.config.clickOpens?(N(v._input,"focus",v.open),N(v._input,"click",v.open)):(v._input.removeEventListener("focus",v.open),v._input.removeEventListener("click",v.open))}]};function ve(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return v.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[v.parseDate(e,t)];else if("string"==typeof e)switch(v.config.mode){case"single":case"time":n=[v.parseDate(e,t)];break;case"multiple":n=e.split(v.config.conjunction).map((function(e){return v.parseDate(e,t)}));break;case"range":n=e.split(v.l10n.rangeSeparator).map((function(e){return v.parseDate(e,t)}))}else v.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));v.selectedDates=v.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&re(e,!1)})),"range"===v.config.mode&&v.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function ye(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?v.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:v.parseDate(e.from,void 0),to:v.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function be(){v._positionElement=v.config.positionElement||v._input}function we(e,t){if(void 0!==v.config){var n=v.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](v.selectedDates,v.input.value,v,t);"onChange"===e&&(v.input.dispatchEvent(xe("change")),v.input.dispatchEvent(xe("input")))}}function xe(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function Ce(e){for(var t=0;t<v.selectedDates.length;t++){var n=v.selectedDates[t];if(n instanceof Date&&0===C(n,e))return""+t}return!1}function _e(){v.config.noCalendar||v.isMobile||!v.monthNav||(v.yearElements.forEach((function(e,t){var n=new Date(v.currentYear,v.currentMonth,1);n.setMonth(v.currentMonth+t),v.config.showMonths>1||"static"===v.config.monthSelectorType?v.monthElements[t].textContent=m(n.getMonth(),v.config.shorthandCurrentMonth,v.l10n)+" ":v.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),v._hidePrevMonthArrow=void 0!==v.config.minDate&&(v.currentYear===v.config.minDate.getFullYear()?v.currentMonth<=v.config.minDate.getMonth():v.currentYear<v.config.minDate.getFullYear()),v._hideNextMonthArrow=void 0!==v.config.maxDate&&(v.currentYear===v.config.maxDate.getFullYear()?v.currentMonth+1>v.config.maxDate.getMonth():v.currentYear>v.config.maxDate.getFullYear()))}function ke(e){var t=e||(v.config.altInput?v.config.altFormat:v.config.dateFormat);return v.selectedDates.map((function(e){return v.formatDate(e,t)})).filter((function(e,t,n){return"range"!==v.config.mode||v.config.enableTime||n.indexOf(e)===t})).join("range"!==v.config.mode?v.config.conjunction:v.l10n.rangeSeparator)}function Se(e){void 0===e&&(e=!0),void 0!==v.mobileInput&&v.mobileFormatStr&&(v.mobileInput.value=void 0!==v.latestSelectedDateObj?v.formatDate(v.latestSelectedDateObj,v.mobileFormatStr):""),v.input.value=ke(v.config.dateFormat),void 0!==v.altInput&&(v.altInput.value=ke(v.config.altFormat)),!1!==e&&we("onValueUpdate")}function Ee(e){var t=A(e),n=v.prevMonthNav.contains(t),i=v.nextMonthNav.contains(t);n||i?ee(n?-1:1):v.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?v.changeYear(v.currentYear+1):t.classList.contains("arrowDown")&&v.changeYear(v.currentYear-1)}return function(){v.element=v.input=i,v.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],o=e(e({},JSON.parse(JSON.stringify(i.dataset||{}))),g),a={};v.config.parseDate=o.parseDate,v.config.formatDate=o.formatDate,Object.defineProperty(v.config,"enable",{get:function(){return v.config._enable},set:function(e){v.config._enable=ye(e)}}),Object.defineProperty(v.config,"disable",{get:function(){return v.config._disable},set:function(e){v.config._disable=ye(e)}});var s="time"===o.mode;if(!o.dateFormat&&(o.enableTime||s)){var l=F.defaultConfig.dateFormat||r.dateFormat;a.dateFormat=o.noCalendar||s?"H:i"+(o.enableSeconds?":S":""):l+" H:i"+(o.enableSeconds?":S":"")}if(o.altInput&&(o.enableTime||s)&&!o.altFormat){var u=F.defaultConfig.altFormat||r.altFormat;a.altFormat=o.noCalendar||s?"h:i"+(o.enableSeconds?":S K":" K"):u+" h:i"+(o.enableSeconds?":S":"")+" K"}Object.defineProperty(v.config,"minDate",{get:function(){return v.config._minDate},set:ue("min")}),Object.defineProperty(v.config,"maxDate",{get:function(){return v.config._maxDate},set:ue("max")});var d=function(e){return function(t){v.config["min"===e?"_minTime":"_maxTime"]=v.parseDate(t,"H:i:S")}};Object.defineProperty(v.config,"minTime",{get:function(){return v.config._minTime},set:d("min")}),Object.defineProperty(v.config,"maxTime",{get:function(){return v.config._maxTime},set:d("max")}),"time"===o.mode&&(v.config.noCalendar=!0,v.config.enableTime=!0),Object.assign(v.config,a,o);for(var h=0;h<t.length;h++)v.config[t[h]]=!0===v.config[t[h]]||"true"===v.config[t[h]];for(n.filter((function(e){return void 0!==v.config[e]})).forEach((function(e){v.config[e]=c(v.config[e]||[]).map(I)})),v.isMobile=!v.config.disableMobile&&!v.config.inline&&"single"===v.config.mode&&!v.config.disable.length&&!v.config.enable&&!v.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),h=0;h<v.config.plugins.length;h++){var f=v.config.plugins[h](v)||{};for(var p in f)n.indexOf(p)>-1?v.config[p]=c(f[p]).map(I).concat(v.config[p]):void 0===o[p]&&(v.config[p]=f[p])}o.altInputClass||(v.config.altInputClass=de().className+" "+v.config.altInputClass),we("onParseConfig")}(),he(),v.input=de(),v.input?(v.input._type=v.input.type,v.input.type="text",v.input.classList.add("flatpickr-input"),v._input=v.input,v.config.altInput&&(v.altInput=d(v.input.nodeName,v.config.altInputClass),v._input=v.altInput,v.altInput.placeholder=v.input.placeholder,v.altInput.disabled=v.input.disabled,v.altInput.required=v.input.required,v.altInput.tabIndex=v.input.tabIndex,v.altInput.type="text",v.input.setAttribute("type","hidden"),!v.config.static&&v.input.parentNode&&v.input.parentNode.insertBefore(v.altInput,v.input.nextSibling)),v.config.allowInput||v._input.setAttribute("readonly","readonly"),be()):v.config.errorHandler(new Error("Invalid input element specified")),function(){v.selectedDates=[],v.now=v.parseDate(v.config.now)||new Date;var e=v.config.defaultDate||("INPUT"!==v.input.nodeName&&"TEXTAREA"!==v.input.nodeName||!v.input.placeholder||v.input.value!==v.input.placeholder?v.input.value:null);e&&ve(e,v.config.dateFormat),v._initialDate=v.selectedDates.length>0?v.selectedDates[0]:v.config.minDate&&v.config.minDate.getTime()>v.now.getTime()?v.config.minDate:v.config.maxDate&&v.config.maxDate.getTime()<v.now.getTime()?v.config.maxDate:v.now,v.currentYear=v._initialDate.getFullYear(),v.currentMonth=v._initialDate.getMonth(),v.selectedDates.length>0&&(v.latestSelectedDateObj=v.selectedDates[0]),void 0!==v.config.minTime&&(v.config.minTime=v.parseDate(v.config.minTime,"H:i")),void 0!==v.config.maxTime&&(v.config.maxTime=v.parseDate(v.config.maxTime,"H:i")),v.minDateHasTime=!!v.config.minDate&&(v.config.minDate.getHours()>0||v.config.minDate.getMinutes()>0||v.config.minDate.getSeconds()>0),v.maxDateHasTime=!!v.config.maxDate&&(v.config.maxDate.getHours()>0||v.config.maxDate.getMinutes()>0||v.config.maxDate.getSeconds()>0)}(),v.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=v.currentMonth),void 0===t&&(t=v.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:v.l10n.daysInMonth[e]}},v.isMobile||function(){var e=window.document.createDocumentFragment();if(v.calendarContainer=d("div","flatpickr-calendar"),v.calendarContainer.tabIndex=-1,!v.config.noCalendar){if(e.appendChild((v.monthNav=d("div","flatpickr-months"),v.yearElements=[],v.monthElements=[],v.prevMonthNav=d("span","flatpickr-prev-month"),v.prevMonthNav.innerHTML=v.config.prevArrow,v.nextMonthNav=d("span","flatpickr-next-month"),v.nextMonthNav.innerHTML=v.config.nextArrow,X(),Object.defineProperty(v,"_hidePrevMonthArrow",{get:function(){return v.__hidePrevMonthArrow},set:function(e){v.__hidePrevMonthArrow!==e&&(u(v.prevMonthNav,"flatpickr-disabled",e),v.__hidePrevMonthArrow=e)}}),Object.defineProperty(v,"_hideNextMonthArrow",{get:function(){return v.__hideNextMonthArrow},set:function(e){v.__hideNextMonthArrow!==e&&(u(v.nextMonthNav,"flatpickr-disabled",e),v.__hideNextMonthArrow=e)}}),v.currentYearElement=v.yearElements[0],_e(),v.monthNav)),v.innerContainer=d("div","flatpickr-innerContainer"),v.config.weekNumbers){var t=function(){v.calendarContainer.classList.add("hasWeeks");var e=d("div","flatpickr-weekwrapper");e.appendChild(d("span","flatpickr-weekday",v.l10n.weekAbbreviation));var t=d("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;v.innerContainer.appendChild(n),v.weekNumbers=i,v.weekWrapper=n}v.rContainer=d("div","flatpickr-rContainer"),v.rContainer.appendChild(J()),v.daysContainer||(v.daysContainer=d("div","flatpickr-days"),v.daysContainer.tabIndex=-1),G(),v.rContainer.appendChild(v.daysContainer),v.innerContainer.appendChild(v.rContainer),e.appendChild(v.innerContainer)}v.config.enableTime&&e.appendChild(function(){v.calendarContainer.classList.add("hasTime"),v.config.noCalendar&&v.calendarContainer.classList.add("noCalendar");var e=T(v.config);v.timeContainer=d("div","flatpickr-time"),v.timeContainer.tabIndex=-1;var t=d("span","flatpickr-time-separator",":"),n=p("flatpickr-hour",{"aria-label":v.l10n.hourAriaLabel});v.hourElement=n.getElementsByTagName("input")[0];var i=p("flatpickr-minute",{"aria-label":v.l10n.minuteAriaLabel});if(v.minuteElement=i.getElementsByTagName("input")[0],v.hourElement.tabIndex=v.minuteElement.tabIndex=-1,v.hourElement.value=a(v.latestSelectedDateObj?v.latestSelectedDateObj.getHours():v.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),v.minuteElement.value=a(v.latestSelectedDateObj?v.latestSelectedDateObj.getMinutes():e.minutes),v.hourElement.setAttribute("step",v.config.hourIncrement.toString()),v.minuteElement.setAttribute("step",v.config.minuteIncrement.toString()),v.hourElement.setAttribute("min",v.config.time_24hr?"0":"1"),v.hourElement.setAttribute("max",v.config.time_24hr?"23":"12"),v.hourElement.setAttribute("maxlength","2"),v.minuteElement.setAttribute("min","0"),v.minuteElement.setAttribute("max","59"),v.minuteElement.setAttribute("maxlength","2"),v.timeContainer.appendChild(n),v.timeContainer.appendChild(t),v.timeContainer.appendChild(i),v.config.time_24hr&&v.timeContainer.classList.add("time24hr"),v.config.enableSeconds){v.timeContainer.classList.add("hasSeconds");var r=p("flatpickr-second");v.secondElement=r.getElementsByTagName("input")[0],v.secondElement.value=a(v.latestSelectedDateObj?v.latestSelectedDateObj.getSeconds():e.seconds),v.secondElement.setAttribute("step",v.minuteElement.getAttribute("step")),v.secondElement.setAttribute("min","0"),v.secondElement.setAttribute("max","59"),v.secondElement.setAttribute("maxlength","2"),v.timeContainer.appendChild(d("span","flatpickr-time-separator",":")),v.timeContainer.appendChild(r)}return v.config.time_24hr||(v.amPM=d("span","flatpickr-am-pm",v.l10n.amPM[s((v.latestSelectedDateObj?v.hourElement.value:v.config.defaultHour)>11)]),v.amPM.title=v.l10n.toggleTitle,v.amPM.tabIndex=-1,v.timeContainer.appendChild(v.amPM)),v.timeContainer}()),u(v.calendarContainer,"rangeMode","range"===v.config.mode),u(v.calendarContainer,"animate",!0===v.config.animate),u(v.calendarContainer,"multiMonth",v.config.showMonths>1),v.calendarContainer.appendChild(e);var r=void 0!==v.config.appendTo&&void 0!==v.config.appendTo.nodeType;if((v.config.inline||v.config.static)&&(v.calendarContainer.classList.add(v.config.inline?"inline":"static"),v.config.inline&&(!r&&v.element.parentNode?v.element.parentNode.insertBefore(v.calendarContainer,v._input.nextSibling):void 0!==v.config.appendTo&&v.config.appendTo.appendChild(v.calendarContainer)),v.config.static)){var o=d("div","flatpickr-wrapper");v.element.parentNode&&v.element.parentNode.insertBefore(o,v.element),o.appendChild(v.element),v.altInput&&o.appendChild(v.altInput),o.appendChild(v.calendarContainer)}v.config.static||v.config.inline||(void 0!==v.config.appendTo?v.config.appendTo:window.document.body).appendChild(v.calendarContainer)}(),function(){if(v.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(v.element.querySelectorAll("[data-"+e+"]"),(function(t){return N(t,"click",v[e])}))})),v.isMobile)!function(){var e=v.config.enableTime?v.config.noCalendar?"time":"datetime-local":"date";v.mobileInput=d("input",v.input.className+" flatpickr-mobile"),v.mobileInput.tabIndex=1,v.mobileInput.type=e,v.mobileInput.disabled=v.input.disabled,v.mobileInput.required=v.input.required,v.mobileInput.placeholder=v.input.placeholder,v.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",v.selectedDates.length>0&&(v.mobileInput.defaultValue=v.mobileInput.value=v.formatDate(v.selectedDates[0],v.mobileFormatStr)),v.config.minDate&&(v.mobileInput.min=v.formatDate(v.config.minDate,"Y-m-d")),v.config.maxDate&&(v.mobileInput.max=v.formatDate(v.config.maxDate,"Y-m-d")),v.input.getAttribute("step")&&(v.mobileInput.step=String(v.input.getAttribute("step"))),v.input.type="hidden",void 0!==v.altInput&&(v.altInput.type="hidden");try{v.input.parentNode&&v.input.parentNode.insertBefore(v.mobileInput,v.input.nextSibling)}catch(e){}N(v.mobileInput,"change",(function(e){v.setDate(A(e).value,!1,v.mobileFormatStr),we("onChange"),we("onClose")}))}();else{var e=l(ce,50);if(v._debouncedChange=l(U,B),v.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&N(v.daysContainer,"mouseover",(function(e){"range"===v.config.mode&&le(A(e))})),N(v._input,"keydown",se),void 0!==v.calendarContainer&&N(v.calendarContainer,"keydown",se),v.config.inline||v.config.static||N(window,"resize",e),void 0!==window.ontouchstart?N(window.document,"touchstart",ne):N(window.document,"mousedown",ne),N(window.document,"focus",ne,{capture:!0}),!0===v.config.clickOpens&&(N(v._input,"focus",v.open),N(v._input,"click",v.open)),void 0!==v.daysContainer&&(N(v.monthNav,"click",Ee),N(v.monthNav,["keyup","increment"],O),N(v.daysContainer,"click",ge)),void 0!==v.timeContainer&&void 0!==v.minuteElement&&void 0!==v.hourElement){var t=function(e){return A(e).select()};N(v.timeContainer,["increment"],M),N(v.timeContainer,"blur",M,{capture:!0}),N(v.timeContainer,"click",$),N([v.hourElement,v.minuteElement],["focus","click"],t),void 0!==v.secondElement&&N(v.secondElement,"focus",(function(){return v.secondElement&&v.secondElement.select()})),void 0!==v.amPM&&N(v.amPM,"click",(function(e){M(e)}))}v.config.allowInput&&N(v._input,"blur",ae)}}(),(v.selectedDates.length||v.config.noCalendar)&&(v.config.enableTime&&P(v.config.noCalendar?v.latestSelectedDateObj:void 0),Se(!1)),D();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!v.isMobile&&t&&fe(),we("onReady")}(),v}function D(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],r=0;r<n.length;r++){var o=n[r];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=I(o,t||{}),i.push(o._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return D(this,e)},HTMLElement.prototype.flatpickr=function(e){return D([this],e)});var F=function(e,t){return"string"==typeof e?D(window.document.querySelectorAll(e),t):e instanceof Node?D([e],t):D(e,t)};return F.defaultConfig={},F.l10ns={en:e({},o),default:e({},o)},F.localize=function(t){F.l10ns.default=e(e({},F.l10ns.default),t)},F.setDefaults=function(t){F.defaultConfig=e(e({},F.defaultConfig),t)},F.parseDate=x({}),F.formatDate=w({}),F.compareDates=C,void 0!==i&&void 0!==i.fn&&(i.fn.flatpickr=function(e){return D(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=F),F}()},74001:function(e){e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t,n,i){return new(n=n||Promise)((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function r(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,(a=r?[2&a[0],r.value]:a)[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function o(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||((i=i||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(i||t)}var a=(s.prototype.add=function(e,t,n,i){return new s(this.left+e,this.top+t,this.width+n,this.height+i)},s.fromClientRect=function(e,t){return new s(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},s.fromDOMRectList=function(e,t){return t=Array.from(t).find((function(e){return 0!==e.width})),t?new s(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height):s.EMPTY},s.EMPTY=new s(0,0,0,0),s);function s(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}for(var l=function(e,t){return a.fromClientRect(e,t.getBoundingClientRect())},c=function(e){for(var t=[],n=0,i=e.length;n<i;){var r,o=e.charCodeAt(n++);55296<=o&&o<=56319&&n<i?56320==(64512&(r=e.charCodeAt(n++)))?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--):t.push(o)}return t},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,o="";++r<n;){var a=e[r];a<=65535?i.push(a):(a-=65536,i.push(55296+(a>>10),a%1024+56320)),(r+1===n||16384<i.length)&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return o},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<64;f++)h[d.charCodeAt(f)]=f;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A="undefined"==typeof Uint8Array?[]:new Uint8Array(256),g=0;g<64;g++)A[p.charCodeAt(g)]=g;function m(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))}var v=(y.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=this.index[e>>5],this.data[t=(t<<2)+(31&e)];if(e<=65535)return t=this.index[2048+(e-55296>>5)],this.data[t=(t<<2)+(31&e)];if(e<this.highStart)return t=this.index[t=2080+(e>>11)],t=this.index[t+=e>>5&63],this.data[t=(t<<2)+(31&e)];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y);function y(e,t,n,i,r,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=o}for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w="undefined"==typeof Uint8Array?[]:new Uint8Array(256),x=0;x<64;x++)w[b.charCodeAt(x)]=x;function C(e,t,n,i){var r=i[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var o=n;o<=i.length;){if((s=i[++o])===t)return 1;if(s!==I)break}if(r===I)for(o=n;0<o;){var a=i[--o];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s,l=n;l<=i.length;){if((s=i[++l])===t)return 1;if(s!==I)break}if(a!==I)break}}function _(e,t){for(var n=e;0<=n;){var i=t[n];if(i!==I)return i;n--}return 0}var k,S,E,T,B,I=10,D=13,F=15,M=17,L=18,P=19,R=20,O=21,N=22,U=24,H=25,$=26,Q=27,W=28,V=30,j=32,z=33,K=34,G=35,q=37,Y=38,X=39,J=40,Z=42,ee=[9001,65288],te="",ne=(E=function(e){var t,n,i,r,o=.75*e.length,a=e.length,s=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--),o=new("undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(o);for(var l=Array.isArray(o)?o:new Uint8Array(o),c=0;c<a;c+=4)t=A[e.charCodeAt(c)],n=A[e.charCodeAt(c+1)],i=A[e.charCodeAt(c+2)],r=A[e.charCodeAt(c+3)],l[s++]=t<<2|n>>4,l[s++]=(15&n)<<4|i>>2,l[s++]=(3&i)<<6|63&r;return o}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),T=Array.isArray(E)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n}(E):new Uint32Array(E),B=Array.isArray(E)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n}(E):new Uint16Array(E),k=m(B,12,T[4]/2),S=2===T[5]?m(B,(24+T[4])/2):(E=T,B=Math.ceil((24+T[4])/4),E.slice?E.slice(B,S):new Uint32Array(Array.prototype.slice.call(E,B,S))),new v(T[0],T[1],T[2],T[3],k,S)),ie=[V,36],re=[1,2,3,5],oe=[I,8],ae=[Q,$],se=re.concat(oe),le=[Y,X,J,K,G],ce=[F,D],ue=(de.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},de);function de(e,t,n,i){this.codePoints=e,this.required="!"===t,this.start=n,this.end=i}function he(e,t){var n=c(e),i=(t=function(e,t){var n=(r=function(e,t){void 0===t&&(t="strict");var n=[],i=[],r=[];return e.forEach((function(e,o){var a=ne.get(e);return 50<a?(r.push(!0),a-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e)?(i.push(o),n.push(16)):4!==a&&11!==a?(i.push(o),31===a?n.push("strict"===t?O:q):a===Z||29===a?n.push(V):43===a?131072<=e&&e<=196605||196608<=e&&e<=262141?n.push(q):n.push(V):void n.push(a)):0===o?(i.push(o),n.push(V)):(a=n[o-1],-1===se.indexOf(a)?(i.push(i[o-1]),n.push(a)):(i.push(o),n.push(V)))})),[i,n,r]}(e,(t=t||{lineBreak:"normal",wordBreak:"normal"}).lineBreak))[0],i=r[1],r=r[2];return[n,i="break-all"===t.wordBreak||"break-word"===t.wordBreak?i.map((function(e){return-1!==[H,V,Z].indexOf(e)?q:e})):i,"keep-all"===t.wordBreak?r.map((function(t,n){return t&&19968<=e[n]&&e[n]<=40959})):void 0]}(n,t))[0],r=t[1],o=t[2],a=n.length,s=0,l=0;return{next:function(){if(a<=l)return{done:!0,value:null};for(var e=te;l<a&&(e=function(e,t,n,i,r){if(0===n[i])return te;var o=i-1;if(Array.isArray(r)&&!0===r[o])return te;var a,s=o-1,l=1+o,c=t[o];if(i=0<=s?t[s]:0,r=t[l],2===c&&3===r)return te;if(-1!==re.indexOf(c))return"!";if(-1!==re.indexOf(r))return te;if(-1!==oe.indexOf(r))return te;if(8===_(o,t))return"";if(11===ne.get(e[o]))return te;if((c===j||c===z)&&11===ne.get(e[l]))return te;if(7===c||7===r)return te;if(9===c)return te;if(-1===[I,D,F].indexOf(c)&&9===r)return te;if(-1!==[M,L,P,U,W].indexOf(r))return te;if(_(o,t)===N)return te;if(C(23,N,o,t))return te;if(C([M,L],O,o,t))return te;if(C(12,12,o,t))return te;if(c===I)return"";if(23===c||23===r)return te;if(16===r||16===c)return"";if(-1!==[D,F,O].indexOf(r)||14===c)return te;if(36===i&&-1!==ce.indexOf(c))return te;if(c===W&&36===r)return te;if(r===R)return te;if(-1!==ie.indexOf(r)&&c===H||-1!==ie.indexOf(c)&&r===H)return te;if(c===Q&&-1!==[q,j,z].indexOf(r)||-1!==[q,j,z].indexOf(c)&&r===$)return te;if(-1!==ie.indexOf(c)&&-1!==ae.indexOf(r)||-1!==ae.indexOf(c)&&-1!==ie.indexOf(r))return te;if(-1!==[Q,$].indexOf(c)&&(r===H||-1!==[N,F].indexOf(r)&&t[1+l]===H)||-1!==[N,F].indexOf(c)&&r===H||c===H&&-1!==[H,W,U].indexOf(r))return te;if(-1!==[H,W,U,M,L].indexOf(r))for(var u=o;0<=u;){if((a=t[u])===H)return te;if(-1===[W,U].indexOf(a))break;u--}if(-1!==[Q,$].indexOf(r))for(u=-1!==[M,L].indexOf(c)?s:o;0<=u;){if((a=t[u])===H)return te;if(-1===[W,U].indexOf(a))break;u--}if(Y===c&&-1!==[Y,X,K,G].indexOf(r)||-1!==[X,K].indexOf(c)&&-1!==[X,J].indexOf(r)||-1!==[J,G].indexOf(c)&&r===J)return te;if(-1!==le.indexOf(c)&&-1!==[R,$].indexOf(r)||-1!==le.indexOf(r)&&c===Q)return te;if(-1!==ie.indexOf(c)&&-1!==ie.indexOf(r))return te;if(c===U&&-1!==ie.indexOf(r))return te;if(-1!==ie.concat(H).indexOf(c)&&r===N&&-1===ee.indexOf(e[l])||-1!==ie.concat(H).indexOf(r)&&c===L)return te;if(41===c&&41===r){for(var d=n[o],h=1;0<d&&41===t[--d];)h++;if(h%2!=0)return te}return c===j&&r===z?te:""}(n,r,i,++l,o))===te;);if(e===te&&l!==a)return{done:!0,value:null};var t=new ue(n,e,s,l);return s=l,{value:t,done:!1}}}}function fe(e){return 48<=e&&e<=57}function pe(e){return fe(e)||65<=e&&e<=70||97<=e&&e<=102}function Ae(e){return 10===e||9===e||32===e}function ge(e){return 97<=(n=t=e)&&n<=122||65<=t&&t<=90||128<=e||95===e;var t,n}function me(e){return ge(e)||fe(e)||45===e}function ve(e,t){return 92===e&&10!==t}function ye(e,t,n){return 45===e?ge(t)||ve(t,n):!!ge(e)||92===e&&10!==t}function be(e,t,n){return 43===e||45===e?!!fe(t)||46===t&&fe(n):fe(46===e?t:e)}var we={type:2},xe={type:3},Ce={type:4},_e={type:13},ke={type:8},Se={type:21},Ee={type:9},Te={type:10},Be={type:11},Ie={type:12},De={type:14},Fe={type:23},Me={type:1},Le={type:25},Pe={type:24},Re={type:26},Oe={type:27},Ne={type:28},Ue={type:29},He={type:31},$e={type:32},Qe=(We.prototype.write=function(e){this._value=this._value.concat(c(e))},We.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==$e;)e.push(t),t=this.consumeToken();return e},We.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(me(t)||ve(n,i)){var r=ye(t,n,i)?2:1;return{type:5,value:this.consumeName(),flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_e;break;case 39:return this.consumeStringToken(39);case 40:return we;case 41:return xe;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),De;break;case 43:if(be(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return Ce;case 45:if(be(i=e,r=this.peekCodePoint(0),a=this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ye(i,r,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===r&&62===a)return this.consumeCodePoint(),this.consumeCodePoint(),Pe;break;case 46:if(be(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var o=this.consumeCodePoint();if(42===o&&47===(o=this.consumeCodePoint()))return this.consumeToken();if(-1===o)return this.consumeToken()}break;case 58:return Re;case 59:return Oe;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Le;break;case 64:var a=this.peekCodePoint(0),s=this.peekCodePoint(1),l=this.peekCodePoint(2);if(ye(a,s,l))return{type:7,value:this.consumeName()};break;case 91:return Ne;case 92:if(ve(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Ue;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ke;break;case 123:return Be;case 125:return Ie;case 117:case 85:return s=this.peekCodePoint(0),l=this.peekCodePoint(1),43!==s||!pe(l)&&63!==l||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ee;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Se;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Te;break;case-1:return $e}return Ae(e)?(this.consumeWhiteSpace(),He):fe(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ge(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:u(e)}},We.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},We.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},We.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},We.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();pe(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(u.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),end:parseInt(u.apply(void 0,e.map((function(e){return 63===e?70:e}))),16)};var i=parseInt(u.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&pe(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var r=[];pe(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();return{type:30,start:i,end:parseInt(u.apply(void 0,r),16)}}return{type:30,start:i,end:i}},We.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},We.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t,n=this.peekCodePoint(0);if(39===n||34===n)return 0===(n=this.consumeStringToken(this.consumeCodePoint())).type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Fe);for(;;){var i=this.consumeCodePoint();if(-1===i||41===i)return{type:22,value:u.apply(void 0,e)};if(Ae(i))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Fe);if(34===i||39===i||40===i||0<=(t=i)&&t<=8||11===t||14<=t&&t<=31||127===t)return this.consumeBadUrlRemnants(),Fe;if(92===i){if(!ve(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Fe;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},We.prototype.consumeWhiteSpace=function(){for(;Ae(this.peekCodePoint(0));)this.consumeCodePoint()},We.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;ve(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},We.prototype.consumeStringSlice=function(e){for(var t="";0<e;){var n=Math.min(5e4,e);t+=u.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},We.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var i,r=this._value[n];if(-1===r||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(10===r)return this._value.splice(0,n),Me;92!==r||-1!==(i=this._value[n+1])&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):ve(r,i)&&(t+=this.consumeStringSlice(n),t+=u(this.consumeEscapedCodePoint()),n=-1)),n++}},We.prototype.consumeNumber=function(){var e=[],t=4;for(43!==(n=this.peekCodePoint(0))&&45!==n||e.push(this.consumeCodePoint());fe(this.peekCodePoint(0));)e.push(this.consumeCodePoint());var n=this.peekCodePoint(0),i=this.peekCodePoint(1);if(46===n&&fe(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;fe(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===n||101===n)&&((43===i||45===i)&&fe(r)||fe(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;fe(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var i=[];fe(e[t]);)i.push(e[t++]);var r=i.length?parseInt(u.apply(void 0,i),10):0;46===e[t]&&t++;for(var o=[];fe(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(u.apply(void 0,o),10):0;69!==e[t]&&101!==e[t]||t++;var l=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(l=-1),t++);for(var c=[];fe(e[t]);)c.push(e[t++]);var d=c.length?parseInt(u.apply(void 0,c),10):0;return n*(r+s*Math.pow(10,-a))*Math.pow(10,l*d)}(e),t]},We.prototype.consumeNumericToken=function(){var e,t=(e=this.consumeNumber())[0],n=e[1],i=this.peekCodePoint(0);return ye(i,this.peekCodePoint(1),e=this.peekCodePoint(2))?{type:15,number:t,flags:n,unit:this.consumeName()}:37===i?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},We.prototype.consumeEscapedCodePoint=function(){var e,t=this.consumeCodePoint();if(pe(t)){for(var n=u(t);pe(this.peekCodePoint(0))&&n.length<6;)n+=u(this.consumeCodePoint());Ae(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(n,16);return 0===i||55296<=(e=i)&&e<=57343||1114111<i?65533:i}return-1===t?65533:t},We.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(me(t))e+=u(t);else{if(!ve(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=u(this.consumeEscapedCodePoint())}}},We);function We(){this._value=[]}var Ve=(je.create=function(e){var t=new Qe;return t.write(e),new je(t.read())},je.parseValue=function(e){return je.create(e).parseComponentValue()},je.parseValues=function(e){return je.create(e).parseComponentValues()},je.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);for(var t=this.consumeComponentValue();31===(e=this.consumeToken()).type;);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},je.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},je.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},je.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||ct(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},je.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},je.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?$e:e},je.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},je);function je(e){this._tokens=e}function ze(e){return 15===e.type}function Ke(e){return 17===e.type}function Ge(e){return 20===e.type}function qe(e){return 0===e.type}function Ye(e,t){return Ge(e)&&e.value===t}function Xe(e){return 31!==e.type}function Je(e){return 31!==e.type&&4!==e.type}function Ze(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t}function et(e){return 17===e.type||15===e.type}function tt(e){return 16===e.type||et(e)}function nt(e){return 1<e.length?[e[0],e[1]]:[e[0]]}function it(e,t,n){var i=e[0];return e=e[1],[ft(i,t),ft(void 0!==e?e:i,n)]}function rt(e){return 15===e.type&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)}function ot(e){switch(e.filter(Ge).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ut,ut];case"to top":case"bottom":return At(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ut,ht];case"to right":case"left":return At(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ht,ht];case"to bottom":case"top":return At(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ht,ut];case"to left":case"right":return At(270)}return 0}function at(e){return!(255&e)}function st(e){var t=255&e,n=255&e>>8,i=255&e>>16;return e=255&e>>24,t<255?"rgba("+e+","+i+","+n+","+t/255+")":"rgb("+e+","+i+","+n+")"}function lt(e,t){if(17===e.type)return e.number;if(16!==e.type)return 0;var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}var ct=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},ut={type:17,number:0,flags:4},dt={type:16,number:50,flags:4},ht={type:16,number:100,flags:4},ft=function(e,t){if(16===e.type)return e.number/100*t;if(ze(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},pt=function(e,t){if(15===t.type)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},At=function(e){return Math.PI*e/180},gt=function(e,t){if(18===t.type){var n=Et[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var i=t.value.substring(0,1),r=t.value.substring(1,2),o=t.value.substring(2,3);return mt(parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16),1)}if(4===t.value.length){i=t.value.substring(0,1),r=t.value.substring(1,2),o=t.value.substring(2,3);var a=t.value.substring(3,4);return mt(parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(6===t.value.length)return i=t.value.substring(0,2),r=t.value.substring(2,4),o=t.value.substring(4,6),mt(parseInt(i,16),parseInt(r,16),parseInt(o,16),1);if(8===t.value.length)return i=t.value.substring(0,2),r=t.value.substring(2,4),o=t.value.substring(4,6),a=t.value.substring(6,8),mt(parseInt(i,16),parseInt(r,16),parseInt(o,16),parseInt(a,16)/255)}return 20===t.type&&void 0!==(t=Tt[t.value.toUpperCase()])?t:Tt.TRANSPARENT},mt=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(255*i))>>>0},vt=function(e,t){if(3===(t=t.filter(Je)).length){var n=(r=t.map(lt))[0],i=r[1],r=r[2];return mt(n,i,r,1)}return 4!==t.length?0:(n=(t=t.map(lt))[0],i=t[1],r=t[2],t=t[3],mt(n,i,r,t))};function yt(e,t,n){return n<0&&(n+=1),1<=n&&--n,n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}function bt(e,t){return gt(e,Ve.create(t).parseComponentValue())}function wt(e,t){return e=gt(e,t[0]),(t=t[1])&&tt(t)?{color:e,stop:t}:{color:e,stop:null}}function xt(e,t){var n=e[0],i=e[e.length-1];null===n.stop&&(n.stop=ut),null===i.stop&&(i.stop=ht);for(var r=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;null!==s?(o<(s=ft(s,t))?r.push(s):r.push(o),o=s):r.push(null)}var l=null;for(a=0;a<r.length;a++){var c=r[a];if(null===c)null===l&&(l=a);else if(null!==l){for(var u=a-l,d=(c-r[l-1])/(1+u),h=1;h<=u;h++)r[l+h-1]=d*h;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,r[n]/t),0)}}))}function Ct(e,t){return Math.sqrt(e*e+t*t)}function _t(e,t,n,i,r){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],a=t[1];return a=Ct(n-o,i-a),(r?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner}var kt,St=function(e,t){var n=(o=t.filter(Je))[0],i=o[1],r=o[2],o=(t=o[3],(17===n.type?At(n.number):pt(0,n))/(2*Math.PI));return e=tt(i)?i.number/100:0,n=tt(r)?r.number/100:0,i=void 0!==t&&tt(t)?ft(t,1):1,0==e?mt(255*n,255*n,255*n,1):(e=yt(t=2*n-(r=n<=.5?n*(1+e):n+e-n*e),r,o+1/3),n=yt(t,r,o),o=yt(t,r,o-1/3),mt(255*e,255*n,255*o,i))},Et={hsl:St,hsla:St,rgb:vt,rgba:vt},Tt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Bt={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Ge(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},It={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dt=(St=function(e,t){var n=At(180),i=[];return Ze(t).forEach((function(t,r){if(0===r){if(20===(r=t[0]).type&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(n=ot(t));if(rt(r))return void(n=(pt(0,r)+At(270))%At(360))}t=wt(e,t),i.push(t)})),{angle:n,stops:i,type:1}},"closest-side"),Ft="farthest-side",Mt="closest-corner",Lt="farthest-corner",Pt="ellipse",Rt="contain",Ot=(vt=function(e,t){var n=0,i=3,r=[],o=[];return Ze(t).forEach((function(t,a){var s=!0;0===a?s=t.reduce((function(e,t){if(Ge(t))switch(t.value){case"center":return o.push(dt),!1;case"top":case"left":return o.push(ut),!1;case"right":case"bottom":return o.push(ht),!1}else if(tt(t)||et(t))return o.push(t),!1;return e}),s):1===a&&(s=t.reduce((function(e,t){if(Ge(t))switch(t.value){case"circle":return n=0,!1;case Pt:return!(n=1);case Rt:case Dt:return i=0,!1;case Ft:return!(i=1);case Mt:return!(i=2);case"cover":case Lt:return!(i=3)}else if(et(t)||tt(t))return(i=Array.isArray(i)?i:[]).push(t),!1;return e}),s)),s&&(t=wt(e,t),r.push(t))})),{size:i,shape:n,stops:r,position:o,type:2}},function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18!==t.type)throw new Error("Unsupported image type "+t.type);if(void 0===(n=Nt[t.name]))throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}),Nt={"linear-gradient":function(e,t){var n=At(180),i=[];return Ze(t).forEach((function(t,r){if(0===r){if(20===(r=t[0]).type&&"to"===r.value)return void(n=ot(t));if(rt(r))return void(n=pt(0,r))}t=wt(e,t),i.push(t)})),{angle:n,stops:i,type:1}},"-moz-linear-gradient":St,"-ms-linear-gradient":St,"-o-linear-gradient":St,"-webkit-linear-gradient":St,"radial-gradient":function(e,t){var n=0,i=3,r=[],o=[];return Ze(t).forEach((function(t,a){var s,l=!0;0===a&&(s=!1,l=t.reduce((function(e,t){if(s)if(Ge(t))switch(t.value){case"center":return o.push(dt),e;case"top":case"left":return o.push(ut),e;case"right":case"bottom":return o.push(ht),e}else(tt(t)||et(t))&&o.push(t);else if(Ge(t))switch(t.value){case"circle":return n=0,!1;case Pt:return!(n=1);case"at":return!(s=!0);case Dt:return i=0,!1;case"cover":case Ft:return!(i=1);case Rt:case Mt:return!(i=2);case Lt:return!(i=3)}else if(et(t)||tt(t))return(i=Array.isArray(i)?i:[]).push(t),!1;return e}),l)),l&&(t=wt(e,t),r.push(t))})),{size:i,shape:n,stops:r,position:o,type:2}},"-moz-radial-gradient":vt,"-ms-radial-gradient":vt,"-o-radial-gradient":vt,"-webkit-radial-gradient":vt,"-webkit-gradient":function(e,t){var n=At(180),i=[],r=1;return Ze(t).forEach((function(t,n){var o;if(t=t[0],0===n){if(Ge(t)&&"linear"===t.value)return void(r=1);if(Ge(t)&&"radial"===t.value)return void(r=2)}18===t.type&&("from"===t.name?(o=gt(e,t.values[0]),i.push({stop:ut,color:o})):"to"===t.name?(o=gt(e,t.values[0]),i.push({stop:ht,color:o})):"color-stop"!==t.name||2===(t=t.values.filter(Je)).length&&(o=gt(e,t[1]),Ke(t=t[0])&&i.push({stop:{type:16,number:100*t.number,flags:t.flags},color:o})))})),1===r?{angle:(n+At(180))%At(360),stops:i,type:r}:{size:3,shape:0,stops:i,position:[],type:r}}},Ut={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Je(e)&&!(20===e.type&&"none"===e.value||18===e.type&&!Nt[e.name])})).map((function(t){return Ot(e,t)}))}},Ht={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Ge(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},$t={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ze(t).map((function(e){return e.filter(tt)})).map(nt)}},Qt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ze(t).map((function(e){return e.filter(Ge).map((function(e){return e.value})).join(" ")})).map(Wt)}},Wt=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};function Vt(e,t){return Ge(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:tt(e)?ft(e,t):t}(vt=kt=kt||{}).AUTO="auto",vt.CONTAIN="contain";var jt,zt,Kt={name:"background-size",initialValue:"0",prefix:!(vt.COVER="cover"),type:1,parse:function(e,t){return Ze(t).map((function(e){return e.filter(Gt)}))}},Gt=function(e){return Ge(e)||tt(e)},qt=(vt=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},vt("top")),Yt=vt("right"),Xt=vt("bottom"),Jt=vt("left"),Zt=(vt=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return nt(t.filter(tt))}}},vt("top-left")),en=vt("top-right"),tn=vt("bottom-right"),nn=vt("bottom-left"),rn=(vt=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},vt("top")),on=vt("right"),an=vt("bottom"),sn=vt("left"),ln=(vt=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ze(t)?t.number:0}}},vt("top")),cn=vt("right"),un=vt("bottom"),dn=vt("left"),hn={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fn={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"!==t?0:1}},pn={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ge).reduce((function(e,t){return e|An(t.value)}),0)}},An=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mn={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value||17!==t.type&&15!==t.type?0:t.number}},vn={name:"line-break",initialValue:(vt=jt=jt||{}).NORMAL="normal",prefix:!(vt.STRICT="strict"),type:2,parse:function(e,t){return"strict"!==t?jt.NORMAL:jt.STRICT}},yn={name:"line-height",initialValue:"normal",prefix:!1,type:4},bn={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Ot(e,t)}},wn={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"!==t?1:0}},xn={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Cn=(vt=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},vt("top")),_n=vt("right"),kn=vt("bottom"),Sn=vt("left"),En={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ge).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Tn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"!==t?"normal":"break-word"}},Bn=(vt=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},vt("top")),In=vt("right"),Dn=vt("bottom"),Fn=vt("left"),Mn={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ln={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Pn={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ye(t[0],"none")?[]:Ze(t).map((function(t){for(var n={color:Tt.TRANSPARENT,offsetX:ut,offsetY:ut,blur:ut},i=0,r=0;r<t.length;r++){var o=t[r];et(o)?(0===i?n.offsetX=o:1===i?n.offsetY=o:n.blur=o,i++):n.color=gt(e,o)}return n}))}},Rn={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},On={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18!==t.type)return null;var n=Nn[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}},Nn={matrix:function(e){return 6===(e=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}))).length?e:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],i=t[1];t[2],t[3];var r=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12];return e=t[13],t[14],t[15],16===t.length?[n,i,r,o,a,e]:null}},Un=[vt={type:16,number:50,flags:4},vt],Hn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){return 2!==(t=t.filter(tt)).length?Un:[t[0],t[1]]}},$n={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};function Qn(e,t){return!!(e&t)}function Wn(e,t,n){return(e=e&&e[Math.min(t,e.length-1)])?n?e.open:e.close:""}(vt=zt=zt||{}).NORMAL="normal",vt.BREAK_ALL="break-all";var Vn={name:"word-break",initialValue:"normal",prefix:!(vt.KEEP_ALL="keep-all"),type:2,parse:function(e,t){switch(t){case"break-all":return zt.BREAK_ALL;case"keep-all":return zt.KEEP_ALL;default:return zt.NORMAL}}},jn={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Ke(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},zn=function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")},Kn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Ke(t)?t.number:1}},Gn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ge).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Yn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],i=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:i.push(n.join(" ")),n.length=0}})),n.length&&i.push(n.join(" ")),i.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},Xn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Jn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Ke(t)?t.number:Ge(t)&&"bold"===t.value?700:400}},Zn={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ge).map((function(e){return e.value}))}},ei={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ti={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},ni={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var i=[],r=t.filter(Xe),o=0;o<r.length;o++){var a=r[o],s=r[o+1];20===a.type&&(s=s&&Ke(s)?s.number:1,i.push({counter:a.value,increment:s}))}return i}},ii={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],i=t.filter(Xe),r=0;r<i.length;r++){var o=i[r],a=i[r+1];Ge(o)&&"none"!==o.value&&(a=a&&Ke(a)?a.number:0,n.push({counter:o.value,reset:a}))}return n}},ri={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(ze).map((function(e){return zn(0,e)}))}},oi={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var i=[],r=t.filter(qe);if(r.length%2!=0)return null;for(var o=0;o<r.length;o+=2){var a=r[o].value,s=r[o+1].value;i.push({open:a,close:s})}return i}},ai={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ye(t[0],"none")?[]:Ze(t).map((function(t){for(var n={color:255,offsetX:ut,offsetY:ut,blur:ut,spread:ut,inset:!1},i=0,r=0;r<t.length;r++){var o=t[r];Ye(o,"inset")?n.inset=!0:et(o)?(0===i?n.offsetX=o:1===i?n.offsetY=o:2===i?n.blur=o:n.spread=o,i++):n.color=gt(e,o)}return n}))}},si={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[];return t.filter(Ge).forEach((function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),[0,1,2].forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n}},li={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ci={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ze(t)?t.number:0}},ui=(di.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&0===this.visibility},di.prototype.isTransparent=function(){return at(this.backgroundColor)},di.prototype.isTransformed=function(){return null!==this.transform},di.prototype.isPositioned=function(){return 0!==this.position},di.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},di.prototype.isFloating=function(){return 0!==this.float},di.prototype.isInlineLevel=function(){return Qn(this.display,4)||Qn(this.display,33554432)||Qn(this.display,268435456)||Qn(this.display,536870912)||Qn(this.display,67108864)||Qn(this.display,134217728)},di);function di(e,t){this.animationDuration=pi(e,ri,t.animationDuration),this.backgroundClip=pi(e,Bt,t.backgroundClip),this.backgroundColor=pi(e,It,t.backgroundColor),this.backgroundImage=pi(e,Ut,t.backgroundImage),this.backgroundOrigin=pi(e,Ht,t.backgroundOrigin),this.backgroundPosition=pi(e,$t,t.backgroundPosition),this.backgroundRepeat=pi(e,Qt,t.backgroundRepeat),this.backgroundSize=pi(e,Kt,t.backgroundSize),this.borderTopColor=pi(e,qt,t.borderTopColor),this.borderRightColor=pi(e,Yt,t.borderRightColor),this.borderBottomColor=pi(e,Xt,t.borderBottomColor),this.borderLeftColor=pi(e,Jt,t.borderLeftColor),this.borderTopLeftRadius=pi(e,Zt,t.borderTopLeftRadius),this.borderTopRightRadius=pi(e,en,t.borderTopRightRadius),this.borderBottomRightRadius=pi(e,tn,t.borderBottomRightRadius),this.borderBottomLeftRadius=pi(e,nn,t.borderBottomLeftRadius),this.borderTopStyle=pi(e,rn,t.borderTopStyle),this.borderRightStyle=pi(e,on,t.borderRightStyle),this.borderBottomStyle=pi(e,an,t.borderBottomStyle),this.borderLeftStyle=pi(e,sn,t.borderLeftStyle),this.borderTopWidth=pi(e,ln,t.borderTopWidth),this.borderRightWidth=pi(e,cn,t.borderRightWidth),this.borderBottomWidth=pi(e,un,t.borderBottomWidth),this.borderLeftWidth=pi(e,dn,t.borderLeftWidth),this.boxShadow=pi(e,ai,t.boxShadow),this.color=pi(e,hn,t.color),this.direction=pi(e,fn,t.direction),this.display=pi(e,pn,t.display),this.float=pi(e,gn,t.cssFloat),this.fontFamily=pi(e,Yn,t.fontFamily),this.fontSize=pi(e,Xn,t.fontSize),this.fontStyle=pi(e,ei,t.fontStyle),this.fontVariant=pi(e,Zn,t.fontVariant),this.fontWeight=pi(e,Jn,t.fontWeight),this.letterSpacing=pi(e,mn,t.letterSpacing),this.lineBreak=pi(e,vn,t.lineBreak),this.lineHeight=pi(e,yn,t.lineHeight),this.listStyleImage=pi(e,bn,t.listStyleImage),this.listStylePosition=pi(e,wn,t.listStylePosition),this.listStyleType=pi(e,xn,t.listStyleType),this.marginTop=pi(e,Cn,t.marginTop),this.marginRight=pi(e,_n,t.marginRight),this.marginBottom=pi(e,kn,t.marginBottom),this.marginLeft=pi(e,Sn,t.marginLeft),this.opacity=pi(e,Kn,t.opacity);var n=pi(e,En,t.overflow);this.overflowX=n[0],this.overflowY=n[1<n.length?1:0],this.overflowWrap=pi(e,Tn,t.overflowWrap),this.paddingTop=pi(e,Bn,t.paddingTop),this.paddingRight=pi(e,In,t.paddingRight),this.paddingBottom=pi(e,Dn,t.paddingBottom),this.paddingLeft=pi(e,Fn,t.paddingLeft),this.paintOrder=pi(e,si,t.paintOrder),this.position=pi(e,Ln,t.position),this.textAlign=pi(e,Mn,t.textAlign),this.textDecorationColor=pi(e,Gn,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=pi(e,qn,null!==(n=t.textDecorationLine)&&void 0!==n?n:t.textDecoration),this.textShadow=pi(e,Pn,t.textShadow),this.textTransform=pi(e,Rn,t.textTransform),this.transform=pi(e,On,t.transform),this.transformOrigin=pi(e,Hn,t.transformOrigin),this.visibility=pi(e,$n,t.visibility),this.webkitTextStrokeColor=pi(e,li,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=pi(e,ci,t.webkitTextStrokeWidth),this.wordBreak=pi(e,Vn,t.wordBreak),this.zIndex=pi(e,jn,t.zIndex)}for(var hi=function(e,t){this.content=pi(e,ti,t.content),this.quotes=pi(e,oi,t.quotes)},fi=function(e,t){this.counterIncrement=pi(e,ni,t.counterIncrement),this.counterReset=pi(e,ii,t.counterReset)},pi=function(e,t,n){var i=new Qe;n=null!=n?n.toString():t.initialValue,i.write(n);var r=new Ve(i.read());switch(t.type){case 2:var o=r.parseComponentValue();return t.parse(e,Ge(o)?o.value:t.initialValue);case 0:return t.parse(e,r.parseComponentValue());case 1:return t.parse(e,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(t.format){case"angle":return pt(0,r.parseComponentValue());case"color":return gt(e,r.parseComponentValue());case"image":return Ot(e,r.parseComponentValue());case"length":var a=r.parseComponentValue();return et(a)?a:ut;case"length-percentage":return tt(a=r.parseComponentValue())?a:ut;case"time":return zn(0,r.parseComponentValue())}}},Ai=function(e,t){return 1===(e=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(e))||t===e},gi=function(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Ai(t,3),this.styles=new ui(e,window.getComputedStyle(t,null)),Hr(t)&&(this.styles.animationDuration.some((function(e){return 0<e}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=l(this.context,t),Ai(t,4)&&(this.flags|=16)},mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vi="undefined"==typeof Uint8Array?[]:new Uint8Array(256),yi=0;yi<64;yi++)vi[mi.charCodeAt(yi)]=yi;function bi(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))}var wi=(xi.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=this.index[e>>5],this.data[t=(t<<2)+(31&e)];if(e<=65535)return t=this.index[2048+(e-55296>>5)],this.data[t=(t<<2)+(31&e)];if(e<this.highStart)return t=this.index[t=2080+(e>>11)],t=this.index[t+=e>>5&63],this.data[t=(t<<2)+(31&e)];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},xi);function xi(e,t,n,i,r,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=o}for(var Ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_i="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ki=0;ki<64;ki++)_i[Ci.charCodeAt(ki)]=ki;function Si(e){return Ni.get(e)}function Ei(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]}var Ti,Bi,Ii,Di,Fi,Mi,Li=8,Pi=9,Ri=11,Oi=12,Ni=(Ii=function(e){var t,n,i,r,o=.75*e.length,a=e.length,s=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--),o=new("undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(o);for(var l=Array.isArray(o)?o:new Uint8Array(o),c=0;c<a;c+=4)t=vi[e.charCodeAt(c)],n=vi[e.charCodeAt(c+1)],i=vi[e.charCodeAt(c+2)],r=vi[e.charCodeAt(c+3)],l[s++]=t<<2|n>>4,l[s++]=(15&n)<<4|i>>2,l[s++]=(3&i)<<6|63&r;return o}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),Di=Array.isArray(Ii)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n}(Ii):new Uint32Array(Ii),Fi=Array.isArray(Ii)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n}(Ii):new Uint16Array(Ii),Ti=bi(Fi,12,Di[4]/2),Bi=2===Di[5]?bi(Fi,(24+Di[4])/2):(Ii=Di,Fi=Math.ceil((24+Di[4])/4),Ii.slice?Ii.slice(Fi,Bi):new Uint32Array(Array.prototype.slice.call(Ii,Fi,Bi))),new wi(Di[0],Di[1],Di[2],Di[3],Ti,Bi)),Ui="",Hi=function(e,t,n,i,r){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg");return o=document.createElementNS(o,"foreignObject"),a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},$i=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Qi={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");if(n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),t=t.getBoundingClientRect(),t=Math.round(t.height),e.body.removeChild(n),123===t)return!0}}return!1}(document);return Object.defineProperty(Qi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Qi.SUPPORT_RANGE_BOUNDS&&function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var i=t.firstChild,r=c(i.data).map((function(e){return u(e)})),o=0,a={};return r=r.every((function(e,t){n.setStart(i,o),n.setEnd(i,o+e.length);var r=n.getBoundingClientRect();return o+=e.length,e=r.x>a.x||r.y>a.y,a=r,0===t||e})),e.body.removeChild(t),r}(document);return Object.defineProperty(Qi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas");if(!(e=n.getContext("2d")))return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{e.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(Qi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,n,n);var r=new Image,o=t.toDataURL();return r.src=o,r=Hi(n,n,0,0,r),i.fillStyle="red",i.fillRect(0,0,n,n),$i(r).then((function(t){i.drawImage(t,0,0);var r=i.getImageData(0,0,n,n).data;return i.fillStyle="red",i.fillRect(0,0,n,n),(t=e.createElement("div")).style.backgroundImage="url("+o+")",t.style.height="100px",Ei(r)?$i(Hi(n,n,0,0,t)):Promise.reject(!1)})).then((function(e){return i.drawImage(e,0,0),Ei(i.getImageData(0,0,n,n).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Qi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Qi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Qi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Qi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Qi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Wi=function(e,t){this.text=e,this.bounds=t},Vi=function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");return(i=i.createRange()).setStart(e,t),i.setEnd(e,t+n),i},ji=function(e){if(Qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return function(e){for(var t,n=function(e){var t=function(e){for(var t=[],n=0,i=e.length;n<i;){var r,o=e.charCodeAt(n++);55296<=o&&o<=56319&&n<i?56320==(64512&(r=e.charCodeAt(n++)))?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--):t.push(o)}return t}(e),n=t.length,i=0,r=0,o=t.map(Si);return{next:function(){if(n<=i)return{done:!0,value:null};for(var e=Ui;i<n&&(e=function(e,t){var n=t-2,i=e[n],r=e[t-1];if(t=e[t],2===r&&3===t)return Ui;if(2===r||3===r||4===r)return"";if(2===t||3===t||4===t)return"";if(r===Li&&-1!==[Li,Pi,Ri,Oi].indexOf(t))return Ui;if(!(r!==Ri&&r!==Pi||t!==Pi&&10!==t))return Ui;if((r===Oi||10===r)&&10===t)return Ui;if(13===t||5===t)return Ui;if(7===t)return Ui;if(1===r)return Ui;if(13===r&&14===t){for(;5===i;)i=e[--n];if(14===i)return Ui}if(15===r&&15===t){for(var o=0;15===i;)o++,i=e[--n];if(o%2==0)return Ui}return""}(o,++i))===Ui;);if(e===Ui&&i!==n)return{done:!0,value:null};var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,o="";++r<n;){var a=e[r];a<=65535?i.push(a):(a-=65536,i.push(55296+(a>>10),a%1024+56320)),(r+1===n||16384<i.length)&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return o}.apply(null,t.slice(r,i));return r=i,{value:a,done:!1}}}}(e),i=[];!(t=n.next()).done;)t.value&&i.push(t.value.slice());return i}(e)},zi=[32,160,4961,65792,65793,4153,4241],Ki=function(e,t){for(var n,i=he(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),r=[];!(n=i.next()).done;)!function(){var e,t;n.value&&(e=n.value.slice(),e=c(e),t="",e.forEach((function(e){-1===zi.indexOf(e)?t+=u(e):(t.length&&r.push(t),r.push(u(e)),t="")})),t.length&&r.push(t))}();return r},Gi=function(e,t,n){var i,r,o,s,c;this.text=qi(t.data,n.textTransform),this.textBounds=(i=e,e=this.text,o=t,e=function(e,t){return 0!==t.letterSpacing?ji(e):function(e,t){if(Qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Ki(e,t)}(e,t)}(e,r=n),s=[],c=0,e.forEach((function(e){var t,n,u;r.textDecorationLine.length||0<e.trim().length?Qi.SUPPORT_RANGE_BOUNDS?1<(u=Vi(o,c,e.length).getClientRects()).length?(t=ji(e),n=0,t.forEach((function(e){s.push(new Wi(e,a.fromDOMRectList(i,Vi(o,n+c,e.length).getClientRects()))),n+=e.length}))):s.push(new Wi(e,a.fromDOMRectList(i,u))):(u=o.splitText(e.length),s.push(new Wi(e,function(e,t){var n=t.ownerDocument;if(n){var i=n.createElement("html2canvaswrapper");if(i.appendChild(t.cloneNode(!0)),n=t.parentNode)return n.replaceChild(i,t),e=l(e,i),i.firstChild&&n.replaceChild(i.firstChild,i),e}return a.EMPTY}(i,o))),o=u):Qi.SUPPORT_RANGE_BOUNDS||(o=o.splitText(e.length)),c+=e.length})),s)},qi=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Yi,Xi);case 2:return e.toUpperCase();default:return e}},Yi=/(^|\s|:|-|\(|\))([a-z])/g,Xi=function(e,t,n){return 0<e.length?t+n.toUpperCase():e},Ji=(t(Zi,Mi=gi),Zi);function Zi(e,t){return(e=Mi.call(this,e,t)||this).src=t.currentSrc||t.src,e.intrinsicWidth=t.naturalWidth,e.intrinsicHeight=t.naturalHeight,e.context.cache.addImage(e.src),e}var er,tr=(t(nr,er=gi),nr);function nr(e,t){return(e=er.call(this,e,t)||this).canvas=t,e.intrinsicWidth=t.width,e.intrinsicHeight=t.height,e}var ir,rr=(t(or,ir=gi),or);function or(e,t){var n=ir.call(this,e,t)||this,i=new XMLSerializer;return e=l(e,t),t.setAttribute("width",e.width+"px"),t.setAttribute("height",e.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(t)),n.intrinsicWidth=t.width.baseVal.value,n.intrinsicHeight=t.height.baseVal.value,n.context.cache.addImage(n.svg),n}var ar,sr=(t(lr,ar=gi),lr);function lr(e,t){return(e=ar.call(this,e,t)||this).value=t.value,e}var cr,ur=(t(dr,cr=gi),dr);function dr(e,t){return(e=cr.call(this,e,t)||this).start=t.start,e.reversed="boolean"==typeof t.reversed&&!0===t.reversed,e}var hr,fr=[{type:15,flags:0,unit:"px",number:3}],pr=[{type:16,flags:0,number:50}],Ar="checkbox",gr="radio",mr=707406591,vr=(t(yr,hr=gi),yr);function yr(e,t){var n=hr.call(this,e,t)||this;switch(n.type=t.type.toLowerCase(),n.checked=t.checked,n.value=0===(t="password"===(e=t).type?new Array(e.value.length+1).join(""):e.value).length?e.placeholder||"":t,n.type!==Ar&&n.type!==gr||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=(t=n.bounds).width>t.height?new a(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new a(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t),n.type){case Ar:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=fr;break;case gr:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=pr}return n}var br,wr=(t(xr,br=gi),xr);function xr(e,t){return e=br.call(this,e,t)||this,t=t.options[t.selectedIndex||0],e.value=t&&t.text||"",e}var Cr,_r=(t(kr,Cr=gi),kr);function kr(e,t){return(e=Cr.call(this,e,t)||this).value=t.value,e}var Sr,Er=(t(Tr,Sr=gi),Tr);function Tr(e,t){var n,i,r=Sr.call(this,e,t)||this;r.src=t.src,r.width=parseInt(t.width,10)||0,r.height=parseInt(t.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement&&(r.tree=Pr(e,t.contentWindow.document.documentElement),n=t.contentWindow.document.documentElement?bt(e,getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):Tt.TRANSPARENT,i=t.contentWindow.document.body?bt(e,getComputedStyle(t.contentWindow.document.body).backgroundColor):Tt.TRANSPARENT,r.backgroundColor=at(n)?at(i)?r.styles.backgroundColor:i:n)}catch(e){}return r}function Br(e){return"VIDEO"===e.tagName}function Ir(e){return"STYLE"===e.tagName}function Dr(e){return 0<e.tagName.indexOf("-")}var Fr=["OL","UL","MENU"],Mr=function(e,t,n,i){for(var r=t.firstChild;r;r=a){var o,a=r.nextSibling;Nr(r)&&0<r.data.trim().length?n.textNodes.push(new Gi(e,r,n.styles)):Ur(r)&&(Jr(r)&&r.assignedNodes?r.assignedNodes().forEach((function(t){return Mr(e,t,n,i)})):(o=Lr(e,r)).styles.isVisible()&&(Rr(r,o,i)?o.flags|=4:Or(o.styles)&&(o.flags|=2),-1!==Fr.indexOf(r.tagName)&&(o.flags|=8),n.elements.push(o),r.slot,r.shadowRoot?Mr(e,r.shadowRoot,o,i):Yr(r)||jr(r)||Xr(r)||Mr(e,r,o,i)))}},Lr=function(e,t){return new(Gr(t)?Ji:Kr(t)?tr:jr(t)?rr:Qr(t)?sr:Wr(t)?ur:Vr(t)?vr:Xr(t)?wr:Yr(t)?_r:qr(t)?Er:gi)(e,t)},Pr=function(e,t){var n=Lr(e,t);return n.flags|=4,Mr(e,t,n,n),n},Rr=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||zr(e)&&n.styles.isTransparent()},Or=function(e){return e.isPositioned()||e.isFloating()},Nr=function(e){return e.nodeType===Node.TEXT_NODE},Ur=function(e){return e.nodeType===Node.ELEMENT_NODE},Hr=function(e){return Ur(e)&&void 0!==e.style&&!$r(e)},$r=function(e){return"object"==typeof e.className},Qr=function(e){return"LI"===e.tagName},Wr=function(e){return"OL"===e.tagName},Vr=function(e){return"INPUT"===e.tagName},jr=function(e){return"svg"===e.tagName},zr=function(e){return"BODY"===e.tagName},Kr=function(e){return"CANVAS"===e.tagName},Gr=function(e){return"IMG"===e.tagName},qr=function(e){return"IFRAME"===e.tagName},Yr=function(e){return"TEXTAREA"===e.tagName},Xr=function(e){return"SELECT"===e.tagName},Jr=function(e){return"SLOT"===e.tagName},Zr=(eo.prototype.getCounterValue=function(e){return(e=this.counters[e])&&e.length?e[e.length-1]:1},eo.prototype.getCounterValues=function(e){return(e=this.counters[e])||[]},eo.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},eo.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=(e=e.counterReset,!0);null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var r=[];return i&&e.forEach((function(e){var n=t.counters[e.counter];r.push(e.counter),(n=n||(t.counters[e.counter]=[])).push(e.reset)})),r},eo);function eo(){this.counters={}}function to(e,t,n,i,r,o){return e<t||n<e?fo(e,r,0<o.length):i.integers.reduce((function(t,n,r){for(;n<=e;)e-=n,t+=i.values[r];return t}),"")+o}function no(e,t,n,i){for(var r="";n||e--,r=i(e)+r,t<=(e/=t)*t;);return r}function io(e,t,n,i,r){var o=n-t+1;return(e<0?"-":"")+(no(Math.abs(e),o,i,(function(e){return u(Math.floor(e%o)+t)}))+r)}function ro(e,t,n){void 0===n&&(n=". ");var i=t.length;return no(Math.abs(e),i,!1,(function(e){return t[Math.floor(e%i)]}))+n}function oo(e,t,n,i,r,o){if(e<-9999||9999<e)return fo(e,4,0<r.length);var a=Math.abs(e),s=r;if(0===a)return t[0]+s;for(var l=0;0<a&&l<=4;l++){var c=a%10;0==c&&Qn(o,1)&&""!==s?s=t[c]+s:1<c||1==c&&0===l||1==c&&1===l&&Qn(o,2)||1==c&&1===l&&Qn(o,4)&&100<e||1==c&&1<l&&Qn(o,8)?s=t[c]+(0<l?n[l-1]:"")+s:1==c&&0<l&&(s=n[l-1]+s),a=Math.floor(a/10)}return(e<0?i:"")+s}var ao,so={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},lo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},co={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},uo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ho="",fo=function(e,t,n){var i=n?". ":"",r=n?"":"",o=n?", ":"",a=n?" ":"";switch(t){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var s=io(e,48,57,!0,i);return s.length<4?"0"+s:s;case 4:return ro(e,"",r);case 6:return to(e,1,3999,so,3,i).toLowerCase();case 7:return to(e,1,3999,so,3,i);case 8:return io(e,945,969,!1,i);case 9:return io(e,97,122,!1,i);case 10:return io(e,65,90,!1,i);case 11:return io(e,1632,1641,!0,i);case 12:case 49:return to(e,1,9999,lo,3,i);case 35:return to(e,1,9999,lo,3,i).toLowerCase();case 13:return io(e,2534,2543,!0,i);case 14:case 30:return io(e,6112,6121,!0,i);case 15:return ro(e,"",r);case 16:return ro(e,"",r);case 17:case 48:return oo(e,"","","",r,14);case 47:return oo(e,"","","",r,15);case 42:return oo(e,"","","",r,14);case 41:return oo(e,"","","",r,15);case 26:return oo(e,"","","",r,0);case 25:return oo(e,"","","",r,7);case 31:return oo(e,"","",ho,o,7);case 33:return oo(e,"","",ho,o,0);case 32:return oo(e,"","",ho,o,7);case 18:return io(e,2406,2415,!0,i);case 20:return to(e,1,19999,uo,3,i);case 21:return io(e,2790,2799,!0,i);case 22:return io(e,2662,2671,!0,i);case 22:return to(e,1,10999,co,3,i);case 23:return ro(e,"");case 24:return ro(e,"");case 27:return io(e,3302,3311,!0,i);case 28:return ro(e,"",r);case 29:return ro(e,"",r);case 34:return io(e,3792,3801,!0,i);case 37:return io(e,6160,6169,!0,i);case 38:return io(e,4160,4169,!0,i);case 39:return io(e,2918,2927,!0,i);case 40:return io(e,1776,1785,!0,i);case 43:return io(e,3046,3055,!0,i);case 44:return io(e,3174,3183,!0,i);case 45:return io(e,3664,3673,!0,i);case 46:return io(e,3872,3881,!0,i);default:return io(e,48,57,!0,i)}},po="data-html2canvas-ignore",Ao=(go.prototype.toIFrame=function(e,t){var n=this,o=vo(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,l=o.contentWindow,c=l.document;return e=bo(o).then((function(){return i(n,void 0,void 0,(function(){var e,n;return r(this,(function(i){switch(i.label){case 0:return this.scrolledElements.forEach(ko),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:i.sent(),i.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yo(c)]:[3,4];case 3:i.sent(),i.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(c,n)})).then((function(){return o}))]:[2,o]}}))}))})),c.open(),c.write(Co(document.doctype)+"<html></html>"),_o(this.referenceElement.ownerDocument,a,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),e},go.prototype.createElementClone=function(e){if(Ai(e,2),Kr(e))return this.createCanvasClone(e);if(Br(e))return this.createVideoClone(e);if(Ir(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Gr(t)&&(Gr(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Dr(t)?this.createCustomElementClone(t):t},go.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return xo(e.style,t),t},go.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},go.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var i,r,o=e.getContext("2d"),a=n.getContext("2d");return a&&(!this.options.allowTaint&&o?a.putImageData(o.getImageData(0,0,e.width,e.height),0,0):(!(i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl"))||!1===(null==(r=i.getContextAttributes())?void 0:r.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e),a.drawImage(e,0,0))),n}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},go.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",e)}return(t=e.ownerDocument.createElement("canvas")).width=e.offsetWidth,t.height=e.offsetHeight,t},go.prototype.appendChildNode=function(e,t,n){Ur(t)&&("SCRIPT"===t.tagName||t.hasAttribute(po)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&Ur(t)&&Ir(t)||e.appendChild(this.cloneNode(t,n))},go.prototype.cloneChildNodes=function(e,t,n){for(var i,r=this,o=(e.shadowRoot||e).firstChild;o;o=o.nextSibling)Ur(o)&&Jr(o)&&"function"==typeof o.assignedNodes?(i=o.assignedNodes()).length&&i.forEach((function(e){return r.appendChildNode(t,e,n)})):this.appendChildNode(t,o,n)},go.prototype.cloneNode=function(e,t){if(Nr(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ur(e)&&(Hr(e)||$r(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var r=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");return this.referenceElement===e&&Hr(i)&&(this.clonedReferenceElement=i),zr(i)&&Bo(i),n=this.counters.parse(new fi(this.context,r)),o=this.resolvePseudoContent(e,i,o,ao.BEFORE),Dr(e)&&(t=!0),Br(e)||this.cloneChildNodes(e,i,t),o&&i.insertBefore(o,i.firstChild),(a=this.resolvePseudoContent(e,i,a,ao.AFTER))&&i.appendChild(a),this.counters.pop(n),(r&&(this.options.copyStyles||$r(e))&&!qr(e)||t)&&xo(r,i),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Yr(e)||Xr(e))&&(Yr(i)||Xr(i))&&(i.value=e.value),i}return e.cloneNode(!1)},go.prototype.resolvePseudoContent=function(e,t,n,i){var r=this;if(n){var o=n.content,a=t.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new fi(this.context,n));var s=new hi(this.context,n),l=a.createElement("html2canvaspseudoelement");return xo(n,l),s.content.forEach((function(t){if(0===t.type)l.appendChild(a.createTextNode(t.value));else if(22===t.type){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){var i,o,c,u,d;"attr"===t.name?(n=t.values.filter(Ge)).length&&l.appendChild(a.createTextNode(e.getAttribute(n[0].value)||"")):"counter"===t.name?(c=(o=t.values.filter(Je))[0],o=o[1],c&&Ge(c)&&(i=r.counters.getCounterValue(c.value),d=o&&Ge(o)?xn.parse(r.context,o.value):3,l.appendChild(a.createTextNode(fo(i,d,!1))))):"counters"===t.name&&(c=(i=t.values.filter(Je))[0],d=i[1],o=i[2],c&&Ge(c)&&(c=r.counters.getCounterValues(c.value),u=o&&Ge(o)?xn.parse(r.context,o.value):3,d=d&&0===d.type?d.value:"",d=c.map((function(e){return fo(e,u,!1)})).join(d),l.appendChild(a.createTextNode(d))))}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(a.createTextNode(Wn(s.quotes,r.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(Wn(s.quotes,--r.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(t.value))}})),l.className=So+" "+Eo,i=i===ao.BEFORE?" "+So:" "+Eo,$r(t)?t.className.baseValue+=i:t.className+=i,l}}},go.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},go);function go(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Zr,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}function mo(e){return new Promise((function(t){!e.complete&&e.src?(e.onload=t,e.onerror=t):t()}))}(vt=ao=ao||{})[vt.BEFORE=0]="BEFORE",vt[vt.AFTER=1]="AFTER";var vo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(po,"true"),e.body.appendChild(n),n},yo=function(e){return Promise.all([].slice.call(e.images,0).map(mo))},bo=function(e){return new Promise((function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=e.onload=function(){i.onload=e.onload=null;var n=setInterval((function(){0<r.body.childNodes.length&&"complete"===r.readyState&&(clearInterval(n),t(e))}),50)}}))},wo=["all","d","content"],xo=function(e,t){for(var n=e.length-1;0<=n;n--){var i=e.item(n);-1===wo.indexOf(i)&&t.style.setProperty(i,e.getPropertyValue(i))}return t},Co=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},_o=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},ko=function(e){var t=e[0],n=e[1];e=e[2],t.scrollLeft=n,t.scrollTop=e},So="___html2canvas___pseudoelement_before",Eo="___html2canvas___pseudoelement_after",To='{\n    content: "" !important;\n    display: none !important;\n}',Bo=function(e){Io(e,"."+So+":before"+To+"\n         ."+Eo+":after"+To)},Io=function(e,t){var n=e.ownerDocument;n&&((n=n.createElement("style")).textContent=t,e.appendChild(n))},Do=(Fo.getOrigin=function(e){var t=Fo._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},Fo.isSameOrigin=function(e){return Fo.getOrigin(e)===Fo._origin},Fo.setContext=function(e){Fo._link=e.document.createElement("a"),Fo._origin=Fo.getOrigin(e.location.href)},Fo._origin="about:blank",Fo);function Fo(){}var Mo=(Lo.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||($o(e)||No(e))&&(this._cache[e]=this.loadImage(e)).catch((function(){})),t},Lo.prototype.match=function(e){return this._cache[e]},Lo.prototype.loadImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,a=this;return r(this,(function(r){switch(r.label){case 0:return t=Do.isSameOrigin(e),n=!Uo(e)&&!0===this._options.useCORS&&Qi.SUPPORT_CORS_IMAGES&&!t,i=!Uo(e)&&!t&&!$o(e)&&"string"==typeof this._options.proxy&&Qi.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Uo(e)||$o(e)||i||n?(o=e,i?[4,this.proxy(o)]:[3,2]):[2];case 1:o=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,(Ho(o)||n)&&(i.crossOrigin="anonymous"),i.src=o,!0===i.complete&&setTimeout((function(){return e(i)}),500),0<a._options.imageTimeout&&setTimeout((function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},Lo.prototype.has=function(e){return void 0!==this._cache[e]},Lo.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Lo.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise((function(r,o){var a=Qi.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){var e;200===s.status?"text"==a?r(s.response):((e=new FileReader).addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(s.response)):o("Failed to proxy resource "+i+" with status code "+s.status)},s.onerror=o;var l,c=-1<n.indexOf("?")?"&":"?";s.open("GET",n+c+"url="+encodeURIComponent(e)+"&responseType="+a),"text"!=a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout&&(l=t._options.imageTimeout,s.timeout=l,s.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+i)}),s.send()}))},Lo);function Lo(e,t){this.context=e,this._options=t,this._cache={}}var Po=/^data:image\/svg\+xml/i,Ro=/^data:image\/.*;base64,/i,Oo=/^data:image\/.*/i,No=function(e){return Qi.SUPPORT_SVG_DRAWING||!Qo(e)},Uo=function(e){return Oo.test(e)},Ho=function(e){return Ro.test(e)},$o=function(e){return"blob"===e.substr(0,4)},Qo=function(e){return"svg"===e.substr(-3).toLowerCase()||Po.test(e)},Wo=(Vo.prototype.add=function(e,t){return new Vo(this.x+e,this.y+t)},Vo);function Vo(e,t){this.type=0,this.x=e,this.y=t}function jo(e,t,n){return new Wo(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)}var zo=(Ko.prototype.subdivide=function(e,t){var n=jo(this.start,this.startControl,e),i=jo(this.startControl,this.endControl,e),r=jo(this.endControl,this.end,e),o=jo(n,i,e);return i=jo(i,r,e),e=jo(o,i,e),t?new Ko(this.start,n,o,e):new Ko(e,i,r,this.end)},Ko.prototype.add=function(e,t){return new Ko(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},Ko.prototype.reverse=function(){return new Ko(this.end,this.endControl,this.startControl,this.start)},Ko);function Ko(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}function Go(e){return 1===e.type}var qo,Yo=function(e){var t=e.styles,n=e.bounds,i=(g=it(t.borderTopLeftRadius,n.width,n.height))[0],r=g[1],o=(m=it(t.borderTopRightRadius,n.width,n.height))[0],a=m[1],s=(v=it(t.borderBottomRightRadius,n.width,n.height))[0],l=v[1],c=(y=it(t.borderBottomLeftRadius,n.width,n.height))[0],u=y[1];(b=[]).push((i+o)/n.width),b.push((c+s)/n.width),b.push((r+u)/n.height),b.push((a+l)/n.height),1<(w=Math.max.apply(Math,b))&&(i/=w,r/=w,o/=w,a/=w,s/=w,l/=w,c/=w,u/=w);var d=n.width-o,h=n.height-l,f=n.width-s,p=n.height-u,A=t.borderTopWidth,g=t.borderRightWidth,m=t.borderBottomWidth,v=t.borderLeftWidth,y=ft(t.paddingTop,e.bounds.width),b=ft(t.paddingRight,e.bounds.width),w=ft(t.paddingBottom,e.bounds.width);e=ft(t.paddingLeft,e.bounds.width),this.topLeftBorderDoubleOuterBox=0<i||0<r?ta(n.left+v/3,n.top+A/3,i-v/3,r-A/3,qo.TOP_LEFT):new Wo(n.left+v/3,n.top+A/3),this.topRightBorderDoubleOuterBox=0<i||0<r?ta(n.left+d,n.top+A/3,o-g/3,a-A/3,qo.TOP_RIGHT):new Wo(n.left+n.width-g/3,n.top+A/3),this.bottomRightBorderDoubleOuterBox=0<s||0<l?ta(n.left+f,n.top+h,s-g/3,l-m/3,qo.BOTTOM_RIGHT):new Wo(n.left+n.width-g/3,n.top+n.height-m/3),this.bottomLeftBorderDoubleOuterBox=0<c||0<u?ta(n.left+v/3,n.top+p,c-v/3,u-m/3,qo.BOTTOM_LEFT):new Wo(n.left+v/3,n.top+n.height-m/3),this.topLeftBorderDoubleInnerBox=0<i||0<r?ta(n.left+2*v/3,n.top+2*A/3,i-2*v/3,r-2*A/3,qo.TOP_LEFT):new Wo(n.left+2*v/3,n.top+2*A/3),this.topRightBorderDoubleInnerBox=0<i||0<r?ta(n.left+d,n.top+2*A/3,o-2*g/3,a-2*A/3,qo.TOP_RIGHT):new Wo(n.left+n.width-2*g/3,n.top+2*A/3),this.bottomRightBorderDoubleInnerBox=0<s||0<l?ta(n.left+f,n.top+h,s-2*g/3,l-2*m/3,qo.BOTTOM_RIGHT):new Wo(n.left+n.width-2*g/3,n.top+n.height-2*m/3),this.bottomLeftBorderDoubleInnerBox=0<c||0<u?ta(n.left+2*v/3,n.top+p,c-2*v/3,u-2*m/3,qo.BOTTOM_LEFT):new Wo(n.left+2*v/3,n.top+n.height-2*m/3),this.topLeftBorderStroke=0<i||0<r?ta(n.left+v/2,n.top+A/2,i-v/2,r-A/2,qo.TOP_LEFT):new Wo(n.left+v/2,n.top+A/2),this.topRightBorderStroke=0<i||0<r?ta(n.left+d,n.top+A/2,o-g/2,a-A/2,qo.TOP_RIGHT):new Wo(n.left+n.width-g/2,n.top+A/2),this.bottomRightBorderStroke=0<s||0<l?ta(n.left+f,n.top+h,s-g/2,l-m/2,qo.BOTTOM_RIGHT):new Wo(n.left+n.width-g/2,n.top+n.height-m/2),this.bottomLeftBorderStroke=0<c||0<u?ta(n.left+v/2,n.top+p,c-v/2,u-m/2,qo.BOTTOM_LEFT):new Wo(n.left+v/2,n.top+n.height-m/2),this.topLeftBorderBox=0<i||0<r?ta(n.left,n.top,i,r,qo.TOP_LEFT):new Wo(n.left,n.top),this.topRightBorderBox=0<o||0<a?ta(n.left+d,n.top,o,a,qo.TOP_RIGHT):new Wo(n.left+n.width,n.top),this.bottomRightBorderBox=0<s||0<l?ta(n.left+f,n.top+h,s,l,qo.BOTTOM_RIGHT):new Wo(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=0<c||0<u?ta(n.left,n.top+p,c,u,qo.BOTTOM_LEFT):new Wo(n.left,n.top+n.height),this.topLeftPaddingBox=0<i||0<r?ta(n.left+v,n.top+A,Math.max(0,i-v),Math.max(0,r-A),qo.TOP_LEFT):new Wo(n.left+v,n.top+A),this.topRightPaddingBox=0<o||0<a?ta(n.left+Math.min(d,n.width-g),n.top+A,d>n.width+g?0:Math.max(0,o-g),Math.max(0,a-A),qo.TOP_RIGHT):new Wo(n.left+n.width-g,n.top+A),this.bottomRightPaddingBox=0<s||0<l?ta(n.left+Math.min(f,n.width-v),n.top+Math.min(h,n.height-m),Math.max(0,s-g),Math.max(0,l-m),qo.BOTTOM_RIGHT):new Wo(n.left+n.width-g,n.top+n.height-m),this.bottomLeftPaddingBox=0<c||0<u?ta(n.left+v,n.top+Math.min(p,n.height-m),Math.max(0,c-v),Math.max(0,u-m),qo.BOTTOM_LEFT):new Wo(n.left+v,n.top+n.height-m),this.topLeftContentBox=0<i||0<r?ta(n.left+v+e,n.top+A+y,Math.max(0,i-(v+e)),Math.max(0,r-(A+y)),qo.TOP_LEFT):new Wo(n.left+v+e,n.top+A+y),this.topRightContentBox=0<o||0<a?ta(n.left+Math.min(d,n.width+v+e),n.top+A+y,d>n.width+v+e?0:o-v+e,a-(A+y),qo.TOP_RIGHT):new Wo(n.left+n.width-(g+b),n.top+A+y),this.bottomRightContentBox=0<s||0<l?ta(n.left+Math.min(f,n.width-(v+e)),n.top+Math.min(h,n.height+A+y),Math.max(0,s-(g+b)),l-(m+w),qo.BOTTOM_RIGHT):new Wo(n.left+n.width-(g+b),n.top+n.height-(m+w)),this.bottomLeftContentBox=0<c||0<u?ta(n.left+v+e,n.top+p,Math.max(0,c-(v+e)),u-(m+w),qo.BOTTOM_LEFT):new Wo(n.left+v+e,n.top+n.height-(m+w))};function Xo(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]}function Jo(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]}function Zo(e){return 1===e.type}function ea(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))}(vt=qo=qo||{})[vt.TOP_LEFT=0]="TOP_LEFT",vt[vt.TOP_RIGHT=1]="TOP_RIGHT",vt[vt.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",vt[vt.BOTTOM_LEFT=3]="BOTTOM_LEFT";var ta=function(e,t,n,i,r){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=i*o,l=e+n,c=t+i;switch(r){case qo.TOP_LEFT:return new zo(new Wo(e,c),new Wo(e,c-s),new Wo(l-a,t),new Wo(l,t));case qo.TOP_RIGHT:return new zo(new Wo(e,t),new Wo(e+a,t),new Wo(l,c-s),new Wo(l,c));case qo.BOTTOM_RIGHT:return new zo(new Wo(l,t),new Wo(l,t+s),new Wo(e+a,c),new Wo(e,c));default:return qo.BOTTOM_LEFT,new zo(new Wo(l,c),new Wo(l-a,c),new Wo(e,t+s),new Wo(e,t))}},na=function(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6},ia=function(e,t){this.path=e,this.target=t,this.type=1},ra=function(e){this.opacity=e,this.type=2,this.target=6},oa=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},aa=(sa.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,i=this.effects.slice(0);n;){var r,o=n.effects.filter((function(e){return!Zo(e)}));t||0!==n.container.styles.position||!n.parent?(i.unshift.apply(i,o),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX&&(ea(Xo(n.curves),r=Jo(n.curves))||i.unshift(new ia(r,6)))):i.unshift.apply(i,o),n=n.parent}return i.filter((function(t){return Qn(t.target,e)}))},sa);function sa(e,t){var n,i;this.container=e,this.parent=t,this.effects=[],this.curves=new Yo(this.container),this.container.styles.opacity<1&&this.effects.push(new ra(this.container.styles.opacity)),null!==this.container.styles.transform&&(t=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform,this.effects.push(new na(t,n,i))),0!==this.container.styles.overflowX&&(ea(n=Xo(this.curves),i=Jo(this.curves))?this.effects.push(new ia(n,6)):(this.effects.push(new ia(n,2)),this.effects.push(new ia(i,4))))}function la(e,t){switch(t){case 0:return ma(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ma(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ma(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return ma(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}function ca(e){var t=e.bounds;return e=e.styles,t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))}function ua(e){var t=e.styles,n=e.bounds,i=ft(t.paddingLeft,n.width),r=ft(t.paddingRight,n.width),o=ft(t.paddingTop,n.width);return e=ft(t.paddingBottom,n.width),n.add(i+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+o+e))}function da(e,t,n){var i=(o=e,0===(r=ya(e.styles.backgroundOrigin,t))?o.bounds:(2===r?ua:ca)(o)),r=(s=e,0===(a=ya(e.styles.backgroundClip,t))?s.bounds:(2===a?ua:ca)(s)),o=va(ya(e.styles.backgroundSize,t),n,i),a=o[0],s=o[1];return n=it(ya(e.styles.backgroundPosition,t),i.width-a,i.height-s),[ba(ya(e.styles.backgroundRepeat,t),n,o,i,r),Math.round(i.left+n[0]),Math.round(i.top+n[1]),a,s]}function ha(e){return Ge(e)&&e.value===kt.AUTO}function fa(e){return"number"==typeof e}var pa=function(e,t,n,i){e.container.elements.forEach((function(r){var o=Qn(r.flags,4),a=Qn(r.flags,2),s=new aa(r,e);Qn(r.styles.display,2048)&&i.push(s);var l,c,u,d,h=Qn(r.flags,8)?[]:i;o||a?(l=o||r.styles.isPositioned()?n:t,a=new oa(s),r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()?(c=r.styles.zIndex.order)<0?(u=0,l.negativeZIndex.some((function(e,t){return c>e.element.container.styles.zIndex.order?(u=t,!1):0<u})),l.negativeZIndex.splice(u,0,a)):0<c?(d=0,l.positiveZIndex.some((function(e,t){return c>=e.element.container.styles.zIndex.order?(d=t+1,!1):0<d})),l.positiveZIndex.splice(d,0,a)):l.zeroOrAutoZIndexOrTransformedOrOpacity.push(a):(r.styles.isFloating()?l.nonPositionedFloats:l.nonPositionedInlineLevel).push(a),pa(s,a,o?a:n,h)):((r.styles.isInlineLevel()?t.inlineLevel:t.nonInlineLevel).push(s),pa(s,t,n,h)),Qn(r.flags,8)&&Aa(r,h)}))},Aa=function(e,t){for(var n=e instanceof ur?e.start:1,i=e instanceof ur&&e.reversed,r=0;r<t.length;r++){var o=t[r];o.container instanceof sr&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=fo(n,o.container.styles.listStyleType,!0),n+=i?-1:1}},ga=function(e,t){var n=[];return Go(e)?n.push(e.subdivide(.5,!1)):n.push(e),Go(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ma=function(e,t,n,i){var r=[];return Go(e)?r.push(e.subdivide(.5,!1)):r.push(e),Go(n)?r.push(n.subdivide(.5,!0)):r.push(n),Go(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Go(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},va=function(e,t,n){var i=t[0],r=t[1],o=t[2],a=e[0],s=e[1];if(!a)return[0,0];if(tt(a)&&s&&tt(s))return[ft(a,n.width),ft(s,n.height)];var l=fa(o);if(Ge(a)&&(a.value===kt.CONTAIN||a.value===kt.COVER))return fa(o)?n.width/n.height<o!=(a.value===kt.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var c=fa(i);if(t=fa(r),e=c||t,ha(a)&&(!s||ha(s)))return c&&t?[i,r]:l||e?e&&l?[c?i:r*o,t?r:i/o]:[c?i:n.width,t?r:n.height]:[n.width,n.height];if(l){var u=0,d=0;return tt(a)?u=ft(a,n.width):tt(s)&&(d=ft(s,n.height)),ha(a)?u=d*o:s&&!ha(s)||(d=u/o),[u,d]}if(u=null,d=null,tt(a)?u=ft(a,n.width):s&&tt(s)&&(d=ft(s,n.height)),null!==(u=null!==(d=null===u||s&&!ha(s)?d:c&&t?u/i*r:n.height)&&ha(a)?c&&t?d/r*i:n.width:u)&&null!==d)return[u,d];throw new Error("Unable to calculate background-size for element")},ya=function(e,t){return void 0===(t=e[t])?e[0]:t},ba=function(e,t,n,i,r){var o=t[0],a=t[1],s=n[0],l=n[1];switch(e){case 2:return[new Wo(Math.round(i.left),Math.round(i.top+a)),new Wo(Math.round(i.left+i.width),Math.round(i.top+a)),new Wo(Math.round(i.left+i.width),Math.round(l+i.top+a)),new Wo(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new Wo(Math.round(i.left+o),Math.round(i.top)),new Wo(Math.round(i.left+o+s),Math.round(i.top)),new Wo(Math.round(i.left+o+s),Math.round(i.height+i.top)),new Wo(Math.round(i.left+o),Math.round(i.height+i.top))];case 1:return[new Wo(Math.round(i.left+o),Math.round(i.top+a)),new Wo(Math.round(i.left+o+s),Math.round(i.top+a)),new Wo(Math.round(i.left+o+s),Math.round(i.top+a+l)),new Wo(Math.round(i.left+o),Math.round(i.top+a+l))];default:return[new Wo(Math.round(r.left),Math.round(r.top)),new Wo(Math.round(r.left+r.width),Math.round(r.top)),new Wo(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Wo(Math.round(r.left),Math.round(r.height+r.top))]}},wa="Hidden Text",xa=(Ca.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;return n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(wa)),n.appendChild(r),n.appendChild(i),t=i.offsetTop-r.offsetTop+2,n.removeChild(r),n.appendChild(this._document.createTextNode(wa)),n.style.lineHeight="normal",i.style.verticalAlign="super",i=i.offsetTop-n.offsetTop+2,o.removeChild(n),{baseline:t,middle:i}},Ca.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},Ca);function Ca(e){this._data={},this._document=e}vt=function(e,t){this.context=e,this.options=t};var _a,ka=(t(Sa,_a=vt),Sa.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},Sa.prototype.applyEffect=function(e){this.ctx.save(),2===e.type&&(this.ctx.globalAlpha=e.opacity),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Zo(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},Sa.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Sa.prototype.renderStack=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Sa.prototype.renderNode=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return Qn(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},Sa.prototype.renderTextWithLetterSpacing=function(e,t,n){var i=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):ji(e.text).reduce((function(t,r){return i.ctx.fillText(r,t,e.bounds.top+n),t+i.ctx.measureText(r).width}),e.bounds.left)},Sa.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=Fa(e.fontFamily).join(", "),i=ze(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,i,n].join(" "),n,i]},Sa.prototype.renderTextNode=function(e,t){return i(this,void 0,void 0,(function(){var n,i,o,a,s,l,c=this;return r(this,(function(r){return o=this.createFontStyle(t),n=o[0],i=o[1],o=o[2],this.ctx.font=n,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(i,o),a=o.baseline,s=o.middle,l=t.paintOrder,e.textBounds.forEach((function(e){l.forEach((function(n){switch(n){case 0:c.ctx.fillStyle=st(t.color),c.renderTextWithLetterSpacing(e,t.letterSpacing,a);var i=t.textShadow;i.length&&e.text.trim().length&&(i.slice(0).reverse().forEach((function(n){c.ctx.shadowColor=st(n.color),c.ctx.shadowOffsetX=n.offsetX.number*c.options.scale,c.ctx.shadowOffsetY=n.offsetY.number*c.options.scale,c.ctx.shadowBlur=n.blur.number,c.renderTextWithLetterSpacing(e,t.letterSpacing,a)})),c.ctx.shadowColor="",c.ctx.shadowOffsetX=0,c.ctx.shadowOffsetY=0,c.ctx.shadowBlur=0),t.textDecorationLine.length&&(c.ctx.fillStyle=st(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:c.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+a),e.bounds.width,1);break;case 2:c.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:c.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+s),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(c.ctx.strokeStyle=st(t.webkitTextStrokeColor),c.ctx.lineWidth=t.webkitTextStrokeWidth,c.ctx.lineJoin=window.chrome?"miter":"round",c.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+a)),c.ctx.strokeStyle="",c.ctx.lineWidth=0,c.ctx.lineJoin="miter"}}))})),[2]}))}))},Sa.prototype.renderReplacedElement=function(e,t,n){var i;n&&0<e.intrinsicWidth&&0<e.intrinsicHeight&&(i=ua(e),t=Jo(t),this.path(t),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore())},Sa.prototype.renderNodeContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s,l,c,u,d,h,f,p;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,n=e.curves,i=t.styles,o=0,s=t.textNodes,r.label=1;case 1:return o<s.length?(l=s[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:r.sent(),r.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Ji))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return d=r.sent(),this.renderReplacedElement(t,n,d),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof tr&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof rr))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return d=r.sent(),this.renderReplacedElement(t,n,d),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof Er&&t.tree?[4,new Sa(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:l=r.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof vr&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Ar?t.checked&&(this.ctx.save(),this.path([new Wo(t.bounds.left+.39363*u,t.bounds.top+.79*u),new Wo(t.bounds.left+.16*u,t.bounds.top+.5549*u),new Wo(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new Wo(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new Wo(t.bounds.left+.72983*u,t.bounds.top+.23*u),new Wo(t.bounds.left+.84*u,t.bounds.top+.34085*u),new Wo(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=st(mr),this.ctx.fill(),this.ctx.restore()):t.type===gr&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=st(mr),this.ctx.fill(),this.ctx.restore())),Ta(t)&&t.value.length){switch(h=this.createFontStyle(i),f=h[0],u=h[1],h=this.fontMetrics.getMetrics(f,u).baseline,this.ctx.font=f,this.ctx.fillStyle=st(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ia(t.styles.textAlign),p=ua(t),c=0,t.styles.textAlign){case 1:c+=p.width/2;break;case 2:c+=p.width}u=p.add(c,0,0,-p.height/2+1),this.ctx.save(),this.path([new Wo(p.left,p.top),new Wo(p.left+p.width,p.top),new Wo(p.left+p.width,p.top+p.height),new Wo(p.left,p.top+p.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Wi(t.value,u),i.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Qn(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(h=t.styles.listStyleImage).type)return[3,18];d=void 0,h=h.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(h)];case 16:return d=r.sent(),this.ctx.drawImage(d,t.bounds.left-(d.width+10),t.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+h),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(f=this.createFontStyle(i)[0],this.ctx.font=f,this.ctx.fillStyle=st(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",p=new a(t.bounds.left,t.bounds.top+ft(t.styles.paddingTop,t.bounds.width),t.bounds.width,Vt(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Wi(e.listValue,p),i.letterSpacing,Vt(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},Sa.prototype.renderStackContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,a,s,l,c,u,d,h,f,p,A,g;return r(this,(function(r){switch(r.label){case 0:return Qn(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),i=0,o=e.nonInlineLevel,r.label=7;case 7:return i<o.length?(g=o[i],[4,this.renderNode(g)]):[3,10];case 8:r.sent(),r.label=9;case 9:return i++,[3,7];case 10:a=0,s=e.nonPositionedFloats,r.label=11;case 11:return a<s.length?(g=s[a],[4,this.renderStack(g)]):[3,14];case 12:r.sent(),r.label=13;case 13:return a++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,r.label=15;case 15:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,18];case 16:r.sent(),r.label=17;case 17:return l++,[3,15];case 18:u=0,d=e.inlineLevel,r.label=19;case 19:return u<d.length?(g=d[u],[4,this.renderNode(g)]):[3,22];case 20:r.sent(),r.label=21;case 21:return u++,[3,19];case 22:h=0,f=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,26];case 24:r.sent(),r.label=25;case 25:return h++,[3,23];case 26:p=0,A=e.positiveZIndex,r.label=27;case 27:return p<A.length?(g=A[p],[4,this.renderStack(g)]):[3,30];case 28:r.sent(),r.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},Sa.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},Sa.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},Sa.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var i=Go(e)?e.start:e;0===n?t.ctx.moveTo(i.x,i.y):t.ctx.lineTo(i.x,i.y),Go(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},Sa.prototype.renderRepeat=function(e,t,n,i){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},Sa.prototype.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var i=(null!==(i=this.canvas.ownerDocument)&&void 0!==i?i:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},Sa.prototype.renderBackgroundImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,a,s;return r(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b,w;return r(this,(function(r){switch(r.label){case 0:if(0!==n.type)return[3,5];o=void 0,a=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.context.cache.match(a)];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),i.context.logger.error("Error loading background-image "+a),[3,4];case 4:return o&&(s=da(e,t,[o.width,o.height,o.width/o.height]),u=s[0],A=s[1],g=s[2],f=s[3],p=s[4],c=i.ctx.createPattern(i.resizeImage(o,f,p),"repeat"),i.renderRepeat(u,c,A,g)),[3,6];case 5:1===n.type?(w=da(e,t,[null,null,null]),u=w[0],A=w[1],g=w[2],f=w[3],p=w[4],y=function(e,t,n){var i="number"==typeof e?e:(a=t/2,i=(o=n)/2,a=ft((r=e)[0],t)-a,o=i-ft(r[1],o),(Math.atan2(o,a)+2*Math.PI)%(2*Math.PI)),r=Math.abs(t*Math.sin(i))+Math.abs(n*Math.cos(i)),o=t/2,a=n/2;return t=r/2,n=Math.sin(i-Math.PI/2)*t,[r,o-(t=Math.cos(i-Math.PI/2)*t),o+t,a-n,a+n]}(n.angle,f,p),v=y[0],s=y[1],d=y[2],b=y[3],h=y[4],(w=document.createElement("canvas")).width=f,w.height=p,y=w.getContext("2d"),l=y.createLinearGradient(s,b,d,h),xt(n.stops,v).forEach((function(e){return l.addColorStop(e.stop,st(e.color))})),y.fillStyle=l,y.fillRect(0,0,f,p),0<f&&0<p&&(c=i.ctx.createPattern(w,"repeat"),i.renderRepeat(u,c,A,g))):2===n.type&&(b=da(e,t,[null,null,null]),u=b[0],d=b[1],h=b[2],f=b[3],p=b[4],v=0===n.position.length?[dt]:n.position,A=ft(v[0],f),g=ft(v[v.length-1],p),y=function(e,t,n,i,r){var o,a,s=0,l=0;switch(e.size){case 0:0===e.shape?s=l=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-i)),l=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:0===e.shape?s=l=Math.min(Ct(t,n),Ct(t,n-r),Ct(t-i,n),Ct(t-i,n-r)):1===e.shape&&(l=(o=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-i)))*(s=Ct((a=_t(i,r,t,n,!0))[0]-t,(a[1]-n)/o)));break;case 1:0===e.shape?s=l=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-i)),l=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:0===e.shape?s=l=Math.max(Ct(t,n),Ct(t,n-r),Ct(t-i,n),Ct(t-i,n-r)):1===e.shape&&(l=(o=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-i)))*(s=Ct((a=_t(i,r,t,n,!1))[0]-t,(a[1]-n)/o)))}return Array.isArray(e.size)&&(s=ft(e.size[0],i),l=2===e.size.length?ft(e.size[1],r):s),[s,l]}(n,A,g,f,p),w=y[0],b=y[1],0<w&&0<b&&(m=i.ctx.createRadialGradient(d+A,h+g,0,d+A,h+g,w),xt(n.stops,2*w).forEach((function(e){return m.addColorStop(e.stop,st(e.color))})),i.path(u),i.ctx.fillStyle=m,w!==b?(v=e.bounds.left+.5*e.bounds.width,y=e.bounds.top+.5*e.bounds.height,w=1/(b/=w),i.ctx.save(),i.ctx.translate(v,y),i.ctx.transform(1,0,0,b,0,0),i.ctx.translate(-v,-y),i.ctx.fillRect(d,w*(h-y)+y,f,p*w),i.ctx.restore()):i.ctx.fill())),r.label=6;case 6:return t--,[2]}}))},i=this,o=0,a=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<a.length?(s=a[o],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},Sa.prototype.renderSolidBorder=function(e,t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return this.path(la(n,t)),this.ctx.fillStyle=st(e),this.ctx.fill(),[2]}))}))},Sa.prototype.renderDoubleBorder=function(e,t,n,o){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,o)]:[3,2];case 1:return r.sent(),[2];case 2:return i=function(e,t){switch(t){case 0:return ma(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ma(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ma(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return ma(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}}(o,n),this.path(i),this.ctx.fillStyle=st(e),this.ctx.fill(),i=function(e,t){switch(t){case 0:return ma(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ma(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ma(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return ma(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}}(o,n),this.path(i),this.ctx.fill(),[2]}}))}))},Sa.prototype.renderNodeBackgroundAndBorders=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,a,s,l,c,u=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!at(t.backgroundColor)||t.backgroundImage.length,i=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],o=Ba(ya(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),at(t.backgroundColor)||(this.ctx.fillStyle=st(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){u.ctx.save();var n,i,r,o,a=Xo(e.curves),s=t.inset?0:1e4,l=(n=-s+(t.inset?1:-1)*t.spread.number,i=(t.inset?1:-1)*t.spread.number,r=t.spread.number*(t.inset?-2:2),o=t.spread.number*(t.inset?-2:2),a.map((function(e,t){switch(t){case 0:return e.add(n,i);case 1:return e.add(n+r,i);case 2:return e.add(n+r,i+o);case 3:return e.add(n,i+o)}return e})));t.inset?(u.path(a),u.ctx.clip(),u.mask(l)):(u.mask(a),u.ctx.clip(),u.path(l)),u.ctx.shadowOffsetX=t.offsetX.number+s,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=st(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?st(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),r.label=2;case 2:s=a=0,l=i,r.label=3;case 3:return s<l.length?0!==(c=l[s]).style&&!at(c.color)&&0<c.width?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,e.curves,2)]:[3,11]:[3,13];case 4:return r.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,e.curves,3)];case 6:return r.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,e.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,e.curves)];case 10:r.sent(),r.label=11;case 11:a++,r.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},Sa.prototype.renderDashedDottedBorder=function(e,t,n,o,a){return i(this,void 0,void 0,(function(){var i,s,l,c,u,d,h,f,p,A,g;return r(this,(function(r){return this.ctx.save(),p=function(e,t){switch(t){case 0:return ga(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ga(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ga(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return ga(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}}(o,n),i=la(o,n),2===a&&(this.path(i),this.ctx.clip()),d=Go(i[0])?(s=i[0].start.x,i[0].start.y):(s=i[0].x,i[0].y),h=Go(i[1])?(l=i[1].end.x,i[1].end.y):(l=i[1].x,i[1].y),c=0===n||2===n?Math.abs(s-l):Math.abs(d-h),this.ctx.beginPath(),3===a?this.formatPath(p):this.formatPath(i.slice(0,2)),u=t<3?3*t:2*t,d=t<3?2*t:t,3===a&&(d=u=t),h=!0,c<=2*u?h=!1:c<=2*u+d?(u*=f=c/(2*u+d),d*=f):(p=Math.floor((c+d)/(u+d)),f=(c-p*u)/(p-1),d=(p=(c-(p+1)*u)/p)<=0||Math.abs(d-f)<Math.abs(d-p)?f:p),h&&(3===a?this.ctx.setLineDash([0,u+d]):this.ctx.setLineDash([u,d])),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=st(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(Go(i[0])&&(A=i[3],g=i[0],this.ctx.beginPath(),this.formatPath([new Wo(A.end.x,A.end.y),new Wo(g.start.x,g.start.y)]),this.ctx.stroke()),Go(i[1])&&(A=i[1],g=i[2],this.ctx.beginPath(),this.formatPath([new Wo(A.end.x,A.end.y),new Wo(g.start.x,g.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},Sa.prototype.render=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=st(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=new aa(e,null),r=new oa(i),pa(i,r,r,n=[]),Aa(i.container,n),[4,this.renderStack(r)];case 1:return t.sent(),this.applyEffects([]),[2,this.canvas]}var n,i,r}))}))},Sa);function Sa(e,t){return(e=_a.call(this,e,t)||this)._activeEffects=[],e.canvas=t.canvas||document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),t.canvas||(e.canvas.width=Math.floor(t.width*t.scale),e.canvas.height=Math.floor(t.height*t.scale),e.canvas.style.width=t.width+"px",e.canvas.style.height=t.height+"px"),e.fontMetrics=new xa(document),e.ctx.scale(e.options.scale,e.options.scale),e.ctx.translate(-t.x,-t.y),e.ctx.textBaseline="bottom",e._activeEffects=[],e.context.logger.debug("Canvas renderer initialized ("+t.width+"x"+t.height+") with scale "+t.scale),e}var Ea,Ta=function(e){return e instanceof _r||e instanceof wr||e instanceof vr&&e.type!==gr&&e.type!==Ar},Ba=function(e,t){switch(e){case 0:return Xo(t);case 2:return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox];default:return Jo(t)}},Ia=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},Da=["-apple-system","system-ui"],Fa=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===Da.indexOf(e)})):e},Ma=(t(La,Ea=vt),La.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t=Hi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Pa(t)];case 1:return t=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=st(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(t,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},La);function La(e,t){return(e=Ea.call(this,e,t)||this).canvas=t.canvas||document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),e.options=t,e.canvas.width=Math.floor(t.width*t.scale),e.canvas.height=Math.floor(t.height*t.scale),e.canvas.style.width=t.width+"px",e.canvas.style.height=t.height+"px",e.ctx.scale(e.options.scale,e.options.scale),e.ctx.translate(-t.x,-t.y),e.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale),e}var Pa=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ra=(Oa.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},Oa.prototype.getTime=function(){return Date.now()-this.start},Oa.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},Oa.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},Oa.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},Oa.instances={},Oa);function Oa(e){var t=e.id;e=e.enabled,this.id=t,this.enabled=e,this.start=Date.now()}var Na=(Ua.instanceCount=1,Ua);function Ua(e,t){this.windowBounds=t,this.instanceName="#"+Ua.instanceCount++,this.logger=new Ra({id:this.instanceName,enabled:e.logging}),this.cache=null!==(t=e.cache)&&void 0!==t?t:new Mo(this,e)}"undefined"!=typeof window&&Do.setContext(window);var Ha=function(e,t,n){var i=t.ownerDocument,r=i.documentElement?bt(e,getComputedStyle(i.documentElement).backgroundColor):Tt.TRANSPARENT,o=i.body?bt(e,getComputedStyle(i.body).backgroundColor):Tt.TRANSPARENT;return n="string"==typeof n?bt(e,n):null===n?Tt.TRANSPARENT:4294967295,t===i.documentElement?at(r)?at(o)?n:o:r:n};return function(e,t){return function(e,t){return i(void 0,void 0,void 0,(function(){var i,o,s,c,u,d,h,f,p,A,g,m,v,y,b,w;return r(this,(function(r){switch(r.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(i=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=i.defaultView))throw new Error("Document is not attached to a Window");return v={allowTaint:null!==(y=t.allowTaint)&&void 0!==y&&y,imageTimeout:null!==(A=t.imageTimeout)&&void 0!==A?A:15e3,proxy:t.proxy,useCORS:null!==(g=t.useCORS)&&void 0!==g&&g},y=n({logging:null===(m=t.logging)||void 0===m||m,cache:t.cache},v),A={windowWidth:null!==(A=t.windowWidth)&&void 0!==A?A:o.innerWidth,windowHeight:null!==(g=t.windowHeight)&&void 0!==g?g:o.innerHeight,scrollX:null!==(m=t.scrollX)&&void 0!==m?m:o.pageXOffset,scrollY:null!==(v=t.scrollY)&&void 0!==v?v:o.pageYOffset},g=new a(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),m=new Na(y,g),A=null!==(v=t.foreignObjectRendering)&&void 0!==v&&v,v={allowTaint:null!==(y=t.allowTaint)&&void 0!==y&&y,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},m.logger.debug("Starting document clone with size "+g.width+"x"+g.height+" scrolled to "+-g.left+","+-g.top),y=new Ao(m,e,v),(v=y.clonedReferenceElement)?[4,y.toIFrame(i,g)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return s=r.sent(),b=zr(v)||"HTML"===v.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");return e=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),n=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight)),new a(0,0,e,n)}(v.ownerDocument):l(m,v),c=b.width,u=b.height,d=b.left,h=b.top,f=Ha(m,v,t.backgroundColor),b={canvas:t.canvas,backgroundColor:f,scale:null!==(b=null!==(b=t.scale)&&void 0!==b?b:o.devicePixelRatio)&&void 0!==b?b:1,x:(null!==(b=t.x)&&void 0!==b?b:0)+d,y:(null!==(b=t.y)&&void 0!==b?b:0)+h,width:null!==(b=t.width)&&void 0!==b?b:Math.ceil(c),height:null!==(b=t.height)&&void 0!==b?b:Math.ceil(u)},A?(m.logger.debug("Document cloned, using foreign object rendering"),[4,new Ma(m,b).render(v)]):[3,3];case 2:return p=r.sent(),[3,5];case 3:return m.logger.debug("Document cloned, element located at "+d+","+h+" with size "+c+"x"+u+" using computed rendering"),m.logger.debug("Starting DOM parsing"),w=Pr(m,v),f===w.styles.backgroundColor&&(w.styles.backgroundColor=Tt.TRANSPARENT),m.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),[4,new ka(m,b).render(w)];case 4:p=r.sent(),r.label=5;case 5:return null!==(w=t.removeContainer)&&void 0!==w&&!w||Ao.destroy(s)||m.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore"),m.logger.debug("Finished rendering"),[2,p]}}))}))}(e,t=void 0===t?{}:t)}}()},89937:function(e,t){var n,i,r;!function(o){var a=/iPhone/i,s=/iPod/i,l=/iPad/i,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/Android/i,d=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,h=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,f=/Windows Phone/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,A=/BlackBerry/i,g=/BB10/i,m=/Opera Mini/i,v=/(CriOS|Chrome)(?=.*\bMobile\b)/i,y=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),w=function(e,t){return e.test(t)},x=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),void 0!==(n=t.split("Twitter"))[1]&&(t=n[0]),this.apple={phone:w(a,t),ipod:w(s,t),tablet:!w(a,t)&&w(l,t),device:w(a,t)||w(s,t)||w(l,t)},this.amazon={phone:w(d,t),tablet:!w(d,t)&&w(h,t),device:w(d,t)||w(h,t)},this.android={phone:w(d,t)||w(c,t),tablet:!w(d,t)&&!w(c,t)&&(w(h,t)||w(u,t)),device:w(d,t)||w(h,t)||w(c,t)||w(u,t)},this.windows={phone:w(f,t),tablet:w(p,t),device:w(f,t)||w(p,t)},this.other={blackberry:w(A,t),blackberry10:w(g,t),opera:w(m,t),firefox:w(y,t),chrome:w(v,t),device:w(A,t)||w(g,t)||w(m,t)||w(y,t)||w(v,t)},this.seven_inch=w(b,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},C=function(){var e=new x;return e.Class=x,e};e.exports&&"undefined"==typeof window?e.exports=x:e.exports&&"undefined"!=typeof window?e.exports=C():(i=[],n=o.isMobile=C(),void 0===(r="function"==typeof n?n.apply(t,i):n)||(e.exports=r))}(this)},65343:function(e,n,i){var r,o=i(37549);(r=o).fn.extend({slimScroll:function(e){var n=r.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},e);return this.each((function(){function i(e){if(c){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),r(e.target||e.srcTarget||e.srcElement).closest("."+n.wrapperClass).is(v.parent())&&o(t,!0),e.preventDefault&&!m&&e.preventDefault(),m||(e.returnValue=!1)}}function o(e,t,i){m=!1;var r=v.outerHeight()-b.outerHeight();t&&(t=parseInt(b.css("top"))+e*parseInt(n.wheelStep)/100*b.outerHeight(),t=Math.min(Math.max(t,0),r),t=0<e?Math.ceil(t):Math.floor(t),b.css({top:t+"px"})),t=(A=parseInt(b.css("top"))/(v.outerHeight()-b.outerHeight()))*(v[0].scrollHeight-v.outerHeight()),i&&(e=(t=e)/v[0].scrollHeight*v.outerHeight(),e=Math.min(Math.max(e,0),r),b.css({top:e+"px"})),v.scrollTop(t),v.trigger("slimscrolling",~~t),s(),l()}function a(){p=Math.max(v.outerHeight()/v[0].scrollHeight*v.outerHeight(),30),b.css({height:p+"px"});var e=p==v.outerHeight()?"none":"block";b.css({display:e})}function s(){a(),clearTimeout(h),A==~~A?(m=n.allowPageScroll,g!=A&&v.trigger("slimscroll",~~A?"bottom":"top")):m=!1,g=A,p>=v.outerHeight()?m=!0:(b.stop(!0,!0).fadeIn("fast"),n.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function l(){n.alwaysVisible||(h=setTimeout((function(){n.disableFadeOut&&c||u||d||(b.fadeOut("slow"),w.fadeOut("slow"))}),1e3))}var c,u,d,h,f,p,A,g,m=!1,v=r(this);if(v.parent().hasClass(n.wrapperClass)){var y=v.scrollTop(),b=v.siblings("."+n.barClass),w=v.siblings("."+n.railClass);if(a(),r.isPlainObject(e)){if("height"in e&&"auto"==e.height){v.parent().css("height","auto"),v.css("height","auto");var x=v.parent().parent().height();v.parent().css("height",x),v.css("height",x)}else"height"in e&&(x=e.height,v.parent().css("height",x),v.css("height",x));if("scrollTo"in e)y=parseInt(n.scrollTo);else if("scrollBy"in e)y+=parseInt(n.scrollBy);else if("destroy"in e)return b.remove(),w.remove(),void v.unwrap();o(y,!1,!0)}}else r.isPlainObject(e)&&"destroy"in e||(n.height="auto"==n.height?v.parent().height():n.height,y=r("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height}),v.css({overflow:"hidden",width:n.width,height:n.height}),w=r("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),b=r("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),x="right"==n.position?{right:n.distance}:{left:n.distance},w.css(x),b.css(x),v.wrap(y),v.parent().append(b),v.parent().append(w),n.railDraggable&&b.bind("mousedown",(function(e){var n=r(document);return d=!0,t=parseFloat(b.css("top")),pageY=e.pageY,n.bind("mousemove.slimscroll",(function(e){currTop=t+e.pageY-pageY,b.css("top",currTop),o(0,b.position().top,!1)})),n.bind("mouseup.slimscroll",(function(e){d=!1,l(),n.unbind(".slimscroll")})),!1})).bind("selectstart.slimscroll",(function(e){return e.stopPropagation(),e.preventDefault(),!1})),w.hover((function(){s()}),(function(){l()})),b.hover((function(){u=!0}),(function(){u=!1})),v.hover((function(){c=!0,s(),l()}),(function(){c=!1,l()})),v.bind("touchstart",(function(e,t){e.originalEvent.touches.length&&(f=e.originalEvent.touches[0].pageY)})),v.bind("touchmove",(function(e){m||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(o((f-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),f=e.originalEvent.touches[0].pageY)})),a(),"bottom"===n.start?(b.css({top:v.outerHeight()-b.outerHeight()}),o(0,!0)):"top"!==n.start&&(o(r(n.start).position().top,null,!0),n.alwaysVisible||b.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",i,!1),this.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i))})),this}}),r.fn.extend({slimscroll:r.fn.slimScroll})},6872:function(e,t,n){!function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,i=e.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(e){!n&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},i._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},i._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},i._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)},i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)}}}(n(37549))},69856:function(e,t,n){var i,r,o;r=[n(37549)],i=function(e){var t,n=0,i=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}),e.widget=function(t,n,i){var r,o,a,s,l={},c=t.split(".")[0];return t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,(function(t,i){var r,o;e.isFunction(i)?l[t]=(r=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=r,this._superApply=o,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}):l[t]=i})),a.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)})),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=i.call(arguments,1),l=this;return a?this.each((function(){var n,i=e.data(this,r);return"instance"===o?(l=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")})):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each((function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,(function(i,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,s):n.bind(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue((function(n){e(this)[t](),o&&o.call(i[0]),n()}))}})),e.widget},void 0===(o=i.apply(t,r))||(e.exports=o)},73007:function(e,t,n){var i,r,o;r=[n(37549)],i=function(e){e.extend(e.fn,{validate:function(t){if(this.length){var n=e.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",(function(t){n.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(n.cancelSubmit=!0)})),this.on("submit.validate",(function(t){function i(){var i,r;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),!(n.settings.submitHandler&&!n.settings.debug)||(r=n.settings.submitHandler.call(n,n.currentForm,t),i&&i.remove(),void 0!==r&&r)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)}))),n)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,n,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,n=e(this[0].form).validate(),this.each((function(){(t=n.element(this)&&t)||(i=i.concat(n.errorList))})),n.errorList=i),t},rules:function(t,n){var i,r,o,a,s,l,c=this[0],u=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=c&&(!c.form&&u&&(c.form=this.closest("form")[0],c.name=this.attr("name")),null!=c.form)){if(t)switch(i=e.data(c.form,"validator").settings,r=i.rules,o=e.validator.staticRules(c),t){case"add":e.extend(o,e.validator.normalizeRule(n)),delete o.messages,r[c.name]=o,n.messages&&(i.messages[c.name]=e.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),(function(e,t){l[t]=o[t],delete o[t]})),l):(delete r[c.name],o)}return(a=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c)).required&&(s=a.required,delete a.required,a=e.extend({required:s},a)),a.remote&&(s=a.remote,delete a.remote,a=e.extend(a,{remote:s})),a}}});var t=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};e.extend(e.expr.pseudos||e.expr[":"],{blank:function(n){return!t(""+e(n).val())},filled:function(n){var i=e(n).val();return null!==i&&!!t(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(void 0===n||(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,(function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),(function(){return n}))}))),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,n){9===n.which&&""===this.elementValue(t)||-1!==e.inArray(n.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");if(!this.form&&n&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name")),i===this.form){var r=e.data(this.form,"validator"),o="on"+t.type.replace(/^validate/,""),a=r.settings;a[o]&&!e(this).is(a.ignore)&&a[o].call(r,this,t)}}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.currentForm,r=this.groups={};e.each(this.settings.groups,(function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,(function(e,n){r[n]=t}))})),n=this.settings.rules,e.each(n,(function(t,i){n[t]=e.validator.normalizeRule(i)})),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n,i,r=this.clean(t),o=this.validationTargetFor(r),a=this,s=!0;return void 0===o?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=e(o),(i=this.groups[o.name])&&e.each(this.groups,(function(e,t){t===i&&e!==o.name&&(r=a.validationTargetFor(a.clean(a.findByName(e))))&&r.name in a.invalid&&(a.currentElements.push(r),s=a.check(r)&&s)})),n=!1!==this.check(o),s=s&&n,this.invalid[o.name]=!n,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!n)),s},showErrors:function(t){if(t){var n=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,(function(e,t){return{message:e,element:n.findByName(t)[0]}})),this.successList=e.grep(this.successList,(function(e){return!(e.name in t)}))}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,(function(e){return e.element.name===t.name})).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter((function(){var i=this.name||e(this).attr("name"),r=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),r&&(this.form=e(this).closest("form")[0],this.name=i),!(this.form!==t.currentForm||i in n||!t.objectLength(e(this).rules())||(n[i]=!0,0))}))},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i,r=e(t),o=t.type,a=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&void 0!==t.validity?t.validity.badInput?"NaN":r.val():(n=a?r.text():r.val(),"file"===o?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"))>=0||(i=n.lastIndexOf("\\"))>=0?n.substr(i+1):n:"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,r,o,a=e(t).rules(),s=e.map(a,(function(e,t){return t})).length,l=!1,c=this.elementValue(t);for(i in"function"==typeof a.normalizer?o=a.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(c=o.call(t,c),delete a.normalizer),a){r={method:i,parameters:a[i]};try{if("dependency-mismatch"===(n=e.validator.methods[i].call(this,c,t,r.parameters))&&1===s){l=!0;continue}if(l=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,r),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),e}}if(!l)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,n){"string"==typeof n&&(n={method:n});var i=this.findDefined(this.customMessage(t.name,n.method),this.customDataMessage(t,n.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),i},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map((function(){return this.element}))},showLabel:function(t,n){var i,r,o,a,s=this.errorsFor(t),l=this.idOrName(t),c=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(i=s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,e(t)):i.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=s.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(c+=" "+o):c=o,e(t).attr("aria-describedby",c),(r=this.groups[t.name])&&(a=this,e.each(a.groups,(function(t,n){n===r&&e("[name='"+a.escapeCssMeta(t)+"']",a.currentForm).attr("aria-describedby",s.attr("id"))}))))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var n=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(e){return void 0===e?"":e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,n){return!!e(t,n.form).length},function:function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(e(this.currentForm).trigger("submit"),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,n){return n="string"==typeof n&&n||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:n})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),(function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])})),n},normalizeAttributeRule:function(e,t,n,i){/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[n]=i:t===n&&"range"!==t&&(e["date"===t?"dateISO":n]=!0)},attributeRules:function(t){var n,i,r={},o=e(t),a=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(""===(i=t.getAttribute(n))&&(i=!0),i=!!i):i=o.attr(n),this.normalizeAttributeRule(r,a,n,i);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var n,i,r={},o=e(t),a=t.getAttribute("type");for(n in e.validator.methods)""===(i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(r,a,n,i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,(function(i,r){if(!1!==r){if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!e(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?t[i]=void 0===r.param||r.param:(e.data(n.form,"validator").resetElements(e(n)),delete t[i])}}else delete t[i]})),e.each(t,(function(e,i){t[e]="function"==typeof i&&"normalizer"!==e?i(n):i})),e.each(["minlength","maxlength"],(function(){t[this]&&(t[this]=Number(t[this]))})),e.each(["rangelength","range"],(function(){var e;t[this]&&(Array.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(e=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(e[0]),Number(e[1])]))})),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),(function(){n[this]=!0})),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:null!=t&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(){var e=!1;return function(t,n){return e||(e=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(n)||!/Invalid|NaN/.test(new Date(t).toString())}}(),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,n){var i=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i>=n},maxlength:function(e,t,n){var i=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=n},rangelength:function(e,t,n){var i=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i>=n[0]&&i<=n[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(t,n,i){var r,o=e(n).attr("type"),a="Step attribute on input type "+o+" is not supported.",s=new RegExp("\\b"+o+"\\b"),l=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},c=function(e){return Math.round(e*Math.pow(10,r))},u=!0;if(o&&!s.test(["text","number","range"].join()))throw new Error(a);return r=l(i),(l(t)>r||c(t)%c(i)!=0)&&(u=!1),this.optional(n)||u},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",(function(){e(n).valid()})),t===r.val()},remote:function(t,n,i,r){if(this.optional(n))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,a,s,l=this.previousValue(n,r);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][r],this.settings.messages[n.name][r]=l.message,i="string"==typeof i&&{url:i}||i,s=e.param(e.extend({data:t},i.data)),l.old===s?l.valid:(l.old=s,o=this,this.startRequest(n),(a={})[n.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:o.currentForm,success:function(e){var i,a,s,c=!0===e||"true"===e;o.settings.messages[n.name][r]=l.originalMessage,c?(s=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(n),o.formSubmitted=s,o.successList.push(n),o.invalid[n.name]=!1,o.showErrors()):(i={},a=e||o.defaultMessage(n,{method:r,parameters:t}),i[n.name]=l.message=a,o.invalid[n.name]=!0,o.showErrors(i)),l.valid=c,o.stopRequest(n,c)}},i)),"pending")}}});var n,i={};return e.ajaxPrefilter?e.ajaxPrefilter((function(e,t,n){var r=e.port;"abort"===e.mode&&(i[r]&&i[r].abort(),i[r]=n)})):(n=e.ajax,e.ajax=function(t){var r=("mode"in t?t:e.ajaxSettings).mode,o=("port"in t?t:e.ajaxSettings).port;return"abort"===r?(i[o]&&i[o].abort(),i[o]=n.apply(this,arguments),i[o]):n.apply(this,arguments)}),e},void 0===(o=i.apply(t,r))||(e.exports=o)},37549:function(e,t){var n,i,r;i="undefined"!=typeof window?window:this,r=function(i,r){var o=[],a=i.document,s=o.slice,l=o.concat,c=o.push,u=o.indexOf,d={},h=d.toString,f=d.hasOwnProperty,p={},A="2.2.4",g=function(e,t){return new g.fn.init(e,t)},m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,y=/-([\da-z])/gi,b=function(e,t){return t.toUpperCase()};function w(e){var t=!!e&&"length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:A,constructor:g,selector:"",length:0,toArray:function(){return s.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:s.call(this)},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},g.extend=g.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||g.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(i=e[t])&&(c&&i&&(g.isPlainObject(i)||(r=g.isArray(i)))?(r?(r=!1,o=n&&g.isArray(n)?n:[]):o=n&&g.isPlainObject(n)?n:{},a[t]=g.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},g.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!g.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==g.type(e)||e.nodeType||g.isWindow(e))return!1;if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||f.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=g.trim(e))&&(1===e.indexOf("use strict")?((t=a.createElement("script")).text=e,a.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(v,"ms-").replace(y,b)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(w(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(m,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?g.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(w(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return l.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return i=s.call(arguments,2),r=function(){return e.apply(t||this,i.concat(s.call(arguments)))},r.guid=e.guid=e.guid||g.guid++,r},now:Date.now,support:p}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=o[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var x=function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b="sizzle"+1*new Date,w=e.document,x=0,C=0,_=oe(),k=oe(),S=oe(),E=function(e,t){return e===t&&(d=!0),0},T=1<<31,B={}.hasOwnProperty,I=[],D=I.pop,F=I.push,M=I.push,L=I.slice,P=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",U="\\["+O+"*("+N+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+O+"*\\]",H=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",$=new RegExp(O+"+","g"),Q=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),W=new RegExp("^"+O+"*,"+O+"*"),V=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),j=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),z=new RegExp(H),K=new RegExp("^"+N+"$"),G={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=function(){h()};try{M.apply(I=L.call(w.childNodes),w.childNodes),I[w.childNodes.length].nodeType}catch(e){M={apply:I.length?function(e,t){F.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,i,r){var o,s,c,u,d,p,m,v,x=t&&t.ownerDocument,C=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return i;if(!r&&((t?t.ownerDocument||t:w)!==f&&h(t),t=t||f,A)){if(11!==C&&(p=J.exec(e)))if(o=p[1]){if(9===C){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(x&&(c=x.getElementById(o))&&y(t,c)&&c.id===o)return i.push(c),i}else{if(p[2])return M.apply(i,t.getElementsByTagName(e)),i;if((o=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return M.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!S[e+" "]&&(!g||!g.test(e))){if(1!==C)x=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(ee,"\\$&"):t.setAttribute("id",u=b),s=(m=a(e)).length,d=K.test(u)?"#"+u:"[id='"+u+"']";s--;)m[s]=d+" "+Ae(m[s]);v=m.join(","),x=Z.test(e)&&fe(t.parentNode)||t}if(v)try{return M.apply(i,x.querySelectorAll(v)),i}catch(e){}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(Q,"$1"),t,i,r)}function oe(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ae(e){return e[b]=!0,e}function se(e){var t=f.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||T)-(~e.sourceIndex||T);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return ae((function(t){return t=+t,ae((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},o=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=re.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:w;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,A=!o(f),(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=se((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=se((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(f.getElementsByClassName),n.getById=se((function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),n.getById?(i.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}},i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},m=[],g=[],(n.qsa=X.test(f.querySelectorAll))&&(se((function(e){p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),se((function(e){var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=X.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&se((function(e){n.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),m.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),t=X.test(p.compareDocumentPosition),y=t||X.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===w&&y(w,e)?-1:t===f||t.ownerDocument===w&&y(w,t)?1:u?P(u,e)-P(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===f?-1:t===f?1:r?-1:o?1:u?P(u,e)-P(u,t):0;if(r===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ce(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},f):f},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&h(e),t=t.replace(j,"='$1']"),n.matchesSelector&&A&&!S[t+" "]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,f,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==f&&h(e),y(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==f&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&B.call(i.attrHandle,t.toLowerCase())?r(e,t,!A):void 0;return void 0!==o?o:n.attributes||!A?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(E),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=re.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},i=re.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&_(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=re.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,A=o!==a?"nextSibling":"previousSibling",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(g){if(o){for(;A;){for(h=t;h=h[A];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=A="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&v){for(y=(f=(c=(u=(d=(h=g)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[A]||(y=f=0)||p.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[x,f,y];break}}else if(v&&(y=f=(c=(u=(d=(h=t)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===y)for(;(h=++f&&h&&h[A]||(y=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++y||(v&&((u=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[x,y]),h!==t)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=P(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ae((function(e){var t=[],n=[],i=s(e.replace(Q,"$1"));return i[b]?ae((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return re(e,t).length>0}})),contains:ae((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}})),lang:ae((function(e){return K.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he((function(){return[0]})),last:he((function(e,t){return[t-1]})),eq:he((function(e,t,n){return[n<0?n+t:n]})),even:he((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:he((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:he((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:he((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=de(t);function pe(){}function Ae(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=C++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=[x,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=(c=t[b]||(t[b]={}))[t.uniqueID]||(c[t.uniqueID]={}))[i])&&s[0]===x&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,a))return!0}}}function me(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function ve(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function ye(e,t,n,i,r,o){return i&&!i[b]&&(i=ye(i)),r&&!r[b]&&(r=ye(r,o)),ae((function(o,a,s,l){var c,u,d,h=[],f=[],p=a.length,A=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)re(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?A:ve(A,h,e,s,l),m=n?r||(o?e:p||i)?[]:a:g;if(n&&n(g,m,s,l),i)for(c=ve(m,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(m[f[u]]=!(g[f[u]]=d));if(o){if(r||e){if(r){for(c=[],u=m.length;u--;)(d=m[u])&&c.push(g[u]=d);r(null,m=[],c,l)}for(u=m.length;u--;)(d=m[u])&&(c=r?P(o,d):h[u])>-1&&(o[c]=!(a[c]=d))}}else m=ve(m===a?m.splice(p,m.length):m),r?r(null,a,m,l):M.apply(a,m)}))}function be(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],l=a?1:0,u=ge((function(e){return e===t}),s,!0),d=ge((function(e){return P(t,e)>-1}),s,!0),h=[function(e,n,i){var r=!a&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])h=[ge(me(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return ye(l>1&&me(h),l>1&&Ae(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(Q,"$1"),n,l<r&&be(e.slice(l,r)),r<o&&be(e=e.slice(r)),r<o&&Ae(e))}h.push(n)}return me(h)}return pe.prototype=i.filters=i.pseudos,i.setFilters=new pe,a=re.tokenize=function(e,t){var n,r,o,a,s,l,c,u=k[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(a in n&&!(r=W.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=V.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Q," ")}),s=s.slice(n.length)),i.filter)!(r=G[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):k(e,l).slice(0)},s=re.compile=function(e,t){var n,r=[],o=[],s=S[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=be(t[n]))[b]?r.push(s):o.push(s);s=S(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,l,u){var d,p,g,m=0,v="0",y=o&&[],b=[],w=c,C=o||r&&i.find.TAG("*",u),_=x+=null==w?1:Math.random()||.1,k=C.length;for(u&&(c=a===f||a||u);v!==k&&null!=(d=C[v]);v++){if(r&&d){for(p=0,a||d.ownerDocument===f||(h(d),s=!A);g=e[p++];)if(g(d,a||f,s)){l.push(d);break}u&&(x=_)}n&&((d=!g&&d)&&m--,o&&y.push(d))}if(m+=v,n&&v!==m){for(p=0;g=t[p++];)g(y,b,a,s);if(o){if(m>0)for(;v--;)y[v]||b[v]||(b[v]=D.call(l));b=ve(b)}M.apply(l,b),u&&!o&&b.length>0&&m+t.length>1&&re.uniqueSort(l)}return u&&(x=_,c=w),y};return n?ae(o):o}(o,r)),s.selector=e}return s},l=re.select=function(e,t,r,o){var l,c,u,d,h,f="function"==typeof e&&e,p=!o&&a(e=f.selector||e);if(r=r||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===t.nodeType&&A&&i.relative[c[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return r;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=G.needsContext.test(e)?0:c.length;l--&&(u=c[l],!i.relative[d=u.type]);)if((h=i.find[d])&&(o=h(u.matches[0].replace(te,ne),Z.test(c[0].type)&&fe(t.parentNode)||t))){if(c.splice(l,1),!(e=o.length&&Ae(c)))return M.apply(r,o),r;break}}return(f||s(e,p))(o,t,!A,r,!t||Z.test(e)&&fe(t.parentNode)||t),r},n.sortStable=b.split("").sort(E).join("")===b,n.detectDuplicates=!!d,h(),n.sortDetached=se((function(e){return 1&e.compareDocumentPosition(f.createElement("div"))})),se((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||le("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&se((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||le("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),se((function(e){return null==e.getAttribute("disabled")}))||le(R,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),re}(i);g.find=x,g.expr=x.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=x.uniqueSort,g.text=x.getText,g.isXMLDoc=x.isXML,g.contains=x.contains;var C=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&g(e).is(n))break;i.push(e)}return i},_=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=g.expr.match.needsContext,S=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function T(e,t,n){if(g.isFunction(t))return g.grep(e,(function(e,i){return!!t.call(e,i,e)!==n}));if(t.nodeType)return g.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(E.test(t))return g.filter(t,e,n);t=g.filter(t,e)}return g.grep(e,(function(e){return u.call(t,e)>-1!==n}))}g.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?g.find.matchesSelector(i,e)?[i]:[]:g.find.matches(e,g.grep(t,(function(e){return 1===e.nodeType})))},g.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(g(e).filter((function(){for(t=0;t<n;t++)if(g.contains(r[t],this))return!0})));for(t=0;t<n;t++)g.find(e,r[t],i);return(i=this.pushStack(n>1?g.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&k.test(e)?g(e):e||[],!1).length}});var B,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||B,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:I.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),S.test(i[1])&&g.isPlainObject(t))for(i in t)g.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=a.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==n.ready?n.ready(e):e(g):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),g.makeArray(e,this))}).prototype=g.fn,B=g(a);var D=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0}))},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=k.test(e)||"string"!=typeof e?g(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?g.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(g(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return e.contentDocument||g.merge([],e.childNodes)}},(function(e,t){g.fn[e]=function(n,i){var r=g.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=g.filter(i,r)),this.length>1&&(F[e]||g.uniqueSort(r),D.test(e)&&r.reverse()),this.pushStack(r)}}));var L,P=/\S+/g;function R(){a.removeEventListener("DOMContentLoaded",R),i.removeEventListener("load",R),g.ready()}g.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return g.each(e.match(P)||[],(function(e,n){t[n]=!0})),t}(e):g.extend({},e);var t,n,i,r,o=[],a=[],s=-1,l=function(){for(r=e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){g.each(n,(function(n,i){g.isFunction(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==g.type(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return g.each(arguments,(function(e,t){for(var n;(n=g.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?g.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},g.extend({Deferred:function(e){var t=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return g.Deferred((function(n){g.each(t,(function(t,o){var a=g.isFunction(e[t])&&e[t];r[o[1]]((function(){var e=a&&a.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?g.extend(e,i):i}},r={};return i.pipe=i.then,g.each(t,(function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith})),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=s.call(arguments),a=o.length,l=1!==a||e&&g.isFunction(e.promise)?a:0,c=1===l?e:g.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?s.call(arguments):r,i===t?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&g.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(c.reject):--l;return l||c.resolveWith(i,o),c.promise()}}),g.fn.ready=function(e){return g.ready.promise().done(e),this},g.extend({isReady:!1,readyWait:1,holdReady:function(e){e?g.readyWait++:g.ready(!0)},ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||(L.resolveWith(a,[g]),g.fn.triggerHandler&&(g(a).triggerHandler("ready"),g(a).off("ready"))))}}),g.ready.promise=function(e){return L||(L=g.Deferred(),"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?i.setTimeout(g.ready):(a.addEventListener("DOMContentLoaded",R),i.addEventListener("load",R))),L.promise(e)},g.ready.promise();var O=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===g.type(n))for(s in r=!0,n)O(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,g.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(g(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},N=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function U(){this.expando=g.expando+U.uid++}U.uid=1,U.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!N(e))return{};var t=e[this.expando];return t||(t={},N(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,g.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{g.isArray(t)?i=t.concat(t.map(g.camelCase)):(r=g.camelCase(t),i=t in o?[t,r]:(i=r)in o?[i]:i.match(P)||[]),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||g.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!g.isEmptyObject(t)}};var H=new U,$=new U,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,W=/[A-Z]/g;function V(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(W,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Q.test(n)?g.parseJSON(n):n)}catch(e){}$.set(e,t,n)}else n=void 0;return n}g.extend({hasData:function(e){return $.hasData(e)||H.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return H.access(e,t,n)},_removeData:function(e,t){H.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=$.get(o),1===o.nodeType&&!H.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=g.camelCase(i.slice(5)),V(o,i,r[i]));H.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){$.set(this,e)})):O(this,(function(t){var n,i;if(o&&void 0===t)return void 0!==(n=$.get(o,e)||$.get(o,e.replace(W,"-$&").toLowerCase()))?n:(i=g.camelCase(e),void 0!==(n=$.get(o,i))||void 0!==(n=V(o,i,void 0))?n:void 0);i=g.camelCase(e),this.each((function(){var n=$.get(this,i);$.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),g.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=H.get(e,t),n&&(!i||g.isArray(n)?i=H.access(e,t,g.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),i=n.length,r=n.shift(),o=g._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){g.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return H.get(e,n)||H.access(e,n,{empty:g.Callbacks("once memory").add((function(){H.remove(e,[t+"queue",n])}))})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each((function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){g.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=g.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=H.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var j=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=new RegExp("^(?:([+-])=|)("+j+")([a-z%]*)$","i"),K=["Top","Right","Bottom","Left"],G=function(e,t){return e=t||e,"none"===g.css(e,"display")||!g.contains(e.ownerDocument,e)};function q(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return g.css(e,t,"")},l=s(),c=n&&n[3]||(g.cssNumber[t]?"":"px"),u=(g.cssNumber[t]||"px"!==c&&+l)&&z.exec(g.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",g.style(e,t,u+c)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var Y=/^(?:checkbox|radio)$/i,X=/<([\w:-]+)/,J=/^$|\/(?:java|ecma)script/i,Z={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ee(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&g.nodeName(e,t)?g.merge([e],n):n}function te(e,t){for(var n=0,i=e.length;n<i;n++)H.set(e[n],"globalEval",!t||H.get(t[n],"globalEval"))}Z.optgroup=Z.option,Z.tbody=Z.tfoot=Z.colgroup=Z.caption=Z.thead,Z.th=Z.td;var ne,ie,re=/<|&#?\w+;/;function oe(e,t,n,i,r){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===g.type(o))g.merge(h,o.nodeType?[o]:o);else if(re.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(X.exec(o)||["",""])[1].toLowerCase(),l=Z[s]||Z._default,a.innerHTML=l[1]+g.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;g.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",f=0;o=h[f++];)if(i&&g.inArray(o,i)>-1)r&&r.push(o);else if(c=g.contains(o.ownerDocument,o),a=ee(d.appendChild(o),"script"),c&&te(a),n)for(u=0;o=a[u++];)J.test(o.type||"")&&n.push(o);return d}ne=a.createDocumentFragment().appendChild(a.createElement("div")),(ie=a.createElement("input")).setAttribute("type","radio"),ie.setAttribute("checked","checked"),ie.setAttribute("name","t"),ne.appendChild(ie),p.checkClone=ne.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ne.cloneNode(!0).lastChild.defaultValue;var ae=/^key/,se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,le=/^([^.]*)(?:\.(.+)|)/;function ce(){return!0}function ue(){return!1}function de(){try{return a.activeElement}catch(e){}}function he(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)he(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ue;else if(!r)return e;return 1===o&&(a=r,r=function(e){return g().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=g.guid++)),e.each((function(){g.event.add(this,t,r,i,n)}))}g.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,A,m=H.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=g.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(P)||[""]).length;c--;)f=A=(s=le.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=g.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=g.event.special[f]||{},u=g.extend({type:f,origType:A,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&g.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),g.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,A,m=H.hasData(e)&&H.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(P)||[""]).length;c--;)if(f=A=(s=le.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=g.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&A!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||g.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)g.event.remove(e,f+t[c],n,i,!0);g.isEmptyObject(l)&&H.remove(e,"handle events")}},dispatch:function(e){e=g.event.fix(e);var t,n,i,r,o,a,l=s.call(arguments),c=(H.get(this,"events")||{})[e.type]||[],u=g.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=g.event.handlers.call(this,e,c),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((g.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)void 0===i[r=(o=t[n]).selector+" "]&&(i[r]=o.needsContext?g(r,this).index(l)>-1:g.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||a).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[g.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=se.test(r)?this.mouseHooks:ae.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new g.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=a),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==de()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===de()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(e){return g.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ce:ue):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:ue,isPropagationStopped:ue,isImmediatePropagationStopped:ue,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||g.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),g.fn.extend({on:function(e,t,n,i){return he(this,e,t,n,i)},one:function(e,t,n,i){return he(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,g(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ue),this.each((function(){g.event.remove(this,e,n,t)}))}});var fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,pe=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,ge=/^true\/(.*)/,me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ve(e,t){return g.nodeName(e,"table")&&g.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ye(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function be(e){var t=ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function we(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(H.hasData(e)&&(o=H.access(e),a=H.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)g.event.add(t,r,c[r][n]);$.hasData(e)&&(s=$.access(e),l=g.extend({},s),$.set(t,l))}}function xe(e,t,n,i){t=l.apply([],t);var r,o,a,s,c,u,d=0,h=e.length,f=h-1,A=t[0],m=g.isFunction(A);if(m||h>1&&"string"==typeof A&&!p.checkClone&&Ae.test(A))return e.each((function(r){var o=e.eq(r);m&&(t[0]=A.call(this,r,o.html())),xe(o,t,n,i)}));if(h&&(o=(r=oe(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=g.map(ee(r,"script"),ye)).length;d<h;d++)c=r,d!==f&&(c=g.clone(c,!0,!0),s&&g.merge(a,ee(c,"script"))),n.call(e[d],c,d);if(s)for(u=a[a.length-1].ownerDocument,g.map(a,be),d=0;d<s;d++)c=a[d],J.test(c.type||"")&&!H.access(c,"globalEval")&&g.contains(u,c)&&(c.src?g._evalUrl&&g._evalUrl(c.src):g.globalEval(c.textContent.replace(me,"")))}return e}function Ce(e,t,n){for(var i,r=t?g.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||g.cleanData(ee(i)),i.parentNode&&(n&&g.contains(i.ownerDocument,i)&&te(ee(i,"script")),i.parentNode.removeChild(i));return e}g.extend({htmlPrefilter:function(e){return e.replace(fe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s,l,c,u=e.cloneNode(!0),d=g.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(a=ee(u),i=0,r=(o=ee(e)).length;i<r;i++)s=o[i],void 0,"input"===(c=(l=a[i]).nodeName.toLowerCase())&&Y.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ee(e),a=a||ee(u),i=0,r=o.length;i<r;i++)we(o[i],a[i]);else we(e,u);return(a=ee(u,"script")).length>0&&te(a,!d&&ee(e,"script")),u},cleanData:function(e){for(var t,n,i,r=g.event.special,o=0;void 0!==(n=e[o]);o++)if(N(n)){if(t=n[H.expando]){if(t.events)for(i in t.events)r[i]?g.event.remove(n,i):g.removeEvent(n,i,t.handle);n[H.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),g.fn.extend({domManip:xe,detach:function(e){return Ce(this,e,!0)},remove:function(e){return Ce(this,e)},text:function(e){return O(this,(function(e){return void 0===e?g.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return xe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ve(this,e).appendChild(e)}))},prepend:function(){return xe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ve(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return xe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return xe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(ee(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return g.clone(this,e,t)}))},html:function(e){return O(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!pe.test(e)&&!Z[(X.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(g.cleanData(ee(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return xe(this,arguments,(function(t){var n=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(ee(this)),n&&n.replaceChild(t,this))}),e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){g.fn[e]=function(e){for(var n,i=[],r=g(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),g(r[a])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var _e,ke={HTML:"block",BODY:"block"};function Se(e,t){var n=g(t.createElement(e)).appendTo(t.body),i=g.css(n[0],"display");return n.detach(),i}function Ee(e){var t=a,n=ke[e];return n||("none"!==(n=Se(e,t))&&n||((t=(_e=(_e||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Se(e,t),_e.detach()),ke[e]=n),n}var Te=/^margin/,Be=new RegExp("^("+j+")(?!px)[a-z%]+$","i"),Ie=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},De=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r},Fe=a.documentElement;function Me(e,t,n){var i,r,o,a,s=e.style;return""!==(a=(n=n||Ie(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||g.contains(e.ownerDocument,e)||(a=g.style(e,t)),n&&!p.pixelMarginRight()&&Be.test(a)&&Te.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function Le(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,n,r,o=a.createElement("div"),s=a.createElement("div");function l(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Fe.appendChild(o);var a=i.getComputedStyle(s);e="1%"!==a.top,r="2px"===a.marginLeft,t="4px"===a.width,s.style.marginRight="50%",n="4px"===a.marginRight,Fe.removeChild(o)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),g.extend(p,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==t&&l(),t},pixelMarginRight:function(){return null==t&&l(),n},reliableMarginLeft:function(){return null==t&&l(),r},reliableMarginRight:function(){var e,t=s.appendChild(a.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",Fe.appendChild(o),e=!parseFloat(i.getComputedStyle(t).marginRight),Fe.removeChild(o),s.removeChild(t),e}}))}();var Pe=/^(none|table(?!-c[ea]).+)/,Re={position:"absolute",visibility:"hidden",display:"block"},Oe={letterSpacing:"0",fontWeight:"400"},Ne=["Webkit","O","Moz","ms"],Ue=a.createElement("div").style;function He(e){if(e in Ue)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ne.length;n--;)if((e=Ne[n]+t)in Ue)return e}function $e(e,t,n){var i=z.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Qe(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=g.css(e,n+K[o],!0,r)),i?("content"===n&&(a-=g.css(e,"padding"+K[o],!0,r)),"margin"!==n&&(a-=g.css(e,"border"+K[o]+"Width",!0,r))):(a+=g.css(e,"padding"+K[o],!0,r),"padding"!==n&&(a+=g.css(e,"border"+K[o]+"Width",!0,r)));return a}function We(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Ie(e),a="border-box"===g.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Me(e,t,o))<0||null==r)&&(r=e.style[t]),Be.test(r))return r;i=a&&(p.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Qe(e,t,n||(a?"border":"content"),i,o)+"px"}function Ve(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(o[a]=H.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&G(i)&&(o[a]=H.access(i,"olddisplay",Ee(i.nodeName)))):(r=G(i),"none"===n&&r||H.set(i,"olddisplay",r?n:g.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function je(e,t,n,i,r){return new je.prototype.init(e,t,n,i,r)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Me(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=g.camelCase(t),l=e.style;if(t=g.cssProps[s]||(g.cssProps[s]=He(s)||s),a=g.cssHooks[t]||g.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];"string"==(o=typeof n)&&(r=z.exec(n))&&r[1]&&(n=q(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(g.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=g.camelCase(t);return t=g.cssProps[s]||(g.cssProps[s]=He(s)||s),(a=g.cssHooks[t]||g.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Me(e,t,i)),"normal"===r&&t in Oe&&(r=Oe[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),g.each(["height","width"],(function(e,t){g.cssHooks[t]={get:function(e,n,i){if(n)return Pe.test(g.css(e,"display"))&&0===e.offsetWidth?De(e,Re,(function(){return We(e,t,i)})):We(e,t,i)},set:function(e,n,i){var r,o=i&&Ie(e),a=i&&Qe(e,t,i,"border-box"===g.css(e,"boxSizing",!1,o),o);return a&&(r=z.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=g.css(e,t)),$e(0,n,a)}}})),g.cssHooks.marginLeft=Le(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Me(e,"marginLeft"))||e.getBoundingClientRect().left-De(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),g.cssHooks.marginRight=Le(p.reliableMarginRight,(function(e,t){if(t)return De(e,{display:"inline-block"},Me,[e,"marginRight"])})),g.each({margin:"",padding:"",border:"Width"},(function(e,t){g.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+K[i]+t]=o[i]||o[i-2]||o[0];return r}},Te.test(e)||(g.cssHooks[e+t].set=$e)})),g.fn.extend({css:function(e,t){return O(this,(function(e,t,n){var i,r,o={},a=0;if(g.isArray(t)){for(i=Ie(e),r=t.length;a<r;a++)o[t[a]]=g.css(e,t[a],!1,i);return o}return void 0!==n?g.style(e,t,n):g.css(e,t)}),e,t,arguments.length>1)},show:function(){return Ve(this,!0)},hide:function(){return Ve(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){G(this)?g(this).show():g(this).hide()}))}}),g.Tween=je,je.prototype={constructor:je,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(g.cssNumber[n]?"":"px")},cur:function(){var e=je.propHooks[this.prop];return e&&e.get?e.get(this):je.propHooks._default.get(this)},run:function(e){var t,n=je.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):je.propHooks._default.set(this),this}},je.prototype.init.prototype=je.prototype,je.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}},je.propHooks.scrollTop=je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=je.prototype.init,g.fx.step={};var ze,Ke,Ge=/^(?:toggle|show|hide)$/,qe=/queueHooks$/;function Ye(){return i.setTimeout((function(){ze=void 0})),ze=g.now()}function Xe(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=K[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Je(e,t,n){for(var i,r=(Ze.tweeners[t]||[]).concat(Ze.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Ze(e,t,n){var i,r,o=0,a=Ze.prefilters.length,s=g.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=ze||Ye(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},n),originalProperties:t,originalOptions:n,startTime:ze||Ye(),duration:n.duration,tweens:[],createTween:function(t,n){var i=g.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=g.camelCase(n)],o=e[n],g.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=g.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=Ze.prefilters[o].call(c,e,u,c.opts))return g.isFunction(i.stop)&&(g._queueHooks(c.elem,c.opts.queue).stop=g.proxy(i.stop,i)),i;return g.map(u,Je,c),g.isFunction(c.opts.start)&&c.opts.start.call(e,c),g.fx.timer(g.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(Ze,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return q(n.elem,e,z.exec(t),n),n}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(P);for(var n,i=0,r=e.length;i<r;i++)n=e[i],Ze.tweeners[n]=Ze.tweeners[n]||[],Ze.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,l,c,u=this,d={},h=e.style,f=e.nodeType&&G(e),p=H.get(e,"fxshow");for(i in n.queue||(null==(s=g._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,g.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=g.css(e,"display"))?H.get(e,"olddisplay")||Ee(e.nodeName):c)&&"none"===g.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),t)if(r=t[i],Ge.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||g.style(e,i)}else c=void 0;if(g.isEmptyObject(d))"inline"===("none"===c?Ee(e.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=H.access(e,"fxshow",{}),o&&(p.hidden=!f),f?g(e).show():u.done((function(){g(e).hide()})),u.done((function(){var t;for(t in H.remove(e,"fxshow"),d)g.style(e,t,d[t])})),d)a=Je(f?p[i]:0,i,u),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],prefilter:function(e,t){t?Ze.prefilters.unshift(e):Ze.prefilters.push(e)}}),g.speed=function(e,t,n){var i=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return i.duration=g.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in g.fx.speeds?g.fx.speeds[i.duration]:g.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g.isFunction(i.old)&&i.old.call(this),i.queue&&g.dequeue(this,i.queue)},i},g.fn.extend({fadeTo:function(e,t,n,i){return this.filter(G).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=g.isEmptyObject(e),o=g.speed(t,n,i),a=function(){var t=Ze(this,g.extend({},e),o);(r||H.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=g.timers,a=H.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&qe.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||g.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=H.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=g.timers,a=i?i.length:0;for(n.finish=!0,g.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),g.each(["toggle","show","hide"],(function(e,t){var n=g.fn[t];g.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Xe(t,!0),e,i,r)}})),g.each({slideDown:Xe("show"),slideUp:Xe("hide"),slideToggle:Xe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){g.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for(ze=g.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),ze=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){Ke||(Ke=i.setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){i.clearInterval(Ke),Ke=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(e,t){return e=g.fx&&g.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}}))},function(){var e=a.createElement("input"),t=a.createElement("select"),n=t.appendChild(a.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=n.selected,t.disabled=!0,p.optDisabled=!n.disabled,(e=a.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var et,tt=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return O(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){g.removeAttr(this,e)}))}}),g.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?g.prop(e,t,n):(1===o&&g.isXMLDoc(e)||(t=t.toLowerCase(),r=g.attrHooks[t]||(g.expr.match.bool.test(t)?et:void 0)),void 0!==n?null===n?void g.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=g.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&g.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(P);if(o&&1===e.nodeType)for(;n=o[r++];)i=g.propFix[n]||n,g.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),et={set:function(e,t,n){return!1===t?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=tt[t]||g.find.attr;tt[t]=function(e,t,i){var r,o;return i||(o=tt[t],tt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,tt[t]=o),r}}));var nt=/^(?:input|select|textarea|button)$/i,it=/^(?:a|area)$/i;g.fn.extend({prop:function(e,t){return O(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[g.propFix[e]||e]}))}}),g.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&g.isXMLDoc(e)||(t=g.propFix[t]||t,r=g.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):nt.test(e.nodeName)||it.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this}));var rt=/[\t\r\n\f]/g;function ot(e){return e.getAttribute&&e.getAttribute("class")||""}g.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(g.isFunction(e))return this.each((function(t){g(this).addClass(e.call(this,t,ot(this)))}));if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[l++];)if(r=ot(n),i=1===n.nodeType&&(" "+r+" ").replace(rt," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=g.trim(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(g.isFunction(e))return this.each((function(t){g(this).removeClass(e.call(this,t,ot(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[l++];)if(r=ot(n),i=1===n.nodeType&&(" "+r+" ").replace(rt," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=g.trim(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each((function(n){g(this).toggleClass(e.call(this,n,ot(this),t),t)})):this.each((function(){var t,i,r,o;if("string"===n)for(i=0,r=g(this),o=e.match(P)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=ot(this))&&H.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":H.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+ot(n)+" ").replace(rt," ").indexOf(t)>-1)return!0;return!1}});var at=/\r/g,st=/[\x20\t\r\n\f]+/g;g.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=g.isFunction(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,g(this).val()):e)?r="":"number"==typeof r?r+="":g.isArray(r)&&(r=g.map(r,(function(e){return null==e?"":e+""}))),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=g.valHooks[r.type]||g.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(at,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:g.trim(g.text(e)).replace(st," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(p.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(t=g(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=g.makeArray(t),a=r.length;a--;)((i=r[a]).selected=g.inArray(g.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(e,t){if(g.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},p.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var lt=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(e,t,n,r){var o,s,l,c,u,d,h,p=[n||a],A=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(s=l=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!lt.test(A+g.event.triggered)&&(A.indexOf(".")>-1&&(m=A.split("."),A=m.shift(),m.sort()),u=A.indexOf(":")<0&&"on"+A,(e=e[g.expando]?e:new g.Event(A,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:g.makeArray(t,[e]),h=g.event.special[A]||{},r||!h.trigger||!1!==h.trigger.apply(n,t))){if(!r&&!h.noBubble&&!g.isWindow(n)){for(c=h.delegateType||A,lt.test(c+A)||(s=s.parentNode);s;s=s.parentNode)p.push(s),l=s;l===(n.ownerDocument||a)&&p.push(l.defaultView||l.parentWindow||i)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?c:h.bindType||A,(d=(H.get(s,"events")||{})[e.type]&&H.get(s,"handle"))&&d.apply(s,t),(d=u&&s[u])&&d.apply&&N(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=A,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!N(n)||u&&g.isFunction(n[A])&&!g.isWindow(n)&&((l=n[u])&&(n[u]=null),g.event.triggered=A,n[A](),g.event.triggered=void 0,l&&(n[u]=l)),e.result}},simulate:function(e,t,n){var i=g.extend(new g.Event,n,{type:e,isSimulated:!0});g.event.trigger(i,null,t)}}),g.fn.extend({trigger:function(e,t){return this.each((function(){g.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}}),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),p.focusin="onfocusin"in i,p.focusin||g.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=H.access(i,t);r||i.addEventListener(e,n,!0),H.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=H.access(i,t)-1;r?H.access(i,t,r):(i.removeEventListener(e,n,!0),H.remove(i,t))}}}));var ct=i.location,ut=g.now(),dt=/\?/;g.parseJSON=function(e){return JSON.parse(e+"")},g.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+e),t};var ht=/#.*$/,ft=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,At=/^(?:GET|HEAD)$/,gt=/^\/\//,mt={},vt={},yt="*/".concat("*"),bt=a.createElement("a");function wt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(P)||[];if(g.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function xt(e,t,n,i){var r={},o=e===vt;function a(s){var l;return r[s]=!0,g.each(e[s]||[],(function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Ct(e,t){var n,i,r=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&g.extend(!0,e,i),e}bt.href=ct.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ct(Ct(e,g.ajaxSettings),t):Ct(g.ajaxSettings,e)},ajaxPrefilter:wt(mt),ajaxTransport:wt(vt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,s,l,c,u,d,h=g.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?g(f):g.event,A=g.Deferred(),m=g.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=pt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||x;return n&&n.abort(t),_(0,t),this}};if(A.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||ct.href)+"").replace(ht,"").replace(gt,ct.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=g.trim(h.dataType||"*").toLowerCase().match(P)||[""],null==h.crossDomain){c=a.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=bt.protocol+"//"+bt.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=g.param(h.data,h.traditional)),xt(mt,h,t,C),2===w)return C;for(d in(u=g.event&&h.global)&&0==g.active++&&g.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!At.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(dt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=ft.test(r)?r.replace(ft,"$1_="+ut++):r+(dt.test(r)?"&":"?")+"_="+ut++)),h.ifModified&&(g.lastModified[r]&&C.setRequestHeader("If-Modified-Since",g.lastModified[r]),g.etag[r]&&C.setRequestHeader("If-None-Match",g.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+yt+"; q=0.01":""):h.accepts["*"]),h.headers)C.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(f,C,h)||2===w))return C.abort();for(d in x="abort",{success:1,error:1,complete:1})C[d](h[d]);if(n=xt(vt,h,t,C)){if(C.readyState=1,u&&p.trigger("ajaxSend",[C,h]),2===w)return C;h.async&&h.timeout>0&&(l=i.setTimeout((function(){C.abort("timeout")}),h.timeout));try{w=1,n.send(y,_)}catch(e){if(!(w<2))throw e;_(-1,e)}}else _(-1,"No Transport");function _(e,t,a,s){var c,d,y,b,x,_=t;2!==w&&(w=2,l&&i.clearTimeout(l),n=void 0,o=s||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(h,C,a)),b=function(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(h,b,C,c),c?(h.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(g.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(g.etag[r]=x)),204===e||"HEAD"===h.type?_="nocontent":304===e?_="notmodified":(_=b.state,d=b.data,c=!(y=b.error))):(y=_,!e&&_||(_="error",e<0&&(e=0))),C.status=e,C.statusText=(t||_)+"",c?A.resolveWith(f,[d,_,C]):A.rejectWith(f,[C,_,y]),C.statusCode(v),v=void 0,u&&p.trigger(c?"ajaxSuccess":"ajaxError",[C,h,c?d:y]),m.fireWith(f,[C,_]),u&&(p.trigger("ajaxComplete",[C,h]),--g.active||g.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],(function(e,t){g[t]=function(e,n,i,r){return g.isFunction(n)&&(r=r||i,i=n,n=void 0),g.ajax(g.extend({url:e,type:t,dataType:r,data:n,success:i},g.isPlainObject(e)&&e))}})),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return g.isFunction(e)?this.each((function(t){g(this).wrapAll(e.call(this,t))})):(this[0]&&(t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return g.isFunction(e)?this.each((function(t){g(this).wrapInner(e.call(this,t))})):this.each((function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g.isFunction(e);return this.each((function(n){g(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)})).end()}}),g.expr.filters.hidden=function(e){return!g.expr.filters.visible(e)},g.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var _t=/%20/g,kt=/\[\]$/,St=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function Bt(e,t,n,i){var r;if(g.isArray(t))g.each(t,(function(t,r){n||kt.test(e)?i(e,r):Bt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==g.type(t))i(e,t);else for(r in t)Bt(e+"["+r+"]",t[r],n,i)}g.param=function(e,t){var n,i=[],r=function(e,t){t=g.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,(function(){r(this.name,this.value)}));else for(n in e)Bt(n,e[n],t,r);return i.join("&").replace(_t,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&Tt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Y.test(e))})).map((function(e,t){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,(function(e){return{name:t.name,value:e.replace(St,"\r\n")}})):{name:t.name,value:n.replace(St,"\r\n")}})).get()}}),g.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var It={0:200,1223:204},Dt=g.ajaxSettings.xhr();p.cors=!!Dt&&"withCredentials"in Dt,p.ajax=Dt=!!Dt,g.ajaxTransport((function(e){var t,n;if(p.cors||Dt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(It[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),g.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Ft=[],Mt=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||g.expando+"_"+ut++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",(function(e,t,n){var r,o,a,s=!1!==e.jsonp&&(Mt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Mt,"$1"+r):!1!==e.jsonp&&(e.url+=(dt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||g.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===o?g(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Ft.push(r)),a&&g.isFunction(o)&&o(a[0]),a=o=void 0})),"script"})),g.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var i=S.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=oe([e],t,r),r&&r.length&&g(r).remove(),g.merge([],i.childNodes))};var Lt=g.fn.load;function Pt(e){return g.isWindow(e)?e:9===e.nodeType&&e.defaultView}g.fn.load=function(e,t,n){if("string"!=typeof e&&Lt)return Lt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=g.trim(e.slice(s)),e=e.slice(0,s)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&g.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?g("<div>").append(g.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){g.fn[t]=function(e){return this.on(t,e)}})),g.expr.filters.animated=function(e){return g.grep(g.timers,(function(t){return e===t.elem})).length},g.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=g.css(e,"position"),u=g(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=g.css(e,"top"),l=g.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,n,g.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){g.offset.setOffset(this,e,t)}));var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,g.contains(t,i)?(r=i.getBoundingClientRect(),n=Pt(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),g.nodeName(e[0],"html")||(i=e.offset()),i.top+=g.css(e[0],"borderTopWidth",!0),i.left+=g.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-g.css(n,"marginTop",!0),left:t.left-i.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===g.css(e,"position");)e=e.offsetParent;return e||Fe}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;g.fn[e]=function(i){return O(this,(function(e,i,r){var o=Pt(e);if(void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),g.each(["top","left"],(function(e,t){g.cssHooks[t]=Le(p.pixelPosition,(function(e,n){if(n)return n=Me(e,t),Be.test(n)?g(e).position()[t]+"px":n}))})),g.each({Height:"height",Width:"width"},(function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){g.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return O(this,(function(t,n,i){var r;return g.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?g.css(t,n,a):g.style(t,n,i,a)}),t,o?i:void 0,o,null)}}))})),g.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),g.fn.andSelf=g.fn.addBack,void 0===(n=function(){return g}.apply(t,[]))||(e.exports=n);var Rt=i.jQuery,Ot=i.$;return g.noConflict=function(e){return i.$===g&&(i.$=Ot),e&&i.jQuery===g&&(i.jQuery=Rt),g},r||(i.jQuery=i.$=g),g},"object"==typeof e.exports?e.exports=i.document?r(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(i)},29840:function(e,t,n){var i,r;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}return function t(n){function i(t,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},i.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}return r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",r,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,u=0;u<l.length;u++){var d=l[u].split("="),h=d.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var f=d[0].replace(c,decodeURIComponent);if(h=n.read?n.read(h,f):n(h,f)||h.replace(c,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===f){a=h;break}t||(a[f]=h)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i(e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}((function(){}))},void 0===(r=i.call(t,n,t,e))||(e.exports=r)},54370:function(e,t,n){var i;e=n.nmd(e),function(){function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function a(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function s(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function c(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function u(e,t){return!(null==e||!e.length)&&y(e,t,0)>-1}function d(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function h(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function f(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function p(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function A(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function g(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function m(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function v(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function y(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):v(e,w,n)}function b(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function w(e){return e!=e}function x(e,t){var n=null==e?0:e.length;return n?S(e,t)/n:Z}function C(e){return function(t){return null==t?j:t[e]}}function _(e){return function(t){return null==e?j:e[t]}}function k(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function S(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==j&&(n=n===j?o:n+o)}return n}function E(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function T(e){return e?e.slice(0,W(e)+1).replace(ze,""):e}function B(e){return function(t){return e(t)}}function I(e,t){return h(t,(function(t){return e[t]}))}function D(e,t){return e.has(t)}function F(e,t){for(var n=-1,i=e.length;++n<i&&y(t,e[n],0)>-1;);return n}function M(e,t){for(var n=e.length;n--&&y(t,e[n],0)>-1;);return n}function L(e){return"\\"+qt[e]}function P(e){return Wt.test(e)}function R(e){return Vt.test(e)}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function N(e,t){return function(n){return e(t(n))}}function U(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==G||(e[n]=G,o[r++]=n)}return o}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $(e){return P(e)?function(e){for(var t=$t.lastIndex=0;$t.test(e);)++t;return t}(e):fn(e)}function Q(e){return P(e)?function(e){return e.match($t)||[]}(e):function(e){return e.split("")}(e)}function W(e){for(var t=e.length;t--&&Ke.test(e.charAt(t)););return t}function V(e){return e.match(Qt)||[]}var j,z="Expected a function",K="__lodash_hash_undefined__",G="__lodash_placeholder__",q=32,Y=128,X=1/0,J=9007199254740991,Z=NaN,ee=4294967295,te=ee-1,ne=ee>>>1,ie=[["ary",Y],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",q],["partialRight",64],["rearg",256]],re="[object Arguments]",oe="[object Array]",ae="[object Boolean]",se="[object Date]",le="[object Error]",ce="[object Function]",ue="[object GeneratorFunction]",de="[object Map]",he="[object Number]",fe="[object Object]",pe="[object Promise]",Ae="[object RegExp]",ge="[object Set]",me="[object String]",ve="[object Symbol]",ye="[object WeakMap]",be="[object ArrayBuffer]",we="[object DataView]",xe="[object Float32Array]",Ce="[object Float64Array]",_e="[object Int8Array]",ke="[object Int16Array]",Se="[object Int32Array]",Ee="[object Uint8Array]",Te="[object Uint8ClampedArray]",Be="[object Uint16Array]",Ie="[object Uint32Array]",De=/\b__p \+= '';/g,Fe=/\b(__p \+=) '' \+/g,Me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,Re=RegExp(Le.source),Oe=RegExp(Pe.source),Ne=/<%-([\s\S]+?)%>/g,Ue=/<%([\s\S]+?)%>/g,He=/<%=([\s\S]+?)%>/g,$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qe=/^\w*$/,We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ve=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Ve.source),ze=/^\s+/,Ke=/\s/,Ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ye=/,? & /,Xe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Je=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tt=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,rt=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,st=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,ut="\\ud800-\\udfff",dt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ht="\\u2700-\\u27bf",ft="a-z\\xdf-\\xf6\\xf8-\\xff",pt="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mt="["+ut+"]",vt="["+gt+"]",yt="["+dt+"]",bt="\\d+",wt="["+ht+"]",xt="["+ft+"]",Ct="[^"+ut+gt+bt+ht+ft+pt+"]",_t="\\ud83c[\\udffb-\\udfff]",kt="[^"+ut+"]",St="(?:\\ud83c[\\udde6-\\uddff]){2}",Et="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+pt+"]",Bt="\\u200d",It="(?:"+xt+"|"+Ct+")",Dt="(?:"+Tt+"|"+Ct+")",Ft="(?:['](?:d|ll|m|re|s|t|ve))?",Mt="(?:['](?:D|LL|M|RE|S|T|VE))?",Lt="(?:"+yt+"|"+_t+")?",Pt="["+At+"]?",Rt=Pt+Lt+"(?:"+Bt+"(?:"+[kt,St,Et].join("|")+")"+Pt+Lt+")*",Ot="(?:"+[wt,St,Et].join("|")+")"+Rt,Nt="(?:"+[kt+yt+"?",yt,St,Et,mt].join("|")+")",Ut=RegExp("[']","g"),Ht=RegExp(yt,"g"),$t=RegExp(_t+"(?="+_t+")|"+Nt+Rt,"g"),Qt=RegExp([Tt+"?"+xt+"+"+Ft+"(?="+[vt,Tt,"$"].join("|")+")",Dt+"+"+Mt+"(?="+[vt,Tt+It,"$"].join("|")+")",Tt+"?"+It+"+"+Ft,Tt+"+"+Mt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bt,Ot].join("|"),"g"),Wt=RegExp("["+Bt+ut+dt+At+"]"),Vt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zt=-1,Kt={};Kt[xe]=Kt[Ce]=Kt[_e]=Kt[ke]=Kt[Se]=Kt[Ee]=Kt[Te]=Kt[Be]=Kt[Ie]=!0,Kt[re]=Kt[oe]=Kt[be]=Kt[ae]=Kt[we]=Kt[se]=Kt[le]=Kt[ce]=Kt[de]=Kt[he]=Kt[fe]=Kt[Ae]=Kt[ge]=Kt[me]=Kt[ye]=!1;var Gt={};Gt[re]=Gt[oe]=Gt[be]=Gt[we]=Gt[ae]=Gt[se]=Gt[xe]=Gt[Ce]=Gt[_e]=Gt[ke]=Gt[Se]=Gt[de]=Gt[he]=Gt[fe]=Gt[Ae]=Gt[ge]=Gt[me]=Gt[ve]=Gt[Ee]=Gt[Te]=Gt[Be]=Gt[Ie]=!0,Gt[le]=Gt[ce]=Gt[ye]=!1;var qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Xt=parseInt,Jt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Zt="object"==typeof self&&self&&self.Object===Object&&self,en=Jt||Zt||Function("return this")(),tn=t&&!t.nodeType&&t,nn=tn&&e&&!e.nodeType&&e,rn=nn&&nn.exports===tn,on=rn&&Jt.process,an=function(){try{return nn&&nn.require&&nn.require("util").types||on&&on.binding&&on.binding("util")}catch(e){}}(),sn=an&&an.isArrayBuffer,ln=an&&an.isDate,cn=an&&an.isMap,un=an&&an.isRegExp,dn=an&&an.isSet,hn=an&&an.isTypedArray,fn=C("length"),pn=_({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),An=_({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),gn=_({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),mn=function e(t){function n(e){if(Rr(e)&&!Ss(e)&&!(e instanceof Ke)){if(e instanceof _)return e;if(So.call(e,"__wrapped__"))return lr(e)}return new _(e)}function i(){}function _(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=j}function Ke(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function dt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ht(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ft(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ht;++t<n;)this.add(e[t])}function pt(e){this.size=(this.__data__=new dt(e)).size}function At(e,t){var n=Ss(e),i=!n&&ks(e),r=!n&&!i&&Ts(e),o=!n&&!i&&!r&&Ms(e),a=n||i||r||o,s=a?E(e.length,yo):[],l=s.length;for(var c in e)!t&&!So.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zi(c,l))||s.push(c);return s}function gt(e){var t=e.length;return t?e[Bn(0,t-1)]:j}function mt(e,t){return rr(ai(e),St(t,0,e.length))}function vt(e){return rr(ai(e))}function yt(e,t,n){(n===j||Tr(e[t],n))&&(n!==j||t in e)||_t(e,t,n)}function bt(e,t,n){var i=e[t];So.call(e,t)&&Tr(i,n)&&(n!==j||t in e)||_t(e,t,n)}function wt(e,t){for(var n=e.length;n--;)if(Tr(e[n][0],t))return n;return-1}function xt(e,t,n,i){return _a(e,(function(e,r,o){t(i,e,n(e),o)})),i}function Ct(e,t){return e&&si(t,Yr(t),e)}function _t(e,t,n){"__proto__"==t&&Vo?Vo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function kt(e,t){for(var n=-1,i=t.length,r=ho(i),o=null==e;++n<i;)r[n]=o?j:Gr(e,t[n]);return r}function St(e,t,n){return e==e&&(n!==j&&(e=e<=n?e:n),t!==j&&(e=e>=t?e:t)),e}function Et(e,t,n,i,r,o){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=r?n(e,i,r,o):n(e)),s!==j)return s;if(!Pr(e))return e;var d=Ss(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&So.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return ai(e,s)}else{var h=Ra(e),f=h==ce||h==ue;if(Ts(e))return ei(e,l);if(h==fe||h==re||f&&!r){if(s=c||f?{}:Vi(e),!l)return c?function(e,t){return si(e,Pa(e),t)}(e,function(e,t){return e&&si(t,Xr(t),e)}(s,e)):function(e,t){return si(e,La(e),t)}(e,Ct(s,e))}else{if(!Gt[h])return r?e:{};s=function(e,t,n){var i=e.constructor;switch(t){case be:return ti(e);case ae:case se:return new i(+e);case we:return function(e,t){return new e.constructor(t?ti(e.buffer):e.buffer,e.byteOffset,e.byteLength)}(e,n);case xe:case Ce:case _e:case ke:case Se:case Ee:case Te:case Be:case Ie:return ni(e,n);case de:return new i;case he:case me:return new i(e);case Ae:return function(e){var t=new e.constructor(e.source,tt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ge:return new i;case ve:return function(e){return wa?mo(wa.call(e)):{}}(e)}}(e,h,l)}}o||(o=new pt);var p=o.get(e);if(p)return p;o.set(e,s),Fs(e)?e.forEach((function(i){s.add(Et(i,t,n,i,e,o))})):Is(e)&&e.forEach((function(i,r){s.set(r,Et(i,t,n,r,e,o))}));var A=d?j:(u?c?Ri:Pi:c?Xr:Yr)(e);return a(A||e,(function(i,r){A&&(i=e[r=i]),bt(s,r,Et(i,t,n,r,e,o))})),s}function Tt(e,t,n){var i=n.length;if(null==e)return!i;for(e=mo(e);i--;){var r=n[i],o=t[r],a=e[r];if(a===j&&!(r in e)||!o(a))return!1}return!0}function Bt(e,t,n){if("function"!=typeof e)throw new bo(z);return Ua((function(){e.apply(j,n)}),t)}function It(e,t,n,i){var r=-1,o=u,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=h(t,B(n))),i?(o=d,a=!1):t.length>=200&&(o=D,a=!1,t=new ft(t));e:for(;++r<s;){var f=e[r],p=null==n?f:n(f);if(f=i||0!==f?f:0,a&&p==p){for(var A=c;A--;)if(t[A]===p)continue e;l.push(f)}else o(t,p,i)||l.push(f)}return l}function Dt(e,t){var n=!0;return _a(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function Ft(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===j?a==a&&!Hr(a):n(a,s)))var s=a,l=o}return l}function Mt(e,t){var n=[];return _a(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function Lt(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=ji),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Lt(s,t-1,n,i,r):f(r,s):i||(r[r.length]=s)}return r}function Pt(e,t){return e&&Sa(e,t,Yr)}function Rt(e,t){return e&&Ea(e,t,Yr)}function Ot(e,t){return c(t,(function(t){return Fr(e[t])}))}function Nt(e,t){for(var n=0,i=(t=Jn(t,e)).length;null!=e&&n<i;)e=e[or(t[n++])];return n&&n==i?e:j}function $t(e,t,n){var i=t(e);return Ss(e)?i:f(i,n(e))}function Qt(e){return null==e?e===j?"[object Undefined]":"[object Null]":Wo&&Wo in mo(e)?function(e){var t=So.call(e,Wo),n=e[Wo];try{e[Wo]=j;var i=!0}catch(e){}var r=Bo.call(e);return i&&(t?e[Wo]=n:delete e[Wo]),r}(e):function(e){return Bo.call(e)}(e)}function Wt(e,t){return e>t}function Vt(e,t){return null!=e&&So.call(e,t)}function qt(e,t){return null!=e&&t in mo(e)}function Jt(e,t,n){for(var i=n?d:u,r=e[0].length,o=e.length,a=o,s=ho(o),l=1/0,c=[];a--;){var f=e[a];a&&t&&(f=h(f,B(t))),l=na(f.length,l),s[a]=!n&&(t||r>=120&&f.length>=120)?new ft(a&&f):j}f=e[0];var p=-1,A=s[0];e:for(;++p<r&&c.length<l;){var g=f[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(A?D(A,m):i(c,m,n))){for(a=o;--a;){var v=s[a];if(!(v?D(v,m):i(e[a],m,n)))continue e}A&&A.push(m),c.push(g)}}return c}function Zt(e,t,n){var i=null==(e=er(e,t=Jn(t,e)))?e:e[or(fr(t))];return null==i?j:r(i,e,n)}function tn(e){return Rr(e)&&Qt(e)==re}function nn(e,t,n,i,r){return e===t||(null==e||null==t||!Rr(e)&&!Rr(t)?e!=e&&t!=t:function(e,t,n,i,r,o){var a=Ss(e),s=Ss(t),l=a?oe:Ra(e),c=s?oe:Ra(t),u=(l=l==re?fe:l)==fe,d=(c=c==re?fe:c)==fe,h=l==c;if(h&&Ts(e)){if(!Ts(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new pt),a||Ms(e)?Mi(e,t,n,i,r,o):function(e,t,n,i,r,o,a){switch(n){case we:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case be:return!(e.byteLength!=t.byteLength||!o(new Po(e),new Po(t)));case ae:case se:case he:return Tr(+e,+t);case le:return e.name==t.name&&e.message==t.message;case Ae:case me:return e==t+"";case de:var s=O;case ge:var l=1&i;if(s||(s=H),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=2,a.set(e,t);var u=Mi(s(e),s(t),i,r,o,a);return a.delete(e),u;case ve:if(wa)return wa.call(e)==wa.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var f=u&&So.call(e,"__wrapped__"),p=d&&So.call(t,"__wrapped__");if(f||p){var A=f?e.value():e,g=p?t.value():t;return o||(o=new pt),r(A,g,n,i,o)}}return!!h&&(o||(o=new pt),function(e,t,n,i,r,o){var a=1&n,s=Pi(e),l=s.length;if(l!=Pi(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:So.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){var A=e[u=s[c]],g=t[u];if(i)var m=a?i(g,A,u,t,e,o):i(A,g,u,e,t,o);if(!(m===j?A===g||r(A,g,n,i,o):m)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,r,o))}(e,t,n,i,nn,r))}function on(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=mo(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var l=(s=n[r])[0],c=e[l],u=s[1];if(a&&s[2]){if(c===j&&!(l in e))return!1}else{var d=new pt;if(i)var h=i(c,u,l,e,t,d);if(!(h===j?nn(u,c,3,i,d):h))return!1}}return!0}function an(e){return!(!Pr(e)||function(e){return!!To&&To in e}(e))&&(Fr(e)?Fo:rt).test(ar(e))}function fn(e){return"function"==typeof e?e:null==e?ro:"object"==typeof e?Ss(e)?xn(e[0],e[1]):wn(e):lo(e)}function vn(e){if(!Yi(e))return ea(e);var t=[];for(var n in mo(e))So.call(e,n)&&"constructor"!=n&&t.push(n);return t}function yn(e,t){return e<t}function bn(e,t){var n=-1,i=Br(e)?ho(e.length):[];return _a(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function wn(e){var t=$i(e);return 1==t.length&&t[0][2]?Ji(t[0][0],t[0][1]):function(n){return n===e||on(n,e,t)}}function xn(e,t){return Gi(e)&&Xi(t)?Ji(or(e),t):function(n){var i=Gr(n,e);return i===j&&i===t?qr(n,e):nn(t,i,3)}}function Cn(e,t,n,i,r){e!==t&&Sa(t,(function(o,a){if(r||(r=new pt),Pr(o))!function(e,t,n,i,r,o,a){var s=tr(e,n),l=tr(t,n),c=a.get(l);if(c)return yt(e,n,c),j;var u=o?o(s,l,n+"",e,t,a):j,d=u===j;if(d){var h=Ss(l),f=!h&&Ts(l),p=!h&&!f&&Ms(l);u=l,h||f||p?Ss(s)?u=s:Ir(s)?u=ai(s):f?(d=!1,u=ei(l,!0)):p?(d=!1,u=ni(l,!0)):u=[]:Nr(l)||ks(l)?(u=s,ks(s)?u=zr(s):Pr(s)&&!Fr(s)||(u=Vi(l))):d=!1}d&&(a.set(l,u),r(u,l,i,o,a),a.delete(l)),yt(e,n,u)}(e,t,a,n,Cn,i,r);else{var s=i?i(tr(e,a),o,a+"",e,t,r):j;s===j&&(s=o),yt(e,a,s)}}),Xr)}function _n(e,t){var n=e.length;if(n)return zi(t+=t<0?n:0,n)?e[t]:j}function kn(e,t,n){t=t.length?h(t,(function(e){return Ss(e)?function(t){return Nt(t,1===e.length?e[0]:e)}:e})):[ro];var i=-1;return t=h(t,B(Ui())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(bn(e,(function(e,n,r){return{criteria:h(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=ii(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Sn(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=Nt(e,a);n(s,a)&&Ln(o,Jn(a,e),s)}return o}function En(e,t,n,i){var r=i?b:y,o=-1,a=t.length,s=e;for(e===t&&(t=ai(t)),n&&(s=h(e,B(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==e&&Ho.call(s,l,1),Ho.call(e,l,1);return e}function Tn(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;zi(r)?Ho.call(e,r,1):Vn(e,r)}}return e}function Bn(e,t){return e+qo(oa()*(t-e+1))}function In(e,t){var n="";if(!e||t<1||t>J)return n;do{t%2&&(n+=e),(t=qo(t/2))&&(e+=e)}while(t);return n}function Dn(e,t){return Ha(Zi(e,t,ro),e+"")}function Fn(e){return gt(Zr(e))}function Mn(e,t){var n=Zr(e);return rr(n,St(t,0,n.length))}function Ln(e,t,n,i){if(!Pr(e))return e;for(var r=-1,o=(t=Jn(t,e)).length,a=o-1,s=e;null!=s&&++r<o;){var l=or(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=a){var u=s[l];(c=i?i(u,l,s):j)===j&&(c=Pr(u)?u:zi(t[r+1])?[]:{})}bt(s,l,c),s=s[l]}return e}function Pn(e){return rr(Zr(e))}function Rn(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=ho(r);++i<r;)o[i]=e[i+t];return o}function On(e,t){var n;return _a(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Nn(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=ne){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!Hr(a)&&(n?a<=t:a<t)?i=o+1:r=o}return r}return Un(e,t,ro,n)}function Un(e,t,n,i){var r=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,l=Hr(t),c=t===j;r<o;){var u=qo((r+o)/2),d=n(e[u]),h=d!==j,f=null===d,p=d==d,A=Hr(d);if(a)var g=i||p;else g=c?p&&(i||h):s?p&&h&&(i||!f):l?p&&h&&!f&&(i||!A):!f&&!A&&(i?d<=t:d<t);g?r=u+1:o=u}return na(o,te)}function Hn(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!Tr(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function $n(e){return"number"==typeof e?e:Hr(e)?Z:+e}function Qn(e){if("string"==typeof e)return e;if(Ss(e))return h(e,Qn)+"";if(Hr(e))return xa?xa.call(e):"";var t=e+"";return"0"==t&&1/e==-X?"-0":t}function Wn(e,t,n){var i=-1,r=u,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=d;else if(o>=200){var c=t?null:Fa(e);if(c)return H(c);a=!1,r=D,l=new ft}else l=t?[]:s;e:for(;++i<o;){var h=e[i],f=t?t(h):h;if(h=n||0!==h?h:0,a&&f==f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),s.push(h)}else r(l,f,n)||(l!==s&&l.push(f),s.push(h))}return s}function Vn(e,t){return null==(e=er(e,t=Jn(t,e)))||delete e[or(fr(t))]}function jn(e,t,n,i){return Ln(e,t,n(Nt(e,t)),i)}function zn(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Rn(e,i?0:o,i?o+1:r):Rn(e,i?o+1:0,i?r:o)}function Kn(e,t){var n=e;return n instanceof Ke&&(n=n.value()),p(t,(function(e,t){return t.func.apply(t.thisArg,f([e],t.args))}),n)}function Gn(e,t,n){var i=e.length;if(i<2)return i?Wn(e[0]):[];for(var r=-1,o=ho(i);++r<i;)for(var a=e[r],s=-1;++s<i;)s!=r&&(o[r]=It(o[r]||a,e[s],t,n));return Wn(Lt(o,1),t,n)}function qn(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;)n(a,e[i],i<o?t[i]:j);return a}function Yn(e){return Ir(e)?e:[]}function Xn(e){return"function"==typeof e?e:ro}function Jn(e,t){return Ss(e)?e:Gi(e,t)?[e]:$a(Kr(e))}function Zn(e,t,n){var i=e.length;return n=n===j?i:n,!t&&n>=i?e:Rn(e,t,n)}function ei(e,t){if(t)return e.slice();var n=e.length,i=Ro?Ro(n):new e.constructor(n);return e.copy(i),i}function ti(e){var t=new e.constructor(e.byteLength);return new Po(t).set(new Po(e)),t}function ni(e,t){return new e.constructor(t?ti(e.buffer):e.buffer,e.byteOffset,e.length)}function ii(e,t){if(e!==t){var n=e!==j,i=null===e,r=e==e,o=Hr(e),a=t!==j,s=null===t,l=t==t,c=Hr(t);if(!s&&!c&&!o&&e>t||o&&a&&l&&!s&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!c&&e<t||c&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function ri(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,c=ta(o-a,0),u=ho(l+c),d=!i;++s<l;)u[s]=t[s];for(;++r<a;)(d||r<o)&&(u[n[r]]=e[r]);for(;c--;)u[s++]=e[r++];return u}function oi(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,c=t.length,u=ta(o-s,0),d=ho(u+c),h=!i;++r<u;)d[r]=e[r];for(var f=r;++l<c;)d[f+l]=t[l];for(;++a<s;)(h||r<o)&&(d[f+n[a]]=e[r++]);return d}function ai(e,t){var n=-1,i=e.length;for(t||(t=ho(i));++n<i;)t[n]=e[n];return t}function si(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):j;l===j&&(l=e[s]),r?_t(n,s,l):bt(n,s,l)}return n}function li(e,t){return function(n,i){var r=Ss(n)?o:xt,a=t?t():{};return r(n,e,Ui(i,2),a)}}function ci(e){return Dn((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:j,a=r>2?n[2]:j;for(o=e.length>3&&"function"==typeof o?(r--,o):j,a&&Ki(n[0],n[1],a)&&(o=r<3?j:o,r=1),t=mo(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t}))}function ui(e,t){return function(n,i){if(null==n)return n;if(!Br(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=mo(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function di(e){return function(t,n,i){for(var r=-1,o=mo(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}function hi(e){return function(t){var n=P(t=Kr(t))?Q(t):j,i=n?n[0]:t.charAt(0),r=n?Zn(n,1).join(""):t.slice(1);return i[e]()+r}}function fi(e){return function(t){return p(no(to(t).replace(Ut,"")),e,"")}}function pi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ca(e.prototype),i=e.apply(n,t);return Pr(i)?i:n}}function Ai(e,t,n){var i=pi(e);return function o(){for(var a=arguments.length,s=ho(a),l=a,c=Ni(o);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:U(s,c);return(a-=u.length)<n?Si(e,t,vi,o.placeholder,j,s,u,j,j,n-a):r(this&&this!==en&&this instanceof o?i:e,this,s)}}function gi(e){return function(t,n,i){var r=mo(t);if(!Br(t)){var o=Ui(n,3);t=Yr(t),n=function(e){return o(r[e],e,r)}}var a=e(t,n,i);return a>-1?r[o?t[a]:a]:j}}function mi(e){return Li((function(t){var n=t.length,i=n,r=_.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new bo(z);if(r&&!a&&"wrapper"==Oi(o))var a=new _([],!0)}for(i=a?i:n;++i<n;){var s=Oi(o=t[i]),l="wrapper"==s?Ma(o):j;a=l&&qi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Oi(l[0])].apply(a,l[3]):1==o.length&&qi(o)?a[s]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&Ss(i))return a.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}}))}function vi(e,t,n,i,r,o,a,s,l,c){var u=t&Y,d=1&t,h=2&t,f=24&t,p=512&t,A=h?j:pi(e);return function g(){for(var m=arguments.length,v=ho(m),y=m;y--;)v[y]=arguments[y];if(f)var b=Ni(g),w=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(v,b);if(i&&(v=ri(v,i,r,f)),o&&(v=oi(v,o,a,f)),m-=w,f&&m<c)return Si(e,t,vi,g.placeholder,n,v,U(v,b),s,l,c-m);var x=d?n:this,C=h?x[e]:e;return m=v.length,s?v=function(e,t){for(var n=e.length,i=na(t.length,n),r=ai(e);i--;){var o=t[i];e[i]=zi(o,n)?r[o]:j}return e}(v,s):p&&m>1&&v.reverse(),u&&l<m&&(v.length=l),this&&this!==en&&this instanceof g&&(C=A||pi(C)),C.apply(x,v)}}function yi(e,t){return function(n,i){return function(e,t,n,i){return Pt(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}function bi(e,t){return function(n,i){var r;if(n===j&&i===j)return t;if(n!==j&&(r=n),i!==j){if(r===j)return i;"string"==typeof n||"string"==typeof i?(n=Qn(n),i=Qn(i)):(n=$n(n),i=$n(i)),r=e(n,i)}return r}}function wi(e){return Li((function(t){return t=h(t,B(Ui())),Dn((function(n){var i=this;return e(t,(function(e){return r(e,i,n)}))}))}))}function xi(e,t){var n=(t=t===j?" ":Qn(t)).length;if(n<2)return n?In(t,e):t;var i=In(t,Go(e/$(t)));return P(t)?Zn(Q(i),0,e).join(""):i.slice(0,e)}function Ci(e,t,n,i){var o=1&t,a=pi(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=i.length,d=ho(u+l),h=this&&this!==en&&this instanceof t?a:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++s];return r(h,o?n:this,d)}}function _i(e){return function(t,n,i){return i&&"number"!=typeof i&&Ki(t,n,i)&&(n=i=j),t=Qr(t),n===j?(n=t,t=0):n=Qr(n),function(e,t,n,i){for(var r=-1,o=ta(Go((t-e)/(n||1)),0),a=ho(o);o--;)a[i?o:++r]=e,e+=n;return a}(t,n,i=i===j?t<n?1:-1:Qr(i),e)}}function ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=jr(t),n=jr(n)),e(t,n)}}function Si(e,t,n,i,r,o,a,s,l,c){var u=8&t;t|=u?q:64,4&(t&=~(u?64:q))||(t&=-4);var d=[e,t,r,u?o:j,u?a:j,u?j:o,u?j:a,s,l,c],h=n.apply(j,d);return qi(e)&&Na(h,d),h.placeholder=i,nr(h,e,t)}function Ei(e){var t=go[e];return function(e,n){if(e=jr(e),(n=null==n?0:na(Wr(n),292))&&Jo(e)){var i=(Kr(e)+"e").split("e");return+((i=(Kr(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}function Ti(e){return function(t){var n=Ra(t);return n==de?O(t):n==ge?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return h(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Bi(e,t,n,i,r,o,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new bo(z);var c=i?i.length:0;if(c||(t&=-97,i=r=j),a=a===j?a:ta(Wr(a),0),s=s===j?s:Wr(s),c-=r?r.length:0,64&t){var u=i,d=r;i=r=j}var h=l?j:Ma(e),f=[e,t,n,i,r,u,d,o,a,s];if(h&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,a=i==Y&&8==n||i==Y&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?ri(l,s,t[4]):s,e[4]=l?U(e[3],G):t[4]}(s=t[5])&&(l=e[5],e[5]=l?oi(l,s,t[6]):s,e[6]=l?U(e[5],G):t[6]),(s=t[7])&&(e[7]=s),i&Y&&(e[8]=null==e[8]?t[8]:na(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(f,h),e=f[0],t=f[1],n=f[2],i=f[3],r=f[4],!(s=f[9]=f[9]===j?l?0:e.length:ta(f[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?Ai(e,t,s):t!=q&&33!=t||r.length?vi.apply(j,f):Ci(e,t,n,i);else var p=function(e,t,n){var i=1&t,r=pi(e);return function t(){return(this&&this!==en&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return nr((h?Ta:Na)(p,f),e,t)}function Ii(e,t,n,i){return e===j||Tr(e,Co[n])&&!So.call(i,n)?t:e}function Di(e,t,n,i,r,o){return Pr(e)&&Pr(t)&&(o.set(t,e),Cn(e,t,j,Di,o),o.delete(t)),e}function Fi(e){return Nr(e)?j:e}function Mi(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new ft:j;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],A=t[d];if(i)var m=a?i(A,p,d,t,e,o):i(p,A,d,e,t,o);if(m!==j){if(m)continue;h=!1;break}if(f){if(!g(t,(function(e,t){if(!D(f,t)&&(p===e||r(p,e,n,i,o)))return f.push(t)}))){h=!1;break}}else if(p!==A&&!r(p,A,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Li(e){return Ha(Zi(e,j,dr),e+"")}function Pi(e){return $t(e,Yr,La)}function Ri(e){return $t(e,Xr,Pa)}function Oi(e){for(var t=e.name+"",n=pa[t],i=So.call(pa,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Ni(e){return(So.call(n,"placeholder")?n:e).placeholder}function Ui(){var e=n.iteratee||oo;return e=e===oo?fn:e,arguments.length?e(arguments[0],arguments[1]):e}function Hi(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function $i(e){for(var t=Yr(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Xi(r)]}return t}function Qi(e,t){var n=function(e,t){return null==e?j:e[t]}(e,t);return an(n)?n:j}function Wi(e,t,n){for(var i=-1,r=(t=Jn(t,e)).length,o=!1;++i<r;){var a=or(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Lr(r)&&zi(a,r)&&(Ss(e)||ks(e))}function Vi(e){return"function"!=typeof e.constructor||Yi(e)?{}:Ca(Oo(e))}function ji(e){return Ss(e)||ks(e)||!!($o&&e&&e[$o])}function zi(e,t){var n=typeof e;return!!(t=null==t?J:t)&&("number"==n||"symbol"!=n&&at.test(e))&&e>-1&&e%1==0&&e<t}function Ki(e,t,n){if(!Pr(n))return!1;var i=typeof t;return!!("number"==i?Br(n)&&zi(t,n.length):"string"==i&&t in n)&&Tr(n[t],e)}function Gi(e,t){if(Ss(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Hr(e))||Qe.test(e)||!$e.test(e)||null!=t&&e in mo(t)}function qi(e){var t=Oi(e),i=n[t];if("function"!=typeof i||!(t in Ke.prototype))return!1;if(e===i)return!0;var r=Ma(i);return!!r&&e===r[0]}function Yi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Co)}function Xi(e){return e==e&&!Pr(e)}function Ji(e,t){return function(n){return null!=n&&n[e]===t&&(t!==j||e in mo(n))}}function Zi(e,t,n){return t=ta(t===j?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=ta(i.length-t,0),s=ho(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=ho(t+1);++o<t;)l[o]=i[o];return l[t]=n(s),r(e,this,l)}}function er(e,t){return t.length<2?e:Nt(e,Rn(t,0,-1))}function tr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function nr(e,t,n){var i=t+"";return Ha(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Ge,"{\n/* [wrapped with "+t+"] */\n")}(i,sr(function(e){var t=e.match(qe);return t?t[1].split(Ye):[]}(i),n)))}function ir(e){var t=0,n=0;return function(){var i=ia(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(j,arguments)}}function rr(e,t){var n=-1,i=e.length,r=i-1;for(t=t===j?i:t;++n<t;){var o=Bn(n,r),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function or(e){if("string"==typeof e||Hr(e))return e;var t=e+"";return"0"==t&&1/e==-X?"-0":t}function ar(e){if(null!=e){try{return ko.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function sr(e,t){return a(ie,(function(n){var i="_."+n[0];t&n[1]&&!u(e,i)&&e.push(i)})),e.sort()}function lr(e){if(e instanceof Ke)return e.clone();var t=new _(e.__wrapped__,e.__chain__);return t.__actions__=ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function cr(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Wr(n);return r<0&&(r=ta(i+r,0)),v(e,Ui(t,3),r)}function ur(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==j&&(r=Wr(n),r=n<0?ta(i+r,0):na(r,i-1)),v(e,Ui(t,3),r,!0)}function dr(e){return null!=e&&e.length?Lt(e,1):[]}function hr(e){return e&&e.length?e[0]:j}function fr(e){var t=null==e?0:e.length;return t?e[t-1]:j}function pr(e,t){return e&&e.length&&t&&t.length?En(e,t):e}function Ar(e){return null==e?e:aa.call(e)}function gr(e){if(!e||!e.length)return[];var t=0;return e=c(e,(function(e){if(Ir(e))return t=ta(e.length,t),!0})),E(t,(function(t){return h(e,C(t))}))}function mr(e,t){if(!e||!e.length)return[];var n=gr(e);return null==t?n:h(n,(function(e){return r(t,j,e)}))}function vr(e){var t=n(e);return t.__chain__=!0,t}function yr(e,t){return t(e)}function br(e,t){return(Ss(e)?a:_a)(e,Ui(t,3))}function wr(e,t){return(Ss(e)?s:ka)(e,Ui(t,3))}function xr(e,t){return(Ss(e)?h:bn)(e,Ui(t,3))}function Cr(e,t,n){return t=n?j:t,t=e&&null==t?e.length:t,Bi(e,Y,j,j,j,j,t)}function _r(e,t){var n;if("function"!=typeof t)throw new bo(z);return e=Wr(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=j),n}}function kr(e,t,n){function i(t){var n=l,i=c;return l=c=j,p=t,d=e.apply(i,n)}function r(e){var n=e-f;return f===j||n>=t||n<0||g&&e-p>=u}function o(){var e=ps();return r(e)?a(e):(h=Ua(o,function(e){var n=t-(e-f);return g?na(n,u-(e-p)):n}(e)),j)}function a(e){return h=j,m&&l?i(e):(l=c=j,d)}function s(){var e=ps(),n=r(e);if(l=arguments,c=this,f=e,n){if(h===j)return function(e){return p=e,h=Ua(o,t),A?i(e):d}(f);if(g)return Da(h),h=Ua(o,t),i(f)}return h===j&&(h=Ua(o,t)),d}var l,c,u,d,h,f,p=0,A=!1,g=!1,m=!0;if("function"!=typeof e)throw new bo(z);return t=jr(t)||0,Pr(n)&&(A=!!n.leading,u=(g="maxWait"in n)?ta(jr(n.maxWait)||0,t):u,m="trailing"in n?!!n.trailing:m),s.cancel=function(){h!==j&&Da(h),p=0,l=f=c=h=j},s.flush=function(){return h===j?d:a(ps())},s}function Sr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new bo(z);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Sr.Cache||ht),n}function Er(e){if("function"!=typeof e)throw new bo(z);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Tr(e,t){return e===t||e!=e&&t!=t}function Br(e){return null!=e&&Lr(e.length)&&!Fr(e)}function Ir(e){return Rr(e)&&Br(e)}function Dr(e){if(!Rr(e))return!1;var t=Qt(e);return t==le||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Nr(e)}function Fr(e){if(!Pr(e))return!1;var t=Qt(e);return t==ce||t==ue||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Mr(e){return"number"==typeof e&&e==Wr(e)}function Lr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=J}function Pr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Rr(e){return null!=e&&"object"==typeof e}function Or(e){return"number"==typeof e||Rr(e)&&Qt(e)==he}function Nr(e){if(!Rr(e)||Qt(e)!=fe)return!1;var t=Oo(e);if(null===t)return!0;var n=So.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ko.call(n)==Io}function Ur(e){return"string"==typeof e||!Ss(e)&&Rr(e)&&Qt(e)==me}function Hr(e){return"symbol"==typeof e||Rr(e)&&Qt(e)==ve}function $r(e){if(!e)return[];if(Br(e))return Ur(e)?Q(e):ai(e);if(Qo&&e[Qo])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qo]());var t=Ra(e);return(t==de?O:t==ge?H:Zr)(e)}function Qr(e){return e?(e=jr(e))===X||e===-X?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Wr(e){var t=Qr(e),n=t%1;return t==t?n?t-n:t:0}function Vr(e){return e?St(Wr(e),0,ee):0}function jr(e){if("number"==typeof e)return e;if(Hr(e))return Z;if(Pr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Pr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=T(e);var n=it.test(e);return n||ot.test(e)?Xt(e.slice(2),n?2:8):nt.test(e)?Z:+e}function zr(e){return si(e,Xr(e))}function Kr(e){return null==e?"":Qn(e)}function Gr(e,t,n){var i=null==e?j:Nt(e,t);return i===j?n:i}function qr(e,t){return null!=e&&Wi(e,t,qt)}function Yr(e){return Br(e)?At(e):vn(e)}function Xr(e){return Br(e)?At(e,!0):function(e){if(!Pr(e))return function(e){var t=[];if(null!=e)for(var n in mo(e))t.push(n);return t}(e);var t=Yi(e),n=[];for(var i in e)("constructor"!=i||!t&&So.call(e,i))&&n.push(i);return n}(e)}function Jr(e,t){if(null==e)return{};var n=h(Ri(e),(function(e){return[e]}));return t=Ui(t),Sn(e,n,(function(e,n){return t(e,n[0])}))}function Zr(e){return null==e?[]:I(e,Yr(e))}function eo(e){return ol(Kr(e).toLowerCase())}function to(e){return(e=Kr(e))&&e.replace(st,pn).replace(Ht,"")}function no(e,t,n){return e=Kr(e),(t=n?j:t)===j?R(e)?V(e):function(e){return e.match(Xe)||[]}(e):e.match(t)||[]}function io(e){return function(){return e}}function ro(e){return e}function oo(e){return fn("function"==typeof e?e:Et(e,1))}function ao(e,t,n){var i=Yr(t),r=Ot(t,i);null!=n||Pr(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Ot(t,Yr(t)));var o=!(Pr(n)&&"chain"in n&&!n.chain),s=Fr(e);return a(r,(function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ai(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,f([this.value()],arguments))})})),e}function so(){}function lo(e){return Gi(e)?C(or(e)):function(e){return function(t){return Nt(t,e)}}(e)}function co(){return[]}function uo(){return!1}var ho=(t=null==t?en:mn.defaults(en.Object(),t,mn.pick(en,jt))).Array,fo=t.Date,po=t.Error,Ao=t.Function,go=t.Math,mo=t.Object,vo=t.RegExp,yo=t.String,bo=t.TypeError,wo=ho.prototype,xo=Ao.prototype,Co=mo.prototype,_o=t["__core-js_shared__"],ko=xo.toString,So=Co.hasOwnProperty,Eo=0,To=function(){var e=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Bo=Co.toString,Io=ko.call(mo),Do=en._,Fo=vo("^"+ko.call(So).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mo=rn?t.Buffer:j,Lo=t.Symbol,Po=t.Uint8Array,Ro=Mo?Mo.allocUnsafe:j,Oo=N(mo.getPrototypeOf,mo),No=mo.create,Uo=Co.propertyIsEnumerable,Ho=wo.splice,$o=Lo?Lo.isConcatSpreadable:j,Qo=Lo?Lo.iterator:j,Wo=Lo?Lo.toStringTag:j,Vo=function(){try{var e=Qi(mo,"defineProperty");return e({},"",{}),e}catch(e){}}(),jo=t.clearTimeout!==en.clearTimeout&&t.clearTimeout,zo=fo&&fo.now!==en.Date.now&&fo.now,Ko=t.setTimeout!==en.setTimeout&&t.setTimeout,Go=go.ceil,qo=go.floor,Yo=mo.getOwnPropertySymbols,Xo=Mo?Mo.isBuffer:j,Jo=t.isFinite,Zo=wo.join,ea=N(mo.keys,mo),ta=go.max,na=go.min,ia=fo.now,ra=t.parseInt,oa=go.random,aa=wo.reverse,sa=Qi(t,"DataView"),la=Qi(t,"Map"),ca=Qi(t,"Promise"),ua=Qi(t,"Set"),da=Qi(t,"WeakMap"),ha=Qi(mo,"create"),fa=da&&new da,pa={},Aa=ar(sa),ga=ar(la),ma=ar(ca),va=ar(ua),ya=ar(da),ba=Lo?Lo.prototype:j,wa=ba?ba.valueOf:j,xa=ba?ba.toString:j,Ca=function(){function e(){}return function(t){if(!Pr(t))return{};if(No)return No(t);e.prototype=t;var n=new e;return e.prototype=j,n}}();n.templateSettings={escape:Ne,evaluate:Ue,interpolate:He,variable:"",imports:{_:n}},n.prototype=i.prototype,n.prototype.constructor=n,_.prototype=Ca(i.prototype),_.prototype.constructor=_,Ke.prototype=Ca(i.prototype),Ke.prototype.constructor=Ke,ut.prototype.clear=function(){this.__data__=ha?ha(null):{},this.size=0},ut.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ut.prototype.get=function(e){var t=this.__data__;if(ha){var n=t[e];return n===K?j:n}return So.call(t,e)?t[e]:j},ut.prototype.has=function(e){var t=this.__data__;return ha?t[e]!==j:So.call(t,e)},ut.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ha&&t===j?K:t,this},dt.prototype.clear=function(){this.__data__=[],this.size=0},dt.prototype.delete=function(e){var t=this.__data__,n=wt(t,e);return!(n<0||(n==t.length-1?t.pop():Ho.call(t,n,1),--this.size,0))},dt.prototype.get=function(e){var t=this.__data__,n=wt(t,e);return n<0?j:t[n][1]},dt.prototype.has=function(e){return wt(this.__data__,e)>-1},dt.prototype.set=function(e,t){var n=this.__data__,i=wt(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ht.prototype.clear=function(){this.size=0,this.__data__={hash:new ut,map:new(la||dt),string:new ut}},ht.prototype.delete=function(e){var t=Hi(this,e).delete(e);return this.size-=t?1:0,t},ht.prototype.get=function(e){return Hi(this,e).get(e)},ht.prototype.has=function(e){return Hi(this,e).has(e)},ht.prototype.set=function(e,t){var n=Hi(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ft.prototype.add=ft.prototype.push=function(e){return this.__data__.set(e,K),this},ft.prototype.has=function(e){return this.__data__.has(e)},pt.prototype.clear=function(){this.__data__=new dt,this.size=0},pt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},pt.prototype.get=function(e){return this.__data__.get(e)},pt.prototype.has=function(e){return this.__data__.has(e)},pt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof dt){var i=n.__data__;if(!la||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ht(i)}return n.set(e,t),this.size=n.size,this};var _a=ui(Pt),ka=ui(Rt,!0),Sa=di(),Ea=di(!0),Ta=fa?function(e,t){return fa.set(e,t),e}:ro,Ba=Vo?function(e,t){return Vo(e,"toString",{configurable:!0,enumerable:!1,value:io(t),writable:!0})}:ro,Ia=Dn,Da=jo||function(e){return en.clearTimeout(e)},Fa=ua&&1/H(new ua([,-0]))[1]==X?function(e){return new ua(e)}:so,Ma=fa?function(e){return fa.get(e)}:so,La=Yo?function(e){return null==e?[]:(e=mo(e),c(Yo(e),(function(t){return Uo.call(e,t)})))}:co,Pa=Yo?function(e){for(var t=[];e;)f(t,La(e)),e=Oo(e);return t}:co,Ra=Qt;(sa&&Ra(new sa(new ArrayBuffer(1)))!=we||la&&Ra(new la)!=de||ca&&Ra(ca.resolve())!=pe||ua&&Ra(new ua)!=ge||da&&Ra(new da)!=ye)&&(Ra=function(e){var t=Qt(e),n=t==fe?e.constructor:j,i=n?ar(n):"";if(i)switch(i){case Aa:return we;case ga:return de;case ma:return pe;case va:return ge;case ya:return ye}return t});var Oa=_o?Fr:uo,Na=ir(Ta),Ua=Ko||function(e,t){return en.setTimeout(e,t)},Ha=ir(Ba),$a=function(e){var t=Sr((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(We,(function(e,n,i,r){t.push(i?r.replace(Ze,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),Qa=Dn((function(e,t){return Ir(e)?It(e,Lt(t,1,Ir,!0)):[]})),Wa=Dn((function(e,t){var n=fr(t);return Ir(n)&&(n=j),Ir(e)?It(e,Lt(t,1,Ir,!0),Ui(n,2)):[]})),Va=Dn((function(e,t){var n=fr(t);return Ir(n)&&(n=j),Ir(e)?It(e,Lt(t,1,Ir,!0),j,n):[]})),ja=Dn((function(e){var t=h(e,Yn);return t.length&&t[0]===e[0]?Jt(t):[]})),za=Dn((function(e){var t=fr(e),n=h(e,Yn);return t===fr(n)?t=j:n.pop(),n.length&&n[0]===e[0]?Jt(n,Ui(t,2)):[]})),Ka=Dn((function(e){var t=fr(e),n=h(e,Yn);return(t="function"==typeof t?t:j)&&n.pop(),n.length&&n[0]===e[0]?Jt(n,j,t):[]})),Ga=Dn(pr),qa=Li((function(e,t){var n=null==e?0:e.length,i=kt(e,t);return Tn(e,h(t,(function(e){return zi(e,n)?+e:e})).sort(ii)),i})),Ya=Dn((function(e){return Wn(Lt(e,1,Ir,!0))})),Xa=Dn((function(e){var t=fr(e);return Ir(t)&&(t=j),Wn(Lt(e,1,Ir,!0),Ui(t,2))})),Ja=Dn((function(e){var t=fr(e);return t="function"==typeof t?t:j,Wn(Lt(e,1,Ir,!0),j,t)})),Za=Dn((function(e,t){return Ir(e)?It(e,t):[]})),es=Dn((function(e){return Gn(c(e,Ir))})),ts=Dn((function(e){var t=fr(e);return Ir(t)&&(t=j),Gn(c(e,Ir),Ui(t,2))})),ns=Dn((function(e){var t=fr(e);return t="function"==typeof t?t:j,Gn(c(e,Ir),j,t)})),is=Dn(gr),rs=Dn((function(e){var t=e.length,n=t>1?e[t-1]:j;return n="function"==typeof n?(e.pop(),n):j,mr(e,n)})),os=Li((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return kt(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Ke&&zi(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:yr,args:[r],thisArg:j}),new _(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(j),e}))):this.thru(r)})),as=li((function(e,t,n){So.call(e,n)?++e[n]:_t(e,n,1)})),ss=gi(cr),ls=gi(ur),cs=li((function(e,t,n){So.call(e,n)?e[n].push(t):_t(e,n,[t])})),us=Dn((function(e,t,n){var i=-1,o="function"==typeof t,a=Br(e)?ho(e.length):[];return _a(e,(function(e){a[++i]=o?r(t,e,n):Zt(e,t,n)})),a})),ds=li((function(e,t,n){_t(e,n,t)})),hs=li((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),fs=Dn((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ki(e,t[0],t[1])?t=[]:n>2&&Ki(t[0],t[1],t[2])&&(t=[t[0]]),kn(e,Lt(t,1),[])})),ps=zo||function(){return en.Date.now()},As=Dn((function(e,t,n){var i=1;if(n.length){var r=U(n,Ni(As));i|=q}return Bi(e,i,t,n,r)})),gs=Dn((function(e,t,n){var i=3;if(n.length){var r=U(n,Ni(gs));i|=q}return Bi(t,i,e,n,r)})),ms=Dn((function(e,t){return Bt(e,1,t)})),vs=Dn((function(e,t,n){return Bt(e,jr(t)||0,n)}));Sr.Cache=ht;var ys=Ia((function(e,t){var n=(t=1==t.length&&Ss(t[0])?h(t[0],B(Ui())):h(Lt(t,1),B(Ui()))).length;return Dn((function(i){for(var o=-1,a=na(i.length,n);++o<a;)i[o]=t[o].call(this,i[o]);return r(e,this,i)}))})),bs=Dn((function(e,t){return Bi(e,q,j,t,U(t,Ni(bs)))})),ws=Dn((function(e,t){return Bi(e,64,j,t,U(t,Ni(ws)))})),xs=Li((function(e,t){return Bi(e,256,j,j,j,t)})),Cs=ki(Wt),_s=ki((function(e,t){return e>=t})),ks=tn(function(){return arguments}())?tn:function(e){return Rr(e)&&So.call(e,"callee")&&!Uo.call(e,"callee")},Ss=ho.isArray,Es=sn?B(sn):function(e){return Rr(e)&&Qt(e)==be},Ts=Xo||uo,Bs=ln?B(ln):function(e){return Rr(e)&&Qt(e)==se},Is=cn?B(cn):function(e){return Rr(e)&&Ra(e)==de},Ds=un?B(un):function(e){return Rr(e)&&Qt(e)==Ae},Fs=dn?B(dn):function(e){return Rr(e)&&Ra(e)==ge},Ms=hn?B(hn):function(e){return Rr(e)&&Lr(e.length)&&!!Kt[Qt(e)]},Ls=ki(yn),Ps=ki((function(e,t){return e<=t})),Rs=ci((function(e,t){if(Yi(t)||Br(t))return si(t,Yr(t),e),j;for(var n in t)So.call(t,n)&&bt(e,n,t[n])})),Os=ci((function(e,t){si(t,Xr(t),e)})),Ns=ci((function(e,t,n,i){si(t,Xr(t),e,i)})),Us=ci((function(e,t,n,i){si(t,Yr(t),e,i)})),Hs=Li(kt),$s=Dn((function(e,t){e=mo(e);var n=-1,i=t.length,r=i>2?t[2]:j;for(r&&Ki(t[0],t[1],r)&&(i=1);++n<i;)for(var o=t[n],a=Xr(o),s=-1,l=a.length;++s<l;){var c=a[s],u=e[c];(u===j||Tr(u,Co[c])&&!So.call(e,c))&&(e[c]=o[c])}return e})),Qs=Dn((function(e){return e.push(j,Di),r(Ks,j,e)})),Ws=yi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Bo.call(t)),e[t]=n}),io(ro)),Vs=yi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Bo.call(t)),So.call(e,t)?e[t].push(n):e[t]=[n]}),Ui),js=Dn(Zt),zs=ci((function(e,t,n){Cn(e,t,n)})),Ks=ci((function(e,t,n,i){Cn(e,t,n,i)})),Gs=Li((function(e,t){var n={};if(null==e)return n;var i=!1;t=h(t,(function(t){return t=Jn(t,e),i||(i=t.length>1),t})),si(e,Ri(e),n),i&&(n=Et(n,7,Fi));for(var r=t.length;r--;)Vn(n,t[r]);return n})),qs=Li((function(e,t){return null==e?{}:function(e,t){return Sn(e,t,(function(t,n){return qr(e,n)}))}(e,t)})),Ys=Ti(Yr),Xs=Ti(Xr),Js=fi((function(e,t,n){return t=t.toLowerCase(),e+(n?eo(t):t)})),Zs=fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),el=fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),tl=hi("toLowerCase"),nl=fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),il=fi((function(e,t,n){return e+(n?" ":"")+ol(t)})),rl=fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),ol=hi("toUpperCase"),al=Dn((function(e,t){try{return r(e,j,t)}catch(e){return Dr(e)?e:new po(e)}})),sl=Li((function(e,t){return a(t,(function(t){t=or(t),_t(e,t,As(e[t],e))})),e})),ll=mi(),cl=mi(!0),ul=Dn((function(e,t){return function(n){return Zt(n,e,t)}})),dl=Dn((function(e,t){return function(n){return Zt(e,n,t)}})),hl=wi(h),fl=wi(l),pl=wi(g),Al=_i(),gl=_i(!0),ml=bi((function(e,t){return e+t}),0),vl=Ei("ceil"),yl=bi((function(e,t){return e/t}),1),bl=Ei("floor"),wl=bi((function(e,t){return e*t}),1),xl=Ei("round"),Cl=bi((function(e,t){return e-t}),0);return n.after=function(e,t){if("function"!=typeof t)throw new bo(z);return e=Wr(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Cr,n.assign=Rs,n.assignIn=Os,n.assignInWith=Ns,n.assignWith=Us,n.at=Hs,n.before=_r,n.bind=As,n.bindAll=sl,n.bindKey=gs,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ss(e)?e:[e]},n.chain=vr,n.chunk=function(e,t,n){t=(n?Ki(e,t,n):t===j)?1:ta(Wr(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var r=0,o=0,a=ho(Go(i/t));r<i;)a[o++]=Rn(e,r,r+=t);return a},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ho(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return f(Ss(n)?ai(n):[n],Lt(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=Ui();return e=t?h(e,(function(e){if("function"!=typeof e[1])throw new bo(z);return[n(e[0]),e[1]]})):[],Dn((function(n){for(var i=-1;++i<t;){var o=e[i];if(r(o[0],this,n))return r(o[1],this,n)}}))},n.conforms=function(e){return function(e){var t=Yr(e);return function(n){return Tt(n,e,t)}}(Et(e,1))},n.constant=io,n.countBy=as,n.create=function(e,t){var n=Ca(e);return null==t?n:Ct(n,t)},n.curry=function e(t,n,i){var r=Bi(t,8,j,j,j,j,j,n=i?j:n);return r.placeholder=e.placeholder,r},n.curryRight=function e(t,n,i){var r=Bi(t,16,j,j,j,j,j,n=i?j:n);return r.placeholder=e.placeholder,r},n.debounce=kr,n.defaults=$s,n.defaultsDeep=Qs,n.defer=ms,n.delay=vs,n.difference=Qa,n.differenceBy=Wa,n.differenceWith=Va,n.drop=function(e,t,n){var i=null==e?0:e.length;return i?Rn(e,(t=n||t===j?1:Wr(t))<0?0:t,i):[]},n.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Rn(e,0,(t=i-(t=n||t===j?1:Wr(t)))<0?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?zn(e,Ui(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?zn(e,Ui(t,3),!0):[]},n.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ki(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=Wr(n))<0&&(n=-n>r?0:r+n),(i=i===j||i>r?r:Wr(i))<0&&(i+=r),i=n>i?0:Vr(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},n.filter=function(e,t){return(Ss(e)?c:Mt)(e,Ui(t,3))},n.flatMap=function(e,t){return Lt(xr(e,t),1)},n.flatMapDeep=function(e,t){return Lt(xr(e,t),X)},n.flatMapDepth=function(e,t,n){return n=n===j?1:Wr(n),Lt(xr(e,t),n)},n.flatten=dr,n.flattenDeep=function(e){return null!=e&&e.length?Lt(e,X):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?Lt(e,t=t===j?1:Wr(t)):[]},n.flip=function(e){return Bi(e,512)},n.flow=ll,n.flowRight=cl,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},n.functions=function(e){return null==e?[]:Ot(e,Yr(e))},n.functionsIn=function(e){return null==e?[]:Ot(e,Xr(e))},n.groupBy=cs,n.initial=function(e){return null!=e&&e.length?Rn(e,0,-1):[]},n.intersection=ja,n.intersectionBy=za,n.intersectionWith=Ka,n.invert=Ws,n.invertBy=Vs,n.invokeMap=us,n.iteratee=oo,n.keyBy=ds,n.keys=Yr,n.keysIn=Xr,n.map=xr,n.mapKeys=function(e,t){var n={};return t=Ui(t,3),Pt(e,(function(e,i,r){_t(n,t(e,i,r),e)})),n},n.mapValues=function(e,t){var n={};return t=Ui(t,3),Pt(e,(function(e,i,r){_t(n,i,t(e,i,r))})),n},n.matches=function(e){return wn(Et(e,1))},n.matchesProperty=function(e,t){return xn(e,Et(t,1))},n.memoize=Sr,n.merge=zs,n.mergeWith=Ks,n.method=ul,n.methodOf=dl,n.mixin=ao,n.negate=Er,n.nthArg=function(e){return e=Wr(e),Dn((function(t){return _n(t,e)}))},n.omit=Gs,n.omitBy=function(e,t){return Jr(e,Er(Ui(t)))},n.once=function(e){return _r(2,e)},n.orderBy=function(e,t,n,i){return null==e?[]:(Ss(t)||(t=null==t?[]:[t]),Ss(n=i?j:n)||(n=null==n?[]:[n]),kn(e,t,n))},n.over=hl,n.overArgs=ys,n.overEvery=fl,n.overSome=pl,n.partial=bs,n.partialRight=ws,n.partition=hs,n.pick=qs,n.pickBy=Jr,n.property=lo,n.propertyOf=function(e){return function(t){return null==e?j:Nt(e,t)}},n.pull=Ga,n.pullAll=pr,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?En(e,t,Ui(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?En(e,t,j,n):e},n.pullAt=qa,n.range=Al,n.rangeRight=gl,n.rearg=xs,n.reject=function(e,t){return(Ss(e)?c:Mt)(e,Er(Ui(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Ui(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Tn(e,r),n},n.rest=function(e,t){if("function"!=typeof e)throw new bo(z);return Dn(e,t=t===j?t:Wr(t))},n.reverse=Ar,n.sampleSize=function(e,t,n){return t=(n?Ki(e,t,n):t===j)?1:Wr(t),(Ss(e)?mt:Mn)(e,t)},n.set=function(e,t,n){return null==e?e:Ln(e,t,n)},n.setWith=function(e,t,n,i){return i="function"==typeof i?i:j,null==e?e:Ln(e,t,n,i)},n.shuffle=function(e){return(Ss(e)?vt:Pn)(e)},n.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Ki(e,t,n)?(t=0,n=i):(t=null==t?0:Wr(t),n=n===j?i:Wr(n)),Rn(e,t,n)):[]},n.sortBy=fs,n.sortedUniq=function(e){return e&&e.length?Hn(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?Hn(e,Ui(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&Ki(e,t,n)&&(t=n=j),(n=n===j?ee:n>>>0)?(e=Kr(e))&&("string"==typeof t||null!=t&&!Ds(t))&&!(t=Qn(t))&&P(e)?Zn(Q(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new bo(z);return t=null==t?0:ta(Wr(t),0),Dn((function(n){var i=n[t],o=Zn(n,0,t);return i&&f(o,i),r(e,this,o)}))},n.tail=function(e){var t=null==e?0:e.length;return t?Rn(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?Rn(e,0,(t=n||t===j?1:Wr(t))<0?0:t):[]},n.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Rn(e,(t=i-(t=n||t===j?1:Wr(t)))<0?0:t,i):[]},n.takeRightWhile=function(e,t){return e&&e.length?zn(e,Ui(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?zn(e,Ui(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new bo(z);return Pr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),kr(e,t,{leading:i,maxWait:t,trailing:r})},n.thru=yr,n.toArray=$r,n.toPairs=Ys,n.toPairsIn=Xs,n.toPath=function(e){return Ss(e)?h(e,or):Hr(e)?[e]:ai($a(Kr(e)))},n.toPlainObject=zr,n.transform=function(e,t,n){var i=Ss(e),r=i||Ts(e)||Ms(e);if(t=Ui(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:Pr(e)&&Fr(o)?Ca(Oo(e)):{}}return(r?a:Pt)(e,(function(e,i,r){return t(n,e,i,r)})),n},n.unary=function(e){return Cr(e,1)},n.union=Ya,n.unionBy=Xa,n.unionWith=Ja,n.uniq=function(e){return e&&e.length?Wn(e):[]},n.uniqBy=function(e,t){return e&&e.length?Wn(e,Ui(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:j,e&&e.length?Wn(e,j,t):[]},n.unset=function(e,t){return null==e||Vn(e,t)},n.unzip=gr,n.unzipWith=mr,n.update=function(e,t,n){return null==e?e:jn(e,t,Xn(n))},n.updateWith=function(e,t,n,i){return i="function"==typeof i?i:j,null==e?e:jn(e,t,Xn(n),i)},n.values=Zr,n.valuesIn=function(e){return null==e?[]:I(e,Xr(e))},n.without=Za,n.words=no,n.wrap=function(e,t){return bs(Xn(t),e)},n.xor=es,n.xorBy=ts,n.xorWith=ns,n.zip=is,n.zipObject=function(e,t){return qn(e||[],t||[],bt)},n.zipObjectDeep=function(e,t){return qn(e||[],t||[],Ln)},n.zipWith=rs,n.entries=Ys,n.entriesIn=Xs,n.extend=Os,n.extendWith=Ns,ao(n,n),n.add=ml,n.attempt=al,n.camelCase=Js,n.capitalize=eo,n.ceil=vl,n.clamp=function(e,t,n){return n===j&&(n=t,t=j),n!==j&&(n=(n=jr(n))==n?n:0),t!==j&&(t=(t=jr(t))==t?t:0),St(jr(e),t,n)},n.clone=function(e){return Et(e,4)},n.cloneDeep=function(e){return Et(e,5)},n.cloneDeepWith=function(e,t){return Et(e,5,t="function"==typeof t?t:j)},n.cloneWith=function(e,t){return Et(e,4,t="function"==typeof t?t:j)},n.conformsTo=function(e,t){return null==t||Tt(e,t,Yr(t))},n.deburr=to,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=yl,n.endsWith=function(e,t,n){e=Kr(e),t=Qn(t);var i=e.length,r=n=n===j?i:St(Wr(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},n.eq=Tr,n.escape=function(e){return(e=Kr(e))&&Oe.test(e)?e.replace(Pe,An):e},n.escapeRegExp=function(e){return(e=Kr(e))&&je.test(e)?e.replace(Ve,"\\$&"):e},n.every=function(e,t,n){var i=Ss(e)?l:Dt;return n&&Ki(e,t,n)&&(t=j),i(e,Ui(t,3))},n.find=ss,n.findIndex=cr,n.findKey=function(e,t){return m(e,Ui(t,3),Pt)},n.findLast=ls,n.findLastIndex=ur,n.findLastKey=function(e,t){return m(e,Ui(t,3),Rt)},n.floor=bl,n.forEach=br,n.forEachRight=wr,n.forIn=function(e,t){return null==e?e:Sa(e,Ui(t,3),Xr)},n.forInRight=function(e,t){return null==e?e:Ea(e,Ui(t,3),Xr)},n.forOwn=function(e,t){return e&&Pt(e,Ui(t,3))},n.forOwnRight=function(e,t){return e&&Rt(e,Ui(t,3))},n.get=Gr,n.gt=Cs,n.gte=_s,n.has=function(e,t){return null!=e&&Wi(e,t,Vt)},n.hasIn=qr,n.head=hr,n.identity=ro,n.includes=function(e,t,n,i){e=Br(e)?e:Zr(e),n=n&&!i?Wr(n):0;var r=e.length;return n<0&&(n=ta(r+n,0)),Ur(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&y(e,t,n)>-1},n.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Wr(n);return r<0&&(r=ta(i+r,0)),y(e,t,r)},n.inRange=function(e,t,n){return t=Qr(t),n===j?(n=t,t=0):n=Qr(n),function(e,t,n){return e>=na(t,n)&&e<ta(t,n)}(e=jr(e),t,n)},n.invoke=js,n.isArguments=ks,n.isArray=Ss,n.isArrayBuffer=Es,n.isArrayLike=Br,n.isArrayLikeObject=Ir,n.isBoolean=function(e){return!0===e||!1===e||Rr(e)&&Qt(e)==ae},n.isBuffer=Ts,n.isDate=Bs,n.isElement=function(e){return Rr(e)&&1===e.nodeType&&!Nr(e)},n.isEmpty=function(e){if(null==e)return!0;if(Br(e)&&(Ss(e)||"string"==typeof e||"function"==typeof e.splice||Ts(e)||Ms(e)||ks(e)))return!e.length;var t=Ra(e);if(t==de||t==ge)return!e.size;if(Yi(e))return!vn(e).length;for(var n in e)if(So.call(e,n))return!1;return!0},n.isEqual=function(e,t){return nn(e,t)},n.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:j)?n(e,t):j;return i===j?nn(e,t,j,n):!!i},n.isError=Dr,n.isFinite=function(e){return"number"==typeof e&&Jo(e)},n.isFunction=Fr,n.isInteger=Mr,n.isLength=Lr,n.isMap=Is,n.isMatch=function(e,t){return e===t||on(e,t,$i(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:j,on(e,t,$i(t),n)},n.isNaN=function(e){return Or(e)&&e!=+e},n.isNative=function(e){if(Oa(e))throw new po("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return an(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Or,n.isObject=Pr,n.isObjectLike=Rr,n.isPlainObject=Nr,n.isRegExp=Ds,n.isSafeInteger=function(e){return Mr(e)&&e>=-J&&e<=J},n.isSet=Fs,n.isString=Ur,n.isSymbol=Hr,n.isTypedArray=Ms,n.isUndefined=function(e){return e===j},n.isWeakMap=function(e){return Rr(e)&&Ra(e)==ye},n.isWeakSet=function(e){return Rr(e)&&"[object WeakSet]"==Qt(e)},n.join=function(e,t){return null==e?"":Zo.call(e,t)},n.kebabCase=Zs,n.last=fr,n.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==j&&(r=(r=Wr(n))<0?ta(i+r,0):na(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):v(e,w,r,!0)},n.lowerCase=el,n.lowerFirst=tl,n.lt=Ls,n.lte=Ps,n.max=function(e){return e&&e.length?Ft(e,ro,Wt):j},n.maxBy=function(e,t){return e&&e.length?Ft(e,Ui(t,2),Wt):j},n.mean=function(e){return x(e,ro)},n.meanBy=function(e,t){return x(e,Ui(t,2))},n.min=function(e){return e&&e.length?Ft(e,ro,yn):j},n.minBy=function(e,t){return e&&e.length?Ft(e,Ui(t,2),yn):j},n.stubArray=co,n.stubFalse=uo,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=wl,n.nth=function(e,t){return e&&e.length?_n(e,Wr(t)):j},n.noConflict=function(){return en._===this&&(en._=Do),this},n.noop=so,n.now=ps,n.pad=function(e,t,n){e=Kr(e);var i=(t=Wr(t))?$(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return xi(qo(r),n)+e+xi(Go(r),n)},n.padEnd=function(e,t,n){e=Kr(e);var i=(t=Wr(t))?$(e):0;return t&&i<t?e+xi(t-i,n):e},n.padStart=function(e,t,n){e=Kr(e);var i=(t=Wr(t))?$(e):0;return t&&i<t?xi(t-i,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ra(Kr(e).replace(ze,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Ki(e,t,n)&&(t=n=j),n===j&&("boolean"==typeof t?(n=t,t=j):"boolean"==typeof e&&(n=e,e=j)),e===j&&t===j?(e=0,t=1):(e=Qr(e),t===j?(t=e,e=0):t=Qr(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=oa();return na(e+r*(t-e+Yt("1e-"+((r+"").length-1))),t)}return Bn(e,t)},n.reduce=function(e,t,n){var i=Ss(e)?p:k,r=arguments.length<3;return i(e,Ui(t,4),n,r,_a)},n.reduceRight=function(e,t,n){var i=Ss(e)?A:k,r=arguments.length<3;return i(e,Ui(t,4),n,r,ka)},n.repeat=function(e,t,n){return t=(n?Ki(e,t,n):t===j)?1:Wr(t),In(Kr(e),t)},n.replace=function(){var e=arguments,t=Kr(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var i=-1,r=(t=Jn(t,e)).length;for(r||(r=1,e=j);++i<r;){var o=null==e?j:e[or(t[i])];o===j&&(i=r,o=n),e=Fr(o)?o.call(e):o}return e},n.round=xl,n.runInContext=e,n.sample=function(e){return(Ss(e)?gt:Fn)(e)},n.size=function(e){if(null==e)return 0;if(Br(e))return Ur(e)?$(e):e.length;var t=Ra(e);return t==de||t==ge?e.size:vn(e).length},n.snakeCase=nl,n.some=function(e,t,n){var i=Ss(e)?g:On;return n&&Ki(e,t,n)&&(t=j),i(e,Ui(t,3))},n.sortedIndex=function(e,t){return Nn(e,t)},n.sortedIndexBy=function(e,t,n){return Un(e,t,Ui(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Nn(e,t);if(i<n&&Tr(e[i],t))return i}return-1},n.sortedLastIndex=function(e,t){return Nn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return Un(e,t,Ui(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Nn(e,t,!0)-1;if(Tr(e[n],t))return n}return-1},n.startCase=il,n.startsWith=function(e,t,n){return e=Kr(e),n=null==n?0:St(Wr(n),0,e.length),t=Qn(t),e.slice(n,n+t.length)==t},n.subtract=Cl,n.sum=function(e){return e&&e.length?S(e,ro):0},n.sumBy=function(e,t){return e&&e.length?S(e,Ui(t,2)):0},n.template=function(e,t,i){var r=n.templateSettings;i&&Ki(e,t,i)&&(t=j),e=Kr(e),t=Ns({},t,r,Ii);var o,a,s=Ns({},t.imports,r.imports,Ii),l=Yr(s),c=I(s,l),u=0,d=t.interpolate||lt,h="__p += '",f=vo((t.escape||lt).source+"|"+d.source+"|"+(d===He?et:lt).source+"|"+(t.evaluate||lt).source+"|$","g"),p="//# sourceURL="+(So.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zt+"]")+"\n";e.replace(f,(function(t,n,i,r,s,l){return i||(i=r),h+=e.slice(u,l).replace(ct,L),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var A=So.call(t,"variable")&&t.variable;if(A){if(Je.test(A))throw new po("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(De,""):h).replace(Fe,"$1").replace(Me,"$1;"),h="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=al((function(){return Ao(l,p+"return "+h).apply(j,c)}));if(g.source=h,Dr(g))throw g;return g},n.times=function(e,t){if((e=Wr(e))<1||e>J)return[];var n=ee,i=na(e,ee);t=Ui(t),e-=ee;for(var r=E(i,t);++n<e;)t(n);return r},n.toFinite=Qr,n.toInteger=Wr,n.toLength=Vr,n.toLower=function(e){return Kr(e).toLowerCase()},n.toNumber=jr,n.toSafeInteger=function(e){return e?St(Wr(e),-J,J):0===e?e:0},n.toString=Kr,n.toUpper=function(e){return Kr(e).toUpperCase()},n.trim=function(e,t,n){if((e=Kr(e))&&(n||t===j))return T(e);if(!e||!(t=Qn(t)))return e;var i=Q(e),r=Q(t);return Zn(i,F(i,r),M(i,r)+1).join("")},n.trimEnd=function(e,t,n){if((e=Kr(e))&&(n||t===j))return e.slice(0,W(e)+1);if(!e||!(t=Qn(t)))return e;var i=Q(e);return Zn(i,0,M(i,Q(t))+1).join("")},n.trimStart=function(e,t,n){if((e=Kr(e))&&(n||t===j))return e.replace(ze,"");if(!e||!(t=Qn(t)))return e;var i=Q(e);return Zn(i,F(i,Q(t))).join("")},n.truncate=function(e,t){var n=30,i="...";if(Pr(t)){var r="separator"in t?t.separator:r;n="length"in t?Wr(t.length):n,i="omission"in t?Qn(t.omission):i}var o=(e=Kr(e)).length;if(P(e)){var a=Q(e);o=a.length}if(n>=o)return e;var s=n-$(i);if(s<1)return i;var l=a?Zn(a,0,s).join(""):e.slice(0,s);if(r===j)return l+i;if(a&&(s+=l.length-s),Ds(r)){if(e.slice(s).search(r)){var c,u=l;for(r.global||(r=vo(r.source,Kr(tt.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var d=c.index;l=l.slice(0,d===j?s:d)}}else if(e.indexOf(Qn(r),s)!=s){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i},n.unescape=function(e){return(e=Kr(e))&&Re.test(e)?e.replace(Le,gn):e},n.uniqueId=function(e){var t=++Eo;return Kr(e)+t},n.upperCase=rl,n.upperFirst=ol,n.each=br,n.eachRight=wr,n.first=hr,ao(n,function(){var e={};return Pt(n,(function(t,i){So.call(n.prototype,i)||(e[i]=t)})),e}(),{chain:!1}),n.VERSION="4.17.21",a(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){n[e].placeholder=n})),a(["drop","take"],(function(e,t){Ke.prototype[e]=function(n){n=n===j?1:ta(Wr(n),0);var i=this.__filtered__&&!t?new Ke(this):this.clone();return i.__filtered__?i.__takeCount__=na(n,i.__takeCount__):i.__views__.push({size:na(n,ee),type:e+(i.__dir__<0?"Right":"")}),i},Ke.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),a(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Ke.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ui(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),a(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Ke.prototype[e]=function(){return this[n](1).value()[0]}})),a(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Ke.prototype[e]=function(){return this.__filtered__?new Ke(this):this[n](1)}})),Ke.prototype.compact=function(){return this.filter(ro)},Ke.prototype.find=function(e){return this.filter(e).head()},Ke.prototype.findLast=function(e){return this.reverse().find(e)},Ke.prototype.invokeMap=Dn((function(e,t){return"function"==typeof e?new Ke(this):this.map((function(n){return Zt(n,e,t)}))})),Ke.prototype.reject=function(e){return this.filter(Er(Ui(e)))},Ke.prototype.slice=function(e,t){e=Wr(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ke(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==j&&(n=(t=Wr(t))<0?n.dropRight(-t):n.take(t-e)),n)},Ke.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ke.prototype.toArray=function(){return this.take(ee)},Pt(Ke.prototype,(function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=n[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(n.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Ke,c=s[0],u=l||Ss(t),d=function(e){var t=o.apply(n,f([e],s));return r&&h?t[0]:t};u&&i&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,A=a&&!h,g=l&&!p;if(!a&&u){t=g?t:new Ke(this);var m=e.apply(t,s);return m.__actions__.push({func:yr,args:[d],thisArg:j}),new _(m,h)}return A&&g?e.apply(this,s):(m=this.thru(d),A?r?m.value()[0]:m.value():m)})})),a(["pop","push","shift","sort","splice","unshift"],(function(e){var t=wo[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var n=this.value();return t.apply(Ss(n)?n:[],e)}return this[i]((function(n){return t.apply(Ss(n)?n:[],e)}))}})),Pt(Ke.prototype,(function(e,t){var i=n[t];if(i){var r=i.name+"";So.call(pa,r)||(pa[r]=[]),pa[r].push({name:t,func:i})}})),pa[vi(j,2).name]=[{name:"wrapper",func:j}],Ke.prototype.clone=function(){var e=new Ke(this.__wrapped__);return e.__actions__=ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ai(this.__views__),e},Ke.prototype.reverse=function(){if(this.__filtered__){var e=new Ke(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ke.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ss(e),i=t<0,r=n?e.length:0,o=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=na(t,e+a);break;case"takeRight":e=ta(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,d=u.length,h=0,f=na(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return Kn(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var A=-1,g=e[c+=t];++A<d;){var m=u[A],v=m.iteratee,y=m.type,b=v(g);if(2==y)g=b;else if(!b){if(1==y)continue e;break e}}p[h++]=g}return p},n.prototype.at=os,n.prototype.chain=function(){return vr(this)},n.prototype.commit=function(){return new _(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===j&&(this.__values__=$r(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?j:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof i;){var r=lr(n);r.__index__=0,r.__values__=j,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ke){var t=e;return this.__actions__.length&&(t=new Ke(this)),(t=t.reverse()).__actions__.push({func:yr,args:[Ar],thisArg:j}),new _(t,this.__chain__)}return this.thru(Ar)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Kn(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,Qo&&(n.prototype[Qo]=function(){return this}),n}();en._=mn,void 0===(i=function(){return mn}.call(t,n,t,e))||(e.exports=i)}.call(this)},1240:function(e,t){var n;!function(i,r){"use strict";n=function(){return i.Mediator=function(){function e(t,n,i){return this instanceof e?(this.id=function(){var e=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}(),this.fn=t,this.options=n,this.context=i,void(this.channel=null)):new e(t,n,i)}function t(e,n){return this instanceof t?(this.namespace=e||"",this._subscribers=[],this._channels={},this._parent=n,void(this.stopped=!1)):new t(e)}function n(){return this instanceof n?void(this._channels=new t("")):new n}return e.prototype={update:function(e){e&&(this.fn=e.fn||this.fn,this.context=e.context||this.context,this.options=e.options||this.options,this.channel&&this.options&&void 0!==this.options.priority&&this.channel.setPriority(this.id,this.options.priority))}},t.prototype={addSubscriber:function(t,n,i){var r=new e(t,n,i);return n&&void 0!==n.priority?(n.priority=0|n.priority,n.priority<0&&(n.priority=0),n.priority>=this._subscribers.length&&(n.priority=this._subscribers.length-1),this._subscribers.splice(n.priority,0,r)):this._subscribers.push(r),r.channel=this,r},stopPropagation:function(){this.stopped=!0},getSubscriber:function(e){for(var t=0,n=this._subscribers.length;n>t;t++)if(this._subscribers[t].id===e||this._subscribers[t].fn===e)return this._subscribers[t]},setPriority:function(e,t){var n,i,r,o,a=0,s=0;for(s=0,o=this._subscribers.length;o>s&&this._subscribers[s].id!==e&&this._subscribers[s].fn!==e;s++)a++;n=this._subscribers[a],i=this._subscribers.slice(0,a),r=this._subscribers.slice(a+1),this._subscribers=i.concat(r),this._subscribers.splice(t,0,n)},addChannel:function(e){this._channels[e]=new t((this.namespace?this.namespace+":":"")+e,this)},hasChannel:function(e){return this._channels.hasOwnProperty(e)},returnChannel:function(e){return this._channels[e]},removeSubscriber:function(e){var t=this._subscribers.length-1;if(e)for(;t>=0;t--)(this._subscribers[t].fn===e||this._subscribers[t].id===e)&&(this._subscribers[t].channel=null,this._subscribers.splice(t,1));else this._subscribers=[]},publish:function(e){for(var t,n,i,r=0,o=this._subscribers.length,a=!1;o>r;r++)a=!1,t=this._subscribers[r],this.stopped||(n=this._subscribers.length,void 0!==t.options&&"function"==typeof t.options.predicate?t.options.predicate.apply(t.context,e)&&(a=!0):a=!0),a&&(t.options&&void 0!==t.options.calls&&(t.options.calls--,t.options.calls<1&&this.removeSubscriber(t.id)),t.fn.apply(t.context,e),o=i=this._subscribers.length,i===n-1&&r--);this._parent&&this._parent.publish(e),this.stopped=!1}},n.prototype={getChannel:function(e,t){var n=this._channels,i=e.split(":"),r=0,o=i.length;if(""===e)return n;if(i.length>0)for(;o>r;r++){if(!n.hasChannel(i[r])){if(t)break;n.addChannel(i[r])}n=n.returnChannel(i[r])}return n},subscribe:function(e,t,n,i){return n=n||{},i=i||{},this.getChannel(e||"",!1).addSubscriber(t,n,i)},once:function(e,t,n,i){return(n=n||{}).calls=1,this.subscribe(e,t,n,i)},getSubscriber:function(e,t){var n=this.getChannel(t||"",!0);return n.namespace!==t?null:n.getSubscriber(e)},remove:function(e,t){var n=this.getChannel(e||"",!0);return n.namespace===e&&void n.removeSubscriber(t)},publish:function(e){var t=this.getChannel(e||"",!0);if(t.namespace!==e)return null;var n=Array.prototype.slice.call(arguments,1);n.push(t),t.publish(n)}},n.prototype.on=n.prototype.subscribe,n.prototype.bind=n.prototype.subscribe,n.prototype.emit=n.prototype.publish,n.prototype.trigger=n.prototype.publish,n.prototype.off=n.prototype.remove,n.Channel=t,n.Subscriber=e,n.version="0.9.8",n}(),i.Mediator}.apply(t,[]),void 0===n||(e.exports=n)}(this)},80068:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=80068,e.exports=t},2826:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,i;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function f(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return Lt(e,t,n,i,!0).utc()}function A(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=A(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function m(e){var t=p(NaN);return null!=e?f(A(t),e):A(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=r.momentProperties=[],y=!1;function b(e,t){var n,i,r,o=v.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=A(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(r=t[i=v[n]])||(e[i]=r);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function x(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,l=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"==typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}C(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,S={};function E(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),S[e]||(C(t),S[e]=!0)}function T(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function B(e,t){var n,i=f({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(i[n]=f({},i[n]));return i}function I(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};function D(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},P={};function R(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(P[e]=r),t&&(P[t[0]]=function(){return D(r.apply(this,arguments),t[1],t[2])}),n&&(P[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function O(e,t){return e.isValid()?(t=N(t,e.localeData()),L[t]=L[t]||function(e){var t,n,i,r=e.match(F);for(t=0,n=r.length;t<n;t++)P[r[t]]?r[t]=P[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(t,e):r[i];return o}}(t),L[t](e)):e.localeData().invalidDate()}function N(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;n>=0&&M.test(e);)e=e.replace(M,i),M.lastIndex=0,n-=1;return e}var U={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function H(e){return"string"==typeof e?U[e]||U[e.toLowerCase()]:void 0}function $(e){var t,n,i={};for(n in e)s(e,n)&&(t=H(n))&&(i[t]=e[n]);return i}var Q={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var W,V=/\d/,j=/\d\d/,z=/\d{3}/,K=/\d{4}/,G=/[+-]?\d{6}/,q=/\d\d?/,Y=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,J=/\d{1,3}/,Z=/\d{1,4}/,ee=/[+-]?\d{1,6}/,te=/\d+/,ne=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ae=/^[1-9]\d?/,se=/^([1-9]\d|\d)/;function le(e,t,n){W[e]=T(t)?t:function(e,i){return e&&n?n:t}}function ce(e,t){return s(W,e)?W[e](t._strict,t._locale):new RegExp(ue(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function de(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function he(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=de(t)),n}W={};var fe={};function pe(e,t){var n,i,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=he(e)}),i=e.length,n=0;n<i;n++)fe[e[n]]=r}function Ae(e,t){pe(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function ge(e,t,n){null!=t&&s(fe,e)&&fe[e](t,n._a,n,e)}function me(e){return e%4==0&&e%100!=0||e%400==0}var ve=0,ye=1,be=2,we=3,xe=4,Ce=5,_e=6,ke=7,Se=8;function Ee(e){return me(e)?366:365}R("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),le("Y",ne),le("YY",q,j),le("YYYY",Z,K),le("YYYYY",ee,G),le("YYYYYY",ee,G),pe(["YYYYY","YYYYYY"],ve),pe("YYYY",(function(e,t){t[ve]=2===e.length?r.parseTwoDigitYear(e):he(e)})),pe("YY",(function(e,t){t[ve]=r.parseTwoDigitYear(e)})),pe("Y",(function(e,t){t[ve]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return he(e)+(he(e)>68?1900:2e3)};var Te,Be=Ie("FullYear",!0);function Ie(e,t){return function(n){return null!=n?(Fe(this,e,n),r.updateOffset(this,t),this):De(this,e)}}function De(e,t){if(!e.isValid())return NaN;var n=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Fe(e,t,n){var i,r,o,a,s;if(e.isValid()&&!isNaN(n)){switch(i=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(r?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(r?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(r?i.setUTCHours(n):i.setHours(n));case"Date":return void(r?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}o=n,a=e.month(),s=29!==(s=e.date())||1!==a||me(o)?s:28,r?i.setUTCFullYear(o,a,s):i.setFullYear(o,a,s)}}function Me(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?me(e)?29:28:31-i%7%2}Te=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),R("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),le("M",q,ae),le("MM",q,j),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),pe(["M","MM"],(function(e,t){t[ye]=he(e)-1})),pe(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ye]=r:A(n).invalidMonth=e}));var Le="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Pe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Re=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Oe=oe,Ne=oe;function Ue(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Te.call(this._shortMonthsParse,a))?r:null:-1!==(r=Te.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=Te.call(this._shortMonthsParse,a))||-1!==(r=Te.call(this._longMonthsParse,a))?r:null:-1!==(r=Te.call(this._longMonthsParse,a))||-1!==(r=Te.call(this._shortMonthsParse,a))?r:null}function He(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=he(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,i=e.date();return i=i<29?i:Math.min(i,Me(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,i):e._d.setMonth(n,i),e}function $e(e){return null!=e?(He(this,e),r.updateOffset(this,!0),this):De(this,"Month")}function Qe(){function e(e,t){return t.length-e.length}var t,n,i,r,o=[],a=[],s=[];for(t=0;t<12;t++)n=p([2e3,t]),i=ue(this.monthsShort(n,"")),r=ue(this.months(n,"")),o.push(i),a.push(r),s.push(r),s.push(i);o.sort(e),a.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function We(e,t,n,i,r,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function Ve(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function je(e,t,n){var i=7+t-n;return-(7+Ve(e,0,i).getUTCDay()-t)%7+i-1}function ze(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+je(e,i,r);return s<=0?a=Ee(o=e-1)+s:s>Ee(e)?(o=e+1,a=s-Ee(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Ke(e,t,n){var i,r,o=je(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+Ge(r=e.year()-1,t,n):a>Ge(e.year(),t,n)?(i=a-Ge(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Ge(e,t,n){var i=je(e,t,n),r=je(e+1,t,n);return(Ee(e)-i+r)/7}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),le("w",q,ae),le("ww",q,j),le("W",q,ae),le("WW",q,j),Ae(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=he(e)}));function qe(e,t){return e.slice(t,7).concat(e.slice(0,t))}R("d",0,"do","day"),R("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),R("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),R("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),le("d",q),le("e",q),le("E",q),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ae(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:A(n).invalidWeekday=e})),Ae(["d","e","E"],(function(e,t,n,i){t[i]=he(e)}));var Ye="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Je="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ze=oe,et=oe,tt=oe;function nt(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Te.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Te.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Te.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=Te.call(this._weekdaysParse,a))||-1!==(r=Te.call(this._shortWeekdaysParse,a))||-1!==(r=Te.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Te.call(this._shortWeekdaysParse,a))||-1!==(r=Te.call(this._weekdaysParse,a))||-1!==(r=Te.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Te.call(this._minWeekdaysParse,a))||-1!==(r=Te.call(this._weekdaysParse,a))||-1!==(r=Te.call(this._shortWeekdaysParse,a))?r:null}function it(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=ue(this.weekdaysMin(n,"")),r=ue(this.weekdaysShort(n,"")),o=ue(this.weekdays(n,"")),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);a.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function rt(){return this.hours()%12||12}function ot(e,t){R(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function at(e,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,rt),R("k",["kk",2],0,(function(){return this.hours()||24})),R("hmm",0,0,(function(){return""+rt.apply(this)+D(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+rt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),ot("a",!0),ot("A",!1),le("a",at),le("A",at),le("H",q,se),le("h",q,ae),le("k",q,ae),le("HH",q,j),le("hh",q,j),le("kk",q,j),le("hmm",Y),le("hmmss",X),le("Hmm",Y),le("Hmmss",X),pe(["H","HH"],we),pe(["k","kk"],(function(e,t,n){var i=he(e);t[we]=24===i?0:i})),pe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),pe(["h","hh"],(function(e,t,n){t[we]=he(e),A(n).bigHour=!0})),pe("hmm",(function(e,t,n){var i=e.length-2;t[we]=he(e.substr(0,i)),t[xe]=he(e.substr(i)),A(n).bigHour=!0})),pe("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=he(e.substr(0,i)),t[xe]=he(e.substr(i,2)),t[Ce]=he(e.substr(r)),A(n).bigHour=!0})),pe("Hmm",(function(e,t,n){var i=e.length-2;t[we]=he(e.substr(0,i)),t[xe]=he(e.substr(i))})),pe("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=he(e.substr(0,i)),t[xe]=he(e.substr(i,2)),t[Ce]=he(e.substr(r))}));var st=Ie("Hours",!0);var lt,ct={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Le,monthsShort:Pe,week:{dow:0,doy:6},weekdays:Ye,weekdaysMin:Je,weekdaysShort:Xe,meridiemParse:/[ap]\.?m?\.?/i},ut={},dt={};function ht(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function ft(e){return e?e.toLowerCase().replace("_","-"):e}function pt(t){var i=null;if(void 0===ut[t]&&e&&e.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(t))try{i=lt._abbr,n(80068)("./"+t),At(i)}catch(e){ut[t]=null}return ut[t]}function At(e,t){var n;return e&&((n=c(t)?mt(e):gt(e,t))?lt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),lt._abbr}function gt(e,t){if(null!==t){var n,i=ct;if(t.abbr=e,null!=ut[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ut[e]._config;else if(null!=t.parentLocale)if(null!=ut[t.parentLocale])i=ut[t.parentLocale]._config;else{if(null==(n=pt(t.parentLocale)))return dt[t.parentLocale]||(dt[t.parentLocale]=[]),dt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return ut[e]=new I(B(i,t)),dt[e]&&dt[e].forEach((function(e){gt(e.name,e.config)})),At(e),ut[e]}return delete ut[e],null}function mt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return lt;if(!o(e)){if(t=pt(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=ft(e[o]).split("-")).length,n=(n=ft(e[o+1]))?n.split("-"):null;t>0;){if(i=pt(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&ht(r,n)>=t-1)break;t--}o++}return lt}(e)}function vt(e){var t,n=e._a;return n&&-2===A(e).overflow&&(t=n[ye]<0||n[ye]>11?ye:n[be]<1||n[be]>Me(n[ve],n[ye])?be:n[we]<0||n[we]>24||24===n[we]&&(0!==n[xe]||0!==n[Ce]||0!==n[_e])?we:n[xe]<0||n[xe]>59?xe:n[Ce]<0||n[Ce]>59?Ce:n[_e]<0||n[_e]>999?_e:-1,A(e)._overflowDayOfYear&&(t<ve||t>be)&&(t=be),A(e)._overflowWeeks&&-1===t&&(t=ke),A(e)._overflowWeekday&&-1===t&&(t=Se),A(e).overflow=t),e}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/Z|[+-]\d\d(?::?\d\d)?/,xt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ct=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_t=/^\/?Date\((-?\d+)/i,kt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Et(e){var t,n,i,r,o,a,s=e._i,l=yt.exec(s)||bt.exec(s),c=xt.length,u=Ct.length;if(l){for(A(e).iso=!0,t=0,n=c;t<n;t++)if(xt[t][1].exec(l[1])){r=xt[t][0],i=!1!==xt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Ct[t][1].exec(l[3])){o=(l[2]||" ")+Ct[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!wt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),Ft(e)}else e._isValid=!1}function Tt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Bt(e){var t,n,i,r,o,a,s,l,c=kt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],i=c[3],r=c[2],o=c[5],a=c[6],s=c[7],l=[Tt(n),Pe.indexOf(i),parseInt(r,10),parseInt(o,10),parseInt(a,10)],s&&l.push(parseInt(s,10)),t=l,!function(e,t,n){return!e||Xe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(A(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(c[8],c[9],c[10]),e._d=Ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),A(e).rfc2822=!0}else e._isValid=!1}function It(e,t,n){return null!=e?e:null!=t?t:n}function Dt(e){var t,n,i,o,a,s=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ye]&&function(e){var t,n,i,r,o,a,s,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=It(t.GG,e._a[ve],Ke(Pt(),1,4).year),i=It(t.W,1),((r=It(t.E,1))<1||r>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,c=Ke(Pt(),o,a),n=It(t.gg,e._a[ve],c.year),i=It(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),i<1||i>Ge(n,o,a)?A(e)._overflowWeeks=!0:null!=l?A(e)._overflowWeekday=!0:(s=ze(n,i,r,o,a),e._a[ve]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=It(e._a[ve],i[ve]),(e._dayOfYear>Ee(a)||0===e._dayOfYear)&&(A(e)._overflowDayOfYear=!0),n=Ve(a,0,e._dayOfYear),e._a[ye]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[we]&&0===e._a[xe]&&0===e._a[Ce]&&0===e._a[_e]&&(e._nextDay=!0,e._a[we]=0),e._d=(e._useUTC?Ve:We).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[we]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(A(e).weekdayMismatch=!0)}}function Ft(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],A(e).empty=!0;var t,n,i,o,a,s,l,c=""+e._i,u=c.length,d=0;for(l=(i=N(e._f,e._locale).match(F)||[]).length,t=0;t<l;t++)o=i[t],(n=(c.match(ce(o,e))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&A(e).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),d+=n.length),P[o]?(n?A(e).empty=!1:A(e).unusedTokens.push(o),ge(o,n,e)):e._strict&&!n&&A(e).unusedTokens.push(o);A(e).charsLeftOver=u-d,c.length>0&&A(e).unusedInput.push(c),e._a[we]<=12&&!0===A(e).bigHour&&e._a[we]>0&&(A(e).bigHour=void 0),A(e).parsedDateParts=e._a.slice(0),A(e).meridiem=e._meridiem,e._a[we]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[we],e._meridiem),null!==(s=A(e).era)&&(e._a[ve]=e._locale.erasConvertYear(s,e._a[ve])),Dt(e),vt(e)}else Bt(e);else Et(e)}function Mt(e){var t=e._i,n=e._f;return e._locale=e._locale||mt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new w(vt(t)):(d(t)?e._d=t:o(n)?function(e){var t,n,i,r,o,a,s=!1,l=e._f.length;if(0===l)return A(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<l;r++)o=0,a=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Ft(t),g(t)&&(a=!0),o+=A(t).charsLeftOver,o+=10*A(t).unusedTokens.length,A(t).score=o,s?o<i&&(i=o,n=t):(null==i||o<i||a)&&(i=o,n=t,a&&(s=!0));f(e,n||t)}(e):n?Ft(e):function(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=_t.exec(e._i);null===t?(Et(e),!1===e._isValid&&(delete e._isValid,Bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Dt(e)):a(t)?function(e){if(!e._d){var t=$(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Dt(e)}}(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function Lt(e,t,n,i,r){var s,c={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(a(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=r,c._l=n,c._i=e,c._f=t,c._strict=i,(s=new w(vt(Mt(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Pt(e,t,n,i){return Lt(e,t,n,i,!1)}r.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Rt=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Ot=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Nt(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Ut=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ht(e){var t=$(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,i=!1,r=Ut.length;for(t in e)if(s(e,t)&&(-1===Te.call(Ut,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[Ut[n]]){if(i)return!1;parseFloat(e[Ut[n]])!==he(e[Ut[n]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*u+6e4*c+1e3*l*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=mt(),this._bubble()}function $t(e){return e instanceof Ht}function Qt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Wt(e,t){R(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)}))}Wt("Z",":"),Wt("ZZ",""),le("Z",re),le("ZZ",re),pe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=jt(re,e)}));var Vt=/([\+\-]|\d\d)/gi;function jt(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Vt)||["-",0,0])[1]+he(n[2]))?0:"+"===n[0]?i:-i}function zt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||d(e)?e.valueOf():Pt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Pt(e).local()}function Kt(e){return-Math.round(e._d.getTimezoneOffset())}function Gt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var qt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Yt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xt(e,t){var n,i,r,o,a,l,c=e,d=null;return $t(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(c={},t?c[t]=+e:c.milliseconds=+e):(d=qt.exec(e))?(n="-"===d[1]?-1:1,c={y:0,d:he(d[be])*n,h:he(d[we])*n,m:he(d[xe])*n,s:he(d[Ce])*n,ms:he(Qt(1e3*d[_e]))*n}):(d=Yt.exec(e))?(n="-"===d[1]?-1:1,c={y:Jt(d[2],n),M:Jt(d[3],n),w:Jt(d[4],n),d:Jt(d[5],n),h:Jt(d[6],n),m:Jt(d[7],n),s:Jt(d[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(o=Pt(c.from),a=Pt(c.to),r=o.isValid()&&a.isValid()?(a=zt(a,o),o.isBefore(a)?l=Zt(o,a):((l=Zt(a,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=r.milliseconds,c.M=r.months),i=new Ht(c),$t(e)&&s(e,"_locale")&&(i._locale=e._locale),$t(e)&&s(e,"_isValid")&&(i._isValid=e._isValid),i}function Jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function en(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),tn(this,Xt(n,i),e),this}}function tn(e,t,n,i){var o=t._milliseconds,a=Qt(t._days),s=Qt(t._months);e.isValid()&&(i=null==i||i,s&&He(e,De(e,"Month")+s*n),a&&Fe(e,"Date",De(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Xt.fn=Ht.prototype,Xt.invalid=function(){return Xt(NaN)};var nn=en(1,"add"),rn=en(-1,"subtract");function on(e){return"string"==typeof e||e instanceof String}function an(e){return x(e)||d(e)||on(e)||u(e)||function(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&on(e)})).length),t&&n}(e)||function(e){var t,n,i=a(e)&&!l(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],r=r||s(e,n);return i&&r}(e)||null==e}function sn(e,t){if(e.date()<t.date())return-sn(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function ln(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mt(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var cn=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function un(){return this._locale}var dn=1e3,hn=6e4,fn=36e5,pn=126227808e5;function An(e,t){return(e%t+t)%t}function gn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-pn:new Date(e,t,n).valueOf()}function mn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-pn:Date.UTC(e,t,n)}function vn(e,t){return t.erasAbbrRegex(e)}function yn(){var e,t,n,i,r,o=[],a=[],s=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=ue(c[e].name),i=ue(c[e].abbr),r=ue(c[e].narrow),a.push(n),o.push(i),s.push(r),l.push(n),l.push(i),l.push(r);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function bn(e,t){R(0,[e,e.length],0,t)}function wn(e,t,n,i,r){var o;return null==e?Ke(this,i,r).year:(t>(o=Ge(e,i,r))&&(t=o),xn.call(this,e,t,n,i,r))}function xn(e,t,n,i,r){var o=ze(e,t,n,i,r),a=Ve(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),le("N",vn),le("NN",vn),le("NNN",vn),le("NNNN",(function(e,t){return t.erasNameRegex(e)})),le("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),pe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?A(n).era=r:A(n).invalidEra=e})),le("y",te),le("yy",te),le("yyy",te),le("yyyy",te),le("yo",(function(e,t){return t._eraYearOrdinalRegex||te})),pe(["y","yy","yyy","yyyy"],ve),pe(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ve]=n._locale.eraYearOrdinalParse(e,r):t[ve]=parseInt(e,10)})),R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),bn("gggg","weekYear"),bn("ggggg","weekYear"),bn("GGGG","isoWeekYear"),bn("GGGGG","isoWeekYear"),le("G",ne),le("g",ne),le("GG",q,j),le("gg",q,j),le("GGGG",Z,K),le("gggg",Z,K),le("GGGGG",ee,G),le("ggggg",ee,G),Ae(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=he(e)})),Ae(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),R("Q",0,"Qo","quarter"),le("Q",V),pe("Q",(function(e,t){t[ye]=3*(he(e)-1)})),R("D",["DD",2],"Do","date"),le("D",q,ae),le("DD",q,j),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),pe(["D","DD"],be),pe("Do",(function(e,t){t[be]=he(e.match(q)[0])}));var Cn=Ie("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),le("DDD",J),le("DDDD",z),pe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=he(e)})),R("m",["mm",2],0,"minute"),le("m",q,se),le("mm",q,j),pe(["m","mm"],xe);var _n=Ie("Minutes",!1);R("s",["ss",2],0,"second"),le("s",q,se),le("ss",q,j),pe(["s","ss"],Ce);var kn,Sn,En=Ie("Seconds",!1);for(R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),le("S",J,V),le("SS",J,j),le("SSS",J,z),kn="SSSS";kn.length<=9;kn+="S")le(kn,te);function Tn(e,t){t[_e]=he(1e3*("0."+e))}for(kn="S";kn.length<=9;kn+="S")pe(kn,Tn);Sn=Ie("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var Bn=w.prototype;function In(e){return e}Bn.add=nn,Bn.calendar=function(e,t){1===arguments.length&&(arguments[0]?an(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,n=a(e)&&!l(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=i||s(e,r[t]);return n&&i}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Pt(),i=zt(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",c=t&&(T(t[o])?t[o].call(this,n):t[o]);return this.format(c||this.localeData().calendar(o,this,Pt(n)))},Bn.clone=function(){return new w(this)},Bn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=zt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=H(t)){case"year":o=sn(this,i)/12;break;case"month":o=sn(this,i);break;case"quarter":o=sn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:de(o)},Bn.endOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mn:gn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fn-An(t+(this._isUTC?0:this.utcOffset()*hn),fn)-1;break;case"minute":t=this._d.valueOf(),t+=hn-An(t,hn)-1;break;case"second":t=this._d.valueOf(),t+=dn-An(t,dn)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},Bn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=O(this,e);return this.localeData().postformat(t)},Bn.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Pt(e).isValid())?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Bn.fromNow=function(e){return this.from(Pt(),e)},Bn.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Pt(e).isValid())?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Bn.toNow=function(e){return this.to(Pt(),e)},Bn.get=function(e){return T(this[e=H(e)])?this[e]():this},Bn.invalidAt=function(){return A(this).overflow},Bn.isAfter=function(e,t){var n=x(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Bn.isBefore=function(e,t){var n=x(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Bn.isBetween=function(e,t,n,i){var r=x(e)?e:Pt(e),o=x(t)?t:Pt(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},Bn.isSame=function(e,t){var n,i=x(e)?e:Pt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Bn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Bn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Bn.isValid=function(){return g(this)},Bn.lang=cn,Bn.locale=ln,Bn.localeData=un,Bn.max=Ot,Bn.min=Rt,Bn.parsingFlags=function(){return f({},A(this))},Bn.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:Q[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=$(e)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](e[i[n].unit])}else if(T(this[e=H(e)]))return this[e](t);return this},Bn.startOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mn:gn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=An(t+(this._isUTC?0:this.utcOffset()*hn),fn);break;case"minute":t=this._d.valueOf(),t-=An(t,hn);break;case"second":t=this._d.valueOf(),t-=An(t,dn)}return this._d.setTime(t),r.updateOffset(this,!0),this},Bn.subtract=rn,Bn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Bn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Bn.toDate=function(){return new Date(this.valueOf())},Bn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?O(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",O(n,"Z")):O(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Bn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Bn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Bn.toJSON=function(){return this.isValid()?this.toISOString():null},Bn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Bn.unix=function(){return Math.floor(this.valueOf()/1e3)},Bn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Bn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Bn.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},Bn.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},Bn.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},Bn.eraYear=function(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()},Bn.year=Be,Bn.isLeapYear=function(){return me(this.year())},Bn.weekYear=function(e){return wn.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},Bn.isoWeekYear=function(e){return wn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Bn.quarter=Bn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Bn.month=$e,Bn.daysInMonth=function(){return Me(this.year(),this.month())},Bn.week=Bn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Bn.isoWeek=Bn.isoWeeks=function(e){var t=Ke(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Bn.weeksInYear=function(){var e=this.localeData()._week;return Ge(this.year(),e.dow,e.doy)},Bn.weeksInWeekYear=function(){var e=this.localeData()._week;return Ge(this.weekYear(),e.dow,e.doy)},Bn.isoWeeksInYear=function(){return Ge(this.year(),1,4)},Bn.isoWeeksInISOWeekYear=function(){return Ge(this.isoWeekYear(),1,4)},Bn.date=Cn,Bn.day=Bn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=De(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Bn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Bn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Bn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Bn.hour=Bn.hours=st,Bn.minute=Bn.minutes=_n,Bn.second=Bn.seconds=En,Bn.millisecond=Bn.milliseconds=Sn,Bn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=jt(re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Kt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?tn(this,Xt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Kt(this)},Bn.utc=function(e){return this.utcOffset(0,e)},Bn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Kt(this),"m")),this},Bn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=jt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Bn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Bn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Bn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Bn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Bn.isUtc=Gt,Bn.isUTC=Gt,Bn.zoneAbbr=function(){return this._isUTC?"UTC":""},Bn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Bn.dates=_("dates accessor is deprecated. Use date instead.",Cn),Bn.months=_("months accessor is deprecated. Use month instead",$e),Bn.years=_("years accessor is deprecated. Use year instead",Be),Bn.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Bn.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Mt(t))._a?(e=t._isUTC?p(t._a):Pt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&he(e[i])!==he(t[i]))&&a++;return a+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Dn=I.prototype;function Fn(e,t,n,i){var r=mt(),o=p().set(i,t);return r[n](o,e)}function Mn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Fn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Fn(e,i,n,"month");return r}function Ln(e,t,n,i){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,o=mt(),a=e?o._week.dow:0,s=[];if(null!=n)return Fn(t,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=Fn(t,(r+a)%7,i,"day");return s}Dn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i},Dn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(F).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Dn.invalidDate=function(){return this._invalidDate},Dn.ordinal=function(e){return this._ordinal.replace("%d",e)},Dn.preparse=In,Dn.postformat=In,Dn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return T(r)?r(e,t,n,i):r.replace(/%d/i,e)},Dn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},Dn.set=function(e){var t,n;for(n in e)s(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Dn.eras=function(e,t){var n,i,o,a=this._eras||mt("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"==typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a},Dn.erasParse=function(e,t,n){var i,r,o,a,s,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[i];break;case"NNNN":if(o===e)return l[i];break;case"NNNNN":if(s===e)return l[i]}else if([o,a,s].indexOf(e)>=0)return l[i]},Dn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},Dn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||yn.call(this),e?this._erasAbbrRegex:this._erasRegex},Dn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||yn.call(this),e?this._erasNameRegex:this._erasRegex},Dn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||yn.call(this),e?this._erasNarrowRegex:this._erasRegex},Dn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Re).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},Dn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Re.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Dn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return Ue.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Dn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Qe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Dn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Qe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Oe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Dn.week=function(e){return Ke(e,this._week.dow,this._week.doy).week},Dn.firstDayOfYear=function(){return this._week.doy},Dn.firstDayOfWeek=function(){return this._week.dow},Dn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?qe(n,this._week.dow):e?n[e.day()]:n},Dn.weekdaysMin=function(e){return!0===e?qe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Dn.weekdaysShort=function(e){return!0===e?qe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Dn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return nt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},Dn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Dn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Dn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Dn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Dn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},At("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===he(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=_("moment.lang is deprecated. Use moment.locale instead.",At),r.langData=_("moment.langData is deprecated. Use moment.localeData instead.",mt);var Pn=Math.abs;function Rn(e,t,n,i){var r=Xt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function On(e){return e<0?Math.floor(e):Math.ceil(e)}function Nn(e){return 4800*e/146097}function Un(e){return 146097*e/4800}function Hn(e){return function(){return this.as(e)}}var $n=Hn("ms"),Qn=Hn("s"),Wn=Hn("m"),Vn=Hn("h"),jn=Hn("d"),zn=Hn("w"),Kn=Hn("M"),Gn=Hn("Q"),qn=Hn("y"),Yn=$n;function Xn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Jn=Xn("milliseconds"),Zn=Xn("seconds"),ei=Xn("minutes"),ti=Xn("hours"),ni=Xn("days"),ii=Xn("months"),ri=Xn("years");var oi=Math.round,ai={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function si(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var li=Math.abs;function ci(e){return(e>0)-(e<0)||+e}function ui(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,a,s,l=li(this._milliseconds)/1e3,c=li(this._days),u=li(this._months),d=this.asSeconds();return d?(e=de(l/60),t=de(e/60),l%=60,e%=60,n=de(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=ci(this._months)!==ci(d)?"-":"",a=ci(this._days)!==ci(d)?"-":"",s=ci(this._milliseconds)!==ci(d)?"-":"",r+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?a+c+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+i+"S":"")):"P0D"}var di=Ht.prototype;return di.isValid=function(){return this._isValid},di.abs=function(){var e=this._data;return this._milliseconds=Pn(this._milliseconds),this._days=Pn(this._days),this._months=Pn(this._months),e.milliseconds=Pn(e.milliseconds),e.seconds=Pn(e.seconds),e.minutes=Pn(e.minutes),e.hours=Pn(e.hours),e.months=Pn(e.months),e.years=Pn(e.years),this},di.add=function(e,t){return Rn(this,e,t,1)},di.subtract=function(e,t){return Rn(this,e,t,-1)},di.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Nn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Un(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},di.asMilliseconds=$n,di.asSeconds=Qn,di.asMinutes=Wn,di.asHours=Vn,di.asDays=jn,di.asWeeks=zn,di.asMonths=Kn,di.asQuarters=Gn,di.asYears=qn,di.valueOf=Yn,di._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*On(Un(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=de(o/1e3),l.seconds=e%60,t=de(e/60),l.minutes=t%60,n=de(t/60),l.hours=n%24,a+=de(n/24),s+=r=de(Nn(a)),a-=On(Un(r)),i=de(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},di.clone=function(){return Xt(this)},di.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},di.milliseconds=Jn,di.seconds=Zn,di.minutes=ei,di.hours=ti,di.days=ni,di.weeks=function(){return de(this.days()/7)},di.months=ii,di.years=ri,di.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=ai;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},ai,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=function(e,t,n,i){var r=Xt(e).abs(),o=oi(r.as("s")),a=oi(r.as("m")),s=oi(r.as("h")),l=oi(r.as("d")),c=oi(r.as("M")),u=oi(r.as("w")),d=oi(r.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=i,si.apply(null,h)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},di.toISOString=ui,di.toString=ui,di.toJSON=ui,di.locale=ln,di.localeData=un,di.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ui),di.lang=cn,R("X",0,0,"unix"),R("x",0,0,"valueOf"),le("x",ne),le("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),pe("x",(function(e,t,n){n._d=new Date(he(e))})),r.version="2.30.1",t=Pt,r.fn=Bn,r.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(e){return Pt(1e3*e)},r.months=function(e,t){return Mn(e,t,"months")},r.isDate=d,r.locale=At,r.invalid=m,r.duration=Xt,r.isMoment=x,r.weekdays=function(e,t,n){return Ln(e,t,n,"weekdays")},r.parseZone=function(){return Pt.apply(null,arguments).parseZone()},r.localeData=mt,r.isDuration=$t,r.monthsShort=function(e,t){return Mn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return Ln(e,t,n,"weekdaysMin")},r.defineLocale=gt,r.updateLocale=function(e,t){if(null!=t){var n,i,r=ct;null!=ut[e]&&null!=ut[e].parentLocale?ut[e].set(B(ut[e]._config,t)):(null!=(i=pt(e))&&(r=i._config),t=B(r,t),null==i&&(t.abbr=e),(n=new I(t)).parentLocale=ut[e],ut[e]=n),At(e)}else null!=ut[e]&&(null!=ut[e].parentLocale?(ut[e]=ut[e].parentLocale,e===At()&&At(e)):null!=ut[e]&&delete ut[e]);return ut[e]},r.locales=function(){return k(ut)},r.weekdaysShort=function(e,t,n){return Ln(e,t,n,"weekdaysShort")},r.normalizeUnits=H,r.relativeTimeRounding=function(e){return void 0===e?oi:"function"==typeof e&&(oi=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==ai[e]&&(void 0===t?ai[e]:(ai[e]=t,"s"===e&&(ai.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=Bn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},93538:function(e,t,n){var i;!function(r,o,a){function s(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function l(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return p[e.which]?p[e.which]:A[e.which]?A[e.which]:String.fromCharCode(e.which).toLowerCase()}function c(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function u(e,t){var n,i=[],r=e;for(r="+"===r?["+"]:(r=r.replace(/\+{2}/g,"+plus")).split("+"),n=0;n<r.length;++n){var o=r[n];m[o]&&(o=m[o]),t&&"keypress"!=t&&g[o]&&(o=g[o],i.push("shift")),c(o)&&i.push(o)}if(r=o,!(n=t)){if(!f)for(var a in f={},p)95<a&&112>a||p.hasOwnProperty(a)&&(f[p[a]]=a);n=f[r]?"keydown":"keypress"}return"keypress"==n&&i.length&&(n="keydown"),{key:o,modifiers:i,action:n}}function d(e,t){return null!==e&&e!==o&&(e===t||d(e.parentNode,t))}function h(e){function t(e){e=e||{};var t,n=!1;for(t in A)e[t]?n=!0:A[t]=0;n||(v=!1)}function n(e,t,n,i,r,o){var a,s=[],l=n.type;if(!f._callbacks[e])return[];for("keyup"==l&&c(e)&&(t=[e]),a=0;a<f._callbacks[e].length;++a){var u,d=f._callbacks[e][a];!i&&d.seq&&A[d.seq]!=d.level||l!=d.action||((u="keypress"==l&&!n.metaKey&&!n.ctrlKey)||(u=d.modifiers,u=t.sort().join(",")===u.sort().join(",")),u&&(u=i&&d.seq==i&&d.level==o,(!i&&d.combo==r||u)&&f._callbacks[e].splice(a,1),s.push(d)))}return s}function i(e,t,n,i){f.stopCallback(t,t.target||t.srcElement,n,i)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function r(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=l(e);t&&("keyup"==e.type&&g===t?g=!1:f.handleKey(t,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e))}function a(e,n,r,o){function a(n){return function(){v=n,++A[e],clearTimeout(p),p=setTimeout(t,1e3)}}function s(n){i(r,n,e),"keyup"!==o&&(g=l(n)),setTimeout(t,10)}for(var c=A[e]=0;c<n.length;++c){var h=c+1===n.length?s:a(o||u(n[c+1]).action);d(n[c],h,o,e,c)}}function d(e,t,i,r,o){f._directMap[e+":"+i]=t;var s=(e=e.replace(/\s+/g," ")).split(" ");1<s.length?a(e,s,t,i):(i=u(e,i),f._callbacks[i.key]=f._callbacks[i.key]||[],n(i.key,i.modifiers,{type:i.action},r,e,o),f._callbacks[i.key][r?"unshift":"push"]({callback:t,modifiers:i.modifiers,action:i.action,seq:r,level:o,combo:e}))}var f=this;if(e=e||o,!(f instanceof h))return new h(e);f.target=e,f._callbacks={},f._directMap={};var p,A={},g=!1,m=!1,v=!1;f._handleKey=function(e,r,o){var a,s=n(e,r,o);r={};var l=0,u=!1;for(a=0;a<s.length;++a)s[a].seq&&(l=Math.max(l,s[a].level));for(a=0;a<s.length;++a)s[a].seq?s[a].level==l&&(u=!0,r[s[a].seq]=1,i(s[a].callback,o,s[a].combo,s[a].seq)):u||i(s[a].callback,o,s[a].combo);s="keypress"==o.type&&m,o.type!=v||c(e)||s||t(r),m=u&&"keydown"==o.type},f._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)d(e[i],t,n)},s(e,"keypress",r),s(e,"keydown",r),s(e,"keyup",r)}if(r){var f,p={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},g={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},m={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(a=1;20>a;++a)p[111+a]="f"+a;for(a=0;9>=a;++a)p[a+96]=a.toString();h.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},h.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},h.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},h.prototype.reset=function(){return this._callbacks={},this._directMap={},this},h.prototype.stopCallback=function(e,t){if(-1<(" "+t.className+" ").indexOf(" mousetrap ")||d(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},h.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},h.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(p[t]=e[t]);f=null},h.init=function(){var e,t=h(o);for(e in t)"_"!==e.charAt(0)&&(h[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},h.init(),r.Mousetrap=h,e.exports&&(e.exports=h),void 0===(i=function(){return h}.call(t,n,t,e))||(e.exports=i)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},10776:function(e,t,n){var i,r;i=function(){var e,t,n={version:"0.2.0"},i=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(e,t,n){return e<t?t:e>n?n:e}function o(e){return 100*(-1+e)}n.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(i[t]=n);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=r(e,i.minimum,1),n.status=1===e?null:e;var l=n.render(!t),c=l.querySelector(i.barSelector),u=i.speed,d=i.easing;return l.offsetWidth,a((function(t){""===i.positionUsing&&(i.positionUsing=n.getPositioningCSS()),s(c,function(e,t,n){var r;return(r="translate3d"===i.positionUsing?{transform:"translate3d("+o(e)+"%,0,0)"}:"translate"===i.positionUsing?{transform:"translate("+o(e)+"%,0)"}:{"margin-left":o(e)+"%"}).transition="all "+t+"ms "+n,r}(e,u,d)),1===e?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){n.remove(),t()}),u)}),u)):setTimeout(t,u)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout((function(){n.status&&(n.trickle(),e())}),i.trickleSpeed)};return i.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?("number"!=typeof e&&(e=(1-t)*r(Math.random()*t,.1,.95)),t=r(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc(Math.random()*i.trickleRate)},e=0,t=0,n.promise=function(i){return i&&"resolved"!==i.state()?(0===t&&n.start(),e++,t++,i.always((function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this):this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=i.template;var r,a=t.querySelector(i.barSelector),l=e?"-100":o(n.status||0),u=document.querySelector(i.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),i.showSpinner||(r=t.querySelector(i.spinnerSelector))&&h(r),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(t),t},n.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(i.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var a=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),s=function(){var e=["Webkit","O","Moz","ms"],t={};function n(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()})),t[n]||(t[n]=function(t){var n=document.body.style;if(t in n)return t;for(var i,r=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);r--;)if((i=e[r]+o)in n)return i;return t}(n))}function i(e,t,i){t=n(t),e.style[t]=i}return function(e,t){var n,r,o=arguments;if(2==o.length)for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&i(e,n,r);else i(e,o[1],o[2])}}();function l(e,t){return("string"==typeof e?e:d(e)).indexOf(" "+t+" ")>=0}function c(e,t){var n=d(e),i=n+t;l(n,t)||(e.className=i.substring(1))}function u(e,t){var n,i=d(e);l(e,t)&&(n=i.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function d(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return n},void 0===(r=i.call(t,n,t,e))||(e.exports=r)},24345:function(e,t,n){var i,r=n(37549);!function(r,o,a,s){"use strict";var l=function e(t,n){return new e.Instance(t,n||{})},c=l.globalSettings={scrollMinUpdateInterval:25,checkFrequency:1e3,pauseCheck:!1};l.defaults={preventParentScroll:!1,forceScrollbars:!1,scrollStopDelay:300,maxTrackSize:95,minTrackSize:5,draggableTracks:!0,autoUpdate:!0,classPrefix:"optiscroll-",wrapContent:!0,rtl:!1},(l.Instance=function(e,t){this.element=e,this.settings=v(v({},l.defaults),t||{}),"boolean"!=typeof t.rtl&&(this.settings.rtl="rtl"===r.getComputedStyle(e).direction),this.cache={},this.init()}).prototype={init:function(){var e=this.element,t=this.settings,n=!1,i=this.scrollEl=t.wrapContent?p.createWrapper(e):e.firstElementChild;m(i,t.classPrefix+"content",!0),m(e,"is-enabled"+(t.rtl?" is-rtl":""),!0),this.scrollbars={v:f("v",this),h:f("h",this)},(A.scrollbarSpec.width||t.forceScrollbars)&&(n=p.hideNativeScrollbars(i,t.rtl)),n&&y(this.scrollbars,"create"),A.isTouch&&t.preventParentScroll&&m(e,t.classPrefix+"prevent",!0),this.update(),this.bind(),t.autoUpdate&&A.instances.push(this),t.autoUpdate&&!A.checkTimer&&p.checkLoop()},bind:function(){var e,t,n,i,r=this.listeners={},o=this.scrollEl;for(var a in r.scroll=(e=h.scroll.bind(this),t=c.scrollMinUpdateInterval,function(){var r=this,o=Date.now(),a=arguments;n&&o<n+t?(clearTimeout(i),i=setTimeout((function(){n=o,e.apply(r,a)}),t)):(n=o,e.apply(r,a))}),A.isTouch&&(r.touchstart=h.touchstart.bind(this),r.touchend=h.touchend.bind(this)),r.mousewheel=r.wheel=h.wheel.bind(this),r)o.addEventListener(a,r[a],A.passiveEvent)},update:function(){var e=this.scrollEl,t=this.cache,n=t.clientH,i=e.scrollHeight,r=e.clientHeight,a=e.scrollWidth,l=e.clientWidth;if(i!==t.scrollH||r!==t.clientH||a!==t.scrollW||l!==t.clientW){if(t.scrollH=i,t.clientH=r,t.scrollW=a,t.clientW=l,n!==s){if(0===i&&0===r&&!o.body.contains(this.element))return this.destroy(),!1;this.fireCustomEvent("sizechange")}y(this.scrollbars,"update")}},scrollTo:function(e,t,n){var i,r,o,a,s=this.cache;A.pauseCheck=!0,this.update(),i=this.scrollEl.scrollLeft,r=this.scrollEl.scrollTop,o=+e,"left"===e&&(o=0),"right"===e&&(o=s.scrollW-s.clientW),!1===e&&(o=i),a=+t,"top"===t&&(a=0),"bottom"===t&&(a=s.scrollH-s.clientH),!1===t&&(a=r),this.animateScroll(i,o,r,a,+n)},scrollIntoView:function(e,t,n){var i,r,o,a,s,l,c,u,d,h,f,p,g=this.scrollEl;A.pauseCheck=!0,this.update(),"string"==typeof e?e=g.querySelector(e):e.length&&e.jquery&&(e=e[0]),"number"==typeof n&&(n={top:n,right:n,bottom:n,left:n}),n=n||{},i=e.getBoundingClientRect(),r=g.getBoundingClientRect(),d=f=g.scrollLeft,h=p=g.scrollTop,c=d+i.left-r.left,u=h+i.top-r.top,o=c-(n.left||0),a=u-(n.top||0),o<d&&(f=o),d<(s=c+i.width-this.cache.clientW+(n.right||0))&&(f=s),a<h&&(p=a),h<(l=u+i.height-this.cache.clientH+(n.bottom||0))&&(p=l),this.animateScroll(d,f,h,p,+t)},animateScroll:function(e,t,n,i,o){var s=this,l=this.scrollEl,c=Date.now();if(t!==e||i!==n){if(0===o)return l.scrollLeft=t,void(l.scrollTop=i);isNaN(o)&&(o=15*a.pow(a.max(a.abs(t-e),a.abs(i-n)),.54)),function u(){var d=a.min(1,(Date.now()-c)/o),h=p.easingFunction(d);i!==n&&(l.scrollTop=~~(h*(i-n))+n),t!==e&&(l.scrollLeft=~~(h*(t-e))+e),s.scrollAnimation=d<1?r.requestAnimationFrame(u):null}()}},destroy:function(){var e,t=this,n=this.element,i=this.scrollEl,o=this.listeners;if(this.scrollEl){for(var a in o)i.removeEventListener(a,o[a]);if(y(this.scrollbars,"remove"),!this.settings.contentElement){for(;e=i.childNodes[0];)n.insertBefore(e,i);n.removeChild(i),this.scrollEl=null}m(n,this.settings.classPrefix+"prevent",!1),m(n,"is-enabled",!1),r.requestAnimationFrame((function(){var e=A.instances.indexOf(t);-1<e&&A.instances.splice(e,1)}))}},fireCustomEvent:function(e){var t,n,i=this.cache,r=i.scrollH,a=i.scrollW;t={scrollbarV:v({},i.v),scrollbarH:v({},i.h),scrollTop:i.v.position*r,scrollLeft:i.h.position*a,scrollBottom:(1-i.v.position-i.v.size)*r,scrollRight:(1-i.h.position-i.h.size)*a,scrollWidth:a,scrollHeight:r,clientWidth:i.clientW,clientHeight:i.clientH},"function"==typeof CustomEvent?n=new CustomEvent(e,{detail:t}):(n=o.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,t),this.element.dispatchEvent(n)}};var u,d,h={scroll:function(e){A.pauseCheck||this.fireCustomEvent("scrollstart"),A.pauseCheck=!0,this.scrollbars.v.update(),this.scrollbars.h.update(),this.fireCustomEvent("scroll"),clearTimeout(this.cache.timerStop),this.cache.timerStop=setTimeout(h.scrollStop.bind(this),this.settings.scrollStopDelay)},touchstart:function(e){A.pauseCheck=!1,this.scrollbars.v.update(),this.scrollbars.h.update(),h.wheel.call(this,e)},touchend:function(e){clearTimeout(this.cache.timerStop)},scrollStop:function(){this.fireCustomEvent("scrollstop"),A.pauseCheck=!1},wheel:function(e){var t=this.cache,n=t.v,i=t.h,o=this.settings.preventParentScroll&&A.isTouch;r.cancelAnimationFrame(this.scrollAnimation),o&&n.enabled&&n.percent%100==0&&(this.scrollEl.scrollTop=n.percent?t.scrollH-t.clientH-1:1),o&&i.enabled&&i.percent%100==0&&(this.scrollEl.scrollLeft=i.percent?t.scrollW-t.clientW-1:1)}},f=function(e,t){var n="v"===e,i=t.element,s=t.scrollEl,l=t.settings,c=t.cache,u=c[e]={},d=n?"H":"W",h="client"+d,f="scroll"+d,p=n?"scrollTop":"scrollLeft",g=n?["top","bottom"]:["left","right"],y=/^(mouse|touch|pointer)/,b=A.scrollbarSpec.rtl,w=!1,x=null,C=null,_={dragData:null,dragStart:function(e){e.preventDefault();var t=e.touches?e.touches[0]:e;_.dragData={x:t.pageX,y:t.pageY,scroll:s[p]},_.bind(!0,e.type.match(y)[1])},dragMove:function(e){var t,i=e.touches?e.touches[0]:e,r=l.rtl&&1===b&&!n?-1:1;e.preventDefault(),t=(n?i.pageY-_.dragData.y:i.pageX-_.dragData.x)/c[h],s[p]=_.dragData.scroll+t*c[f]*r},dragEnd:function(e){_.dragData=null,_.bind(!1,e.type.match(y)[1])},bind:function(e,t){var n=(e?"add":"remove")+"EventListener",i=t+"move",r=t+("touch"===t?"end":"up");o[n](i,_.dragMove),o[n](r,_.dragEnd),o[n](t+"cancel",_.dragEnd)}};return{toggle:function(t){w=t,C&&m(i,"has-"+e+"track",w),u.enabled=w},create:function(){x=o.createElement("div"),C=o.createElement("b"),x.className=l.classPrefix+e,C.className=l.classPrefix+e+"track",x.appendChild(C),i.appendChild(x),l.draggableTracks&&(r.PointerEvent?["pointerdown"]:["touchstart","mousedown"]).forEach((function(e){C.addEventListener(e,_.dragStart)}))},update:function(){var e,t,n,i,r;(w||c[h]!==c[f])&&(e=(n=this.calc()).size,t=u.size,i=1/e*n.position*100,r=a.abs(n.position-(u.position||0))*c[h],1===e&&w&&this.toggle(!1),e<1&&!w&&this.toggle(!0),C&&w&&this.style(i,r,e,t),u=v(u,n),w&&this.fireEdgeEv())},style:function(e,t,i,r){i!==r&&(C.style[n?"height":"width"]=100*i+"%",l.rtl&&!n&&(C.style.marginRight=100*(1-i)+"%")),C.style[A.cssTransform]="translate("+(n?"0%,"+e+"%":e+"%,0%")+")"},calc:function(){var e,t=s[p],i=c[h],r=c[f],o=i/r,u=r-i;return 1<=o||!r?{position:0,size:1,percent:0}:(!n&&l.rtl&&b&&(t=u-t*b),e=100*t/u,t<=1&&(e=0),u-1<=t&&(e=100),o=a.max(o,l.minTrackSize/100),{position:e/100*(1-(o=a.min(o,l.maxTrackSize/100))),size:o,percent:e})},fireEdgeEv:function(){var e=u.percent;u.was!==e&&e%100==0&&(t.fireCustomEvent("scrollreachedge"),t.fireCustomEvent("scrollreach"+g[e/100])),u.was=e},remove:function(){this.toggle(!1),x&&(x.parentNode.removeChild(x),x=null)}}},p={hideNativeScrollbars:function(e,t){var n=A.scrollbarSpec.width,i=e.style;if(0===n){var r=Date.now();return e.setAttribute("data-scroll",r),p.addCssRule('[data-scroll="'+r+'"]::-webkit-scrollbar',"display:none;width:0;height:0;")}return i[t?"left":"right"]=-n+"px",i.bottom=-n+"px",!0},addCssRule:function(e,t){var n=o.getElementById("scroll-sheet");n||((n=o.createElement("style")).id="scroll-sheet",n.appendChild(o.createTextNode("")),o.head.appendChild(n));try{return n.sheet.insertRule(e+" {"+t+"}",0),!0}catch(e){return}},createWrapper:function(e,t){for(var n,i=o.createElement("div");n=e.childNodes[0];)i.appendChild(n);return e.appendChild(i)},checkLoop:function(){A.instances.length?(A.pauseCheck||y(A.instances,"update"),c.checkFrequency&&(A.checkTimer=setTimeout((function(){p.checkLoop()}),c.checkFrequency))):A.checkTimer=null},easingFunction:function(e){return--e*e*e+1}},A=l.G={isTouch:"ontouchstart"in r,cssTransition:g("transition"),cssTransform:g("transform"),scrollbarSpec:function(){var e,t,n,i=o.documentElement,r=1;return(e=o.createElement("div")).style.cssText="overflow:scroll;width:50px;height:50px;position:absolute;left:-100px;direction:rtl",(t=o.createElement("div")).style.cssText="width:100px;height:100px",e.appendChild(t),i.appendChild(e),n=e.offsetWidth-e.clientWidth,0<e.scrollLeft?r=0:(e.scrollLeft=1,0===e.scrollLeft&&(r=-1)),i.removeChild(e),{width:n,rtl:r}}(),passiveEvent:(u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}}),r.addEventListener("test",null,d),!!u&&{capture:!1,passive:!0}),instances:[],checkTimer:null,pauseCheck:!1};function g(e){var t=e.charAt(0).toUpperCase()+e.slice(1),n=o.createElement("test"),i=[e,"Webkit"+t];for(var r in i)if(n.style[i[r]]!==s)return i[r];return""}function m(e,t,n){var i=e.className.split(/\s+/),r=i.indexOf(t);n?~r||i.push(t):~r&&i.splice(r,1),e.className=i.join(" ")}function v(e,t,n){for(var i in t)!t.hasOwnProperty(i)||e[i]!==s&&n||(e[i]=t[i]);return e}function y(e,t,n){var i,r;if(e.length)for(i=0,r=e.length;i<r;i++)e[i][t].apply(e[i],n);else for(i in e)e[i][t].apply(e[i],n)}void 0!==(i=function(){return l}.call(t,n,t,e))&&(e.exports=i),e.exports&&(e.exports=l),r.Optiscroll=l}(window,document,Math),function(e){var t="optiscroll";e.fn[t]=function(n){var i,r;return"string"==typeof n&&(r=Array.prototype.slice.call(arguments),i=r.shift()),this.each((function(){var o=e(this),a=o.data(t);a?a&&"string"==typeof i&&(a[i].apply(a,r),"destroy"===i&&o.removeData(t)):(a=new window.Optiscroll(this,n||{}),o.data(t,a))}))}}(r||Zepto)},24090:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e){var t=n(e);return{left:window.scrollX+e.getBoundingClientRect().left+t.left,top:window.scrollY+e.getBoundingClientRect().top+t.top,absolute:!0,height:t.height}}function n(e,t){void 0===t&&(t={debug:!1,useSelectionEnd:!1,checkWidthOverflow:!0});var n=null!==e.selectionStart?e.selectionStart:0,i=null!==e.selectionEnd?e.selectionEnd:0,r=t.useSelectionEnd?i:n,o=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;if("undefined"==typeof window)throw new Error("textarea-caret-position#getCaretPosition should only be called in a browser");var a=t&&t.debug||!1;if(a){var s=document.querySelector("#input-textarea-caret-position-mirror-div");s&&s.parentNode&&s.parentNode.removeChild(s)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,d="INPUT"===e.nodeName;c.whiteSpace="pre-wrap",d||(c.wordWrap="break-word"),c.position="absolute",a||(c.visibility="hidden"),["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){if(d&&"lineHeight"===e)if("border-box"===u.boxSizing){var t=parseInt(u.height),n=parseInt(u.paddingTop)+parseInt(u.paddingBottom)+parseInt(u.borderTopWidth)+parseInt(u.borderBottomWidth),i=n+parseInt(u.lineHeight);c.lineHeight=t>i?t-n+"px":t===i?u.lineHeight:"0"}else c.lineHeight=u.height;else c[e]=u[e]})),o?e.scrollHeight>parseInt(u.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=e.value.substring(0,r),d&&l.textContent&&(l.textContent=l.textContent.replace(/\s/g,""));var h=document.createElement("span");h.textContent=e.value.substring(r)||".",l.appendChild(h);var f={top:h.offsetTop+parseInt(u.borderTopWidth),left:h.offsetLeft+parseInt(u.borderLeftWidth),absolute:!1,height:parseInt(u.lineHeight)};return a?h.style.backgroundColor="#aaa":document.body.removeChild(l),f.left>=e.clientWidth&&t.checkWidthOverflow&&(f.left=e.clientWidth),f}e.getAbsolutePosition=t,e.getRelativePosition=n,e.setElementPositionBasedOnCaret=function(e,n,i,r,o,a){void 0===i&&(i={top:0,left:0}),void 0===r&&(r=2),void 0===o&&(o=!0),void 0===a&&(a=!1);var s=t(n);return o?(s.left=s.left+(e.clientWidth+r)+i.left>window.scrollX+window.innerWidth?s.left=window.scrollX+window.innerWidth-(e.clientWidth+r):s.left+=i.left,s.top=s.top+(e.clientWidth+r)+i.top>window.scrollY+window.innerHeight?s.top-=e.clientWidth+r:s.top+=i.top):(s.top+=i.top,s.left+=i.left),a||(e.style.top=s.top+"px",e.style.left=s.left+"px"),s}}(n=t.Caret||(t.Caret={})),t.getCaretCoordinates=function(e,t,i){return void 0===i&&(i={debug:!1}),n.getRelativePosition(e,i)}},81883:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("3",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["3"],(function(e){return e("tinymce.PluginManager")})),i("2",["3"],(function(e){return e("tinymce.util.Tools")})),i("0",["1","2"],(function(e,t){return e.add("advlist",(function(e){function n(t){return e.$.contains(e.getBody(),t)}function i(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)&&n(e)}function r(e,n){var i=[];return n&&t.each(n.split(/[ ,]/),(function(e){i.push({text:e.replace(/\-/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()})),data:"default"==e?"":e})})),i}function o(t,n){var i="UL"==t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(i,!1,!1===n?null:{"list-style-type":n})}function a(t){var n=e.dom.getStyle(e.dom.getParent(e.selection.getNode(),"ol,ul"),"listStyleType")||"";t.control.items().each((function(e){e.active(e.settings.data===n)}))}var s,l;s=r(0,e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),l=r(0,e.getParam("advlist_bullet_styles","default,circle,disc,square"));var c=function(n){return function(){var r=this;e.on("NodeChange",(function(e){var o=t.grep(e.parents,i);r.active(o.length>0&&o[0].nodeName===n)}))}};(function(e,n){var i=e.settings.plugins?e.settings.plugins:"";return-1!==t.inArray(i.split(/[ ,]/),"lists")})(e)&&(e.addCommand("ApplyUnorderedListStyle",(function(e,t){o("UL",t["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",(function(e,t){o("OL",t["list-style-type"])})),e.addButton("numlist",{type:s.length>0?"splitbutton":"button",tooltip:"Numbered list",menu:s,onPostRender:c("OL"),onshow:a,onselect:function(e){o("OL",e.control.settings.data)},onclick:function(){e.execCommand("InsertOrderedList")}}),e.addButton("bullist",{type:l.length>0?"splitbutton":"button",tooltip:"Bullet list",onPostRender:c("UL"),menu:l,onshow:a,onselect:function(e){o("UL",e.control.settings.data)},onclick:function(){e.execCommand("InsertUnorderedList")}}))})),function(){}})),n("0")()}()},20681:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("3",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["3"],(function(e){return e("tinymce.Env")})),i("2",["3"],(function(e){return e("tinymce.PluginManager")})),i("0",["1","2"],(function(e,t){return t.add("anchor",(function(t){var n=function(e){return!e.attr("href")&&(e.attr("id")||e.attr("name"))&&!e.firstChild},i=function(e){return function(t){for(var i=0;i<t.length;i++)n(t[i])&&t[i].attr("contenteditable",e)}},r=function(){var e=t.selection.getNode(),n="A"==e.tagName&&""===t.dom.getAttrib(e,"href"),i="";n&&(i=e.id||e.name||""),t.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:i},onsubmit:function(i){var r=i.data.id;return function(e){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e)}(r)?void(n?(e.removeAttribute("name"),e.id=r):(t.selection.collapse(!0),t.execCommand("mceInsertContent",!1,t.dom.createHTML("a",{id:r})))):(i.preventDefault(),void t.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."))}})};e.ceFalse&&t.on("PreInit",(function(){t.parser.addNodeFilter("a",i("false")),t.serializer.addNodeFilter("a",i(null))})),t.addCommand("mceAnchor",r),t.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:r,stateSelector:"a:not([href])"}),t.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:r})})),function(){}})),n("0")()}()},67467:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("3",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["3"],(function(e){return e("tinymce.Env")})),i("2",["3"],(function(e){return e("tinymce.PluginManager")})),i("0",["1","2"],(function(e,t){return t.add("autolink",(function(t){function n(e,t,n){function i(e,t){if(t<0&&(t=0),3==e.nodeType){var n=e.data.length;t>n&&(t=n)}return t}function o(e,t){1!=e.nodeType||e.hasChildNodes()?s.setStart(e,i(e,t)):s.setStartBefore(e)}function a(e,t){1!=e.nodeType||e.hasChildNodes()?s.setEnd(e,i(e,t)):s.setEndAfter(e)}var s,l,c,u,d,h,f,p,A,g;if("A"!=e.selection.getNode().tagName){if((s=e.selection.getRng(!0).cloneRange()).startOffset<5){if(!(p=s.endContainer.previousSibling)){if(!s.endContainer.firstChild||!s.endContainer.firstChild.nextSibling)return;p=s.endContainer.firstChild.nextSibling}if(o(p,A=p.length),a(p,A),s.endOffset<5)return;l=s.endOffset,u=p}else{if(3!=(u=s.endContainer).nodeType&&u.firstChild){for(;3!=u.nodeType&&u.firstChild;)u=u.firstChild;3==u.nodeType&&(o(u,0),a(u,u.nodeValue.length))}l=1==s.endOffset?2:s.endOffset-1-t}c=l;do{o(u,l>=2?l-2:0),a(u,l>=1?l-1:0),l-=1,g=s.toString()}while(" "!=g&&""!==g&&160!=g.charCodeAt(0)&&l-2>=0&&g!=n);!function(e,t){return e===t||" "===e||160===e.charCodeAt(0)}(s.toString(),n)?0===s.startOffset?(o(u,0),a(u,c)):(o(u,l),a(u,c)):(o(u,l),a(u,c),l+=1),"."==(h=s.toString()).charAt(h.length-1)&&a(u,c-1),(f=(h=s.toString()).match(r))&&("www."==f[1]?f[1]="http://www.":/@$/.test(f[1])&&!/^mailto:/.test(f[1])&&(f[1]="mailto:"+f[1]),d=e.selection.getBookmark(),e.selection.setRng(s),e.execCommand("createlink",!1,f[1]+f[2]),e.settings.default_link_target&&e.dom.setAttrib(e.selection.getNode(),"target",e.settings.default_link_target),e.selection.moveToBookmark(d),e.nodeChanged())}}var i,r=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i;return t.settings.autolink_pattern&&(r=t.settings.autolink_pattern),t.on("keydown",(function(e){if(13==e.keyCode)return function(e){n(e,-1,"")}(t)})),e.ie?void t.on("focus",(function(){if(!i){i=!0;try{t.execCommand("AutoUrlDetect",!1,!0)}catch(e){}}})):(t.on("keypress",(function(e){if(41==e.keyCode)return function(e){n(e,-1,"(")}(t)})),void t.on("keyup",(function(e){if(32==e.keyCode)return function(e){n(e,0,"")}(t)})))})),function(){}})),n("0")()}()},18691:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("5",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["5"],(function(e){return e("tinymce.dom.DOMUtils")})),i("2",["5"],(function(e){return e("tinymce.Env")})),i("3",["5"],(function(e){return e("tinymce.PluginManager")})),i("4",["5"],(function(e){return e("tinymce.util.Delay")})),i("0",["1","2","3","4"],(function(e,t,n,i){var r=e.DOM;return n.add("autoresize",(function(e){function n(i){var o,l,c,u,d,h,f,p,A,g,m,v;if(l=e.getDoc()){if(c=l.body,u=l.documentElement,d=a.autoresize_min_height,!c||i&&"setcontent"===i.type&&i.initial||e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen())return void(c&&u&&(c.style.overflowY="auto",u.style.overflowY="auto"));f=e.dom.getStyle(c,"margin-top",!0),p=e.dom.getStyle(c,"margin-bottom",!0),A=e.dom.getStyle(c,"padding-top",!0),g=e.dom.getStyle(c,"padding-bottom",!0),m=e.dom.getStyle(c,"border-top-width",!0),v=e.dom.getStyle(c,"border-bottom-width",!0),h=c.offsetHeight+parseInt(f,10)+parseInt(p,10)+parseInt(A,10)+parseInt(g,10)+parseInt(m,10)+parseInt(v,10),(isNaN(h)||h<=0)&&(h=t.ie?c.scrollHeight:t.webkit&&0===c.clientHeight?0:c.offsetHeight),h>a.autoresize_min_height&&(d=h),a.autoresize_max_height&&h>a.autoresize_max_height?(d=a.autoresize_max_height,c.style.overflowY="auto",u.style.overflowY="auto"):(c.style.overflowY="hidden",u.style.overflowY="hidden",c.scrollTop=0),d!==s&&(o=d-s,r.setStyle(e.iframeElement,"height",d+"px"),s=d,t.webKit&&o<0&&n(i))}}function o(t,r,a){i.setEditorTimeout(e,(function(){n({}),t--?o(t,r,a):a&&a()}),r)}var a=e.settings,s=0;e.settings.inline||(a.autoresize_min_height=parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10),a.autoresize_max_height=parseInt(e.getParam("autoresize_max_height",0),10),e.on("init",(function(){var t,n;t=e.getParam("autoresize_overflow_padding",1),n=e.getParam("autoresize_bottom_margin",50),!1!==t&&e.dom.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t}),!1!==n&&e.dom.setStyles(e.getBody(),{paddingBottom:n})})),e.on("nodechange setcontent keyup FullscreenStateChanged",n),e.getParam("autoresize_on_init",!0)&&e.on("init",(function(){o(20,100,(function(){o(5,1e3)}))})),e.addCommand("mceAutoResize",n))})),function(){}})),n("0")()}()},12018:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("3",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["3"],(function(e){return e("tinymce.PluginManager")})),i("2",["3"],(function(e){return e("tinymce.util.Tools")})),i("0",["1","2"],(function(e,t){return e.add("charmap",(function(e){function n(e){return o(e)?[].concat(function(e){return t.grep(e,(function(e){return o(e)&&2==e.length}))}(e)):"function"==typeof e?e():[]}function i(){return function(t){var i=e.settings;return i.charmap&&(t=n(i.charmap)),i.charmap_append?[].concat(t).concat(n(i.charmap_append)):t}([["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]])}function r(t){e.fire("insertCustomChar",{chr:t}).chr,e.execCommand("mceInsertContent",!1,t)}var o=t.isArray;return e.addCommand("mceShowCharmap",(function(){function t(e){for(;e;){if("TD"==e.nodeName)return e;e=e.parentNode}}var n,o,a,s;n='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>';var l=i(),c=Math.min(l.length,25),u=Math.ceil(l.length/c);for(a=0;a<u;a++){for(n+="<tr>",o=0;o<c;o++){var d=a*c+o;if(d<l.length){var h=l[d],f=h?String.fromCharCode(parseInt(h[0],10)):"&nbsp;";n+='<td title="'+h[1]+'"><div tabindex="-1" title="'+h[1]+'" role="button" data-chr="'+f+'">'+f+"</div></td>"}else n+="<td />"}n+="</tr>"}var p={type:"container",html:n+="</tbody></table>",onclick:function(e){var n=e.target;if(/^(TD|DIV)$/.test(n.nodeName)){var i=t(n).firstChild;i&&i.hasAttribute("data-chr")&&(r(i.getAttribute("data-chr")),e.ctrlKey||s.close())}},onmouseover:function(e){var n=t(e.target);n&&n.firstChild?(s.find("#preview").text(n.firstChild.firstChild.data),s.find("#previewTitle").text(n.title)):(s.find("#preview").text(" "),s.find("#previewTitle").text(" "))}};s=e.windowManager.open({title:"Special character",spacing:10,padding:10,items:[p,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"spacer",minHeight:20},{type:"label",name:"previewTitle",text:" ",style:"white-space: pre-wrap;",border:1,minWidth:140}]}],buttons:[{text:"Close",onclick:function(){s.close()}}]})})),e.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"}),{getCharMap:i,insertChar:r}})),function(){}})),n("0")()}()},93289:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("3",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["3"],(function(e){return e("tinymce.dom.DOMUtils")})),i("2",["3"],(function(e){return e("tinymce.PluginManager")})),i("0",["1","2"],(function(e,t){return t.add("code",(function(t){function n(){t.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:t.getParam("code_dialog_width",600),minHeight:t.getParam("code_dialog_height",Math.min(e.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){t.focus(),t.undoManager.transact((function(){t.setContent(e.data.code)})),t.selection.setCursorLocation(),t.nodeChanged()}}).find("#code").value(t.getContent({source_view:!0}))}t.addCommand("mceCodeEditor",n),t.addButton("code",{icon:"code",tooltip:"Source code",onclick:n}),t.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:n})})),function(){}})),n("0")()}()},48408:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}},r=function(e,t){i(e,[],(function(){return t}))};r("7",tinymce.util.Tools.resolve),i("1",["7"],(function(e){return e("tinymce.dom.DOMUtils")})),i("2",["7"],(function(e){return e("tinymce.Env")})),i("3",["7"],(function(e){return e("tinymce.PluginManager")})),i("4",["7"],(function(e){return e("tinymce.ui.Factory")})),i("5",["7"],(function(e){return e("tinymce.util.Tools")})),r("a",Array),r("b",Error),i("d",["a","b"],(function(e,t){var n=function(e){return function(){return e}},i=n(!1),r=n(!0);return{noop:function(){},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){for(var i=new e(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];var o=n.concat(i);return t.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:i,always:r}})),r("e",Object),i("9",["d","e"],(function(e,t){var n=e.never,i=e.always,r=function(){return o},o=function(){var o=function(e){return e.isNone()},a=function(e){return e()},s=function(e){return e},l={fold:function(e,t){return e()},is:n,isSome:n,isNone:i,getOr:s,getOrThunk:a,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:s,orThunk:a,map:r,ap:r,each:function(){},bind:r,flatten:r,exists:n,forall:i,filter:r,equals:o,equals_:o,toArray:function(){return[]},toString:e.constant("none()")};return t.freeze&&t.freeze(l),l}(),a=function(e){var t=function(){return e},s=function(){return c},l=function(t){return t(e)},c={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:n,getOr:t,getOrThunk:t,getOrDie:t,or:s,orThunk:s,map:function(t){return a(t(e))},ap:function(t){return t.fold(r,(function(t){return a(t(e))}))},each:function(t){t(e)},bind:l,flatten:t,exists:l,forall:l,filter:function(t){return t(e)?c:o},equals:function(t){return t.is(e)},equals_:function(t,i){return t.fold(n,(function(t){return i(e,t)}))},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return c};return{some:a,none:r,from:function(e){return null==e?o:a(e)}}})),r("c",String),i("8",["9","a","b","c"],(function(e,t,n,i){var r=function(){var e=t.prototype.indexOf;return void 0===e?function(e,t){return d(e,t)}:function(t,n){return e.call(t,n)}}(),o=function(e,t){return r(e,t)>-1},a=function(e,n){for(var i=e.length,r=new t(i),o=0;o<i;o++){var a=e[o];r[o]=n(a,o,e)}return r},s=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n,e)},l=function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n,e)},c=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i,e)&&n.push(o)}return n},u=function(t,n){for(var i=0,r=t.length;i<r;i++)if(n(t[i],i,t))return e.some(i);return e.none()},d=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},h=t.prototype.push,f=function(e){for(var i=[],r=0,o=e.length;r<o;++r){if(!t.prototype.isPrototypeOf(e[r]))throw new n("Arr.flatten item "+r+" was not an array, input: "+e);h.apply(i,e[r])}return i},p=function(e,t){for(var n=0,i=e.length;n<i;++n)if(!0!==t(e[n],n,e))return!1;return!0},A=t.prototype.slice;return{map:a,each:s,eachr:l,partition:function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var a=e[r];(t(a,r,e)?n:i).push(a)}return{pass:n,fail:i}},filter:c,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),i=[],r=[],o=0,a=e.length;o<a;o++){var s=e[o],l=t(s);l!==n&&(i.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&i.push(r),i},indexOf:function(t,n){var i=r(t,n);return-1===i?e.none():e.some(i)},foldr:function(e,t,n){return l(e,(function(e){n=t(n,e)})),n},foldl:function(e,t,n){return s(e,(function(e){n=t(n,e)})),n},find:function(t,n){for(var i=0,r=t.length;i<r;i++){var o=t[i];if(n(o,i,t))return e.some(o)}return e.none()},findIndex:u,flatten:f,bind:function(e,t){var n=a(e,t);return f(n)},forall:p,exists:function(e,t){return u(e,t).isSome()},contains:o,equal:function(e,t){return e.length===t.length&&p(e,(function(e,n){return e===t[n]}))},reverse:function(e){var t=A.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],i=0;i<e.length;i+=t){var r=e.slice(i,i+t);n.push(r)}return n},difference:function(e,t){return c(e,(function(e){return!o(t,e)}))},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var a=e[r];n[i(a)]=t(a,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=A.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n}}})),i("6",["8"],(function(e){return{isXYWithinRange:function(t,n,i){return!i.collapsed&&e.foldl(i.getClientRects(),(function(e,i){return e||function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}(i,t,n)}),!1)}}})),i("0",["1","2","3","4","5","6"],(function(e,t,n,i,r,o){var a=e.DOM;return n.add("contextmenu",(function(e){var n,s,l=e.settings.contextmenu_never_use_native,c=function(e){return e.ctrlKey&&!l},u=function(){return t.mac&&t.webkit},d=function(e){return e&&"IMG"===e.nodeName},h=function(e,t){return d(e.target)&&!1===o.isXYWithinRange(e.clientX,e.clientY,t)};return e.on("mousedown",(function(t){u()&&2===t.button&&!c(t)&&e.selection.isCollapsed()&&e.once("contextmenu",(function(t){d(t.target)||e.selection.placeCaretAt(t.clientX,t.clientY)}))})),e.on("contextmenu",(function(t){var o;if(!c(t)){if(h(t,e.selection.getRng())&&e.selection.select(t.target),t.preventDefault(),o=e.settings.contextmenu||"link openlink image inserttable | cell row column deletetable",n)n.show();else{var l=[];r.each(o.split(/[ ,]/),(function(t){var n=e.menuItems[t];"|"==t&&(n={text:t}),n&&(n.shortcut="",l.push(n))}));for(var u=0;u<l.length;u++)"|"==l[u].text&&(0!==u&&u!=l.length-1||l.splice(u,1));(n=i.create("menu",{items:l,context:"contextmenu",classes:"contextmenu"}).renderTo()).on("hide",(function(e){e.control===this&&(s=!1)})),e.on("remove",(function(){n.remove(),n=null}))}var d={x:t.pageX,y:t.pageY};e.inline||((d=a.getPos(e.getContentAreaContainer())).x+=t.clientX,d.y+=t.clientY),n.moveTo(d.x,d.y),s=!0}})),{isContextMenuVisible:function(){return!0===s}}})),function(){}})),n("0")()}()},90465:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("3",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["3"],(function(e){return e("tinymce.dom.DOMUtils")})),i("2",["3"],(function(e){return e("tinymce.PluginManager")})),i("0",["1","2"],(function(e,t){var n=e.DOM;return t.add("fullscreen",(function(e){function t(){function t(){n.setStyle(h,"height",function(){var e,t,n=window,i=document.body;return i.offsetWidth&&(e=i.offsetWidth,t=i.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}().h-(d.clientHeight-h.clientHeight))}var u,d,h,f,p=document.body,A=document.documentElement;c=!c,u=(d=e.getContainer()).style,f=(h=e.getContentAreaContainer().firstChild).style,c?(l=function(){var e=n.getViewPort();return{x:e.x,y:e.y}}(),i=f.width,r=f.height,f.width=f.height="100%",a=u.width,s=u.height,u.width=u.height="",n.addClass(p,"mce-fullscreen"),n.addClass(A,"mce-fullscreen"),n.addClass(d,"mce-fullscreen"),n.bind(window,"resize",t),t(),o=t):(f.width=i,f.height=r,a&&(u.width=a),s&&(u.height=s),n.removeClass(p,"mce-fullscreen"),n.removeClass(A,"mce-fullscreen"),n.removeClass(d,"mce-fullscreen"),n.unbind(window,"resize",o),function(e){window.scrollTo(e.x,e.y)}(l)),e.fire("FullscreenStateChanged",{state:c})}var i,r,o,a,s,l,c=!1;if(!e.settings.inline)return e.on("init",(function(){e.addShortcut("Ctrl+Shift+F","",t)})),e.on("remove",(function(){o&&n.unbind(window,"resize",o)})),e.addCommand("mceFullScreen",t),e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,onClick:function(){t(),e.focus()},onPostRender:function(){var t=this;e.on("FullscreenStateChanged",(function(e){t.active(e.state)}))},context:"view"}),e.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Shift+F",onClick:t,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",(function(e){t.active(e.state)}))}}),{isFullscreen:function(){return c}}})),function(){}})),n("0")()}()},68260:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("2",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["2"],(function(e){return e("tinymce.PluginManager")})),i("0",["1"],(function(e){return e.add("hr",(function(e){e.addCommand("InsertHorizontalRule",(function(){e.execCommand("mceInsertContent",!1,"<hr />")})),e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})})),function(){}})),n("0")()}()},96166:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("3",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["3"],(function(e){return e("tinymce.PluginManager")})),i("2",["3"],(function(e){return e("tinymce.util.Tools")})),i("0",["1","2"],(function(e,t){return e.add("insertdatetime",(function(e){function n(t,n){function i(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}return n=n||new Date,(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",i(n.getMonth()+1,2))).replace("%d",i(n.getDate(),2))).replace("%H",""+i(n.getHours(),2))).replace("%M",""+i(n.getMinutes(),2))).replace("%S",""+i(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(c[n.getMonth()]))).replace("%b",""+e.translate(l[n.getMonth()]))).replace("%A",""+e.translate(s[n.getDay()]))).replace("%a",""+e.translate(a[n.getDay()]))).replace("%%","%")}function i(t){var i=n(t);if(e.settings.insertdatetime_element){i='<time datetime="'+n(/%[HMSIp]/.test(t)?"%Y-%m-%dT%H:%M":"%Y-%m-%d")+'">'+i+"</time>";var r=e.dom.getParent(e.selection.getStart(),"time");if(r)return void e.dom.setOuterHTML(r,i)}e.insertContent(i)}var r,o,a="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),s="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),l="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" "),u=[];e.addCommand("mceInsertDate",(function(){i(e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d")))})),e.addCommand("mceInsertTime",(function(){i(e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S")))})),e.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",onclick:function(){i(r||o)},menu:u}),t.each(e.settings.insertdatetime_formats||["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"],(function(e){o||(o=e),u.push({text:n(e),onclick:function(){r=e,i(e)}})})),e.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:u,context:"insert"})})),function(){}})),n("0")()}()},68939:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("a",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["a"],(function(e){return e("tinymce.PluginManager")})),i("2",["a"],(function(e){return e("tinymce.util.Tools")})),i("3",["a"],(function(e){return e("tinymce.util.VK")})),i("b",["a"],(function(e){return e("tinymce.dom.DOMUtils")})),i("8",[],(function(){var e=function(e){return e&&"BR"===e.nodeName};return{isTextNode:function(e){return e&&3===e.nodeType},isListNode:function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},isListItemNode:function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},isBr:e,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBlock:function(e,t){return e&&e.nodeName in t},isBogusBr:function(t,n){return!!e(n)&&!(!t.isBlock(n.nextSibling)||e(n.previousSibling))},isEmpty:function(e,t,n){var i=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&i},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}}})),i("i",["a"],(function(e){return e("tinymce.dom.RangeUtils")})),i("k",["i","8"],(function(e,t){var n=function(n,i){var r=e.getNode(n,i);return t.isListItemNode(n)&&t.isTextNode(r)?{container:r,offset:i>=n.childNodes.length?r.data.length:0}:{container:n,offset:i}};return{getNormalizedEndPoint:n,normalizeRange:function(e){var t=e.cloneRange(),i=n(e.startContainer,e.startOffset);t.setStart(i.container,i.offset);var r=n(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t}}})),i("c",["b","8","k"],(function(e,t,n){var i=e.DOM;return{createBookmark:function(e){var t={},n=function(n){var r,o,a;o=e[n?"startContainer":"endContainer"],a=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=i.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(a=Math.min(a,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[a]):i.insertAfter(r,o.childNodes[a])):o.appendChild(r),o=r,a=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=a};return n(!0),e.collapsed||n(),t},resolveBookmark:function(e){function t(t){var n,r,o;n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,i.remove(o)),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var r=i.createRng();return r.setStart(e.startContainer,e.startOffset),e.endContainer&&r.setEnd(e.endContainer,e.endOffset),n.normalizeRange(r)}}})),i("d",["a"],(function(e){return e("tinymce.dom.DomQuery")})),i("9",["d","2","8"],(function(e,t,n){var i=function(e){return e.dom.getParent(e.selection.getStart(!0),"OL,UL,DL")},r=function(n,i){var r=t.map(i,(function(e){return n.dom.getParent(e,"li,dd,dt",n.getBody())||e}));return e.unique(r)};return{getParentList:i,getSelectedSubLists:function(e){var r=i(e);return t.grep(e.selection.getSelectedBlocks(),(function(e){return n.isListNode(e)&&r!==e}))},getSelectedListItems:function(e){var i=e.selection.getSelectedBlocks();return t.grep(r(e,i),(function(e){return n.isListItemNode(e)}))}}})),i("4",["b","c","8","9"],(function(e,t,n,i){var r=e.DOM,o=function(e,t){var i;if(n.isListNode(e)){for(;i=e.firstChild;)t.appendChild(i);r.remove(e)}},a=function(e){var t,i,a;return"DT"===e.nodeName?(r.rename(e,"DD"),!0):(t=e.previousSibling)&&n.isListNode(t)?(t.appendChild(e),!0):t&&"LI"===t.nodeName&&n.isListNode(t.lastChild)?(t.lastChild.appendChild(e),o(e.lastChild,t.lastChild),!0):(t=e.nextSibling)&&n.isListNode(t)?(t.insertBefore(e,t.firstChild),!0):!(!(t=e.previousSibling)||"LI"!==t.nodeName||(i=r.create(e.parentNode.nodeName),a=r.getStyle(e.parentNode,"listStyleType"),a&&r.setStyle(i,"listStyleType",a),t.appendChild(i),i.appendChild(e),o(e.lastChild,i),0))};return{indentSelection:function(e){var n=i.getSelectedListItems(e);if(n.length){for(var r=t.createBookmark(e.selection.getRng(!0)),o=0;o<n.length&&(a(n[o])||0!==o);o++);return e.selection.setRng(t.resolveBookmark(r)),e.nodeChanged(),!0}}}})),i("e",["b","2","8"],(function(e,t,n){var i=e.DOM,r=function(e,t){var r,o=t.parentNode;"LI"===o.nodeName&&o.firstChild===t&&((r=o.previousSibling)&&"LI"===r.nodeName?(r.appendChild(t),n.isEmpty(e,o)&&i.remove(o)):i.setStyle(o,"listStyleType","none")),n.isListNode(o)&&(r=o.previousSibling)&&"LI"===r.nodeName&&r.appendChild(t)};return{normalizeList:r,normalizeLists:function(e,n){t.each(t.grep(e.select("ol,ul",n)),(function(t){r(e,t)}))}}})),i("l",["a"],(function(e){return e("tinymce.Env")})),i("g",["b","l","8"],(function(e,t,n){var i=e.DOM;return{createNewTextBlock:function(e,r,o){var a,s,l,c=i.createFragment(),u=e.schema.getBlockElements();if(e.settings.forced_root_block&&(o=o||e.settings.forced_root_block),o&&((s=i.create(o)).tagName===e.settings.forced_root_block&&i.setAttribs(s,e.settings.forced_root_block_attrs),n.isBlock(r.firstChild,u)||c.appendChild(s)),r)for(;a=r.firstChild;){var d=a.nodeName;l||"SPAN"===d&&"bookmark"===a.getAttribute("data-mce-type")||(l=!0),n.isBlock(a,u)?(c.appendChild(a),s=null):o?(s||(s=i.create(o),c.appendChild(s)),s.appendChild(a)):c.appendChild(a)}return e.settings.forced_root_block?l||t.ie&&!(t.ie>10)||s.appendChild(i.create("br",{"data-mce-bogus":"1"})):c.appendChild(i.create("br")),c}}})),i("f",["b","8","g","2"],(function(e,t,n,i){var r=e.DOM;return{splitList:function(e,o,a,s){var l,c,u,d;for(u=r.select('span[data-mce-type="bookmark"]',o),s=s||n.createNewTextBlock(e,a),(l=r.createRng()).setStartAfter(a),l.setEndAfter(o),d=(c=l.extractContents()).firstChild;d;d=d.firstChild)if("LI"===d.nodeName&&e.dom.isEmpty(d)){r.remove(d);break}e.dom.isEmpty(c)||r.insertAfter(c,o),r.insertAfter(s,o),t.isEmpty(e.dom,a.parentNode)&&function(e){i.each(u,(function(t){e.parentNode.insertBefore(t,a.parentNode)})),r.remove(e)}(a.parentNode),r.remove(a),t.isEmpty(e.dom,o)&&r.remove(o)}}})),i("5",["b","c","8","e","9","f","g"],(function(e,t,n,i,r,o,a){var s=e.DOM,l=function(e,t){n.isEmpty(e,t)&&s.remove(t)},c=function(e,t){var r,c=t.parentNode,u=c.parentNode;return!(c!==e.getBody()&&("DD"===t.nodeName?(s.rename(t,"DT"),0):n.isFirstChild(t)&&n.isLastChild(t)?("LI"===u.nodeName?(s.insertAfter(t,u),l(e.dom,u),s.remove(c)):n.isListNode(u)?s.remove(c,!0):(u.insertBefore(a.createNewTextBlock(e,t),c),s.remove(c)),0):n.isFirstChild(t)?("LI"===u.nodeName?(s.insertAfter(t,u),t.appendChild(c),l(e.dom,u)):n.isListNode(u)?u.insertBefore(t,c):(u.insertBefore(a.createNewTextBlock(e,t),c),s.remove(t)),0):n.isLastChild(t)?("LI"===u.nodeName?s.insertAfter(t,u):n.isListNode(u)?s.insertAfter(t,c):(s.insertAfter(a.createNewTextBlock(e,t),c),s.remove(t)),0):("LI"===u.nodeName?(c=u,r=a.createNewTextBlock(e,t,"LI")):r=n.isListNode(u)?a.createNewTextBlock(e,t,"LI"):a.createNewTextBlock(e,t),o.splitList(e,c,t,r),i.normalizeLists(e.dom,c.parentNode),0)))};return{outdent:c,outdentSelection:function(e){var n=r.getSelectedListItems(e);if(n.length){var i,o,a=t.createBookmark(e.selection.getRng(!0)),s=e.getBody();for(i=n.length;i--;)for(var l=n[i].parentNode;l&&l!==s;){for(o=n.length;o--;)if(n[o]===l){n.splice(i,1);break}l=l.parentNode}for(i=0;i<n.length&&(c(e,n[i])||0!==i);i++);return e.selection.setRng(t.resolveBookmark(a)),e.nodeChanged(),!0}}}})),i("h",["a"],(function(e){return e("tinymce.dom.BookmarkManager")})),i("6",["h","2","5","c","8","e","9","f"],(function(e,t,n,i,r,o,a,s){var l=function(e,n){t.each(n,(function(t,n){e.setAttribute(n,t)}))},c=function(e,n,i){l(n,i["list-attributes"]),t.each(e.select("li",n),(function(e){l(e,i["list-item-attributes"])}))},u=function(e,t,n){(function(e,t,n){var i=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",i)})(e,t,n),c(e,t,n)},d=function(e,t,n){var i,o,a=e.getBody();for(i=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],1===i.nodeType&&(i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i);i.parentNode!==a;){if(r.isTextBlock(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},h=function(n,i){for(var o,a=[],s=n.getBody(),l=n.dom,c=d(n,i,!0),u=d(n,i,!1),h=[],f=c;f&&(h.push(f),f!==u);f=f.nextSibling);return t.each(h,(function(t){if(r.isTextBlock(n,t))return a.push(t),void(o=null);if(l.isBlock(t)||r.isBr(t))return r.isBr(t)&&l.remove(t),void(o=null);var i=t.nextSibling;return e.isBookmarkNode(t)&&(r.isTextBlock(n,i)||!i&&t.parentNode===s)?void(o=null):(o||(o=l.create("p"),t.parentNode.insertBefore(o,t),a.push(o)),void o.appendChild(t))})),a},f=function(e,n,o){var a,s=e.selection.getRng(!0),l="LI",c=e.dom;o=o||{},"false"!==c.getContentEditable(e.selection.getNode())&&("DL"===(n=n.toUpperCase())&&(l="DT"),a=i.createBookmark(s),t.each(h(e,s),(function(t){var i,a;(a=t.previousSibling)&&r.isListNode(a)&&a.nodeName===n&&function(e){var t=c.getStyle(e,"list-style-type"),n=o?o["list-style-type"]:"";return t===(null===n?"":n)}(a)?(i=a,t=c.rename(t,l),a.appendChild(t)):(i=c.create(n),t.parentNode.insertBefore(i,t),i.appendChild(t),t=c.rename(t,l)),u(c,i,o),g(e.dom,i)})),e.selection.setRng(i.resolveBookmark(a)))},p=function(e){var l=i.createBookmark(e.selection.getRng(!0)),c=e.getBody(),u=a.getSelectedListItems(e),d=t.grep(u,(function(t){return e.dom.isEmpty(t)}));u=t.grep(u,(function(t){return!e.dom.isEmpty(t)})),t.each(d,(function(t){r.isEmpty(e.dom,t)&&n.outdent(e,t)})),t.each(u,(function(t){var n,i;if(t.parentNode!==e.getBody()){for(n=t;n&&n!==c;n=n.parentNode)r.isListNode(n)&&(i=n);s.splitList(e,i,t),o.normalizeLists(e.dom,i.parentNode)}})),e.selection.setRng(i.resolveBookmark(l))},A=function(e,t,n){return function(e,t){return e&&t&&r.isListNode(e)&&e.nodeName===t.nodeName}(t,n)&&function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)}(e,t,n)&&function(e,t){return e.className===t.className}(t,n)},g=function(e,t){var n,i;if(n=t.nextSibling,A(e,t,n)){for(;i=n.firstChild;)t.appendChild(i);e.remove(n)}if(n=t.previousSibling,A(e,t,n)){for(;i=n.lastChild;)t.insertBefore(i,t.firstChild);e.remove(n)}},m=function(e,n,r,o,a){if(n.nodeName!==o||v(a)){var s=i.createBookmark(e.selection.getRng(!0));t.each([n].concat(r),(function(t){!function(e,t,n,i){if(t.nodeName!==n){var r=e.rename(t,n);u(e,r,i)}else u(e,t,i)}(e.dom,t,o,a)})),e.selection.setRng(i.resolveBookmark(s))}else p(e)},v=function(e){return"list-style-type"in e},y=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||v(r)){var o=i.createBookmark(e.selection.getRng(!0));u(e.dom,t,r),g(e.dom,e.dom.rename(t,n)),e.selection.setRng(i.resolveBookmark(o))}else p(e);else f(e,n,r)};return{toggleList:function(e,t,n){var i=a.getParentList(e),r=a.getSelectedSubLists(e);n=n||{},i&&r.length>0?m(e,i,r,t,n):y(e,i,t,n)},removeList:p,mergeWithAdjacentLists:g}})),i("j",["a"],(function(e){return e("tinymce.dom.TreeWalker")})),i("7",["i","j","3","6","c","8","e","k","9"],(function(e,t,n,i,r,o,a,s,l){var c=function(n,i,r){var a,s,l=i.startContainer,c=i.startOffset;if(3===l.nodeType&&(r?c<l.data.length:c>0))return l;for(a=n.schema.getNonEmptyElements(),1===l.nodeType&&(l=e.getNode(l,c)),s=new t(l,n.getBody()),r&&o.isBogusBr(n.dom,l)&&s.next();l=s[r?"next":"prev2"]();){if("LI"===l.nodeName&&!l.hasChildNodes())return l;if(a[l.nodeName])return l;if(3===l.nodeType&&l.data.length>0)return l}},u=function(e,t){var n=t.childNodes;return 1===n.length&&!o.isListNode(n[0])&&e.isBlock(n[0])},d=function(e,t,n){var i,r,a=t.parentNode;o.isChildOfBody(e,t)&&o.isChildOfBody(e,n)&&(o.isListNode(n.lastChild)&&(r=n.lastChild),a===n.lastChild&&o.isBr(a.previousSibling)&&e.remove(a.previousSibling),(i=n.lastChild)&&o.isBr(i)&&t.hasChildNodes()&&e.remove(i),o.isEmpty(e,n,!0)&&e.$(n).empty(),function(e,t,n){var i,r;if(r=u(e,n)?n.firstChild:n,function(e,t){u(e,t)&&e.remove(t.firstChild,!0)}(e,t),!o.isEmpty(e,t,!0))for(;i=t.firstChild;)r.appendChild(i)}(e,t,n),r&&n.appendChild(r),e.remove(t),o.isEmpty(e,a)&&a!==e.getRoot()&&e.remove(a))},h=function(e,t,n,i){var o=e.dom;if(o.isEmpty(i))!function(e,t,n){e.dom.$(n).empty(),d(e.dom,t,n),e.selection.setCursorLocation(n)}(e,n,i);else{var a=r.createBookmark(t);d(o,n,i),e.selection.setRng(r.resolveBookmark(a))}},f=function(e,t,n,i){var o=r.createBookmark(t);d(e.dom,n,i),e.selection.setRng(r.resolveBookmark(o))},p=function(e,t){return e.selection.isCollapsed()?function(e,t){return function(e,t){var n,r,a,l=e.dom,u=e.selection,d=l.getParent(u.getStart(),"LI");if(d){if((n=d.parentNode)===e.getBody()&&o.isEmpty(l,n))return!0;if(r=s.normalizeRange(u.getRng(!0)),(a=l.getParent(c(e,r,t),"LI"))&&a!==d)return t?h(e,r,a,d):f(e,r,d,a),!0;if(!a&&!t&&i.removeList(e,n.nodeName))return!0}return!1}(e,t)||function(e,t){var n=e.dom,r=n.getParent(e.selection.getStart(),n.isBlock);if(r&&n.isEmpty(r)){var o=s.normalizeRange(e.selection.getRng(!0)),a=n.getParent(c(e,o,t),"LI");if(a)return e.undoManager.transact((function(){(function(e,t){var n=e.getParent(t.parentNode,e.isBlock);e.remove(t),n&&e.isEmpty(n)&&e.remove(n)})(n,r),i.mergeWithAdjacentLists(n,a.parentNode),e.selection.select(a,!0),e.selection.collapse(t)})),!0}return!1}(e,t)}(e,t):function(e){return!!(e.dom.getParent(e.selection.getStart(),"LI,DT,DD")||l.getSelectedListItems(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),a.normalizeLists(e.dom,e.getBody())})),!0)}(e)};return{setup:function(e){e.on("keydown",(function(t){t.keyCode===n.BACKSPACE?p(e,!1)&&t.preventDefault():t.keyCode===n.DELETE&&p(e,!0)&&t.preventDefault()}))},backspaceDelete:p}})),i("0",["1","2","3","4","5","6","7","8","9"],(function(e,t,n,i,r,o,a,s,l){var c=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}};return e.add("lists",(function(e){return function(e){var n=function(n){return function(){var i=this;e.on("NodeChange",(function(e){var r=t.grep(e.parents,s.isListNode);i.active(r.length>0&&r[0].nodeName===n)}))}};(function(e,n){var i=e.settings.plugins?e.settings.plugins:"";return-1!==t.inArray(i.split(/[ ,]/),"advlist")})(e)||(e.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:n("OL")}),e.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:n("UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(t){var n=t.control;e.on("nodechange",(function(){var t=l.getSelectedListItems(e),i=t.length>0&&s.isFirstChild(t[0]);n.disabled(i)}))}})}(e),a.setup(e),e.on("init",(function(){(function(e){e.on("BeforeExecCommand",(function(t){var n,o=t.command.toLowerCase();if("indent"===o?i.indentSelection(e)&&(n=!0):"outdent"===o&&r.outdentSelection(e)&&(n=!0),n)return e.fire("ExecCommand",{command:t.command}),t.preventDefault(),!0})),e.addCommand("InsertUnorderedList",(function(t,n){o.toggleList(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){o.toggleList(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){o.toggleList(e,"DL",n)}))})(e),function(e){e.addQueryStateHandler("InsertUnorderedList",c(e,"UL")),e.addQueryStateHandler("InsertOrderedList",c(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",c(e,"DL"))}(e),e.getParam("lists_indent_on_tab",!0)&&function(e){e.on("keydown",(function(t){9!==t.keyCode||n.metaKeyPressed(t)||e.dom.getParent(e.selection.getStart(),"LI,DT,DD")&&(t.preventDefault(),t.shiftKey?r.outdentSelection(e):i.indentSelection(e))}))}(e)})),{backspaceDelete:function(t){a.backspaceDelete(e,t)}}})),function(){}})),n("0")()}()},80227:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("8",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["8"],(function(e){return e("tinymce.html.Node")})),i("2",["8"],(function(e){return e("tinymce.PluginManager")})),i("3",["8"],(function(e){return e("tinymce.util.Tools")})),i("9",["8"],(function(e){return e("tinymce.html.Writer")})),i("a",["8"],(function(e){return e("tinymce.html.SaxParser")})),i("b",["8"],(function(e){return e("tinymce.html.Schema")})),i("5",["3","9","a","b"],(function(e,t,n,i){return{sanitize:function(e,r){if(!1===e.settings.media_filter_html)return r;var o,a=new t;return new n({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){a.comment(e)},cdata:function(e){a.cdata(e)},text:function(e,t){a.text(e,t)},start:function(t,n,i){if(o=!0,"script"!==t&&"noscript"!==t){for(var r=0;r<n.length;r++){if(0===n[r].name.indexOf("on"))return;"style"===n[r].name&&(n[r].value=e.dom.serializeStyle(e.dom.parseStyle(n[r].value),t))}a.start(t,n,i),o=!1}},end:function(e){o||a.end(e)}},new i({})).parse(r),a.getContent()}}})),i("c",[],(function(){return{getVideoScriptMatch:function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}}})),i("d",["8"],(function(e){return e("tinymce.Env")})),i("4",["5","c","1","d"],(function(e,t,n,i){var r=function(e,t){var r,o=t.name;return(r=new n("img",1)).shortEnded=!0,a(e,t,r),r.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===o?"30":"150"),style:t.attr("style"),src:i.transparentSrc,"data-mce-object":o,class:"mce-object mce-object-"+o}),r},o=function(e,t){var i,r,o,s=t.name;return(i=new n("span",1)).attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":s,class:"mce-preview-object mce-object-"+s}),a(e,t,i),(r=new n(s,1)).attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),width:t.attr("width")||"300",height:t.attr("height")||("audio"===s?"30":"150"),frameborder:"0"}),(o=new n("span",1)).attr("class","mce-shim"),i.append(r),i.append(o),i},a=function(t,n,i){var r,o,a,s,l;for(s=(a=n.attributes).length;s--;)r=a[s].name,o=a[s].value,"width"!==r&&"height"!==r&&"style"!==r&&("data"!==r&&"src"!==r||(o=t.convertURL(o,r)),i.attr("data-mce-p-"+r,o));(l=n.firstChild&&n.firstChild.value)&&(i.attr("data-mce-html",escape(e.sanitize(t,l))),i.firstChild=null)},s=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri"))return!0;return!1};return{createPreviewIframeNode:o,createPlaceholderNode:r,placeHolderConverter:function(e){return function(n){for(var a,l,c=n.length;c--;)(a=n[c]).parent&&(a.parent.attr("data-mce-object")||("script"!==a.name||(l=t.getVideoScriptMatch(e.settings.media_scripts,a.attr("src"))))&&(l&&(l.width&&a.attr("width",l.width.toString()),l.height&&a.attr("height",l.height.toString())),"iframe"===a.name&&!1!==e.settings.media_live_embeds&&i.ceFalse?s(a)||a.replace(o(e,a)):s(a)||a.replace(r(e,a))))}}}})),i("e",["8"],(function(e){return e("tinymce.dom.DOMUtils")})),i("f",[],(function(){var e=function(e){return function(t){return t?function(e){return e.replace(/px$/,"")}(t.style[e]):""}},t=function(e){return function(t,n){t&&(t.style[e]=function(e){return/^[0-9.]+$/.test(e)?e+"px":e}(n))}};return{getMaxWidth:e("maxWidth"),getMaxHeight:e("maxHeight"),setMaxWidth:t("maxWidth"),setMaxHeight:t("maxHeight")}})),i("6",["9","a","b","e","f"],(function(e,t,n,i,r){var o=i.DOM,a=function(e,t){var n,i,r,o;for(n in t)if(r=""+t[n],e.map[n])for(i=e.length;i--;)(o=e[i]).name===n&&(r?(e.map[n]=r,o.value=r):(delete e.map[n],e.splice(i,1)));else r&&(e.push({name:n,value:r}),e.map[n]=r)},s=function(n){var i=new e;return new t(i).parse(n),i.getContent()},l=function(i,r,o){var s,l=new e,c=0;return new t({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){l.comment(e)},cdata:function(e){l.cdata(e)},text:function(e,t){l.text(e,t)},start:function(e,t,n){switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==r.height&&void 0!==r.width&&a(t,{width:r.width,height:r.height})}if(o)switch(e){case"video":a(t,{poster:r.poster,src:""}),r.source2&&a(t,{src:""});break;case"iframe":a(t,{src:r.source1});break;case"source":if(++c<=2&&(a(t,{src:r["source"+c],type:r["source"+c+"mime"]}),!r["source"+c]))return;break;case"img":if(!r.poster)return;s=!0}l.start(e,t,n)},end:function(e){if("video"===e&&o)for(var t=1;t<=2;t++)if(r["source"+t]){var n=[];n.map={},c<t&&(a(n,{src:r["source"+t],type:r["source"+t+"mime"]}),l.start("source",n,!0))}if(r.poster&&"object"===e&&o&&!s){var i=[];i.map={},a(i,{src:r.poster,width:r.width,height:r.height}),l.start("img",i,!0)}l.end(e)}},new n({})).parse(i),l.getContent()};return{updateHtml:function(e,t,n){return function(e){var t=o.createFragment(e);return""!==o.getAttrib(t.firstChild,"data-ephox-embed-iri")}(e)?function(e,t){var n=o.createFragment(e).firstChild;return r.setMaxWidth(n,t.width),r.setMaxHeight(n,t.height),s(n.outerHTML)}(e,t):l(e,t,n)}}})),i("g",["8"],(function(e){return e("tinymce.util.Delay")})),i("h",["3","a","b","e","c","f"],(function(e,t,n,i,r,o){var a=i.DOM,s=function(e){return a.getAttrib(e,"data-ephox-embed-iri")},l=function(n,i){var o={};return new t({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(t,i){if(o.source1||"param"!==t||(o.source1=i.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(o.type||(o.type=t),o=e.extend(i.map,o)),"script"===t){var a=r.getVideoScriptMatch(n,i.map.src);if(!a)return;o={type:"script",source1:i.map.src,width:a.width,height:a.height}}"source"===t&&(o.source1?o.source2||(o.source2=i.map.src):o.source1=i.map.src),"img"!==t||o.poster||(o.poster=i.map.src)}}).parse(i),o.source1=o.source1||o.src||o.data,o.source2=o.source2||"",o.poster=o.poster||"",o};return{htmlToData:function(e,t){return function(e){var t=a.createFragment(e);return""!==s(t.firstChild)}(t)?function(e){var t=a.createFragment(e).firstChild;return{type:"ephox-embed-iri",source1:s(t),source2:"",poster:"",width:o.getMaxWidth(t),height:o.getMaxHeight(t)}}(t):l(e,t)}}})),i("m",[],(function(){return{guess:function(e){return{mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()]||""}}})),i("n",[],(function(){return{urlPatterns:[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\-_]+(?:\?.+)?)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowfullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowfullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}]}})),i("k",["m","h","n","c","6","3"],(function(e,t,n,i,r,o){return{dataToHtml:function(a,s){var l="",c=o.extend({},s);if(!c.source1&&(o.extend(c,t.htmlToData(a.settings.media_scripts,c.embed)),!c.source1))return"";if(c.source2||(c.source2=""),c.poster||(c.poster=""),c.source1=a.convertURL(c.source1,"source"),c.source2=a.convertURL(c.source2,"source"),c.source1mime=e.guess(c.source1),c.source2mime=e.guess(c.source2),c.poster=a.convertURL(c.poster,"poster"),o.each(n.urlPatterns,(function(e){var t,n,i=e.regex.exec(c.source1);if(i){for(n=e.url,t=0;i[t];t++)n=n.replace("$"+t,(function(){return i[t]}));c.source1=n,c.type=e.type,c.allowFullscreen=e.allowFullscreen,c.width=c.width||e.w,c.height=c.height||e.h}})),c.embed)l=r.updateHtml(c.embed,c,!0);else{var u=i.getVideoScriptMatch(a.settings.media_scripts,c.source1);if(u&&(c.type="script",c.width=u.width,c.height=u.height),c.width=c.width||300,c.height=c.height||150,o.each(c,(function(e,t){c[t]=a.dom.encode(e)})),"iframe"===c.type){var d=c.allowFullscreen?' allowFullscreen="1"':"";l+='<iframe src="'+c.source1+'" width="'+c.width+'" height="'+c.height+'"'+d+"></iframe>"}else"application/x-shockwave-flash"===c.source1mime?(l+='<object data="'+c.source1+'" width="'+c.width+'" height="'+c.height+'" type="application/x-shockwave-flash">',c.poster&&(l+='<img src="'+c.poster+'" width="'+c.width+'" height="'+c.height+'" />'),l+="</object>"):-1!==c.source1mime.indexOf("audio")?a.settings.audio_template_callback?l=a.settings.audio_template_callback(c):l+='<audio controls="controls" src="'+c.source1+'">'+(c.source2?'\n<source src="'+c.source2+'"'+(c.source2mime?' type="'+c.source2mime+'"':"")+" />\n":"")+"</audio>":"script"===c.type?l+='<script src="'+c.source1+'"><\/script>':l=a.settings.video_template_callback?a.settings.video_template_callback(c):'<video width="'+c.width+'" height="'+c.height+'"'+(c.poster?' poster="'+c.poster+'"':"")+' controls="controls">\n<source src="'+c.source1+'"'+(c.source1mime?' type="'+c.source1mime+'"':"")+" />\n"+(c.source2?'<source src="'+c.source2+'"'+(c.source2mime?' type="'+c.source2mime+'"':"")+" />\n":"")+"</video>"}return l}}})),i("l",["8"],(function(e){return e("tinymce.util.Promise")})),i("i",["k","l"],(function(e,t){var n=function(e,n,i){var r={};return new t((function(t,o){var a=function(i){return i.html&&(r[e.source1]=i),t({url:e.source1,html:i.html?i.html:n(e)})};r[e.source1]?a(r[e.source1]):i({url:e.source1},a,o)}))},i=function(e,n){return new t((function(t){t({html:n(e),url:e.source1})}))},r=function(t){return function(n){return e.dataToHtml(t,n)}};return{getEmbedHtml:function(e,t){var o=e.settings.media_url_resolver;return o?n(t,r(e),o):i(t,r(e))}}})),i("j",[],(function(){var e=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},t=function(e,t){var n=e.find("#width")[0],i=e.find("#height")[0],r=e.find("#constrain")[0];n&&i&&r&&t(n,i,r.checked())},n=function(t,n,i){var r=t.state.get("oldVal"),o=n.state.get("oldVal"),a=t.value(),s=n.value();i&&r&&o&&a&&s&&(a!==r?(s=Math.round(a/r*s),isNaN(s)||n.value(s)):(a=Math.round(s/o*a),isNaN(a)||t.value(a))),e(t,n)},i=function(e){t(e,n)};return{createUi:function(e){var t=function(){e((function(e){i(e)}))};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},syncSize:function(n){t(n,e)},updateSize:i}})),i("7",["g","h","6","i","f","3","d","j"],(function(e,t,n,i,r,o,a,s){var l=a.ie&&a.ie<=8?"onChange":"onInput",c=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},u=function(e){var n=e.selection.getNode(),i=n.getAttribute("data-ephox-embed-iri");return i?{source1:i,"data-ephox-embed-iri":i,width:r.getMaxWidth(n),height:r.getMaxHeight(n)}:n.getAttribute("data-mce-object")?t.htmlToData(e.settings.media_scripts,e.serializer.serialize(n,{selection:!0})):{}},d=function(e){var t=e.selection.getNode();if(t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri"))return e.selection.getContent()},h=function(e,n){return function(i){var r=i.html,a=e.find("#embed")[0],l=o.extend(t.htmlToData(n.settings.media_scripts,r),{source1:i.url});e.fromJSON(l),a&&(a.value(r),s.updateSize(e))}},f=function(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),function(e,t){var n,i,r=e.dom.select("img[data-mce-object]");for(n=0;n<t.length;n++)for(i=r.length-1;i>=0;i--)t[n]===r[i]&&r.splice(i,1);e.selection.select(r[0])}(e,n),e.nodeChanged()},p=function(e,t){var r=e.toJSON();r.embed=n.updateHtml(r.embed,r),r.embed?f(t,r.embed):i.getEmbedHtml(t,r).then((function(e){f(t,e.html)})).catch(c(t))};return{showDialog:function(e){var r,a,f=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout((function(){i.getEmbedHtml(e,r.toJSON()).then(h(r,e)).catch(c(e))}),1)},onchange:function(t){i.getEmbedHtml(e,r.toJSON()).then(h(r,e)).catch(c(e)),function(e,t){o.each(t,(function(t,n){e.find("#"+n).value(t)}))}(r,t.meta)},onbeforecall:function(e){e.meta=r.toJSON()}}],A=[];if(!1!==e.settings.media_alt_source&&A.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),!1!==e.settings.media_poster&&A.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),!1!==e.settings.media_dimensions){var g=s.createUi((function(e){e(r),a=r.toJSON(),r.find("#embed").value(n.updateHtml(a.embed,a))}));f.push(g)}a=u(e);var m={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:d(e),multiline:!0,rows:5,label:"Source"};m[l]=function(){a=o.extend({},t.htmlToData(e.settings.media_scripts,this.value())),this.parent().parent().fromJSON(a)},r=e.windowManager.open({title:"Insert/edit media",data:a,bodyType:"tabpanel",body:[{title:"General",type:"form",items:f},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},m]},{title:"Advanced",type:"form",items:A}],onSubmit:function(){s.updateSize(r),p(r,e)}}),s.syncSize(r)}}})),i("0",["1","2","3","4","5","6","7"],(function(e,t,n,i,r,o,a){return t.add("media",(function(t){t.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})),t.on("preInit",(function(){var o=t.schema.getSpecialElements();n.each("video audio iframe object".split(" "),(function(e){o[e]=new RegExp("</"+e+"[^>]*>","gi")}));var a=t.schema.getBoolAttrs();n.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){a[e]={}})),t.parser.addNodeFilter("iframe,video,audio,object,embed,script",i.placeHolderConverter(t)),t.serializer.addAttributeFilter("data-mce-object",(function(n,i){for(var o,a,s,l,c,u,d,h,f=n.length;f--;)if((o=n[f]).parent){for(d=o.attr(i),a=new e(d,1),"audio"!==d&&"script"!==d&&((h=o.attr("class"))&&-1!==h.indexOf("mce-preview-object")?a.attr({width:o.firstChild.attr("width"),height:o.firstChild.attr("height")}):a.attr({width:o.attr("width"),height:o.attr("height")})),a.attr({style:o.attr("style")}),s=(l=o.attributes).length;s--;){var p=l[s].name;0===p.indexOf("data-mce-p-")&&a.attr(p.substr(11),l[s].value)}"script"===d&&a.attr("type","text/javascript"),(c=o.attr("data-mce-html"))&&((u=new e("#text",3)).raw=!0,u.value=r.sanitize(t,unescape(c)),a.append(u)),o.replace(a)}}))})),t.on("click keyup",(function(){var e=t.selection.getNode();e&&t.dom.hasClass(e,"mce-preview-object")&&t.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")})),t.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()})),t.on("objectResized",(function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"))&&(t=unescape(t),n.setAttribute("data-mce-html",escape(o.updateHtml(t,{width:e.width,height:e.height}))))})),this.showDialog=function(){a.showDialog(t)},t.addButton("media",{tooltip:"Insert/edit media",onclick:this.showDialog,stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),t.addMenuItem("media",{icon:"media",text:"Media",onclick:this.showDialog,context:"insert",prependToContext:!0}),t.on("setContent",(function(){t.$("span.mce-preview-object").each((function(e,n){var i=t.$(n);0===i.find("span.mce-shim",n).length&&i.append('<span class="mce-shim"></span>')}))})),t.addCommand("mceMedia",this.showDialog)})),function(){}})),n("0")()}()},95504:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("4",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["4"],(function(e){return e("tinymce.PluginManager")})),i("2",["4"],(function(e){return e("tinymce.util.Tools")})),i("3",[],(function(){function e(e){return e&&1==e.nodeType&&"false"===e.contentEditable}return{findAndReplaceDOMText:function(t,n,i,r,o){function a(e,t){if(t=t||0,!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var n=e.index;if(t>0){var i=e[t];if(!i)throw"Invalid capture group";n+=e[0].indexOf(i),e[0]=i}return[n,n+e[0].length,[e[0]]]}var s,l,c,u,d,h,f=[],p=0;if(c=n.ownerDocument,u=o.getBlockElements(),d=o.getWhiteSpaceElements(),h=o.getShortEndedElements(),l=function t(n){var i;if(3===n.nodeType)return n.data;if(d[n.nodeName]&&!u[n.nodeName])return"";if(i="",e(n))return"\n";if((u[n.nodeName]||h[n.nodeName])&&(i+="\n"),n=n.firstChild)do{i+=t(n)}while(n=n.nextSibling);return i}(n)){if(t.global)for(;s=t.exec(l);)f.push(a(s,r));else s=l.match(t),f.push(a(s,r));return f.length&&(p=f.length,function(t,n,i){var r,o,a,s,l=[],c=0,f=t,p=n.shift(),A=0;e:for(;;){if((u[f.nodeName]||h[f.nodeName]||e(f))&&c++,3===f.nodeType&&(!o&&f.length+c>=p[1]?(o=f,s=p[1]-c):r&&l.push(f),!r&&f.length+c>p[0]&&(r=f,a=p[0]-c),c+=f.length),r&&o){if(f=i({startNode:r,startNodeIndex:a,endNode:o,endNodeIndex:s,innerNodes:l,match:p[2],matchIndex:A}),c-=o.length-s,r=null,o=null,l=[],A++,!(p=n.shift()))break}else if(d[f.nodeName]&&!u[f.nodeName]||!f.firstChild){if(f.nextSibling){f=f.nextSibling;continue}}else if(!e(f)){f=f.firstChild;continue}for(;;){if(f.nextSibling){f=f.nextSibling;break}if(f.parentNode===t)break e;f=f.parentNode}}}(n,f,function(e){var t;if("function"!=typeof e){var n=e.nodeType?e:c.createElement(e);t=function(e,t){var i=n.cloneNode(!1);return i.setAttribute("data-mce-index",t),e&&i.appendChild(c.createTextNode(e)),i}}else t=e;return function(e){var n,i,r,o=e.startNode,a=e.endNode,s=e.matchIndex;if(o===a){var l=o;r=l.parentNode,e.startNodeIndex>0&&(n=c.createTextNode(l.data.substring(0,e.startNodeIndex)),r.insertBefore(n,l));var u=t(e.match[0],s);return r.insertBefore(u,l),e.endNodeIndex<l.length&&(i=c.createTextNode(l.data.substring(e.endNodeIndex)),r.insertBefore(i,l)),l.parentNode.removeChild(l),u}n=c.createTextNode(o.data.substring(0,e.startNodeIndex)),i=c.createTextNode(a.data.substring(e.endNodeIndex));for(var d=t(o.data.substring(e.startNodeIndex),s),h=[],f=0,p=e.innerNodes.length;f<p;++f){var A=e.innerNodes[f],g=t(A.data,s);A.parentNode.replaceChild(g,A),h.push(g)}var m=t(a.data.substring(0,e.endNodeIndex),s);return(r=o.parentNode).insertBefore(n,o),r.insertBefore(d,o),r.removeChild(o),(r=a.parentNode).insertBefore(m,a),r.insertBefore(i,a),r.removeChild(a),m}}(i))),p}}}})),i("0",["1","2","3"],(function(e,t,n){return e.add("searchreplace",(function(e){function i(){function n(){a.statusbar.find("#next").disabled(!s(h+1).length),a.statusbar.find("#prev").disabled(!s(h-1).length)}function i(){e.windowManager.alert("Could not find the specified string.",(function(){a.find("#find")[0].focus()}))}var r,o={};r=t.trim(e.selection.getContent({format:"text"}));var a=e.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){e.focus(),d.done()},onSubmit:function(e){var t,r,l,c;return e.preventDefault(),r=a.find("#case").checked(),c=a.find("#words").checked(),(l=a.find("#find").value()).length?o.text==l&&o.caseState==r&&o.wholeWord==c?0===s(h+1).length?void i():(d.next(),void n()):((t=d.find(l,r,c))||i(),a.statusbar.items().slice(1).disabled(0===t),n(),void(o={text:l,caseState:r,wholeWord:c})):(d.done(!1),void a.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){a.submit()}},{text:"Replace",disabled:!0,onclick:function(){d.replace(a.find("#replace").value())||(a.statusbar.items().slice(1).disabled(!0),h=-1,o={})}},{text:"Replace all",disabled:!0,onclick:function(){d.replace(a.find("#replace").value(),!0,!0),a.statusbar.items().slice(1).disabled(!0),o={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){d.prev(),n()}},{text:"Next",name:"next",disabled:!0,onclick:function(){d.next(),n()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:r},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}function r(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function o(t){var i,r;return(r=e.dom.create("span",{"data-mce-bogus":1})).className="mce-match-marker",i=e.getBody(),d.done(!1),n.findAndReplaceDOMText(t,i,r,!1,e.schema)}function a(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function s(n){var i,o=[];if((i=t.toArray(e.getBody().getElementsByTagName("span"))).length)for(var a=0;a<i.length;a++){var s=r(i[a]);null!==s&&s.length&&s===n.toString()&&o.push(i[a])}return o}function l(t){var n=h,i=e.dom;(t=!1!==t)?n++:n--,i.removeClass(s(h),"mce-match-marker-selected");var r=s(n);return r.length?(i.addClass(s(n),"mce-match-marker-selected"),e.selection.scrollIntoView(r[0]),n):-1}function c(t){var n=e.dom,i=t.parentNode;n.remove(t),n.isEmpty(i)&&n.remove(i)}function u(e){var t=r(e);return null!==t&&t.length>0}var d=this,h=-1;d.init=function(e){e.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:i,separator:"before",context:"edit"}),e.addButton("searchreplace",{tooltip:"Find and replace",shortcut:"Meta+F",onclick:i}),e.addCommand("SearchReplace",i),e.shortcuts.add("Meta+F","",i)},d.find=function(e,t,n){e=(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")).replace(/\s/g,"\\s"),e=n?"\\b"+e+"\\b":e;var i=o(new RegExp(e,t?"g":"gi"));return i&&(h=-1,h=l(!0)),i},d.next=function(){var e=l(!0);-1!==e&&(h=e)},d.prev=function(){var e=l(!1);-1!==e&&(h=e)},d.replace=function(n,i,o){var l,f,p,A,g,m,v=h;for(i=!1!==i,p=e.getBody(),f=t.grep(t.toArray(p.getElementsByTagName("span")),u),l=0;l<f.length;l++){var y=r(f[l]);if(A=g=parseInt(y,10),o||A===h){for(n.length?(f[l].firstChild.nodeValue=n,a(f[l])):c(f[l]);f[++l];){if((A=parseInt(r(f[l]),10))!==g){l--;break}c(f[l])}i&&v--}else g>h&&f[l].setAttribute("data-mce-index",g-1)}return e.undoManager.add(),h=v,i?(m=s(v+1).length>0,d.next()):(m=s(v-1).length>0,d.prev()),!o&&m},d.done=function(n){var i,o,s,l;for(o=t.toArray(e.getBody().getElementsByTagName("span")),i=0;i<o.length;i++){var c=r(o[i]);null!==c&&c.length&&(c===h.toString()&&(s||(s=o[i].firstChild),l=o[i].firstChild),a(o[i]))}if(s&&l){var u=e.dom.createRng();return u.setStart(s,0),u.setEnd(l,l.data.length),!1!==n&&e.selection.setRng(u),u}}})),function(){}})),n("0")()}()},95961:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("9",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["9"],(function(e){return e("tinymce.dom.DOMUtils")})),i("2",["9"],(function(e){return e("tinymce.PluginManager")})),i("3",["9"],(function(e){return e("tinymce.ui.Factory")})),i("4",["9"],(function(e){return e("tinymce.util.JSON")})),i("5",["9"],(function(e){return e("tinymce.util.Tools")})),i("6",["9"],(function(e){return e("tinymce.util.URI")})),i("7",["9"],(function(e){return e("tinymce.util.XHR")})),i("8",[],(function(){function e(e){return e&&1==e.nodeType&&"false"===e.contentEditable}return function(t,n){function i(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function r(t,n,i){var r,o,a,s,l,c=[],u=0,d=t,h=0;(n=n.slice(0)).sort((function(e,t){return e.start-t.start})),l=n.shift();e:for(;;){if((f[d.nodeName]||A[d.nodeName]||e(d))&&u++,3===d.nodeType&&(!o&&d.length+u>=l.end?(o=d,s=l.end-u):r&&c.push(d),!r&&d.length+u>l.start&&(r=d,a=l.start-u),u+=d.length),r&&o){if(d=i({startNode:r,startNodeIndex:a,endNode:o,endNodeIndex:s,innerNodes:c,match:l.text,matchIndex:h}),u-=o.length-s,r=null,o=null,c=[],h++,!(l=n.shift()))break}else if(p[d.nodeName]&&!f[d.nodeName]||!d.firstChild){if(d.nextSibling){d=d.nextSibling;continue}}else if(!e(d)){d=d.firstChild;continue}for(;;){if(d.nextSibling){d=d.nextSibling;break}if(d.parentNode===t)break e;d=d.parentNode}}}function o(e){e.parentNode.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function a(e){var n=t.getElementsByTagName("*"),i=[];e="number"==typeof e?""+e:null;for(var r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-mce-index");null!==a&&a.length&&(a!==e&&null!==e||i.push(o))}return i}function s(e){for(var t=g.length;t--;)if(g[t]===e)return t;return-1}function l(e){for(var t=0,n=g.length;t<n&&!1!==e(g[t],t);t++);return this}function c(e){var t,n=a(e?s(e):null);for(t=n.length;t--;)o(n[t]);return this}function u(e){var t=a(s(e)),i=n.dom.createRng();return i.setStartBefore(t[0]),i.setEndAfter(t[t.length-1]),i}var d,h,f,p,A,g=[],m=n.dom;return f=n.schema.getBlockElements(),p=n.schema.getWhiteSpaceElements(),A=n.schema.getShortEndedElements(),h=function t(n){var i;if(3===n.nodeType)return n.data;if(p[n.nodeName]&&!f[n.nodeName])return"";if(e(n))return"\n";if(i="",(f[n.nodeName]||A[n.nodeName])&&(i+="\n"),n=n.firstChild)do{i+=t(n)}while(n=n.nextSibling);return i}(t),{text:h,matches:g,each:l,filter:function(e){var t=[];return l((function(n,i){e(n,i)&&t.push(n)})),g=t,this},reset:function(){return g.splice(0,g.length),c(),this},matchFromElement:function(e){return g[e.getAttribute("data-mce-index")]},elementFromMatch:function(e){return a(s(e))[0]},find:function(e,t){if(h&&e.global)for(;d=e.exec(h);)g.push(i(d,t));return this},add:function(e,t,n){return g.push({start:e,end:e+t,text:h.substr(e,t),data:n}),this},wrap:function(e){return g.length&&r(t,g,function(e){function t(t,n){var i=g[n];i.stencil||(i.stencil=e(i));var r=i.stencil.cloneNode(!1);return r.setAttribute("data-mce-index",n),t&&r.appendChild(m.doc.createTextNode(t)),r}return function(e){var n,i,r,o=e.startNode,a=e.endNode,s=e.matchIndex,l=m.doc;if(o===a){var c=o;r=c.parentNode,e.startNodeIndex>0&&(n=l.createTextNode(c.data.substring(0,e.startNodeIndex)),r.insertBefore(n,c));var u=t(e.match,s);return r.insertBefore(u,c),e.endNodeIndex<c.length&&(i=l.createTextNode(c.data.substring(e.endNodeIndex)),r.insertBefore(i,c)),c.parentNode.removeChild(c),u}n=l.createTextNode(o.data.substring(0,e.startNodeIndex)),i=l.createTextNode(a.data.substring(e.endNodeIndex));for(var d=t(o.data.substring(e.startNodeIndex),s),h=[],f=0,p=e.innerNodes.length;f<p;++f){var A=e.innerNodes[f],g=t(A.data,s);A.parentNode.replaceChild(g,A),h.push(g)}var v=t(a.data.substring(0,e.endNodeIndex),s);return(r=o.parentNode).insertBefore(n,o),r.insertBefore(d,o),r.removeChild(o),(r=a.parentNode).insertBefore(v,a),r.insertBefore(i,a),r.removeChild(a),v}}(e)),this},unwrap:c,replace:function(e,t){var i=u(e);return i.deleteContents(),t.length>0&&i.insertNode(n.dom.doc.createTextNode(t)),i},rangeFromMatch:u,indexOf:s}}})),i("0",["1","2","3","4","5","6","7","8"],(function(e,t,n,i,r,o,a,s){return t.add("spellchecker",(function(l,c){function u(){return S.textMatcher||(S.textMatcher=new s(l.getBody(),l)),S.textMatcher}function d(t,i){var o=[],a=x[t];r.each(a,(function(e){o.push({text:e,onclick:function(){l.insertContent(l.dom.encode(e)),l.dom.remove(i),g()}})})),o.push({text:"-"}),k&&o.push({text:"Add to Dictionary",onclick:function(){!function(e,t){l.setProgressState(!0),p("addToDictionary",e,(function(){l.setProgressState(!1),l.dom.remove(t,!0),g()}),(function(e){l.notificationManager.open({text:e,type:"error"}),l.setProgressState(!1)}))}(t,i)}}),o.push.apply(o,[{text:"Ignore",onclick:function(){m(t,i)}},{text:"Ignore all",onclick:function(){m(t,i,!0)}}]),_=n.create("menu",{items:o,context:"contextmenu",onautohide:function(e){-1!=e.target.className.indexOf("spellchecker")&&e.preventDefault()},onhide:function(){_.remove(),_=null}}),_.renderTo(document.body);var s=e.DOM.getPos(l.getContentAreaContainer()),c=l.dom.getPos(i[0]),u=l.dom.getRoot();"BODY"==u.nodeName?(c.x-=u.ownerDocument.documentElement.scrollLeft||u.scrollLeft,c.y-=u.ownerDocument.documentElement.scrollTop||u.scrollTop):(c.x-=u.scrollLeft,c.y-=u.scrollTop),s.x+=c.x,s.y+=c.y,_.moveTo(s.x,s.y+i[0].offsetHeight)}function h(){return l.getParam("spellchecker_wordchar_pattern")||new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`]+',"g")}function f(e,t,n,s){var u={method:e,lang:E.spellchecker_language},d="";u["addToDictionary"==e?"word":"text"]=t,r.each(u,(function(e,t){d&&(d+="&"),d+=t+"="+encodeURIComponent(e)})),a.send({url:new o(c).toAbsolute(E.spellchecker_rpc_url),type:"post",content_type:"application/x-www-form-urlencoded",data:d,success:function(e){if(e=i.parse(e))e.error?s(e.error):n(e);else{var t=l.translate("Server response wasn't proper JSON.");s(t)}},error:function(){var e=l.translate("The spelling service was not found: (")+E.spellchecker_rpc_url+l.translate(")");s(e)}})}function p(e,t,n,i){(E.spellchecker_callback||f).call(S,e,t,n,i)}function A(){v()||(l.setProgressState(!0),p("spellcheck",u().text,b,(function(e){l.notificationManager.open({text:e,type:"error"}),l.setProgressState(!1),v()})),l.focus())}function g(){l.dom.select("span.mce-spellchecker-word").length||v()}function m(e,t,n){l.selection.collapse(),n?r.each(l.dom.select("span.mce-spellchecker-word"),(function(t){t.getAttribute("data-mce-word")==e&&l.dom.remove(t,!0)})):l.dom.remove(t,!0),g()}function v(){if(u().reset(),S.textMatcher=null,C)return C=!1,l.fire("SpellcheckEnd"),!0}function y(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function b(e){var t;if(e.words?(k=!!e.dictionary,t=e.words):t=e,l.setProgressState(!1),function(e){for(var t in e)return!1;return!0}(t)){var n=l.translate("No misspellings found.");return l.notificationManager.open({text:n,type:"info"}),void(C=!1)}x=t,u().find(h()).filter((function(e){return!!t[e.text]})).wrap((function(e){return l.dom.create("span",{class:"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":e.text})})),C=!0,l.fire("SpellcheckStart")}var w,x,C,_,k,S=this,E=l.settings;if(/(^|[ ,])tinymcespellchecker([, ]|$)/.test(E.plugins)&&t.get("tinymcespellchecker"))"undefined"!=typeof console&&console.log&&console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option.");else{var T=E.spellchecker_languages||"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";w=function(e,t){var n=[];return r.each(t,(function(e){n.push({selectable:!0,text:e.name,data:e.value})})),n}(0,r.map(T.split(","),(function(e){return{name:(e=e.split("="))[0],value:e[1]}}))),l.on("click",(function(e){var t=e.target;if("mce-spellchecker-word"==t.className){e.preventDefault();var n=function(e){var t,n=[];if((t=r.toArray(l.getBody().getElementsByTagName("span"))).length)for(var i=0;i<t.length;i++){var o=y(t[i]);null!==o&&o.length&&o===e.toString()&&n.push(t[i])}return n}(y(t));if(n.length>0){var i=l.dom.createRng();i.setStartBefore(n[0]),i.setEndAfter(n[n.length-1]),l.selection.setRng(i),d(t.getAttribute("data-mce-word"),n)}}})),l.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:A,selectable:!0,onPostRender:function(){var e=this;e.active(C),l.on("SpellcheckStart SpellcheckEnd",(function(){e.active(C)}))}});var B={tooltip:"Spellcheck",onclick:A,onPostRender:function(){var e=this;l.on("SpellcheckStart SpellcheckEnd",(function(){e.active(C)}))}};w.length>1&&(B.type="splitbutton",B.menu=w,B.onshow=function(e){var t=E.spellchecker_language;e.control.items().each((function(e){e.active(e.settings.data===t)}))},B.onselect=function(e){E.spellchecker_language=e.control.settings.data}),l.addButton("spellchecker",B),l.addCommand("mceSpellCheck",A),l.on("remove",(function(){_&&(_.remove(),_=null)})),l.on("change",g),this.getTextMatcher=u,this.getWordCharPattern=h,this.markErrors=b,this.getLanguage=function(){return E.spellchecker_language},E.spellchecker_language=E.spellchecker_language||E.language||"en"}})),function(){}})),n("0")()}()},81696:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("c",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["c"],(function(e){return e("tinymce.dom.TreeWalker")})),i("2",["c"],(function(e){return e("tinymce.Env")})),i("3",["c"],(function(e){return e("tinymce.PluginManager")})),i("4",["c"],(function(e){return e("tinymce.util.Tools")})),i("5",["c"],(function(e){return e("tinymce.util.VK")})),i("a",["2"],(function(e){var t=function(e){return function(t,n){t&&(1===(n=parseInt(n,10))||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},n=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:t("colSpan"),setRowSpan:t("rowspan"),getColSpan:n("colSpan"),getRowSpan:n("rowSpan"),setSpanVal:function(e,n,i){t(n)(e,i)},getSpanVal:function(e,t){return n(t)(e)},paddCell:function(t){(!e.ie||e.ie>9)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus="1" />'))}}})),i("d",["4","a"],(function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},i=function(e,t,i){var r=n(e,t,i);return r?r.elm:null},r=function(e,t,r,o){var a,s=0,l=i(e,t,r);for(a=r;(o>0?a<e.length:a>=0)&&l===n(e,t,a).elm;a+=o)s++;return s},o=function(e,t,n){for(var i,r=e[n],o=t;o<r.length;o++)if((i=r[o]).real)return i.elm;return null},a=function(e,n){for(var i,o=[],a=e[n],s=0;s<a.length;s++)i=a[s],o.push({elm:i.elm,above:r(e,s,n,-1)-1,below:r(e,s,n,1)-1}),s+=t.getColSpan(i.elm)-1;return o},s=function(e,n){var i=e.elm.ownerDocument.createElement("td");return t.setColSpan(i,t.getColSpan(e.elm)),t.setRowSpan(i,n),t.paddCell(i),i},l=function(e,t,n,i){var r=o(e,n+1,i);r?r.parentNode.insertBefore(t,r):(r=o(e,0,i)).parentNode.appendChild(t)},c=function(e,n,i,r){if(0!==n.above){t.setRowSpan(n.elm,n.above);var o=s(n,n.below+1);return l(e,o,i,r),o}return null},u=function(e,n,i,r){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var o=s(n,n.below);return l(e,o,i,r+1),o}return null};return{splitAt:function(t,n,r,o){var s=a(t,r),l=i(t,n,r).parentNode,d=[];return e.each(s,(function(e,n){null!==(o?c(t,e,n,r):u(t,e,n,r))&&d.push(d)})),{cells:d,row:l}}}})),i("6",["4","2","a","d"],(function(e,t,n,i){var r=e.each,o=n.getSpanVal,a=n.setSpanVal;return function(s,l,c){function u(){s.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function d(e){return e===s.getBody()}function h(t,n){return t?(n=e.map(n.split(","),(function(e){return e.toLowerCase()})),e.grep(t.childNodes,(function(t){return-1!==e.inArray(n,t.nodeName.toLowerCase())}))):[]}function f(){var e=0;P=[],R=0,r(["thead","tbody","tfoot"],(function(t){var n=h(l,t)[0],i=h(n,"tr");r(i,(function(n,i){i+=e,r(h(n,"td,th"),(function(e,n){var r,a,s,l;if(P[i])for(;P[i][n];)n++;for(s=o(e,"rowspan"),l=o(e,"colspan"),a=i;a<i+s;a++)for(P[a]||(P[a]=[]),r=n;r<n+l;r++)P[a][r]={part:t,real:a==i&&r==n,elm:e,rowspan:s,colspan:l};R=Math.max(R,n+1)}))})),e+=i.length}))}function p(e){return s.fire("newrow",{node:e}),e}function A(e){return s.fire("newcell",{node:e}),e}function g(e,t){return(e=e.cloneNode(t)).removeAttribute("id"),e}function m(e,t){var n;if(n=P[t])return n[e]}function v(e,t){return e[t]?e[t]:null}function y(e,t){for(var n=[],i=0;i<e.length;i++)n.push(m(t,i));return n}function b(e){return e&&(!!H.getAttrib(e.elm,"data-mce-selected")||e==c)}function w(){var e=[];return r(l.rows,(function(t){r(t.cells,(function(n){if(H.getAttrib(n,"data-mce-selected")||c&&n==c.elm)return e.push(t),!1}))})),e}function x(i){var o,l={};return!1!==s.settings.table_clone_elements&&(l=e.makeMap((s.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),e.walk(i,(function(e){var n;if(3==e.nodeType)return r(H.getParents(e.parentNode,null,i).reverse(),(function(e){l[e.nodeName]&&(e=g(e,!1),o?n&&n.appendChild(e):o=n=e,n=e)})),n&&(n.innerHTML=t.ie&&t.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1}),"childNodes"),A(i=g(i,!1)),a(i,"rowSpan",1),a(i,"colSpan",1),o?i.appendChild(o):n.paddCell(i),i}function C(){var e,t=H.createRng();return r(H.select("tr",l),(function(e){0===e.cells.length&&H.remove(e)})),0===H.select("tr",l).length?(t.setStartBefore(l),t.setEndBefore(l),U.setRng(t),void H.remove(l)):(r(H.select("thead,tbody,tfoot",l),(function(e){0===e.rows.length&&H.remove(e)})),f(),void(O&&(e=P[Math.min(P.length-1,O.y)],e&&(U.select(e[Math.min(e.length-1,O.x)].elm,!0),U.collapse(!0)))))}function _(e,t,n,i){var r,o,a,s,l;for(r=P[t][e].elm.parentNode,a=1;a<=n;a++)if(r=H.getNext(r,"tr")){for(o=e;o>=0;o--)if((l=P[t+a][o].elm).parentNode==r){for(s=1;s<=i;s++)H.insertAfter(x(l),l);break}if(-1==o)for(s=1;s<=i;s++)r.insertBefore(x(r.cells[0]),r.cells[0])}}function k(){r(P,(function(e,t){r(e,(function(e,n){var i,r,s;if(b(e)&&(e=e.elm,i=o(e,"colspan"),r=o(e,"rowspan"),i>1||r>1)){for(a(e,"rowSpan",1),a(e,"colSpan",1),s=0;s<i-1;s++)H.insertAfter(x(e),e);_(n,t,r-1,i)}}))}))}function S(e,t,n){for(var i=[],r=0;r<e.length;r++)(r<t||r>n)&&i.push(e[r]);return i}function E(t){return e.grep(t,(function(e){return!1===e.real}))}function T(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].elm;t[t.length-1]!==i&&t.push(i)}return t}function B(t,i,r,o,a){var s=0;if(a-r<1)return 0;for(var l=r+1;l<=a;l++){var c=S(v(t,l),i,o),u=E(c);c.length===u.length&&(e.each(T(u),(function(e){n.setRowSpan(e,n.getRowSpan(e)-1)})),s++)}return s}function I(t,i,r,o,a){var s=0;if(o-i<1)return 0;for(var l=i+1;l<=o;l++){var c=S(y(t,l),r,a),u=E(c);c.length===u.length&&(e.each(T(u),(function(e){n.setColSpan(e,n.getColSpan(e)-1)})),s++)}return s}function D(e){var t,n,i,s,l,c,u,d,h,f;if(r(P,(function(n,i){if(r(n,(function(n){if(b(n)&&(n=n.elm,l=n.parentNode,c=p(g(l,!1)),t=i,e))return!1})),e)return void 0===t})),void 0!==t){for(s=0,f=0;s<P[0].length;s+=f)if(P[t][s]&&(n=P[t][s].elm,f=o(n,"colspan"),n!=i)){if(e){if(t>0&&P[t-1][s]&&(d=P[t-1][s].elm,(h=o(d,"rowSpan"))>1)){a(d,"rowSpan",h+1);continue}}else if((h=o(n,"rowspan"))>1){a(n,"rowSpan",h+1);continue}u=x(n),a(u,"colSpan",n.colSpan),c.appendChild(u),i=n}c.hasChildNodes()&&(e?l.parentNode.insertBefore(c,l):H.insertAfter(c,l))}}function F(e){var t,n;r(P,(function(n){if(r(n,(function(n,i){if(b(n)&&(t=i,e))return!1})),e)return void 0===t})),r(P,(function(i,r){var s,l,c;i[t]&&(s=i[t].elm)!=n&&(c=o(s,"colspan"),l=o(s,"rowspan"),1==c?e?(s.parentNode.insertBefore(x(s),s),_(t,r,l-1,c)):(H.insertAfter(x(s),s),_(t,r,l-1,c)):a(s,"colSpan",s.colSpan+1),n=s)}))}function M(e){var t=[];return r(e,(function(e){r(e,(function(e){t.push(e)}))})),t}function L(e){var t;return r(P,(function(n,i){return r(n,(function(n,r){if(n.elm==e)return t={x:r,y:i},!1})),!t})),t}var P,R,O,N,U=s.selection,H=U.dom;l=l||H.getParent(U.getStart(!0),"table"),f(),(c=c||H.getParent(U.getStart(!0),"th,td"))&&(O=L(c),N=function(){var e,t;return e=t=0,r(P,(function(n,i){r(n,(function(n,r){var o,a;b(n)&&(n=P[i][r],r>e&&(e=r),i>t&&(t=i),n.real&&(o=n.colspan-1,a=n.rowspan-1,o&&r+o>e&&(e=r+o),a&&i+a>t&&(t=i+a)))}))})),{x:e,y:t}}(),c=m(O.x,O.y)),e.extend(this,{deleteTable:function(){var e=H.createRng();d(l)||(e.setStartAfter(l),e.setEndAfter(l),U.setRng(e),H.remove(l))},split:k,merge:function(t,n,i){var o,s,l,c,u,d,h,p,A,g,v,y,w;if(t?(c=(s=(o=L(t)).x)+(n-1),u=(l=o.y)+(i-1)):(O=N=null,r(P,(function(e,t){r(e,(function(e,n){b(e)&&(O||(O={x:n,y:t}),N={x:n,y:t})}))})),O&&(s=O.x,l=O.y,c=N.x,u=N.y)),p=m(s,l),A=m(c,u),p&&A&&p.part==A.part){k(),f(),y=B(P,s,l,c,u),w=I(P,s,l,c,u),p=m(s,l).elm;var x=c-s-w+1,_=u-l-y+1;for(x===R&&_===P.length&&(x=1,_=1),x===R&&_>1&&(_=1),a(p,"colSpan",x),a(p,"rowSpan",_),h=l;h<=u;h++)for(d=s;d<=c;d++)P[h]&&P[h][d]&&(t=P[h][d].elm)!=p&&(g=e.grep(t.childNodes),r(g,(function(e){p.appendChild(e)})),g.length&&(g=e.grep(p.childNodes),v=0,r(g,(function(e){"BR"==e.nodeName&&v++<g.length-1&&p.removeChild(e)}))),H.remove(t));C()}},insertRow:D,insertRows:function(e,t){t=t||w().length||1;for(var n=0;n<t;n++)D(e)},insertCol:F,insertCols:function(e,t){t=t||function(){var e=0;return r(P,(function(t){if(r(t,(function(t){b(t)&&e++})),e)return!1})),e}()||1;for(var n=0;n<t;n++)F(e)},splitCols:function(t){if(O){var n=i.splitAt(P,O.x,O.y,t);e.each(n.cells,A)}},deleteCols:function(){var t=[];if(d(l)){if(1==P[0].length)return;if(function(t){return e.grep(M(t),b)}(P).length==M(P).length)return}r(P,(function(n){r(n,(function(n,i){b(n)&&-1===e.inArray(t,i)&&(r(P,(function(e){var t,n=e[i].elm;(t=o(n,"colSpan"))>1?a(n,"colSpan",t-1):H.remove(n)})),t.push(i))}))})),C()},deleteRows:function(){var e;e=w(),d(l)&&e.length==l.rows.length||(r(e.reverse(),(function(e){!function(e){var t,n;r(e.cells,(function(e){var n=o(e,"rowSpan");n>1&&(a(e,"rowSpan",n-1),_((t=L(e)).x,t.y,1,1))})),t=L(e.cells[0]),r(P[t.y],(function(e){var t;(e=e.elm)!=n&&((t=o(e,"rowSpan"))<=1?H.remove(e):a(e,"rowSpan",t-1),n=e)}))}(e)})),C())},cutRows:function(){var e=w();if(!d(l)||e.length!=l.rows.length)return H.remove(e),C(),e},copyRows:function(){var e=w();return r(e,(function(t,n){e[n]=g(t,!0)})),e},pasteRows:function(t,n){var s,l,c,d=[];t&&(s=i.splitAt(P,O.x,O.y,n),l=s.row,e.each(s.cells,A),c=e.map(t,(function(e){return e.cloneNode(!0)})),r(c,(function(e,t,i){var s,c,u,h,f=e.cells.length,g=0;for(p(e),s=0;s<f;s++)c=e.cells[s],h=o(c,"colspan"),u=o(c,"rowspan"),g+=h,u>1&&(g--,t+u>i.length?(u=i.length-t,a(c,"rowSpan",u),d.push(i.length-1)):d.push(t+u-1)),A(c);for(r(d,(function(e){t<=e&&g++})),s=g;s<R;s++)e.appendChild(x(e.cells[f-1]));for(s=R;s<g;s++)c=e.cells[e.cells.length-1],(h=o(c,"colspan"))>1?a(c,"colSpan",h-1):H.remove(c);n?l.parentNode.insertBefore(e,l):l=H.insertAfter(e,l)})),u())},getPos:L,setStartCell:function(e){O=L(e)},setEndCell:function(e){var t,n,i,r,o,a,s,l,c,d;if(N=L(e),O&&N){for(t=Math.min(O.x,N.x),n=Math.min(O.y,N.y),o=i=Math.max(O.x,N.x),a=r=Math.max(O.y,N.y),d=n;d<=r;d++)for(c=t;c<=i;c++)(e=P[d][c]).real&&((s=e.colspan-1)&&c+s>o&&(o=c+s),(l=e.rowspan-1)&&d+l>a&&(a=d+l));for(u(),d=n;d<=a;d++)for(c=t;c<=o;c++)P[d][c]&&H.setAttrib(P[d][c].elm,"data-mce-selected","1")}},moveRelIdx:function(e,t){var n,i,r;i=(n=L(e)).y*R+n.x;do{if(!(r=m((i+=t)%R,Math.floor(i/R))))break;if(r.elm!=e)return U.select(r.elm,!0),H.isEmpty(r.elm)&&U.collapse(!0),!0}while(r.elm==e);return!1},refresh:f})}})),i("7",["6","1","4"],(function(e,t,n){return function(i,r){function o(e){i.getBody().style.webkitUserSelect="",(e||A)&&(i.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),A=!1)}function a(e,t){return!(!e||!t)&&e===p.getParent(t,"table")}function s(t){var n,o,s=t.target;if(!h&&!f&&s!==d&&(d=s,u&&c)){if(o=p.getParent(s,"td,th"),a(u,o)||(o=p.getParent(u,"td,th")),c===o&&!A)return;if(r(!0),a(u,o)){t.preventDefault(),l||(l=new e(i,u,c),i.getBody().style.webkitUserSelect="none"),l.setEndCell(o),A=!0,n=i.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}var l,c,u,d,h,f,p=i.dom,A=!0,g=function(){c=l=u=d=null,r(!1)};return i.on("SelectionChange",(function(e){A&&e.stopImmediatePropagation()}),!0),i.on("MouseDown",(function(e){2==e.button||h||f||(o(),c=p.getParent(e.target,"td,th"),u=p.getParent(c,"table"))})),i.on("mouseover",s),i.on("remove",(function(){p.unbind(i.getDoc(),"mouseover",s),o()})),i.on("MouseUp",(function(){function e(e,i){var o=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(i?r.setStart(e,0):r.setEnd(e,e.nodeValue.length));if("BR"==e.nodeName)return void(i?r.setStartBefore(e):r.setEndBefore(e))}while(e=i?o.next():o.prev())}var r,o,a,s,u,d=i.selection;if(c){if(l&&(i.getBody().style.webkitUserSelect=""),(o=p.select("td[data-mce-selected],th[data-mce-selected]")).length>0){r=p.createRng(),s=o[0],r.setStartBefore(s),r.setEndAfter(s),e(s,1),a=new t(s,p.getParent(o[0],"table"));do{if("TD"==s.nodeName||"TH"==s.nodeName){if(!p.getAttrib(s,"data-mce-selected"))break;u=s}}while(s=a.next());e(u),d.setRng(r)}i.nodeChanged(),g()}})),i.on("KeyUp Drop SetContent",(function(e){o("setcontent"==e.type),g(),h=!1})),i.on("ObjectResizeStart ObjectResized",(function(e){h="objectresized"!=e.type})),i.on("dragstart",(function(){f=!0})),i.on("drop dragend",(function(){f=!1})),{clear:o}}})),i("8",["4","2"],(function(e,t){var n=e.each;return function(i){function r(){var e=i.settings.color_picker_callback;if(e)return function(){var t=this;e.call(i,(function(e){t.value(e).fire("change")}),t.value())}}function o(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){u(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:r()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:r()}]}]}}function a(e){return e?e.replace(/px$/,""):""}function s(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function l(e){n("left center right".split(" "),(function(t){i.formatter.remove("align"+t,{},e)}))}function c(t,n,i){return function t(i,r){return r=r||[],e.each(i,(function(e){var i={text:e.text||e.title};e.menu?i.menu=t(e.menu):(i.value=e.value,n&&n(i)),r.push(i)})),r}(t,i||[])}function u(e,t,n){var i=t.toJSON(),r=e.parseStyle(i.style);n?(t.find("#borderColor").value(r["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(r["background-color"]||"")[0].fire("change")):(r["border-color"]=i.borderColor,r["background-color"]=i.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(r))))}function d(e,t,n){var i=e.parseStyle(e.getAttrib(n,"style"));i["border-color"]&&(t.borderColor=i["border-color"]),i["background-color"]&&(t.backgroundColor=i["background-color"]),t.style=e.serializeStyle(i)}function h(e,t,i){var r=e.parseStyle(e.getAttrib(t,"style"));n(i,(function(e){r[e.name]=e.value})),e.setAttrib(t,"style",e.serializeStyle(e.parseStyle(e.serializeStyle(r))))}var f=this;f.tableProps=function(){f.table(!0)},f.table=function(r){function f(){function n(e,t,i){if("TD"===e.tagName||"TH"===e.tagName)w.setStyle(e,t,i);else if(e.children)for(var r=0;r<e.children.length;r++)n(e.children[r],t,i)}var r;u(w,this),!1===(x=e.extend(x,this.toJSON())).class&&delete x.class,i.undoManager.transact((function(){if(A||(A=i.plugins.table.insertTable(x.cols||1,x.rows||1)),i.dom.setAttribs(A,{style:x.style,class:x.class}),i.settings.table_style_by_css){if((b=[]).push({name:"border",value:x.border}),b.push({name:"border-spacing",value:s(x.cellspacing)}),h(w,A,b),w.setAttribs(A,{"data-mce-border-color":x.borderColor,"data-mce-cell-padding":x.cellpadding,"data-mce-border":x.border}),A.children)for(var e=0;e<A.children.length;e++)n(A.children[e],"border",x.border),n(A.children[e],"padding",s(x.cellpadding))}else i.dom.setAttribs(A,{border:x.border,cellpadding:x.cellpadding,cellspacing:x.cellspacing});w.getAttrib(A,"width")&&!i.settings.table_style_by_css?w.setAttrib(A,"width",a(x.width)):w.setStyle(A,"width",s(x.width)),w.setStyle(A,"height",s(x.height)),(r=w.select("caption",A)[0])&&!x.caption&&w.remove(r),!r&&x.caption&&((r=w.create("caption")).innerHTML=t.ie?"":'<br data-mce-bogus="1"/>',A.insertBefore(r,A.firstChild)),l(A),x.align&&i.formatter.apply("align"+x.align,{},A),i.focus(),i.addVisual()}))}function p(e,t){return function(e,n){for(var i=0;i<n.length;i++){var r=w.getStyle(n[i],t);if(void 0===e&&(e=r),e!=r)return""}return e}(undefined,i.dom.select("td,th",e))}var A,g,m,v,y,b,w=i.dom,x={};!0===r?(A=w.getParent(i.selection.getStart(),"table"))&&(x={width:a(w.getStyle(A,"width")||w.getAttrib(A,"width")),height:a(w.getStyle(A,"height")||w.getAttrib(A,"height")),cellspacing:a(w.getStyle(A,"border-spacing")||w.getAttrib(A,"cellspacing")),cellpadding:w.getAttrib(A,"data-mce-cell-padding")||w.getAttrib(A,"cellpadding")||p(A,"padding"),border:w.getAttrib(A,"data-mce-border")||w.getAttrib(A,"border")||p(A,"border"),borderColor:w.getAttrib(A,"data-mce-border-color"),caption:!!w.select("caption",A)[0],class:w.getAttrib(A,"class")},n("left center right".split(" "),(function(e){i.formatter.matchNode(A,"align"+e)&&(x.align=e)}))):(g={label:"Cols",name:"cols"},m={label:"Rows",name:"rows"}),i.settings.table_class_list&&(x.class&&(x.class=x.class.replace(/\s*mce\-item\-table\s*/g,"")),v={name:"class",type:"listbox",label:"Class",values:c(i.settings.table_class_list,(function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:"table",classes:[e.value]})})}))}),y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==i.settings.table_appearance_options?[g,m,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[g,m,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},v]},!1!==i.settings.table_advtab?(d(w,x,A),i.windowManager.open({title:"Table properties",data:x,bodyType:"tabpanel",body:[{title:"General",type:"form",items:y},o(w)],onsubmit:f})):i.windowManager.open({title:"Table properties",data:x,body:y,onsubmit:f})},f.merge=function(e,t){i.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var n=this.toJSON();i.undoManager.transact((function(){e.merge(t,n.cols,n.rows)}))}})},f.cell=function(){function t(e,t,n){(1===m.length||n)&&g.setAttrib(e,t,n)}function r(e,t,n){(1===m.length||n)&&g.setStyle(e,t,n)}function h(){u(g,this),p=e.extend(p,this.toJSON()),i.undoManager.transact((function(){n(m,(function(e){t(e,"scope",p.scope),t(e,"style",p.style),t(e,"class",p.class),r(e,"width",s(p.width)),r(e,"height",s(p.height)),p.type&&e.nodeName.toLowerCase()!==p.type&&(e=g.rename(e,p.type)),1===m.length&&(l(e),function(e){n("top middle bottom".split(" "),(function(t){i.formatter.remove("valign"+t,{},e)}))}(e)),p.align&&i.formatter.apply("align"+p.align,{},e),p.valign&&i.formatter.apply("valign"+p.valign,{},e)})),i.focus()}))}var f,p,A,g=i.dom,m=[];if(m=i.dom.select("td[data-mce-selected],th[data-mce-selected]"),f=i.dom.getParent(i.selection.getStart(),"td,th"),!m.length&&f&&m.push(f),f=f||m[0]){m.length>1?p={width:"",height:"",scope:"",class:"",align:"",style:"",type:f.nodeName.toLowerCase()}:((p={width:a(g.getStyle(f,"width")||g.getAttrib(f,"width")),height:a(g.getStyle(f,"height")||g.getAttrib(f,"height")),scope:g.getAttrib(f,"scope"),class:g.getAttrib(f,"class")}).type=f.nodeName.toLowerCase(),n("left center right".split(" "),(function(e){i.formatter.matchNode(f,"align"+e)&&(p.align=e)})),n("top middle bottom".split(" "),(function(e){i.formatter.matchNode(f,"valign"+e)&&(p.valign=e)})),d(g,p,f)),i.settings.table_cell_class_list&&(A={name:"class",type:"listbox",label:"Class",values:c(i.settings.table_cell_class_list,(function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:"td",classes:[e.value]})})}))});var v={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},A]};!1!==i.settings.table_cell_advtab?i.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:p,body:[{title:"General",type:"form",items:v},o(g)],onsubmit:h}):i.windowManager.open({title:"Cell properties",data:p,body:v,onsubmit:h})}},f.row=function(){function t(e,t,n){(1===y.length||n)&&v.setAttrib(e,t,n)}function r(){var r,o,a;u(v,this),g=e.extend(g,this.toJSON()),i.undoManager.transact((function(){var e=g.type;n(y,(function(n){t(n,"scope",g.scope),t(n,"style",g.style),t(n,"class",g.class),function(e,t,n){(1===y.length||n)&&v.setStyle(e,"height",n)}(n,0,s(g.height)),e!==n.parentNode.nodeName.toLowerCase()&&(r=v.getParent(n,"table"),o=n.parentNode,(a=v.select(e,r)[0])||(a=v.create(e),r.firstChild?"CAPTION"===r.firstChild.nodeName?v.insertAfter(a,r.firstChild):r.insertBefore(a,r.firstChild):r.appendChild(a)),a.appendChild(n),o.hasChildNodes()||v.remove(o)),1===y.length&&l(n),g.align&&i.formatter.apply("align"+g.align,{},n)})),i.focus()}))}var h,f,p,A,g,m,v=i.dom,y=[];h=i.dom.getParent(i.selection.getStart(),"table"),f=i.dom.getParent(i.selection.getStart(),"td,th"),n(h.rows,(function(e){n(e.cells,(function(t){if(v.getAttrib(t,"data-mce-selected")||t==f)return y.push(e),!1}))})),(p=y[0])&&(y.length>1?g={height:"",scope:"",class:"",align:"",type:p.parentNode.nodeName.toLowerCase()}:((g={height:a(v.getStyle(p,"height")||v.getAttrib(p,"height")),scope:v.getAttrib(p,"scope"),class:v.getAttrib(p,"class")}).type=p.parentNode.nodeName.toLowerCase(),n("left center right".split(" "),(function(e){i.formatter.matchNode(p,"align"+e)&&(g.align=e)})),d(v,g,p)),i.settings.table_row_class_list&&(A={name:"class",type:"listbox",label:"Class",values:c(i.settings.table_row_class_list,(function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:"tr",classes:[e.value]})})}))}),m={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},A]},!1!==i.settings.table_row_advtab?i.windowManager.open({title:"Row properties",data:g,bodyType:"tabpanel",body:[{title:"General",type:"form",items:m},o(v)],onsubmit:r}):i.windowManager.open({title:"Row properties",data:g,body:m,onsubmit:r}))}}})),i("9",["4","5"],(function(e,t){var n;return function(i){function r(e,t){return{index:e,y:i.dom.getPos(t).y}}function o(e,t){return{index:e,y:i.dom.getPos(t).y+t.offsetHeight}}function a(e,t){return{index:e,x:i.dom.getPos(t).x}}function s(e,t){return{index:e,x:i.dom.getPos(t).x+t.offsetWidth}}function l(){return"rtl"===i.getBody().dir}function c(){return i.inline}function u(){return c?i.getBody().ownerDocument.body:i.getBody()}function d(e,t){return l()?s(e,t):a(e,t)}function h(e,t){return l()?a(e,t):s(e,t)}function f(e,t){var n=i.dom.getStyle(e,t,!0);return parseInt(n,10)}function p(e){return f(e,"width")/f(e.parentElement,"width")*100}function A(e,t,n){for(var i=[],r=1;r<n.length;r++){var o=n[r].element;i.push(e(r-1,o))}var a=n[n.length-1];return i.push(t(n.length-1,a.element)),i}function g(){var t=i.dom.select("."+ne,u());e.each(t,(function(e){i.dom.remove(e)}))}function m(e){g(),E(e)}function v(e,t,n,i,r,o,a,s){var l={"data-mce-bogus":"all",class:ne+" "+e,unselectable:"on","data-mce-resize":!1,style:"cursor: "+t+"; margin: 0; padding: 0; position: absolute; left: "+n+"px; top: "+i+"px; height: "+r+"px; width: "+o+"px; "};return l[a]=s,l}function y(t,n,r){e.each(t,(function(e){var t=r.x,o=e.y-de/2,a=de,s=n;i.dom.add(u(),"div",v(ie,re,t,o,a,s,oe,e.index))}))}function b(t,n,r){e.each(t,(function(e){var t=e.x-de/2,o=r.y,a=n,s=de;i.dom.add(u(),"div",v(se,le,t,o,a,s,ce,e.index))}))}function w(t){return e.map(t.rows,(function(t){var n=e.map(t.cells,(function(e){var t=e.hasAttribute("rowspan")?parseInt(e.getAttribute("rowspan"),10):1,n=e.hasAttribute("colspan")?parseInt(e.getAttribute("colspan"),10):1;return{element:e,rowspan:t,colspan:n}}));return{element:t,cells:n}}))}function x(t){function n(e,t){return e+","+t}var i={},r=[],o=0,a=0;return e.each(t,(function(t,s){var l=[];e.each(t.cells,(function(e){for(var t=0;void 0!==i[n(s,t)];)t++;for(var r={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:s,colIndex:t},c=0;c<e.colspan;c++)for(var u=0;u<e.rowspan;u++){var d=s+u,h=t+c;i[n(d,h)]=r,o=Math.max(o,d+1),a=Math.max(a,h+1)}l.push(r)})),r.push({element:t.element,cells:l})})),{grid:{maxRows:o,maxCols:a},getAt:function(e,t){return i[n(e,t)]},getAllCells:function(){var t=[];return e.each(r,(function(e){t=t.concat(e.cells)})),t},getAllRows:function(){return r}}}function C(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}function _(e,t,n){for(var i,r=e(),o=0;o<r.length;o++)t(r[o])&&(i=r[o]);return i||n()}function k(t){var n=C(0,t.grid.maxCols),i=C(0,t.grid.maxRows);return e.map(n,(function(e){return _((function(){for(var n=[],r=0;r<i.length;r++){var o=t.getAt(r,e);o&&o.colIndex===e&&n.push(o)}return n}),(function(e){return 1===e.colspan}),(function(){for(var n,r=0;r<i.length;r++)if(n=t.getAt(r,e))return n;return null}))}))}function S(t){var n=C(0,t.grid.maxCols),i=C(0,t.grid.maxRows);return e.map(i,(function(e){return _((function(){for(var i=[],r=0;r<n.length;r++){var o=t.getAt(e,r);o&&o.rowIndex===e&&i.push(o)}return i}),(function(e){return 1===e.rowspan}),(function(){return t.getAt(e,0)}))}))}function E(e){var t=x(w(e)),n=S(t),a=k(t),s=i.dom.getPos(e),l=n.length>0?A(r,o,n):[],c=a.length>0?A(d,h,a):[];y(l,e.offsetWidth,s),b(c,e.offsetHeight,s)}function T(e,t,n,i){if(t<0||t>=e.length-1)return"";var r=e[t];if(r)r={value:r,delta:0};else for(var o=e.slice(0,t).reverse(),a=0;a<o.length;a++)o[a]&&(r={value:o[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),c=0;c<l.length;c++)l[c]&&(s={value:l[c],delta:c+1});var u=s.delta-r.delta,d=Math.abs(s.value-r.value)/u;return n?d/f(i,"width")*100:d}function B(e,t){var n=i.dom.getStyle(e,t);return n||(n=i.dom.getAttrib(e,t)),n||(n=i.dom.getStyle(e,t,!0)),n}function I(e,t,n){var i=B(e,"width"),r=parseInt(i,10),o=t?function(e,t){return f(e,"width")/f(t,"width")*100}(e,n):f(e,"width");return(t&&!U(i)||!t&&!H(i))&&(r=0),!isNaN(r)&&r>0?r:o}function D(t,n,i){for(var r=k(t),o=e.map(r,(function(e){return d(e.colIndex,e.element).x})),a=[],s=0;s<r.length;s++){var l=(r[s].element.hasAttribute("colspan")?parseInt(r[s].element.getAttribute("colspan"),10):1)>1?T(o,s):I(r[s].element,n,i);l=l||he,a.push(l)}return a}function F(e){var t=B(e,"height"),n=parseInt(t,10);return U(t)&&(n=0),!isNaN(n)&&n>0?n:f(e,"height")}function M(t){for(var n=S(t),i=e.map(n,(function(e){return r(e.rowIndex,e.element).y})),o=[],a=0;a<n.length;a++){var s=(n[a].element.hasAttribute("rowspan")?parseInt(n[a].element.getAttribute("rowspan"),10):1)>1?T(i,a):F(n[a].element);s=s||fe,o.push(s)}return o}function L(t,n,i,r,o){function a(t){return e.map(t,(function(){return 0}))}function s(e,t){var n,o=a(l.slice(0,e)),s=a(l.slice(t+1));if(i>=0){var c=Math.max(r,l[t]-i);n=o.concat([i,c-l[t]]).concat(s)}else{var u=Math.max(r,l[e]+i),d=l[e]-u;n=o.concat([u-l[e],d]).concat(s)}return n}var l=t.slice(0);return 0===t.length?[]:1===t.length?o?[100-l[0]]:[Math.max(r,l[0]+i)-l[0]]:0===n?s(0,1):n>0&&n<t.length-1?s(n,n+1):n===t.length-1?function(e,t){var n,o=a(l.slice(0,t));if(i>=0)n=o.concat([i]);else{var s=Math.max(r,l[t]+i);n=o.concat([s-l[t]])}return n}(0,n):[]}function P(e,t,n){for(var i=0,r=e;r<t;r++)i+=n[r];return i}function R(t,n){var i=t.getAllCells();return e.map(i,(function(e){var t=P(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}}))}function O(t,n){var i=t.getAllCells();return e.map(i,(function(e){var t=P(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}}))}function N(t,n){var i=t.getAllRows();return e.map(i,(function(e,t){return{element:e.element,height:n[t]}}))}function U(e){return Ae.test(e)}function H(e){return ge.test(e)}function $(t,n,r){for(var o=x(w(t)),a=U(t.width)||U(t.style.width),s=D(o,a,t),l=a?function(e,t){return t/f(e,"width")*100}(t,n):n,c=L(s,r,l,he,a),u=[],d=0;d<c.length;d++)u.push(c[d]+s[d]);var h=R(o,u),A=a?"%":"px",g=a?r<o.grid.maxCols-1?p(t):p(t)+function(e,t){return t/f(e.parentElement,"width")*100}(t,n):r<o.grid.maxCols-1?f(t,"width"):f(t,"width")+n;i.undoManager.transact((function(){(function(t,n){e.each(t,(function(e){i.dom.setStyle(e.element,"width",e.width+n),i.dom.setAttrib(e.element,"width",null)}))})(h,A),function(e,n,a){r!=o.grid.maxCols-1&&a||(i.dom.setStyle(t,"width",e+n),i.dom.setAttrib(t,"width",null))}(g,A,a)}))}function Q(t,n,r){for(var o=x(w(t)),a=M(o),s=[],l=0,c=0;c<a.length;c++)s.push(c===r?n+a[c]:a[c]),l+=l[c];var u=O(o,s),d=N(o,s);i.undoManager.transact((function(){e.each(d,(function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)})),e.each(u,(function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)})),i.dom.setStyle(t,"height",l+"px"),i.dom.setAttrib(t,"height",null)}))}function W(){if(i.dom.remove(J),X){var e,t;if(i.dom.removeClass(Z,pe),X=!1,j(Z)){var r=parseInt(i.dom.getAttrib(Z,ue),10),o=i.dom.getPos(Z).x;e=parseInt(i.dom.getAttrib(Z,ce),10),t=l()?r-o:o-r,Math.abs(t)>=1&&$(n,t,e)}else if(z(Z)){var a=parseInt(i.dom.getAttrib(Z,ae),10),s=i.dom.getPos(Z).y;e=parseInt(i.dom.getAttrib(Z,oe),10),t=s-a,Math.abs(t)>=1&&Q(n,t,e)}m(n),i.nodeChanged()}}function V(e,t){J=J||function(){var e=document.createElement("div");return e.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),e.setAttribute("data-mce-bogus","all"),e}(),X=!0,i.dom.addClass(e,pe),Z=e,function(e,t){i.dom.bind(e,"mouseup",(function(){W()})),i.dom.bind(e,"mousemove",(function(e){clearTimeout(Y),X&&t(e)})),i.dom.bind(e,"mouseout",(function(){Y=setTimeout((function(){W()}),200)}))}(J,t),i.dom.add(u(),J)}function j(e){return i.dom.hasClass(e,se)}function z(e){return i.dom.hasClass(e,ie)}function K(e){ee=void 0!==ee?ee:e.clientX;var t=e.clientX-ee;ee=e.clientX;var n=i.dom.getPos(Z).x;i.dom.setStyle(Z,"left",n+t+"px")}function G(e){te=void 0!==te?te:e.clientY;var t=e.clientY-te;te=e.clientY;var n=i.dom.getPos(Z).y;i.dom.setStyle(Z,"top",n+t+"px")}function q(e){var t=e.target,r=i.getBody();if(i.$.contains(r,n)||n===r)if(j(t)){e.preventDefault();var o=i.dom.getPos(t).x;i.dom.setAttrib(t,ue,o),function(e){ee=void 0,V(e,K)}(t)}else if(z(t)){e.preventDefault();var a=i.dom.getPos(t).y;i.dom.setAttrib(t,ae,a),function(e){te=void 0,V(e,G)}(t)}else g()}var Y,X,J,Z,ee,te,ne="mce-resize-bar",ie="mce-resize-bar-row",re="row-resize",oe="data-row",ae="data-initial-top",se="mce-resize-bar-col",le="col-resize",ce="data-col",ue="data-initial-left",de=4,he=10,fe=10,pe="mce-resize-bar-dragging",Ae=new RegExp(/(\d+(\.\d+)?%)/),ge=new RegExp(/px|em/);return i.on("init",(function(){i.dom.bind(u(),"mousedown",q)})),i.on("ObjectResized",(function(t){var n=t.target;if("TABLE"===n.nodeName){var r=[];e.each(n.rows,(function(t){e.each(t.cells,(function(e){var t=i.dom.getStyle(e,"width",!0);r.push({cell:e,width:t})}))})),e.each(r,(function(e){i.dom.setStyle(e.cell,"width",e.width),i.dom.setAttrib(e.cell,"width",null)}))}})),i.on("mouseover",(function(e){if(!X){var t=i.dom.getParent(e.target,"table");("TABLE"===e.target.nodeName||t)&&(n=t,m(t))}})),i.on("keydown",(function(e){switch(e.keyCode){case t.LEFT:case t.RIGHT:case t.UP:case t.DOWN:g()}})),i.on("remove",(function(){g(),i.dom.unbind(u(),"mousedown",q)})),{adjustWidth:$,adjustHeight:Q,clearBars:g,drawBars:E,determineDeltas:L,getTableGrid:x,getTableDetails:w,getWidths:D,getPixelHeights:M,isPercentageBasedSize:U,isPixelBasedSize:H,recalculateWidths:R,recalculateCellHeights:O,recalculateRowHeights:N}}})),i("e",["c"],(function(e){return e("tinymce.util.Delay")})),i("b",["5","e","2","4","a"],(function(e,t,n,i,r){var o=i.each,a=r.getSpanVal;return function(s){function l(){s.on("KeyDown",(function(e){var t,n,i=s.dom;37!=e.keyCode&&38!=e.keyCode||(t=s.selection.getRng(),(n=i.getParent(t.startContainer,"table"))&&s.getBody().firstChild==n&&function(e,t){var n,i=t.ownerDocument,r=i.createRange();return r.setStartBefore(t),r.setEnd(e.endContainer,e.endOffset),(n=i.createElement("body")).appendChild(r.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(t,n)&&((t=i.createRng()).setStartBefore(n),t.setEndBefore(n),s.selection.setRng(t),e.preventDefault()))}))}function c(){s.on("KeyDown SetContent VisualAid",(function(){var e;for(e=s.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(s.settings.forced_root_block?s.dom.add(s.getBody(),s.settings.forced_root_block,s.settings.forced_root_block_attrs,n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):s.dom.add(s.getBody(),"br",{"data-mce-bogus":"1"}))})),s.on("PreProcess",(function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||""==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&s.dom.remove(t)}))}(function(){var t=function(e){return s.dom.isEmpty(e)||e.firstChild===e.lastChild&&i(e.firstChild)},n=function(e,t){var n=t.firstChild;do{if(n===e)return!0}while(n=n.firstChild);return!1},i=function(e){if(3===e.nodeType){if("\ufeff"===e.data)return!0;e=e.parentNode}return 1===e.nodeType&&e.hasAttribute("data-mce-caret")},r=function(e){var t=s.selection.getRng();return!t.startOffset&&!t.startContainer.previousSibling&&n(t.startContainer,e)},o=function(e,n){var r=e.lastChild,o=s.selection.getRng(),a=o.startContainer,l=o.startOffset;t(e)?(e.innerHTML="\ufeff",a=e.lastChild,l=0):i(r)||function(e,t){var n;n=t?s.dom.create("p",{"data-mce-caret":"after","data-mce-bogus":"all"},'<br data-mce-bogus="1">'):e.ownerDocument.createTextNode("\ufeff"),e.appendChild(n)}(e,s.dom.isBlock(r)),s.selection.setCursorLocation(a,l)},a=function(e){var t=s.selection.getRng(),i=s.dom.createRng(),r=e.firstChild;t.commonAncestorContainer===e.parentNode&&n(t.startContainer,e)&&(i.setStart(e,0),1===r.nodeType?i.setEnd(e,e.childNodes.length):i.setEnd(r,r.nodeValue.length),s.selection.setRng(i))};s.on("keydown",(function(n){if(!(n.keyCode!==e.DELETE&&n.keyCode!==e.BACKSPACE||n.isDefaultPrevented())){var i=s.dom.getParent(s.selection.getStart(),"caption");(function(e){return e&&"CAPTION"==e.nodeName&&"TABLE"==e.parentNode.nodeName})(i)&&(s.selection.isCollapsed()?(o(i),(t(i)||n.keyCode===e.BACKSPACE&&r(i))&&n.preventDefault()):(a(i),s.undoManager.transact((function(){s.execCommand("Delete"),o(i)})),n.preventDefault()))}}))})(),function(){function t(e){s.selection.select(e,!0),s.selection.collapse(!0)}function n(e){s.$(e).empty(),r.paddCell(e)}s.on("keydown",(function(r){var o,a,l,c;if((r.keyCode==e.DELETE||r.keyCode==e.BACKSPACE)&&!r.isDefaultPrevented()&&(o=s.dom.getParent(s.selection.getStart(),"table"))){if(a=s.dom.select("td,th",o),l=i.grep(a,(function(e){return!!s.dom.getAttrib(e,"data-mce-selected")})),0===l.length)return c=s.dom.getParent(s.selection.getStart(),"td,th"),void(s.selection.isCollapsed()&&c&&s.dom.isEmpty(c)&&(r.preventDefault(),n(c),t(c)));r.preventDefault(),s.undoManager.transact((function(){a.length==l.length?s.execCommand("mceTableDelete"):(i.each(l,n),t(l[0]))}))}}))}(),n.webkit&&(function(){function n(n){function i(e,t){var i=e?"previousSibling":"nextSibling",o=s.dom.getParent(t,"tr"),a=o[i];if(a)return f(0,t,a,e),n.preventDefault(),!0;var c=s.dom.getParent(o,"table"),u=o.parentNode,d=u.nodeName.toLowerCase();if("tbody"===d||d===(e?"tfoot":"thead")){var h=function(e,t,n,i){var r=s.dom.select(">"+i,t),o=r.indexOf(n);return e&&0===o||!e&&o===r.length-1?function(e,t){var n=e?"thead":"tfoot",i=s.dom.select(">"+n,t);return 0!==i.length?i[0]:null}(e,t):-1===o?r["thead"===n.tagName.toLowerCase()?0:r.length-1]:r[o+(e?-1:1)]}(e,c,u,"tbody");if(null!==h)return r(e,h,t)}return l(e,o,i,c)}function r(e,t,i){var r=c(t,e);return r&&f(0,i,r,e),n.preventDefault(),!0}function l(e,t,r,o){var a=o[r];if(a)return u(a),!0;var l=s.dom.getParent(o,"td,th");return l?i(e,l):(u(c(t,!e)),n.preventDefault(),!1)}function c(e,t){var n=e&&e[t?"lastChild":"firstChild"];return n&&"BR"===n.nodeName?s.dom.getParent(n,"td,th"):n}function u(e){s.selection.select(e,!0),s.selection.collapse(!0)}function d(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=a(n,"colspan");return t}function h(e,t){var n=0,i=0;return o(e.children,(function(e,r){if(n+=a(e,"colspan"),i=r,n>t)return!1})),i}function f(e,t,n,i){var r=h(n,d(s.dom.getParent(t,"td,th"))),o=n.childNodes[r];u(c(o,i)||o)}var p=n.keyCode;if((p==e.UP||p==e.DOWN)&&function(e){var t=e.selection.getNode();return null!==e.dom.getParent(t,"tr")}(s)){var A=s.selection.getNode();t.setEditorTimeout(s,(function(){(function(e){var t=s.selection.getNode(),n=s.dom.getParent(t,"td,th"),i=s.dom.getParent(e,"td,th");return n&&n!==i&&function(e,t){return s.dom.getParent(e,"TABLE")===s.dom.getParent(t,"TABLE")}(n,i)})(A)&&i(!n.shiftKey&&p===e.UP,A)}),0)}}s.on("KeyDown",(function(e){n(e)}))}(),function(){function e(){var e=s.selection.getRng(),t=s.selection.getNode(),n=s.dom.getParent(e.startContainer,"TD,TH");if(function(e,t,n,i){var r,o,a,s=e.dom.getParent(t.startContainer,"TABLE");return s&&(r=s.parentNode),o=3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&i&&("TR"==n.nodeName||n==r),a=("TD"==n.nodeName||"TH"==n.nodeName)&&!i,o||a}(s,e,t,n)){n||(n=t);for(var i=n.lastChild;i.lastChild;)i=i.lastChild;3==i.nodeType&&(e.setEnd(i,i.data.length),s.selection.setRng(e))}}s.on("KeyDown",(function(){e()})),s.on("MouseDown",(function(t){2!=t.button&&e()}))}()),n.gecko&&(l(),c()),n.ie>9&&(l(),c())}})),i("0",["1","2","3","4","5","6","7","8","9","a","b"],(function(e,t,n,i,r,o,a,s,l,c,u){var d=i.each;return n.add("table",(function(e){function n(t){return function(){e.execCommand(t)}}function h(n,i){var r,o,a,s;for(a='<table id="__mce"><tbody>',r=0;r<i;r++){for(a+="<tr>",o=0;o<n;o++)a+="<td>"+(t.ie&&t.ie<10?"&nbsp;":"<br>")+"</td>";a+="</tr>"}return a+="</tbody></table>",e.undoManager.transact((function(){e.insertContent(a),s=e.dom.get("__mce"),e.dom.setAttrib(s,"id",null),e.$("tr",s).each((function(t,n){e.fire("newrow",{node:n}),e.$("th,td",n).each((function(t,n){e.fire("newcell",{node:n})}))})),e.dom.setAttribs(s,e.settings.table_default_attributes||{}),e.dom.setStyles(s,e.settings.table_default_styles||{})})),s}function f(t,n,i){function r(){var r,o,a,s={},l=0;(r=(o=e.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(r=e.selection.getStart()),i&&o.length>0?(d(o,(function(e){return s[e.parentNode.parentNode.nodeName]=1})),d(s,(function(e){l+=e})),a=1!==l):a=!e.dom.getParent(r,n),t.disabled(a),e.selection.selectorChanged(n,(function(e){t.disabled(!e)}))}e.initialized?r():e.on("init",r)}function p(){f(this,"table")}function A(){f(this,"td,th")}function g(t,n,i){var r,o,a,s,l,c=i.getEl().getElementsByTagName("table")[0],u=i.isRtl()||"tl-tr"==i.parent().rel;for(c.nextSibling.innerHTML=t+1+" x "+(n+1),u&&(t=9-t),o=0;o<10;o++)for(r=0;r<10;r++)s=c.rows[o].childNodes[r].firstChild,l=(u?r>=t:r<=t)&&o<=n,e.dom.toggleClass(s,"mce-active",l),l&&(a=s);return a.parentNode}function m(t){return e.dom.is(t,"table")&&e.getBody().contains(t)}var v,y,b=this,w=new s(e);!e.settings.object_resizing||!1===e.settings.table_resize_bars||!0!==e.settings.object_resizing&&"table"!==e.settings.object_resizing||(y=l(e));var x=function(t){var n=e.dom.getParent(t,"th,td"),r=e.dom.select("td[data-mce-selected],th[data-mce-selected]").concat(n?[n]:[]),o=i.grep(r,(function(e){return c.getColSpan(e)>1||c.getRowSpan(e)>1}));return o.length>0};!1===e.settings.table_grid?e.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",onclick:w.table}):e.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),w.table())},onshow:function(){g(0,0,this.menu.items()[0])},onhide:function(){var t=this.menu.items()[0].getEl().getElementsByTagName("a");e.dom.removeClass(t,"mce-active"),e.dom.addClass(t[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return(e+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,i=e.target;"A"==i.tagName.toUpperCase()&&(t=parseInt(i.getAttribute("data-mce-x"),10),n=parseInt(i.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(g(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(t){var n=this;"A"==t.target.tagName.toUpperCase()&&(t.preventDefault(),t.stopPropagation(),n.parent().cancel(),e.undoManager.transact((function(){h(n.lastX+1,n.lastY+1)})),e.addVisual())}}]}),e.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:p,onclick:w.tableProps}),e.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:p,cmd:"mceTableDelete"}),e.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:n("mceTableCellProps"),onPostRender:A},{text:"Merge cells",onclick:n("mceTableMergeCells"),onPostRender:function(){f(this,"td,th",!0)}},{text:"Split cell",disabled:!0,onclick:n("mceTableSplitCells"),onPostRender:function(t){var n=t.control;n.disabled(!x(e.selection.getStart())),e.on("nodechange",(function(e){n.disabled(!x(e.element))}))}}]}),e.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:n("mceTableInsertRowBefore"),onPostRender:A},{text:"Insert row after",onclick:n("mceTableInsertRowAfter"),onPostRender:A},{text:"Delete row",onclick:n("mceTableDeleteRow"),onPostRender:A},{text:"Row properties",onclick:n("mceTableRowProps"),onPostRender:A},{text:"-"},{text:"Cut row",onclick:n("mceTableCutRow"),onPostRender:A},{text:"Copy row",onclick:n("mceTableCopyRow"),onPostRender:A},{text:"Paste row before",onclick:n("mceTablePasteRowBefore"),onPostRender:A},{text:"Paste row after",onclick:n("mceTablePasteRowAfter"),onPostRender:A}]}),e.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:n("mceTableInsertColBefore"),onPostRender:A},{text:"Insert column after",onclick:n("mceTableInsertColAfter"),onPostRender:A},{text:"Delete column",onclick:n("mceTableDeleteCol"),onPostRender:A}]});var C=[];d("inserttable tableprops deletetable | cell row column".split(" "),(function(t){"|"==t?C.push({text:"-"}):C.push(e.menuItems[t])})),e.addButton("table",{type:"menubutton",title:"Table",menu:C}),t.isIE||e.on("click",(function(t){"TABLE"===(t=t.target).nodeName&&(e.selection.select(t),e.nodeChanged())})),b.quirks=new u(e),e.on("Init",(function(){b.cellSelection=new a(e,(function(e){e&&y&&y.clearBars()})),b.resizeBars=y})),e.on("PreInit",(function(){e.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))})),d({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(t){var n;n=e.dom.getParent(e.selection.getStart(),"th,td"),e.dom.select("td[data-mce-selected],th[data-mce-selected]").length?t.merge():w.merge(t,n)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){v=e.cutRows()},mceTableCopyRow:function(e){v=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(v,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(v)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){y&&y.clearBars(),e.deleteTable()}},(function(t,n){e.addCommand(n,(function(){var n=new o(e);n&&(t(n),e.execCommand("mceRepaint"),b.cellSelection.clear())}))})),d({mceInsertTable:w.table,mceTableProps:function(){w.table(!0)},mceTableRowProps:w.row,mceTableCellProps:w.cell},(function(t,n){e.addCommand(n,(function(e,n){t(n)}))})),e.addButton("tableprops",{title:"Table properties",onclick:w.tableProps,icon:"table"}),e.addButton("tabledelete",{title:"Delete table",onclick:n("mceTableDelete")}),e.addButton("tablecellprops",{title:"Cell properties",onclick:n("mceTableCellProps")}),e.addButton("tablemergecells",{title:"Merge cells",onclick:n("mceTableMergeCells")}),e.addButton("tablesplitcells",{title:"Split cell",onclick:n("mceTableSplitCells")}),e.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:n("mceTableInsertRowBefore")}),e.addButton("tableinsertrowafter",{title:"Insert row after",onclick:n("mceTableInsertRowAfter")}),e.addButton("tabledeleterow",{title:"Delete row",onclick:n("mceTableDeleteRow")}),e.addButton("tablerowprops",{title:"Row properties",onclick:n("mceTableRowProps")}),e.addButton("tablecutrow",{title:"Cut row",onclick:n("mceTableCutRow")}),e.addButton("tablecopyrow",{title:"Copy row",onclick:n("mceTableCopyRow")}),e.addButton("tablepasterowbefore",{title:"Paste row before",onclick:n("mceTablePasteRowBefore")}),e.addButton("tablepasterowafter",{title:"Paste row after",onclick:n("mceTablePasteRowAfter")}),e.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:n("mceTableInsertColBefore")}),e.addButton("tableinsertcolafter",{title:"Insert column after",onclick:n("mceTableInsertColAfter")}),e.addButton("tabledeletecol",{title:"Delete column",onclick:n("mceTableDeleteCol")}),function(){var t=e.settings.table_toolbar;""!==t&&!1!==t&&(t||(t="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),e.addContextToolbar(m,t))}(),!1!==e.settings.table_tab_navigation&&e.on("keydown",(function(t){var n,i,a,s=e.selection.getStart();if(t.keyCode===r.TAB){if(e.dom.getParent(s,"LI,DT,DD"))return;(n=e.dom.getParent(s,"th,td"))&&(t.preventDefault(),i=new o(e),a=t.shiftKey?-1:1,e.undoManager.transact((function(){!i.moveRelIdx(n,a)&&a>0&&(i.insertRow(),i.refresh(),i.moveRelIdx(n,a))})))}})),b.insertTable=h,b.setClipboardRows=function(e){v=e},b.getClipboardRows=function(){return v}})),function(){}})),n("0")()}()},82690:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("5",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["5"],(function(e){return e("tinymce.dom.DOMUtils")})),i("2",["5"],(function(e){return e("tinymce.PluginManager")})),i("3",["5"],(function(e){return e("tinymce.util.I18n")})),i("4",["5"],(function(e){return e("tinymce.util.Tools")})),i("0",["1","2","3","4"],(function(e,t,n,i){var r=n.translate;return t.add("textcolor",(function(t){function n(){function e(e,t){var n="transparent"==e;return'<td class="mce-grid-cell'+(n?" mce-colorbtn-trans":"")+'"><div id="'+f+"-"+p+++'" data-mce-color="'+(e||"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+r(t)+'">'+(n?"&#215;":"")+"</div></td>"}var n,i,o,a,s,l,d,h,f=this._id,p=0;for(n=function(e){var n,i,r=[];for(i=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],i=t.settings.textcolor_map||i,i=t.settings[e+"_map"]||i,n=0;n<i.length;n+=2)r.push({text:i[n+1],color:"#"+i[n]});return r}(h=this.settings.origin),n.push({text:r("No color"),color:"transparent"}),o='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',a=n.length-1,l=0;l<u[h];l++){for(o+="<tr>",s=0;s<c[h];s++)(d=l*c[h]+s)>a?o+="<td></td>":o+=e((i=n[d]).color,i.text);o+="</tr>"}if(t.settings.color_picker_callback){for(o+='<tr><td colspan="'+c[h]+'" class="mce-custom-color-btn"><div id="'+f+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+f+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+r("Custom...")+"</button></div></td></tr>",o+="<tr>",s=0;s<c[h];s++)o+=e("","Custom color");o+="</tr>"}return o+"</tbody></table>"}function o(e,n){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()}))}function a(e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()}))}function s(n){function r(e){d.hidePanel(),d.color(e),o(d.settings.format,e)}function s(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)}var l,u,d=this.parent();u=d.settings.origin,e.DOM.getParent(n.target,".mce-custom-color-btn")&&(d.hidePanel(),t.settings.color_picker_callback.call(t,(function(e){var t,n,o,a=d.panel.getEl().getElementsByTagName("table")[0];for(t=i.map(a.rows[a.rows.length-1].childNodes,(function(e){return e.firstChild})),o=0;o<t.length&&(n=t[o]).getAttribute("data-mce-color");o++);if(o==c[u])for(o=0;o<c[u]-1;o++)s(t[o],t[o+1].getAttribute("data-mce-color"));s(n,e),r(e)}),function(e){var n;return t.dom.getParents(t.selection.getStart(),(function(t){var i;(i=t.style["forecolor"==e?"color":"background-color"])&&(n=i)})),n}(d.settings.format))),(l=n.target.getAttribute("data-mce-color"))?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),n.target.setAttribute("aria-selected",!0),this.lastId=n.target.id,"transparent"==l?(d.hidePanel(),d.resetColor(),a(d.settings.format)):r(l)):null!==l&&d.hidePanel()}function l(){var e=this;e._color?o(e.settings.format,e._color):a(e.settings.format)}var c,u;u={forecolor:t.settings.forecolor_rows||t.settings.textcolor_rows||5,backcolor:t.settings.backcolor_rows||t.settings.textcolor_rows||5},c={forecolor:t.settings.forecolor_cols||t.settings.textcolor_cols||8,backcolor:t.settings.backcolor_cols||t.settings.textcolor_cols||8},t.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:n,onclick:s},onclick:l}),t.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:n,onclick:s},onclick:l})})),function(){}})),n("0")()}()},67941:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("7",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["7"],(function(e){return e("tinymce.PluginManager")})),i("2",["7"],(function(e){return e("tinymce.util.Delay")})),i("3",["7"],(function(e){return e("tinymce.util.VK")})),i("8",["7"],(function(e){return e("tinymce.dom.TreeWalker")})),i("9",["7"],(function(e){return e("tinymce.util.Tools")})),i("a",[],(function(){var e=function(e,t,n,i){return t.substr(n-e.end.length-i,e.end.length)===e.end},t=function(e,t,n){return e-t-n.end.length-n.start.length>0};return{findPattern:function(e,t){for(var n=0;n<e.length;n++)if(0===t.indexOf(e[n].start)&&(!e[n].end||t.lastIndexOf(e[n].end)===t.length-e[n].end.length))return e[n]},findEndPattern:function(n,i,r,o){var a,s,l=function(e){return e.sort((function(e,t){return e.start.length>t.start.length?-1:e.start.length<t.start.length?1:0}))}(n);for(s=0;s<l.length;s++)if(void 0!==(a=l[s]).end&&e(a,i,r,o)&&t(r,o,a))return a}}})),i("4",["8","9","a"],(function(e,t,n){return{applyInlineFormat:function(e,t,i){var r,o,a,s,l,c,u,d,h,f,p;if(r=e.selection,o=e.dom,r.isCollapsed()&&(a=r.getRng(!0),s=a.startContainer,l=a.startOffset,u=s.data,f=!0===i?1:0,3==s.nodeType&&void 0!==(h=n.findEndPattern(t,u,l,f))&&(c=Math.max(0,l-f),-1!==(c=u.lastIndexOf(h.start,c-h.end.length-1))&&((d=o.createRng()).setStart(s,c),d.setEnd(s,l-f),(h=n.findPattern(t,d.toString()))&&h.end&&!(s.data.length<=h.start.length+h.end.length)))))return(p=e.formatter.get(h.format))&&p[0].inline?(e.undoManager.transact((function(){s=function(e,t,n,i,r){return(e=i>0?e.splitText(i):e).splitText(n-i-r),e.deleteData(0,t.start.length),e.deleteData(e.data.length-t.end.length,t.end.length),e}(s,h,l,c,f),e.formatter.apply(h.format,{},s)})),s):void 0},applyBlockFormat:function(i,r){var o,a,s,l,c,u,d,h,f,p,A;if(o=i.selection,a=i.dom,o.isCollapsed()&&(d=a.getParent(o.getStart(),"p"))){for(f=new e(d,d);c=f.next();)if(3==c.nodeType){l=c;break}if(l){if(!(h=n.findPattern(r,l.data)))return;if(s=(p=o.getRng(!0)).startContainer,A=p.startOffset,l==s&&(A=Math.max(0,A-h.start.length)),t.trim(l.data).length==h.start.length)return;h.format&&(u=i.formatter.get(h.format))&&u[0].block&&(l.deleteData(0,h.start.length),i.formatter.apply(h.format,{},l),p.setStart(s,A),p.collapse(!0),o.setRng(p)),h.cmd&&i.undoManager.transact((function(){l.deleteData(0,h.start.length),i.execCommand(h.cmd)}))}}}}})),i("5",["3","4"],(function(e,t){var n=function(e,t,n){for(var i=0;i<e.length;i++)if(n(e[i],t))return!0};return{handleEnter:function(e,n){var i,r;(r=t.applyInlineFormat(e,n,!1))&&((i=e.dom.createRng()).setStart(r,r.data.length),i.setEnd(r,r.data.length),e.selection.setRng(i)),t.applyBlockFormat(e,n)},handleInlineKey:function(e,n){var i,r,o,a,s;(i=t.applyInlineFormat(e,n,!0))&&(s=e.dom,r=i.data.slice(-1),/[\u00a0 ]/.test(r)&&(i.deleteData(i.data.length-1,1),o=s.doc.createTextNode(r),i.nextSibling?s.insertAfter(o,i.nextSibling):i.parentNode.appendChild(o),(a=s.createRng()).setStart(o,1),a.setEnd(o,1),e.selection.setRng(a)))},checkCharCode:function(e,t){return n(e,t,(function(e,t){return e.charCodeAt(0)===t.charCode}))},checkKeyCode:function(t,i){return n(t,i,(function(t,n){return t===n.keyCode&&!1===e.modifierPressed(n)}))}}})),i("6",[],(function(){var e=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}];return{getPatterns:function(t){return void 0!==t.textpattern_patterns?t.textpattern_patterns:e}}})),i("0",["1","2","3","4","5","6"],(function(e,t,n,i,r,o){return e.add("textpattern",(function(e){var i=o.getPatterns(e.settings),a=[",",".",";",":","!","?"],s=[32];e.on("keydown",(function(t){13!==t.keyCode||n.modifierPressed(t)||r.handleEnter(e,i)}),!0),e.on("keyup",(function(t){r.checkKeyCode(s,t)&&r.handleInlineKey(e,i)})),e.on("keypress",(function(n){r.checkCharCode(a,n)&&t.setEditorTimeout(e,(function(){r.handleInlineKey(e,i)}))})),this.setPatterns=function(e){i=e},this.getPatterns=function(){return i}})),function(){}})),n("0")()}()},4836:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}};(function(e,t){i("2",[],(function(){return t}))})(0,tinymce.util.Tools.resolve),i("1",["2"],(function(e){return e("tinymce.PluginManager")})),i("0",["1"],(function(e){return e.add("visualblocks",(function(e,t){function n(){var t=this;t.active(r),e.on("VisualBlocks",(function(){t.active(e.dom.hasClass(e.getBody(),"mce-visualblocks"))}))}var i,r;window.NodeList&&(e.addCommand("mceVisualBlocks",(function(){var n,o=e.dom;i||(i=o.uniqueId(),n=o.create("link",{id:i,rel:"stylesheet",href:t+"/css/visualblocks.css"}),e.getDoc().getElementsByTagName("head")[0].appendChild(n)),e.on("PreviewFormats AfterPreviewFormats",(function(t){r&&o.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"==t.type)})),o.toggleClass(e.getBody(),"mce-visualblocks"),r=e.dom.hasClass(e.getBody(),"mce-visualblocks"),e.fire("VisualBlocks")})),e.addButton("visualblocks",{title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:n}),e.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:n,selectable:!0,context:"view",prependToContext:!0}),e.on("init",(function(){e.settings.visualblocks_default_state&&e.execCommand("mceVisualBlocks",!1,null,{skip_focus:!0})})),e.on("remove",(function(){e.dom.removeClass(e.getBody(),"mce-visualblocks")})))})),function(){}})),n("0")()}()},9225:function(){!function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c},n=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}},r=function(e,t){i(e,[],(function(){return t}))};r("1",window),r("a",tinymce.util.Tools.resolve),i("2",["a"],(function(e){return e("tinymce.AddOnManager")})),i("3",["a"],(function(e){return e("tinymce.EditorManager")})),i("4",["a"],(function(e){return e("tinymce.Env")})),i("5",["a"],(function(e){return e("tinymce.ui.Api")})),i("b",["a"],(function(e){return e("tinymce.dom.DOMUtils")})),i("c",["a"],(function(e){return e("tinymce.ui.Factory")})),i("d",["a"],(function(e){return e("tinymce.util.Tools")})),i("e",[],(function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}};return{addKeys:function(t,n){t.shortcuts.add("Alt+F9","",e(n,"menubar")),t.shortcuts.add("Alt+F10,F10","",e(n,"toolbar")),t.shortcuts.add("Alt+F11","",e(n,"elementpath")),n.on("cancel",(function(){t.focus()}))}}})),i("f",["b"],(function(e){var t=e.DOM,n=function(e,n,i){return function(){var r=e.getContentAreaContainer().querySelector("iframe").offsetWidth,o=Math.max(r-e.getDoc().documentElement.offsetWidth,0);t.setStyle(n,"right",o+"px"),i?t.setStyle(n,"top","-16px"):t.setStyle(n,"bottom","1px")}},i=function(e,t,i){n(e,t,i)(),e.on("NodeChange ResizeEditor",n(e,t,i))},r=function(e,t,n){n.appendChild(t),i(e,t,!0)},o=function(e,t){e.getContainer().appendChild(t),i(e,t,!1)};return{setup:function(e){!1!==e.settings.branding&&function(e){e.on("SkinLoaded",(function(){var n=t.create("div",{class:"mce-branding-powered-by"}),i=e.getContainer().querySelector(".mce-statusbar");i?r(e,n,i):o(e,n),t.bind(n,"click",function(e){return function(){t.hide(e)}}(n))}))}(e)}}})),i("n",["a"],(function(e){return e("tinymce.util.Delay")})),i("o",["a"],(function(e){return e("tinymce.geom.Rect")})),i("k",["d","c"],(function(e,t){var n=function(n,i,r){var o,a=[];if(i)return e.each(i.split(/[ ,]/),(function(e){var i,s=function(){var t=n.selection;e.settings.stateSelector&&t.selectorChanged(e.settings.stateSelector,(function(t){e.active(t)}),!0),e.settings.disabledStateSelector&&t.selectorChanged(e.settings.disabledStateSelector,(function(t){e.disabled(t)}))};"|"==e?o=null:(o||(o={type:"buttongroup",items:[]},a.push(o)),n.buttons[e]&&(i=e,"function"==typeof(e=n.buttons[i])&&(e=e()),e.type=e.type||"button",e.size=r,e=t.create(e),o.items.push(e),n.initialized?s():n.on("init",s)))})),{type:"toolbar",layout:"flow",items:a}};return{createToolbar:n,createToolbars:function(t,i){var r=[],o=t.settings,a=function(e){if(e)return r.push(n(t,e,i)),!0};if(e.isArray(o.toolbar)){if(0===o.toolbar.length)return;e.each(o.toolbar,(function(e,t){o["toolbar"+(t+1)]=e})),delete o.toolbar}for(var s=1;s<10&&a(o["toolbar"+s]);s++);if(r.length||!1===o.toolbar||a(o.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),r.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:r}}}})),i("g",["b","d","n","c","o","k"],(function(e,t,n,i,r,o){var a=e.DOM,s=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},l=function(e){t.each(e.contextToolbars,(function(e){e.panel&&e.panel.hide()}))},c=function(e,t){e.moveTo(t.left,t.top)},u=function(e,n,i){n=n?n.substr(0,2):"",t.each({t:"down",b:"up"},(function(t,r){e.classes.toggle("arrow-"+t,i(r,n.substr(0,1)))})),t.each({l:"left",r:"right"},(function(t,r){e.classes.toggle("arrow-"+t,i(r,n.substr(1,1)))}))},d=function(e,t,n,i,r,o){return o=s({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:s(i),contentAreaRect:s(r),panelRect:o})),o};return{addContextualToolbars:function(e){var s,h=e.settings,f=function(){return e.contextToolbars||[]},p=function(t,n){var i,o,s,f,p,A,g,m=h.inline_toolbar_position_handler;if(!e.removed){if(!t||!t.toolbar.panel)return void l(e);g=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],p=t.toolbar.panel,n&&p.show(),s=function(t){var n,i,r;return n=a.getPos(e.getContentAreaContainer()),i=e.dom.getRect(t),"BODY"===(r=e.dom.getRoot()).nodeName&&(i.x-=r.ownerDocument.documentElement.scrollLeft||r.scrollLeft,i.y-=r.ownerDocument.documentElement.scrollTop||r.scrollTop),i.x+=n.x,i.y+=n.y,i}(t.element),o=a.getRect(p.getEl()),f=a.getRect(e.getContentAreaContainer()||e.getBody()),"inline"!==a.getStyle(t.element,"display",!0)&&(s.w=t.element.clientWidth,s.h=t.element.clientHeight),e.inline||(f.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(t.element)&&s.w<25&&(s=r.inflate(s,0,8)),i=r.findBestRelativePosition(o,s,f,g),s=r.clamp(s,f),i?(A=r.relativePosition(o,s,i),c(p,d(m,A.x,A.y,s,f,o))):(f.h+=o.h,(s=r.intersect(f,s))?(i=r.findBestRelativePosition(o,s,f,["bc-tc","bl-tl","br-tr"]))?(A=r.relativePosition(o,s,i),c(p,d(m,A.x,A.y,s,f,o))):c(p,d(m,s.x,s.y,s,f,o)):p.hide()),u(p,i,(function(e,t){return e===t}))}},A=function(t){return function(){n.requestAnimationFrame((function(){e.selection&&p(m(e.selection.getNode()),t)}))}},g=function(){t.each(f(),(function(e){e.panel&&e.panel.hide()}))},m=function(t){var n,i,r,o=f();for(n=(r=e.$(t).parents().add(t)).length-1;n>=0;n--)for(i=o.length-1;i>=0;i--)if(o[i].predicate(r[n]))return{toolbar:o[i],element:r[n]};return null};e.on("click keyup setContent ObjectResized",(function(t){("setcontent"!==t.type||t.selection)&&n.setEditorTimeout(e,(function(){var t;(t=m(e.selection.getNode()))?(g(),function(t){var n;t.toolbar.panel?(t.toolbar.panel.show(),p(t)):(s||(s=e.selection.getScrollContainer()||e.getWin(),a.bind(s,"scroll",A(!0)),e.on("remove",(function(){a.unbind(s,"scroll")}))),n=i.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:o.createToolbar(e,t.toolbar.items),oncancel:function(){e.focus()}}),t.toolbar.panel=n,n.renderTo(document.body).reflow(),p(t))}(t)):g()}))})),e.on("blur hide contextmenu",g),e.on("ObjectResizeStart",(function(){var t=m(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.hide()})),e.on("ResizeEditor ResizeWindow",A(!0)),e.on("nodeChange",A(!1)),e.on("remove",(function(){t.each(f(),(function(e){e.panel&&e.panel.remove()})),e.contextToolbars={}})),e.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",(function(){var t=m(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.items()[0].focus()}))}}})),i("h",["d"],(function(e){var t={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},n=function(e,t){return"|"==t?{text:"|"}:e[t]},i=function(i,r,o){var a,s,l,c,u;if(u=e.makeMap((r.removed_menuitems||"").split(/[ ,]/)),r.menu?(s=r.menu[o],c=!0):s=t[o],s){a={text:s.title},l=[],e.each((s.items||"").split(/[ ,]/),(function(e){n(i,e)&&!u[e]&&l.push(n(i,e))})),c||e.each(i,(function(e){e.context==o&&("before"==e.separator&&l.push({text:"|"}),e.prependToContext?l.unshift(e):l.push(e),"after"==e.separator&&l.push({text:"|"}))}));for(var d=0;d<l.length;d++)"|"==l[d].text&&(0!==d&&d!=l.length-1||l.splice(d,1));if(a.menu=l,!a.menu.length)return null}return a};return{createMenuButtons:function(e){var n,r=[],o=e.settings,a=[];if(o.menu)for(n in o.menu)a.push(n);else for(n in t)a.push(n);for(var s="string"==typeof o.menubar?o.menubar.split(/[ ,]/):a,l=0;l<s.length;l++){var c=s[l];(c=i(e.menuItems,e.settings,c))&&r.push(c)}return r}}})),i("9",["b"],(function(e){var t=e.DOM,n=function(e){return{width:e.clientWidth,height:e.clientHeight}},i=function(e,i,r){var o,a,s,l,c=e.settings;o=e.getContainer(),a=e.getContentAreaContainer().firstChild,s=n(o),l=n(a),null!==i&&(i=Math.max(c.min_width||100,i),i=Math.min(c.max_width||65535,i),t.setStyle(o,"width",i+(s.width-l.width)),t.setStyle(a,"width",i)),r=Math.max(c.min_height||100,r),r=Math.min(c.max_height||65535,r),t.setStyle(a,"height",r),e.fire("ResizeEditor")};return{resizeTo:i,resizeBy:function(e,t,n){var r=e.getContentAreaContainer();i(e,r.clientWidth+t,r.clientHeight+n)}}})),i("i",["d","c","4"],(function(e,t,n){var i=function(e,t,n){var i=e.settings[n];i&&i(function(e){return{element:function(){return e}}}(t.getEl("body")))},r=function(t,n,r){e.each(r,(function(e){var r=n.items().filter("#"+e.name)[0];r&&r.visible()&&e.name!==t&&(i(e,r,"onhide"),r.visible(!1))}))},o=function(t,n){return e.grep(t,(function(e){return e.name===n}))[0]},a=function(e,n,a){return function(s){var l=s.control,c=l.parents().filter("panel")[0],u=c.find("#"+n)[0],d=o(a,n);r(n,c,a),function(e){e.items().each((function(e){e.active(!1)}))}(l.parent()),u&&u.visible()?(i(d,u,"onhide"),u.hide(),l.active(!1)):(u?(u.show(),i(d,u,"onshow")):(u=t.create({type:"container",name:n,layout:"stack",classes:"sidebar-panel",html:""}),c.prepend(u),i(d,u,"onrender"),i(d,u,"onshow")),l.active(!0)),e.fire("ResizeEditor")}};return{hasSidebar:function(e){return!(n.ie&&!(n.ie>=11)||!e.sidebars)&&e.sidebars.length>0},createSidebar:function(t){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:e.map(t.sidebars,(function(e){var n=e.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:a(t,e.name,t.sidebars)}}))}]}}}})),i("j",[],(function(){return{fireSkinLoaded:function(e){var t=function(){e._skinLoaded=!0,e.fire("SkinLoaded")};return function(){e.initialized?t():e.on("init",t)}}}})),i("6",["b","c","d","e","f","g","h","9","i","j","k"],(function(e,t,n,i,r,o,a,s,l,c,u){var d=e.DOM,h=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},f=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[h("0"),l.createSidebar(e)]}};return{render:function(e,n,p){var A,g,m,v=e.settings;return p.skinUiCss&&d.styleSheetLoader.load(p.skinUiCss,c.fireSkinLoaded(e)),A=n.panel=t.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===v.menubar?null:{type:"menubar",border:"0 0 1 0",items:a.createMenuButtons(e)},u.createToolbars(e,v.toolbar_items_size),l.hasSidebar(e)?f(e):h("1 0 0 0")]}),!1!==v.resize&&(g={type:"resizehandle",direction:v.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;m={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===v.resize?s.resizeTo(e,m.width+t.deltaX,m.height+t.deltaY):s.resizeTo(e,null,m.height+t.deltaY)}}),!1!==v.statusbar&&A.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},g]}),e.fire("BeforeRenderUI"),e.on("SwitchMode",function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}}(A)),A.renderBefore(p.targetNode).reflow(),v.readonly&&e.setMode("readonly"),p.width&&d.setStyle(A.getEl(),"width",p.width),e.on("remove",(function(){A.remove(),A=null})),i.addKeys(e,A),o.addContextualToolbars(e),r.setup(e),{iframeContainer:A.find("#iframe")[0].getEl(),editorContainer:A.getEl()}}}})),i("l",["a"],(function(e){return e("tinymce.ui.FloatPanel")})),i("7",["d","c","b","l","k","h","g","e","j"],(function(e,t,n,i,r,o,a,s,l){return{render:function(e,c,u){var d,h,f=e.settings,p=n.DOM;f.fixed_toolbar_container&&(h=p.select(f.fixed_toolbar_container)[0]);var A=function(){if(d&&d.moveRel&&d.visible()&&!d._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),i=0,r=0;if(t){var o=p.getPos(n),a=p.getPos(t);i=Math.max(0,a.x-o.x),r=Math.max(0,a.y-o.y)}d.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,r)}},g=function(){d&&(d.show(),A(),p.addClass(e.getBody(),"mce-edit-focus"))},m=function(){d&&(d.hide(),i.hideAll(),p.removeClass(e.getBody(),"mce-edit-focus"))},v=function(){return d?void(d.visible()||g()):(d=c.panel=t.create({type:h?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!h,border:1,items:[!1===f.menubar?null:{type:"menubar",border:"0 0 1 0",items:o.createMenuButtons(e)},r.createToolbars(e,f.toolbar_items_size)]}),e.fire("BeforeRenderUI"),d.renderTo(h||document.body).reflow(),s.addKeys(e,d),g(),a.addContextualToolbars(e),e.on("nodeChange",A),e.on("activate",g),e.on("deactivate",m),void e.nodeChanged())};return f.content_editable=!0,e.on("focus",(function(){u.skinUiCss?p.styleSheetLoader.load(u.skinUiCss,v,v):v()})),e.on("blur hide",m),e.on("remove",(function(){d&&(d.remove(),d=null)})),u.skinUiCss&&p.styleSheetLoader.load(u.skinUiCss,l.fireSkinLoaded(e)),{}}}})),i("m",["a"],(function(e){return e("tinymce.ui.Throbber")})),i("8",["m"],(function(e){return{setup:function(t,n){var i;t.on("ProgressState",(function(t){i=i||new e(n.panel.getEl("body")),t.state?i.show(t.time):i.hide()}))}}})),i("0",["1","2","3","4","5","6","7","8","9"],(function(e,t,n,i,r,o,a,s,l){var c=t.ThemeManager;return r.appendTo(e.tinymce?e.tinymce:{}),c.add("modern",(function(e){return{renderUI:function(t){return function(e,t,i){var r=e.settings,l=!1!==r.skin&&(r.skin||"lightgray");if(l){var c=r.skin_url;c=c?e.documentBaseURI.toAbsolute(c):n.baseURL+"/skins/"+l,i.skinUiCss=c+"/skin.min.css",e.contentCSS.push(c+"/content"+(e.inline?".inline":"")+".min.css")}return s.setup(e,t),r.inline?a.render(e,t,i):o.render(e,t,i)}(e,this,t)},resizeTo:function(t,n){return l.resizeTo(e,t,n)},resizeBy:function(t,n){return l.resizeBy(e,t,n)}}})),function(){}})),n("0")()}()},51668:function(e){var t,n,i,r;t={},n=function(e){var i=t[e];if(void 0===i)throw"module ["+e+"] was undefined";return void 0===i.instance&&function(e){for(var i=t[e],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+e+"] returned undefined";i.instance=c}(e),i.instance},i=function(e,n,i){if("string"!=typeof e)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+e;if(void 0===i)throw"no definition function for "+e;t[e]={deps:n,defn:i,instance:void 0}},(r=function(e,t){i(e,[],(function(){return t}))})("global!Array",Array),r("global!Error",Error),i("ephox.katamari.api.Fun",["global!Array","global!Error"],(function(e,t){var n=function(e){return function(){return e}},i=n(!1),r=n(!0);return{noop:function(){},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){for(var i=new e(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];var o=n.concat(i);return t.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:i,always:r}})),i("tinymce.core.util.Promise",[],(function(){if(window.Promise)return window.Promise;var e=i.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};function t(e,t){return function(){e.apply(t,arguments)}}var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,t(o,this),t(a,this))}function r(t){var n=this;null!==this._state?e((function(){var e=n._state?t.onFulfilled:t.onRejected;if(null!==e){var i;try{i=e(n._value)}catch(e){return void t.reject(e)}t.resolve(i)}else(n._state?t.resolve:t.reject)(n._value)})):this._deferreds.push(t)}function o(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void c(t(n,e),t(o,this),t(a,this))}this._state=!0,this._value=e,s.call(this)}catch(e){a.call(this,e)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function c(e,t,n){var i=!1;try{e((function(e){i||(i=!0,t(e))}),(function(e){i||(i=!0,n(e))}))}catch(e){if(i)return;i=!0,n(e)}}return i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=this;return new i((function(i,o){r.call(n,new l(e,t,i,o))}))},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new i((function(t,n){if(0===e.length)return t([]);var i=e.length;function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(o,e)}),n)}e[o]=a,0==--i&&t(e)}catch(e){n(e)}}for(var o=0;o<e.length;o++)r(o,e[o])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)}))},i})),i("tinymce.core.util.Delay",["tinymce.core.util.Promise"],(function(e){var t;function n(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function i(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function r(e,t){var i,r;return r=function(){var r=arguments;clearTimeout(i),i=n((function(){e.apply(this,r)}),t)},r.stop=function(){clearTimeout(i)},r}return{requestAnimationFrame:function(n,i){t?t.then(n):t=new e((function(e){i||(i=document.body),function(e,t){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"];for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=function(e){window.setTimeout(e,0)}),i(e,t)}(e,i)})).then(n)},setTimeout:n,setInterval:i,setEditorTimeout:function(e,t,i){return n((function(){e.removed||t()}),i)},setEditorInterval:function(e,t,n){var r;return r=i((function(){e.removed?clearInterval(r):t()}),n)},debounce:r,throttle:r,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}}})),i("tinymce.core.Env",[],(function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,f=navigator,p=f.userAgent;function A(e){return"matchMedia"in window&&matchMedia(e).matches}return e=window.opera&&window.opera.buildNumber,l=/Android/.test(p),n=(n=!(t=/WebKit/.test(p))&&!e&&/MSIE/gi.test(p)&&/Explorer/gi.test(f.appName))&&/MSIE (\w+)\./.exec(p)[1],i=-1!=p.indexOf("Trident/")&&(-1!=p.indexOf("rv:")||-1!=f.appName.indexOf("Netscape"))&&11,r=-1!=p.indexOf("Edge/")&&!n&&!i&&12,n=n||i||r,o=!t&&!i&&/Gecko/.test(p),a=-1!=p.indexOf("Mac"),s=/(iPad|iPhone)/.test(p),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,u=A("only screen and (max-device-width: 480px)")&&(l||s),d=A("only screen and (min-width: 800px)")&&(l||s),h=-1!=p.indexOf("Windows Phone"),r&&(t=!1),{opera:e,webkit:t,ie:n,gecko:o,mac:a,iOS:s,android:l,contentEditable:!s||c||p.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n&&!r?document.documentMode||7:10,fileApi:c,ceFalse:!1===n||n>8,canHaveCSP:!1===n||n>11,desktop:!u&&!d,windowsPhone:h}})),i("tinymce.core.dom.EventUtils",["tinymce.core.util.Delay","tinymce.core.Env"],(function(e,t){"use strict";var n=/^(?:mouse|contextmenu)|click/,i={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},r=function(e){return e.isDefaultPrevented===a||e.isDefaultPrevented===o},o=function(){return!1},a=function(){return!0};function s(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function l(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function c(e,s){var l,c,u=s||{};for(l in e)i[l]||(u[l]=e[l]);if(u.target||(u.target=u.srcElement||document),t.experimentalShadowDom&&(u.target=function(e,t){var n,i=t;return(n=e.path)&&n.length>0&&(i=n[0]),e.deepPath&&(n=e.deepPath())&&n.length>0&&(i=n[0]),i}(e,u.target)),e&&n.test(e.type)&&e.pageX===c&&e.clientX!==c){var d=u.target.ownerDocument||document,h=d.documentElement,f=d.body;u.pageX=e.clientX+(h&&h.scrollLeft||f&&f.scrollLeft||0)-(h&&h.clientLeft||f&&f.clientLeft||0),u.pageY=e.clientY+(h&&h.scrollTop||f&&f.scrollTop||0)-(h&&h.clientTop||f&&f.clientTop||0)}return u.preventDefault=function(){u.isDefaultPrevented=a,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},u.stopPropagation=function(){u.isPropagationStopped=a,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=a,u.stopPropagation()},!1===r(u)&&(u.isDefaultPrevented=o,u.isPropagationStopped=o,u.isImmediatePropagationStopped=o),void 0===u.metaKey&&(u.metaKey=!1),u}function u(n,i,r){var o=n.document,a={type:"ready"};function c(){return"complete"===o.readyState||"interactive"===o.readyState&&o.body}function u(){r.domLoaded||(r.domLoaded=!0,i(a))}r.domLoaded?i(a):(!o.addEventListener||t.ie&&t.ie<11?(s(o,"readystatechange",(function e(){c()&&(l(o,"readystatechange",e),u())})),o.documentElement.doScroll&&n.self===n.top&&function t(){try{o.documentElement.doScroll("left")}catch(n){return void e.setTimeout(t)}u()}()):c()?u():s(n,"DOMContentLoaded",u),s(n,"load",u))}function d(){var e,t,n,i,r,o=this,a={};function d(e,t){var n,i,r,o,s=a[t];if(n=s&&s[e.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}t="mce-data-"+(+new Date).toString(32),i="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,o.domLoaded=!1,o.events=a,o.bind=function(l,h,f,p){var A,g,m,v,y,b,w,x=window;function C(e){d(c(e||x.event),A)}if(l&&3!==l.nodeType&&8!==l.nodeType){for(l[t]?A=l[t]:(A=e++,l[t]=A,a[A]={}),p=p||l,m=(h=h.split(" ")).length;m--;)b=C,y=w=!1,"DOMContentLoaded"===(v=h[m])&&(v="ready"),o.domLoaded&&"ready"===v&&"complete"==l.readyState?f.call(p,c({type:v})):(i||(y=r[v])&&(b=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=c(e||x.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d(e,A))}),n||"focusin"!==v&&"focusout"!==v||(w=!0,y="focusin"===v?"focus":"blur",b=function(e){(e=c(e||x.event)).type="focus"===e.type?"focusin":"focusout",d(e,A)}),(g=a[A][v])?"ready"===v&&o.domLoaded?f({type:v}):g.push({func:f,scope:p}):(a[A][v]=g=[{func:f,scope:p}],g.fakeName=y,g.capture=w,g.nativeHandler=b,"ready"===v?u(l,b,o):s(l,y||v,b,w)));return l=g=0,f}},o.unbind=function(e,n,i){var r,s,c,u,d,h;if(!e||3===e.nodeType||8===e.nodeType)return o;if(r=e[t]){if(h=a[r],n){for(c=(n=n.split(" ")).length;c--;)if(s=h[d=n[c]]){if(i)for(u=s.length;u--;)if(s[u].func===i){var f=s.nativeHandler,p=s.fakeName,A=s.capture;(s=s.slice(0,u).concat(s.slice(u+1))).nativeHandler=f,s.fakeName=p,s.capture=A,h[d]=s}i&&0!==s.length||(delete h[d],l(e,s.fakeName||d,s.nativeHandler,s.capture))}}else{for(d in h)l(e,(s=h[d]).fakeName||d,s.nativeHandler,s.capture);h={}}for(d in h)return o;delete a[r];try{delete e[t]}catch(n){e[t]=null}}return o},o.fire=function(e,n,i){var r;if(!e||3===e.nodeType||8===e.nodeType)return o;(i=c(null,i)).type=n,i.target=e;do{(r=e[t])&&d(i,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!i.isPropagationStopped());return o},o.clean=function(e){var n,i,r=o.unbind;if(!e||3===e.nodeType||8===e.nodeType)return o;if(e[t]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),n=(i=e.getElementsByTagName("*")).length;n--;)(e=i[n])[t]&&r(e);return o},o.destroy=function(){a={}},o.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}return d.Event=new d,d.Event.bind(window,"ready",(function(){})),d})),i("tinymce.core.dom.Sizzle",[],(function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v="sizzle"+-new Date,y=window.document,b=0,w=0,x=te(),C=te(),_=te(),k=function(e,t){return e===t&&(u=!0),0},S="undefined",E=1<<31,T={}.hasOwnProperty,B=[],I=B.pop,D=B.push,F=B.push,M=B.slice,L=B.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O="\\["+P+"*("+R+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+P+"*\\]",N=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",U=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),H=new RegExp("^"+P+"*,"+P+"*"),$=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),Q=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),W=new RegExp(N),V=new RegExp("^"+R+"$"),j={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,X=/'|\\/g,J=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),Z=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{F.apply(B=M.call(y.childNodes),y.childNodes),B[y.childNodes.length].nodeType}catch(e){F={apply:B.length?function(e,t){D.apply(e,M.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ee(e,n,i,r){var a,l,c,u,f,g,b,w,x,C;if((n?n.ownerDocument||n:y)!==h&&d(n),i=i||[],!e||"string"!=typeof e)return i;if(1!==(u=(n=n||h).nodeType)&&9!==u)return[];if(p&&!r){if(a=q.exec(e))if(c=a[1]){if(9===u){if(!(l=n.getElementById(c))||!l.parentNode)return i;if(l.id===c)return i.push(l),i}else if(n.ownerDocument&&(l=n.ownerDocument.getElementById(c))&&m(n,l)&&l.id===c)return i.push(l),i}else{if(a[2])return F.apply(i,n.getElementsByTagName(e)),i;if((c=a[3])&&t.getElementsByClassName)return F.apply(i,n.getElementsByClassName(c)),i}if(t.qsa&&(!A||!A.test(e))){if(w=b=v,x=n,C=9===u&&e,1===u&&"object"!==n.nodeName.toLowerCase()){for(g=o(e),(b=n.getAttribute("id"))?w=b.replace(X,"\\$&"):n.setAttribute("id",w),w="[id='"+w+"'] ",f=g.length;f--;)g[f]=w+ce(g[f]);x=Y.test(e)&&se(n.parentNode)||n,C=g.join(",")}if(C)try{return F.apply(i,x.querySelectorAll(C)),i}catch(e){}finally{b||n.removeAttribute("id")}}}return s(e.replace(U,"$1"),n,i,r)}function te(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function ne(e){return e[v]=!0,e}function ie(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||E)-(~e.sourceIndex||E);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function re(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function oe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ae(e){return ne((function(t){return t=+t,ne((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function se(e){return e&&typeof e.getElementsByTagName!==S&&e}for(e in t=ee.support={},r=ee.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ee.setDocument=function(e){var i,o=e?e.ownerDocument||e:y,a=o.defaultView;return o!==h&&9===o.nodeType&&o.documentElement?(h=o,f=o.documentElement,p=!r(o),a&&a!==function(e){try{return e.top}catch(e){}return null}(a)&&(a.addEventListener?a.addEventListener("unload",(function(){d()}),!1):a.attachEvent&&a.attachEvent("onunload",(function(){d()}))),t.attributes=!0,t.getElementsByTagName=!0,t.getElementsByClassName=G.test(o.getElementsByClassName),t.getById=!0,n.find.ID=function(e,t){if(typeof t.getElementById!==S&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},n.filter.ID=function(e){var t=e.replace(J,Z);return function(e){return e.getAttribute("id")===t}},n.find.TAG=t.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==S)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},n.find.CLASS=t.getElementsByClassName&&function(e,t){if(p)return t.getElementsByClassName(e)},g=[],A=[],t.disconnectedMatch=!0,A=A.length&&new RegExp(A.join("|")),g=g.length&&new RegExp(g.join("|")),i=G.test(f.compareDocumentPosition),m=i||G.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=i?function(e,n){if(e===n)return u=!0,0;var i=!e.compareDocumentPosition-!n.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(n.ownerDocument||n)?e.compareDocumentPosition(n):1)||!t.sortDetached&&n.compareDocumentPosition(e)===i?e===o||e.ownerDocument===y&&m(y,e)?-1:n===o||n.ownerDocument===y&&m(y,n)?1:c?L.call(c,e)-L.call(c,n):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!r||!a)return e===o?-1:t===o?1:r?-1:a?1:c?L.call(c,e)-L.call(c,t):0;if(r===a)return ie(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?ie(s[i],l[i]):s[i]===y?-1:l[i]===y?1:0},o):h},ee.matches=function(e,t){return ee(e,null,null,t)},ee.matchesSelector=function(e,n){if((e.ownerDocument||e)!==h&&d(e),n=n.replace(Q,"='$1']"),t.matchesSelector&&p&&(!g||!g.test(n))&&(!A||!A.test(n)))try{var i=(void 0).call(e,n);if(i||t.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return ee(n,h,null,[e]).length>0},ee.contains=function(e,t){return(e.ownerDocument||e)!==h&&d(e),m(e,t)},ee.attr=function(e,i){(e.ownerDocument||e)!==h&&d(e);var r=n.attrHandle[i.toLowerCase()],o=r&&T.call(n.attrHandle,i.toLowerCase())?r(e,i,!p):void 0;return void 0!==o?o:t.attributes||!p?e.getAttribute(i):(o=e.getAttributeNode(i))&&o.specified?o.value:null},ee.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ee.uniqueSort=function(e){var n,i=[],r=0,o=0;if(u=!t.detectDuplicates,c=!t.sortStable&&e.slice(0),e.sort(k),u){for(;n=e[o++];)n===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return c=null,e},i=ee.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},n=ee.selectors={cacheLength:50,createPseudo:ne,match:j,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,Z),e[3]=(e[3]||e[4]||e[5]||"").replace(J,Z),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ee.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ee.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return j.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,Z).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==S&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=ee.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,A=o!==a?"nextSibling":"previousSibling",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;A;){for(d=t;d=d[A];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;p=A="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(f=(c=(u=g[v]||(g[v]={}))[e]||[])[0]===b&&c[1],h=c[0]===b&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[A]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[b,f,h];break}}else if(y&&(c=(t[v]||(t[v]={}))[e])&&c[0]===b)h=c[1];else for(;(d=++f&&d&&d[A]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++h||(y&&((d[v]||(d[v]={}))[e]=[b,h]),d!==t)););return(h-=r)===i||h%i==0&&h/i>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ee.error("unsupported pseudo: "+e);return r[v]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ne((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=L.call(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,i)}):r}},pseudos:{not:ne((function(e){var t=[],n=[],i=a(e.replace(U,"$1"));return i[v]?ne((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}})),has:ne((function(e){return function(t){return ee(e,t).length>0}})),contains:ne((function(e){return e=e.replace(J,Z),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:ne((function(e){return V.test(e||"")||ee.error("unsupported lang: "+e),e=e.replace(J,Z).toLowerCase(),function(t){var n;do{if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:ae((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=oe(e);function le(){}function ce(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ue(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=w++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[b,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=t[v]||(t[v]={}))[i])&&s[0]===b&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function de(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function he(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function fe(e,t,n,i,r,o){return i&&!i[v]&&(i=fe(i)),r&&!r[v]&&(r=fe(r,o)),ne((function(o,a,s,l){var c,u,d,h=[],f=[],p=a.length,A=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ee(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?A:he(A,h,e,s,l),m=n?r||(o?e:p||i)?[]:a:g;if(n&&n(g,m,s,l),i)for(c=he(m,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(m[f[u]]=!(g[f[u]]=d));if(o){if(r||e){if(r){for(c=[],u=m.length;u--;)(d=m[u])&&c.push(g[u]=d);r(null,m=[],c,l)}for(u=m.length;u--;)(d=m[u])&&(c=r?L.call(o,d):h[u])>-1&&(o[c]=!(a[c]=d))}}else m=he(m===a?m.splice(p,m.length):m),r?r(null,a,m,l):F.apply(a,m)}))}function pe(e){for(var t,i,r,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],c=a?1:0,u=ue((function(e){return e===t}),s,!0),d=ue((function(e){return L.call(t,e)>-1}),s,!0),h=[function(e,n,i){return!a&&(i||n!==l)||((t=n).nodeType?u(e,n,i):d(e,n,i))}];c<o;c++)if(i=n.relative[e[c].type])h=[ue(de(h),i)];else{if((i=n.filter[e[c].type].apply(null,e[c].matches))[v]){for(r=++c;r<o&&!n.relative[e[r].type];r++);return fe(c>1&&de(h),c>1&&ce(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(U,"$1"),i,c<r&&pe(e.slice(c,r)),r<o&&pe(e=e.slice(r)),r<o&&ce(e))}h.push(i)}return de(h)}return le.prototype=n.filters=n.pseudos,n.setFilters=new le,o=ee.tokenize=function(e,t){var i,r,o,a,s,l,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=n.preFilter;s;){for(a in i&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=$.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(U," ")}),s=s.slice(i.length)),n.filter)!(r=j[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return t?s.length:s?ee.error(e):C(e,l).slice(0)},a=ee.compile=function(e,t){var i,r=[],a=[],s=_[e+" "];if(!s){for(t||(t=o(e)),i=t.length;i--;)(s=pe(t[i]))[v]?r.push(s):a.push(s);s=_(e,function(e,t){var i=t.length>0,r=e.length>0,o=function(o,a,s,c,u){var d,f,p,A=0,g="0",m=o&&[],v=[],y=l,w=o||r&&n.find.TAG("*",u),x=b+=null==y?1:Math.random()||.1,C=w.length;for(u&&(l=a!==h&&a);g!==C&&null!=(d=w[g]);g++){if(r&&d){for(f=0;p=e[f++];)if(p(d,a,s)){c.push(d);break}u&&(b=x)}i&&((d=!p&&d)&&A--,o&&m.push(d))}if(A+=g,i&&g!==A){for(f=0;p=t[f++];)p(m,v,a,s);if(o){if(A>0)for(;g--;)m[g]||v[g]||(v[g]=I.call(c));v=he(v)}F.apply(c,v),u&&!o&&v.length>0&&A+t.length>1&&ee.uniqueSort(c)}return u&&(b=x,l=y),m};return i?ne(o):o}(a,r)),s.selector=e}return s},s=ee.select=function(e,i,r,s){var l,c,u,d,h,f="function"==typeof e&&e,A=!s&&o(e=f.selector||e);if(r=r||[],1===A.length){if((c=A[0]=A[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&t.getById&&9===i.nodeType&&p&&n.relative[c[1].type]){if(!(i=(n.find.ID(u.matches[0].replace(J,Z),i)||[])[0]))return r;f&&(i=i.parentNode),e=e.slice(c.shift().value.length)}for(l=j.needsContext.test(e)?0:c.length;l--&&(u=c[l],!n.relative[d=u.type]);)if((h=n.find[d])&&(s=h(u.matches[0].replace(J,Z),Y.test(c[0].type)&&se(i.parentNode)||i))){if(c.splice(l,1),!(e=s.length&&ce(c)))return F.apply(r,s),r;break}}return(f||a(e,A))(s,i,!p,r,Y.test(e)&&se(i.parentNode)||i),r},t.sortStable=v.split("").sort(k).join("")===v,t.detectDuplicates=!!u,d(),t.sortDetached=!0,ee})),i("tinymce.core.util.Arr",[],(function(){var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function t(e,t,n){var i,r;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1}function n(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1}return{isArray:e,toArray:function(t){var n,i,r=t;if(!e(t))for(r=[],n=0,i=t.length;n<i;n++)r[n]=t[n];return r},each:t,map:function(e,n){var i=[];return t(e,(function(t,r){i.push(n(t,r,e))})),i},filter:function(e,n){var i=[];return t(e,(function(t,r){n&&!n(t,r,e)||i.push(t)})),i},indexOf:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},findIndex:n,find:function(e,t,i){var r=n(e,t,i);if(-1!==r)return e[r]},last:function(e){return e[e.length-1]}}})),i("tinymce.core.util.Tools",["tinymce.core.Env","tinymce.core.util.Arr"],(function(e,t){var n=/^\s*|\s*$/g;function i(e){return null==e?"":(""+e).replace(n,"")}function r(e,n){return n?!("array"!=n||!t.isArray(e))||typeof e==n:void 0!==e}return{trim:i,isArray:t.isArray,is:r,toArray:t.toArray,makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:t.each,map:t.map,grep:t.filter,inArray:t.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){var n,i,r,o,a=arguments;for(n=1,i=a.length;n<i;n++)for(r in t=a[n])t.hasOwnProperty(r)&&void 0!==(o=t[r])&&(e[r]=o);return e},create:function(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"==e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,(function(e,t){r[o].prototype[t]=i[t]})),l.each(t,(function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)}))),l.each(t.static,(function(e,t){r[o][t]=e}))}},walk:function e(n,i,r,o){o=o||this,n&&(r&&(n=n[r]),t.each(n,(function(t,n){if(!1===i.call(o,t,n,r))return!1;e(t,i,r,o)})))},createNS:function(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t},resolve:function(e,t){var n,i;for(t=t||window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t},explode:function(e,n){return!e||r(e,"array")?e:t.map(e.split(n||","),i)},_addCacheSuffix:function(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}}})),i("tinymce.core.dom.DomQuery",["tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.Env"],(function(e,t,n,i){var r,o=document,a=Array.prototype.push,s=Array.prototype.slice,l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,c=e.Event,u=n.makeMap("children,contents,next,prev");function d(e){return void 0!==e}function h(e){return"string"==typeof e}function f(e,t){var n,i,r;for(r=(t=t||o).createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n}function p(e,t,n,i){var r;if(h(t))t=f(t,T(e[0]));else if(t.length&&!t.nodeType){if(t=C.makeArray(t),i)for(r=t.length-1;r>=0;r--)p(e,t[r],n,i);else for(r=0;r<t.length;r++)p(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e}function A(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function g(e,t,n){var i,r;return t=C(t)[0],e.each((function(){var e=this;n&&i==e.parentNode||(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e)),r.appendChild(e)})),e}var m=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),v=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),y={for:"htmlFor",class:"className",readonly:"readOnly"},b={float:"cssFloat"},w={},x={};function C(e,t){return new C.fn.init(e,t)}var _=/^\s*|\s*$/g;function k(e){return null===e||e===r?"":(""+e).replace(_,"")}function S(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e}function E(e,t){var n=[];return S(e,(function(e,i){t(i,e)&&n.push(i)})),n}function T(e){return e?9==e.nodeType?e:e.ownerDocument:o}function B(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof C&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&C(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i}function I(e,t,n,i){var r=[];for(i instanceof C&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&C(e).is(i))break}r.push(e)}return r}function D(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function F(e,t,n){S(n,(function(n,i){e[n]=e[n]||{},e[n][t]=i}))}return C.fn=C.prototype={constructor:C,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return C(e).attr(t);r.context=t=document}if(h(e)){if(r.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:l.exec(e)))return C(t).find(e);if(n[1])for(i=f(e,T(t)).firstChild;i;)a.call(r,i),i=i.nextSibling;else{if(!(i=T(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return n.toArray(this)},add:function(e,t){var n,i,r=this;if(h(e))return r.add(C(e));if(!1!==t)for(n=C.unique(r.toArray().concat(C.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else a.apply(r,C.makeArray(e));return r},attr:function(e,t){var n,i=this;if("object"==typeof e)S(e,(function(e,t){i.attr(e,t)}));else{if(!d(t)){if(i[0]&&1===i[0].nodeType){if((n=w[e])&&n.get)return n.get(i[0],e);if(v[e])return i.prop(e)?e:r;null===(t=i[0].getAttribute(e,2))&&(t=r)}return t}this.each((function(){var n;if(1===this.nodeType){if((n=w[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=y[e]||e))S(e,(function(e,t){n.prop(e,t)}));else{if(!d(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1==this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,i,o=this;function a(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))}function s(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))}if("object"==typeof e)S(e,(function(e,t){o.css(e,t)}));else if(d(t))e=a(e),"number"!=typeof t||m[e]||(t+="px"),o.each((function(){var n=this.style;if((i=x[e])&&i.set)i.set(this,t);else{try{this.style[b[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(s(e)):n.removeAttribute(e))}}));else{if(n=o[0],(i=x[e])&&i.get)return i.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(e))}catch(e){return r}else if(n.currentStyle)return n.currentStyle[a(e)]}return o},remove:function(){for(var e,t=this.length;t--;)e=this[t],c.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(d(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){C(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(d(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return p(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return p(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?p(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?p(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return C(e).append(this),this},prependTo:function(e){return C(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return g(this,e)},wrapAll:function(e){return g(this,e,!0)},wrapInner:function(e){return this.each((function(){C(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){C(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),C(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?S(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,i){var r,o;(o=A(i,e))!==t&&(r=i.className,o?i.className=k((" "+r+" ").replace(" "+e+" "," ")):i.className+=r?" "+e:e)}))),n},hasClass:function(e){return A(this[0],e)},each:function(e){return S(this,e)},on:function(e,t){return this.each((function(){c.bind(this,e,t)}))},off:function(e,t){return this.each((function(){c.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?c.fire(this,e.type,e):c.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new C(s.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)C.find(e,this[t],i);return C(i)},filter:function(e){return C("function"==typeof e?E(this.toArray(),(function(t,n){return e(n,t)})):C.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof C&&(e=e[0]),this.each((function(n,i){for(;i;){if("string"==typeof e&&C(i).is(e)){t.push(i);break}if(i==e){t.push(i);break}i=i.parentNode}})),C(t)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:a,sort:[].sort,splice:[].splice},n.extend(C,{extend:n.extend,makeArray:function(e){return(t=e)&&t==t.window||e.nodeType?[e]:n.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:n.isArray,each:S,trim:k,grep:E,find:t,expr:t.selectors,unique:t.uniqueSort,text:t.getText,contains:t.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!=t[i].nodeType&&t.splice(i,1);return 1===t.length?C.find.matchesSelector(t[0],e)?[t[0]]:[]:C.find.matches(e,t)}}),S({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return B(e,"parentNode")},next:function(e){return D(e,"nextSibling",1)},prev:function(e){return D(e,"previousSibling",1)},children:function(e){return I(e.firstChild,"nextSibling",1)},contents:function(e){return n.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){C.fn[e]=function(n){var i=[];return this.each((function(){var e=t.call(i,this,n,i);e&&(C.isArray(e)?i.push.apply(i,e):i.push(e))})),this.length>1&&(u[e]||(i=C.unique(i)),0===e.indexOf("parents")&&(i=i.reverse())),i=C(i),n?i.filter(n):i}})),S({parentsUntil:function(e,t){return B(e,"parentNode",t)},nextUntil:function(e,t){return I(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return I(e,"previousSibling",1,t).slice(1)}},(function(e,t){C.fn[e]=function(n,i){var r=[];return this.each((function(){var e=t.call(r,this,n,r);e&&(C.isArray(e)?r.push.apply(r,e):r.push(e))})),this.length>1&&(r=C.unique(r),0!==e.indexOf("parents")&&"prevUntil"!==e||(r=r.reverse())),r=C(r),i?r.filter(i):r}})),C.fn.is=function(e){return!!e&&this.filter(e).length>0},C.fn.init.prototype=C.fn,C.overrideDefaults=function(e){var t;function n(i,r){return t=t||e(),0===arguments.length&&(i=t.element),r||(r=t.context),new n.fn.init(i,r)}return C.extend(n,this),n},i.ie&&i.ie<8&&(F(w,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?r:t},size:function(e){var t=e.size;return 20===t?r:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?r:t}}),F(w,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(b.float="styleFloat",F(x,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),C.attrHooks=w,C.cssHooks=x,C})),i("tinymce.core.dom.Range",["tinymce.core.util.Tools"],(function(e){function t(n){var i=this,r=n.doc,o=1,a=2,s=!0,l=!1,c="startOffset",u="startContainer",d="endContainer",h="endOffset",f=e.extend,p=n.nodeIndex;function A(){return r.createDocumentFragment()}function g(e,t){C(s,e,t)}function m(e,t){C(l,e,t)}function v(e){g(e.parentNode,p(e))}function y(e){m(e.parentNode,p(e)+1)}function b(){return _(o)}function w(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n||e}function x(e,t,i,r){var o,a,s,l,c,u;if(e==i)return t==r?0:t<r?-1:1;for(o=i;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&a<t;)a++,s=s.nextSibling;return t<=a?-1:1}for(o=e;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&a<r;)a++,s=s.nextSibling;return a<r?-1:1}for(l=n.findCommonAncestor(e,i),c=e;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=i;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function C(e,t,r){var o,a;for(e?(i[u]=t,i[c]=r):(i[d]=t,i[h]=r),o=i[d];o.parentNode;)o=o.parentNode;for(a=i[u];a.parentNode;)a=a.parentNode;a==o?x(i[u],i[c],i[d],i[h])>0&&i.collapse(e):i.collapse(e),i.collapsed=i[u]==i[d]&&i[c]==i[h],i.commonAncestorContainer=n.findCommonAncestor(i[u],i[d])}function _(e){var t,n,l,f,g,m,v,y=0,b=0;if(i[u]==i[d])return function(e){var t,n,l,d,f,p,g,m;if(e!=a&&(t=A()),i[c]==i[h])return t;if(3==i[u].nodeType){if(n=i[u].nodeValue.substring(i[c],i[h]),e!=o&&(l=i[u],g=i[c],m=i[h]-i[c],0===g&&m>=l.nodeValue.length-1?l.parentNode.removeChild(l):l.deleteData(g,m),i.collapse(s)),e==a)return;return n.length>0&&t.appendChild(r.createTextNode(n)),t}for(l=w(i[u],i[c]),d=i[h]-i[c];l&&d>0;)f=l.nextSibling,p=I(l,e),t&&t.appendChild(p),--d,l=f;return e!=o&&i.collapse(s),t}(e);for(n=(t=i[d]).parentNode;n;t=n,n=n.parentNode){if(n==i[u])return k(t,e);++y}for(n=(t=i[u]).parentNode;n;t=n,n=n.parentNode){if(n==i[d])return S(t,e);++b}for(l=b-y,f=i[u];l>0;)f=f.parentNode,l--;for(g=i[d];l<0;)g=g.parentNode,l++;for(m=f.parentNode,v=g.parentNode;m!=v;m=m.parentNode,v=v.parentNode)f=m,g=v;return function(e,t,n){var r,l,c,u,d,h;for(n!=a&&(l=A()),r=T(e,n),l&&l.appendChild(r),c=p(e),u=p(t)-++c,d=e.nextSibling;u>0;)h=d.nextSibling,r=I(d,n),l&&l.appendChild(r),d=h,--u;return r=E(t,n),l&&l.appendChild(r),n!=o&&(i.setStartAfter(e),i.collapse(s)),l}(f,g,e)}function k(e,t){var n,r,s,u,d;if(t!=a&&(n=A()),r=E(e,t),n&&n.appendChild(r),(s=p(e)-i[c])<=0)return t!=o&&(i.setEndBefore(e),i.collapse(l)),n;for(r=e.previousSibling;s>0;)u=r.previousSibling,d=I(r,t),n&&n.insertBefore(d,n.firstChild),--s,r=u;return t!=o&&(i.setEndBefore(e),i.collapse(l)),n}function S(e,t){var n,r,l,c,u,d;for(t!=a&&(n=A()),l=T(e,t),n&&n.appendChild(l),r=p(e),++r,c=i[h]-r,l=e.nextSibling;l&&c>0;)u=l.nextSibling,d=I(l,t),n&&n.appendChild(d),--c,l=u;return t!=o&&(i.setStartAfter(e),i.collapse(s)),n}function E(e,t){var n,r,o,c,u,f=w(i[d],i[h]-1),p=f!=i[d];if(f==e)return B(f,p,l,t);for(r=B(n=f.parentNode,l,l,t);n;){for(;f;)o=f.previousSibling,c=B(f,p,l,t),t!=a&&r.insertBefore(c,r.firstChild),p=s,f=o;if(n==e)return r;f=n.previousSibling,u=B(n=n.parentNode,l,l,t),t!=a&&u.appendChild(r),r=u}}function T(e,t){var n,r,o,d,h,f=w(i[u],i[c]),p=f!=i[u];if(f==e)return B(f,p,s,t);for(r=B(n=f.parentNode,l,s,t);n;){for(;f;)o=f.nextSibling,d=B(f,p,s,t),t!=a&&r.appendChild(d),p=s,f=o;if(n==e)return r;f=n.nextSibling,h=B(n=n.parentNode,l,s,t),t!=a&&h.appendChild(r),r=h}}function B(e,t,r,s){var u,d,f,p,A;if(t)return I(e,s);if(3==e.nodeType){if(u=e.nodeValue,r?(p=i[c],d=u.substring(p),f=u.substring(0,p)):(p=i[h],d=u.substring(0,p),f=u.substring(p)),s!=o&&(e.nodeValue=f),s==a)return;return(A=n.clone(e,l)).nodeValue=d,A}return s!=a?n.clone(e,l):void 0}function I(e,t){if(t!=a)return t==o?n.clone(e,s):e;e.parentNode.removeChild(e)}return f(i,{startContainer:r,startOffset:0,endContainer:r,endOffset:0,collapsed:s,commonAncestorContainer:r,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:g,setEnd:m,setStartBefore:v,setStartAfter:function(e){g(e.parentNode,p(e)+1)},setEndBefore:function(e){m(e.parentNode,p(e))},setEndAfter:y,collapse:function(e){e?(i[d]=i[u],i[h]=i[c]):(i[u]=i[d],i[c]=i[h]),i.collapsed=s},selectNode:function(e){v(e),y(e)},selectNodeContents:function(e){g(e,0),m(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)},compareBoundaryPoints:function(e,t){var n=i[u],r=i[c],o=i[d],a=i[h],s=t.startContainer,l=t.startOffset,f=t.endContainer,p=t.endOffset;return 0===e?x(n,r,s,l):1===e?x(o,a,s,l):2===e?x(o,a,f,p):3===e?x(n,r,f,p):void 0},deleteContents:function(){_(a)},extractContents:function(){return _(0)},cloneContents:b,insertNode:function(e){var t,i,r=this[u],o=this[c];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(e,i):3==r.nodeType?n.insertAfter(e,r):r.appendChild(e)):o?o>=r.nodeValue.length?n.insertAfter(e,r):(t=r.splitText(o),r.parentNode.insertBefore(e,t)):r.parentNode.insertBefore(e,r)},surroundContents:function(e){var t=i.extractContents();i.insertNode(e),e.appendChild(t),i.selectNode(e)},cloneRange:function(){return f(new t(n),{startContainer:i[u],startOffset:i[c],endContainer:i[d],endOffset:i[h],collapsed:i.collapsed,commonAncestorContainer:i.commonAncestorContainer})},toStringIE:function(){return n.create("body",null,b()).outerText}}),i}return t.prototype.toString=function(){return this.toStringIE()},t})),r("global!Object",Object),i("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],(function(e,t){var n,i,r,o,a=e.never,s=e.always,l=function(){return c},c=(o={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:r=function(e){return e},getOrThunk:i=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:r,orThunk:i,map:l,ap:l,each:function(){},bind:l,flatten:l,exists:a,forall:s,filter:l,equals:n=function(e){return e.isNone()},equals_:n,toArray:function(){return[]},toString:e.constant("none()")},t.freeze&&t.freeze(o),o),u=function(e){var t=function(){return e},n=function(){return r},i=function(t){return t(e)},r={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return u(t(e))},ap:function(t){return t.fold(l,(function(t){return u(t(e))}))},each:function(t){t(e)},bind:i,flatten:t,exists:i,forall:i,filter:function(t){return t(e)?r:c},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,(function(t){return n(e,t)}))},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r};return{some:u,none:l,from:function(e){return null==e?c:u(e)}}})),r("global!String",String),i("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],(function(e,t,n,i){var r,o=void 0===(r=t.prototype.indexOf)?function(e,t){return h(e,t)}:function(e,t){return r.call(e,t)},a=function(e,t){return o(e,t)>-1},s=function(e,n){for(var i=e.length,r=new t(i),o=0;o<i;o++){var a=e[o];r[o]=n(a,o,e)}return r},l=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n,e)},c=function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n,e)},u=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i,e)&&n.push(o)}return n},d=function(t,n){for(var i=0,r=t.length;i<r;i++)if(n(t[i],i,t))return e.some(i);return e.none()},h=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},f=t.prototype.push,p=function(e){for(var i=[],r=0,o=e.length;r<o;++r){if(!t.prototype.isPrototypeOf(e[r]))throw new n("Arr.flatten item "+r+" was not an array, input: "+e);f.apply(i,e[r])}return i},A=function(e,t){for(var n=0,i=e.length;n<i;++n)if(!0!==t(e[n],n,e))return!1;return!0},g=t.prototype.slice;return{map:s,each:l,eachr:c,partition:function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var a=e[r];(t(a,r,e)?n:i).push(a)}return{pass:n,fail:i}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),i=[],r=[],o=0,a=e.length;o<a;o++){var s=e[o],l=t(s);l!==n&&(i.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&i.push(r),i},indexOf:function(t,n){var i=o(t,n);return-1===i?e.none():e.some(i)},foldr:function(e,t,n){return c(e,(function(e){n=t(n,e)})),n},foldl:function(e,t,n){return l(e,(function(e){n=t(n,e)})),n},find:function(t,n){for(var i=0,r=t.length;i<r;i++){var o=t[i];if(n(o,i,t))return e.some(o)}return e.none()},findIndex:d,flatten:p,bind:function(e,t){var n=s(e,t);return p(n)},forall:A,exists:function(e,t){return d(e,t).isSome()},contains:a,equal:function(e,t){return e.length===t.length&&A(e,(function(e,n){return e===t[n]}))},reverse:function(e){var t=g.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],i=0;i<e.length;i+=t){var r=e.slice(i,i+t);n.push(r)}return n},difference:function(e,t){return u(e,(function(e){return!a(t,e)}))},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var a=e[r];n[i(a)]=t(a,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=g.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n}}})),r("global!setTimeout",setTimeout),i("ephox.katamari.api.LazyValue",["ephox.katamari.api.Arr","ephox.katamari.api.Option","global!setTimeout"],(function(e,t,n){var i=function(r){var o=t.none(),a=[],s=function(e){l()?c(e):a.push(e)},l=function(){return o.isSome()},c=function(e){o.each((function(t){n((function(){e(t)}),0)}))};return r((function(n){var i;o=t.some(n),i=a,e.each(i,c),a=[]})),{get:s,map:function(e){return i((function(t){s((function(n){t(e(n))}))}))},isReady:l}};return{nu:i,pure:function(e){return i((function(t){t(e)}))}}})),i("ephox.katamari.async.Bounce",["global!Array","global!setTimeout"],(function(e,t){return{bounce:function(n){return function(){var i=e.prototype.slice.call(arguments),r=this;t((function(){n.apply(r,i)}),0)}}}})),i("ephox.katamari.api.Future",["ephox.katamari.api.LazyValue","ephox.katamari.async.Bounce"],(function(e,t){var n=function(i){var r=function(e){i(t.bounce(e))};return{map:function(e){return n((function(t){r((function(n){var i=e(n);t(i)}))}))},bind:function(e){return n((function(t){r((function(n){e(n).get(t)}))}))},anonBind:function(e){return n((function(t){r((function(n){e.get(t)}))}))},toLazy:function(){return e.nu(r)},get:r}};return{nu:n,pure:function(e){return n((function(t){t(e)}))}}})),i("ephox.katamari.async.AsyncValues",["ephox.katamari.api.Arr"],(function(e){return{par:function(t,n){return n((function(n){var i=[],r=0;0===t.length?n([]):e.each(t,(function(e,o){e.get(function(e){return function(o){i[e]=o,++r>=t.length&&n(i)}}(o))}))}))}}})),i("ephox.katamari.api.Futures",["ephox.katamari.api.Arr","ephox.katamari.api.Future","ephox.katamari.async.AsyncValues"],(function(e,t,n){var i=function(e){return n.par(e,t.nu)};return{par:i,mapM:function(t,n){var r=e.map(t,n);return i(r)},compose:function(e,t){return function(n){return t(n).bind(e)}}}})),i("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],(function(e,t){var n=function(i){return{is:function(e){return i===e},isValue:e.constant(!0),isError:e.constant(!1),getOr:e.constant(i),getOrThunk:e.constant(i),getOrDie:e.constant(i),or:function(e){return n(i)},orThunk:function(e){return n(i)},fold:function(e,t){return t(i)},map:function(e){return n(e(i))},each:function(e){e(i)},bind:function(e){return e(i)},exists:function(e){return e(i)},forall:function(e){return e(i)},toOption:function(){return t.some(i)}}},i=function(n){return{is:e.constant(!1),isValue:e.constant(!1),isError:e.constant(!0),getOr:e.identity,getOrThunk:function(e){return e()},getOrDie:function(){return e.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return i(n)},each:e.noop,bind:function(e){return i(n)},exists:e.constant(!1),forall:e.constant(!0),toOption:t.none}};return{value:n,error:i}})),i("tinymce.core.dom.StyleSheetLoader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Future","ephox.katamari.api.Futures","ephox.katamari.api.Result","tinymce.core.util.Delay","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a){"use strict";return function(s,l){var c,u=0,d={};function h(e){s.getElementsByTagName("head")[0].appendChild(e)}function f(e,t,n){var i,r,l,f;function p(){for(var e=f.passed,t=e.length;t--;)e[t]();f.status=2,f.passed=[],f.failed=[]}function A(){for(var e=f.failed,t=e.length;t--;)e[t]();f.status=3,f.passed=[],f.failed=[]}function g(e,t){e()||((new Date).getTime()-l<c?o.setTimeout(t):A())}function m(){g((function(){for(var e,t,n=s.styleSheets,r=n.length;r--;)if((t=(e=n[r]).ownerNode?e.ownerNode:e.owningElement)&&t.id===i.id)return p(),!0}),m)}if(e=a._addCacheSuffix(e),d[e]?f=d[e]:(f={passed:[],failed:[]},d[e]=f),t&&f.passed.push(t),n&&f.failed.push(n),1!=f.status)if(2!=f.status)if(3!=f.status){if(f.status=1,(i=s.createElement("link")).rel="stylesheet",i.type="text/css",i.id="u"+u++,i.async=!1,i.defer=!1,l=(new Date).getTime(),!("onload"in i)||(v=navigator.userAgent.match(/WebKit\/(\d*)/))&&v[1]<536){if(navigator.userAgent.indexOf("Firefox")>0)return(r=s.createElement("style")).textContent='@import "'+e+'"',function e(){g((function(){try{var e=r.sheet.cssRules;return p(),!!e}catch(e){}}),e)}(),void h(r);m()}else i.onload=m,i.onerror=A;var v;h(i),i.href=e}else A();else p()}c=(l=l||{}).maxLoadTime||5e3;var p=function(e){return n.nu((function(n){f(e,t.compose(n,t.constant(r.value(e))),t.compose(n,t.constant(r.error(e))))}))},A=function(e){return e.fold(t.identity,t.identity)};return{load:f,loadAll:function(t,n,r){i.par(e.map(t,p)).get((function(t){var i=e.partition(t,(function(e){return e.isValue()}));i.fail.length>0?r(i.fail.map(A)):n(i.pass.map(A))}))}}}})),i("tinymce.core.dom.TreeWalker",[],(function(){return function(e,t){var n=e;function i(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[i])return o}}}this.current=function(){return n},this.next=function(e){return n=i(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=i(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,n,i,r){var o,a,s;if(e){if(o=e.previousSibling,t&&o===t)return;if(o){if(!r)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}}(n,"lastChild",0,e),n}}})),i("tinymce.core.html.Entities",["tinymce.core.util.Tools"],(function(e){var t,n,i,r=e.makeMap,o=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\"\']/g,l=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,c={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function u(e,t){var i,r,o,a={};if(e){for(e=e.split(","),t=t||10,i=0;i<e.length;i+=2)r=String.fromCharCode(parseInt(e[i],t)),n[r]||(o="&"+e[i+1]+";",a[r]=o,a[o]=r);return a}}n={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},t=u("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var d={encodeRaw:function(e,t){return e.replace(t?o:a,(function(e){return n[e]||e}))},encodeAllRaw:function(e){return(""+e).replace(s,(function(e){return n[e]||e}))},encodeNumeric:function(e,t){return e.replace(t?o:a,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":n[e]||"&#"+e.charCodeAt(0)+";"}))},encodeNamed:function(e,i,r){return r=r||t,e.replace(i?o:a,(function(e){return n[e]||r[e]||e}))},getEncodeFunc:function(e,i){return i=u(i)||t,(e=r(e.replace(/\+/g,","))).named&&e.numeric?function(e,t){return e.replace(t?o:a,(function(e){return void 0!==n[e]?n[e]:void 0!==i[e]?i[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:e.named?i?function(e,t){return d.encodeNamed(e,t,i)}:d.encodeNamed:e.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(l,(function(e,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):c[n]||String.fromCharCode(n):i[e]||t[e]||function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.textContent||t.innerText||e}(e)}))}};return d})),i("tinymce.core.html.Schema",["tinymce.core.util.Tools"],(function(e){var t={},n={},i=e.makeMap,r=e.each,o=e.extend,a=e.explode,s=e.inArray;function l(t,n){return(t=e.trim(t))?t.split(n||" "):[]}function c(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),r(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"==t?i(e,/[, ]/):a(e,/[, ]/)}))),n}return function(e){var u,d,h,f,p,A,g,m,v,y,b,w,x,C=this,_={},k={},S=[],E={},T={};function B(n,r,a){var s=e[n];return s?s=i(s,/[, ]/,i(s.toUpperCase(),/[, ]/)):(s=t[n])||(s=i(r," ",i(r.toUpperCase()," ")),s=o(s,a),t[n]=s),s}function I(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function D(e){var t,n,r,o,a,c,u,d,h,f,p,A,g,m,v,y,b,w,x,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(e)for(e=l(e,","),_["@"]&&(y=_["@"].attributes,b=_["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(a=C.exec(e[t])){if(m=a[1],h=a[2],v=a[3],d=a[5],c={attributes:A={},attributesOrder:g=[]},"#"===m&&(c.paddEmpty=!0),"-"===m&&(c.removeEmpty=!0),"!"===a[4]&&(c.removeEmptyAttrs=!0),y){for(w in y)A[w]=y[w];g.push.apply(g,b)}if(d)for(r=0,o=(d=l(d,"|")).length;r<o;r++)if(a=k.exec(d[r])){if(u={},p=a[1],f=a[2].replace(/::/g,":"),m=a[3],x=a[4],"!"===p&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(f),u.required=!0),"-"===p){delete A[f],g.splice(s(g,f),1);continue}m&&("="===m&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:f,value:x}),u.defaultValue=x),":"===m&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:f,value:x}),u.forcedValue=x),"<"===m&&(u.validValues=i(x,"?"))),E.test(f)?(c.attributePatterns=c.attributePatterns||[],u.pattern=I(f),c.attributePatterns.push(u)):(A[f]||g.push(f),A[f]=u)}y||"@"!=h||(y=A,b=g),v&&(c.outputName=h,_[v]=c),E.test(h)?(c.pattern=I(h),S.push(c)):_[h]=c}}function F(e){_={},S=[],D(e),r(h,(function(e,t){k[t]=e.children}))}function M(e){var n=/^(~)?(.+)$/;e&&(t.text_block_elements=t.block_elements=null,r(l(e,","),(function(e){var t=n.exec(e),i="~"===t[1],a=i?"span":"div",s=t[2];if(k[s]=k[a],E[s]=a,i||(v[s.toUpperCase()]={},v[s]={}),!_[s]){var l=_[a];delete(l=o({},l)).removeEmptyAttrs,delete l.removeEmpty,_[s]=l}r(k,(function(e,t){e[a]&&(k[t]=e=o({},k[t]),e[s]=e[a])}))})))}function L(n){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;t[e.schema]=null,n&&r(l(n,","),(function(e){var t,n,o=i.exec(e);o&&(n=o[1],t=n?k[o[2]]:k[o[2]]={"#comment":{}},t=k[o[2]],r(l(o[3],"|"),(function(e){"-"===n?delete t[e]:t[e]={}})))}))}function P(e){var t,n=_[e];if(n)return n;for(t=S.length;t--;)if((n=S[t]).pattern.test(e))return n}h=function(e){var i,o,a,s,c,u,d={};function h(e,t,r){var o,a,s;function c(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r}for(t=t||"","string"==typeof(r=r||[])&&(r=l(r)),o=(e=l(e)).length;o--;)s={attributes:c(a=l([i,t].join(" "))),attributesOrder:a,children:c(r,n)},d[e[o]]=s}function f(e,t){var n,i,r,o;for(n=(e=l(e)).length,t=l(t);n--;)for(i=d[e[n]],r=0,o=t.length;r<o;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])}return t[e]?t[e]:(i="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=e&&(i+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=e&&(i+=" xml:lang",a=[a,u="acronym applet basefont big font strike tt"].join(" "),r(l(u),(function(e){h(e,"",a)})),o=[o,c="center dir isindex noframes"].join(" "),s=[o,a].join(" "),r(l(c),(function(e){h(e,"",s)}))),s=s||[o,a].join(" "),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),h("address dt dd div caption","",s),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),h("blockquote","cite",s),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",s),h("dl","","dt dd"),h("a","href target rel media hreflang type",a),h("q","cite",a),h("ins del","cite datetime",s),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",s),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),h("param","name value"),h("map","name",[s,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",s),h("th","colspan rowspan headers scope abbr",s),h("form","accept-charset action autocomplete enctype method name novalidate target",s),h("fieldset","disabled form name",[s,"legend"].join(" ")),h("label","form for",a),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?s:a),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[s,"li"].join(" ")),h("noscript","",s),"html4"!=e&&(h("wbr"),h("ruby","",[a,"rt rp"].join(" ")),h("figcaption","",s),h("mark rt rp summary bdi","",a),h("canvas","width height",s),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[a,"option"].join(" ")),h("article section nav aside header footer","",s),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[s,"figcaption"].join(" ")),h("time","datetime",a),h("dialog","open",s),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",a),h("progress","value max",a),h("meter","value min max low high optimum",a),h("details","open",[s,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select","onchange"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),"html4"!=e&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("iframe","sandbox seamless allowfullscreen")),r(l("a form meter progress dfn"),(function(e){d[e]&&delete d[e].children[e]})),delete d.caption.children.table,delete d.script,t[e]=d,d)}((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),u=c(e.valid_styles),d=c(e.invalid_styles,"map"),m=c(e.valid_classes,"map"),f=B("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=B("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),A=B("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=B("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),y=B("non_empty_elements","td th iframe video audio object script pre code",A),b=B("move_caret_before_on_enter_elements","table",y),w=B("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),v=B("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",w),x=B("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),r((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(e){T[e]=new RegExp("</"+e+"[^>]*>","gi")})),e.valid_elements?F(e.valid_elements):(r(h,(function(e,t){_[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},k[t]=e.children})),"html5"!=e.schema&&r(l("strong/b em/i"),(function(e){e=l(e,"/"),_[e[1]].outputName=e[0]})),r(l("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(e){_[e]&&(_[e].removeEmpty=!0)})),r(l("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),(function(e){_[e].paddEmpty=!0})),r(l("span"),(function(e){_[e].removeEmptyAttrs=!0}))),M(e.custom_elements),L(e.valid_children),D(e.extended_valid_elements),L("+ol[ul|ol],+ul[ul|ol]"),r({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,t){_[t]&&(_[t].parentsRequired=l(e))})),e.invalid_elements&&r(a(e.invalid_elements),(function(e){_[e]&&delete _[e]})),P("span")||D("span[!data-mce-type|*]"),C.children=k,C.getValidStyles=function(){return u},C.getInvalidStyles=function(){return d},C.getValidClasses=function(){return m},C.getBoolAttrs=function(){return g},C.getBlockElements=function(){return v},C.getTextBlockElements=function(){return w},C.getTextInlineElements=function(){return x},C.getShortEndedElements=function(){return A},C.getSelfClosingElements=function(){return p},C.getNonEmptyElements=function(){return y},C.getMoveCaretBeforeOnEnterElements=function(){return b},C.getWhiteSpaceElements=function(){return f},C.getSpecialElements=function(){return T},C.isValidChild=function(e,t){var n=k[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},C.isValid=function(e,t){var n,i,r=P(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},C.getElementRule=P,C.getCustomElements=function(){return E},C.addValidElements=D,C.setValidElements=F,C.addCustomElements=M,C.addValidChildren=L,C.elements=_}})),i("tinymce.core.html.Styles",[],(function(){return function(e,t){var n,i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};for(e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles()),i="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<i.length;n++)u[i[n]]="\ufeff"+n,u["\ufeff"+n]=i[n];function d(e,t,n,i){function r(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}return{toHex:function(e){return e.replace(a,d)},parse:function(t){var i,r,o,h,f={},p=e.url_converter,A=e.url_converter_scope||this;function g(e,t,i){var r,o,a,s;if((r=f[e+"-top"+t])&&(o=f[e+"-right"+t])&&(a=f[e+"-bottom"+t])&&(s=f[e+"-left"+t])){var l=[r,o,a,s];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&i||(f[e+t]=-1==n?l[0]:l.join(" "),delete f[e+"-top"+t],delete f[e+"-right"+t],delete f[e+"-bottom"+t],delete f[e+"-left"+t])}}function m(e){var t,n=f[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return f[e]=n[0],!0}}function v(e){return h=!0,u[e]}function y(e,t){return h&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return u[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function b(e){return String.fromCharCode(parseInt(e.slice(1),16))}function w(e){return e.replace(/\\[0-9a-f]+/gi,b)}function x(t,n,i,r,o,a){if(o=o||a)return"'"+(o=y(o)).replace(/\'/g,"\\'")+"'";if(n=y(n||i||r),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return p&&(n=p.call(A,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,v)}));i=l.exec(t);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(c,"").toLowerCase(),o=i[2].replace(c,""),r&&o){if(r=w(r),o=w(o),-1!==r.indexOf("\ufeff")||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"==r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(a,d)).replace(s,x),f[r]=h?y(o,!0):o}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),function(e,t,n,i){m(t)&&m(n)&&m(i)&&(f.border=f[t]+" "+f[n]+" "+f[i],delete f[t],delete f[n],delete f[i])}(0,"border-width","border-style","border-color"),"medium none"===f.border&&delete f.border,"none"===f["border-image"]&&delete f["border-image"]}return f},serialize:function(e,t){var n,i,a="";function s(t){var n,i,o,s;if(n=r[t])for(i=0,o=n.length;i<o;i++)t=n[i],(s=e[t])&&(a+=(a.length>0?" ":"")+t+": "+s+";")}function l(e,t){var n;return!((n=o["*"])&&n[e]||(n=o[t])&&n[e])}if(t&&r)s("*"),s(t);else for(n in e)!(i=e[n])||o&&!l(n,t)||(a+=(a.length>0?" ":"")+n+": "+i+";");return a}}}})),i("tinymce.core.dom.DOMUtils",["tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.Range","tinymce.core.dom.Sizzle","tinymce.core.dom.StyleSheetLoader","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.html.Entities","tinymce.core.html.Schema","tinymce.core.html.Styles","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l,c,u){var d=u.each,h=u.is,f=u.grep,p=u.trim,A=a.ie,g=/^([a-z0-9],?)+$/i,m=/^[ \t\r\n]*$/;function v(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)}function y(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(r++,n=i);return r}function b(n,i){var o,a=this;a.doc=n,a.win=window,a.files={},a.counter=0,a.stdMode=!A||n.documentMode>=8,a.boxModel=!A||"CSS1Compat"==n.compatMode||a.stdMode,a.styleSheetLoader=new r(n),a.boundEvents=[],a.settings=i=i||{},a.schema=i.schema?i.schema:new l({}),a.styles=new c({url_converter:i.url_converter,url_converter_scope:i.url_converter_scope},i.schema),a.fixDoc(n),a.events=i.ownEvents?new t(i.proxy):t.Event,a.attrHooks=function(e,t){var n,i={},r=t.keep_values;return n={set:function(n,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||e,i,r,n[0])),n.attr("data-mce-"+r,i).attr(r,i)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(e,t){null===t||"object"!=typeof t?(r&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},r&&(i.href=i.src=n),i}(a,i),o=i.schema?i.schema.getBlockElements():{},a.$=e.overrideDefaults((function(){return{context:n,element:a.getRoot()}})),a.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}}return b.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(A&&n.schema)for(t in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,(function(t){e.createElement(t)})),n.schema.getCustomElements())e.createElement(t)},clone:function(e,t){var n,i,r=this;return!A||1!==e.nodeType||t?e.cloneNode(t):(i=r.doc,t?n.firstChild:(n=i.createElement(e.nodeName),d(r.getAttribs(e),(function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))})),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,i){var r,o=this,a=[];for(e=o.get(e),i=void 0===i,n=n||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),h(t,"string")&&(r=t,t="*"===t?function(e){return 1==e.nodeType}:function(e){return o.is(e,r)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!i)return e;a.push(e)}e=e.parentNode}return i?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){var n=this;return i(e,n.get(t)||n.settings.root_element||n.doc,[])},is:function(e,t){var n;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1==e.nodeType;if(g.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;n>=0;n--)if(t[n]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var r=e.nodeType?[e]:e;return i(t,r[0].ownerDocument||r[0],null,r).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,(function(e){var a;return a=h(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:e.appendChild(a)}))},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each((function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&v(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"==(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t=a.ie&&a.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&v(this,e)},removeAllAttribs:function(e){return this.run(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},setAttrib:function(e,t,n){var i,r,o=this,a=o.settings;""===n&&(n=null),i=(e=o.$$(e)).attr(t),e.length&&((r=o.attrHooks[t])&&r.set?r.set(e,n,t):e.attr(t,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each((function(e,i){d(t,(function(e,t){n.setAttrib(i,t,e)}))}))},getAttrib:function(e,t,n){var i,r;return(e=this.$$(e)).length&&(r=(i=this.attrHooks[t])&&i.get?i.get(e,t):e.attr(t)),void 0===r&&(r=n||""),r},getPos:function(t,n){var i,r,o=this,a=0,s=0,l=o.doc,c=l.body;if(n=n||c,t=o.get(t)){if(n===c&&t.getBoundingClientRect&&"static"===e(c).css("position"))return r=t.getBoundingClientRect(),n=o.boxModel?l.documentElement:c,{x:a=r.left+(l.documentElement.scrollLeft||c.scrollLeft)-n.clientLeft,y:s=r.top+(l.documentElement.scrollTop||c.scrollTop)-n.clientTop};for(i=t;i&&i!=n&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!=n&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode}return{x:a,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this.doc;if(this!==b.DOM&&i===document){var r=b.DOM.addedStyles;if((r=r||[])[e])return;r[e]=!0,b.DOM.addedStyles=r}(n=i.getElementById("mceDefaultStyles"))||((n=i.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=i.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(i.createTextNode(e))},loadCSS:function(e){var t,n=this,i=n.doc;n===b.DOM||i!==document?(e||(e=""),t=i.getElementsByTagName("head")[0],d(e.split(","),(function(e){var r;e=u._addCacheSuffix(e),n.files[e]||(n.files[e]=!0,r=n.create("link",{rel:"stylesheet",href:e}),A&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),t.appendChild(r))}))):b.DOM.loadCSS(e)},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(t,n,i){this.$$(t).toggleClass(n,i).each((function(){""===this.className&&e(this).attr("class",null)}))},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(t,n){t=this.$$(t),A?t.each((function(t,i){if(!1!==i.canHaveHTML){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br>"+n,i.removeChild(i.firstChild)}catch(t){e("<div></div>").html("<br>"+n).contents().slice(1).appendTo(i)}return n}})):t.html(n)},getOuterHTML:function(t){return 1==(t=this.get(t)).nodeType&&"outerHTML"in t?t.outerHTML:e("<div></div>").append(e(t).clone()).html()},setOuterHTML:function(t,n){var i=this;i.$$(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=n)}catch(e){}i.remove(e(this).html(n),!0)}))},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,(function(e){var n,i;return n=t.parentNode,(i=t.nextSibling)?n.insertBefore(e,i):n.appendChild(e),e}))},replace:function(e,t,n){return this.run(t,(function(t){return h(t,"array")&&(e=e.cloneNode(!0)),n&&d(f(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},rename:function(e,t){var n,i=this;return e.nodeName!=t.toUpperCase()&&(n=i.create(t),d(i.getAttribs(e),(function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))})),i.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(u.trim(e))},run:function(e,t,n){var i,r=this;return"string"==typeof e&&(e=r.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],d(e,(function(e,o){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))})),i))},getAttribs:function(e){var t;return(e=this.get(e))?A?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,(function(e){t.push({specified:1,nodeName:e})})),t)):e.attributes:[]},isEmpty:function(e,t){var n,i,r,a,s,l,c=this,u=0;if(e=e.firstChild){s=new o(e,e.parentNode),t=t||(c.schema?c.schema.getNonEmptyElements():null),a=c.schema?c.schema.getWhiteSpaceElements():{};do{if(1===(r=e.nodeType)){var d=e.getAttribute("data-mce-bogus");if(d){e=s.next("all"===d);continue}if(l=e.nodeName.toLowerCase(),t&&t[l]){if("br"===l){u++,e=s.next();continue}return!1}for(n=(i=c.getAttribs(e)).length;n--;)if("name"===(l=i[n].nodeName)||"data-mce-bookmark"===l)return!1}if(8==r)return!1;if(3===r&&!m.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&a[e.parentNode.nodeName]&&m.test(e.nodeValue))return!1;e=s.next()}while(e)}return u<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new n(this)},nodeIndex:y,split:function(e,t,n){var i,r,o,a=this,s=a.createRng();function l(e){var t,n=e.childNodes,i=e.nodeType;if(1!=i||"bookmark"!=e.getAttribute("data-mce-type")){for(t=n.length-1;t>=0;t--)l(n[t]);if(9!=i){if(3==i&&e.nodeValue.length>0){var r=p(e.nodeValue).length;if(!a.isBlock(e.parentNode)||r>0||0===r&&function(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}(e))return}else if(1==i&&(1==(n=e.childNodes).length&&n[0]&&1==n[0].nodeType&&"bookmark"==n[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(n[0],e),n.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;a.remove(e)}return e}}if(e&&t)return s.setStart(e.parentNode,a.nodeIndex(e)),s.setEnd(t.parentNode,a.nodeIndex(t)),i=s.extractContents(),(s=a.createRng()).setStart(t.parentNode,a.nodeIndex(t)+1),s.setEnd(e.parentNode,a.nodeIndex(e)+1),r=s.extractContents(),(o=e.parentNode).insertBefore(l(i),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(l(r),e),a.remove(e),n||t},bind:function(e,t,n,i){var r=this;if(u.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(u.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var t=e.boundEvents.length;t--;){var n=e.boundEvents[t];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}i.setDocument&&i.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},b.DOM=new b(document),b.nodeIndex=y,b})),i("tinymce.core.dom.ScriptLoader",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],(function(e,t){var n=e.DOM,i=t.each,r=t.grep,o=function(e){return"function"==typeof e};function a(){var e,a={},s=[],l={},c=[],u=0;this.isDone=function(e){return 2==a[e]},this.markDone=function(e){a[e]=2},this.add=this.load=function(t,n,i,r){a[t]==e&&(s.push(t),a[t]=0),n&&(l[t]||(l[t]=[]),l[t].push({success:n,failure:r,scope:i||this}))},this.remove=function(e){delete a[e],delete l[e]},this.loadQueue=function(e,t,n){this.loadScripts(s,e,t,n)},this.loadScripts=function(s,d,h,f){var p,A=[];function g(t,n){i(l[n],(function(e){o(e[t])&&e[t].call(e.scope)})),l[n]=e}c.push({success:d,failure:f,scope:h||this}),p=function(){var e=r(s);s.length=0,i(e,(function(e){2!==a[e]?3!==a[e]?1!==a[e]&&(a[e]=1,u++,function(e,i,r){var a,s,l=n;function c(){l.remove(s),a&&(a.onreadystatechange=a.onload=a=null),i()}s=l.uniqueId(),(a=document.createElement("script")).id=s,a.type="text/javascript",a.src=t._addCacheSuffix(e),"onreadystatechange"in a?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&c()}:a.onload=c,a.onerror=function(){o(r)?r():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)}(e,(function(){a[e]=2,u--,g("success",e),p()}),(function(){a[e]=3,u--,A.push(e),g("failure",e),p()}))):g("failure",e):g("success",e)})),u||(i(c,(function(e){0===A.length?o(e.success)&&e.success.call(e.scope):o(e.failure)&&e.failure.call(e.scope,A)})),c.length=0)},p()}}return a.ScriptLoader=new a,a})),i("tinymce.core.AddOnManager",["tinymce.core.dom.ScriptLoader","tinymce.core.util.Tools"],(function(e,t){var n=t.each;function i(){var e=this;e.items=[],e.urls={},e.lookup={}}return i.prototype={get:function(e){if(this.lookup[e])return this.lookup[e].instance},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var r=i.language;if(r&&!1!==i.languageLoad){if(n)if(-1!=(n=","+n+",").indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==n.indexOf(","+r+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+r+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,i){var r=this.urls[t];n(i,(function(t){e.ScriptLoader.add(r+"/"+t)}))},load:function(t,r,o,a,s){var l=this,c=r;function u(){var i=l.dependencies(t);n(i,(function(e){var t=l.createUrl(r,e);l.load(t.resource,t,void 0,void 0)})),o&&(a?o.call(a):o.call(e))}l.urls[t]||("object"==typeof r&&(c=r.prefix+r.resource+r.suffix),0!==c.indexOf("/")&&-1==c.indexOf("://")&&(c=i.baseURL+"/"+c),l.urls[t]=c.substring(0,c.lastIndexOf("/")),l.lookup[t]?u():e.ScriptLoader.add(c,u,a,s))}},i.PluginManager=new i,i.ThemeManager=new i,i})),i("ephox.katamari.api.Cell",[],(function(){var e=function(t){var n=t,i=function(){return n};return{get:i,set:function(e){n=e},clone:function(){return e(i())}}};return e})),i("tinymce.core.dom.NodeType",[],(function(){function e(e){return function(t){return!!t&&t.nodeType==e}}var t=e(1);function n(e){return e=e.toLowerCase().split(" "),function(t){var n,i;if(t&&t.nodeType)for(i=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(i===e[n])return!0;return!1}}function i(e){return function(n){if(t(n)){if(n.contentEditable===e)return!0;if(n.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}return{isText:e(3),isElement:t,isComment:e(8),isBr:n("br"),isContentEditableTrue:i("true"),isContentEditableFalse:i("false"),matchNodeNames:n,hasPropValue:function(e,n){return function(i){return t(i)&&i[e]===n}},hasAttribute:function(e,n){return function(n){return t(n)&&n.hasAttribute(e)}},hasAttributeValue:function(e,n){return function(i){return t(i)&&i.getAttribute(e)===n}},matchStyleValues:function(e,n){return n=n.toLowerCase().split(" "),function(i){var r;if(t(i))for(r=0;r<n.length;r++)if(i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(e)===n[r])return!0;return!1}},isBogus:function(e){return t(e)&&e.hasAttribute("data-mce-bogus")}}})),i("tinymce.core.util.Fun",[],(function(){var e=[].slice;return{constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},or:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},curry:function t(n){var i=e.call(arguments);return i.length-1>=n.length?n.apply(this,i.slice(1)):function(){var e=i.concat([].slice.call(arguments));return t.apply(this,e)}},compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}}})),i("tinymce.core.text.Zwsp",[],(function(){return{isZwsp:function(e){return"\ufeff"===e},ZWSP:"\ufeff",trim:function(e){return e.replace(new RegExp("\ufeff","g"),"")}}})),i("tinymce.core.caret.CaretContainer",["tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],(function(e,t){var n=e.isElement,i=e.isText;function r(e){return i(e)&&(e=e.parentNode),n(e)&&e.hasAttribute("data-mce-caret")}function o(e){return i(e)&&t.isZwsp(e.data)}function a(e){return r(e)||o(e)}function s(e){return i(e)&&e.data[0]==t.ZWSP}function l(e){return i(e)&&e.data[e.data.length-1]==t.ZWSP}return{isCaretContainer:a,isCaretContainerBlock:r,isCaretContainerInline:o,showCaretContainerBlock:function(t){return t&&t.hasAttribute("data-mce-caret")?(i=(n=t.getElementsByTagName("br"))[n.length-1],e.isBogus(i)&&i.parentNode.removeChild(i),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var n,i},insertInline:function(e,n){var r,o,c;if(o=e.ownerDocument.createTextNode(t.ZWSP),c=e.parentNode,n){if(r=e.previousSibling,i(r)){if(a(r))return r;if(l(r))return r.splitText(r.data.length-1)}c.insertBefore(o,e)}else{if(r=e.nextSibling,i(r)){if(a(r))return r;if(s(r))return r.splitText(1),r}e.nextSibling?c.insertBefore(o,e.nextSibling):c.appendChild(o)}return o},prependInline:function(n){if(e.isText(n)){var i=n.data;return i.length>0&&i.charAt(0)!==t.ZWSP&&n.insertData(0,t.ZWSP),n}return null},appendInline:function(n){if(e.isText(n)){var i=n.data;return i.length>0&&i.charAt(i.length-1)!==t.ZWSP&&n.insertData(i.length,t.ZWSP),n}return null},isBeforeInline:function(n){return n&&e.isText(n.container())&&n.container().data.charAt(n.offset())===t.ZWSP},isAfterInline:function(n){return n&&e.isText(n.container())&&n.container().data.charAt(n.offset()-1)===t.ZWSP},insertBlock:function(e,t,n){var i,r,o;return(i=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((o=document.createElement("br")).setAttribute("data-mce-bogus","1"),o)),r=t.parentNode,n?r.insertBefore(i,t):t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i),i},hasContent:function(t){return t.firstChild!==t.lastChild||!e.isBr(t.firstChild)},startsWithCaretContainer:s,endsWithCaretContainer:l}})),i("tinymce.core.dom.RangeUtils",["tinymce.core.util.Tools","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.dom.Range","tinymce.core.caret.CaretContainer"],(function(e,t,n,i,r){var o=e.each,a=n.isContentEditableTrue,s=n.isContentEditableFalse,l=r.isCaretContainer;function c(e){return a(e)||s(e)}function u(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function d(e,t,n){return null!==u(e,t,n)}function h(e,t,n){return d(e,t,(function(e){return e.nodeName===n}))}function f(e){return"_mce_caret"===e.id}function p(e,t){return l(e)&&!1===d(e,t,f)}function A(e){this.walk=function(t,n){var i,r,a,s,l,c,u,d=t.startContainer,h=t.startOffset,f=t.endContainer,p=t.endOffset;if((u=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)o(u,(function(e){n([e])}));else{var A,g,m;if(1==d.nodeType&&d.hasChildNodes()&&(d=d.childNodes[h]),1==f.nodeType&&f.hasChildNodes()&&(g=p,--g>(m=(A=f).childNodes).length-1?g=m.length-1:g<0&&(g=0),f=m[g]||A),d==f)return n(v([d]));for(i=e.findCommonAncestor(d,f),s=d;s;s=s.parentNode){if(s===f)return w(d,i,!0);if(s===i)break}for(s=f;s;s=s.parentNode){if(s===d)return w(f,i);if(s===i)break}r=b(d,i)||d,a=b(f,i)||f,w(d,r,!0),(c=y(r==d?r:r.nextSibling,"nextSibling",a==f?a.nextSibling:a)).length&&n(v(c)),w(f,a)}function v(e){var t;return 3===(t=e[0]).nodeType&&t===d&&h>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===p&&e.length>0&&t===f&&3===t.nodeType&&e.splice(e.length-1,1),e}function y(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function b(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function w(e,t,i){var r=i?"nextSibling":"previousSibling";for(l=(s=e).parentNode;s&&s!=t;s=l)l=s.parentNode,(c=y(s==e?s:s[r],r)).length&&(i||c.reverse(),n(v(c)))}},this.split=function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;function o(e,t){return e.splitText(t)}return t==i&&3==t.nodeType?n>0&&n<t.nodeValue.length&&(t=(i=o(t,n)).previousSibling,r>n?(t=i=o(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(3==t.nodeType&&n>0&&n<t.nodeValue.length&&(t=o(t,n),n=0),3==i.nodeType&&r>0&&r<i.nodeValue.length&&(r=(i=o(i,r).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:r}},this.normalize=function(n){var i,r=!1;function o(o){var a,c,u,d,f,A,g,m=e.getRoot();function v(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function y(n,i){for(var r=new t(n,e.getParent(n.parentNode,e.isBlock)||m);n=r[i?"prev":"next"]();)if("BR"===n.nodeName)return!0}function b(n,o){var s,l,u;if(o=o||a,u=e.getParent(o.parentNode,e.isBlock)||m,n&&"BR"==o.nodeName&&g&&e.isEmpty(u))return a=o.parentNode,c=e.nodeIndex(o),void(r=!0);for(s=new t(o,u);d=s[n?"prev":"next"]();){if("false"===e.getContentEditableParent(d)||p(d,e.getRoot()))return;if(3===d.nodeType&&d.nodeValue.length>0)return void(!1===h(d,m,"A")&&(a=d,c=n?d.nodeValue.length:0,r=!0));if(e.isBlock(d)||f[d.nodeName.toLowerCase()])return;l=d}i&&l&&(a=l,r=!0,c=0)}if(a=n[(o?"start":"end")+"Container"],c=n[(o?"start":"end")+"Offset"],g=1==a.nodeType&&c===a.childNodes.length,f=e.schema.getNonEmptyElements(),A=o,!l(a)){if(1==a.nodeType&&c>a.childNodes.length-1&&(A=!1),9===a.nodeType&&(a=e.getRoot(),c=0),a===m){if(A&&(d=a.childNodes[c>0?c-1:0])){if(l(d))return;if(f[d.nodeName]||"TABLE"==d.nodeName)return}if(a.hasChildNodes()){if(c=Math.min(!A&&c>0?c-1:c,a.childNodes.length-1),a=a.childNodes[c],c=0,!i&&a===m.lastChild&&"TABLE"===a.nodeName)return;if(function(e){for(;e&&e!=m;){if(s(e))return!0;e=e.parentNode}return!1}(a)||l(a))return;if(a.hasChildNodes()&&!/TABLE/.test(a.nodeName)){d=a,u=new t(a,m);do{if(s(d)||l(d)){r=!1;break}if(3===d.nodeType&&d.nodeValue.length>0){c=A?0:d.nodeValue.length,a=d,r=!0;break}if(f[d.nodeName.toLowerCase()]&&!v(d)){c=e.nodeIndex(d),a=d.parentNode,"IMG"!==d.nodeName&&"PRE"!==d.nodeName||A||c++,r=!0;break}}while(d=A?u.next():u.prev())}}}i&&(3===a.nodeType&&0===c&&b(!0),1===a.nodeType&&((d=a.childNodes[c])||(d=a.childNodes[c-1]),!d||"BR"!==d.nodeName||function(e,t){return e.previousSibling&&"A"==e.previousSibling.nodeName}(d)||y(d)||y(d,!0)||b(!0,d))),A&&!i&&3===a.nodeType&&c===a.nodeValue.length&&b(!1),r&&n["set"+(o?"Start":"End")](a,c)}}return i=n.collapsed,o(!0),i||o(),r&&i&&n.collapse(!0),r}}return A.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},A.getCaretRangeFromPoint=function(t,n,i){var r,o;if(i.caretPositionFromPoint)o=i.caretPositionFromPoint(t,n),(r=i.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0);else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(t,n);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(t,n),r.collapse(!0)}catch(o){r=function(t,n,i){var r,o,a;if(r=i.elementFromPoint(t,n),o=i.body.createTextRange(),r&&"HTML"!=r.tagName||(r=i.body),o.moveToElementText(r),(a=(a=e.toArray(o.getClientRects())).sort((function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-Math.abs(Math.max(t.top-n,t.bottom-n))}))).length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(e){}}return null}(t,n,i)}return function(e,t){var n=e&&e.parentElement?e.parentElement():null;return s(u(n,t,c))?null:e}(r,i.body)}return r},A.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},A.getNode=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},A})),i("tinymce.core.caret.CaretCandidate",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.caret.CaretContainer"],(function(e,t,n){var i=e.isContentEditableTrue,r=e.isContentEditableFalse,o=e.isBr,a=e.isText,s=e.matchNodeNames("script style textarea"),l=e.matchNodeNames("img input textarea hr iframe video audio object"),c=e.matchNodeNames("table"),u=n.isCaretContainer;function d(e){return!u(e)&&(a(e)?!s(e.parentNode):l(e)||o(e)||c(e)||r(e))}function h(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(r(e))return!1;if(i(e))return!0}return!0}return{isCaretCandidate:d,isInEditable:h,isAtomic:function(e){return l(e)||function(e){return!!r(e)&&!0!==t.reduce(e.getElementsByTagName("*"),(function(e,t){return e||i(t)}),!1)}(e)},isEditableCaretCandidate:function(e,t){return d(e)&&h(e,t)}}})),i("tinymce.core.geom.ClientRect",[],(function(){var e=Math.round;function t(t){return t?{left:e(t.left),top:e(t.top),bottom:e(t.bottom),right:e(t.right),width:e(t.width),height:e(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function n(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function i(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&n(t.top-e.bottom,e,t)}function r(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&n(t.bottom-e.top,e,t)}function o(e,t){return e.left<t.left}function a(e,t){return e.right>t.right}return{clone:t,collapse:function(e,n){return e=t(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:i,isBelow:r,isLeft:o,isRight:a,compare:function(e,t){return i(e,t)?-1:r(e,t)?1:o(e,t)?-1:a(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}})),i("tinymce.core.text.ExtendingChar",[],(function(){var e=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]");return{isExtendingChar:function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}}})),i("tinymce.core.caret.CaretPosition",["tinymce.core.util.Fun","tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.dom.RangeUtils","tinymce.core.caret.CaretCandidate","tinymce.core.geom.ClientRect","tinymce.core.text.ExtendingChar"],(function(e,t,n,i,r,o,a){var s=t.isElement,l=r.isCaretCandidate,c=t.matchStyleValues("display","block table"),u=t.matchStyleValues("float","left right"),d=e.and(s,l,e.negate(u)),h=e.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),f=t.isText,p=t.isBr,A=n.nodeIndex,g=i.getNode;function m(e){return"createRange"in e?e.createRange():n.DOM.createRng()}function v(e){return e&&/[\r\n\t ]/.test(e)}function y(e){var t,n=e.startContainer,i=e.startOffset;return!(!v(e.toString())||!h(n.parentNode)||!v((t=n.data)[i-1])&&!v(t[i+1]))}function b(t,n,i){function r(){return i||(i=function(e){var t,n,i=[];function r(e){var t,n;return t=(n=e.getClientRects()).length>0?o.clone(n[0]):o.clone(e.getBoundingClientRect()),p(e)&&0===t.left?function(e){var t,n=e.ownerDocument,i=m(n),r=n.createTextNode(""),a=e.parentNode;return a.insertBefore(r,e),i.setStart(r,0),i.setEnd(r,1),t=o.clone(i.getBoundingClientRect()),a.removeChild(r),t}(e):t}function l(e,t){return(e=o.collapse(e,t)).width=1,e.right=e.left+1,e}function u(e){0!==e.height&&(i.length>0&&o.isEqual(e,i[i.length-1])||i.push(e))}function h(e,t){var n=m(e.ownerDocument);if(t<e.data.length){if(a.isExtendingChar(e.data[t]))return i;if(a.isExtendingChar(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!y(n)))return u(l(r(n),!1)),i}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),y(n)||u(l(r(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),y(n)||u(l(r(n),!0)))}if(f(e.container()))return h(e.container(),e.offset()),i;if(s(e.container()))if(e.isAtEnd())n=g(e.container(),e.offset()),f(n)&&h(n,n.data.length),d(n)&&!p(n)&&u(l(r(n),!1));else{if(n=g(e.container(),e.offset()),f(n)&&h(n,0),d(n)&&e.isAtEnd())return u(l(r(n),!1)),i;t=g(e.container(),e.offset()-1),d(t)&&!p(t)&&(c(t)||c(n)||!d(n))&&u(l(r(t),!1)),d(n)&&u(l(r(n),!0))}return i}(new b(t,n))),i}return{container:e.constant(t),offset:e.constant(n),toRange:function(){var e;return(e=m(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return f(t),0===n},isAtEnd:function(){return f(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return g(t,e?n-1:n)}}}return b.fromRangeStart=function(e){return new b(e.startContainer,e.startOffset)},b.fromRangeEnd=function(e){return new b(e.endContainer,e.endOffset)},b.after=function(e){return new b(e.parentNode,A(e)+1)},b.before=function(e){return new b(e.parentNode,A(e))},b.isAtStart=function(e){return!!e&&e.isAtStart()},b.isAtEnd=function(e){return!!e&&e.isAtEnd()},b.isTextPosition=function(e){return!!e&&t.isText(e.container())},b})),i("tinymce.core.caret.CaretBookmark",["tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.caret.CaretPosition"],(function(e,t,n,i,r){var o=e.isText,a=e.isBogus,s=t.nodeIndex;function l(e){var t=e.parentNode;return a(t)?l(t):t}function c(e){return e?i.reduce(e.childNodes,(function(e,t){return a(t)&&"BR"!=t.nodeName?e=e.concat(c(t)):e.push(t),e}),[]):[]}function u(e){return function(t){return e===t}}function d(t){var n,r,a;return n=c(l(t)),r=i.findIndex(n,u(t),t),n=n.slice(0,r+1),a=i.reduce(n,(function(e,t,i){return o(t)&&o(n[i-1])&&e++,e}),0),n=i.filter(n,e.matchNodeNames(t.nodeName)),(r=i.findIndex(n,u(t),t))-a}function h(e){return(o(e)?"text()":e.nodeName.toLowerCase())+"["+d(e)+"]"}return{create:function(t,r){var a,s,l,c,u,d=[];return a=r.container(),s=r.offset(),o(a)?l=function(e,t){for(;(e=e.previousSibling)&&o(e);)t+=e.data.length;return t}(a,s):(s>=(c=a.childNodes).length?(l="after",s=c.length-1):l="before",a=c[s]),d.push(h(a)),u=function(e,t,n){var i=[];for(t=t.parentNode;t!=e;t=t.parentNode)i.push(t);return i}(t,a),u=i.filter(u,n.negate(e.isBogus)),(d=d.concat(i.map(u,(function(e){return h(e)})))).reverse().join("/")+","+l},resolve:function(t,n){var a,l,u;return n?(a=n.split(","),n=a[0].split("/"),u=a.length>1?a[1]:"before",(l=i.reduce(n,(function(t,n){return(n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(n))?("text()"===n[1]&&(n[1]="#text"),r=t,a=n[1],s=parseInt(n[2],10),l=c(r),l=i.filter(l,(function(e,t){return!o(e)||!o(l[t-1])})),(l=i.filter(l,e.matchNodeNames(a)))[s]):null;var r,a,s,l}),t))?o(l)?function(e,t){for(var n,i=e,a=0;o(i);){if(n=i.data.length,t>=a&&t<=a+n){e=i,t-=a;break}if(!o(i.nextSibling)){e=i,t=n;break}a+=n,i=i.nextSibling}return t>e.data.length&&(t=e.data.length),new r(e,t)}(l,parseInt(u,10)):(u="after"===u?s(l)+1:s(l),new r(l.parentNode,u)):null):null}}})),i("tinymce.core.dom.BookmarkManager",["tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s){var l=i.isContentEditableFalse,c=function(e){i.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)};function u(u){var d=u.dom;this.getBookmark=function(o,h){var f,p,A,g,m,v,y,b="&#xFEFF;";function w(e,t){var n=0;return s.each(d.select(e),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=t&&void n++})),n}function x(e){function t(t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(n=(r=n.childNodes)[Math.min(t?i:i-1,r.length-1)])&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i))}return t(!0),t(),e}if(2==o)return m=(v=u.getNode())?v.nodeName:null,f=u.getRng(),l(v)||"IMG"==m?{name:m,index:w(m,v)}:u.tridentSel?u.tridentSel.getBookmark(o):(v=function(e){function n(e,n){var o;if(i.isElement(e)&&(e=r.getNode(e,n),l(e)))return e;if(t.isCaretContainer(e)){if(i.isText(e)&&t.isCaretContainerBlock(e)&&(e=e.parentNode),o=e.previousSibling,l(o))return o;if(o=e.nextSibling,l(o))return o}}return n(e.startContainer,e.startOffset)||n(e.endContainer,e.endOffset)}(f),v?{name:m=v.tagName,index:w(m,v)}:function(e){var t=d.getRoot(),n={};function i(e,n){var i,r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],s=[],l=0;for(3===r.nodeType?s.push(h?function(e,t){var n,i;for(i=a.trim(e.data.slice(0,t)).length,n=e.previousSibling;n&&3===n.nodeType;n=n.previousSibling)i+=a.trim(n.data).length;return i}(r,o):o):(o>=(i=r.childNodes).length&&i.length&&(l=1,o=Math.max(0,i.length-1)),s.push(d.nodeIndex(i[o],h)+l));r&&r!=t;r=r.parentNode)s.push(d.nodeIndex(r,h));return s}return n.start=i(e,!0),u.isCollapsed()||(n.end=i(e)),n}(f));if(3==o)return f=u.getRng(),{start:e.create(d.getRoot(),n.fromRangeStart(f)),end:e.create(d.getRoot(),n.fromRangeEnd(f))};if(o)return{rng:u.getRng()};if(f=u.getRng(),A=d.uniqueId(),g=u.isCollapsed(),y="overflow:hidden;line-height:0px",f.duplicate||f.item){if(f.item)return{name:m=(v=f.item(0)).nodeName,index:w(m,v)};p=f.duplicate();try{f.collapse(),f.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_start" style="'+y+'">'+b+"</span>"),g||(p.collapse(!1),f.moveToElementText(p.parentElement()),0===f.compareEndPoints("StartToEnd",p)&&p.move("character",-1),p.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_end" style="'+y+'">'+b+"</span>"))}catch(e){return null}}else{if("IMG"==(m=(v=u.getNode()).nodeName))return{name:m,index:w(m,v)};if(p=x(f.cloneRange()),!g){p.collapse(!1);var C=d.create("span",{"data-mce-type":"bookmark",id:A+"_end",style:y},b);p.insertNode(C),c(C.nextSibling)}(f=x(f)).collapse(!0);var _=d.create("span",{"data-mce-type":"bookmark",id:A+"_start",style:y},b);f.insertNode(_),c(_.previousSibling)}return u.moveToBookmark({id:A,keep:1}),{id:A}},this.moveToBookmark=function(t){var n,i,r,a,l,c;function h(e){var r,o,a,s,l=t[e?"start":"end"];if(l){for(a=l[0],o=i,r=l.length-1;r>=1;r--){if(s=o.childNodes,l[r]>s.length-1)return;o=s[l[r]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),e?n.setStart(o,a):n.setEnd(o,a)}return!0}function f(e){var n,i,u,h,f=d.get(t.id+"_"+e),p=t.keep;if(f&&(n=f.parentNode,"start"==e?(p?(n=f.firstChild,i=1):i=d.nodeIndex(f),r=a=n,l=c=i):(p?(n=f.firstChild,i=1):i=d.nodeIndex(f),a=n,c=i),!p)){for(h=f.previousSibling,u=f.nextSibling,s.each(s.grep(f.childNodes),(function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));f=d.get(t.id+"_"+e);)d.remove(f,1);h&&u&&h.nodeType==u.nodeType&&3==h.nodeType&&!o.opera&&(i=h.nodeValue.length,h.appendData(u.nodeValue),d.remove(u),"start"==e?(r=a=h,l=c=i):(a=h,c=i))}}function p(e){return!d.isBlock(e)||e.innerHTML||o.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}if(t)if(s.isArray(t.start)){if(n=d.createRng(),i=d.getRoot(),u.tridentSel)return u.tridentSel.moveToBookmark(t);h(!0)&&h()&&u.setRng(n)}else"string"==typeof t.start?u.setRng(function(){var n,i;return n=d.createRng(),i=e.resolve(d.getRoot(),t.start),n.setStart(i.container(),i.offset()),i=e.resolve(d.getRoot(),t.end),n.setEnd(i.container(),i.offset()),n}()):t.id?(f("start"),f("end"),r&&((n=d.createRng()).setStart(p(r),l),n.setEnd(p(a),c),u.setRng(n))):t.name?u.select(d.select(t.name)[t.index]):t.rng&&u.setRng(t.rng)}}return u.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},u})),i("tinymce.core.caret.CaretUtils",["tinymce.core.util.Fun","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretCandidate"],(function(e,t,n,i,r,o){var a=n.isContentEditableTrue,s=n.isContentEditableFalse,l=n.matchStyleValues("display","block table table-cell table-caption list-item"),c=r.isCaretContainer,u=r.isCaretContainerBlock,d=e.curry,h=n.isElement,f=o.isCaretCandidate;function p(e){return e>0}function A(e){return e<0}function g(e,t){for(var n;n=e(t);)if(!u(n))return n;return null}function m(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(a(e))return e;return t}function v(e,t){for(;e&&e!=t;){if(l(e))return e;e=e.parentNode}return null}function y(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function b(e,t,n){return v(t,e)==v(n,e)}function w(e,t,n){var i,r;for(r=e?"previousSibling":"nextSibling";n&&n!=t;){if(i=n[r],c(i)&&(i=i[r]),s(i)){if(b(t,i,n))return i;break}if(f(i))break;n=n.parentNode}return null}var x=d(y,!0),C=d(y,!1);function _(e,t){return s(function(e,t){var n,i;return t?(n=t.container(),i=t.offset(),h(n)?n.childNodes[i+e]:null):null}(e,t))}return{isForwards:p,isBackwards:A,findNode:function(e,n,i,r,o){var a=new t(e,r);if(A(n)){if((s(e)||u(e))&&i(e=g(a.prev,!0)))return e;for(;e=g(a.prev,o);)if(i(e))return e}if(p(n)){if((s(e)||u(e))&&i(e=g(a.next,!0)))return e;for(;e=g(a.next,o);)if(i(e))return e}return null},getEditingHost:m,getParentBlock:v,isInSameBlock:function(e,t,n){return v(e.container(),n)==v(t.container(),n)},isInSameEditingHost:function(e,t,n){return m(e.container(),n)==m(t.container(),n)},isBeforeContentEditableFalse:d(_,0),isAfterContentEditableFalse:d(_,-1),normalizeRange:function(e,t,i){var o,a,l,u,f=d(w,!0,t),p=d(w,!1,t);if(a=i.startContainer,l=i.startOffset,r.isCaretContainerBlock(a)){if(h(a)||(a=a.parentNode),"before"==(u=a.getAttribute("data-mce-caret"))&&(o=a.nextSibling,s(o)))return x(o);if("after"==u&&(o=a.previousSibling,s(o)))return C(o)}if(!i.collapsed)return i;if(n.isText(a)){if(c(a)){if(1===e){if(o=p(a))return x(o);if(o=f(a))return C(o)}if(-1===e){if(o=f(a))return C(o);if(o=p(a))return x(o)}return i}if(r.endsWithCaretContainer(a)&&l>=a.data.length-1)return 1===e&&(o=p(a))?x(o):i;if(r.startsWithCaretContainer(a)&&l<=1)return-1===e&&(o=f(a))?C(o):i;if(l===a.data.length)return(o=p(a))?x(o):i;if(0===l)return(o=f(a))?C(o):i}return i}}})),i("tinymce.core.caret.CaretWalker",["tinymce.core.dom.NodeType","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],(function(e,t,n,i,r,o){var a=e.isContentEditableFalse,s=e.isText,l=e.isElement,c=e.isBr,u=i.isForwards,d=i.isBackwards,h=t.isCaretCandidate,f=t.isAtomic,p=t.isEditableCaretCandidate;function A(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function g(e,t){if(u(e)){if(h(t.previousSibling)&&!s(t.previousSibling))return n.before(t);if(s(t))return n(t,0)}if(d(e)){if(h(t.nextSibling)&&!s(t.nextSibling))return n.after(t);if(s(t))return n(t,t.data.length)}return d(e)?c(t)?n.before(t):n.after(t):n.before(t)}function m(t,v,y){var b,w,x,C,_,k,S;if(!l(y)||!v)return null;if(v.isEqual(n.after(y))&&y.lastChild){if(S=n.after(y.lastChild),d(t)&&h(y.lastChild)&&l(y.lastChild))return c(y.lastChild)?n.before(y.lastChild):S}else S=v;if(b=S.container(),w=S.offset(),s(b)){if(d(t)&&w>0)return n(b,--w);if(u(t)&&w<b.length)return n(b,++w);x=b}else{if(d(t)&&w>0&&(C=A(b,w-1),h(C)))return!f(C)&&(_=i.findNode(C,t,p,C))?s(_)?n(_,_.data.length):n.after(_):s(C)?n(C,C.data.length):n.before(C);if(u(t)&&w<b.childNodes.length&&(C=A(b,w),h(C)))return function(t,r){var o;return!!e.isBr(t)&&!!(o=m(1,n.after(t),r))&&!i.isInSameBlock(n.before(t),n.before(o),r)}(C,y)?m(t,n.after(C),y):!f(C)&&(_=i.findNode(C,t,p,C))?s(_)?n(_,0):n.before(_):s(C)?n(C,0):n.after(C);x=S.getNode()}return(u(t)&&S.isAtEnd()||d(t)&&S.isAtStart())&&(x=i.findNode(x,t,o.constant(!0),y,!0),p(x))?g(t,x):(C=i.findNode(x,t,p,y),k=r.last(r.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(b,y),a)),!k||C&&k.contains(C)?C?g(t,C):null:S=u(t)?n.after(k):n.before(k))}return function(e){return{next:function(t){return m(1,t,e)},prev:function(t){return m(-1,t,e)}}}})),i("tinymce.core.caret.CaretFinder",["ephox.katamari.api.Fun","ephox.katamari.api.Option","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType"],(function(e,t,n,i,r,o,a){var s=function(e){return i.isTextPosition(e)?0===e.offset():n.isCaretCandidate(e.getNode())},l=function(e){return i.isTextPosition(e)?e.offset()===e.container().data.length:n.isCaretCandidate(e.getNode(!0))},c=function(e,t){return!i.isTextPosition(e)&&!i.isTextPosition(t)&&e.getNode()===t.getNode(!0)},u=function(e,n,i){var r=new o(n);return t.from(e?r.next(i):r.prev(i))},d=function(e,r){var o,s=e?r.firstChild:r.lastChild;return a.isText(s)?t.some(new i(s,e?0:s.data.length)):s?n.isCaretCandidate(s)?t.some(e?i.before(s):(o=s,a.isBr(o)?i.before(o):i.after(o))):function(e,t,n){var r=e?i.before(n):i.after(n);return u(e,t,r)}(e,r,s):t.none()};return{fromPosition:u,nextPosition:e.curry(u,!0),prevPosition:e.curry(u,!1),navigate:function(e,n,o){return u(e,n,o).bind((function(d){return r.isInSameBlock(o,d,n)&&function(e,t,n){return e?!c(t,n)&&(r=t,!(!i.isTextPosition(r)&&a.isBr(r.getNode())))&&l(t)&&s(n):!c(n,t)&&s(t)&&l(n);var r}(e,o,d)?u(e,n,d):t.some(d)}))},positionIn:d,firstPositionIn:e.curry(d,!0),lastPositionIn:e.curry(d,!1)}})),i("tinymce.core.dom.RangeNormalizer",["tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils"],(function(e,t,n){return{normalize:function(i){return function(i){return i.collapsed?i:function(i){var r=t.fromRangeStart(i),o=t.fromRangeEnd(i),a=i.commonAncestorContainer;return e.fromPosition(!1,a,o).map((function(e){return!n.isInSameBlock(r,o,a)&&n.isInSameBlock(r,e,a)?function(e,t,n,i){var r=document.createRange();return r.setStart(e,t),r.setEnd(n,i),r}(r.container(),r.offset(),e.container(),e.offset()):i})).getOr(i)}(i)}(i)}}})),i("global!console",[],(function(){return"undefined"==typeof console&&(console={log:function(){}}),console})),r("global!document",document),i("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],(function(e,t,n,i){var r=function(n){if(null==n)throw new t("Node cannot be null or undefined");return{dom:e.constant(n)}};return{fromHtml:function(e,t){var o=(t||i).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw n.error("HTML does not have a single root node",e),"HTML must have a single root node";return r(o.childNodes[0])},fromTag:function(e,t){var n=(t||i).createElement(e);return r(n)},fromText:function(e,t){var n=(t||i).createTextNode(e);return r(n)},fromDom:r}})),i("ephox.katamari.api.Type",["global!Array","global!String"],(function(e,t){var n=function(n){return function(i){return function(n){if(null===n)return"null";var i=typeof n;return"object"===i&&e.prototype.isPrototypeOf(n)?"array":"object"===i&&t.prototype.isPrototypeOf(n)?"string":i}(i)===n}};return{isString:n("string"),isObject:n("object"),isArray:n("array"),isNull:n("null"),isBoolean:n("boolean"),isUndefined:n("undefined"),isFunction:n("function"),isNumber:n("number")}})),i("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],(function(e,t,n,i){return function(){var r=arguments;return function(){for(var o=new n(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];if(r.length!==o.length)throw new i('Wrong number of arguments to struct. Expected "['+r.length+']", got '+o.length+" arguments");var s={};return e.each(r,(function(e,n){s[e]=t.constant(o[n])})),s}}})),i("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],(function(e,t){var n,i=void 0===(n=t.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:n,r=function(e,t){for(var n=i(e),r=0,o=n.length;r<o;r++){var a=n[r];t(e[a],a,e)}},o=function(e,t){var n={};return r(e,(function(i,r){var o=t(i,r,e);n[o.k]=o.v})),n},a=function(e,t){var n=[];return r(e,(function(e,i){n.push(t(e,i))})),n},s=function(e){return a(e,(function(e){return e}))};return{bifilter:function(e,t){var n={},i={};return r(e,(function(e,r){(t(e,r)?n:i)[r]=e})),{t:n,f:i}},each:r,map:function(e,t){return o(e,(function(e,n,i){return{k:n,v:t(e,n,i)}}))},mapToArray:a,tupleMap:o,find:function(t,n){for(var r=i(t),o=0,a=r.length;o<a;o++){var s=r[o],l=t[s];if(n(l,s,t))return e.some(l)}return e.none()},keys:i,values:s,size:function(e){return s(e).length}}})),i("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],(function(e,t,n){var i=function(e){return e.slice(0).sort()};return{sort:i,reqMessage:function(e,t){throw new n("All required keys ("+i(e).join(", ")+") were not specified. Specified keys were: "+i(t).join(", ")+".")},unsuppMessage:function(e){throw new n("Unsupported keys for object: "+i(e).join(", "))},validateStrArr:function(i,r){if(!t.isArray(r))throw new n("The "+i+" fields must be an array. Was: "+r+".");e.each(r,(function(e){if(!t.isString(e))throw new n("The value "+e+" in the "+i+" fields was not a string.")}))},invalidTypeMessage:function(e,t){throw new n("All values need to be of type: "+t+". Keys ("+i(e).join(", ")+") were not.")},checkDupes:function(t){var r=i(t);e.find(r,(function(e,t){return t<r.length-1&&e===r[t+1]})).each((function(e){throw new n("The field: "+e+" occurs more than once in the combined fields: ["+r.join(", ")+"].")}))}}})),i("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],(function(e,t,n,i,r,o,a){return function(s,l){var c=s.concat(l);if(0===c.length)throw new o("You must specify at least one required or optional field.");return r.validateStrArr("required",s),r.validateStrArr("optional",l),r.checkDupes(c),function(o){var u=n.keys(o);e.forall(s,(function(t){return e.contains(u,t)}))||r.reqMessage(s,u);var d=e.filter(u,(function(t){return!e.contains(c,t)}));d.length>0&&r.unsuppMessage(d);var h={};return e.each(s,(function(e){h[e]=t.constant(o[e])})),e.each(l,(function(e){h[e]=t.constant(a.prototype.hasOwnProperty.call(o,e)?i.some(o[e]):i.none())})),h}}})),i("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],(function(e,t){return{immutable:e,immutableBag:t}})),i("ephox.sugar.alien.Recurse",[],(function(){return{toArray:function(e,t){var n=[],i=function(e){return n.push(e),t(e)},r=t(e);do{r=r.bind(i)}while(r.isSome());return n}}})),i("ephox.katamari.api.Global",[],(function(){return"undefined"!=typeof window?window:Function("return this;")()})),i("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],(function(e){var t=function(t,n){for(var i=void 0!==n?n:e,r=0;r<t.length&&null!=i;++r)i=i[t[r]];return i},n=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},i=function(t,i){for(var r=void 0!==i?i:e,o=0;o<t.length;++o)r=n(r,t[o]);return r};return{path:t,resolve:function(e,n){var i=e.split(".");return t(i,n)},forge:i,namespace:function(e,t){var n=e.split(".");return i(n,t)}}})),i("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],(function(e){return{getOrDie:function(t,n){var i=function(t,n){return e.resolve(t,n)}(t,n);if(void 0===i)throw t+" not available on this browser";return i}}})),i("ephox.sand.api.Node",["ephox.sand.util.Global"],(function(e){var t=function(){return e.getOrDie("Node")},n=function(e,t,n){return!!(e.compareDocumentPosition(t)&n)};return{documentPositionPreceding:function(e,i){return n(e,i,t().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,i){return n(e,i,t().DOCUMENT_POSITION_CONTAINED_BY)}}})),i("ephox.katamari.api.Thunk",[],(function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}})),r("global!Number",Number),i("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],(function(e,t,n){var i=function(){return r(0,0)},r=function(e,t){return{major:e,minor:t}};return{nu:r,detect:function(e,o){var a=n(o).toLowerCase();return 0===e.length?i():function(e,n){var i=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,n);if(!i)return{major:0,minor:0};var o=function(e){return t(n.replace(i,"$"+e))};return r(o(1),o(2))}(e,a)},unknown:i}})),i("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],(function(e,t){var n="Edge",i="Chrome",r="Opera",o="Firefox",a="Safari",s=function(e,t){return function(){return t===e}},l=function(e){var t=e.current;return{current:t,version:e.version,isEdge:s(n,t),isChrome:s(i,t),isIE:s("IE",t),isOpera:s(r,t),isFirefox:s(o,t),isSafari:s(a,t)}};return{unknown:function(){return l({current:void 0,version:t.unknown()})},nu:l,edge:e.constant(n),chrome:e.constant(i),ie:e.constant("IE"),opera:e.constant(r),firefox:e.constant(o),safari:e.constant(a)}})),i("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],(function(e,t){var n="Windows",i="Android",r="Linux",o="Solaris",a="FreeBSD",s=function(e,t){return function(){return t===e}},l=function(e){var t=e.current;return{current:t,version:e.version,isWindows:s(n,t),isiOS:s("iOS",t),isAndroid:s(i,t),isOSX:s("OSX",t),isLinux:s(r,t),isSolaris:s(o,t),isFreeBSD:s(a,t)}};return{unknown:function(){return l({current:void 0,version:t.unknown()})},nu:l,windows:e.constant(n),ios:e.constant("iOS"),android:e.constant(i),linux:e.constant(r),osx:e.constant("OSX"),solaris:e.constant(o),freebsd:e.constant(a)}})),i("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],(function(e){return function(t,n,i){var r=t.isiOS()&&!0===/ipad/i.test(i),o=t.isiOS()&&!r,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,l=r||a||s&&!0===/mobile/i.test(i),c=t.isiOS()||t.isAndroid(),u=c&&!l,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(i);return{isiPad:e.constant(r),isiPhone:e.constant(o),isTablet:e.constant(l),isPhone:e.constant(u),isTouch:e.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:e.constant(d)}}})),i("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],(function(e,t,n){var i=function(t,i){var r=n(i).toLowerCase();return e.find(t,(function(e){return e.search(r)}))};return{detectBrowser:function(e,n){return i(e,n).map((function(e){var i=t.detect(e.versionRegexes,n);return{current:e.name,version:i}}))},detectOs:function(e,n){return i(e,n).map((function(e){var i=t.detect(e.versionRegexes,n);return{current:e.name,version:i}}))}}})),i("ephox.katamari.str.StrAppend",[],(function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}})),i("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],(function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}})),i("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],(function(e,t,n){var i=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},r=function(e,t){return i(e,t,0)},o=function(e,t){return i(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,(function(e,n){var i=t[n];return function(e){var t=typeof e;return"string"===t||"number"===t}(i)?i:e}))},startsWith:r,removeLeading:function(t,n){return r(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return o(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return r(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return o(t,n)?t:e.addToEnd(t,n)},endsWith:o,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind((function(n){return t.tail(e).map((function(e){return n.toUpperCase()+e}))})).getOr(e)}}})),i("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],(function(e,t){var n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,i=function(e){return function(n){return t.contains(n,e)}},r=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return t.contains(e,"edge/")&&t.contains(e,"chrome")&&t.contains(e,"safari")&&t.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(e){return t.contains(e,"chrome")&&!t.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return t.contains(e,"msie")||t.contains(e,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:i("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:i("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(t.contains(e,"safari")||t.contains(e,"mobile/"))&&t.contains(e,"applewebkit")}}],o=[{name:"Windows",search:i("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return t.contains(e,"iphone")||t.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:i("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:i("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:i("linux"),versionRegexes:[]},{name:"Solaris",search:i("sunos"),versionRegexes:[]},{name:"FreeBSD",search:i("freebsd"),versionRegexes:[]}];return{browsers:e.constant(r),oses:e.constant(o)}})),i("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],(function(e,t,n,i,r){return{detect:function(o){var a=r.browsers(),s=r.oses(),l=i.detectBrowser(a,o).fold(e.unknown,e.nu),c=i.detectOs(s,o).fold(t.unknown,t.nu);return{browser:l,os:c,deviceType:n(c,l,o)}}}})),r("global!navigator",navigator),i("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],(function(e,t,n){return{detect:e.cached((function(){var e=n.userAgent;return t.detect(e)}))}})),i("ephox.sugar.api.node.NodeTypes",[],(function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}})),i("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],(function(e,t,n,i,r,o){var a,s=void 0!==(a=o.createElement("span")).matches?0:void 0!==a.msMatchesSelector?1:void 0!==a.webkitMatchesSelector?2:void 0!==a.mozMatchesSelector?3:-1,l=i.ELEMENT,c=i.DOCUMENT,u=function(e){return e.nodeType!==l&&e.nodeType!==c||0===e.childElementCount};return{all:function(t,i){var r=void 0===i?o:i.dom();return u(r)?[]:e.map(r.querySelectorAll(t),n.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==l)return!1;if(0===s)return n.matches(t);if(1===s)return n.msMatchesSelector(t);if(2===s)return n.webkitMatchesSelector(t);if(3===s)return n.mozMatchesSelector(t);throw new r("Browser lacks native selectors")},one:function(e,i){var r=void 0===i?o:i.dom();return u(r)?t.none():t.from(r.querySelector(e)).map(n.fromDom)}}})),i("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],(function(e,t,n,i,r){var o=function(e,t){return e.dom()===t.dom()},a=i.detect().browser.isIE()?function(e,t){return n.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){var n=e.dom(),i=t.dom();return n!==i&&n.contains(i)};return{eq:o,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(n,i){return e.exists(i,t.curry(o,n))},contains:a,is:r.is}})),i("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],(function(e,t,n,i,r,o,a,s){var l=function(e){return s.fromDom(e.dom().ownerDocument)},c=function(e){var t=e.dom();return i.from(t.parentNode).map(s.fromDom)},u=function(e){var t=e.dom();return i.from(t.previousSibling).map(s.fromDom)},d=function(e){var t=e.dom();return i.from(t.nextSibling).map(s.fromDom)},h=function(e){var n=e.dom();return t.map(n.childNodes,s.fromDom)},f=function(e,t){var n=e.dom().childNodes;return i.from(n[t]).map(s.fromDom)},p=r.immutable("element","offset");return{owner:l,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return s.fromDom(t)},documentElement:function(e){var t=l(e);return s.fromDom(t.dom().documentElement)},parent:c,findIndex:function(e){return c(e).bind((function(n){var i=h(n);return t.findIndex(i,(function(t){return a.eq(e,t)}))}))},parents:function(t,i){for(var r=e.isFunction(i)?i:n.constant(!1),o=t.dom(),a=[];null!==o.parentNode&&void 0!==o.parentNode;){var l=o.parentNode,c=s.fromDom(l);if(a.push(c),!0===r(c))break;o=l}return a},siblings:function(e){return c(e).map(h).map((function(n){return t.filter(n,(function(t){return!a.eq(e,t)}))})).getOr([])},prevSibling:u,offsetParent:function(e){var t=e.dom();return i.from(t.offsetParent).map(s.fromDom)},prevSiblings:function(e){return t.reverse(o.toArray(e,u))},nextSibling:d,nextSiblings:function(e){return o.toArray(e,d)},children:h,child:f,firstChild:function(e){return f(e,0)},lastChild:function(e){return f(e,e.dom().childNodes.length-1)},leaf:function(e,t){var n=h(e);return n.length>0&&t<n.length?p(n[t],0):p(e,t)}}})),i("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],(function(e){var t=function(t,n){e.parent(t).each((function(e){e.dom().insertBefore(n.dom(),t.dom())}))},n=function(e,t){e.dom().appendChild(t.dom())};return{before:t,after:function(i,r){e.nextSibling(i).fold((function(){e.parent(i).each((function(e){n(e,r)}))}),(function(e){t(e,r)}))},prepend:function(t,i){e.firstChild(t).fold((function(){n(t,i)}),(function(e){t.dom().insertBefore(i.dom(),e.dom())}))},append:n,appendAt:function(i,r,o){e.child(i,o).fold((function(){n(i,r)}),(function(e){t(e,r)}))},wrap:function(e,i){t(e,i),n(i,e)}}})),i("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],(function(e,t){return{before:function(n,i){e.each(i,(function(e){t.before(n,e)}))},after:function(n,i){e.each(i,(function(e,r){var o=0===r?n:i[r-1];t.after(o,e)}))},prepend:function(n,i){e.each(i.slice().reverse(),(function(e){t.prepend(n,e)}))},append:function(n,i){e.each(i,(function(e){t.append(n,e)}))}}})),i("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],(function(e,t,n){var i=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)};return{empty:function(t){t.dom().textContent="",e.each(n.children(t),(function(e){i(e)}))},remove:i,unwrap:function(e){var r=n.children(e);r.length>0&&t.before(e,r),i(e)}}})),i("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],(function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},i=function(e){return function(t){return n(t)===e}},r=i(e.ELEMENT),o=i(e.TEXT),a=i(e.DOCUMENT);return{name:t,type:n,value:function(e){return e.dom().nodeValue},isElement:r,isText:o,isDocument:a,isComment:function(i){return n(i)===e.COMMENT||"#comment"===t(i)}}})),i("ephox.sugar.impl.NodeValue",["ephox.sand.api.PlatformDetection","ephox.katamari.api.Option","global!Error"],(function(e,t,n){return function(i,r){var o=function(e){return i(e)?t.from(e.dom().nodeValue):t.none()},a=e.detect().browser,s=a.isIE()&&10===a.version.major?function(e){try{return o(e)}catch(e){return t.none()}}:o;return{get:function(e){if(!i(e))throw new n("Can only get "+r+" value of a "+r+" node");return s(e).getOr("")},getOption:s,set:function(e,t){if(!i(e))throw new n("Can only set raw "+r+" value of a "+r+" node");e.dom().nodeValue=t}}}})),i("ephox.sugar.api.node.Text",["ephox.sugar.api.node.Node","ephox.sugar.impl.NodeValue"],(function(e,t){var n=t(e.isText,"text");return{get:function(e){return n.get(e)},getOption:function(e){return n.getOption(e)},set:function(e,t){n.set(e,t)}}})),i("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],(function(e,t,n,i){var r=e.cached((function(){return o(t.fromDom(i))})),o=function(e){var n=e.dom().body;if(null==n)throw"Body is not available yet";return t.fromDom(n)};return{body:r,getBody:o,inBody:function(e){var t=n.isText(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}}})),i("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr","ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],(function(e,t,n){var i=function(t,r){var o=[];return e.each(n.children(t),(function(e){r(e)&&(o=o.concat([e])),o=o.concat(i(e,r))})),o};return{all:function(e){return i(t.body(),e)},ancestors:function(t,i,r){return e.filter(n.parents(t,r),i)},siblings:function(t,i){return e.filter(n.siblings(t),i)},children:function(t,i){return e.filter(n.children(t),i)},descendants:i}})),i("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter","ephox.sugar.api.search.Selectors"],(function(e,t){return{all:function(e){return t.all(e)},ancestors:function(n,i,r){return e.ancestors(n,(function(e){return t.is(e,i)}),r)},siblings:function(n,i){return e.siblings(n,(function(e){return t.is(e,i)}))},children:function(n,i){return e.children(n,(function(e){return t.is(e,i)}))},descendants:function(e,n){return t.all(n,e)}}})),i("tinymce.core.dom.ElementType",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Node"],(function(e,t,n){var i=function(i){var r;return function(o){return(r=r||e.mapToObject(i,t.constant(!0))).hasOwnProperty(n.name(o))}},r=i(["h1","h2","h3","h4","h5","h6"]),o=i(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]);return{isBlock:o,isInline:function(e){return n.isElement(e)&&!o(e)},isHeading:r,isTextBlock:i(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isList:i(["ul","ol","dl"]),isListItem:i(["li","dd","dt"]),isVoid:i(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableSection:i(["thead","tbody","tfoot"]),isTableCell:i(["td","th"]),isBr:function(e){return n.isElement(e)&&"br"===n.name(e)}}})),i("tinymce.core.dom.PaddingBr",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.Traverse","tinymce.core.dom.ElementType"],(function(e,t,n,i,r,o,a,s,l){var c=function(e){return r.isText(e)?""===o.get(e):l.isBr(e)};return{removeTrailingBr:function(t){var r=a.descendants(t,"br"),o=e.filter(function(e){for(var t=[],n=e.dom();n;)t.push(i.fromDom(n)),n=n.lastChild;return t}(t).slice(-1),l.isBr);r.length===o.length&&e.each(o,n.remove)},fillWithPaddingBr:function(e){n.empty(e),t.append(e,i.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(t){return 1===e.filter(s.children(t),c).length},trimBlockTrailingBr:function(e){s.lastChild(e).each((function(t){s.prevSibling(t).each((function(i){l.isBlock(e)&&l.isBr(t)&&l.isBlock(i)&&n.remove(t)}))}))}}})),i("tinymce.core.fmt.FormatUtils",["tinymce.core.dom.TreeWalker"],(function(e){var t=function(e){return e&&/^(IMG)$/.test(e.nodeName)},n=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},i=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t};return{isInlineBlock:t,moveStart:function(i,r,o){var a,s,l,c=o.startContainer,u=o.startOffset;if((o.startContainer!==o.endContainer||!t(o.startContainer.childNodes[o.startOffset]))&&(3===c.nodeType&&u>=c.nodeValue.length&&(u=i.nodeIndex(c),c=c.parentNode),1===c.nodeType))for(u<(l=c.childNodes).length?(c=l[u],a=new e(c,i.getParent(c,i.isBlock))):(c=l[l.length-1],(a=new e(c,i.getParent(c,i.isBlock))).next(!0)),s=a.current();s;s=a.next())if(3===s.nodeType&&!n(s))return o.setStart(s,0),void r.setRng(o)},getNonWhiteSpaceSibling:function(e,t,i){if(e)for(t=t?"nextSibling":"previousSibling",e=i?e:e[t];e;e=e[t])if(1===e.nodeType||!n(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:n,replaceVars:function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},isEq:function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:i,getStyle:function(e,t,n){return i(e,e.getStyle(t,n),n)},getTextDecoration:function(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}}})),i("tinymce.core.fmt.ExpandRange",["tinymce.core.dom.BookmarkManager","tinymce.core.dom.TreeWalker","tinymce.core.fmt.FormatUtils"],(function(e,t,n){var i=e.isBookmarkNode,r=n.getParents,o=n.isWhiteSpaceNode,a=n.isTextBlock,s=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}};return{expandRng:function(e,l,c,u){var d,h,f=l.startContainer,p=l.startOffset,A=l.endContainer,g=l.endOffset,m=e.dom,v=function(e){var t,n,r,a,s,l;if(t=n=e?f:A,a=e?"previousSibling":"nextSibling",s=m.getRoot(),3===t.nodeType&&!o(t)&&(e?p>0:g<t.nodeValue.length))return t;for(;;){if(!c[0].block_expand&&m.isBlock(n))return n;for(r=n[a];r;r=r[a])if(!i(r)&&!o(r)&&("BR"!==(l=r).nodeName||!l.getAttribute("data-mce-bogus")||l.nextSibling))return n;if(n===s||n.parentNode===s){t=n;break}n=n.parentNode}return t};1===f.nodeType&&f.hasChildNodes()&&(d=f.childNodes.length-1,3===(f=f.childNodes[p>d?d:p]).nodeType&&(p=0)),1===A.nodeType&&A.hasChildNodes()&&(d=A.childNodes.length-1,3===(A=A.childNodes[g>d?d:g-1]).nodeType&&(g=A.nodeValue.length));var y=function(e){for(var t=e;t;){if(1===t.nodeType&&m.getContentEditable(t))return"false"===m.getContentEditable(t)?t:e;t=t.parentNode}return e},b=function(n,i,r){var o,a,s,l,c=function(e,t){var n,i,o=e.nodeValue;return void 0===t&&(t=r?o.length:0),r?-1===(n=(n=o.lastIndexOf(" ",t))>(i=o.lastIndexOf("",t))?n:i)||u||n++:(n=o.indexOf(" ",t),i=o.indexOf("",t),n=-1!==n&&(-1===i||n<i)?n:i),n};if(3===n.nodeType){if(-1!==(s=c(n,i)))return{container:n,offset:s};l=n}for(o=new t(n,m.getParent(n,m.isBlock)||e.getBody());a=o[r?"prev":"next"]();)if(3===a.nodeType){if(l=a,-1!==(s=c(a)))return{container:a,offset:s}}else if(m.isBlock(a))break;if(l)return{container:l,offset:i=r?0:l.length}},w=function(e,t){var n,i,o,a;for(3===e.nodeType&&0===e.nodeValue.length&&e[t]&&(e=e[t]),n=r(m,e),i=0;i<n.length;i++)for(o=0;o<c.length;o++)if((!("collapsed"in(a=c[o]))||a.collapsed===l.collapsed)&&m.is(n[i],a.selector))return n[i];return e},x=function(t,i){var o,s=m.getRoot();if(c[0].wrapper||(o=m.getParent(t,c[0].block,s)),!o){var l=m.getParent(t,"LI,TD,TH");o=m.getParent(3===t.nodeType?t.parentNode:t,(function(t){return t!==s&&a(e,t)}),l)}if(o&&c[0].wrapper&&(o=r(m,o,"ul,ol").reverse()[0]||o),!o)for(o=t;o[i]&&!m.isBlock(o[i])&&(o=o[i],!n.isEq(o,"br")););return o||t};return f=y(f),A=y(A),(i(f.parentNode)||i(f))&&3===(f=(f=i(f)?f:f.parentNode).nextSibling||f).nodeType&&(p=0),(i(A.parentNode)||i(A))&&3===(A=(A=i(A)?A:A.parentNode).previousSibling||A).nodeType&&(g=A.length),c[0].inline&&(l.collapsed&&((h=b(f,p,!0))&&(f=h.container,p=h.offset),(h=b(A,g))&&(A=h.container,g=h.offset)),A=u?A:function(e,t){var n=s(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=s(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node).splitText(n.offset-1)}return e}(A,g)),(c[0].inline||c[0].block_expand)&&(c[0].inline&&3===f.nodeType&&0!==p||(f=v(!0)),c[0].inline&&3===A.nodeType&&g!==A.nodeValue.length||(A=v())),c[0].selector&&!1!==c[0].expand&&!c[0].inline&&(f=w(f,"previousSibling"),A=w(A,"nextSibling")),(c[0].block||c[0].selector)&&(f=x(f,"previousSibling"),A=x(A,"nextSibling"),c[0].block&&(m.isBlock(f)||(f=v(!0)),m.isBlock(A)||(A=v()))),1===f.nodeType&&(p=m.nodeIndex(f),f=f.parentNode),1===A.nodeType&&(g=m.nodeIndex(A)+1,A=A.parentNode),{startContainer:f,startOffset:p,endContainer:A,endOffset:g}}}})),i("tinymce.core.fmt.MatchFormat",["tinymce.core.fmt.FormatUtils"],(function(e){var t=e.isEq,n=function(e,t,n){var i=e.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&e.dom.is(t,i[r].selector))return!0;return!1},i=function(e,t,i,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,(function(t){return!!n(e,t,i)||t.parentNode===o||!!a(e,t,i,r,!0)})),a(e,t,i,r))},r=function(e,n,i){return!!t(n,i.inline)||!!t(n,i.block)||(i.selector?1===n.nodeType&&e.is(n,i.selector):void 0)},o=function(n,i,r,o,a,s){var l,c,u,d=r[o];if(r.onmatch)return r.onmatch(i,r,o);if(d)if(void 0===d.length){for(l in d)if(d.hasOwnProperty(l)){if(c="attributes"===o?n.getAttrib(i,l):e.getStyle(n,i,l),a&&!c&&!r.exact)return;if((!a||r.exact)&&!t(c,e.normalizeStyleValue(n,e.replaceVars(d[l],s),l)))return}}else for(u=0;u<d.length;u++)if("attributes"===o?n.getAttrib(i,d[u]):e.getStyle(n,i,d[u]))return r;return r},a=function(e,t,n,i,a){var s,l,c,u,d=e.formatter.get(n),h=e.dom;if(d&&t)for(l=0;l<d.length;l++)if(s=d[l],r(e.dom,t,s)&&o(h,t,s,"attributes",a,i)&&o(h,t,s,"styles",a,i)){if(u=s.classes)for(c=0;c<u.length;c++)if(!e.dom.hasClass(t,u[c]))return;return s}};return{matchNode:a,matchName:r,match:function(e,t,n,r){var o;return r?i(e,r,t,n):(r=e.selection.getNode(),!!i(e,r,t,n)||!((o=e.selection.getStart())===r||!i(e,o,t,n)))},matchAll:function(e,t,n){var i,r=[],o={};return i=e.selection.getStart(),e.dom.getParent(i,(function(i){var s,l;for(s=0;s<t.length;s++)l=t[s],!o[l]&&a(e,i,l,n)&&(o[l]=!0,r.push(l))}),e.dom.getRoot()),r},canApply:function(t,n){var i,r,o,a,s,l=t.formatter.get(n),c=t.dom;if(l)for(i=t.selection.getStart(),r=e.getParents(c,i),a=l.length-1;a>=0;a--){if(!(s=l[a].selector)||l[a].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(c.is(r[o],s))return!0}return!1},matchesUnInheritedFormatSelector:n}})),i("tinymce.core.fmt.CaretFormat",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","tinymce.core.dom.PaddingBr","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.text.Zwsp","tinymce.core.util.Fun","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l,c,u){var d=l.ZWSP,h="_mce_caret",f=function(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==d||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0},p=function(e){var t;if(e)for(e=(t=new r(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},A=function(e,t){var n=e.create("span",{id:h,"data-mce-bogus":"1",style:""});return t&&n.appendChild(e.doc.createTextNode(d)),n},g=function(e){for(;e;){if(e.id===h)return e;e=e.parentNode}},m=function(e,t){var n;(n=g(t.getStart()))&&!e.isEmpty(n)&&u.walk(n,(function(t){1!==t.nodeType||t.id===h||e.isEmpty(t)||e.setAttrib(t,"data-mce-bogus",null)}),"childNodes")},v=function(e,i,r,o){var a,s,l;a=i.getRng(!0),s=e.getParent(r,e.isBlock),f(r)?(!1!==o&&(a.setStartBefore(r),a.setEndBefore(r)),e.remove(r)):(l=function(e){var t=p(e);return t&&t.nodeValue.charAt(0)===d&&t.deleteData(0,1),t}(r),a.startContainer===l&&a.startOffset>0&&a.setStart(l,a.startOffset-1),a.endContainer===l&&a.endOffset>0&&a.setEnd(l,a.endOffset-1),e.remove(r,!0)),s&&e.isEmpty(s)&&n.fillWithPaddingBr(t.fromDom(s)),i.setRng(a)},y=function(e,t,n,i){if(n)v(e,t,n,i);else if(!(n=g(t.getStart())))for(;n=e.get(h);)v(e,t,n,!1)},b=function(e,t){return e.appendChild(t),t},w=function(e){e._hasCaretEvents||(x(e),e._hasCaretEvents=!0)},x=function(e){var t,n,i=e.dom,r=e.selection;e._hasCaretEvents||(e.on("BeforeGetContent",(function(e){t&&"raw"!==e.format&&t()})),e.on("mouseup keydown",(function(e){n&&n(e)})),t=function(){var e,t=[];if(f(g(r.getStart()),t))for(e=t.length;e--;)i.setAttrib(t[e],"data-mce-bogus","1")},n=function(e){var t=e.keyCode;y(i,r,null,!1),8===t&&r.isCollapsed()&&r.getStart().innerHTML===d&&y(i,r,g(r.getStart())),37!==t&&39!==t||y(i,r,g(r.getStart())),m(i,r)},e.on("SetContent",(function(e){e.selection&&m(i,r)})),e._hasCaretEvents=!0)};return{applyCaretFormat:function(e,t,n){var r,a,s,l,c,u,h=e.dom,f=e.selection;w(e),l=(r=f.getRng(!0)).startOffset,u=r.startContainer.nodeValue,(a=g(f.getStart()))&&(s=p(a));var m=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&l>0&&l<u.length&&m.test(u.charAt(l))&&m.test(u.charAt(l-1))?(c=f.getBookmark(),r.collapse(!0),r=o.expandRng(e,r,e.formatter.get(t)),r=new i(h).split(r),e.formatter.apply(t,n,r),f.moveToBookmark(c)):(a&&s.nodeValue===d||(s=(a=A(h,!0)).firstChild,r.insertNode(a),l=1),e.formatter.apply(t,n,a),f.setCursorLocation(s,l))},removeCaretFormat:function(r,l,u,h){var f,p,m,y,x,C,_,k=r.dom,S=r.selection,E=S.getRng(!0),T=[];for(w(r),f=E.startContainer,p=E.startOffset,x=f,3===f.nodeType&&(p!==f.nodeValue.length&&(y=!0),x=x.parentNode);x;){if(s.matchNode(r,x,l,u,h)){C=x;break}x.nextSibling&&(y=!0),T.push(x),x=x.parentNode}if(C)if(y)m=S.getBookmark(),E.collapse(!0),E=o.expandRng(r,E,r.formatter.get(l),!0),E=new i(k).split(E),r.formatter.remove(l,u,E),S.moveToBookmark(m);else{_=g(C);var B=A(k,!1),I=function(t,n){var i=e.foldr(t,(function(e,t){return b(e,t.cloneNode(!1))}),n);return b(i,i.ownerDocument.createTextNode(d))}(T,B);(function(e,i,r){var o=e.dom,s=o.getParent(r,c.curry(a.isTextBlock,e));s&&o.isEmpty(s)?r.parentNode.replaceChild(i,r):(n.removeTrailingBr(t.fromDom(r)),o.isEmpty(r)?r.parentNode.replaceChild(i,r):o.insertAfter(i,r))})(r,B,_||C),v(k,S,_,!1),S.setCursorLocation(I,1),k.isEmpty(C)&&k.remove(C)}},isCaretNode:function(e){return 1===e.nodeType&&e.id===h}}})),i("tinymce.core.fmt.Hooks",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.DomQuery"],(function(e,t,n){var i,r={},o=e.filter,a=e.each;return i=function(i){var r,s,l=i.selection.getRng();r=t.matchNodeNames("pre"),l.collapsed||(s=i.selection.getSelectedBlocks(),a(o(o(s,r),(function(t){return r(t.previousSibling)&&-1!==e.indexOf(s,t.previousSibling)})),(function(e){var t,i;t=e.previousSibling,n(i=e).remove(),n(t).append("<br><br>").append(i.childNodes)})))},r["pre"]||(r.pre=[]),r.pre.push(i),{postProcess:function(e,t){a(r[e],(function(e){e(t)}))}}})),i("tinymce.core.dom.ElementUtils",["tinymce.core.dom.BookmarkManager","tinymce.core.util.Tools"],(function(e,t){var n=t.each;return function(t){this.compare=function(i,r){if(i.nodeName!=r.nodeName)return!1;function o(e){var i={};return n(t.getAttribs(e),(function(n){var r=n.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(i[r]=t.getAttrib(e,r))})),i}function a(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!=n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0}return!(!a(o(i),o(r))||!a(t.parseStyle(t.getAttrib(i,"style")),t.parseStyle(t.getAttrib(r,"style")))||e.isBookmarkNode(i)||e.isBookmarkNode(r))}}})),i("tinymce.core.fmt.RemoveFormat",["ephox.katamari.api.Fun","tinymce.core.dom.BookmarkManager","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l){var c=/^(src|href|style)$/,u=l.each,d=a.isEq,h=function(e){return/^(TH|TD)$/.test(e.nodeName)},f=function(e,t,n){var r,o,a;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],1===r.nodeType&&(a=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>a?a:o]),3===r.nodeType&&n&&o>=r.nodeValue.length&&(r=new i(r,e.getBody()).next()||r),3!==r.nodeType||n||0!==o||(r=new i(r,e.getBody()).prev()||r),r},p=function(e,t,n,i){var r=e.create(n,i);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},A=function(e,t,n,i){return!(t=a.getNonWhiteSpaceSibling(t,n,i))||"BR"===t.nodeName||e.isBlock(t)},g=function(e,t,n,i,r){var o,s,h,f=e.dom;if(!function(e,t,n){return!!d(t,n.inline)||!!d(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)}(f,i,t)&&!function(e,t){return t.links&&"A"===e.tagName}(i,t))return!1;if("all"!==t.remove)for(u(t.styles,(function(e,o){e=a.normalizeStyleValue(f,a.replaceVars(e,n),o),"number"==typeof o&&(o=e,r=0),(t.remove_similar||!r||d(a.getStyle(f,r,o),e))&&f.setStyle(i,o,""),h=1})),h&&""===f.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),u(t.attributes,(function(e,t){var o;if(e=a.replaceVars(e,n),"number"==typeof t&&(t=e,r=0),!r||d(f.getAttrib(r,t),e)){if("class"===t&&(e=f.getAttrib(i,t))&&(o="",u(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)})),o))return void f.setAttrib(i,t,o);"class"===t&&i.removeAttribute("className"),c.test(t)&&i.removeAttribute("data-mce-"+t),i.removeAttribute(t)}})),u(t.classes,(function(e){e=a.replaceVars(e,n),r&&!f.hasClass(r,e)||f.removeClass(i,e)})),s=f.getAttribs(i),o=0;o<s.length;o++){var g=s[o].nodeName;if(0!==g.indexOf("_")&&0!==g.indexOf("data-"))return!1}return"none"!==t.remove?(function(e,t,n){var i,r=t.parentNode,o=e.dom,s=e.settings.forced_root_block;n.block&&(s?r===o.getRoot()&&(n.list_block&&d(t,n.list_block)||u(l.grep(t.childNodes),(function(t){a.isValid(e,s,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=p(o,t,s),o.setAttribs(i,e.settings.forced_root_block_attrs)):i=0}))):o.isBlock(t)&&!o.isBlock(r)&&(A(o,t,!1)||A(o,t.firstChild,!0,1)||t.insertBefore(o.create("br"),t.firstChild),A(o,t,!0)||A(o,t.lastChild,!1,1)||t.appendChild(o.create("br")))),n.selector&&n.inline&&!d(n.inline,t)||o.remove(t,1)}(e,i,t),!0):void 0};return{removeFormat:g,remove:function(e,i,c,d,A){var m,v,y=e.formatter.get(i),b=y[0],w=!0,x=e.dom,C=e.selection,_=function(t){var n=function(e,t,n,i,r){var o;return u(a.getParents(e.dom,t.parentNode).reverse(),(function(t){var a;o||"_start"===t.id||"_end"===t.id||(a=s.matchNode(e,t,n,i,r))&&!1!==a.split&&(o=t)})),o}(e,t,i,c,A);return function(e,t,n,i,r,o,a,s){var l,c,u,d,h,f,p=e.dom;if(n){for(f=n.parentNode,l=i.parentNode;l&&l!==f;l=l.parentNode){for(c=p.clone(l,!1),h=0;h<t.length;h++)if(g(e,t[h],s,c,c)){c=0;break}c&&(u&&c.appendChild(u),d||(d=c),u=c)}a.mixed&&p.isBlock(n)||(i=p.split(n,i)),u&&(r.parentNode.insertBefore(u,r),d.appendChild(r))}return i}(e,y,n,t,t,0,b,c)},k=function(t){var n,i,r,o,a;if(1===t.nodeType&&x.getContentEditable(t)&&(o=w,w="true"===x.getContentEditable(t),a=!0),n=l.grep(t.childNodes),w&&!a)for(i=0,r=y.length;i<r&&!g(e,y[i],c,t,t);i++);if(b.deep&&n.length){for(i=0,r=n.length;i<r;i++)k(n[i]);a&&(w=o)}},S=function(e){var n=x.get(e?"_start":"_end"),i=n[e?"firstChild":"lastChild"];return t.isBookmarkNode(i)&&(i=i[e?"firstChild":"lastChild"]),3===i.nodeType&&0===i.data.length&&(i=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),x.remove(n,!0),i},E=function(t){var i,r,s=t.commonAncestorContainer;if(t=o.expandRng(e,t,y,!0),b.split){if((i=f(e,t,!0))!==(r=f(e,t))){if(/^(TR|TH|TD)$/.test(i.nodeName)&&i.firstChild&&(i="TR"===i.nodeName?i.firstChild.firstChild||i:i.firstChild||i),s&&/^T(HEAD|BODY|FOOT|R)$/.test(s.nodeName)&&h(r)&&r.firstChild&&(r=r.firstChild||r),x.isChildOf(i,r)&&!x.isBlock(r)&&!h(i)&&!h(r))return i=p(x,i,"span",{id:"_start","data-mce-type":"bookmark"}),_(i),void(i=S(!0));i=p(x,i,"span",{id:"_start","data-mce-type":"bookmark"}),r=p(x,r,"span",{id:"_end","data-mce-type":"bookmark"}),_(i),_(r),i=S(!0),r=S()}else i=r=_(i);t.startContainer=i.parentNode?i.parentNode:i,t.startOffset=x.nodeIndex(i),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=x.nodeIndex(r)+1}new n(x).walk(t,(function(t){u(t,(function(t){k(t),1===t.nodeType&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===a.getTextDecoration(x,t.parentNode)&&g(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)}))}))};if(d)d.nodeType?((v=x.createRng()).setStartBefore(d),v.setEndAfter(d),E(v)):E(d);else if("false"!==x.getContentEditable(C.getNode()))C.isCollapsed()&&b.inline&&!x.select("td[data-mce-selected],th[data-mce-selected]").length?r.removeCaretFormat(e,i,c,A):(m=C.getBookmark(),E(C.getRng(!0)),C.moveToBookmark(m),b.inline&&s.match(e,i,c,C.getStart())&&a.moveStart(x,C,C.getRng(!0)),e.nodeChanged());else{d=C.getNode();for(var T=0,B=y.length;T<B&&(!y[T].ceFalseOverride||!g(e,y[T],c,d,d));T++);}}}})),i("tinymce.core.fmt.MergeFormats",["ephox.katamari.api.Fun","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.RemoveFormat","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l){var c=l.each,u=function(e){return e&&1===e.nodeType&&!t.isBookmarkNode(e)&&!r.isCaretNode(e)&&!i.isBogus(e)},d=function(e,n){var i;for(i=e;i;i=i[n]){if(3===i.nodeType&&0!==i.nodeValue.length)return e;if(1===i.nodeType&&!t.isBookmarkNode(i))return i}return e},h=function(e,t,i){var r,o,a=new n(e);if(t&&i&&(t=d(t,"previousSibling"),i=d(i,"nextSibling"),a.compare(t,i))){for(r=t.nextSibling;r&&r!==i;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(i),l.each(l.grep(i.childNodes),(function(e){t.appendChild(e)})),t}return i},f=function(e,t,n){c(e.childNodes,(function(e){u(e)&&(t(e)&&n(e),e.hasChildNodes()&&f(e,t,n))}))},p=function(t,n){return e.curry((function(e,n){return!(!n||!o.getStyle(t,n,e))}),n)},A=function(t,n,i){return e.curry((function(e,n,i){t.setStyle(i,e,n),""===i.getAttribute("style")&&i.removeAttribute("style"),g(t,i)}),n,i)},g=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},m=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=o.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))};return{mergeWithChildren:function(e,t,n,i){c(t,(function(t){c(e.dom.select(t.inline,i),(function(i){u(i)&&s.removeFormat(e,t,n,i,t.exact?i:null)})),function(e,t,n){if(t.clear_child_styles){var i=t.links?"*:not(a)":"*";c(e.select(i,n),(function(n){u(n)&&c(t.styles,(function(t,i){e.setStyle(n,i,"")}))}))}}(e.dom,t,i)}))},mergeUnderlineAndColor:function(t,n,i,r){(n.styles.color||n.styles.textDecoration)&&(l.walk(r,e.curry(m,t),"childNodes"),m(t,r))},mergeBackgroundColorAndFontSize:function(e,t,n,i){t.styles&&t.styles.backgroundColor&&f(i,p(e,"fontSize"),A(e,"backgroundColor",o.replaceVars(t.styles.backgroundColor,n)))},mergeSubSup:function(e,t,n,i){"sub"!==t.inline&&"sup"!==t.inline||(f(i,p(e,"fontSize"),A(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",i),!0))},mergeSiblings:function(e,t,n,i){i&&!1!==t.merge_siblings&&(i=h(e,o.getNonWhiteSpaceSibling(i),i),i=h(e,i,o.getNonWhiteSpaceSibling(i,!0)))},mergeWithParents:function(e,t,n,i,r){a.matchNode(e,r.parentNode,n,i)&&s.removeFormat(e,t,i,r)||t.merge_with_parents&&e.dom.getParent(r.parentNode,(function(o){if(a.matchNode(e,o,n,i))return s.removeFormat(e,t,i,r),!0}))}}})),i("tinymce.core.fmt.ApplyFormat",["tinymce.core.dom.BookmarkManager","tinymce.core.dom.NodeType","tinymce.core.dom.RangeNormalizer","tinymce.core.dom.RangeUtils","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.Hooks","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.MergeFormats","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l,c,u){var d=u.each,h=function(f,p,A,g){var m,v,y=f.formatter.get(p),b=y[0],w=!g&&f.selection.isCollapsed(),x=f.dom,C=f.selection,_=function(e,t){if(t=t||b,e){if(t.onformat&&t.onformat(e,t,A,g),d(t.styles,(function(t,n){x.setStyle(e,n,a.replaceVars(t,A))})),t.styles){var n=x.getAttrib(e,"style");n&&e.setAttribute("data-mce-style",n)}d(t.attributes,(function(t,n){x.setAttrib(e,n,a.replaceVars(t,A))})),d(t.classes,(function(t){t=a.replaceVars(t,A),x.hasClass(e,t)||x.addClass(e,t)}))}},k=function(e,t){var n=!1;return!!b.selector&&(d(e,(function(e){if(!("collapsed"in e)||e.collapsed===w)return x.is(t,e.selector)&&!r.isCaretNode(t)?(_(t,e),n=!0,!1):void 0})),n)},S=function(n,o,s,h){var g,m,v=[],w=!0;g=b.inline||b.block,m=n.create(g),_(m),new i(n).walk(o,(function(e){var t,i=function(e){var o,s,c,x;if(x=w,o=e.nodeName.toLowerCase(),s=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&n.getContentEditable(e)&&(x=w,w="true"===n.getContentEditable(e),c=!0),a.isEq(o,"br"))return t=0,void(b.block&&n.remove(e));if(b.wrapper&&l.matchNode(f,e,p,A))t=0;else{if(w&&!c&&b.block&&!b.wrapper&&a.isTextBlock(f,o)&&a.isValid(f,s,g))return e=n.rename(e,g),_(e),v.push(e),void(t=0);if(b.selector){var C=k(y,e);if(!b.inline||C)return void(t=0)}!w||c||!a.isValid(f,g,o)||!a.isValid(f,s,g)||!h&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||r.isCaretNode(e)||b.inline&&n.isBlock(e)?(t=0,d(u.grep(e.childNodes),i),c&&(w=x),t=0):(t||(t=n.clone(m,!1),e.parentNode.insertBefore(t,e),v.push(t)),t.appendChild(e))}};d(e,i)})),!0===b.links&&d(v,(function(e){var t=function(e){"A"===e.nodeName&&_(e,b),d(u.grep(e.childNodes),t)};t(e)})),d(v,(function(i){var o;o=function(t){var n=0;return d(t.childNodes,(function(t){a.isWhiteSpaceNode(t)||e.isBookmarkNode(t)||n++})),n}(i),!(v.length>1)&&n.isBlock(i)||0!==o?(b.inline||b.wrapper)&&(b.exact||1!==o||(i=function(i){var o,a;return o=function(n){var i=!1;return d(n.childNodes,(function(n){if(function(n){return n&&1===n.nodeType&&!e.isBookmarkNode(n)&&!r.isCaretNode(n)&&!t.isBogus(n)}(n))return i=n,!1})),i}(i),o&&!e.isBookmarkNode(o)&&l.matchName(n,o,b)&&(a=n.clone(o,!1),_(a),n.replace(a,i,!0),n.remove(o,1)),a||i}(i)),c.mergeWithChildren(f,y,A,i),c.mergeWithParents(f,b,p,A,i),c.mergeBackgroundColorAndFontSize(n,b,A,i),c.mergeSubSup(n,b,A,i),c.mergeSiblings(n,b,A,i)):n.remove(i,1)}))};if("false"!==x.getContentEditable(C.getNode())){if(b){if(g)g.nodeType?k(y,g)||((v=x.createRng()).setStartBefore(g),v.setEndAfter(g),S(x,o.expandRng(f,v,y),0,!0)):S(x,g,0,!0);else if(w&&b.inline&&!x.select("td[data-mce-selected],th[data-mce-selected]").length)r.applyCaretFormat(f,p,A);else{var E=f.selection.getNode();f.settings.forced_root_block||!y[0].defaultBlock||x.getParent(E,x.isBlock)||h(f,y[0].defaultBlock),f.selection.setRng(n.normalize(f.selection.getRng())),m=C.getBookmark(),S(x,o.expandRng(f,C.getRng(!0),y)),b.styles&&c.mergeUnderlineAndColor(x,b,A,E),C.moveToBookmark(m),a.moveStart(x,C,C.getRng(!0)),f.nodeChanged()}s.postProcess(p,f)}}else{g=C.getNode();for(var T=0,B=y.length;T<B;T++)if(y[T].ceFalseOverride&&x.is(g,y[T].selector))return void _(g,y[T])}};return{applyFormat:h}})),i("tinymce.core.fmt.FormatChanged",["ephox.katamari.api.Cell","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.util.Tools"],(function(e,t,n,i){var r=i.each;return{formatChanged:function(e,o,a,s,l){null===o.get()&&function(e,o){var a={};e.set({}),o.on("NodeChange",(function(s){var l=t.getParents(o.dom,s.element),c={};l=i.grep(l,(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")})),r(e.get(),(function(e,t){r(l,(function(i){return o.formatter.matchNode(i,t,{},e.similar)?(a[t]||(r(e,(function(e){e(!0,{node:i,format:t,parents:l})})),a[t]=e),c[t]=e,!1):!n.matchesUnInheritedFormatSelector(o,i,t)&&void 0}))})),r(a,(function(e,t){c[t]||(delete a[t],r(e,(function(e){e(!1,{node:s.element,format:t,parents:l})})))}))}))}(o,e),function(e,t,n,i){var o=e.get();r(t.split(","),(function(e){o[e]||(o[e]=[],o[e].similar=i),o[e].push(n)})),e.set(o)}(o,a,s,l)}}})),i("tinymce.core.fmt.DefaultFormats",["tinymce.core.util.Tools"],(function(e){return{get:function(t){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,i,r){e.each(r,(function(e,i){t.setAttrib(n,i,e)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return e.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){n[e]={block:e,remove:"all"}})),n}}})),i("tinymce.core.fmt.FormatRegistry",["tinymce.core.fmt.DefaultFormats","tinymce.core.util.Tools"],(function(e,t){return function(n){var i={},r=function(e,n){e&&("string"!=typeof e?t.each(e,(function(e,t){r(t,e)})):(n=n.length?n:[n],t.each(n,(function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),i[e]=n))};return r(e.get(n.dom)),r(n.settings.formats),{get:function(e){return e?i[e]:i},register:r,unregister:function(e){return e&&i[e]&&delete i[e],i}}}})),i("tinymce.core.fmt.Preview",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.html.Schema"],(function(e,t,n){var i=t.each,r=e.DOM;function o(e,i){var o,a,s,l=i&&i.schema||new n({});function c(e){var t;return a="string"==typeof e?{name:e,classes:[],attrs:{}}:e,function(e,t){t.classes.length&&r.addClass(e,t.classes.join(" ")),r.setAttribs(e,t.attrs)}(t=r.create(a.name),a),t}return e&&e.length?(o=c(a=e[0]),(s=r.create("div")).appendChild(function e(n,i,o){var a,s,u,d=i.length>0&&i[0],h=d&&d.name;if(u=function(e,n){var i="string"!=typeof e?e.nodeName.toLowerCase():e,r=l.getElementRule(i),o=r&&r.parentsRequired;return!(!o||!o.length)&&(n&&-1!==t.inArray(o,n)?n:o[0])}(n,h),u)h===u?(s=i[0],i=i.slice(1)):s=u;else if(d)s=i[0],i=i.slice(1);else if(!o)return n;return s&&(a=c(s)).appendChild(n),o&&(a||(a=r.create("div")).appendChild(n),t.each(o,(function(e){var t=c(e);a.insertBefore(t,n)}))),e(a,i,s&&s.siblings)}(o,e.slice(1),a.siblings)),s):""}function a(e){var n,i={classes:[],attrs:{}};return"*"!==(e=i.selector=t.trim(e))&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,n,r,o,a){switch(n){case"#":i.attrs.id=r;break;case".":i.classes.push(r);break;case":":-1!==t.inArray("checked disabled enabled read-only required".split(" "),r)&&(i.attrs[r]=r)}if("["===o){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(i.attrs[s[1]]=s[2])}return""}))),i.name=n||"div",i}function s(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var n=t.map(e.split(/(?:~\+|~|\+)/),a),i=n.pop();return n.length&&(i.siblings=n),i})).reverse()):[]}return{getCssText:function(e,t){var n,a,l,c,u,d,h="";if(!1===(d=e.settings.preview_styles))return"";function f(e){return e.replace(/%(\w+)/g,"")}if("string"!=typeof d&&(d="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(d=t.preview)?"":(n=t.block||t.inline||"span",(c=s(t.selector)).length?(c[0].name||(c[0].name=n),n=t.selector,a=o(c,e)):a=o([n],e),l=r.select(n,a)[0]||a.firstChild,i(t.styles,(function(e,t){(e=f(e))&&r.setStyle(l,t,e)})),i(t.attributes,(function(e,t){(e=f(e))&&r.setAttrib(l,t,e)})),i(t.classes,(function(e){e=f(e),r.hasClass(l,e)||r.addClass(l,e)})),e.fire("PreviewFormats"),r.setStyles(a,{position:"absolute",left:-65535}),e.getBody().appendChild(a),u=r.getStyle(e.getBody(),"fontSize",!0),u=/px$/.test(u)?parseInt(u,10):0,i(d.split(" "),(function(t){var n=r.getStyle(l,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=r.getStyle(e.getBody(),t,!0),"#ffffff"===r.toHex(n).toLowerCase())||"color"===t&&"#000000"===r.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===u)return;n=(n=parseFloat(n,10)/(/%$/.test(n)?100:1))*u+"px"}"border"===t&&n&&(h+="padding:0 2px;"),h+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),r.remove(a),h)},parseSelector:s,selectorToHtml:function(e,t){return o(s(e),t)}}})),i("tinymce.core.fmt.ToggleFormat",["tinymce.core.fmt.ApplyFormat","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.RemoveFormat"],(function(e,t,n){return{toggle:function(i,r,o,a,s){var l=r.get(o);!t.match(i,o,a,s)||"toggle"in l[0]&&!l[0].toggle?e.applyFormat(i,o,a,s):n.remove(i,o,a,s)}}})),i("tinymce.core.keyboard.FormatShortcuts",[],(function(){return{setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}}})),i("tinymce.core.api.Formatter",["ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.fmt.ApplyFormat","tinymce.core.fmt.FormatChanged","tinymce.core.fmt.FormatRegistry","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.Preview","tinymce.core.fmt.RemoveFormat","tinymce.core.fmt.ToggleFormat","tinymce.core.keyboard.FormatShortcuts"],(function(e,t,n,i,r,o,a,s,l,c){return function(u){var d=r(u),h=e(null);return c.setup(u),{get:d.get,register:d.register,unregister:d.unregister,apply:t.curry(n.applyFormat,u),remove:t.curry(s.remove,u),toggle:t.curry(l.toggle,u,d),match:t.curry(o.match,u),matchAll:t.curry(o.matchAll,u),matchNode:t.curry(o.matchNode,u),canApply:t.curry(o.canApply,u),formatChanged:t.curry(i.formatChanged,u,h),getCssText:t.curry(a.getCssText,u)}}})),i("ephox.sugar.api.properties.Attr",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.node.Node","global!Error","global!console"],(function(e,t,n,i,r,o){var a=function(t,n,i){if(!(e.isString(i)||e.isBoolean(i)||e.isNumber(i)))throw o.error("Invalid call to Attr.set. Key ",n,":: Value ",i,":: Element ",t),new r("Attribute value was not simple");t.setAttribute(n,i+"")},s=function(e,t,n){a(e.dom(),t,n)},l=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},c=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)};return{clone:function(e){return t.foldl(e.dom().attributes,(function(e,t){return e[t.name]=t.value,e}),{})},set:s,setAll:function(e,t){var i=e.dom();n.each(t,(function(e,t){a(i,t,e)}))},get:l,has:c,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return null==t||0===t.length},transfer:function(e,n,r){i.isElement(e)&&i.isElement(n)&&t.each(r,(function(t){!function(e,t,n){c(e,n)&&!c(t,n)&&s(t,n,l(e,n))}(e,n,t)}))}}})),i("ephox.sugar.impl.Style",[],(function(){return{isSupported:function(e){return void 0!==e.style}}})),r("global!window",window),i("ephox.sugar.api.properties.Css",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Body","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.impl.Style","ephox.katamari.api.Strings","global!Error","global!console","global!window"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h){var f=function(t,n,i){if(!e.isString(i))throw d.error("Invalid call to CSS.set. Property ",n,":: Value ",i,":: Element ",t),new u("CSS value must be a string: "+i);l.isSupported(t)&&t.style.setProperty(n,i)},p=function(e,t){l.isSupported(e)&&e.style.removeProperty(t)},A=function(e,t,n){var i=e.dom();f(i,t,n)},g=function(e,t){return l.isSupported(e)?e.style.getPropertyValue(t):""},m=function(e,t){var n=e.dom(),r=g(n,t);return i.from(r).filter((function(e){return e.length>0}))};return{copy:function(e,t){var n=e.dom(),i=t.dom();l.isSupported(n)&&l.isSupported(i)&&(i.style.cssText=n.style.cssText)},set:A,preserve:function(e,t){var n=r.get(e,"style"),i=t(e);return(void 0===n?r.remove:r.set)(e,"style",n),i},setAll:function(e,t){var i=e.dom();n.each(t,(function(e,t){f(i,t,e)}))},setOptions:function(e,t){var i=e.dom();n.each(t,(function(e,t){e.fold((function(){p(i,t)}),(function(e){f(i,t,e)}))}))},remove:function(e,t){var n=e.dom();p(n,t),r.has(e,"style")&&""===c.trim(r.get(e,"style"))&&r.remove(e,"style")},get:function(e,t){var n=e.dom(),i=h.getComputedStyle(n).getPropertyValue(t),r=""!==i||o.inBody(e)?i:g(n,t);return null===r?void 0:r},getRaw:m,isValidValue:function(e,t,n){var i=a.fromTag(e);return A(i,t,n),m(i,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(e,n,i){s.isElement(e)&&s.isElement(n)&&t.each(i,(function(t){!function(e,t,n){m(e,n).each((function(e){m(t,n).isNone()&&A(t,n,e)}))}(e,n,t)}))}}})),i("tinymce.core.EditorView",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Css","ephox.sugar.api.search.Traverse"],(function(e,t,n,i,r,o){var a=function(e,t){return t.dom()[e]},s=function(e,t){return parseInt(r.get(t,e),10)},l=e.curry(a,"clientWidth"),c=e.curry(a,"clientHeight"),u=e.curry(s,"margin-top"),d=e.curry(s,"margin-left");return{isXYInContentArea:function(e,t,n){var r=i.fromDom(e.getBody()),a=e.inline?r:o.documentElement(r),s=function(e,t,n,i){var r=function(e){return e.dom().getBoundingClientRect()}(t);return{x:n-(e?r.left+t.dom().clientLeft+d(t):0),y:i-(e?r.top+t.dom().clientTop+u(t):0)}}(e.inline,a,t,n);return function(e,t,n){var i=l(e),r=c(e);return t>=0&&n>=0&&t<=i&&n<=r}(a,s.x,s.y)},isEditorAttachedToDom:function(e){var r;return(r=e.inline?e.getBody():e.getContentAreaContainer(),t.from(r).map(i.fromDom)).map((function(e){return n.contains(o.owner(e),e)})).getOr(!1)}}})),i("tinymce.core.ui.DomUtils",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.dom.DOMUtils"],(function(e,t,n){"use strict";var i=0,r={id:function(){return"mceu_"+i++},create:function(e,i,r){var o=document.createElement(e);return n.DOM.setAttribs(o,i),"string"==typeof r?o.innerHTML=r:t.each(r,(function(e){e.nodeType&&o.appendChild(e)})),o},createFragment:function(e){return n.DOM.createFragment(e)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return n.DOM.getPos(e,t||r.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return n.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return n.DOM.addClass(e,t)},removeClass:function(e,t){return n.DOM.removeClass(e,t)},hasClass:function(e,t){return n.DOM.hasClass(e,t)},toggleClass:function(e,t,i){return n.DOM.toggleClass(e,t,i)},css:function(e,t,i){return n.DOM.setStyle(e,t,i)},getRuntimeStyle:function(e,t){return n.DOM.getStyle(e,t,!0)},on:function(e,t,i,r){return n.DOM.bind(e,t,i,r)},off:function(e,t,i){return n.DOM.unbind(e,t,i)},fire:function(e,t,i){return n.DOM.fire(e,t,i)},innerHtml:function(e,t){n.DOM.setHTML(e,t)}};return r})),i("tinymce.core.util.Class",["tinymce.core.util.Tools"],(function(e){var t,n,i=e.each,r=e.extend;function o(){}return o.extend=t=function(e){var o,a,s,l=this.prototype;function c(){var e,t,i,r=this;if(!n&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)(i=t[e]).init&&i.init.apply(r,arguments)}function u(){return this}function d(e,t){return function(){var n,i=this,r=i._super;return i._super=l[e],n=t.apply(i,arguments),i._super=r,n}}for(a in n=!0,o=new this,n=!1,e.Mixins&&(i(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),l.Mixins&&(e.Mixins=l.Mixins.concat(e.Mixins))),e.Methods&&i(e.Methods.split(","),(function(t){e[t]=u})),e.Properties&&i(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}})),e.Statics&&i(e.Statics,(function(e,t){c[t]=e})),e.Defaults&&l.Defaults&&(e.Defaults=r({},l.Defaults,e.Defaults)),e)"function"==typeof(s=e[a])&&l[a]?o[a]=d(a,s):o[a]=s;return c.prototype=o,c.constructor=c,c.extend=t,c},o})),i("tinymce.core.util.EventDispatcher",["tinymce.core.util.Tools"],(function(e){var t=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");function n(t){var n,i,r=this,o={};function a(){return!1}function s(){return!0}function l(t,n,s,l){var c,u,d;if(!1===n&&(n=a),n)for(n={func:n},l&&e.extend(n,l),d=(u=t.toLowerCase().split(" ")).length;d--;)t=u[d],(c=o[t])||(c=o[t]=[],i(t,!0)),s?c.unshift(n):c.push(n);return r}function c(e,t){var n,a,s,l,c;if(e)for(n=(l=e.toLowerCase().split(" ")).length;n--;){if(e=l[n],a=o[e],!e){for(s in o)i(s,!1),delete o[s];return r}if(a){if(t)for(c=a.length;c--;)a[c].func===t&&(a=a.slice(0,c).concat(a.slice(c+1)),o[e]=a);else a.length=0;a.length||(i(e,!1),delete o[e])}}else{for(e in o)i(e,!1);o={}}return r}n=(t=t||{}).scope||r,i=t.toggleEvent||a,r.fire=function(e,i){var r,l,u,d;if(e=e.toLowerCase(),(i=i||{}).type=e,i.target||(i.target=n),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=s},i.stopPropagation=function(){i.isPropagationStopped=s},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s},i.isDefaultPrevented=a,i.isPropagationStopped=a,i.isImmediatePropagationStopped=a),t.beforeFire&&t.beforeFire(i),r=o[e])for(l=0,u=r.length;l<u;l++){if((d=r[l]).once&&c(e,d.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===d.func.call(n,i))return i.preventDefault(),i}return i},r.on=l,r.off=c,r.once=function(e,t,n){return l(e,t,n,{once:!0})},r.has=function(e){return e=e.toLowerCase(),!(!o[e]||0===o[e].length)}}return n.isNative=function(e){return!!t[e.toLowerCase()]},n})),i("tinymce.core.data.Binding",[],(function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,i){var r;function o(t){e.set(i,t.value)}return e.on("change:"+i,(function(e){t.set(n,e.value)})),t.on("change:"+n,o),(r=e._bindings)||(r=e._bindings=[],e.on("destroy",(function(){for(var e=r.length;e--;)r[e]()}))),r.push((function(){t.off("change:"+n,o)})),t.get(n)}})},e})),i("tinymce.core.util.Observable",["tinymce.core.util.EventDispatcher"],(function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,i){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,i)}})),t._eventDispatcher}return{fire:function(e,n,i){var r=this;if(r.removed&&"remove"!==e)return n;if(n=t(r).fire(e,n,i),!1!==i&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,i){return t(this).on(e,n,i)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}})),i("tinymce.core.data.ObservableObject",["tinymce.core.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],(function(e,t,n,i){function r(e){return e.nodeType>0}function o(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(i.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(r(e)||r(t))return e===t;for(n in a={},t){if(!o(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!o(e[n],t[n]))return!1;return!0}return t.extend({Mixins:[n],init:function(t){var n,i;for(n in t=t||{})(i=t[n])instanceof e&&(t[n]=i.create(this,n));this.data=t},set:function(t,n){var i,r,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(i in t)this.set(i,t[i]);return this}return o(a,n)||(this.data[t]=n,r={target:this,name:t,value:n,oldValue:a},this.fire("change:"+t,r),this.fire("change",r)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})})),i("tinymce.core.ui.Selector",["tinymce.core.util.Class"],(function(e){"use strict";var t,n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=/^\s*|\s*$/g,o=e.extend({init:function(e){var t=this.match;function o(e,i,o){var s;function l(e){e&&i.push(e)}return l(function(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}((s=n.exec(e.replace(r,"")))[1])),l(function(e){if(e)return function(t){return t._name===e}}(s[2])),l(function(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}(s[3])),l(function(e,t,n){if(e)return function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!=n:"^="===t?0===r.indexOf(n):"$="===t&&r.substr(r.length-n.length)===n:!!n}}(s[4],s[5],s[6])),l(function(e){var n;if(e)return(e=/(?:not\((.+)\))|(.+)/i.exec(e))[1]?(n=a(e[1],[]),function(e){return!t(e,n)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}(s[7])),i.pseudo=!!s[7],i.direct=o,i}function a(e,t){var n,r,s,l=[];do{if(i.exec(""),(r=i.exec(e))&&(e=r[3],l.push(r[1]),r[2])){n=r[3];break}}while(r);for(n&&a(n,t),e=[],s=0;s<l.length;s++)">"!=l[s]&&e.push(o(l[s],[],">"===l[s-1]));return t.push(e),t}this._selectors=a(e,[])},match:function(e,t){var n,i,r,o,a,s,l,c,u,d,h,f,p;for(n=0,i=(t=t||this._selectors).length;n<i;n++){for(p=e,f=0,r=(o=(a=t[n]).length)-1;r>=0;r--)for(c=a[r];p;){if(c.pseudo)for(u=d=(h=p.parent().items()).length;u--&&h[u]!==p;);for(s=0,l=c.length;s<l;s++)if(!c[s](p,u,d)){s=l+1;break}if(s===l){f++;break}if(r===o-1)break;p=p.parent()}if(f===o)return!0}return!1},find:function(e){var n,i,r=[],a=this._selectors;function s(e,t,n){var i,o,a,l,c,u=t[n];for(i=0,o=e.length;i<o;i++){for(c=e[i],a=0,l=u.length;a<l;a++)if(!u[a](c,i,o)){a=l+1;break}if(a===l)n==t.length-1?r.push(c):c.items&&s(c.items(),t,n+1);else if(u.direct)return;c.items&&s(c.items(),t,n)}}if(e.items){for(n=0,i=a.length;n<i;n++)s(e.items(),a[n],0);i>1&&(r=function(e){for(var t,n=[],i=e.length;i--;)(t=e[i]).__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}(r))}return t||(t=o.Collection),new t(r)}});return o})),i("tinymce.core.ui.Collection",["tinymce.core.util.Tools","tinymce.core.ui.Selector","tinymce.core.util.Class"],(function(e,t,n){"use strict";var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof i?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;t<i;t++)delete n[t];return n},filter:function(e){var n,r,o,a,s=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,r=this.length;n<r;n++)a(o=this[n])&&s.push(o);return new i(s)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,i=this;return void 0!==t?(i.each((function(n){n[e]&&n[e](t)})),i):(n=i[0])&&n[e]?n[e]():void 0},exec:function(t){var n=e.toArray(arguments).slice(1);return this.each((function(e){e[t]&&e[t].apply(e,n)})),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each((function(t){t.classes.add(e)}))},removeClass:function(e){return this.each((function(t){t.classes.remove(e)}))}},e.each("fire on off show hide append prepend before after reflow".split(" "),(function(t){r[t]=function(){var n=e.toArray(arguments);return this.each((function(e){t in e&&e[t].apply(e,n)})),this}})),e.each("text name disabled active selected checked visible parent value data".split(" "),(function(e){r[e]=function(t){return this.prop(e,t)}})),i=n.extend(r),t.Collection=i,i})),i("tinymce.core.ui.BoxUtils",[],(function(){"use strict";return{parseBox:function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=parseFloat(function(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,(function(e){return"-"+e})),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}(t),10);return isNaN(n)?0:n}return{top:n(t+"TopWidth"),right:n(t+"RightWidth"),bottom:n(t+"BottomWidth"),left:n(t+"LeftWidth")}}}})),i("tinymce.core.ui.ClassList",["tinymce.core.util.Tools"],(function(e){"use strict";function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n})),i("tinymce.core.ui.ReflowQueue",["tinymce.core.util.Delay"],(function(e){var t,n={};return{add:function(i){var r=i.parent();if(r){if(!r._layout||r._layout.isNative())return;n[r._id]||(n[r._id]=r),t||(t=!0,e.requestAnimationFrame((function(){var e,i;for(e in t=!1,n)(i=n[e]).state.get("rendered")&&i.reflow();n={}}),document.body))}},remove:function(e){n[e._id]&&delete n[e._id]}}})),i("tinymce.core.ui.Control",["tinymce.core.util.Class","tinymce.core.util.Tools","tinymce.core.util.EventDispatcher","tinymce.core.data.ObservableObject","tinymce.core.ui.Collection","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.BoxUtils","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],(function(e,t,n,i,r,o,a,s,l,c){"use strict";var u,d="onmousewheel"in document,h=!1,f="mce-",p=0,A={Statics:{classPrefix:f},isRtl:function(){return u.rtl},classPrefix:f,init:function(e){var n,r,o=this;function c(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)o.classes.add(e[t])}o.settings=e=t.extend({},o.Defaults,e),o._id=e.id||"mceu_"+p++,o._aria={role:e.role},o._elmCache={},o.$=a,o.state=new i({visible:!0,active:!1,disabled:!1,value:""}),o.data=new i(e.data),o.classes=new l((function(){o.state.get("rendered")&&(o.getEl().className=this.toString())})),o.classes.prefix=o.classPrefix,(n=e.classes)&&(o.Defaults&&(r=o.Defaults.classes)&&n!=r&&c(r),c(n)),t.each("title text name visible disabled active value".split(" "),(function(t){t in e&&o[t](e[t])})),o.on("click",(function(){if(o.disabled())return!1})),o.settings=e,o.borderBox=s.parseBox(e.border),o.paddingBox=s.parseBox(e.padding),o.marginBox=s.parseBox(e.margin),e.hidden&&o.hide()},Properties:"parent,name",getContainerElm:function(){return o.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,a,l,c,u,d,h=this,f=h.settings,p=h.getEl();e=h.borderBox=h.borderBox||s.measureBox(p,"border"),h.paddingBox=h.paddingBox||s.measureBox(p,"padding"),h.marginBox=h.marginBox||s.measureBox(p,"margin"),d=o.getSize(p),c=f.minWidth,u=f.minHeight,r=c||d.width,a=u||d.height,n=f.width,i=f.height,l=void 0!==(l=f.autoResize)?l:!n&&!i,n=n||r,i=i||a;var A=e.left+e.right,g=e.top+e.bottom,m=f.maxWidth||65535,v=f.maxHeight||65535;return h._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:i,deltaW:A,deltaH:g,contentW:n-A,contentH:i-g,innerW:n-A,innerH:i-g,startMinWidth:c||0,startMinHeight:u||0,minW:Math.min(r,m),minH:Math.min(a,v),maxW:m,maxH:v,autoResize:l,scrollW:0},h._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),e?(i=l.deltaW,r=l.deltaH,e.x!==o&&(l.x=e.x),e.y!==o&&(l.y=e.y),e.minW!==o&&(l.minW=e.minW),e.minH!==o&&(l.minH=e.minH),(n=e.w)!==o&&(n=(n=n<l.minW?l.minW:n)>l.maxW?l.maxW:n,l.w=n,l.innerW=n-i),(n=e.h)!==o&&(n=(n=n<l.minH?l.minH:n)>l.maxH?l.maxH:n,l.h=n,l.innerH=n-r),(n=e.innerW)!==o&&(n=(n=n<l.minW-i?l.minW-i:n)>l.maxW-i?l.maxW-i:n,l.innerW=n,l.w=n+i),(n=e.innerH)!==o&&(n=(n=n<l.minH-r?l.minH-r:n)>l.maxH-r?l.maxH-r:n,l.innerH=n,l.h=n+r),e.contentW!==o&&(l.contentW=e.contentW),e.contentH!==o&&(l.contentH=e.contentH),(t=s._lastLayoutRect).x===l.x&&t.y===l.y&&t.w===l.w&&t.h===l.h||((a=u.repaintControls)&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=l.x,t.y=l.y,t.w=l.w,t.h=l.h),s):l},repaint:function(){var e,t,n,i,r,o,a,s,l,c,u=this;l=document.createRange?function(e){return e}:Math.round,e=u.getEl().style,i=u._layoutRect,s=u._lastRepaintRect||{},o=(r=u.borderBox).left+r.right,a=r.top+r.bottom,i.x!==s.x&&(e.left=l(i.x)+"px",s.x=i.x),i.y!==s.y&&(e.top=l(i.y)+"px",s.y=i.y),i.w!==s.w&&(c=l(i.w-o),e.width=(c>=0?c:0)+"px",s.w=i.w),i.h!==s.h&&(c=l(i.h-a),e.height=(c>=0?c:0)+"px",s.h=i.h),u._hasBody&&i.innerW!==s.innerW&&(c=l(i.innerW),(n=u.getEl("body"))&&((t=n.style).width=(c>=0?c:0)+"px"),s.innerW=i.innerW),u._hasBody&&i.innerH!==s.innerH&&(c=l(i.innerH),(n=n||u.getEl("body"))&&((t=t||n.style).height=(c>=0?c:0)+"px"),s.innerH=i.innerH),u._lastRepaintRect=s,u.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,o.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){var n=this;return g(n).on(e,function(e){var t,i;return"string"!=typeof e?e:function(r){return t||n.parentsAndSelf().each((function(n){var r=n.settings.callbacks;if(r&&(t=r[e]))return i=n,!1})),t?t.call(i,r):(r.action=e,void this.fire("execute",r))}}(t)),n},off:function(e,t){return g(this).off(e,t),this},fire:function(e,t,n){var i=this;if((t=t||{}).control||(t.control=i),t=g(i).fire(e,t),!1!==n&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return g(this).has(e)},parents:function(e){var t,n=new r;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new r(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&i.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))},translate:function(e){return u.translate?u.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}r&&r.items&&(e=[],r.items().each((function(t){t!==n&&e.push(t)})),r.items().set(e),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,r,o=this,s=o.settings;for(i in o.$el=a(o.getEl()),o.state.set("rendered",!0),s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}m(o),s.style&&(e=o.getEl())&&(e.setAttribute("style",s.style),e.style.cssText=s.style),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var l=o.getRoot();for(var u in l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o,o._aria)o.aria(u,o._aria[u]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",(function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),(t=o.parent())&&(t._lastRect=null),o.fire(n?"show":"hide"),c.add(o)})),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,i,r,o,a,s=this.getEl(),l=s.parentNode,c=function(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(s,l);return t=c.x,n=c.y,i=s.offsetWidth,r=s.offsetHeight,o=l.clientWidth,a=l.clientHeight,"end"==e?(t-=o-i,n-=a-r):"center"==e&&(t-=o/2-i/2,n-=a/2-r/2),l.scrollLeft=t,l.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){c.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};function g(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,i){i&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&m(e))}})),e._eventDispatcher}function m(e){var t,n,i,r,o,s;function l(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function c(){var e=r._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each((function(e){e.fire("mouseleave",{target:e.getEl()})})),r._lastHoverCtrl=null)}function u(t){var n,i,o,a=e.getParentCtrl(t.target),s=r._lastHoverCtrl,l=0;if(a!==s){if(r._lastHoverCtrl=a,(i=a.parents().toArray().reverse()).push(a),s){for((o=s.parents().toArray().reverse()).push(s),l=0;l<o.length&&i[l]===o[l];l++);for(n=o.length-1;n>=l;n--)(s=o[n]).fire("mouseleave",{target:s.getEl()})}for(n=l;n<i.length;n++)(a=i[n]).fire("mouseenter",{target:a.getEl()})}}function f(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-1/40*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}if(o=e._nativeEvents){for((i=e.parents().toArray()).unshift(e),t=0,n=i.length;!r&&t<n;t++)r=i[t]._eventsRoot;for(r||(r=i[i.length-1]||e),e._eventsRoot=r,n=t,t=0;t<n;t++)i[t]._eventsRoot=r;var p=r._delegates;for(s in p||(p=r._delegates={}),o){if(!o)return!1;"wheel"!==s||h?("mouseenter"===s||"mouseleave"===s?r._hasMouseEnter||(a(r.getEl()).on("mouseleave",c).on("mouseover",u),r._hasMouseEnter=1):p[s]||(a(r.getEl()).on(s,l),p[s]=!0),o[s]=!1):d?a(e.getEl()).on("mousewheel",f):a(e.getEl()).on("DOMMouseScroll",f)}}}return t.each("text title visible disabled active value".split(" "),(function(e){A[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}})),u=e.extend(A)})),i("tinymce.core.ui.Movable",["tinymce.core.ui.DomUtils"],(function(e){"use strict";function t(t,n,i){var r,o,a,s,l,c,u,d,h,f;return h=e.getViewPort(),a=(o=e.getPos(n)).x,s=o.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(a-=h.x,s-=h.y),r=t.getEl(),l=(f=e.getSize(r)).width,c=f.height,u=(f=e.getSize(n)).width,d=f.height,"b"===(i=(i||"").split(""))[0]&&(s+=d),"r"===i[1]&&(a+=u),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(u/2)),"b"===i[3]&&(s-=c),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(c/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,i){for(var r=e.getViewPort(),o=0;o<i.length;o++){var a=t(this,n,i[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(t,n){var i=this;function r(e,t,n){return e<0||e+n>t&&(e=t-n)<0?0:e}if(i.settings.constrainToViewport){var o=e.getViewPort(window),a=i.layoutRect();t=r(t,o.w+o.x,a.w),n=r(n,o.h+o.y,a.h)}return i.state.get("rendered")?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire("move",{x:t,y:n}),i}}})),i("tinymce.core.ui.Tooltip",["tinymce.core.ui.Control","tinymce.core.ui.Movable"],(function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)})),e._super()},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})})),i("tinymce.core.ui.Widget",["tinymce.core.ui.Control","tinymce.core.ui.Tooltip"],(function(e,t){"use strict";var n,i=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==i.tooltips&&(t.on("mouseenter",(function(n){var i=t.tooltip().moveTo(-65535);if(n.control==t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"==r),i.classes.toggle("tooltip-nw","bc-tl"==r),i.classes.toggle("tooltip-ne","bc-tr"==r),i.moveRel(t.getEl(),r)}else i.hide()})),t.on("mouseleave mousedown click",(function(){t.tooltip().hide()}))),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){var e=this;function t(t){e.aria("disabled",t),e.classes.toggle("disabled",t)}function n(t){e.aria("pressed",t),e.classes.toggle("active",t)}return e.state.on("change:disabled",(function(e){t(e.value)})),e.state.on("change:active",(function(e){n(e.value)})),e.state.get("disabled")&&t(!0),e.state.get("active")&&n(!0),e._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i})),i("tinymce.core.ui.Progress",["tinymce.core.ui.Widget"],(function(e){"use strict";return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){var e=this;function t(t){t=e.settings.filter(t),e.getEl().lastChild.innerHTML=t+"%",e.getEl().firstChild.firstChild.style.width=t+"%"}return e.state.on("change:value",(function(e){t(e.value)})),t(e.state.get("value")),e._super()}})})),i("tinymce.core.ui.Notification",["tinymce.core.ui.Control","tinymce.core.ui.Movable","tinymce.core.ui.Progress","tinymce.core.util.Delay"],(function(e,t,n,i){var r=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")};return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",(function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()}))},renderHtml:function(){var e,t=this,n=t.classPrefix,i="",r="",o="";return t.icon&&(i='<i class="'+n+"ico "+n+"i-"+t.icon+'"></i>'),e=' style="max-width: '+t.maxWidth+"px;"+(t.color?"background-color: "+t.color+';"':'"'),t.closeButton&&(r='<button type="button" class="'+n+'close" aria-hidden="true"></button>'),t.progressBar&&(o=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+e+' role="presentation">'+i+'<div class="'+n+'notification-inner">'+t.state.get("text")+"</div>"+o+r+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return i.setTimeout((function(){e.$el.addClass(e.classPrefix+"in"),r(e,e.state.get("text"))}),100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl().firstChild.innerHTML=t.value,r(e,t.value)})),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",(function(t){r(e,e.state.get("text"))}))),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}})})),i("tinymce.core.ui.NotificationManagerImpl",["ephox.katamari.api.Arr","tinymce.core.ui.DomUtils","tinymce.core.ui.Notification","tinymce.core.util.Tools"],(function(e,t,n,i){return function(r){var o=function(e){return e.inline?e.getElement():e.getContentAreaContainer()};return{open:function(e,a){var s,l=i.extend(e,{maxWidth:(s=o(r),t.getSize(s).width)}),c=new n(l);return c.args=l,l.timeout>0&&(c.timer=setTimeout((function(){c.close(),a()}),l.timeout)),c.on("close",(function(){a()})),c.renderTo(),c},close:function(e){e.close()},reposition:function(t){!function(t){e.each(t,(function(e){e.moveTo(0,0)}))}(t),function(t){if(t.length>0){var n=t.slice(0,1)[0],i=o(r);n.moveRel(i,"tc-tc"),e.each(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")}))}}(t)},getArgs:function(e){return e.args}}}})),i("tinymce.core.api.NotificationManager",["ephox.katamari.api.Arr","ephox.katamari.api.Option","tinymce.core.EditorView","tinymce.core.ui.NotificationManagerImpl","tinymce.core.util.Delay"],(function(e,t,n,i,r){return function(o){var a=[],s=function(){var e=o.theme;return e.getNotificationManagerImpl?e.getNotificationManagerImpl():i(o)},l=function(){s().reposition(a)},c=function(t){e.findIndex(a,(function(e){return e===t})).each((function(e){a.splice(e,1)}))},u=function(t){if(!o.removed&&n.isEditorAttachedToDom(o))return e.find(a,(function(e){return function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)}(s().getArgs(e),t)})).getOrThunk((function(){o.editorManager.setActive(o);var e=s().open(t,(function(){c(e),l()}));return function(e){a.push(e)}(e),l(),e}))};return function(t){t.on("SkinLoaded",(function(){var e=t.settings.service_message;e&&u({text:e,type:"warning",timeout:0,icon:""})})),t.on("ResizeEditor ResizeWindow",(function(){r.requestAnimationFrame(l)})),t.on("remove",(function(){e.each(a,(function(e){s().close(e)}))}))}(o),{open:u,close:function(){t.from(a[0]).each((function(e){s().close(e),c(e),l()}))},getNotifications:function(){return a}}}})),i("tinymce.core.ui.Factory",[],(function(){"use strict";var e={};return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},get:function(t){var n=t.toLowerCase(),i=e.hasOwnProperty(n)?e[n]:null;if(null===i)throw new Error("Could not find module for type: "+t);return i},create:function(t,n){var i;if("string"==typeof t?(n=n||{}).type=t:t=(n=t).type,t=t.toLowerCase(),!(i=e[t]))throw new Error("Could not find control by type: "+t);return(i=new i(n)).type=t,i}}})),i("tinymce.core.ui.KeyboardNavigation",[],(function(){"use strict";var e=function(e){return!!e.getAttribute("data-mce-tabstop")};return function(t){var n,i,r=t.root;function o(e){return e&&1===e.nodeType}try{n=document.activeElement}catch(e){n=document.body}function a(e){return o(e=e||n)?e.getAttribute("role"):null}function s(e){for(var t,i=e||n;i=i.parentNode;)if(t=a(i))return t}function l(e){var t=n;if(o(t))return t.getAttribute("aria-"+e)}function c(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function u(t){var n=[];return function t(i){if(1==i.nodeType&&"none"!=i.style.display&&!i.disabled){(function(t){return!(!c(t)||t.hidden)||!!e(t)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(a(t))})(i)&&n.push(i);for(var r=0;r<i.childNodes.length;r++)t(i.childNodes[r])}}(t||r.getEl()),n}function d(e){var t,n;(n=(e=e||i).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function h(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function f(e,t){var i=-1,r=d();t=t||u(r.getEl());for(var o=0;o<t.length;o++)t[o]===n&&(i=o);i+=e,r.lastAriaIndex=h(i,t)}function p(){"tablist"==s()?f(-1,u(n.parentNode)):i.parent().submenu?v():f(-1)}function A(){var e=a(),t=s();"tablist"==t?f(1,u(n.parentNode)):"menuitem"==e&&"menu"==t&&l("haspopup")?y():f(1)}function g(){f(-1)}function m(){var e=a(),t=s();"menuitem"==e&&"menubar"==t?y():"button"==e&&l("haspopup")?y({key:"down"}):f(1)}function v(){i.fire("cancel")}function y(e){e=e||{},i.fire("click",{target:n,aria:e})}return i=r.getParentCtrl(n),r.on("keydown",(function(t){function r(t,i){c(n)||e(n)||"slider"!==a(n)&&!1!==i(t)&&t.preventDefault()}if(!t.isDefaultPrevented())switch(t.keyCode){case 37:r(t,p);break;case 39:r(t,A);break;case 38:r(t,g);break;case 40:r(t,m);break;case 27:v();break;case 14:case 13:case 32:r(t,y);break;case 9:!1!==function(e){if("tablist"==s()){var t=u(i.getEl("body"))[0];t&&t.focus()}else f(e.shiftKey?-1:1)}(t)&&t.preventDefault()}})),r.on("focusin",(function(e){n=e.target,i=e.control})),{focusFirst:function(e){var t=d(e),n=u(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?h(t.lastAriaIndex,n):h(0,n)}}}})),i("tinymce.core.ui.Container",["tinymce.core.ui.Control","tinymce.core.ui.Collection","tinymce.core.ui.Selector","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],(function(e,t,n,i,r,o,a,s,l){"use strict";var c={};return e.extend({init:function(e){var n=this;n._super(e),(e=n.settings).fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s((function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())})),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=i.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return(e=c[e]=c[e]||new n(e)).find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,i,r=this;if(!e||!(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav))return i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each((function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)})),t&&t.focus(),r;n.focusFirst(r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,r=this,a=[];return o.isArray(t)||(t=[t]),o.each(t,(function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=o.extend({},r.settings.defaults,t),t.type=n.type=n.type||t.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),t=i.create(n)),a.push(t))})),a},renderNew:function(){var e=this;return e.items().each((function(t,n){var i;t.parent(e),t.state.get("rendered")||((i=e.getEl("body")).hasChildNodes()&&n<=i.childNodes.length-1?a(i.childNodes[n]).before(t.renderHtml()):a(i).append(t.renderHtml()),t.postRender(),l.add(t))})),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,a=this;return e=a.create(e),i=a.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),a.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var e={};return this.find("*").each((function(t){var n=t.name(),i=t.value();n&&void 0!==i&&(e[n]=i)})),e},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new r({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})})),i("tinymce.core.ui.DragHelper",["tinymce.core.dom.DomQuery"],(function(e){"use strict";function t(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(n,i){var r,o,a,s,l,c,u,d=i.document||document;function h(){return d.getElementById(i.handle||n)}i=i||{},a=function(n){var a,f,p=function(e){var t,n,i,r,o,a,s,l=Math.max;return t=e.documentElement,n=e.body,i=l(t.scrollWidth,n.scrollWidth),r=l(t.clientWidth,n.clientWidth),o=l(t.offsetWidth,n.offsetWidth),a=l(t.scrollHeight,n.scrollHeight),s=l(t.clientHeight,n.clientHeight),{width:i<o?r:i,height:a<l(t.offsetHeight,n.offsetHeight)?s:a}}(d);t(n),n.preventDefault(),o=n.button,a=h(),c=n.screenX,u=n.screenY,f=window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue("cursor"):a.runtimeStyle.cursor,r=e("<div></div>").css({position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(d.body),e(d).on("mousemove touchmove",l).on("mouseup touchend",s),i.start(n)},l=function(e){if(t(e),e.button!==o)return s(e);e.deltaX=e.screenX-c,e.deltaY=e.screenY-u,e.preventDefault(),i.drag(e)},s=function(n){t(n),e(d).off("mousemove touchmove",l).off("mouseup touchend",s),r.remove(),i.stop&&i.stop(n)},this.destroy=function(){e(h()).off()},e(h()).on("mousedown touchstart",a)}})),i("tinymce.core.ui.Scrollable",["tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper"],(function(e,t){"use strict";return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var n=this;function i(){var t,i,r;function o(r,o,a,s,l,c){var u,d,h,f,p,A,g,m;if(d=n.getEl("scroll"+r)){if(g=o.toLowerCase(),m=a.toLowerCase(),e(n.getEl("absend")).css(g,n.layoutRect()[s]-1),!l)return void e(d).css("display","none");e(d).css("display","block"),u=n.getEl("body"),h=n.getEl("scroll"+r+"t"),f=u["client"+a]-4,p=(f-=t&&i?d["client"+c]:0)/u["scroll"+a],(A={})[g]=u["offset"+o]+2,A[m]=f,e(d).css(A),(A={})[g]=u["scroll"+o]*p,A[m]=f*p,e(h).css(A)}}r=n.getEl("body"),t=r.scrollWidth>r.clientWidth,i=r.scrollHeight>r.clientHeight,o("h","Left","Width","contentW",t,"Height"),o("v","Top","Height","contentH",i,"Width")}n.settings.autoScroll&&(n._hasScroll||(n._hasScroll=!0,function(){function i(i,r,o,a,s){var l,c=n._id+"-scroll"+i,u=n.classPrefix;e(n.getEl()).append('<div id="'+c+'" class="'+u+"scrollbar "+u+"scrollbar-"+i+'"><div id="'+c+'t" class="'+u+'scrollbar-thumb"></div></div>'),n.draghelper=new t(c+"t",{start:function(){l=n.getEl("body")["scroll"+r],e("#"+c).addClass(u+"active")},drag:function(e){var t,c,u,d,h=n.layoutRect();c=h.contentW>h.innerW,u=h.contentH>h.innerH,d=n.getEl("body")["client"+o]-4,t=(d-=c&&u?n.getEl("scroll"+i)["client"+s]:0)/n.getEl("body")["scroll"+o],n.getEl("body")["scroll"+r]=l+e["delta"+a]/t},stop:function(){e("#"+c).removeClass(u+"active")}})}n.classes.add("scroll"),i("v","Top","Height","Y","Width"),i("h","Left","Width","X","Height")}(),n.on("wheel",(function(e){var t=n.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,i()})),e(n.getEl("body")).on("scroll",i)),i())}}})),i("tinymce.core.ui.Panel",["tinymce.core.ui.Container","tinymce.core.ui.Scrollable"],(function(e,t){"use strict";return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})})),i("tinymce.core.ui.Resizable",["tinymce.core.ui.DomUtils"],(function(e){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var i=e.getWindowSize();t=t<=1?t*i.w:t,n=n<=1?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}})),i("tinymce.core.ui.FloatPanel",["tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.Delay"],(function(e,t,n,i,r,o){"use strict";var a,s,l,c,u=[],d=[];function h(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function f(e){var t=i.getViewPort().y;function n(t,n){for(var i,r=0;r<u.length;r++)if(u[r]!=e)for(i=u[r].parent();i&&(i=i.parent());)i==e&&u[r].fixed(t).moveBy(0,n).repaint()}e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>t&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),n(!1,e._autoFixY-t)):(e._autoFixY=e.layoutRect().y,e._autoFixY<t&&(e.fixed(!0).layoutRect({y:0}).repaint(),n(!0,t-e._autoFixY))))}function p(e,t){var n,i,o=A.zIndex||65535;if(e)d.push(t);else for(n=d.length;n--;)d[n]===t&&d.splice(n,1);if(d.length)for(n=0;n<d.length;n++)d[n].modal&&(o++,i=d[n]),d[n].getEl().style.zIndex=o,d[n].zIndex=o,o++;var a=r("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?r(a).css("z-index",i.zIndex-1):a&&(a.parentNode.removeChild(a),c=!1),A.currentZIndex=o}var A=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(a||(a=function(e){2!=e.button&&function(e){for(var t=u.length;t--;){var n=u[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(h(i,n)||n.parent()===i))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},r(document).on("click touchstart",a)),function(){if(!l){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;l=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,A.hideAll())},r(window).on("resize",l)}}(),u.push(t)),e.autofix&&(s||(s=function(){var e;for(e=u.length;e--;)f(u[e])},r(window).on("scroll",s)),t.on("move",(function(){f(this)}))),t.on("postrender show",(function(e){if(e.control==t){var n,i=t.classPrefix;t.modal&&!c&&((n=r("#"+i+"modal-block",t.getContainerElm()))[0]||(n=r('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(t.getContainerElm())),o.setTimeout((function(){n.addClass(i+"in"),r(t.getEl()).addClass(i+"in")})),c=!0),p(!0,t)}})),t.on("show",(function(){t.parents().each((function(e){if(e.state.get("fixed"))return t.fixed(!0),!1}))})),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=u.length;e--&&u[e]!==t;);return-1===e&&u.push(t),n},hide:function(){return g(this),p(!1,this),this._super()},hideAll:function(){A.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),p(!1,e)),e},remove:function(){g(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});function g(e){var t;for(t=u.length;t--;)u[t]===e&&u.splice(t,1);for(t=d.length;t--;)d[t]===e&&d.splice(t,1)}return A.hideAll=function(){for(var e=u.length;e--;){var t=u[e];t&&t.settings.autohide&&(t.hide(),u.splice(e,1))}},A})),i("tinymce.core.ui.Window",["tinymce.core.ui.FloatPanel","tinymce.core.ui.Panel","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper","tinymce.core.ui.BoxUtils","tinymce.core.Env","tinymce.core.util.Delay"],(function(e,t,n,i,r,o,a,s){"use strict";var l=[],c="";function u(e){var t,n=i("meta[name=viewport]")[0];!1!==a.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==c&&(c=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":c))}var d=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var i=this;i._super(e),i.isRtl()&&i.classes.add("rtl"),i.classes.add("window"),i.bodyClasses.add("window-body"),i.state.set("fixed",!0),e.buttons&&(i.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:i.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),i.statusbar.classes.add("foot"),i.statusbar.parent(i)),i.on("click",(function(e){var t=i.classPrefix+"close";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&i.close()})),i.on("cancel",(function(){i.close()})),i.aria("describedby",i.describedBy||i._id+"-none"),i.aria("label",e.title),i._fullscreen=!1},recalc:function(){var e,t,i,r,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW)>e.w&&(i=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:i}),r=!0),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),(t=a.layoutRect().minW+e.deltaW)>e.w&&(i=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this,i=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=n.getSize(e);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=t.settings.x||Math.max(0,a.w/2-i.w/2),i.y=t.settings.y||Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t,r,a=this,l=document.documentElement,c=a.classPrefix;if(e!=a._fullscreen)if(i(window).on("resize",(function(){var e;if(a._fullscreen)if(t)a._timer||(a._timer=s.setTimeout((function(){var e=n.getWindowSize();a.moveTo(0,0).resizeTo(e.w,e.h),a._timer=0}),50));else{e=(new Date).getTime();var i=n.getWindowSize();a.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-e>50&&(t=!0)}})),r=a.layoutRect(),a._fullscreen=e,e){a._initial={x:r.x,y:r.y,w:r.w,h:r.h},a.borderBox=o.parseBox("0"),a.getEl("head").style.display="none",r.deltaH-=r.headerH+2,i([l,document.body]).addClass(c+"fullscreen"),a.classes.add("fullscreen");var u=n.getWindowSize();a.moveTo(0,0).resizeTo(u.w,u.h)}else a.borderBox=o.parseBox(a.settings.border),a.getEl("head").style.display="",r.deltaH+=r.headerH,i([l,document.body]).removeClass(c+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var e,t=this;setTimeout((function(){t.classes.add("in"),t.fire("open")}),0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new r(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",(function(e){e.isDefaultPrevented()||t.close()})),l.push(t),u(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t,n,r=this;for(r.dragHelper.destroy(),r._super(),r.statusbar&&this.statusbar.remove(),t=r.classPrefix,n=!1,function(){for(var e=0;e<l.length;e++)if(l[e]._fullscreen)return!0;return!1}()&&!1===n&&i([document.documentElement,document.body]).removeClass(t+"fullscreen"),e=l.length;e--;)l[e]===r&&l.splice(e,1);u(l.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return function(){if(!a.desktop){var e={w:window.innerWidth,h:window.innerHeight};s.setInterval((function(){var t=window.innerWidth,n=window.innerHeight;e.w==t&&e.h==n||(e={w:t,h:n},i(window).trigger("resize"))}),100)}i(window).on("resize",(function(){var e,t,i=n.getWindowSize();for(e=0;e<l.length;e++)t=l[e].layoutRect(),l[e].moveTo(l[e].settings.x||Math.max(0,i.w/2-t.w/2),l[e].settings.y||Math.max(0,i.h/2-t.h/2))}))}(),d})),i("tinymce.core.ui.MessageBox",["tinymce.core.ui.Window"],(function(e){"use strict";var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var i,r=n.callback||function(){};function o(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),r(t)}}}switch(n.buttons){case t.OK_CANCEL:i=[o("Ok",!0,!0),o("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:i=[o("Yes",1,!0),o("No",0)],n.buttons==t.YES_NO_CANCEL&&i.push(o("Cancel",-1));break;default:i=[o("Ok",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t})),i("tinymce.core.ui.WindowManagerImpl",["tinymce.core.ui.Window","tinymce.core.ui.MessageBox"],(function(e,t){return function(n){return{open:function(t,n,i){var r;return t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]),(r=new e(t)).on("close",(function(){i(r)})),t.data&&r.on("postRender",(function(){this.find("*").each((function(e){var n=e.name();n in t.data&&e.value(t.data[n])}))})),r.features=t||{},r.params=n||{},r=r.renderTo().reflow()},alert:function(e,n,i){var r;return(r=t.alert(e,(function(){n()}))).on("close",(function(){i(r)})),r},confirm:function(e,n,i){var r;return(r=t.confirm(e,(function(e){n(e)}))).on("close",(function(){i(r)})),r},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}})),i("tinymce.core.api.WindowManager",["ephox.katamari.api.Arr","ephox.katamari.api.Option","tinymce.core.ui.WindowManagerImpl"],(function(e,t,n){return function(i){var r=[],o=function(){var e=i.theme;return e.getWindowManagerImpl?e.getWindowManagerImpl():n(i)},a=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},s=function(e){r.push(e),function(e){i.fire("OpenWindow",{win:e})}(e)},l=function(t){e.findIndex(r,(function(e){return e===t})).each((function(e){r.splice(e,1),function(e){i.fire("CloseWindow",{win:e})}(t),0===r.length&&i.focus()}))},c=function(){return t.from(r[0])};return i.on("remove",(function(){e.each(r.slice(0),(function(e){o().close(e)}))})),{windows:r,open:function(e,t){i.editorManager.setActive(i),0===r.length&&i.nodeChanged();var n=o().open(e,t,l);return s(n),n},alert:function(e,t,n){var i=o().alert(e,a(n||this,t),l);s(i)},confirm:function(e,t,n){var i=o().confirm(e,a(n||this,t),l);s(i)},close:function(){c().each((function(e){o().close(e),l(e)}))},getParams:function(){return c().map(o().getParams).getOr(null)},setParams:function(e){c().each((function(t){o().setParams(t,e)}))},getWindows:function(){return r}}}})),i("tinymce.core.dom.RangePoint",["ephox.katamari.api.Arr","tinymce.core.geom.ClientRect"],(function(e,t){return{isXYWithinRange:function(n,i,r){return!r.collapsed&&e.foldl(r.getClientRects(),(function(e,r){return e||t.containsXY(r,n,i)}),!1)}}})),i("tinymce.core.util.VK",["tinymce.core.Env"],(function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}})),i("tinymce.core.dom.ControlSelection",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","tinymce.core.dom.NodeType","tinymce.core.dom.RangePoint","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK"],(function(e,t,n,i,r,o,a,s,l){var c=i.isContentEditableFalse,u=i.isContentEditableTrue,d=function(e,t){var n=t.target;(function(e,t){return(n=e.target)&&"IMG"===n.nodeName&&!r.isXYWithinRange(e.clientX,e.clientY,t);var n})(t,e.selection.getRng())&&!t.isDefaultPrevented()&&(t.preventDefault(),e.selection.select(n))};return function(i,r){var h,f,p,A,g,m,v,y,b,w,x,C,_,k,S,E,T,B,I=r.dom,D=s.each,F=r.getDoc(),M=document,L=o.ie&&o.ie<11,P=Math.abs,R=Math.round,O=r.getBody();A={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var N=".mce-content-body";function U(e){var i=r.settings.object_resizing;return!1!==i&&!o.iOS&&("string"!=typeof i&&(i="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&e!=r.getBody()&&n.is(t.fromDom(e),i))}function H(e){var t,n,i,o;t=e.screenX-v,n=e.screenY-y,S=t*g[2]+x,E=n*g[3]+C,S=S<5?5:S,E=E<5?5:E,("IMG"==h.nodeName&&!1!==r.settings.resize_img_proportional?!l.modifierPressed(e):l.modifierPressed(e)||"IMG"==h.nodeName&&g[2]*g[3]!=0)&&(P(t)>P(n)?(E=R(S*_),S=R(E/_)):(S=R(E/_),E=R(S*_))),I.setStyles(f,{width:S,height:E}),i=(i=g.startPos.x+t)>0?i:0,o=(o=g.startPos.y+n)>0?o:0,I.setStyles(p,{left:i,top:o,display:"block"}),p.innerHTML=S+" &times; "+E,g[2]<0&&f.clientWidth<=S&&I.setStyle(f,"left",b+(x-S)),g[3]<0&&f.clientHeight<=E&&I.setStyle(f,"top",w+(C-E)),(t=O.scrollWidth-T)+(n=O.scrollHeight-B)!=0&&I.setStyles(p,{left:i-t,top:o-n}),k||(r.fire("ObjectResizeStart",{target:h,width:x,height:C}),k=!0)}function $(){function e(e,t){t&&(h.style[e]||!r.schema.isValid(h.nodeName.toLowerCase(),e)?I.setStyle(h,e,t):I.setAttrib(h,e,t))}k=!1,e("width",S),e("height",E),I.unbind(F,"mousemove",H),I.unbind(F,"mouseup",$),M!=F&&(I.unbind(M,"mousemove",H),I.unbind(M,"mouseup",$)),I.remove(f),I.remove(p),L&&"TABLE"!=h.nodeName||Q(h),r.fire("ObjectResized",{target:h,width:S,height:E}),I.setAttrib(h,"style",I.getAttrib(h,"style")),r.nodeChanged()}function Q(e,t,n){var i,a,s,l,c;W(),X(),i=I.getPos(e,O),b=i.x,w=i.y,c=e.getBoundingClientRect(),a=c.width||c.right-c.left,s=c.height||c.bottom-c.top,h!=e&&(Y(),h=e,S=E=0),l=r.fire("ObjectSelected",{target:e}),U(e)&&!l.isDefaultPrevented()?D(A,(function(e,i){var r;function l(t){v=t.screenX,y=t.screenY,x=h.clientWidth,C=h.clientHeight,_=C/x,g=e,e.startPos={x:a*e[0]+b,y:s*e[1]+w},T=O.scrollWidth,B=O.scrollHeight,f=h.cloneNode(!0),I.addClass(f,"mce-clonedresizable"),I.setAttrib(f,"data-mce-bogus","all"),f.contentEditable=!1,f.unSelectabe=!0,I.setStyles(f,{left:b,top:w,margin:0}),f.removeAttribute("data-mce-selected"),O.appendChild(f),I.bind(F,"mousemove",H),I.bind(F,"mouseup",$),M!=F&&(I.bind(M,"mousemove",H),I.bind(M,"mouseup",$)),p=I.add(O,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},x+" &times; "+C)}t?i==t&&l(n):((r=I.get("mceResizeHandle"+i))&&I.remove(r),r=I.add(O,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),o.ie&&(r.contentEditable=!1),I.bind(r,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),l(e)})),e.elm=r,I.setStyles(r,{left:a*e[0]+b-r.offsetWidth/2,top:s*e[1]+w-r.offsetHeight/2}))})):W(),h.setAttribute("data-mce-selected","1")}function W(){var e,t;for(e in X(),h&&h.removeAttribute("data-mce-selected"),A)(t=I.get("mceResizeHandle"+e))&&(I.unbind(t),I.remove(t))}function V(e){var t,n;function o(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}k||r.removed||(D(I.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")})),n="mousedown"==e.type?e.target:i.getNode(),o(n=I.$(n).closest(L?"table":"table,img,hr")[0],O)&&(J(),o(t=i.getStart(!0),n)&&o(i.getEnd(!0),n)&&(!L||n!=t&&"IMG"!==t.nodeName))?Q(n):W())}function j(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function z(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function K(e){var t,n,i,o,a,s,l,c=e.srcElement;for(n in t=c.getBoundingClientRect(),s=m.clientX-t.left,l=m.clientY-t.top,A)if(i=A[n],o=c.offsetWidth*i[0],a=c.offsetHeight*i[1],P(o-s)<8&&P(a-l)<8){g=i;break}k=!0,r.fire("ObjectResizeStart",{target:h,width:h.clientWidth,height:h.clientHeight}),r.getDoc().selection.empty(),Q(c,n,m)}function G(e){return c(function(e,t){for(;t&&t!=e;){if(u(t)||c(t))return t;t=t.parentNode}return null}(r.getBody(),e))}function q(e){var t=e.srcElement;if(G(t))!function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(e);else if(t!=h){if(r.fire("ObjectSelected",{target:t}),Y(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(W(),h=t,j(t,"resizestart",K))}}function Y(){z(h,"resizestart",K)}function X(){for(var e in A){var t=A[e];t.elm&&(I.unbind(t.elm),delete t.elm)}}function J(){try{r.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function Z(e){var t;if(L){t=F.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(e){}}}return r.contentStyles.push(N+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+N+" .mce-resizehandle:hover {background: #000}"+N+" img[data-mce-selected],"+N+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+N+" .mce-clonedresizable {position: absolute;"+(o.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+N+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),r.on("init",(function(){L?(r.on("ObjectResized",(function(e){"TABLE"!=e.target.nodeName&&(W(),Z(e.target))})),j(O,"controlselect",q),r.on("mousedown",(function(e){m=e}))):(J(),o.ie>=11&&(r.on("mousedown click",(function(e){var t=e.target,n=t.nodeName;k||!/^(TABLE|IMG|HR)$/.test(n)||G(t)||(2!==e.button&&r.selection.select(t,"TABLE"==n),"mousedown"==e.type&&r.nodeChanged())})),r.dom.bind(O,"mscontrolselect",(function(e){function t(e){a.setEditorTimeout(r,(function(){r.selection.select(e)}))}if(G(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target))}))));var t=a.throttle((function(e){r.composing||V(e)}));r.on("nodechange ResizeEditor ResizeWindow drop",t),r.on("keyup compositionend",(function(e){h&&"TABLE"==h.nodeName&&t(e)})),r.on("hide blur",W),r.on("contextmenu",e.curry(d,r))})),r.on("remove",X),{isResizable:U,showResizeRect:Q,hideResizeRect:W,updateResizeRect:V,controlSelect:Z,destroy:function(){h=f=null,L&&(Y(),z(O,"controlselect",q))}}}})),i("tinymce.core.dom.ScrollIntoView",["tinymce.core.dom.NodeType"],(function(e){var t=function(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}};return{scrollIntoView:function(n,i,r){var o,a,s,l,c=n.dom,u=c.getRoot(),d=0;if(!function(e,t,n){var i={elm:t,alignToTop:n};return e.fire("scrollIntoView",i),i.isDefaultPrevented()}(n,i,r)&&e.isElement(i)){if(!1===r&&(d=i.offsetHeight),"BODY"!==u.nodeName){var h=n.selection.getScrollContainer();if(h)return o=t(i).y-t(h).y+d,l=h.clientHeight,void((o<(s=h.scrollTop)||o+25>s+l)&&(h.scrollTop=o<s?o:o-l+25))}a=c.getViewPort(n.getWin()),o=c.getPos(i).y+d,s=a.y,l=a.h,(o<a.y||o+25>s+l)&&n.getWin().scrollTo(0,o<s?o:o-l+25)}}}})),i("tinymce.core.dom.TridentSelection",[],(function(){return function(e){var t=this,n=e.dom;function i(t,n){var i,r,o,a,s,l,c,u,d=0,h=-1;if((i=t.duplicate()).collapse(n),(u=i.parentElement()).ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(r=(a=u.children).length-1;d<=r;)if(s=a[c=Math.floor((d+r)/2)],i.moveToElementText(s),(h=i.compareEndPoints(n?"StartToStart":"EndToEnd",t))>0)r=c-1;else{if(!(h<0))return{node:s};d=c+1}if(h<0)for(s?i.collapse(!1):(i.moveToElementText(u),i.collapse(!0),s=u,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",1)&&u==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",-1)&&u==i.parentElement();)l++;return{node:s,position:h,offset:l,inside:o}}}this.getBookmark=function(t){var r=e.getRng(),o={};function a(e){var t,i,r,o,a=[];for(t=e.parentNode,i=n.getRoot().parentNode;t!=i&&9!==t.nodeType;){for(o=(r=t.children).length;o--;)if(e===r[o]){a.push(o);break}e=t,t=t.parentNode}return a}function s(e){var t;if(t=i(r,e))return{position:t.position,offset:t.offset,indexes:a(t.node),inside:t.inside}}return 2===t&&(r.item?o.start={ctrl:!0,indexes:a(r.item(0))}:(o.start=s(!0),e.isCollapsed()||(o.end=s()))),o},this.moveToBookmark=function(e){var t,i=n.doc.body;function r(e){var t,i,r,o;for(t=n.getRoot(),i=e.length-1;i>=0;i--)o=t.children,(r=e[i])<=o.length-1&&(t=o[r]);return t}function o(n){var o,a,s,l=e[n?"start":"end"];l&&(o=l.position>0,(a=i.createTextRange()).moveToElementText(r(l.indexes)),void 0!==(s=l.offset)?(a.collapse(l.inside||o),a.moveStart("character",o?-s:s)):a.collapse(n),t.setEndPoint(n?"StartToStart":"EndToStart",a),n&&t.collapse(!0))}e.start&&(e.start.ctrl?((t=i.createControlRange()).addElement(r(e.start.indexes)),t.select()):(t=i.createTextRange(),o(!0),o(),t.select()))},this.addRange=function(t){var i,r,o,a,s,l,c,u,d,h=e.dom.doc,f=h.body;function p(e){var t,r,c,u,d;c=n.create("a"),t=e?o:s,r=e?a:l,u=i.duplicate(),t!=h&&t!=h.documentElement||(t=f,r=0),3==t.nodeType?(t.parentNode.insertBefore(c,t),u.moveToElementText(c),u.moveStart("character",r),n.remove(c),i.setEndPoint(e?"StartToStart":"EndToEnd",u)):((d=t.childNodes).length?(r>=d.length?n.insertAfter(c,d[d.length-1]):t.insertBefore(c,d[r]),u.moveToElementText(c)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",c=t.firstChild,u.moveToElementText(c),u.collapse(!1)),i.setEndPoint(e?"StartToStart":"EndToEnd",u),n.remove(c))}if(o=t.startContainer,a=t.startOffset,s=t.endContainer,l=t.endOffset,i=f.createTextRange(),o==s&&1==o.nodeType){if(a==l&&!o.hasChildNodes()){if(o.canHaveHTML)return(c=o.previousSibling)&&!c.hasChildNodes()&&n.isBlock(c)?c.innerHTML="&#xFEFF;":c=null,o.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(o.lastChild),i.select(),n.doc.selection.clear(),o.innerHTML="",void(c&&(c.innerHTML=""));a=n.nodeIndex(o),o=o.parentNode}if(a==l-1)try{if(d=o.childNodes[a],(r=f.createControlRange()).addElement(d),r.select(),(u=e.getRng()).item&&d===u.item(0))return}catch(e){}}p(!0),p(),i.select()},this.getRangeAt=function(){var r,o,a,s,l,c=e.getRng(),u=n.createRng();if((r=c.item?c.item(0):c.parentElement()).ownerDocument!=n.doc)return u;if(o=e.isCollapsed(),c.item)return u.setStart(r.parentNode,n.nodeIndex(r)),u.setEnd(u.startContainer,u.startOffset+1),u;function d(e){var t,n,r,o,a=i(c,e),s=0;if(t=a.node,n=a.offset,!a.inside||t.hasChildNodes())if(void 0!==n){if(a.position<0){if(!(r=a.inside?t.firstChild:t.nextSibling))return void u[e?"setStartAfter":"setEndAfter"](t);if(!n)return void(3==r.nodeType?u[e?"setStart":"setEnd"](r,0):u[e?"setStartBefore":"setEndBefore"](r));for(;r;){if(3==r.nodeType&&(s+=(o=r.nodeValue).length)>=n){t=r,s-=n,s=o.length-s;break}r=r.nextSibling}}else{if(!(r=t.previousSibling))return u[e?"setStartBefore":"setEndBefore"](t);if(!n)return void(3==t.nodeType?u[e?"setStart":"setEnd"](r,t.nodeValue.length):u[e?"setStartAfter":"setEndAfter"](r));for(;r;){if(3==r.nodeType&&(s+=r.nodeValue.length)>=n){t=r,s-=n;break}r=r.previousSibling}}u[e?"setStart":"setEnd"](t,s)}else u[e?"setStartBefore":"setEndAfter"](t);else u[e?"setStart":"setEnd"](t,0)}try{d(!0),o||d()}catch(n){if(-2147024809!=n.number)throw n;l=t.getBookmark(2),(a=c.duplicate()).collapse(!0),r=a.parentElement(),o||((a=c.duplicate()).collapse(!1),(s=a.parentElement()).innerHTML=s.innerHTML),r.innerHTML=r.innerHTML,t.moveToBookmark(l),c=e.getRng(),d(!0),o||d()}return u}}})),i("ephox.sugar.api.dom.Replication",["ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],(function(e,t,n,i,r,o){var a=function(e,n){return t.fromDom(e.dom().cloneNode(n))},s=function(e){return a(e,!0)},l=function(n,i){var r=t.fromTag(i),o=e.clone(n);return e.setAll(r,o),r};return{shallow:function(e){return a(e,!1)},shallowAs:l,deep:s,copy:function(e,t){var n=l(e,t),r=o.children(s(e));return i.append(n,r),n},mutate:function(e,t){var a=l(e,t);n.before(e,a);var s=o.children(e);return i.append(a,s),r.remove(e),a}}})),i("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],(function(e,t,n){return{fromElements:function(i,r){var o=(r||n).createDocumentFragment();return e.each(i,(function(e){o.appendChild(e.dom())})),t.fromDom(o)}}})),i("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],(function(e,t){return function(n,i,r,o,a){return n(r,o)?t.some(r):e.isFunction(a)&&a(r)?t.none():i(r,o,a)}})),i("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],(function(e,t,n,i,r,o,a,s){var l=function(t,r,o){for(var s=t.dom(),l=e.isFunction(o)?o:n.constant(!1);s.parentNode;){s=s.parentNode;var c=a.fromDom(s);if(r(c))return i.some(c);if(l(c))break}return i.none()},c=function(e,i){return t.find(e.dom().childNodes,n.compose(i,a.fromDom)).map(a.fromDom)},u=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){if(t(a.fromDom(e.childNodes[r])))return i.some(a.fromDom(e.childNodes[r]));var o=n(e.childNodes[r]);if(o.isSome())return o}return i.none()};return n(e.dom())};return{first:function(e){return u(r.body(),e)},ancestor:l,closest:function(e,t,n){return s((function(e){return t(e)}),l,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?c(a.fromDom(n.parentNode),(function(n){return!o.eq(e,n)&&t(n)})):i.none()},child:c,descendant:u}})),i("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],(function(e,t,n){var i=function(n,i,r){return e.ancestor(n,(function(e){return t.is(e,i)}),r)};return{first:function(e){return t.one(e)},ancestor:i,sibling:function(n,i){return e.sibling(n,(function(e){return t.is(e,i)}))},child:function(n,i){return e.child(n,(function(e){return t.is(e,i)}))},descendant:function(e,n){return t.one(n,e)},closest:function(e,r,o){return n(t.is,i,e,r,o)}}})),i("tinymce.core.dom.Parents",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],(function(e,t,n){var i=function(e,i,r){return t.contains(i,e)?n.parents(e,(function(e){return r(e)||t.eq(e,i)})).slice(0,-1):[]},r=function(t,n){return i(t,n,e.constant(!1))};return{parentsUntil:i,parents:r,parentsAndSelf:function(e,t){return[e].concat(r(e,t))}}})),i("ephox.katamari.api.Options",["ephox.katamari.api.Option"],(function(e){return{cat:function(e){for(var t=[],n=function(e){t.push(e)},i=0;i<e.length;i++)e[i].each(n);return t},findMap:function(t,n){for(var i=0;i<t.length;i++){var r=n(t[i],i);if(r.isSome())return r}return e.none()},liftN:function(t,n){for(var i=[],r=0;r<t.length;r++){var o=t[r];if(!o.isSome())return e.none();i.push(o.getOrDie())}return e.some(n.apply(null,i))}}})),i("tinymce.core.selection.SelectionUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse","tinymce.core.dom.NodeType"],(function(e,t,n,i,r,o,a,s,l){var c=function(e){var t=e.startContainer,i=e.startOffset;return l.isText(t)?0===i?n.some(o.fromDom(t)):n.none():n.from(t.childNodes[i]).map(o.fromDom)},u=function(e){var t=e.endContainer,i=e.endOffset;return l.isText(t)?i===t.data.length?n.some(o.fromDom(t)):n.none():n.from(t.childNodes[i-1]).map(o.fromDom)},d=function(e){return s.firstChild(e).fold(t.constant([e]),(function(t){return[e].concat(d(t))}))},h=function(e){return s.lastChild(e).fold(t.constant([e]),(function(t){return"br"===a.name(t)?s.prevSibling(t).map((function(t){return[e].concat(h(t))})).getOr([]):[e].concat(h(t))}))};return{hasAllContentsSelected:function(n,o){return i.liftN([c(o),u(o)],(function(i,o){var a=e.find(d(n),t.curry(r.eq,i)),s=e.find(h(n),t.curry(r.eq,o));return a.isSome()&&s.isSome()})).getOr(!1)}}})),i("tinymce.core.selection.SimpleTableModel",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter"],(function(e,t,n,i,r,o,a,s,l,c){var u=n.immutable("element","width","rows"),d=n.immutable("element","cells"),h=n.immutable("x","y"),f=function(e,t){var n=parseInt(l.get(e,t),10);return isNaN(n)?1:n},p=function(e,t,n){var i=e.rows();return!!(i[n]?i[n].cells():[])[t]},A=function(t){return e.foldl(t,(function(e,t){return t.cells().length>e?t.cells().length:e}),0)},g=function(e,n){for(var r=e.rows(),o=0;o<r.length;o++)for(var a=r[o].cells(),s=0;s<a.length;s++)if(i.eq(a[s],n))return t.some(h(s,o));return t.none()},m=function(e,t,n,i,r){for(var o=[],a=e.rows(),s=n;s<=r;s++){var l=a[s].cells(),c=t<i?l.slice(t,i+1):l.slice(i,t+1);o.push(d(a[s].element(),c))}return o};return{fromDom:function(t){var n=u(a.shallow(t),0,[]);return e.each(c.descendants(t,"tr"),(function(t,i){e.each(c.descendants(t,"td,th"),(function(e,r){!function(e,t,n,i,r){for(var o=f(r,"rowspan"),s=f(r,"colspan"),l=e.rows(),c=n;c<n+o;c++){l[c]||(l[c]=d(a.deep(i),[]));for(var u=t;u<t+s;u++)l[c].cells()[u]=c==n&&u==t?r:a.shallow(r)}}(n,function(e,t,n){for(;p(e,t,n);)t++;return t}(n,r,i),i,t,e)}))})),u(n.element(),A(n.rows()),n.rows())},toDom:function(t){return function(e,t){var n=a.shallow(e.element()),i=s.fromTag("tbody");return o.append(i,t),r.append(n,i),n}(t,function(t){return e.map(t.rows(),(function(t){var n=e.map(t.cells(),(function(e){var t=a.deep(e);return l.remove(t,"colspan"),l.remove(t,"rowspan"),t})),i=a.shallow(t.element());return o.append(i,n),i}))}(t))},subsection:function(e,t,n){return g(e,t).bind((function(t){return g(e,n).map((function(n){return function(e,t,n){var i=t.x(),r=t.y(),o=n.x(),a=n.y(),s=r<a?m(e,i,r,o,a):m(e,i,a,o,r);return u(e.element(),A(s),s)}(e,t,n)}))}))}}})),i("tinymce.core.selection.MultiRange",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","tinymce.core.dom.RangeUtils"],(function(e,t,n){var i=function(e){for(var t=[],n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t};return{getRanges:i,getSelectedNodes:function(i){return e.bind(i,(function(e){var i=n.getSelectedNode(e);return i?[t.fromDom(i)]:[]}))},hasMultipleRanges:function(e){return i(e).length>1}}})),i("tinymce.core.selection.TableCellSelection",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.dom.ElementType","tinymce.core.selection.MultiRange"],(function(e,t,n,i,r){var o=function(t){return e.filter(r.getSelectedNodes(t),i.isTableCell)},a=function(e){return n.descendants(e,"td[data-mce-selected],th[data-mce-selected]")},s=function(e,t){var n=a(t),i=o(e);return n.length>0?n:i};return{getCellsFromRanges:o,getCellsFromElement:a,getCellsFromElementOrRanges:s,getCellsFromEditor:function(e){return s(r.getRanges(e.selection.getSel()),t.fromDom(e.getBody()))}}})),i("tinymce.core.selection.FragmentReader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Fragment","ephox.sugar.api.node.Node","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.search.Traverse","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.selection.SelectionUtils","tinymce.core.selection.SimpleTableModel","tinymce.core.selection.TableCellSelection"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){var A=function(n,i){var a=o.fromDom(i.commonAncestorContainer),l=d.parentsAndSelf(a,n),f=e.filter(l,(function(e){return u.isInline(e)||u.isHeading(e)})),p=function(n,i){return e.find(n,(function(e){return"li"===s.name(e)&&h.hasAllContentsSelected(e,i)})).fold(t.constant([]),(function(t){return function(t){return e.find(t,(function(e){return"ul"===s.name(e)||"ol"===s.name(e)}))}(n).map((function(e){return[o.fromTag("li"),o.fromTag(s.name(e))]})).getOr([])}))}(l,i),A=f.concat(p.length?p:function(e){return u.isListItem(e)?c.parent(e).filter(u.isList).fold(t.constant([]),(function(t){return[e,t]})):u.isList(e)?[e]:[]}(a));return e.map(A,r.shallow)},g=function(){return a.fromElements([])};return{read:function(r,s){var c=p.getCellsFromElementOrRanges(s,r);return c.length>0?function(e,i){return(r=e,o=i[0],l.ancestor(o,"table",t.curry(n.eq,r))).bind((function(e){var t=i[0],n=i[i.length-1],r=f.fromDom(e);return f.subsection(r,t,n).map((function(e){return a.fromElements([f.toDom(e)])}))})).getOrThunk(g);var r,o}(r,c):function(t,n){return n.length>0&&n[0].collapsed?g():function(t,n){return r=o.fromDom(n.cloneContents()),s=A(t,n),l=e.foldl(s,(function(e,t){return i.append(t,e),t}),r),s.length>0?a.fromElements([l]):l;var r,s,l}(t,n[0])}(r,s)}}})),i("tinymce.core.dom.Selection",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.caret.CaretPosition","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ControlSelection","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.ScrollIntoView","tinymce.core.dom.TreeWalker","tinymce.core.dom.TridentSelection","tinymce.core.Env","tinymce.core.selection.FragmentReader","tinymce.core.selection.MultiRange","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A){var g=A.each,m=A.trim,v=d.ie,y=function(e){return!(!e||!e.ownerDocument)&&t.contains(n.fromDom(e.ownerDocument),n.fromDom(e))},b=function(t,n){return e.map(n,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))};function w(e,t,n,i){var a=this;a.dom=e,a.win=t,a.serializer=n,a.editor=i,a.bookmarkManager=new r(a),a.controlSelection=new o(a,i),a.win.getSelection||(a.tridentSel=new u(a))}return w.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();e?(i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(e){var t,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel(),c=b(o.editor,f.getRanges(this.getSel()));return t=i="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,o.editor.fire("BeforeGetContent",e),"text"===e.format?o.isCollapsed()?"":p.trim(a.text||(l.toString?l.toString():"")):(a.cloneContents?(r=e.contextual?h.read(n.fromDom(o.editor.getBody()),c).dom():a.cloneContents())&&s.appendChild(r):void 0!==a.item||void 0!==a.htmlText?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(t=" "),/\s+$/.test(s.innerHTML)&&(i=" "),e.getInner=!0,e.content=o.isCollapsed()?"":t+o.serializer.serialize(s,e)+i,o.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,i,r,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for((i=a.duplicate()).collapse(1),(t=i.parentElement()).ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),n=r=a.parentElement();r=r.parentNode;)if(r==t){t=n;break}return t}return 1==(t=a.startContainer).nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,i=this,r=i.getRng();return r.duplicate||r.item?r.item?r.item(0):((r=r.duplicate()).collapse(0),(t=r.parentElement()).ownerDocument!==i.dom.doc&&(t=i.dom.getRoot()),t&&"BODY"==t.nodeName&&t.lastChild||t):(t=r.endContainer,n=r.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&r.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,e){if(!t&&i.controlSelection.controlSelect(e))return;n=r.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(i._moveEndPoint(o,e,!0),i._moveEndPoint(o,e)),i.setRng(o)}return e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),(i=n.win.document.body.createTextRange()).moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var t,n,i,r,o,a=this;function s(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}if(!a.win)return null;if(null==(r=a.win.document))return null;if(!e&&a.lastFocusBookmark){var l=a.lastFocusBookmark;return l.startContainer?((n=r.createRange()).setStart(l.startContainer,l.startOffset),n.setEnd(l.endContainer,l.endOffset)):n=l,n}if(e&&a.tridentSel)return a.tridentSel.getRangeAt(0);try{(t=a.getSel())&&(n=t.rangeCount>0?t.getRangeAt(0):t.createRange?t.createRange():r.createRange())}catch(e){}if(n=b(a.editor,[n])[0],v&&n&&n.setStart&&r.selection){try{o=r.selection.createRange()}catch(e){}o&&o.item&&(i=o.item(0),(n=r.createRange()).setStartBefore(i),n.setEndAfter(i))}return n||(n=r.createRange?r.createRange():r.body.createTextRange()),n.setStart&&9===n.startContainer.nodeType&&n.collapsed&&(i=a.dom.getRoot(),n.setStart(i,0),n.setEnd(i,0)),a.selectedRange&&a.explicitRange&&(0===s(n.START_TO_START,n,a.selectedRange)&&0===s(n.END_TO_END,n,a.selectedRange)?n=a.explicitRange:(a.selectedRange=null,a.explicitRange=null)),n},setRng:function(e,t){var n,i,r=this;if(function(e){return!!e&&(!!e.select||y(e.startContainer)&&y(e.endContainer))}(e))if(e.select){r.explicitRange=null;try{e.select()}catch(e){}}else if(r.tridentSel){if(e.cloneRange)try{r.tridentSel.addRange(e)}catch(e){}}else{if(n=r.getSel(),e=r.editor.fire("SetSelectionRange",{range:e,forward:t}).range,n){r.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),r.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||d.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset])&&"IMG"===i.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(i,0,i,1)),r.editor.fire("AfterSetSelectionRange",{range:e,forward:t})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){var e,t,n,i,r,o=this,a=o.getRng(),s=o.dom.getRoot();function l(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}return a?(t=a.startContainer,n=a.endContainer,i=a.startOffset,r=a.endOffset,a.setStart?(e=a.commonAncestorContainer,!a.collapsed&&(t==n&&r-i<2&&t.hasChildNodes()&&(e=t.childNodes[i]),3===t.nodeType&&3===n.nodeType&&(t=t.length===i?l(t.nextSibling,!0):t.parentNode,n=0===r?l(n.previousSibling,!1):n.parentNode,t&&t===n))?t:e&&3==e.nodeType?e.parentNode:e):((e=a.item?a.item(0):a.parentElement()).ownerDocument!==o.win.document&&(e=s),e)):s},getSelectedBlocks:function(e,t){var n,i,r=this,o=r.dom,a=[];if(i=o.getRoot(),e=o.getParent(e||r.getStart(),o.isBlock),t=o.getParent(t||r.getEnd(),o.isBlock),e&&e!=i&&a.push(e),e&&t&&e!=t){n=e;for(var s=new c(e,i);(n=s.next())&&n!=t;)o.isBlock(n)&&a.push(n)}return t&&e!=t&&t!=i&&a.push(t),a},isForward:function(){var e,t,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||((e=n.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();return new s(e.dom).normalize(t)&&!f.hasMultipleRanges(e.getSel())&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",(function(e){var t=e.element,r=i.dom,o=r.getParents(t,null,r.getRoot()),a={};g(i.selectorChangedData,(function(e,t){g(o,(function(i){if(r.is(i,t))return n[t]||(g(e,(function(e){e(!0,{node:i,selector:t,parents:o})})),n[t]=e),a[t]=e,!1}))})),g(n,(function(e,i){a[i]||(delete n[i],g(e,(function(e){e(!1,{node:t,selector:i,parents:o})})))}))}))),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(t),i},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){l.scrollIntoView(this.editor,e,t)},placeCaretAt:function(e,t){this.setRng(s.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(e,t,n){var i=t,r=new c(t,i),o=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==m(t.nodeValue).length)return void(n?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(o[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(n?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(d.ie&&d.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(n?e.setStart(t,0):e.setEnd(t,0))}while(t=n?r.next():r.prev());"BODY"==i.nodeName&&(n?e.setStart(i,0):e.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?i.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},w})),i("tinymce.core.html.Node",[],(function(){var e=/^[ \t\r\n]*$/,t={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function n(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function i(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return i.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r=this;if("string"!=typeof e){for(i in e)r.attr(i,e[i]);return r}if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),r;return r}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},clone:function(){var e,t,n,r,o,a=this,s=new i(a.name,a.type);if(n=a.attributes){for((o=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(r=n[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),(t=n.lastChild)?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(e){var t,i=[];for(t=this.firstChild;t;t=n(t,this))t.name===e&&i.push(t);return i},empty:function(){var e,t,i,r=this;if(r.firstChild){for(e=[],i=r.firstChild;i;i=n(i,r))e.push(i);for(t=e.length;t--;)(i=e[t]).parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(t,i,r){var o,a,s=this.firstChild;if(i=i||{},s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(t[s.name])return!1;for(o=s.attributes.length;o--;)if("name"===(a=s.attributes[o].name)||0===a.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!e.test(s.value))return!1;if(3===s.type&&s.parent&&i[s.parent.name]&&e.test(s.value))return!1;if(r&&r(s))return!1}while(s=n(s,this));return!0},walk:function(e){return n(this,null,e)}},i.create=function(e,n){var r,o;if(r=new i(e,t[e]||1),n)for(o in n)r.attr(o,n[o]);return r},i})),i("tinymce.core.html.SaxParser",["tinymce.core.html.Schema","tinymce.core.html.Entities","tinymce.core.util.Tools"],(function(e,t,n){var i=n.each,r=function(e){return e.replace(/<!--|-->/g,"")};function o(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function a(a,s){var l=this;function c(){}a=a||{},l.schema=s=s||new e,!1!==a.fix_self_closing&&(a.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),(function(e){e&&(l[e]=a[e]||c)})),l.parse=function(e){var i,l,c,u,d,h,f,p,A,g,m,v,y,b,w,x,C,_,k,S,E,T,B,I,D,F,M,L,P,R=this,O=0,N=[],U=0,H=t.decode,$=n.makeMap("src,href,data,background,formaction,poster"),Q=/((java|vb)script|mhtml):/i,W=/^data:/i;function V(e){var t,n;for(t=N.length;t--&&N[t].name!==e;);if(t>=0){for(n=N.length-1;n>=t;n--)(e=N[n]).valid&&R.end(e.name);N.length=t}}function j(e,t,n,i,r){var o,s;if(n=(t=t.toLowerCase())in m?t:H(n||i||r||""),y&&!p&&!1===function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}(t)){if(!(o=_[t])&&k){for(s=k.length;s--&&!(o=k[s]).pattern.test(t););-1===s&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if($[t]&&!a.allow_script_urls){var l=n.replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch(e){l=unescape(l)}if(Q.test(l))return;if(!a.allow_html_data_urls&&W.test(l)&&!/^data:image\//i.test(l))return}p&&(t in $||0===t.indexOf("on"))||(u.map[t]=n,u.push({name:t,value:n}))}for(D=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),F=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,g=s.getShortEndedElements(),I=a.self_closing_elements||s.getSelfClosingElements(),m=s.getBoolAttrs(),y=a.validate,A=a.remove_internals,P=a.fix_self_closing,M=s.getSpecialElements(),B=e+">";i=D.exec(B);){if(O<i.index&&R.text(H(e.substr(O,i.index-O))),l=i[6])":"===(l=l.toLowerCase()).charAt(0)&&(l=l.substr(1)),V(l);else if(l=i[7]){if(i.index+i[0].length>e.length){R.text(H(e.substr(i.index))),O=i.index+i[0].length;continue}if(":"===(l=l.toLowerCase()).charAt(0)&&(l=l.substr(1)),v=l in g,P&&I[l]&&N.length>0&&N[N.length-1].name===l&&V(l),!y||(b=s.getElementRule(l))){if(w=!0,y&&(_=b.attributes,k=b.attributePatterns),(C=i[8])?((p=-1!==C.indexOf("data-mce-type"))&&A&&(w=!1),(u=[]).map={},C.replace(F,j)):(u=[]).map={},y&&!p){if(S=b.attributesRequired,E=b.attributesDefault,T=b.attributesForced,b.removeEmptyAttrs&&!u.length&&(w=!1),T)for(d=T.length;d--;)f=(x=T[d]).name,"{$uid}"===(L=x.value)&&(L="mce_"+U++),u.map[f]=L,u.push({name:f,value:L});if(E)for(d=E.length;d--;)(f=(x=E[d]).name)in u.map||("{$uid}"===(L=x.value)&&(L="mce_"+U++),u.map[f]=L,u.push({name:f,value:L}));if(S){for(d=S.length;d--&&!(S[d]in u.map););-1===d&&(w=!1)}if(x=u.map["data-mce-bogus"]){if("all"===x){O=o(s,e,D.lastIndex),D.lastIndex=O;continue}w=!1}}w&&R.start(l,u,v)}else w=!1;if(c=M[l]){c.lastIndex=O=i.index+i[0].length,(i=c.exec(e))?(w&&(h=e.substr(O,i.index-O)),O=i.index+i[0].length):(h=e.substr(O),O=e.length),w&&(h.length>0&&R.text(h,!0),R.end(l)),D.lastIndex=O;continue}v||(C&&C.indexOf("/")==C.length-1?w&&R.end(l):N.push({name:l,valid:w}))}else(l=i[1])?(">"===l.charAt(0)&&(l=" "+l),a.allow_conditional_comments||"[if"!==l.substr(0,3).toLowerCase()||(l=" "+l),R.comment(l)):(l=i[2])?R.cdata(r(l)):(l=i[3])?R.doctype(l):(l=i[4])&&R.pi(l,i[5]);O=i.index+i[0].length}for(O<e.length&&R.text(H(e.substr(O))),d=N.length-1;d>=0;d--)(l=N[d]).valid&&R.end(l.name)}}return a.findEndTag=o,a})),i("tinymce.core.html.DomParser",["tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.util.Tools"],(function(e,t,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend,l=function(t,n){t.padd_empty_with_br?n.empty().append(new e("br","1")).shortEnded=!0:n.empty().append(new e("#text","3")).value=""},c=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t},u=function(e,t,n,i){return i.isEmpty(t,n,(function(t){return function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty}(e,t)}))};return function(d,h){var f=this,p={},A=[],g={},m={};(d=d||{}).validate=!("validate"in d)||d.validate,d.root_name=d.root_name||"body",f.schema=h=h||new t,f.filterNode=function(e){var t,n,i;n in p&&((i=g[n])?i.push(e):g[n]=[e]),t=A.length;for(;t--;)(n=A[t].name)in e.attributes.map&&((i=m[n])?i.push(e):m[n]=[e]);return e},f.addNodeFilter=function(e,t){o(a(e),(function(e){var n=p[e];n||(p[e]=n=[]),n.push(t)}))},f.addAttributeFilter=function(e,t){o(a(e),(function(e){var n;for(n=0;n<A.length;n++)if(A[n].name===e)return void A[n].callbacks.push(t);A.push({name:e,callbacks:[t]})}))},f.parse=function(t,i){var o,a,v,y,b,w,x,C,_,k,S,E,T,B,I,D,F,M,L,P,R,O=[];function N(t,n){var i,r=new e(t,n);return t in p&&((i=g[t])?i.push(r):g[t]=[r]),r}function U(e){var t,n,i,r,o=h.getBlockElements();for(t=e.prev;t&&3===t.type;){if((i=t.value.replace(I,"")).length>0)return void(t.value=i);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}r=t.prev,t.remove(),t=r}}if(i=i||{},g={},m={},E=s(r("script,style,head,html,body,title,meta,param"),h.getBlockElements()),P=h.getNonEmptyElements(),L=h.children,S=d.validate,R="forced_root_block"in i?i.forced_root_block:d.forced_root_block,M=h.getWhiteSpaceElements(),T=/^[ \t\r\n]+/,I=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,F=/^[ \t\r\n]+$/,o=new n({validate:S,allow_script_urls:d.allow_script_urls,allow_conditional_comments:d.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(h.getSelfClosingElements()),cdata:function(e){v.append(N("#cdata",4)).value=e},text:function(e,t){var n;B||(e=e.replace(D," "),v.lastChild&&E[v.lastChild.name]&&(e=e.replace(T,""))),0!==e.length&&((n=N("#text",3)).raw=!!t,v.append(n).value=e)},comment:function(e){v.append(N("#comment",8)).value=e},pi:function(e,t){v.append(N(e,7)).value=t,U(v)},doctype:function(e){v.append(N("#doctype",10)).value=e,U(v)},start:function(e,t,n){var i,r,o,a,s;if(o=S?h.getElementRule(e):{}){for((i=N(o.outputName||e,1)).attributes=t,i.shortEnded=n,v.append(i),(s=L[v.name])&&L[i.name]&&!s[i.name]&&O.push(i),r=A.length;r--;)(a=A[r].name)in t.map&&((_=m[a])?_.push(i):m[a]=[i]);E[e]&&U(i),n||(v=i),!B&&M[e]&&(B=!0)}},end:function(e){var t,n,i,r,o;if(n=S?h.getElementRule(e):{}){if(E[e]&&!B){if((t=v.firstChild)&&3===t.type)if((i=t.value.replace(T,"")).length>0)t.value=i,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)i=t.value,r=t.next,(0===i.length||F.test(i))&&(t.remove(),t=r),t=r;if((t=v.lastChild)&&3===t.type)if((i=t.value.replace(I,"")).length>0)t.value=i,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)i=t.value,r=t.prev,(0===i.length||F.test(i))&&(t.remove(),t=r),t=r}if(B&&M[e]&&(B=!1),(n.removeEmpty||n.paddEmpty)&&u(h,P,M,v))if(n.paddEmpty)l(d,v);else if(!v.attributes.map.name&&!v.attributes.map.id)return o=v.parent,E[v.name]?v.empty().remove():v.unwrap(),void(v=o);v=v.parent}}},h),a=v=new e(i.context||d.root_name,11),o.parse(t),S&&O.length&&(i.context?i.invalid=!0:function(t){var n,i,o,a,s,l,d,p,A,g,m,v,y,b,w,x;for(v=r("tr,td,th,tbody,thead,tfoot,table"),g=h.getNonEmptyElements(),m=h.getWhiteSpaceElements(),y=h.getTextBlockElements(),b=h.getSpecialElements(),n=0;n<t.length;n++)if((i=t[n]).parent&&!i.fixed)if(y[i.name]&&"li"==i.parent.name){for(w=i.next;w&&y[w.name];)w.name="li",w.fixed=!0,i.parent.insert(w,i.parent),w=w.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!h.isValidChild(o.name,i.name)&&!v[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=l=f.filterNode(a[0].clone()),A=0;A<a.length-1;A++){for(h.isValidChild(l.name,a[A].name)?(d=f.filterNode(a[A].clone()),l.append(d)):d=l,p=a[A].firstChild;p&&p!=a[A+1];)x=p.next,d.append(p),p=x;l=d}u(h,g,m,s)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(u(h,g,m,o)||c(o,"br"))&&o.empty().remove()}else if(i.parent){if("li"===i.name){if((w=i.prev)&&("ul"===w.name||"ul"===w.name)){w.append(i);continue}if((w=i.next)&&("ul"===w.name||"ul"===w.name)){w.insert(i,w.firstChild,!0);continue}i.wrap(f.filterNode(new e("ul",1)));continue}h.isValidChild(i.parent.name,"div")&&h.isValidChild("div",i.name)?i.wrap(f.filterNode(new e("div",1))):b[i.name]?i.empty().remove():i.unwrap()}}}(O)),R&&("body"==a.name||i.isRootContent)&&function(){var e,t,n=a.firstChild;function i(e){e&&((n=e.firstChild)&&3==n.type&&(n.value=n.value.replace(T,"")),(n=e.lastChild)&&3==n.type&&(n.value=n.value.replace(I,"")))}if(h.isValidChild(a.name,R.toLowerCase())){for(;n;)e=n.next,3==n.type||1==n.type&&"p"!==n.name&&!E[n.name]&&!n.attr("data-mce-type")?(t||((t=N(R,1)).attr(d.forced_root_block_attrs),a.insert(t,n)),t.append(n)):(i(t),t=null),n=e;i(t)}}(),!i.invalid){for(k in g){for(_=p[k],x=(y=g[k]).length;x--;)y[x].parent||y.splice(x,1);for(b=0,w=_.length;b<w;b++)_[b](y,k,i)}for(b=0,w=A.length;b<w;b++)if((_=A[b]).name in m){for(x=(y=m[_.name]).length;x--;)y[x].parent||y.splice(x,1);for(x=0,C=_.callbacks.length;x<C;x++)_.callbacks[x](y,_.name,i)}}return a},d.remove_trailing_brs&&f.addNodeFilter("br",(function(t){var n,i,r,o,a,c,f,p,A=t.length,g=s({},h.getBlockElements()),m=h.getNonEmptyElements(),v=h.getNonEmptyElements();for(g.body=1,n=0;n<A;n++)if(r=(i=t[n]).parent,g[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if("span"!==(c=a.name)||"bookmark"!==a.attr("data-mce-type")){if("br"!==c)break;if("br"===c){i=null;break}}a=a.prev}i&&(i.remove(),u(h,m,v,r)&&(f=h.getElementRule(r.name))&&(f.removeEmpty?r.remove():f.paddEmpty&&l(d,r)))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!g[r.name]);)r=r.parent;o===r&&!0!==d.padd_empty_with_br&&((p=new e("#text",3)).value="",i.replace(p))}})),f.addAttributeFilter("href",(function(e){var t,n,r,o=e.length;if(!d.allow_unsafe_link_target)for(;o--;)"a"===(t=e[o]).name&&"_blank"===t.attr("target")&&t.attr("rel",(void 0,r=(n=t.attr("rel"))?i.trim(n):"",/\b(noopener)\b/g.test(r)?r:function(e){return e.split(" ").filter((function(e){return e.length>0})).concat(["noopener"]).sort().join(" ")}(r)))})),d.allow_html_in_named_anchor||f.addAttributeFilter("id,name",(function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href")){i=r.parent,t=r.lastChild;do{n=t.prev,i.insert(t,r),t=n}while(t)}})),d.fix_list_elements&&f.addNodeFilter("ul,ol",(function(t){for(var n,i,r=t.length;r--;)if("ul"===(i=(n=t[r]).parent).name||"ol"===i.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var o=new e("li",1);o.attr("style","list-style-type: none"),n.wrap(o)}})),d.validate&&h.getValidClasses()&&f.addAttributeFilter("class",(function(e){for(var t,n,i,r,o,a,s,l=e.length,c=h.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,(a=c["*"])&&a[r]&&(s=!0),a=c[t.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),t.attr("class",o)}}))}})),i("tinymce.core.html.Writer",["tinymce.core.html.Entities","tinymce.core.util.Tools"],(function(e,t){var n=t.makeMap;return function(t){var i,r,o,a,s,l=[];return i=(t=t||{}).indent,r=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var c,u,d,h;if(i&&r[e]&&l.length>0&&(h=l[l.length-1]).length>0&&"\n"!==h&&l.push("\n"),l.push("<",e),t)for(c=0,u=t.length;c<u;c++)d=t[c],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&i&&o[e]&&l.length>0&&(h=l[l.length-1]).length>0&&"\n"!==h&&l.push("\n")},end:function(e){var t;l.push("</",e,">"),i&&o[e]&&l.length>0&&(t=l[l.length-1]).length>0&&"\n"!==t&&l.push("\n")},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?l.push("<?",e," ",a(t),"?>"):l.push("<?",e,"?>"),i&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}})),i("tinymce.core.html.Serializer",["tinymce.core.html.Writer","tinymce.core.html.Schema"],(function(e,t){return function(n,i){var r=this,o=new e(n);(n=n||{}).validate=!("validate"in n)||n.validate,r.schema=i=i||new t,r.writer=o,r.serialize=function(e){var t,r;function a(e){var n,s,l,c,u,d,h,f,p,A=t[e.type];if(A)A(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,r&&l&&l.length>1&&((d=[]).map={},p=i.getElementRule(e.name))){for(h=0,f=p.attributesOrder.length;h<f;h++)(c=p.attributesOrder[h])in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(h=0,f=l.length;h<f;h++)(c=l[h].name)in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);o.end(n)}}}return r=n.validate,t={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}},o.reset(),1!=e.type||n.inner?t[11](e):a(e),o.getContent()}}})),i("tinymce.core.dom.Serializer",["tinymce.core.dom.DOMUtils","tinymce.core.html.DomParser","tinymce.core.html.SaxParser","tinymce.core.html.Entities","tinymce.core.html.Serializer","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.text.Zwsp"],(function(e,t,n,i,r,o,a,s,l,c){var u=l.each,d=l.trim,h=e.DOM;return function(e,o){var f,p,A,g=["data-mce-selected"];function m(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\ufeff]+<\\/span>","\\s?("+g.join("|")+')="[^"]+"'].join("|"),"gi");return c.trim(e.replace(t,""))}function v(e){var t,i,r,a,s,l=e,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=o.schema;for(l=m(l),s=u.getShortEndedElements();a=c.exec(l);)i=c.lastIndex,r=a[0].length,t=s[a[1]]?i:n.findEndTag(u,l,i),l=l.substring(0,i-r)+l.substring(t),c.lastIndex=i-r;return l}return o&&(f=o.dom,p=o.schema),f=f||h,p=p||new a(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,(A=new t(e,p)).addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)})),A.addAttributeFilter("src,href,style",(function(t,n){for(var i,r,o=t.length,a="data-mce-"+n,s=e.url_converter,l=e.url_converter_scope;o--;)void 0!==(r=(i=t[o]).attributes.map[a])?(i.attr(n,r.length>0?r:null),i.attr(a,null)):(r=i.attributes.map[n],"style"===n?r=f.serializeStyle(f.parseStyle(r),i.name):s&&(r=s.call(l,r,n,i.name)),i.attr(n,r.length>0?r:null))})),A.addAttributeFilter("class",(function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))})),A.addAttributeFilter("data-mce-type",(function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()})),A.addNodeFilter("noscript",(function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=i.decode(t.value))})),A.addNodeFilter("script,style",(function(e,t){var n,i,r,o=e.length;function a(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(;o--;)i=(n=e[o]).firstChild?n.firstChild.value:"","script"===t?((r=n.attr("type"))&&n.attr("type","mce-no/type"==r?null:r.replace(/^mce\-/,"")),i.length>0&&(n.firstChild.value="// <![CDATA[\n"+a(i)+"\n// ]]>")):i.length>0&&(n.firstChild.value="\x3c!--\n"+a(i)+"\n--\x3e")})),A.addNodeFilter("#comment",(function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))})),A.addNodeFilter("xml:namespace,input",(function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))})),A.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),{schema:p,addNodeFilter:A.addNodeFilter,addAttributeFilter:A.addAttributeFilter,serialize:function(t,n){var i,o,a,l,h,g;return s.ie&&f.select("script,style,select,map").length>0?(h=t.innerHTML,t=t.cloneNode(!1),f.setHTML(t,h)):t=t.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(o=i.createHTMLDocument(""),u("BODY"==t.nodeName?t.childNodes:[t],(function(e){o.body.appendChild(o.importNode(e,!0))})),t="BODY"!=t.nodeName?o.body.firstChild:o.body,a=f.doc,f.doc=o),(n=n||{}).format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,this.onPreProcess(n)),h=c.trim(d(n.getInner?t.innerHTML:f.getOuterHTML(t))),function(e){var t,n;function i(e){return e&&"br"===e.name}i(t=e.lastChild)&&i(n=t.prev)&&(t.remove(),n.remove())}(g=A.parse(h,n)),l=new r(e,p),n.content=l.serialize(g),n.no_events||this.onPostProcess(n),a&&(f.doc=a),n.node=null,n.content},addRules:function(e){p.addValidElements(e)},setRules:function(e){p.setValidElements(e)},onPreProcess:function(e){o&&o.fire("PreProcess",e)},onPostProcess:function(e){o&&o.fire("PostProcess",e)},addTempAttr:function(e){-1===l.inArray(g,e)&&(A.addAttributeFilter(e,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),g.push(e))},trimHtml:m,getTrimmedContent:function(){return v(o.getBody().innerHTML)},trimContent:v}}})),i("tinymce.core.delete.DeleteUtils",["ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.PredicateFind","tinymce.core.dom.ElementType"],(function(e,t,n,i,r){return{getParentBlock:function(o,a){return t.contains(o,a)?i.closest(a,(function(e){return r.isTextBlock(e)||r.isListItem(e)}),function(e){return function(i){return t.eq(e,n.fromDom(i.dom().parentNode))}}(o)):e.none()},paddEmptyBody:function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)}(e))}}})),i("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],(function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,i){return e.ancestor(t,n,i).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()},closest:function(t,n,i){return e.closest(t,n,i).isSome()}}})),i("tinymce.core.dom.Empty",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorExists","tinymce.core.caret.CaretCandidate","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],(function(e,t,n,i,r,o,a){var s=function(a,s){return r.isCaretCandidate(s)&&!1===function(r,a){return o.isText(a)&&/^[ \t\r\n]*$/.test(a.data)&&!1===function(r,o){var a=n.fromDom(r),s=n.fromDom(o);return i.ancestor(s,"pre,code",e.curry(t.eq,a))}(r,a)}(a,s)||function(e){return o.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")}(s)||l(s)},l=o.hasAttribute("data-mce-bookmark"),c=o.hasAttribute("data-mce-bogus"),u=o.hasAttributeValue("data-mce-bogus","all");return{isEmpty:function(e){return function(e){var t,n,i=0;if(s(e,e))return!1;if(!(n=e.firstChild))return!0;t=new a(n,e);do{if(u(n))n=t.next(!0);else if(c(n))n=t.next();else if(o.isBr(n))i++,n=t.next();else{if(s(e,n))return!1;n=t.next()}}while(n);return i<=1}(e.dom())}}})),i("tinymce.core.delete.BlockBoundary",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){var A=r.immutable("block","position"),g=r.immutable("from","to"),m=function(e,t){var n=a.fromDom(e),i=a.fromDom(t.container());return h.getParentBlock(n,i).map((function(e){return A(e,t)}))};return{read:function(e,t,r){return r.collapsed?function(e,t,r){var a=m(e,d.fromRangeStart(r)),s=a.bind((function(i){return u.fromPosition(t,e,i.position()).bind((function(i){return m(e,i).map((function(i){return function(e,t,i){return p.isBr(i.position().getNode())&&!1===f.isEmpty(i.block())?u.positionIn(!1,i.block().dom()).bind((function(r){return r.isEqual(i.position())?u.fromPosition(t,e,r).bind((function(t){return m(e,t)})):n.some(i)})).getOr(i):i}(e,t,i)}))}))}));return i.liftN([a,s],g).filter((function(e){return function(e){return!1===o.eq(e.from().block(),e.to().block())}(e)&&function(e){return c.parent(e.from().block()).bind((function(t){return c.parent(e.to().block()).filter((function(e){return o.eq(t,e)}))})).isSome()}(e)&&function(e){return!1===p.isContentEditableFalse(e.from().block())&&!1===p.isContentEditableFalse(e.to().block())}(e)}))}(e,t,r):n.none()}}})),i("tinymce.core.delete.MergeBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.ElementType","tinymce.core.dom.Empty","tinymce.core.dom.NodeType","tinymce.core.dom.Parents"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h){var f=function(e,t){s.positionIn(e,t.dom()).each((function(e){var t=e.getNode();d.isBr(t)&&r.remove(o.fromDom(t))}))},p=function(t,n){var i=h.parentsAndSelf(n,t);return e.find(i.reverse(),u.isEmpty).each(r.remove)},A=function(o,d,h){if(u.isEmpty(h))return r.remove(h),s.firstPositionIn(d.dom());f(!0,d),f(!1,h);var A=function(t){var n=function(t){var n=a.children(t);return e.findIndex(n,c.isBlock).fold((function(){return n}),(function(e){return n.slice(0,e)}))}(t);return e.each(n,(function(e){r.remove(e)})),n}(d);return function(e,i){return n.contains(i,e)?a.parent(e).bind((function(r){return n.eq(r,i)?t.some(e):function(e,i){var r=a.parents(i,(function(t){return n.eq(t,e)}));return t.from(r[r.length-2])}(i,e)})):t.none()}(d,h).fold((function(){p(o,d);var t=s.lastPositionIn(h.dom());return e.each(A,(function(e){i.append(h,e)})),t}),(function(t){var n=s.prevPosition(h.dom(),l.before(t.dom()));return e.each(A,(function(e){i.before(t,e)})),p(o,d),n}))};return{mergeBlocks:function(e,t,n,i){return t?A(e,i,n):A(e,n,i)}}})),i("tinymce.core.delete.BlockBoundaryDelete",["ephox.sugar.api.node.Element","tinymce.core.delete.BlockBoundary","tinymce.core.delete.MergeBlocks"],(function(e,t,n){return{backspaceDelete:function(i,r){var o,a=e.fromDom(i.getBody());return(o=t.read(a.dom(),r,i.selection.getRng()).bind((function(e){return n.mergeBlocks(a,r,e.from().block(),e.to().block())}))).each((function(e){i.selection.setRng(e.toRange())})),o.isSome()}}})),i("tinymce.core.delete.BlockRangeDelete",["ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks"],(function(e,t,n,i,r,o,a){return{backspaceDelete:function(s,l){return!s.selection.isCollapsed()&&function(s){var l=n.fromDom(s.getBody());return function(e,t){var n=i.prevPosition(e.dom(),r.fromRangeStart(t)).isNone(),o=i.nextPosition(e.dom(),r.fromRangeEnd(t)).isNone();return n&&o}(l,s.selection.getRng())?function(e){return e.setContent(""),e.selection.setCursorLocation(),!0}(s):function(i,r){var s=r.getRng();return e.liftN([o.getParentBlock(i,n.fromDom(s.startContainer)),o.getParentBlock(i,n.fromDom(s.endContainer))],(function(e,n){return!1===t.eq(e,n)&&(s.deleteContents(),a.mergeBlocks(i,!0,e,n).each((function(e){r.setRng(e.toRange())})),!0)})).getOr(!1)}(l,s.selection)}(s,s.selection.getRng())}}})),i("ephox.katamari.api.Adt",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Type","global!Array","global!Error","global!console"],(function(e,t,n,i,r,o){return{generate:function(a){if(!n.isArray(a))throw new r("cases must be an array");if(0===a.length)throw new r("there must be at least one case");var s=[],l={};return e.each(a,(function(c,u){var d=t.keys(c);if(1!==d.length)throw new r("one and only one name per case");var h=d[0],f=c[h];if(void 0!==l[h])throw new r("duplicate key detected:"+h);if("cata"===h)throw new r("cannot have a case named cata (sorry)");if(!n.isArray(f))throw new r("case arguments must be an array");s.push(h),l[h]=function(){var n=arguments.length;if(n!==f.length)throw new r("Wrong number of arguments to case "+h+". Expected "+f.length+" ("+f+"), got "+n);for(var l=new i(n),c=0;c<l.length;c++)l[c]=arguments[c];return{fold:function(){if(arguments.length!==a.length)throw new r("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[u].apply(null,l)},match:function(n){var i=t.keys(n);if(s.length!==i.length)throw new r("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+i.join(","));if(!e.forall(s,(function(t){return e.contains(i,t)})))throw new r("Not all branches were specified when using match. Specified: "+i.join(", ")+"\nRequired: "+s.join(", "));return n[h].apply(null,l)},log:function(e){o.log(e,{constructors:s,constructor:h,params:l})}}}})),l}}})),i("tinymce.core.delete.CefDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],(function(e,t,n,i,r,o,a,s,l){var c=e.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),u=function(e,r,u){return i.fromPosition(r,e,u).bind((function(i){return r&&l.isContentEditableFalse(i.getNode())||!1===r&&l.isContentEditableFalse(i.getNode(!0))?function(e,i,r,o){var l=o.getNode(!1===i);return a.getParentBlock(n.fromDom(e),n.fromDom(r.getNode())).map((function(e){return s.isEmpty(e)?c.remove(e.dom()):c.moveToElement(l)})).orThunk((function(){return t.some(c.moveToElement(l))}))}(e,r,u,i):r&&o.isAfterContentEditableFalse(u)||!1===r&&o.isBeforeContentEditableFalse(u)?t.some(c.moveToPosition(i)):t.none()}))};return{read:function(e,n,i){var a=o.normalizeRange(n?1:-1,e,i),s=r.fromRangeStart(a);return!1===n&&o.isAfterContentEditableFalse(s)?t.some(c.remove(s.getNode(!0))):n&&o.isBeforeContentEditableFalse(s)?t.some(c.remove(s.getNode())):function(e,n,i){return function(e,t){var n=t.getNode(!1===e),i=e?"after":"before";return l.isElement(n)&&n.getAttribute("data-mce-caret")===i}(n,i)?function(e,n){return e&&l.isContentEditableFalse(n.nextSibling)?t.some(c.moveToElement(n.nextSibling)):!1===e&&l.isContentEditableFalse(n.previousSibling)?t.some(c.moveToElement(n.previousSibling)):t.none()}(n,i.getNode(!1===n)).fold((function(){return u(e,n,i)}),t.some):u(e,n,i)}(e,n,s)}}})),i("tinymce.core.delete.DeleteElement",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f){var p=function(e,t){return function(e,t){var n=e.container(),i=e.offset();return!1===d.isTextPosition(e)&&n===t.parentNode&&i>d.before(t).offset()}(t,e)?new d(t.container(),t.offset()-1):t},A=function(e){return c.isCaretCandidate(e.previousSibling)?t.some((n=e.previousSibling,f.isText(n)?new d(n,n.data.length):d.after(n))):e.previousSibling?u.lastPositionIn(e.previousSibling):t.none();var n},g=function(e){return c.isCaretCandidate(e.nextSibling)?t.some((n=e.nextSibling,f.isText(n)?new d(n,0):d.before(n))):e.nextSibling?u.firstPositionIn(e.nextSibling):t.none();var n},m=function(n,i,r){return function(e,n,i){return e?function(e,n){return g(n).orThunk((function(){return A(n)})).orThunk((function(){return function(e,n){return u.nextPosition(e,d.after(n)).fold((function(){return u.prevPosition(e,d.before(n))}),t.some)}(e,n)}))}(n,i):function(e,n){return A(n).orThunk((function(){return g(n)})).orThunk((function(){return function(e,n){var i=d.before(n.previousSibling?n.previousSibling:n.parentNode);return u.prevPosition(e,i).fold((function(){return u.nextPosition(e,d.after(n))}),t.some)}(e,n)}))}(n,i)}(n,i,r).map(e.curry(p,r))},v=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},y=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(a.name(t))},b=function(e){if(h.isEmpty(e)){var n=o.fromHtml('<br data-mce-bogus="1">');return r.empty(e),i.append(e,n),t.some(d.before(n.dom()))}return t.none()};return{deleteElement:function(i,o,a){var c,u=m(o,i.getBody(),a.dom()),h=s.ancestor(a,e.curry(y,i),(c=i.getBody(),function(e){return e.dom()===c})),p=function(e,t){return n.liftN([l.prevSibling(e),l.nextSibling(e),t],(function(t,n,i){var o,a=t.dom(),s=n.dom();return f.isText(a)&&f.isText(s)?(o=a.data.length,a.appendData(s.data),r.remove(n),r.remove(e),i.container()===s?new d(a,o):i):(r.remove(e),i)})).orThunk((function(){return r.remove(e),t}))}(a,u);h.bind(b).fold((function(){v(i,o,p)}),(function(e){v(i,o,t.some(e))}))}}})),i("tinymce.core.delete.CefDelete",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.caret.CaretPosition","tinymce.core.delete.CefDeleteAction","tinymce.core.delete.DeleteElement","tinymce.core.delete.DeleteUtils","tinymce.core.dom.NodeType"],(function(e,t,n,i,r,o,a,s,l){return{backspaceDelete:function(c,u){return c.selection.isCollapsed()?function(e,t){var i=o.read(e.getBody(),t,e.selection.getRng()).map((function(i){return i.fold(function(e,t){return function(i){return a.deleteElement(e,t,n.fromDom(i)),!0}}(e,t),function(e,t){return function(n){var i=t?r.before(n):r.after(n);return e.selection.setRng(i.toRange()),!0}}(e,t),function(e){return function(t){return e.selection.setRng(t.toRange()),!0}}(e))}));return i.getOr(!1)}(c,u):function(r,o){var c,u=r.selection.getNode();return!!l.isContentEditableFalse(u)&&(c=n.fromDom(r.getBody()),e.each(i.descendants(c,".mce-offscreen-selection"),t.remove),a.deleteElement(r,o,n.fromDom(r.selection.getNode())),s.paddEmptyBody(r),!0)}(c,u)},paddEmptyElement:function(e){var t,n=function(e,t){for(;t&&t!==e;){if(l.isContentEditableTrue(t)||l.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return l.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(r.before(t).toRange())),!0}}})),i("tinymce.core.caret.CaretContainerInline",["ephox.katamari.api.Fun","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],(function(e,t,n){var i=t.isText,r=function(e){return i(e)&&e.data[0]===n.ZWSP},o=function(e){return i(e)&&e.data[e.data.length-1]===n.ZWSP},a=function(e){return e.ownerDocument.createTextNode(n.ZWSP)},s=function(e,t){return e?function(e){if(i(e.previousSibling))return o(e.previousSibling)||e.previousSibling.appendData(n.ZWSP),e.previousSibling;if(i(e))return r(e)||e.insertData(0,n.ZWSP),e;var t=a(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(i(e.nextSibling))return r(e.nextSibling)||e.nextSibling.insertData(0,n.ZWSP),e.nextSibling;if(i(e))return o(e)||e.appendData(n.ZWSP),e;var t=a(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)};return{insertInline:s,insertInlineBefore:e.curry(s,!0),insertInlineAfter:e.curry(s,!1)}})),i("tinymce.core.caret.CaretContainerRemove",["ephox.katamari.api.Arr","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],(function(e,t,n,i,r,o){var a=i.isElement,s=i.isText,l=function(e){var t=e.parentNode;t&&t.removeChild(e)},c=function(e,t){0===t.length?l(e):e.nodeValue=t},u=function(e){var t=r.trim(e);return{count:e.length-t.length,text:t}},d=function(e,t){return h(e),t},h=function(e){if(a(e)&&t.isCaretContainer(e)&&(t.hasContent(e)?e.removeAttribute("data-mce-caret"):l(e)),s(e)){var n=r.trim(function(e){try{return e.nodeValue}catch(e){return""}}(e));c(e,n)}};return{removeAndReposition:function(t,i){return n.isTextPosition(i)?function(e,t){return t.container()===e?function(e,t){var i=u(e.data.substr(0,t.offset())),r=u(e.data.substr(t.offset())),o=i.text+r.text;return o.length>0?(c(e,o),new n(e,t.offset()-i.count)):t}(e,t):d(e,t)}(t,i):function(t,i){return i.container()===t.parentNode?function(t,i){var r=i.container(),o=e.indexOf(r.childNodes,t).map((function(e){return e<i.offset()?new n(r,i.offset()-1):i})).getOr(i);return h(t),o}(t,i):d(t,i)}(t,i)},remove:h}})),i("tinymce.core.EditorSettings",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.api.Strings","ephox.katamari.api.Struct","ephox.katamari.api.Type","ephox.sand.api.PlatformDetection","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l){var c=o.immutable("sections","settings"),u=s.detect().deviceType.isTouch(),d=["lists","autolink","autosave"],h=function(n){var i=e.map(function(e){return a.isArray(e)?e.join(" "):e}(n).split(" "),r.trim);return e.filter(i,t.curry(e.contains,d)).join(" ")},f=function(t,i){var r=n.bifilter(i,(function(n,i){return e.contains(t,i)}));return c(r.t,r.f)},p=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?l.extend({},e.external_plugins,n):n};return{getEditorSettings:function(e,t,n,i,r){var o=function(e,t,n){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}}(t,n,e);return function(e,t,n){var i=f(["mobile"],n),r=i.settings().plugins;return l.extend(e,t,i.settings(),u?function(e,t){var n=e.sections();return n.hasOwnProperty(t)?n[t]:{}}(i,"mobile"):{},{validate:!0,content_editable:i.settings().inline,external_plugins:p(t,i.settings())},u&&r&&function(e,t){return e.sections().hasOwnProperty("mobile")}(i)?{plugins:h(r)}:{})}(o,i,r)},get:function(e,t){return i.from(e.settings[t])},getString:t.curry((function(e,t,n){return i.from(t.settings[n]).filter(e)}),a.isString),filterMobilePlugins:h}})),i("tinymce.core.text.Bidi",[],(function(){var e=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(t){return e.test(t)}}})),i("tinymce.core.keyboard.InlineUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Type","ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.EditorSettings","tinymce.core.text.Bidi"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A){var g=function(e,t){var n=t.container(),i=t.offset();return e?s.isCaretContainerInline(n)?f.isText(n.nextSibling)?new c(n.nextSibling,0):c.after(n):s.isBeforeInline(t)?new c(n,i+1):t:s.isCaretContainerInline(n)?f.isText(n.previousSibling)?new c(n.previousSibling,n.previousSibling.data.length):c.before(n):s.isAfterInline(t)?new c(n,i-1):t};return{isInlineTarget:function(e,t){var n=p.getString(e,"inline_boundaries_selector").getOr("a[href],code");return a.is(o.fromDom(t),n)},findRootInline:function(t,i,r){var o=function(t,n,i){return e.filter(h.DOM.getParents(i.container(),"*",n),t)}(t,i,r);return n.from(o[o.length-1])},isRtl:function(e){return"rtl"===h.DOM.getStyle(e,"direction",!0)||A.hasStrongRtl(e.textContent)},isAtZwsp:function(e){return s.isBeforeInline(e)||s.isAfterInline(e)},normalizePosition:g,normalizeForwards:t.curry(g,!0),normalizeBackwards:t.curry(g,!1),hasSameParentBlock:function(e,t,n){var i=u.getParentBlock(t,e),r=u.getParentBlock(n,e);return i&&i===r}}})),i("tinymce.core.keyboard.BoundaryCaret",["ephox.katamari.api.Option","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerInline","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],(function(e,t,n,i,r,o,a,s){var l=function(e,t){return a.isText(e.container())?n.insertInline(t,e.container()):n.insertInline(t,e.getNode())},c=function(e,n){var i=n.get();return i&&e.container()===i&&t.isCaretContainerInline(i)};return{renderCaret:function(t,a){return a.fold((function(r){i.remove(t.get());var a=n.insertInlineBefore(r);return t.set(a),e.some(new o(a,a.length-1))}),(function(e){return r.firstPositionIn(e).map((function(e){if(c(e,t))return new o(t.get(),1);i.remove(t.get());var n=l(e,!0);return t.set(n),new o(n,1)}))}),(function(e){return r.lastPositionIn(e).map((function(e){if(c(e,t))return new o(t.get(),t.get().length-1);i.remove(t.get());var n=l(e,!1);return t.set(n),new o(n,n.length-1)}))}),(function(r){i.remove(t.get());var a=n.insertInlineAfter(r);return t.set(a),e.some(new o(a,1))}))}}})),i("tinymce.core.util.LazyEvaluator",["ephox.katamari.api.Option"],(function(e){return{evaluateUntil:function(t,n){for(var i=0;i<t.length;i++){var r=t[i].apply(null,n);if(r.isSome())return r}return e.none()}}})),i("tinymce.core.keyboard.BoundaryLocation",["ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils","tinymce.core.util.LazyEvaluator"],(function(e,t,n,i,r,o,a,s,l,c,u){var d=e.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),h=function(e,t){return s.getParentBlock(t,e)||e},f=function(e,i,r){var a=c.normalizeForwards(r),s=h(i,a.container());return c.findRootInline(e,s,a).fold((function(){return o.nextPosition(s,a).bind(t.curry(c.findRootInline,e,s)).map((function(e){return d.before(e)}))}),n.none)},p=function(e,t,i){var r=c.normalizeBackwards(i);return c.findRootInline(e,t,r).bind((function(e){return o.prevPosition(e,r).isNone()?n.some(d.start(e)):n.none()}))},A=function(e,t,i){var r=c.normalizeForwards(i);return c.findRootInline(e,t,r).bind((function(e){return o.nextPosition(e,r).isNone()?n.some(d.end(e)):n.none()}))},g=function(e,i,r){var a=c.normalizeBackwards(r),s=h(i,a.container());return c.findRootInline(e,s,a).fold((function(){return o.prevPosition(s,a).bind(t.curry(c.findRootInline,e,s)).map((function(e){return d.after(e)}))}),n.none)},m=function(e){return!1===c.isRtl(y(e))},v=function(e,t,n){return u.evaluateUntil([f,p,A,g],[e,t,n]).filter(m)},y=function(e){return e.fold(t.identity,t.identity,t.identity,t.identity)},b=function(e){return e.fold(t.constant("before"),t.constant("start"),t.constant("end"),t.constant("after"))},w=function(e){return e.fold(d.before,d.before,d.after,d.after)},x=function(e,t,n,r,o,a){return i.liftN([c.findRootInline(t,n,r),c.findRootInline(t,n,o)],(function(t,i){return t!==i&&c.hasSameParentBlock(n,t,i)?d.after(e?t:i):a})).getOr(a)},C=function(e,n){return e.fold(t.constant(!0),(function(e){return i=n,!(b(t=e)===b(i)&&y(t)===y(i));var t,i}))},_=function(e,i){return e?i.fold(t.compose(n.some,d.start),n.none,t.compose(n.some,d.after),n.none):i.fold(n.none,t.compose(n.some,d.before),n.none,t.compose(n.some,d.end))},k=function(e,n,i,r){var a=c.normalizePosition(e,r),s=v(n,i,a);return v(n,i,a).bind(t.curry(_,e)).orThunk((function(){return function(e,n,i,r,a){var s=c.normalizePosition(e,a);return o.fromPosition(e,i,s).map(t.curry(c.normalizePosition,e)).fold((function(){return r.map(w)}),(function(o){return v(n,i,o).map(t.curry(x,e,n,i,s,o)).filter(t.curry(C,r))})).filter(m)}(e,n,i,s,r)}))};return{readLocation:v,findLocation:k,prevLocation:t.curry(k,!1),nextLocation:t.curry(k,!0),getElement:y,outside:w,inside:function(e){return e.fold(d.start,d.start,d.end,d.end)}}})),i("tinymce.core.keyboard.BoundarySelection",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],(function(e,t,n,i,r,o,a,s){var l=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},c=function(e){return!1!==e.settings.inline_boundaries},u=function(e,t){e?t.setAttribute("data-mce-selected","1"):t.removeAttribute("data-mce-selected","1")},d=function(e,t,n){return o.renderCaret(t,n).map((function(t){return l(e,t),n}))};return{move:function(e,t,i){return function(){return!!c(e)&&function(e,t,i){var o=e.getBody(),l=r.fromRangeStart(e.selection.getRng()),c=n.curry(s.isInlineTarget,e);return a.findLocation(i,c,o,l).bind((function(n){return d(e,t,n)}))}(e,t,i).isSome()}},setupSelectedState:function(o){var h=new t(null),f=n.curry(s.isInlineTarget,o);return o.on("NodeChange",(function(t){c(o)&&(function(t,i,r){var o=e.filter(i.select("*[data-mce-selected]"),t),a=e.filter(r,t);e.each(e.difference(o,a),n.curry(u,!1)),e.each(e.difference(a,o),n.curry(u,!0))}(f,o.dom,t.parents),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=r.fromRangeStart(e.selection.getRng());r.isTextPosition(n)&&!1===s.isAtZwsp(n)&&(l(e,i.removeAndReposition(t.get(),n)),t.set(null))}}(o,h),function(t,n,i,o){if(n.selection.isCollapsed()){var s=e.filter(o,t);e.each(s,(function(e){var o=r.fromRangeStart(n.selection.getRng());a.readLocation(t,n.getBody(),o).bind((function(e){return d(n,i,e)}))}))}}(f,o,h,t.parents))})),h},setCaretPosition:l}})),i("tinymce.core.delete.InlineBoundaryDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Element","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteElement","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.InlineUtils"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h){var f=function(e,t){return function(n){return c.renderCaret(t,n).map((function(t){return d.setCaretPosition(e,t),!0})).getOr(!1)}},p=function(t,n,i,r){var o=t.getBody(),s=e.curry(h.isInlineTarget,t);t.undoManager.ignore((function(){t.selection.setRng(function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n}(i,r)),t.execCommand("Delete"),u.readLocation(s,o,a.fromRangeStart(t.selection.getRng())).map(u.inside).map(f(t,n))})),t.nodeChanged()};return{backspaceDelete:function(r,c,d){if(r.selection.isCollapsed()&&function(e){return!1!==e.settings.inline_boundaries}(r)){var A=a.fromRangeStart(r.selection.getRng());return function(r,a,c,d){var A=function(e,t){return s.getParentBlock(t,e)||e}(r.getBody(),d.container()),g=e.curry(h.isInlineTarget,r),m=u.readLocation(g,A,d);return m.bind((function(n){return c?n.fold(e.constant(t.some(u.inside(n))),t.none,e.constant(t.some(u.outside(n))),t.none):n.fold(t.none,e.constant(t.some(u.outside(n))),t.none,e.constant(t.some(u.inside(n))))})).map(f(r,a)).getOrThunk((function(){var e=o.navigate(c,A,d),t=e.bind((function(e){return u.readLocation(g,A,e)}));return m.isSome()&&t.isSome()?h.findRootInline(g,A,d).map((function(e){return!!function(e){return n.liftN([o.firstPositionIn(e),o.lastPositionIn(e)],(function(t,n){var i=h.normalizePosition(!0,t),r=h.normalizePosition(!1,n);return o.nextPosition(e,i).map((function(e){return e.isEqual(r)})).getOr(!0)})).getOr(!0)}(e)&&(l.deleteElement(r,c,i.fromDom(e)),!0)})).getOr(!1):t.bind((function(t){return e.map((function(e){return c?p(r,a,d,e):p(r,a,e,d),!0}))})).getOr(!1)}))}(r,c,d,A)}return!1}}})),i("tinymce.core.delete.TableDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind"],(function(e,t,n,i,r,o,a,s,l,c){var u=o.immutable("start","end"),d=o.immutable("rng","table","cells"),h=e.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),f=function(e,t){return c.closest(s.fromDom(e),"td,th",t)},p=function(e,t){return c.ancestor(e,"table",t)},A=function(e){return!1===a.eq(e.start(),e.end())},g=function(e,t){var o=n.curry(a.eq,e);return function(e,t){return r.liftN([f(e.startContainer,t),f(e.endContainer,t)],u).filter(A)}(t,o).map((function(e){return function(e,t){return function(e,t){return p(e.start(),t).bind((function(n){return p(e.end(),t).bind((function(e){return a.eq(n,e)?i.some(n):i.none()}))}))}(e,t).bind((function(t){var n=l.descendants(t,"td,th");return d(e,t,n)}))}(e,o)}))},m=function(e,n){return t.findIndex(e,(function(e){return a.eq(e,n)}))},v=function(e){return function(e){return r.liftN([m(e.cells(),e.rng().start()),m(e.cells(),e.rng().end())],(function(t,n){return e.cells().slice(t,n+1)}))}(e).bind((function(t){var n=e.cells();return t.length===n.length?h.removeTable(e.table()):h.emptyCells(t)}))};return{getActionFromRange:function(e,t){return g(e,t).map(v)},getActionFromCells:function(e){return h.emptyCells(e)}}})),i("tinymce.core.delete.TableDelete",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Element","tinymce.core.delete.DeleteElement","tinymce.core.delete.TableDeleteAction","tinymce.core.dom.PaddingBr","tinymce.core.selection.TableCellSelection"],(function(e,t,n,i,r,o,a){var s=function(t,n){return e.each(n,o.fillWithPaddingBr),t.selection.setCursorLocation(n[0].dom(),0),!0},l=function(e,t){return i.deleteElement(e,!1,t),!0};return{backspaceDelete:function(e){return!e.selection.isCollapsed()&&function(e){var i=n.fromDom(e.getBody()),o=e.selection.getRng(),c=a.getCellsFromEditor(e);return 0!==c.length?s(e,c):function(e,n,i){return r.getActionFromRange(n,i).map((function(n){return n.fold(t.curry(l,e),t.curry(s,e))})).getOr(!1)}(e,i,o)}(e)}}})),i("tinymce.core.delete.DeleteCommands",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.DeleteUtils","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.delete.TableDelete"],(function(e,t,n,i,r,o){var a=function(e,t){e.getDoc().execCommand(t,!1,null)};return{deleteCommand:function(s){n.backspaceDelete(s,!1)||r.backspaceDelete(s,!1)||e.backspaceDelete(s,!1)||o.backspaceDelete(s)||t.backspaceDelete(s,!1)||(a(s,"Delete"),i.paddEmptyBody(s))},forwardDeleteCommand:function(i){n.backspaceDelete(i,!0)||r.backspaceDelete(i,!0)||e.backspaceDelete(i,!0)||o.backspaceDelete(i)||t.backspaceDelete(i,!0)||a(i,"ForwardDelete")}}})),i("tinymce.core.InsertList",["tinymce.core.util.Tools","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition"],(function(e,t,n){var i=function(t){return e.grep(t.childNodes,(function(e){return"LI"===e.nodeName}))},r=function(e){return e.length>0&&!e[e.length-1].firstChild?e.slice(0,-1):e},o=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},a=function(e,i){var r=n.after(e),o=new t(i).prev(r);return o?o.toRange():null};return{isListFragment:function(e,t){var n=t.firstChild,i=t.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||function(e,t){return e.getBlockElements()[t.name]&&function(e){return e.firstChild&&e.firstChild===e.lastChild}(t)&&function(e){return"br"===e.name||""===e.value}(t.firstChild)}(e,t))}(e,i)&&(i=i.prev),!(!n||n!==i||"ul"!==n.name&&"ol"!==n.name)},insertAtCaret:function(s,l,c,u){var d=function(e,t,n){var i=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(i))}(l,s,u),h=o(l,c.startContainer),f=r(i(d.firstChild)),p=l.getRoot(),A=function(e){var i=n.fromRangeStart(c),r=new t(l.getRoot()),a=1===e?r.prev(i):r.next(i);return!a||o(l,a.getNode())!==h};return A(1)?function(i,r,o){var a=i.parentNode;return e.each(r,(function(e){a.insertBefore(e,i)})),function(e,i){var r=n.before(e),o=new t(i).next(r);return o?o.toRange():null}(i,o)}(h,f,p):A(2)?function(e,t,n,i){return i.insertAfter(t.reverse(),e),a(t[0],n)}(h,f,p,l):function(t,n,i,r){var o=function(e,t){var n=t.cloneRange(),i=t.cloneRange();return n.setStartBefore(e),i.setEndAfter(e),[n.cloneContents(),i.cloneContents()]}(t,r),s=t.parentNode;return s.insertBefore(o[0],t),e.each(n,(function(e){s.insertBefore(e,t)})),s.insertBefore(o[1],t),s.removeChild(t),a(n[n.length-1],i)}(h,f,p,c)},isParentBlockLi:function(e,t){return!!o(e,t)},trimListItems:r,listItems:i}})),i("tinymce.core.InsertContent",["ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.dom.PaddingBr","tinymce.core.dom.RangeNormalizer","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.InsertList","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l,c,u,d){var h=o.matchNodeNames("td th");return{insertAtCaret:function(o,f){var p=function(e){var t;return"string"!=typeof e?(t=d.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}}(f);!function(o,f,p){var A,g,m,v,y,b,w,x,C,_,k,S,E=o.schema.getTextInlineElements(),T=o.selection,B=o.dom;/^ | $/.test(f)&&(f=function(e){var t,n,i;function r(e){return n[e]&&3==n[e].nodeType}return t=T.getRng(!0),n=t.startContainer,i=t.startOffset,3==n.nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):r("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(f)),A=o.parser,S=p.merge,g=new c({validate:o.settings.validate},o.schema),k='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',b={content:f,format:"html",selection:!0},o.fire("BeforeSetContent",b),-1==(f=b.content).indexOf("{$caret}")&&(f+="{$caret}"),f=f.replace(/\{\$caret\}/,k);var I=(x=T.getRng()).startContainer||(x.parentElement?x.parentElement():null),D=o.getBody();I===D&&T.isCollapsed()&&B.isBlock(D.firstChild)&&function(e){return e&&!o.schema.getShortEndedElements()[e.nodeName]}(D.firstChild)&&B.isEmpty(D.firstChild)&&((x=B.createRng()).setStart(D.firstChild,0),x.setEnd(D.firstChild,0),T.setRng(x)),T.isCollapsed()||(o.selection.setRng(s.normalize(o.selection.getRng())),o.getDoc().execCommand("Delete",!1,null),function(){var e,t,n;t=(e=T.getRng(!0)).startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&(""===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(f)||(f+=" ")):""===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(f)||(f=" "+f)))}());var F,M={context:(m=T.getNode()).nodeName.toLowerCase(),data:p.data};if(y=A.parse(f,M),!0===p.paste&&u.isListFragment(o.schema,y)&&u.isParentBlockLi(B,m))return x=u.insertAtCaret(g,B,o.selection.getRng(!0),y),o.selection.setRng(x),void o.fire("SetContent",b);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(y),"mce_marker"==(C=y.lastChild).attr("id"))for(w=C,C=C.prev;C;C=C.walk(!0))if(3==C.type||!B.isBlock(C.name)){o.schema.isValidChild(C.parent.name,"span")&&C.parent.insert(w,C,"br"===C.name);break}if(o._selectionOverrides.showBlockCaretContainer(m),M.invalid){for(T.setContent(k),m=T.getNode(),v=o.getBody(),9==m.nodeType?m=C=v:C=m;C!==v;)m=C,C=C.parentNode;f=m==v?v.innerHTML:B.getOuterHTML(m),f=g.serialize(A.parse(f.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return g.serialize(y)})))),m==v?B.setHTML(v,f):B.setOuterHTML(m,f)}else f=g.serialize(y),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(o,f,m);!function(){if(S){var e=o.getBody(),t=new r(B);d.each(B.select("*[data-mce-fragment]"),(function(n){for(var i=n.parentNode;i&&i!=e;i=i.parentNode)E[n.nodeName.toLowerCase()]&&t.compare(i,n)&&B.remove(n,!0)}))}}(),function(e){var t,r,a;if(e){if(T.scrollIntoView(e),t=function(e){for(var t=o.getBody();e&&e!==t;e=e.parentNode)if("false"===o.dom.getContentEditable(e))return e;return null}(e),t)return B.remove(e),void T.select(t);x=B.createRng(),(C=e.previousSibling)&&3==C.nodeType?(x.setStart(C,C.nodeValue.length),l.ie||(_=e.nextSibling)&&3==_.nodeType&&(C.appendData(_.data),_.parentNode.removeChild(_))):(x.setStartBefore(e),x.setEndBefore(e)),r=B.getParent(e,B.isBlock),B.remove(e),r&&B.isEmpty(r)&&(o.$(r).empty(),x.setStart(r,0),x.setEnd(r,0),h(r)||function(e){return!!e.getAttribute("data-mce-fragment")}(r)||!(a=function(e){var t=n.fromRangeStart(e);if(t=new i(o.getBody()).next(t))return t.toRange()}(x))?B.add(r,B.create("br",{"data-mce-bogus":"1"})):(x=a,B.remove(r))),T.setRng(x)}}(B.get("mce_marker")),F=o.getBody(),d.each(F.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),function(n,i){e.from(n.getParent(i,"td,th")).map(t.fromDom).each(a.trimBlockTrailingBr)}(o.dom,o.selection.getStart()),o.fire("SetContent",b),o.addVisual()}(o,p.content,p.details)}}})),i("tinymce.core.EditorCommands",["tinymce.core.delete.DeleteCommands","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.InsertContent","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a){var s=a.each,l=a.extend,c=a.map,u=a.inArray,d=a.explode,h=r.ie&&r.ie<11,f=!0,p=!1;return function(a){var A,g,m,v,y={state:{},exec:{},value:{}},b=a.settings;function w(e){var t;if(!a.quirks.isHidden()&&!a.removed){if(e=e.toLowerCase(),t=y.state[e])return t(e);try{return a.getDoc().queryCommandState(e)}catch(e){}return!1}}function x(e,t){t=t||"exec",s(e,(function(e,n){s(n.toLowerCase().split(","),(function(n){y[t][n]=e}))}))}function C(e,t,n){return void 0===t&&(t=p),void 0===n&&(n=null),a.getDoc().execCommand(e,t,n)}function _(e){return m.match(e)}function k(e,t){m.toggle(e,t?{value:t}:void 0),a.nodeChanged()}function S(e){v=g.getBookmark(e)}function E(){g.moveToBookmark(v)}a.on("PreInit",(function(){A=a.dom,g=a.selection,b=a.settings,m=a.formatter})),l(this,{execCommand:function(e,t,n,i){var r,o,l=0;if(!a.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||a.focus(),(i=a.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;if(o=e.toLowerCase(),r=y.exec[o])return r(o,t,n),a.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(s(a.plugins,(function(i){if(i.execCommand&&i.execCommand(e,t,n))return a.fire("ExecCommand",{command:e,ui:t,value:n}),l=!0,!1})),l)return l;if(a.theme&&a.theme.execCommand&&a.theme.execCommand(e,t,n))return a.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{l=a.getDoc().execCommand(e,t,n)}catch(e){}return!!l&&(a.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},queryCommandState:w,queryCommandValue:function(e){var t;if(!a.quirks.isHidden()&&!a.removed){if(e=e.toLowerCase(),t=y.value[e])return t(e);try{return a.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),y.exec[e])return!0;try{return a.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:x,addCommand:function(e,t,n){e=e.toLowerCase(),y.exec[e]=function(e,i,r,o){return t.call(n||a,i,r,o)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),y.state[e]=function(){return t.call(n||a)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),y.value[e]=function(){return t.call(n||a)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!y.exec[e]}}),x({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=a.getDoc();try{C(e)}catch(e){t=f}if("paste"!==e||n.queryCommandEnabled(e)||(t=!0),t||!n.queryCommandSupported(e)){var i=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");r.mac&&(i=i.replace(/Ctrl\+/g,"+")),a.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(g.isCollapsed()){var e=a.dom.getParent(a.selection.getStart(),"a");e&&a.dom.remove(e,!0)}else m.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),s("left,center,right,justify".split(","),(function(e){t!=e&&m.remove("align"+e)})),"none"!=t&&k("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;C(e),(t=A.getParent(g.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(S(),A.split(n,t),E()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){k(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){k(e,n)},FontSize:function(e,t,n){var i,r;n>=1&&n<=7&&(r=d(b.font_size_style_values),n=(i=d(b.font_size_classes))?i[n-1]||n:r[n-1]||n),k(e,n)},RemoveFormat:function(e){m.remove(e)},mceBlockQuote:function(){k("blockquote")},FormatBlock:function(e,t,n){return k(n||"p")},mceCleanup:function(){var e=g.getBookmark();a.setContent(a.getContent({cleanup:f}),{cleanup:f}),g.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||g.getNode();i!=a.getBody()&&(S(),a.dom.remove(i,f),E())},mceSelectNodeDepth:function(e,t,n){var i=0;A.getParent(g.getNode(),(function(e){if(1==e.nodeType&&i++==n)return g.select(e),p}),a.getBody())},mceSelectNode:function(e,t,n){g.select(n)},mceInsertContent:function(e,t,n){o.insertAtCaret(a,n)},mceInsertRawHTML:function(e,t,n){g.setContent("tiny_mce_marker"),a.setContent(a.getContent().replace(/tiny_mce_marker/g,(function(){return n})))},mceToggleFormat:function(e,t,n){k(n)},mceSetContent:function(e,t,n){a.setContent(n)},"Indent,Outdent":function(e){var t,n,i;t=b.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),w("InsertUnorderedList")||w("InsertOrderedList")?C(e):(b.forced_root_block||A.getParent(g.getNode(),A.isBlock)||m.apply("div"),s(g.getSelectedBlocks(),(function(r){if("false"!==A.getContentEditable(r)&&"LI"!==r.nodeName){var o=a.getParam("indent_use_margin",!1)?"margin":"padding";o="TABLE"===r.nodeName?"margin":o,o+="rtl"==A.getStyle(r,"direction",!0)?"Right":"Left","outdent"==e?(i=Math.max(0,parseInt(r.style[o]||0,10)-t),A.setStyle(r,o,i?i+n:"")):(i=parseInt(r.style[o]||0,10)+t+n,A.setStyle(r,o,i))}})))},mceRepaint:function(){},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(e,t,n){a.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,g.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=A.getParent(g.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||m.remove("link"),n.href&&m.apply("link",n,i)},selectAll:function(){var e,n=A.getRoot();if(g.getRng().setStart){var i=A.getParent(g.getStart(),t.isContentEditableTrue);i&&((e=A.createRng()).selectNodeContents(i),g.setRng(e))}else(e=g.getRng()).item||(e.moveToElementText(n),e.select())},delete:function(){e.deleteCommand(a)},forwardDelete:function(){e.forwardDeleteCommand(a)},mceNewDocument:function(){a.setContent("")},InsertLineBreak:function(e,t,r){var o,s,l,c=r,u=g.getRng(!0);new n(A).normalize(u);var d=u.startOffset,p=u.startContainer;if(1==p.nodeType&&p.hasChildNodes()){var m=d>p.childNodes.length-1;p=p.childNodes[Math.min(d,p.childNodes.length-1)]||p,d=m&&3==p.nodeType?p.nodeValue.length:0}var v=A.getParent(p,A.isBlock),y=v?v.nodeName.toUpperCase():"",b=v?A.getParent(v.parentNode,A.isBlock):null,w=b?b.nodeName.toUpperCase():"",x=c&&c.ctrlKey;"LI"!=w||x||(v=b,y=w),p&&3==p.nodeType&&d>=p.nodeValue.length&&(h||function(){for(var e,t=new i(p,v),n=a.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||e.length>0)return!0}()||(o=A.create("br"),u.insertNode(o),u.setStartAfter(o),u.setEndAfter(o),s=!0)),o=A.create("br"),u.insertNode(o);var C=A.doc.documentMode;return h&&"PRE"==y&&(!C||C<8)&&o.parentNode.insertBefore(A.doc.createTextNode("\r"),o),l=A.create("span",{},"&nbsp;"),o.parentNode.insertBefore(l,o),g.scrollIntoView(l),A.remove(l),s?(u.setStartBefore(o),u.setEndBefore(o)):(u.setStartAfter(o),u.setEndAfter(o)),g.setRng(u),a.undoManager.add(),f}}),x({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=g.isCollapsed()?[A.getParent(g.getNode(),A.isBlock)]:g.getSelectedBlocks(),i=c(n,(function(e){return!!m.matchNode(e,t)}));return-1!==u(i,f)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return _(e)},mceBlockQuote:function(){return _("blockquote")},Outdent:function(){var e;if(b.inline_styles){if((e=A.getParent(g.getStart(),A.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return f;if((e=A.getParent(g.getEnd(),A.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return f}return w("InsertUnorderedList")||w("InsertOrderedList")||!b.inline_styles&&!!A.getParent(g.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=A.getParent(g.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),x({"FontSize,FontName":function(e){var t,n=0;return(t=A.getParent(g.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),x({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}})}})),i("tinymce.core.EditorFocus",["ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.dom.ElementType","tinymce.core.dom.RangeUtils","tinymce.core.Env"],(function(e,t,n,i,r,o,a){var s=function(a,s){(function(i,a){return function(t){return t.collapsed?e.from(o.getNode(t.startContainer,t.startOffset)).map(n.fromDom):e.none()}(a).bind((function(n){return r.isTableSection(n)?e.some(n):!1===t.contains(i,n)?e.some(i):e.none()}))})(n.fromDom(a.getBody()),s).bind((function(e){return i.firstPositionIn(e.dom())})).fold((function(){a.selection.normalize()}),(function(e){a.selection.setRng(e.toRange())}))},l=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},c=function(e){e.editorManager.setActive(e)};return{focus:function(e,t){e.removed||(t?c(e):function(e){var t,n,i,r=e.selection,o=e.settings.content_editable,u=e.getDoc(),d=e.getBody();if((t=r.getRng()).item&&(n=t.item(0)),e.quirks.refreshContentEditable(),i=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))}(e,r.getNode()),e.$.contains(d,i))return l(i),s(e,t),void c(e);o||(a.opera||l(d),e.getWin().focus()),(a.gecko||o)&&(o&&document.activeElement!==d&&e.selection.setRng(e.lastRng),l(d),s(e,t)),n&&n.ownerDocument===u&&((t=u.body.createControlRange()).addElement(n),t.select()),c(e)}(e))}}})),i("tinymce.core.EditorObservable",["tinymce.core.util.Observable","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],(function(e,t,n){var i,r=t.DOM;function o(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=r.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function a(e,t){var n,a;function s(e){return!e.hidden&&!e.readonly}if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=o(e,t),e.settings.event_root){if(i||(i={},e.editorManager.on("removeEditor",(function(){var t;if(!e.editorManager.activeEditor&&i){for(t in i)e.dom.unbind(o(e,t));i=null}}))),i[t])return;a=function(n){for(var i=n.target,o=e.editorManager.get(),a=o.length;a--;){var l=o[a].getBody();(l===i||r.isChildOf(i,l))&&s(o[a])&&o[a].fire(t,n)}},i[t]=a,r.bind(n,t,a)}else a=function(n){s(e)&&e.fire(t,n)},r.bind(n,t,a),e.delegates[t]=a}var s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,(function(t){a(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?a(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(o(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(o(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return n.extend({},e,s)})),i("tinymce.core.ErrorReporter",["tinymce.core.AddOnManager"],(function(e){var t=e.PluginManager,n=function(e,t){e.notificationManager.open({type:"error",text:t})},i=function(e,t){e._skinLoaded?n(e,t):e.on("SkinLoaded",(function(){n(e,t)}))};return{pluginLoadError:function(e,n){i(e,function(e,n){var i=function(e,n){for(var i in t.urls)if(t.urls[i]+"/plugin"+n+".js"===e)return i;return null}(n,e.suffix);return i?"Failed to load plugin: "+i+" from url "+n:"Failed to load plugin url: "+n}(e,n))},uploadError:function(e,t){i(e,"Failed to upload image: "+t)},displayError:i,initError:function(e){var t=window.console;t&&!window.test&&(t.error?t.error.apply(t,arguments):t.log.apply(t,arguments))}}})),i("tinymce.core.caret.CaretContainerInput",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFind","tinymce.core.caret.CaretContainer"],(function(e,t,n,i){var r=function(e,t){t.hasAttribute("data-mce-caret")&&(i.showCaretContainerBlock(t),function(e){e.selection.setRng(e.selection.getRng())}(e),e.selection.scrollIntoView(t))},o=function(o,a){var s=function(i){return n.descendant(t.fromDom(i.getBody()),"*[data-mce-caret]").fold(e.constant(null),(function(e){return e.dom()}))}(o);if(s)return"compositionstart"===a.type?(a.preventDefault(),a.stopPropagation(),void r(s)):void(i.hasContent(s)&&r(o,s))};return{setup:function(t){t.on("keyup compositionstart",e.curry(o,t))}}})),i("tinymce.core.file.Uploader",["tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.Fun"],(function(e,t,n){return function(n,i){var r={};function o(e,t,n,r){var o,a;(o=new XMLHttpRequest).open("POST",i.url),o.withCredentials=i.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e,r,a;o.status<200||o.status>=300?n("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&&"string"==typeof e.location?t((r=i.basePath,a=e.location,r?r.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a)):n("Invalid JSON: "+o.responseText)},(a=new FormData).append("file",e.blob(),e.filename()),o.send(a)}function a(e,t){return{url:t,blobInfo:e,status:!0}}function s(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function l(e,n){t.each(r[e],(function(e){e(n)})),delete r[e]}return i=t.extend({credentials:!1,handler:o},i),{upload:function(c,u){return i.url||i.handler!==o?function(o,c){return o=t.grep(o,(function(e){return!n.isUploaded(e.blobUri())})),e.all(t.map(o,(function(t){return n.isPending(t.blobUri())?function(t){var n=t.blobUri();return new e((function(e){r[n]=r[n]||[],r[n].push(e)}))}(t):function(t,i,r){return n.markPending(t.blobUri()),new e((function(e){var o;try{var c=function(){o&&o.close()};i(t,(function(i){c(),n.markUploaded(t.blobUri(),i),l(t.blobUri(),a(t,i)),e(a(t,i))}),(function(i){c(),n.removeFailed(t.blobUri()),l(t.blobUri(),s(t,i)),e(s(t,i))}),(function(e){e<0||e>100||(o||(o=r()),o.progressBar.value(e))}))}catch(n){e(s(t,n.message))}}))}(t,i.handler,c)})))}(c,u):new e((function(e){e([])}))}}}})),i("ephox.sand.api.Window",["ephox.sand.util.Global"],(function(e){return{atob:function(t){return e.getOrDie("atob")(t)},requestAnimationFrame:function(t){e.getOrDie("requestAnimationFrame")(t)}}})),i("tinymce.core.file.Conversions",["ephox.sand.api.Window","tinymce.core.util.Promise"],(function(e,t){function n(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}return{uriToBlob:function(i){return 0===i.indexOf("blob:")?function(e){return new t((function(t,n){var i=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){200==this.status?t(this.response):i()},r.onerror=i,r.send()}catch(e){i()}}))}(i):0===i.indexOf("data:")?(r=i,new t((function(t){var i,o,a;r=n(r);try{i=e.atob(r.data)}catch(e){return void t(new Blob([]))}for(o=new Uint8Array(i.length),a=0;a<o.length;a++)o[a]=i.charCodeAt(a);t(new Blob([o],{type:r.type}))}))):null;var r},blobToDataUri:function(e){return new t((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))},parseDataUri:n}})),i("tinymce.core.file.ImageScanner",["tinymce.core.util.Promise","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.file.Conversions","tinymce.core.Env"],(function(e,t,n,i,r){var o=0,a=function(e){return(e||"blobid")+o++};return function(o,s){var l={};return{findAll:function(c,u){var d,h;return u||(u=n.constant(!0)),d=t.filter(function(e){return e?e.getElementsByTagName("img"):[]}(c),(function(e){var t=e.src;return!!r.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t==r.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t):0===t.indexOf("data:")&&u(e))})),h=t.map(d,(function(t){var n;return l[t.src]?new e((function(e){l[t.src].then((function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})}))})):(n=new e((function(e,n){!function(e,t,n,r){var o,s;0!==t.src.indexOf("blob:")?(o=i.parseDataUri(t.src).data,(s=e.findFirst((function(e){return e.base64()===o})))?n({image:t,blobInfo:s}):i.uriToBlob(t.src).then((function(i){s=e.create(a(),i,o),e.add(s),n({image:t,blobInfo:s})}),(function(e){r(e)}))):(s=e.getByUri(t.src))?n({image:t,blobInfo:s}):i.uriToBlob(t.src).then((function(r){i.blobToDataUri(r).then((function(l){o=i.parseDataUri(l).data,s=e.create(a(),r,o),e.add(s),n({image:t,blobInfo:s})}))}),(function(e){r(e)}))}(s,t,e,n)})).then((function(e){return delete l[e.image.src],e})).catch((function(e){return delete l[t.src],e})),l[t.src]=n,n)})),e.all(h)}}}})),i("ephox.sand.api.URL",["ephox.sand.util.Global"],(function(e){var t=function(){return e.getOrDie("URL")};return{createObjectURL:function(e){return t().createObjectURL(e)},revokeObjectURL:function(e){t().revokeObjectURL(e)}}})),i("tinymce.core.util.Uuid",[],(function(){var e=0;return{uuid:function(t){return t+e+++(n=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+n()+n()+n());var n}}})),i("tinymce.core.file.BlobCache",["ephox.sand.api.URL","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Uuid"],(function(e,t,n,i){return function(){var r=[],o=n.constant;function a(e){return s((function(t){return t.id()===e}))}function s(e){return t.filter(r,e)[0]}return{create:function(t,n,r,a){return function(t){var n,r,a;if(!t.blob||!t.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return n=t.id||i.uuid("blobid"),r=t.name||n,{id:o(n),name:o(r),filename:o(r+"."+(a=t.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[a.toLowerCase()]||"dat")),blob:o(t.blob),base64:o(t.base64),blobUri:o(t.blobUri||e.createObjectURL(t.blob)),uri:o(t.uri)}}("object"==typeof t?t:{id:t,name:a,blob:n,base64:r})},add:function(e){a(e.id())||r.push(e)},get:a,getByUri:function(e){return s((function(t){return t.blobUri()==e}))},findFirst:s,removeByUri:function(n){r=t.filter(r,(function(t){return t.blobUri()!==n||(e.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){t.each(r,(function(t){e.revokeObjectURL(t.blobUri())})),r=[]}}}})),i("tinymce.core.file.UploadStatus",[],(function(){return function(){var e={};function t(e,t){return{status:e,resultUri:t}}function n(t){return t in e}return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,i){e[n]=t(2,i)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}})),i("tinymce.core.EditorUpload",["tinymce.core.util.Arr","tinymce.core.file.Uploader","tinymce.core.file.ImageScanner","tinymce.core.file.BlobCache","tinymce.core.file.UploadStatus","tinymce.core.ErrorReporter"],(function(e,t,n,i,r,o){return function(a){var s,l,c=new i,u=a.settings,d=new r;function h(e){return function(t){return a.selection?e(t):[]}}function f(e,t,n){var i=0;do{-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1)}while(-1!==i);return e}function p(e,t,n){return e=f(e,'src="'+t+'"','src="'+n+'"'),f(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function A(t,n){e.each(a.undoManager.data,(function(i){"fragmented"===i.type?i.fragments=e.map(i.fragments,(function(e){return p(e,t,n)})):i.content=p(i.content,t,n)}))}function g(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function m(n){return s||(s=new t(d,{url:u.images_upload_url,basePath:u.images_upload_base_path,credentials:u.images_upload_credentials,handler:u.images_upload_handler})),b().then(h((function(t){var i;return i=e.map(t,(function(e){return e.blobInfo})),s.upload(i,g).then(h((function(i){var r=e.map(i,(function(e,n){var i=t[n].image;return e.status&&!1!==a.settings.images_replace_blob_uris?function(e,t){c.removeByUri(e.src),A(e.src,t),a.$(e).attr({src:u.images_reuse_filename?t+"?"+(new Date).getTime():t,"data-mce-src":a.convertURL(t,"src")})}(i,e.url):e.error&&o.uploadError(a,e.error),{element:i,status:e.status}}));return n&&n(r),r})))})))}function v(e){if(!1!==u.automatic_uploads)return m(e)}function y(e){return!u.images_dataimg_filter||u.images_dataimg_filter(e)}function b(){return l||(l=new n(d,c)),l.findAll(a.getBody(),y).then(h((function(t){return t=e.filter(t,(function(e){return"string"!=typeof e||(o.displayError(a,e),!1)})),e.each(t,(function(e){A(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))}function w(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var i=d.getResultUri(n);if(i)return'src="'+i+'"';var r=c.getByUri(n);return r||(r=e.reduce(a.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t}))}return a.on("setContent",(function(){!1!==a.settings.automatic_uploads?v():b()})),a.on("RawSaveContent",(function(e){e.content=w(e.content)})),a.on("getContent",(function(e){e.source_view||"raw"==e.format||(e.content=w(e.content))})),a.on("PostRender",(function(){a.parser.addNodeFilter("img",(function(t){e.each(t,(function(e){var t=e.attr("src");if(!c.getByUri(t)){var n=d.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:c,uploadImages:m,uploadImagesAuto:v,scanForImages:b,destroy:function(){c.destroy(),d.destroy(),l=s=null}}}})),i("tinymce.core.ForceBlocks",["ephox.katamari.api.Fun"],(function(e){var t=function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f=e.settings,p=e.dom,A=e.selection,g=e.schema,m=g.getBlockElements(),v=A.getStart(),y=e.getBody(),b=-16777215;if(h=f.forced_root_block,v&&1===v.nodeType&&h){for(;v&&v!==y;){if(m[v.nodeName])return;v=v.parentNode}if((t=A.getRng()).setStart){n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset;try{c=e.getDoc().activeElement===y}catch(e){}}else t.item&&(v=t.item(0),(t=e.getDoc().body.createTextRange()).moveToElementText(v)),c=t.parentElement().ownerDocument===e.getDoc(),(u=t.duplicate()).collapse(!0),i=-1*u.move("character",b),u.collapsed||((u=t.duplicate()).collapse(!1),o=-1*u.move("character",b)-i);for(v=y.firstChild,d=y.nodeName.toLowerCase();v;)if((3===v.nodeType||1==v.nodeType&&!m[v.nodeName])&&g.isValidChild(d,h.toLowerCase())){if(3===v.nodeType&&0===v.nodeValue.length){s=v,v=v.nextSibling,p.remove(s);continue}a||(a=p.create(h,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),l=!0),s=v,v=v.nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;if(l&&c){if(t.setStart)t.setStart(n,i),t.setEnd(r,o),A.setRng(t);else try{(t=e.getDoc().body.createTextRange()).moveToElementText(y),t.collapse(!0),t.moveStart("character",i),o>0&&t.moveEnd("character",o),t.select()}catch(e){}e.nodeChanged()}}};return{setup:function(n){n.settings.forced_root_block&&n.on("NodeChange",e.curry(t,n))}}})),i("tinymce.core.dom.Dimensions",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect"],(function(e,t,n){return{getClientRects:function i(r){function o(t){return e.map(t,(function(e){return(e=n.clone(e)).node=r,e}))}if(e.isArray(r))return e.reduce(r,(function(e,t){return e.concat(i(t))}),[]);if(t.isElement(r))return o(r.getClientRects());if(t.isText(r)){var a=r.ownerDocument.createRange();return a.setStart(r,0),a.setEnd(r,r.data.length),o(a.getClientRects())}}}})),i("tinymce.core.caret.LineUtils",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.Dimensions","tinymce.core.geom.ClientRect","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretCandidate"],(function(e,t,n,i,r,o,a){var s=n.isContentEditableFalse,l=o.findNode,c=e.curry;function u(e,t){return Math.abs(e.left-t)}function d(e,t){return Math.abs(e.right-t)}function h(e,n){function i(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,(function(e,t){var r,o;return r=Math.min(u(e,n),d(e,n)),o=Math.min(u(t,n),d(t,n)),i(n,t)?t:i(n,e)?e:o==r&&s(t.node)||o<r?t:e}))}function f(e,t,n,i){for(;i=l(i,e,a.isEditableCaretCandidate,t);)if(n(i))return}function p(e,n){var o=[];function a(e,r){var a;return a=t.filter(i.getClientRects(r),(function(t){return!e(t,n)})),o=o.concat(a),0===a.length}return o.push(n),f(-1,e,c(a,r.isAbove),n.node),f(1,e,c(a,r.isBelow),n.node),o}return{findClosestClientRect:h,findLineNodeRects:p,closestCaret:function(e,n,r){var o,a;return o=i.getClientRects(function(e){return t.filter(t.toArray(e.getElementsByTagName("*")),s)}(e)),(a=h(o=t.filter(o,(function(e){return r>=e.top&&r<=e.bottom})),n))&&(a=h(p(e,a),n))&&s(a.node)?function(e,t){return{node:e.node,before:u(e,t)<d(e,t)}}(a,n):null}}})),i("tinymce.core.caret.LineWalker",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.Dimensions","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition","tinymce.core.geom.ClientRect"],(function(e,t,n,i,r,o,a,s){var l=e.curry;function c(e,o,a,s,l,c){var u,d,h=0,f=[];function p(i){var r,s,c;for(c=n.getClientRects(i),-1==e&&(c=c.reverse()),r=0;r<c.length;r++)if(s=c[r],!a(s,d)){if(f.length>0&&o(s,t.last(f))&&h++,s.line=h,l(s))return!0;f.push(s)}}return(d=t.last(c.getClientRects()))?(p(u=c.getNode()),function(e,t,n,o){for(;o=r.findNode(o,e,i.isEditableCaretCandidate,t);)if(n(o))return}(e,s,p,u),f):f}return{upUntil:l(c,-1,s.isAbove,s.isBelow),downUntil:l(c,1,s.isBelow,s.isAbove),positionsUntil:function(e,n,i,r){var l,c,u,d,h,f,p=new o(n),A=[],g=0;function m(e){return t.last(e.getClientRects())}1==e?(l=p.next,c=s.isBelow,u=s.isAbove,d=a.after(r)):(l=p.prev,c=s.isAbove,u=s.isBelow,d=a.before(r)),f=m(d);do{if(d.isVisible()&&!u(h=m(d),f)){if(A.length>0&&c(h,t.last(A))&&g++,(h=s.clone(h)).position=d,h.line=g,i(h))return A;A.push(h)}}while(d=l(d));return A},isAboveLine:l((function(e,t){return t.line>e})),isLine:l((function(e,t){return t.line===e}))}})),i("tinymce.core.keyboard.CefUtils",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun"],(function(e,t,n,i){var r=n.isContentEditableTrue,o=n.isContentEditableFalse,a=function(e,t,n,i){return t._selectionOverrides.showCaret(e,n,i)},s=function(n,s){var l,c;return s=t.normalizeRange(1,n.getBody(),s),l=e.fromRangeStart(s),o(l.getNode())?a(1,n,l.getNode(),!l.isAtEnd()):o(l.getNode(!0))?a(1,n,l.getNode(!0),!1):(c=n.dom.getParent(l.getNode(),i.or(o,r)),o(c)?a(1,n,c,!1):null)};return{showCaret:a,selectNode:function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(t)},renderCaretAtRange:s,renderRangeCaret:function(e,t){return t&&t.collapsed&&s(e,t)||t}}})),i("tinymce.core.keyboard.CefNavigation",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.LineUtils","tinymce.core.caret.LineWalker","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.keyboard.CefUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],(function(e,t,n,i,r,o,a,s,l,c,u,d){var h=a.isContentEditableFalse,f=s.getSelectedNode,p=n.isAfterContentEditableFalse,A=n.isBeforeContentEditableFalse,g=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},m=function(e,i,r){return r=n.normalizeRange(e,i,r),-1===e?t.fromRangeStart(r):t.fromRangeEnd(r)},v=function(e,n,r){var o,a,s=new i(e.getBody()),c=d.curry(g,s.next),u=d.curry(g,s.prev);if(r.collapsed&&e.settings.forced_root_block){if(!(o=e.dom.getParent(r.startContainer,"PRE")))return;(1===n?c(t.fromRangeStart(r)):u(t.fromRangeStart(r)))||(a=function(e){var t=e.dom.create(e.settings.forced_root_block);return(!l.ie||l.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}(e),1===n?e.$(o).after(a):e.$(o).before(a),e.selection.select(a,!0),e.selection.collapse())}};return{moveH:function(t,r){return function(){var o=function(t,r){var o,s=new i(t.getBody()),l=d.curry(g,s.next),u=d.curry(g,s.prev),y=r?1:-1,b=r?l:u,w=r?A:p,x=t.selection.getRng();return(o=function(t,i,r,o,s){var l,u,d,p,A,g,v;return!s.collapsed&&(l=f(s),h(l))?c.showCaret(t,i,l,-1===t):(p=function(t){return e.isCaretContainerBlock(t.startContainer)}(s),o(u=m(t,i.getBody(),s))?c.selectNode(i,u.getNode(-1===t)):(u=r(u))?o(u)?c.showCaret(t,i,u.getNode(-1===t),1===t):o(d=r(u))&&(A=u,g=d,!(v=n.isInSameBlock(A,g))&&a.isBr(A.getNode())||v)?c.showCaret(t,i,d.getNode(-1===t),1===t):p?c.renderRangeCaret(i,u.toRange()):null:p?s:null)}(y,t,b,w,x))?o:(o=v(t,y,x))||null}(t,r);return!!o&&(t.selection.setRng(o),!0)}},moveV:function(e,t){return function(){var n=function(e,t){var n,i=t?1:-1,a=t?o.downUntil:o.upUntil,s=e.selection.getRng();return n=function(e,t,n,i){var a,s,l,d,g,v,y,b,w;if(w=f(i),a=m(e,t.getBody(),i),s=n(t.getBody(),o.isAboveLine(1),a),l=u.filter(s,o.isLine(1)),g=u.last(a.getClientRects()),A(a)&&(w=a.getNode()),p(a)&&(w=a.getNode(!0)),!g)return null;if(v=g.left,(d=r.findClosestClientRect(l,v))&&h(d.node))return y=Math.abs(v-d.left),b=Math.abs(v-d.right),c.showCaret(e,t,d.node,y<b);if(w){var x=o.positionsUntil(e,t.getBody(),o.isAboveLine(1),w);if(d=r.findClosestClientRect(u.filter(x,o.isLine(1)),v))return c.renderRangeCaret(t,d.position.toRange());if(d=u.last(u.filter(x,o.isLine(0))))return c.renderRangeCaret(t,d.position.toRange())}}(i,e,a,s),n||(n=v(e,i,s))||null}(e,t);return!!n&&(e.selection.setRng(n),!0)}}}})),i("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],(function(e,t,n){var i=function(e){return function(){for(var i=new t(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];if(0===i.length)throw new n("Can't merge zero objects");for(var o={},a=0;a<i.length;a++){var s=i[a];for(var l in s)s.hasOwnProperty(l)&&(o[l]=e(o[l],s[l]))}return o}},r=i((function(t,n){return e.isObject(t)&&e.isObject(n)?r(t,n):n})),o=i((function(e,t){return t}));return{deepMerge:r,merge:o}})),i("tinymce.core.keyboard.MatchKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Merger"],(function(e,t,n){var i=function(i,r){return e.bind(function(i){return e.map(i,(function(e){return n.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:t.noop},e)}))}(i),(function(e){return function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}(e,r)?[e]:[]}))};return{match:i,action:function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}},execute:function(t,n){return e.find(i(t,n),(function(e){return e.action()}))}}})),i("tinymce.core.keyboard.ArrowKeys",["tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.CefNavigation","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],(function(e,t,n,i){return{setup:function(r,o){r.on("keydown",(function(a){!1===a.isDefaultPrevented()&&function(r,o,a){n.execute([{keyCode:i.RIGHT,action:t.moveH(r,!0)},{keyCode:i.LEFT,action:t.moveH(r,!1)},{keyCode:i.UP,action:t.moveV(r,!1)},{keyCode:i.DOWN,action:t.moveV(r,!0)},{keyCode:i.RIGHT,action:e.move(r,o,!0)},{keyCode:i.LEFT,action:e.move(r,o,!1)}],a).each((function(e){a.preventDefault()}))}(r,o,a)}))}}})),i("tinymce.core.keyboard.DeleteBackspaceKeys",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],(function(e,t,n,i,r,o){return{setup:function(a,s){a.on("keydown",(function(l){!1===l.isDefaultPrevented()&&function(a,s,l){r.execute([{keyCode:o.BACKSPACE,action:r.action(n.backspaceDelete,a,!1)},{keyCode:o.DELETE,action:r.action(n.backspaceDelete,a,!0)},{keyCode:o.BACKSPACE,action:r.action(i.backspaceDelete,a,s,!1)},{keyCode:o.DELETE,action:r.action(i.backspaceDelete,a,s,!0)},{keyCode:o.BACKSPACE,action:r.action(t.backspaceDelete,a,!1)},{keyCode:o.DELETE,action:r.action(t.backspaceDelete,a,!0)},{keyCode:o.BACKSPACE,action:r.action(e.backspaceDelete,a,!1)},{keyCode:o.DELETE,action:r.action(e.backspaceDelete,a,!0)}],l).each((function(e){l.preventDefault()}))}(a,s,l)})),a.on("keyup",(function(e){!1===e.isDefaultPrevented()&&function(e,t){r.execute([{keyCode:o.BACKSPACE,action:r.action(n.paddEmptyElement,e)},{keyCode:o.DELETE,action:r.action(n.paddEmptyElement,e)}],t)}(a,e)}))}}})),i("tinymce.core.keyboard.InsertNewLine",["tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],(function(e,t,n,i,r,o){var a=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},s=function(e){e.innerHTML='<br data-mce-bogus="1">'},l=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},c=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},u=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},d=function(e,n,i){return!1===t.isText(n)?i:e?1===i&&n.data.charAt(i-1)===r.ZWSP?0:i:i===n.data.length-1&&n.data.charAt(i)===r.ZWSP?n.data.length:i},h=function(e,t){e.execCommand("InsertLineBreak",!1,t)},f=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},p=function(e,t){var n=e.settings.forced_root_block;n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,e.settings.forced_root_block_attrs)},A=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},g=function(e,t,n){for(var i=e[n?"firstChild":"lastChild"];i&&1!=i.nodeType;)i=i[n?"nextSibling":"previousSibling"];return i===t};return{insert:function(t,m){var v,y,b,w,x,C,_,k,S,E,T,B,I,D=t.dom,F=t.selection,M=t.settings,L=t.schema,P=L.getNonEmptyElements(),R=t.selection.getRng();function O(e){var t,n,r,o=e,a=L.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var s=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(e.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&e.insertBefore(D.doc.createTextNode(""),e.firstChild)}if(r=D.createRng(),e.normalize(),e.hasChildNodes()){for(t=new i(e,e);n=t.current();){if(3==n.nodeType){r.setStart(n,0),r.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}o=n,n=t.next()}n||(r.setStart(o,0),r.setEnd(o,0))}else"BR"==e.nodeName?e.nextSibling&&D.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));F.setRng(r),D.remove(void 0),F.scrollIntoView(e)}}function N(e){var n,i,r,o=b,a=L.getTextInlineElements();if(e||"TABLE"==E||"HR"==E?(n=D.create(e||B),p(t,n)):n=x.cloneNode(!1),r=n,!1===M.keep_styles)D.setAttrib(n,"style",null),D.setAttrib(n,"class",null);else do{if(a[o.nodeName]){if("_mce_caret"==o.id)continue;i=o.cloneNode(!1),D.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(r=i,n.appendChild(i))}}while((o=o.parentNode)&&o!=y);return s(r),n}function U(e){var t,n,r,o;if(o=d(e,b,w),3==b.nodeType&&(e?o>0:o<b.nodeValue.length))return!1;if(b.parentNode==x&&I&&!e)return!0;if(e&&1==b.nodeType&&b==x.firstChild)return!0;if(l(b,"TABLE")||l(b,"HR"))return I&&!e||!I&&e;for(t=new i(b,x),3==b.nodeType&&(e&&0===o?t.prev():e||o!=b.nodeValue.length||t.next());n=t.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),P[r]&&"br"!==r))return!1}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0}function H(){_=/^(H[1-6]|PRE|FIGURE)$/.test(E)&&"HGROUP"!=T?N(B):N(),M.end_container_on_empty_block&&u(D,S)&&D.isEmpty(x)?_=D.split(S,x):D.insertAfter(_,x),O(_)}if(new n(D).normalize(R),b=R.startContainer,w=R.startOffset,B=(B=(M.force_p_newlines?"p":"")||M.forced_root_block)?B.toUpperCase():"",C=m.shiftKey,1==b.nodeType&&b.hasChildNodes()&&(I=w>b.childNodes.length-1,b=b.childNodes[Math.min(w,b.childNodes.length-1)]||b,w=I&&3==b.nodeType?b.nodeValue.length:0),y=f(D,b))if(D.isBlock(y)||y==D.getRoot()){if((B&&!C||!B&&C)&&(b=function(e,t,n,i,r){var o,a,s,l,c,d,h=t||"P",A=e.dom,g=f(A,i);if(!(a=A.getParent(i,A.isBlock))||!u(A,a)){if(d=(a=a||g)==e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=A.create(h),p(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!=a;)l=l.parentNode;for(;l&&!A.isBlock(l);)s=l,l=l.previousSibling;if(s&&e.schema.isValidChild(d,h.toLowerCase())){for(o=A.create(h),p(e,o),s.parentNode.insertBefore(o,s),l=s;l&&!A.isBlock(l);)c=l.nextSibling,o.appendChild(l),l=c;n.setStart(i,r),n.setEnd(i,r)}}return i}(t,B,R,b,w)),x=D.getParent(b,D.isBlock),S=x?D.getParent(x.parentNode,D.isBlock):null,E=x?x.nodeName.toUpperCase():"","LI"!=(T=S?S.nodeName.toUpperCase():"")||m.ctrlKey||(x=S,S=S.parentNode,E=T),/^(LI|DT|DD)$/.test(E)){if(!B&&C)return void h(t,m);if(D.isEmpty(x))return void(S!=t.getBody()&&(c($=S)&&c($.parentNode)&&(B="LI"),_=B?N(B):D.create("BR"),g(S,x,!0)&&g(S,x,!1)?a(S,"LI")?D.insertAfter(_,A(S)):D.replace(_,S):g(S,x,!0)?a(S,"LI")?(D.insertAfter(_,A(S)),_.appendChild(D.doc.createTextNode(" ")),_.appendChild(S)):S.parentNode.insertBefore(_,S):g(S,x,!1)?D.insertAfter(_,A(S)):(S=A(S),(v=R.cloneRange()).setStartAfter(x),v.setEndAfter(S),k=v.extractContents(),"LI"===B&&function(e,t){return e.firstChild&&"LI"==e.firstChild.nodeName}(k)?(_=k.firstChild,D.insertAfter(k,S)):(D.insertAfter(k,S),D.insertAfter(_,S))),D.remove(x),O(_)))}var $;if("PRE"==E&&!1!==M.br_in_pre){if(!C)return void h(t,m)}else if(!B&&!C&&"LI"!=E||B&&C)return void h(t,m);B&&x===t.getBody()||(B=B||"P",e.isCaretContainerBlock(x)?(_=e.showCaretContainerBlock(x),D.isEmpty(x)&&s(x),O(_)):U()?H():U(!0)?(_=x.parentNode.insertBefore(N(),x),l(x,"HR")?O(_):O(x)):(v=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,d(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,d(!1,e.endContainer,e.endOffset)),t}(R).cloneRange(),v.setEndAfter(x),function(e){do{3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(k=v.extractContents()),_=k.firstChild,D.insertAfter(k,x),function(e,t,n){var i,a=n,s=[];if(a){for(;a=a.firstChild;){if(e.isBlock(a))return;1!=a.nodeType||t[a.nodeName.toLowerCase()]||s.push(a)}for(i=s.length;i--;)(!(a=s[i]).hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue||(l=a)&&"A"===l.nodeName&&0===o.trim(r.trim(l.innerText||l.textContent)).length)&&e.remove(a);var l}}(D,P,_),function(e,t){var n;t.normalize(),(n=t.lastChild)&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(D,x),D.isEmpty(x)&&s(x),_.normalize(),D.isEmpty(_)?(D.remove(_),H()):O(_)),D.setAttrib(_,"id",""),t.fire("NewBlock",{newBlock:_}))}else B&&!C||h(t,m)}}})),i("tinymce.core.keyboard.EnterKey",["tinymce.core.keyboard.InsertNewLine","tinymce.core.util.VK"],(function(e,t){return{setup:function(n){n.on("keydown",(function(i){i.keyCode===t.ENTER&&function(t,n){var i;n.isDefaultPrevented()||(n.preventDefault(),(i=t.undoManager).typing&&(i.typing=!1,i.add()),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),e.insert(t,n)})))}(n,i)}))}}})),i("tinymce.core.keyboard.InsertSpace",["ephox.katamari.api.Fun","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],(function(e,t,n,i,r){var o=function(e,t,i){return!!function(e,t){return a(e)&&n.isText(t.container())}(i,t)&&(function(e,t){var n=t.container(),i=t.offset();n.insertData(i,""),e.selection.setCursorLocation(n,i+1)}(e,t),!0)},a=function(t){return t.fold(e.constant(!1),e.constant(!0),e.constant(!0),e.constant(!1))};return{insertAtSelection:function(n){return!!n.selection.isCollapsed()&&function(n){var a=e.curry(r.isInlineTarget,n),s=t.fromRangeStart(n.selection.getRng());return i.readLocation(a,n.getBody(),s).map(e.curry(o,n,s)).getOr(!1)}(n)}}})),i("tinymce.core.keyboard.SpaceKey",["tinymce.core.keyboard.InsertSpace","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],(function(e,t,n){return{setup:function(i){i.on("keydown",(function(r){!1===r.isDefaultPrevented()&&function(i,r){t.execute([{keyCode:n.SPACEBAR,action:t.action(e.insertAtSelection,i)}],r).each((function(e){r.preventDefault()}))}(i,r)}))}}})),i("tinymce.core.keyboard.KeyboardOverrides",["tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.DeleteBackspaceKeys","tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey"],(function(e,t,n,i,r){return{setup:function(o){var a=t.setupSelectedState(o);e.setup(o,a),n.setup(o,a),i.setup(o),r.setup(o)}}})),i("tinymce.core.NodeChange",["tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.util.Delay"],(function(e,t,n){return function(i){var r,o=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",(function(t){var n,o;o={startContainer:(n=i.selection.getRng()).startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(o,r)||i.fire("SelectionChange"),r=o})),i.on("contextmenu",(function(){i.fire("SelectionChange")})),i.on("SelectionChange",(function(){var e=i.selection.getStart(!0);!e||!t.range&&i.selection.isCollapsed()||!function(e){var t,n;if((n=i.$(e).parentsUntil(i.getBody()).add(e)).length===o.length){for(t=n.length;t>=0&&n[t]===o[t];t--);if(-1===t)return o=n,!0}return o=n,!1}(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})})),i.on("MouseUp",(function(e){e.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?n.setEditorTimeout(i,(function(){i.nodeChanged()})):i.nodeChanged())})),this.nodeChanged=function(e){var t,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),(t=o.getStart(!0)||r).ownerDocument==i.getDoc()&&i.dom.isChildOf(t,r)||(t=r),n=[],i.dom.getParent(t,(function(e){if(e===r)return!0;n.push(e)})),(e=e||{}).element=t,e.parents=n,i.fire("NodeChange",e))}}})),i("tinymce.core.dom.MousePosition",[],(function(){var e=function(e){var t,n,i,r;return r=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}};return{calc:function(t,n){return i=function(t){return t.inline?e(t.getBody()):{left:0,top:0}}(t),r=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(t),o=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var i=e(t.getContentAreaContainer()),r=function(e){var t=e.getBody(),n=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?i:r}(t);return{left:n.pageX-i.left+r.left,top:n.pageY-i.top+r.top}}return{left:n.pageX,top:n.pageY}}(t,n),{pageX:o.left-i.left+r.left,pageY:o.top-i.top+r.top};var i,r,o}}})),i("tinymce.core.DragDropOverrides",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Delay","tinymce.core.dom.DOMUtils","tinymce.core.dom.MousePosition"],(function(e,t,n,i,r,o){var a=e.isContentEditableFalse,s=e.isContentEditableTrue,l=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},c=function(e){e.dragging=!1,e.element=null,l(e.ghost)},u=function(e){var u,d,h,f,p,A,g={};u=r.DOM,A=document,d=function(e,i){return function(r){if(function(e){return 0===e.button}(r)){var o=t.find(i.dom.getParents(r.target),n.or(a,s));if(d=i.getBody(),a(h=o)&&h!==d){var l=i.dom.getPos(o),c=i.getBody(),u=i.getDoc().documentElement;e.element=o,e.screenX=r.screenX,e.screenY=r.screenY,e.maxX=(i.inline?c.scrollWidth:u.offsetWidth)-2,e.maxY=(i.inline?c.scrollHeight:u.offsetHeight)-2,e.relX=r.pageX-l.x,e.relY=r.pageY-l.y,e.width=o.offsetWidth,e.height=o.offsetHeight,e.ghost=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(i,o,e.width,e.height)}}var d,h}}(g,e),h=function(e,t){var n=i.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return function(i){var r,a,s=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(function(e){return e.element}(e)&&!e.dragging&&s>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var l=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,o.calc(t,i));r=e.ghost,a=t.getBody(),r.parentNode!==a&&a.appendChild(r),function(e,t,n,i,r,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(a=t.pageX+n-r),t.pageY+i>o&&(s=t.pageY+i-o),e.style.width=n-a+"px",e.style.height=i-s+"px"}(e.ghost,l,e.width,e.height,e.maxX,e.maxY),n(i.clientX,i.clientY)}}}(g,e),f=function(e,t){return function(n){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!a(t)}(t,3===(s=t.selection.getSel().getRangeAt(0).startContainer).nodeType?s.parentNode:s,e.element)){var i=((o=e.element.cloneNode(!0)).removeAttribute("data-mce-selected"),o),r=t.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,t.undoManager.transact((function(){l(e.element),t.insertContent(t.dom.getOuterHTML(i)),t._selectionOverrides.hideFakeCaret()})))}var o,s;c(e)}}(g,e),p=function(e,t){return function(){c(e),e.dragging&&t.fire("dragend")}}(g,e),e.on("mousedown",d),e.on("mousemove",h),e.on("mouseup",f),u.bind(A,"mousemove",h),u.bind(A,"mouseup",p),e.on("remove",(function(){u.unbind(A,"mousemove",h),u.unbind(A,"mouseup",p)}))};return{init:function(e){u(e),function(e){e.on("drop",(function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(a(n)||a(e.dom.getContentEditableParent(n)))&&t.preventDefault()}))}(e)}}})),i("tinymce.core.caret.FakeCaret",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.dom.DomQuery","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.geom.ClientRect","tinymce.core.util.Delay"],(function(e,t,n,i,r,o,a,s){var l=r.isContentEditableFalse;return function(n,r){var o,c,u;function d(){!function(){var t,r,o,a,s;for(t=i("*[contentEditable=false]",n),a=0;a<t.length;a++)o=(r=t[a]).previousSibling,e.endsWithCaretContainer(o)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=r.nextSibling,e.startsWithCaretContainer(o)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1))}(),u&&(t.remove(u),u=null),c&&(c.remove(),c=null),clearInterval(o)}return{show:function(t,h){var f,p;return d(),function(e){return e&&/^(TD|TH)$/i.test(e.nodeName)}(h)?null:r(h)?(u=e.insertBlock("p",h,t),f=function(e,t){var i,r,o,s,l,c=a.collapse(e.getBoundingClientRect(),t);return"BODY"==n.tagName?(i=n.ownerDocument.documentElement,r=n.scrollLeft||i.scrollLeft,o=n.scrollTop||i.scrollTop):(l=n.getBoundingClientRect(),r=n.scrollLeft-l.left,o=n.scrollTop-l.top),c.left+=r,c.right+=r,c.top+=o,c.bottom+=o,c.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(t&&(s*=-1),c.left+=s,c.right+=s),c}(h,t),i(u).css("top",f.top),c=i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(f).appendTo(n),t&&c.addClass("mce-visual-caret-before"),o=s.setInterval((function(){i("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden")}),500),(p=h.ownerDocument.createRange()).setStart(u,0),p.setEnd(u,0),p):(u=e.insertInline(h,t),p=h.ownerDocument.createRange(),l(u.nextSibling)?(p.setStart(u,0),p.setEnd(u,0)):(p.setStart(u,1),p.setEnd(u,1)),p)},hide:d,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){s.clearInterval(o)}}}})),i("tinymce.core.SelectionOverrides",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","tinymce.core.DragDropOverrides","tinymce.core.EditorView","tinymce.core.Env","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.FakeCaret","tinymce.core.caret.LineUtils","tinymce.core.dom.ElementType","tinymce.core.dom.NodeType","tinymce.core.dom.RangePoint","tinymce.core.keyboard.CefUtils","tinymce.core.util.Delay","tinymce.core.util.VK"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b){var w=g.isContentEditableTrue,x=g.isContentEditableFalse,C=d.isAfterContentEditableFalse,_=d.isBeforeContentEditableFalse;return function(g){var k,S,E,T=g.getBody(),B=new f(g.getBody(),(function(e){return g.dom.isBlock(e)})),I="sel-"+g.dom.uniqueId();function D(e){e&&g.selection.setRng(e)}function F(){return g.selection.getRng()}function M(e,t){g.selection.scrollIntoView(e,t)}function L(e,t,n){return g.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(M(t,-1===e),B.show(n,t))}function P(e,t){return t=d.normalizeRange(e,T,t),-1==e?u.fromRangeStart(t):u.fromRangeEnd(t)}function R(e){return c.isCaretContainer(e)||c.startsWithCaretContainer(e)||c.endsWithCaretContainer(e)}function O(e){return R(e.startContainer)||R(e.endContainer)}function N(t,a){var s,c,u,d,h,f,p,A,m,v,y=g.$,b=g.dom;if(!t)return null;if(t.collapsed){if(!O(t))if(!1===a){if(A=P(-1,t),x(A.getNode(!0)))return L(-1,A.getNode(!0),!1);if(x(A.getNode()))return L(-1,A.getNode(),!A.isAtEnd())}else{if(A=P(1,t),x(A.getNode()))return L(1,A.getNode(),!A.isAtEnd());if(x(A.getNode(!0)))return L(1,A.getNode(!0),!1)}return null}return d=t.startContainer,h=t.startOffset,f=t.endOffset,3==d.nodeType&&0==h&&x(d.parentNode)&&(d=d.parentNode,h=b.nodeIndex(d),d=d.parentNode),1!=d.nodeType?null:(f==h+1&&(s=d.childNodes[h]),x(s)?(m=v=s.cloneNode(!0),(p=g.fire("ObjectSelected",{target:s,targetClone:m})).isDefaultPrevented()?null:(c=o.descendant(n.fromDom(g.getBody()),"#"+I).fold((function(){return y([])}),(function(e){return y([e.dom()])})),m=p.targetClone,0===c.length&&(c=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",I)).appendTo(g.getBody()),t=g.dom.createRng(),m===v&&l.ie?(c.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(m),t.setStartAfter(c[0].firstChild.firstChild),t.setEndAfter(m)):(c.empty().append("").append(m).append(""),t.setStart(c[0].firstChild,1),t.setEnd(c[0].lastChild,0)),c.css({top:b.getPos(s,g.getBody()).y}),c[0].focus(),(u=g.selection.getSel()).removeAllRanges(),u.addRange(t),e.each(r.descendants(n.fromDom(g.getBody()),"*[data-mce-selected]"),(function(e){i.remove(e,"data-mce-selected")})),s.setAttribute("data-mce-selected",1),k=s,H(),t)):null)}function U(){k&&(k.removeAttribute("data-mce-selected"),o.descendant(n.fromDom(g.getBody()),"#"+I).each(t.remove),k=null)}function H(){B.hide()}return l.ceFalse&&(function(){function e(e){for(var t=g.getBody();e&&e!=t;){if(w(e)||x(e))return e;e=e.parentNode}return null}g.on("mouseup",(function(e){var t=F();t.collapsed&&s.isXYInContentArea(g,e.clientX,e.clientY)&&D(v.renderCaretAtRange(g,t))})),g.on("click",(function(t){var n;(n=e(t.target))&&(x(n)&&(t.preventDefault(),g.focus()),w(n)&&g.dom.isChildOf(n,g.selection.getNode())&&U())})),g.on("blur NewBlock",(function(){U(),H()}));!function(t){var n=!1;t.on("touchstart",(function(){n=!1})),t.on("touchmove",(function(){n=!0})),t.on("touchend",(function(i){var r=e(i.target);x(r)&&(n||(i.preventDefault(),N(v.selectNode(t,r))))}))}(g),g.on("mousedown",(function(t){var i,r,o,a,l,c,d;if(!1!==s.isXYInContentArea(g,t.clientX,t.clientY))if(i=e(t.target))x(i)?(t.preventDefault(),N(v.selectNode(g,i))):(U(),w(i)&&t.shiftKey||m.isXYWithinRange(t.clientX,t.clientY,g.selection.getRng())||(A.isVoid(n.fromDom(t.target))?g.selection.select(t.target):g.selection.placeCaretAt(t.clientX,t.clientY)));else{U(),H();var f=p.closestCaret(T,t.clientX,t.clientY);f&&(r=t.target,o=f.node,c=g.dom.getParent(r,g.dom.isBlock),d=g.dom.getParent(o,g.dom.isBlock),c&&(a=c,l=d,g.dom.getParent(a,g.dom.isBlock)!==g.dom.getParent(l,g.dom.isBlock))&&function(e){var t=new h(e);if(!e.firstChild)return!1;var n=u.before(e.firstChild),i=t.next(n);return i&&!_(i)&&!C(i)}(c)||(t.preventDefault(),g.getBody().focus(),D(L(1,f.node,f.before))))}})),g.on("keypress",(function(e){b.modifierPressed(e)||(e.keyCode,x(g.selection.getNode())&&e.preventDefault())})),g.on("getSelectionRange",(function(e){var t=e.range;if(k){if(!k.parentNode)return void(k=null);(t=t.cloneRange()).selectNode(k),e.range=t}})),g.on("setSelectionRange",(function(e){var t;(t=N(e.range,e.forward))&&(e.range=t)})),g.on("AfterSetSelectionRange",(function(e){var t,n=e.range;O(n)||H(),t=n.startContainer.parentNode,g.dom.hasClass(t,"mce-offscreen-selection")||U()})),g.on("focus",(function(){y.setEditorTimeout(g,(function(){g.selection.setRng(v.renderRangeCaret(g,g.selection.getRng()))}),0)})),g.on("copy",(function(e){var t,n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!l.ie){var i=(t=g.dom.get(I))?t.getElementsByTagName("*")[0]:t;i&&(e.preventDefault(),n.clearData(),n.setData("text/html",i.outerHTML),n.setData("text/plain",i.outerText))}})),a.init(g)}(),E=".mce-content-body",(S=g.contentStyles).push(B.getCss()),S.push(E+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+E+" *[contentEditable=false] {cursor: default;}"+E+" *[contentEditable=true] {cursor: text;}")),{showCaret:L,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(c.showCaretContainerBlock(e),D(F()),M(e[0]))},hideFakeCaret:H,destroy:function(){B.destroy(),k=null}}}})),i("tinymce.core.undo.Diff",[],(function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(e,t){var n=e.length+t.length+2,i=new Array(n),r=new Array(n),o=function(n,i,r,a,l){var c=s(n,i,r,a);if(null===c||c.start===i&&c.diag===i-a||c.end===n&&c.diag===n-r)for(var u=n,d=r;u<i||d<a;)u<i&&d<a&&e[u]===t[d]?(l.push([0,e[u]]),++u,++d):i-n>a-r?(l.push([2,e[u]]),++u):(l.push([1,t[d]]),++d);else{o(n,c.start,r,c.start-c.diag,l);for(var h=c.start;h<c.end;++h)l.push([0,e[h]]);o(c.end,i,c.end-c.diag,a,l)}},a=function(n,i,r,o){for(var a=n;a-i<o&&a<r&&e[a]===t[a-i];)++a;return function(e,t,n){return{start:e,end:t,diag:n}}(n,a,i)},s=function(n,o,s,l){var c=o-n,u=l-s;if(0===c||0===u)return null;var d=c-u,h=u+c,f=(h%2==0?h:h+1)/2;i[1+f]=n,r[1+f]=o+1;for(var p=0;p<=f;++p){for(var A=-p;A<=p;A+=2){var g=A+f;A===-p||A!=p&&i[g-1]<i[g+1]?i[g]=i[g+1]:i[g]=i[g-1]+1;for(var m=i[g],v=m-n+s-A;m<o&&v<l&&e[m]===t[v];)i[g]=++m,++v;if(d%2!=0&&d-p<=A&&A<=d+p&&r[g-d]<=i[g])return a(r[g-d],A+n-s,o,l)}for(A=d-p;A<=d+p;A+=2){for(g=A+f-d,A===d-p||A!=d+p&&r[g+1]<=r[g-1]?r[g]=r[g+1]-1:r[g]=r[g-1],v=(m=r[g]-1)-n+s-A;m>=n&&v>=s&&e[m]===t[v];)r[g]=m--,v--;if(d%2==0&&-p<=A&&A<=p&&r[g]<=i[g+d])return a(r[g],A+n-s,o,l)}}},l=[];return o(0,e.length,0,t.length,l),l}}})),i("tinymce.core.undo.Fragments",["tinymce.core.util.Arr","tinymce.core.html.Entities","tinymce.core.undo.Diff"],(function(e,t,n){var i=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""};return{read:function(t){return e.filter(e.map(t.childNodes,i),(function(e){return e.length>0}))},write:function(t,r){var o=e.map(r.childNodes,i);return function(t,i){var r=0;e.each(t,(function(e){e[0]===n.KEEP?r++:e[0]===n.INSERT?(function(e,t,n){var i=function(e){var t,n,i;for(i=document.createElement("div"),t=document.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var r=e.childNodes[n];r.parentNode.insertBefore(i,r)}else e.appendChild(i)}(i,e[1],r),r++):e[0]===n.DELETE&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(i,r)}))}(n.diff(o,t),r),r}}})),i("tinymce.core.undo.Levels",["tinymce.core.util.Arr","tinymce.core.undo.Fragments"],(function(e,t){var n=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},i=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},r=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content};return{createFragmentedLevel:n,createCompleteLevel:i,createFromEditor:function(r){var o,a,s;return o=t.read(r.getBody()),-1!==(a=(s=e.map(o,(function(e){return r.serializer.trimContent(e)}))).join("")).indexOf("</iframe>")?n(s):i(a)},applyToEditor:function(e,n,i){"fragmented"===n.type?t.write(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(i?n.beforeBookmark:n.bookmark)},isEq:function(e,t){return!!e&&!!t&&r(e)===r(t)}}})),i("tinymce.core.UndoManager",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.undo.Levels"],(function(e,t,n){return function(e){var i,r,o=this,a=0,s=[],l=0,c=function(){return 0===l},u=function(e){c()&&(o.typing=e)};function d(t){e.setDirty(t)}function h(e){u(!1),o.add({},e)}function f(){o.typing&&(u(!1),o.add())}return e.on("init",(function(){o.add()})),e.on("BeforeExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(f(),o.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&h(e)})),e.on("ObjectResizeStart Cut",(function(){o.beforeChange()})),e.on("SaveContent ObjectResized blur",h),e.on("DragEnd",h),e.on("KeyUp",(function(t){var i=t.keyCode;t.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||t.ctrlKey)&&(h(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r&&o.typing&&!1===n.isEq(n.createFromEditor(e),s[0])&&(!1===e.isDirty()&&(d(!0),e.fire("change",{level:s[0],lastLevel:null})),e.fire("TypingUndo"),r=!1,e.nodeChanged()))})),e.on("KeyDown",(function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(t>=33&&t<=36||t>=37&&t<=40||45===t)o.typing&&h(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||o.typing||n||(o.beforeChange(),u(!0),o.add({},e),r=!0)}})),e.on("MouseDown",(function(e){o.typing&&h(e)})),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()})),o={data:s,typing:!1,beforeChange:function(){c()&&(i=e.selection.getBookmark(2,!0))},add:function(r,o){var l,u,h,f=e.settings;if(h=n.createFromEditor(e),r=r||{},r=t.extend(r,h),!1===c()||e.removed)return null;if(u=s[a],e.fire("BeforeAddUndo",{level:r,lastLevel:u,originalEvent:o}).isDefaultPrevented())return null;if(u&&n.isEq(u,r))return null;if(s[a]&&(s[a].beforeBookmark=i),f.custom_undo_redo_levels&&s.length>f.custom_undo_redo_levels){for(l=0;l<s.length-1;l++)s[l]=s[l+1];s.length--,a=s.length}r.bookmark=e.selection.getBookmark(2,!0),a<s.length-1&&(s.length=a+1),s.push(r),a=s.length-1;var p={level:r,lastLevel:u,originalEvent:o};return e.fire("AddUndo",p),a>0&&(d(!0),e.fire("change",p)),r},undo:function(){var t;return o.typing&&(o.add(),o.typing=!1,u(!1)),a>0&&(t=s[--a],n.applyToEditor(e,t,!0),d(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return a<s.length-1&&(t=s[++a],n.applyToEditor(e,t,!1),d(!0),e.fire("redo",{level:t})),t},clear:function(){s=[],a=0,o.typing=!1,o.data=s,e.fire("ClearUndos")},hasUndo:function(){return a>0||o.typing&&s[0]&&!n.isEq(n.createFromEditor(e),s[0])},hasRedo:function(){return a<s.length-1&&!o.typing},transact:function(e){return f(),o.beforeChange(),o.ignore(e),o.add()},ignore:function(e){try{l++,e()}finally{l--}},extra:function(t,i){var r,l;o.transact(t)&&(l=s[a].bookmark,r=s[a-1],n.applyToEditor(e,r,!0),o.transact(i)&&(s[a-1].beforeBookmark=l))}}}})),i("tinymce.core.dom.NodePath",["tinymce.core.dom.DOMUtils"],(function(e){return{create:function(t,n,i){for(var r=[];n&&n!=t;n=n.parentNode)r.push(e.nodeIndex(n,i));return r},resolve:function(e,t){var n,i,r;for(i=e,n=t.length-1;n>=0;n--){if(r=i.childNodes,t[n]>r.length-1)return null;i=r[t[n]]}return i}}})),i("tinymce.core.util.Quirks",["tinymce.core.util.VK","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodePath","tinymce.core.html.Node","tinymce.core.html.Entities","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker"],(function(e,t,n,i,r,o,a,s,l,c,u,d){return function(n){var i,u=s.each,d=e.BACKSPACE,h=e.DELETE,f=n.dom,p=n.selection,A=n.settings,g=n.parser,m=n.serializer,v=a.gecko,y=a.ie,b=a.webkit,w="data:text/mce-internal,",x=y?"Text":"URL";function C(e,t){try{n.getDoc().execCommand(e,!1,t)}catch(e){}}function _(){return n.getDoc().documentMode||6}function k(e){return e.isDefaultPrevented()}function S(){n.shortcuts.add("meta+a",null,"SelectAll")}function E(){n.on("keydown",(function(e){if(!k(e)&&e.keyCode===d){if(!n.getBody().getElementsByTagName("hr").length)return;if(p.isCollapsed()&&0===p.getRng(!0).startOffset){var t=p.getNode(),i=t.previousSibling;if("HR"==t.nodeName)return f.remove(t),void e.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(f.remove(i),e.preventDefault())}}}))}function T(){n.on("keydown",(function(e){if(!k(e)&&e.keyCode===d&&p.isCollapsed()&&0===p.getRng(!0).startOffset){var t=p.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))}function B(){n.inline||(n.contentStyles.push("body {min-height: 150px}"),n.on("click",(function(e){var t;if("HTML"==e.target.nodeName){if(a.ie>11)return void n.getBody().focus();t=n.selection.getRng(),n.getBody().focus(),n.selection.setRng(t),n.selection.normalize(),n.nodeChanged()}})))}return n.on("keydown",(function(t){var i,r,o,a,s;if(!k(t)&&t.keyCode==e.BACKSPACE&&(r=(i=p.getRng()).startContainer,o=i.startOffset,a=f.getRoot(),s=r,i.collapsed&&0===o)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=a;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(n.formatter.toggle("blockquote",null,s),(i=f.createRng()).setStart(r,0),i.setEnd(r,0),p.setRng(i))}})),function(){function e(e){var t=f.create("body"),n=e.cloneContents();return t.appendChild(n),p.serializer.serialize(t,{format:"html"})}n.on("keydown",(function(i){var r,o,a=i.keyCode;if(!k(i)&&(a==h||a==d)){if(r=n.selection.isCollapsed(),o=n.getBody(),r&&!f.isEmpty(o))return;if(!r&&!function(i){if(!i.setStart){if(i.item)return!1;var r=i.duplicate();return r.moveToElementText(n.getBody()),t.compareRanges(i,r)}var o=e(i),a=f.createRng();return a.selectNode(n.getBody()),o===e(a)}(n.selection.getRng()))return;i.preventDefault(),n.setContent(""),o.firstChild&&f.isBlock(o.firstChild)?n.selection.setCursorLocation(o.firstChild,0):n.selection.setCursorLocation(o,0),n.nodeChanged()}}))}(),a.windowsPhone||n.on("keyup focusin mouseup",(function(t){65==t.keyCode&&e.metaKeyPressed(t)||("keyup"!==t.type||n.selection.isCollapsed())&&p.normalize()}),!0),b&&(n.settings.content_editable||f.bind(n.getDoc(),"mousedown mouseup",(function(e){var t;if(e.target==n.getDoc().documentElement)if(t=p.getRng(),n.getBody().focus(),"mousedown"==e.type){if(c.isCaretContainer(t.startContainer))return;p.placeCaretAt(e.clientX,e.clientY)}else p.setRng(t)})),n.on("click",(function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==f.getContentEditableParent(t)&&(e.preventDefault(),n.selection.select(t),n.nodeChanged()),"A"==t.nodeName&&f.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),p.select(t))})),A.forced_root_block&&n.on("init",(function(){C("DefaultParagraphSeparator",A.forced_root_block)})),n.on("init",(function(){n.dom.bind(n.getBody(),"submit",(function(e){e.preventDefault()}))})),T(),g.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})),a.iOS?(n.inline||n.on("keydown",(function(){document.activeElement==document.body&&n.getWin().focus()})),B(),n.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),n.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):S()),y&&a.ie<11&&(E(),document.body.setAttribute("role","application"),_()>7||(C("RespectVisibilityInDesign",!0),n.contentStyles.push(".mceHideBrInPre pre br {display: none}"),f.addClass(n.getBody(),"mceHideBrInPre"),g.addNodeFilter("pre",(function(e){for(var t,n,i,o,a=e.length;a--;)for(n=(t=e[a].getAll("br")).length;n--;)(o=(i=t[n]).prev)&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new r("#text",3),i,!0).value="\n"})),m.addNodeFilter("pre",(function(e){for(var t,n,i,r=e.length;r--;)for(n=(t=e[r].getAll("br")).length;n--;)(i=t[n].prev)&&3==i.type&&(i.value=i.value.replace(/\r?\n$/,""))}))),f.bind(n.getBody(),"mouseup",(function(){var e,t=p.getNode();"IMG"==t.nodeName&&((e=f.getStyle(t,"width"))&&(f.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),f.setStyle(t,"width","")),(e=f.getStyle(t,"height"))&&(f.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),f.setStyle(t,"height","")))})),n.on("keydown",(function(e){var t;k(e)||e.keyCode!=d||(t=n.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),n.undoManager.beforeChange(),f.remove(t.item(0)),n.undoManager.add())})),_()>=10&&(i="",u("p div h1 h2 h3 h4 h5 h6".split(" "),(function(e,t){i+=(t>0?",":"")+e+":empty"})),n.contentStyles.push(i+"{padding-right: 1px !important}")),_()<9&&(g.addNodeFilter("noscript",(function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).firstChild)&&t.attr("data-mce-innertext",n.value)})),m.addNodeFilter("noscript",(function(e){for(var t,n,i,a=e.length;a--;)t=e[a],(n=e[a].firstChild)?n.value=o.decode(n.value):(i=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new r("#text",3)).value=i,n.raw=!0,t.append(n))}))),function(){var e,t,n,i=f.doc,r=i.body;function o(e,t){var n=r.createTextRange();try{n.moveToPoint(e,t)}catch(e){n=null}return n}function a(e){var n;e.button?(n=o(e.x,e.y))&&(n.compareEndPoints("StartToStart",t)>0?n.setEndPoint("StartToStart",t):n.setEndPoint("EndToEnd",t),n.select()):s()}function s(){var n=i.selection.createRange();t&&!n.item&&0===n.compareEndPoints("StartToEnd",n)&&t.select(),f.unbind(i,"mouseup",s),f.unbind(i,"mousemove",a),t=e=0}i.documentElement.unselectable=!0,f.bind(i,"mousedown contextmenu",(function(r){if("HTML"===r.target.nodeName){if(e&&s(),(n=i.documentElement).scrollHeight>n.clientHeight)return;e=1,(t=o(r.x,r.y))&&(f.bind(i,"mouseup",s),f.bind(i,"mousemove",a),f.getRoot().focus(),t.select())}}))}()),a.ie>=11&&(B(),T()),a.ie&&(S(),C("AutoUrlDetect",!1),n.on("dragstart",(function(e){!function(e){var t,i;e.dataTransfer&&(n.selection.isCollapsed()&&"IMG"==e.target.tagName&&p.select(e.target),(t=n.selection.getContent()).length>0&&(i=w+escape(n.id)+","+escape(t),e.dataTransfer.setData(x,i)))}(e)})),n.on("drop",(function(e){if(!k(e)){var i=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(x))&&t.indexOf(w)>=0?(t=t.substr(23).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}(e);if(i&&i.id!=n.id){e.preventDefault();var r=t.getCaretRangeFromPoint(e.x,e.y,n.getDoc());p.setRng(r),o=i.html,!0,n.queryCommandSupported("mceInsertClipboardContent")?n.execCommand("mceInsertClipboardContent",!1,{content:o,internal:true}):n.execCommand("mceInsertContent",!1,o)}}var o}))),v&&(E(),window.Range.prototype.getClientRects||n.on("mousedown",(function(e){if(!k(e)&&"HTML"===e.target.nodeName){var t=n.getBody();t.blur(),l.setEditorTimeout(n,(function(){t.focus()}))}})),function(){function e(){var e=f.getAttribs(p.getStart().cloneNode(!1));return function(){var t=p.getStart();t!==n.getBody()&&(f.setAttrib(t,"style",null),u(e,(function(e){t.setAttributeNode(e.cloneNode(!0))})))}}function t(){return!p.isCollapsed()&&f.getParent(p.getStart(),f.isBlock)!=f.getParent(p.getEnd(),f.isBlock)}n.on("keypress",(function(i){var r;if(!k(i)&&(8==i.keyCode||46==i.keyCode)&&t())return r=e(),n.getDoc().execCommand("delete",!1,null),r(),i.preventDefault(),!1})),f.bind(n.getDoc(),"cut",(function(i){var r;!k(i)&&t()&&(r=e(),l.setEditorTimeout(n,(function(){r()})))}))}(),A.readonly||n.on("BeforeExecCommand MouseDown",(function(){C("StyleWithCSS",!1),C("enableInlineTableEditing",!1),A.object_resizing||C("enableObjectResizing",!1)})),n.on("SetContent ExecCommand",(function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||u(f.select("a"),(function(e){var t=e.parentNode,n=f.getRoot();if(t.lastChild===e){for(;t&&!f.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}f.add(t,"br",{"data-mce-bogus":1})}}))})),n.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),a.mac&&n.on("keydown",(function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),n.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))})),T()),{refreshContentEditable:function(){},isHidden:function(){var e;return!v||n.removed?0:!(e=n.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}})),i("tinymce.core.init.InitContentBody",["ephox.sugar.api.dom.Insert","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","global!document","global!window","tinymce.core.api.Formatter","tinymce.core.caret.CaretContainerInput","tinymce.core.dom.DOMUtils","tinymce.core.dom.Selection","tinymce.core.dom.Serializer","tinymce.core.EditorUpload","tinymce.core.ErrorReporter","tinymce.core.ForceBlocks","tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.keyboard.KeyboardOverrides","tinymce.core.NodeChange","tinymce.core.SelectionOverrides","tinymce.core.UndoManager","tinymce.core.util.Delay","tinymce.core.util.Quirks","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b,w,x){var C=s.DOM,_=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),function(e){e.settings.auto_focus&&b.setEditorTimeout(e,(function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()}),100)}(e)};return{initContentBody:function(d,b){var k,S,E=d.settings,T=d.getElement(),B=d.getDoc();E.inline||(d.getElement().style.visibility=d.orgVisibility),b||E.content_editable||(B.open(),B.write(d.iframeHTML),B.close()),E.content_editable&&(d.on("remove",(function(){var e=this.getBody();C.removeClass(e,"mce-content-body"),C.removeClass(e,"mce-edit-focus"),C.setAttrib(e,"contentEditable",null)})),C.addClass(T,"mce-content-body"),d.contentDocument=B=E.content_document||i,d.contentWindow=E.content_window||r,d.bodyElement=T,E.content_document=E.content_window=null,E.root_name=T.nodeName.toLowerCase()),(k=d.getBody()).disabled=!0,d.readonly=E.readonly,d.readonly||(d.inline&&"static"===C.getStyle(k,"position",!0)&&(k.style.position="relative"),k.contentEditable=d.getParam("content_editable_state",!0)),k.disabled=!1,d.editorUpload=new u(d),d.schema=new A(E),d.dom=new s(B,{keep_values:!0,url_converter:d.convertURL,url_converter_scope:d,hex_colors:E.force_hex_style_colors,class_filter:E.class_filter,update_styles:!0,root_element:d.inline?d.getBody():null,collect:E.content_editable,schema:d.schema,onSetAttrib:function(e){d.fire("SetAttrib",e)}}),d.parser=function(e){var t=new f(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",(function(t,n){for(var i,r,o,a=t.length,s=e.dom;a--;)if(r=(i=t[a]).attr(n),o="data-mce-"+n,!i.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?((r=s.serializeStyle(s.parseStyle(r),i.name)).length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,e.convertURL(r,n,i.name))}})),t.addNodeFilter("script",(function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)})),t.addNodeFilter("#cdata",(function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){for(var n,i=t.length,r=e.schema.getNonEmptyElements();i--;)(n=t[i]).isEmpty(r)&&0===n.getAll("br").length&&(n.append(new p("br",1)).shortEnded=!0)})),t}(d),d.serializer=new c(E,d),d.selection=new l(d.dom,d.getWin(),d.serializer,d),d.formatter=new o(d),d.undoManager=new y(d),d._nodeChangeDispatcher=new m(d),d._selectionOverrides=new v(d),a.setup(d),g.setup(d),h.setup(d),d.fire("PreInit"),E.browser_spellcheck||E.gecko_spellcheck||(B.body.spellcheck=!1,C.setAttrib(k,"spellcheck","false")),d.quirks=new w(d),d.fire("PostRender"),E.directionality&&(k.dir=E.directionality),E.nowrap&&(k.style.whiteSpace="nowrap"),E.protect&&d.on("BeforeSetContent",(function(e){x.each(E.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),d.on("SetContent",(function(){d.addVisual(d.getBody())})),E.padd_empty_editor&&d.on("PostProcess",(function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})),d.load({initial:!0,format:"html"}),d.startContent=d.getContent({format:"raw"}),d.on("compositionstart compositionend",(function(e){d.composing="compositionstart"===e.type})),d.contentStyles.length>0&&(S="",x.each(d.contentStyles,(function(e){S+=e+"\r\n"})),d.dom.addStyle(S)),function(e){return e.inline?C.styleSheetLoader:e.dom.styleSheetLoader}(d).loadAll(d.contentCSS,(function(e){_(d)}),(function(e){_(d)})),E.content_style&&function(i,r){var o=t.fromDom(i.getDoc().head),a=t.fromTag("style");n.set(a,"type","text/css"),e.append(a,t.fromText(r)),e.append(o,a)}(d,E.content_style)}}})),i("tinymce.core.PluginManager",["tinymce.core.AddOnManager"],(function(e){return e.PluginManager})),i("tinymce.core.ThemeManager",["tinymce.core.AddOnManager"],(function(e){return e.ThemeManager})),i("tinymce.core.init.Init",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.init.InitContentBody","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.util.Uuid"],(function(e,t,n,i,r,o,a,s,l){var c=n.DOM,u=function(e,t,n){var i,r,a=o.get(n);if(i=o.urls[n]||e.documentBaseUrl.replace(/\/$/,""),n=s.trim(n),a&&-1===s.inArray(t,n)){if(s.each(o.dependencies(n),(function(n){u(e,t,n)})),e.plugins[n])return;r=new a(e,i,e.$),e.plugins[n]=r,r.init&&(r.init(e,i),t.push(n))}},d=function(e){return e.replace(/^\-/,"")};return{init:function(n){var o,h=n.settings,f=n.getElement();if(n.rtl=h.rtl_ui||n.editorManager.i18n.rtl,n.editorManager.i18n.setCode(h.language),h.aria_label=h.aria_label||c.getAttrib(f,"aria-label",n.getLang("aria.rich_text_area")),n.fire("ScriptsLoaded"),function(e){var t,n=e.settings;n.theme&&("function"!=typeof n.theme?(n.theme=d(n.theme),t=a.get(n.theme),e.theme=new t(e,a.urls[n.theme]),e.theme.init&&e.theme.init(e,a.urls[n.theme]||e.documentBaseUrl.replace(/\/$/,""),e.$)):e.theme=n.theme)}(n),function(e){var t=[];s.each(e.settings.plugins.split(/[ ,]/),(function(n){u(e,t,d(n))}))}(n),o=function(e){var t,n,i,r,o,a=e.settings,s=e.getElement();return a.render_ui&&e.theme&&(e.orgDisplay=s.style.display,"function"!=typeof a.theme?(t=a.width||c.getStyle(s,"width")||"100%",n=a.height||c.getStyle(s,"height")||s.offsetHeight,i=a.min_height||100,(r=/^[0-9\.]+(|px)$/i).test(""+t)&&(t=Math.max(parseInt(t,10),100)),r.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=e.theme.renderUI({targetNode:s,width:t,height:n,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""))<i&&(n=i)):((o=a.theme(e,s)).editorContainer.nodeType&&(o.editorContainer.id=o.editorContainer.id||e.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer.id=o.iframeContainer.id||e.id+"_iframecontainer"),n=o.iframeHeight||s.offsetHeight),e.editorContainer=o.editorContainer,o.height=n),o}(n),h.content_css&&s.each(s.explode(h.content_css),(function(e){n.contentCSS.push(n.documentBaseURI.toAbsolute(e))})),h.content_editable)return r.initContentBody(n);var p=function(n,o){var a,s,u=n.settings;n.iframeHTML=u.doctype+"<html><head>",u.document_base_url!=n.documentBaseUrl&&(n.iframeHTML+='<base href="'+n.documentBaseURI.getURI()+'" />'),!i.caretAfter&&u.ie7_compat&&(n.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),n.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',-1!=(a=u.body_id||"tinymce").indexOf("=")&&(a=(a=n.getParam("body_id","","hash"))[n.id]||a),-1!=(s=u.body_class||"").indexOf("=")&&(s=(s=n.getParam("body_class","","hash"))[n.id]||""),u.content_security_policy&&(n.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+u.content_security_policy+'" />'),n.iframeHTML+='</head><body id="'+a+'" class="mce-content-body '+s+'" data-id="'+n.id+'"><br></body></html>';var d=c.create("iframe",{id:n.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:n.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:o.height,display:"block"}});d.onload=function(){d.onload=null,n.fire("load")};var h=function(n,o){if(e.domain!==t.location.hostname&&i.ie&&i.ie<12){var a=l.uuid("mce");n[a]=function(){r.initContentBody(n)};var s='javascript:(function(){document.open();document.domain="'+e.domain+'";var ed = window.parent.tinymce.get("'+n.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return c.setAttrib(o,"src",s),!0}return!1}(n,d);return n.contentAreaContainer=o.iframeContainer,n.iframeElement=d,c.add(o.iframeContainer,d),h}(n,o);o.editorContainer&&(c.get(o.editorContainer).style.display=n.orgDisplay,n.hidden=c.isHidden(o.editorContainer)),n.getElement().style.display="none",c.setAttrib(n.id,"aria-hidden",!0),p||r.initContentBody(n)}}})),i("tinymce.core.init.Render",["global!window","tinymce.core.api.NotificationManager","tinymce.core.api.WindowManager","tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.init.Init","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l,c,u,d){var h=i.DOM;return{render:function(i){var f=i.settings,p=i.id;if(r.Event.domLoaded){if(i.getElement()&&a.contentEditable){f.inline?i.inline=!0:(i.orgVisibility=i.getElement().style.visibility,i.getElement().style.visibility="hidden");var A=i.getElement().form||h.getParent(p,"form");A&&(i.formElement=A,f.hidden_input&&!/TEXTAREA|INPUT/i.test(i.getElement().nodeName)&&(h.insertAfter(h.create("input",{type:"hidden",name:p}),p),i.hasHiddenInput=!0),i.formEventDelegate=function(e){i.fire(e.type,e)},h.bind(A,"submit reset",i.formEventDelegate),i.on("reset",(function(){i.setContent(i.startContent,{format:"raw"})})),!f.submit_patch||A.submit.nodeType||A.submit.length||A._mceOldSubmit||(A._mceOldSubmit=A.submit,A.submit=function(){return i.editorManager.triggerSave(),i.setDirty(!1),A._mceOldSubmit(A)})),i.windowManager=new n(i),i.notificationManager=new t(i),"xml"===f.encoding&&i.on("GetContent",(function(e){e.save&&(e.content=h.encode(e.content))})),f.add_form_submit_trigger&&i.on("submit",(function(){i.initialized&&i.save()})),f.add_unload_trigger&&(i._beforeUnload=function(){!i.initialized||i.destroyed||i.isHidden()||i.save({format:"raw",no_events:!0,set_dirty:!1})},i.editorManager.on("BeforeUnload",i._beforeUnload)),i.editorManager.add(i),function(e,t){var n=e.settings,i=o.ScriptLoader;if(n.language&&"en"!=n.language&&!n.language_url&&(n.language_url=e.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&i.add(n.language_url),n.theme&&"function"!=typeof n.theme&&"-"!=n.theme.charAt(0)&&!u.urls[n.theme]){var r=n.theme_url;r=r?e.documentBaseURI.toAbsolute(r):"themes/"+n.theme+"/theme"+t+".js",u.load(n.theme,r)}d.isArray(n.plugins)&&(n.plugins=n.plugins.join(" ")),d.each(n.external_plugins,(function(e,t){c.load(t,e),n.plugins+=" "+t})),d.each(n.plugins.split(/[ ,]/),(function(e){if((e=d.trim(e))&&!c.urls[e])if("-"===e.charAt(0)){e=e.substr(1,e.length);var n=c.dependencies(e);d.each(n,(function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=c.createUrl(n,e),c.load(e.resource,e)}))}else c.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"})})),i.loadQueue((function(){e.removed||l.init(e)}),e,(function(t){s.pluginLoadError(e,t[0]),e.removed||l.init(e)}))}(i,i.suffix)}}else h.bind(e,"ready",(function t(){h.unbind(e,"ready",t),i.render()}))}}})),i("tinymce.core.Mode",[],(function(){function e(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}}function t(t,n){t._clickBlocker&&(t._clickBlocker.unbind(),t._clickBlocker=null),n?(t._clickBlocker=function(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}}(t),t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,e(t,"StyleWithCSS",!1),e(t,"enableInlineTableEditing",!1),e(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())}return{setMode:function(e,n){var i=e.readonly?"readonly":"design";n!=i&&(e.initialized?t(e,"readonly"==n):e.on("init",(function(){t(e,"readonly"==n)})),e.fire("SwitchMode",{mode:n}))}}})),i("tinymce.core.Shortcuts",["tinymce.core.util.Tools","tinymce.core.Env"],(function(e,t){var n=e.each,i=e.explode,r={f9:120,f10:121,f11:122},o=e.makeMap("alt,ctrl,shift,meta,access");return function(a){var s={},l=[];function c(e){var a,s,l={};for(s in n(i(e,"+"),(function(e){e in o?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=r[e]||e.toUpperCase().charCodeAt(0))})),a=[l.keyCode],o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function u(t,n,r,o){var s;return(s=e.map(i(t,">"),c))[s.length-1]=e.extend(s[s.length-1],{func:r,scope:o||a}),e.extend(s[0],{desc:a.translate(n),subpatterns:s.slice(1)})}function d(e,t){return!!t&&t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0)}function h(e){return e.func?e.func.call(e.scope):null}a.on("keyup keypress keydown",(function(e){!function(e){return e.altKey||e.ctrlKey||e.metaKey}(e)&&!function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}(e)||e.isDefaultPrevented()||(n(s,(function(t){if(d(e,t))return l=t.subpatterns.slice(0),"keydown"==e.type&&h(t),!0})),d(e,l[0])&&(1===l.length&&"keydown"==e.type&&h(l[0]),l.shift()))})),this.add=function(t,r,o,l){var c;return c=o,"string"==typeof o?o=function(){a.execCommand(c,!1,null)}:e.isArray(c)&&(o=function(){a.execCommand(c[0],c[1],c[2])}),n(i(e.trim(t.toLowerCase())),(function(e){var t=u(e,r,o,l);s[t.id]=t})),!0},this.remove=function(e){var t=u(e);return!!s[t.id]&&(delete s[t.id],!0)}}})),i("tinymce.core.ui.Sidebar",[],(function(){return{add:function(e,t,n){var i=e.sidebars?e.sidebars:[];i.push({name:t,settings:n}),e.sidebars=i}}})),i("tinymce.core.util.URI",["global!document","tinymce.core.util.Tools"],(function(e,t){var n=t.each,i=t.trim,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};function a(t,o){var s,l,c=this;if(t=i(t),s=(o=c.settings=o||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))c.source=t;else{var u=0===t.indexOf("//");0!==t.indexOf("/")||u||(t=(s&&s.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(l=o.base_uri?o.base_uri.path:new a(e.location.href).directory,""===o.base_uri.protocol?t="//mce_host"+c.toAbsPath(l,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(s&&s.protocol||"http")+"://mce_host"+c.toAbsPath(l,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(r,(function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),c[e]=i})),s&&(c.protocol||(c.protocol=s.protocol),c.userInfo||(c.userInfo=s.userInfo),c.port||"mce_host"!==c.host||(c.port=s.port),c.host&&"mce_host"!==c.host||(c.host=s.host),c.source=""),u&&(c.protocol="")}}return a.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if("mce_host"!=(e=new a(e,{base_uri:n})).host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var i=n.getURI(),r=e.getURI();return i==r||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==r?i:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new a(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var i,r,o,a=0,s=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,(function(e){e&&s.push(e)})),e=s,i=t.length-1,s=[];i>=0;i--)0!==t[i].length&&"."!==t[i]&&(".."!==t[i]?a>0?a--:s.push(t[i]):a++);return 0!==(o=(i=e.length-a)<=0?s.reverse().join("/"):e.slice(0,i).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},a.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},a.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},a})),i("tinymce.core.Editor",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.EditorCommands","tinymce.core.EditorFocus","tinymce.core.EditorObservable","tinymce.core.EditorSettings","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.init.Render","tinymce.core.Mode","tinymce.core.Shortcuts","tinymce.core.ui.Sidebar","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.Uuid"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A){var g=n.DOM,m=f.extend,v=f.each,y=f.trim,b=f.resolve,w=s.ie;function x(n,r,o){var l,c,u=this;l=u.documentBaseUrl=o.documentBaseURL,c=o.baseURI,r=a.getEditorSettings(u,n,l,o.defaultSettings,r),u.settings=r,e.language=r.language||"en",e.languageLoad=r.language_load,e.baseURL=o.baseURL,u.id=n,u.setDirty(!1),u.plugins={},u.documentBaseURI=new p(r.document_base_url,{base_uri:c}),u.baseURI=c,u.contentCSS=[],u.contentStyles=[],u.shortcuts=new d(u),u.loadedCSS={},u.editorCommands=new i(u),u.suffix=o.suffix,u.editorManager=o,u.inline=r.inline,r.cache_suffix&&(s.cacheSuffix=r.cache_suffix.replace(/^[\?\&]+/,"")),!1===r.override_viewport&&(s.overrideViewPort=!1),o.fire("SetupEditor",u),u.execCallback("setup",u),u.$=t.overrideDefaults((function(){return{context:u.inline?u.getBody():u.getDoc(),element:u.getBody()}}))}return x.prototype={render:function(){c.render(this)},focus:function(e){r.focus(this,e)},execCallback:function(e){var t,n=this,i=n.settings[e];if(i)return n.callbackLookup&&(t=n.callbackLookup[e])&&(i=t.func,t=t.scope),"string"==typeof i&&(t=(t=i.replace(/\.\w+$/,""))?b(t):0,i=b(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:i,scope:t}),i.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&f.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,(function(e,i){return n.data[t+"."+i]||"{#"+i+"}"}))}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?v(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),(function(e){(e=e.split("=")).length>1?i[y(e[0])]=y(e[1]):i[y(e[0])]=y(e)})):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return h.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:A.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(g.show(e.getContainer()),g.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(w&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(g.hide(e.getContainer()),g.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,i=n.getElement();return n.removed?"":i?((e=e||{}).load=!0,t=n.setContent(void 0!==i.value?i.value:i.innerHTML,e),e.element=i,e.no_events||n.fire("LoadContent",e),e.element=i=null,t):void 0},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"==e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=g.getParent(i.id,"form"))&&v(n.elements,(function(e){if(e.name==i.id)return e.value=t,!1}))),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){var n,i,r=this,o=r.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||r.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(i=w&&w<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+i+"</li>"),(n=r.settings.forced_root_block)&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(e=i,e=r.dom.createHTML(n,r.settings.forced_root_block_attrs,e)):w||e||(e='<br data-mce-bogus="1">'),r.dom.setHTML(o,e),r.fire("SetContent",t)):("raw"!==t.format&&(e=new l({validate:r.validate},r.schema).serialize(r.parser.parse(e,{isRootContent:!0}))),t.content=y(e),r.dom.setHTML(o,t.content),t.no_events||r.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,i=n.getBody();return n.removed?"":((e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?f.trim(n.serializer.getTrimmedContent()):"text"==e.format?i.innerText||i.textContent:n.serializer.serialize(i,e),"text"!=e.format?e.content=y(t):e.content=t,e.no_events||n.fire("GetContent",e),e.content)},insertContent:function(e,t){t&&(e=m({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){u.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=g.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=g.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var t,n=this,i=n.settings,r=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),v(r.select("table,a",e),(function(e){var o;switch(e.nodeName){case"TABLE":return t=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(e,"border"))&&"0"!=o||!n.hasVisual?r.removeClass(e,t):r.addClass(e,t));case"A":return void(r.getAttrib(e,"href",!1)||(o=r.getAttrib(e,"name")||e.id,t=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(e,t):r.removeClass(e,t)))}})),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&g.remove(e.getElement().nextSibling),e.inline||(w&&w<10&&e.getDoc().execCommand("SelectAll",!1,null),g.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),g.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;n.destroyed||(e||n.removed?(e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),g.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1):n.remove())},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},m(x.prototype,o),x})),i("tinymce.core.FocusManager",["tinymce.core.dom.DOMUtils","tinymce.core.util.Delay","tinymce.core.Env"],(function(e,t,n){var i,r,o,a=e.DOM,s=function(e,t){var n=e?e.settings.custom_ui_selector:"",i=a.getParent(t,(function(t){return c.isEditorUIElement(t)||!!n&&e.dom.is(t,n)}));return null!==i},l=function(e,t){return!1===function(e){return!0===e.inline}(e)||!1===e.dom.isChildOf(t,e.getBody())};function c(e){function c(){try{return document.activeElement}catch(e){return document.body}}e.on("AddEditor",(function(i){var u=i.editor;u.on("init",(function(){(u.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?u.dom.bind(u.getBody(),"beforedeactivate",(function(e){if(e.target==u.getBody())try{u.lastRng=u.selection.getRng()}catch(e){}})):u.on("nodechange mouseup keyup",(function(e){var t=c();"nodechange"==e.type&&e.selectionChange||(t&&t.id==u.id+"_ifr"&&(t=u.getBody()),u.dom.isChildOf(t,u.getBody())&&(u.lastRng=u.selection.getRng()))})))})),u.on("setcontent",(function(){u.lastRng=null})),u.on("mousedown",(function(){u.selection.lastFocusBookmark=null})),u.on("focusin",(function(){var t,n=e.focusedEditor;u.selection.lastFocusBookmark&&(t=function(e,t){var n;return t.startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}(u,u.selection.lastFocusBookmark),u.selection.lastFocusBookmark=null,u.selection.setRng(t)),n!=u&&(n&&n.fire("blur",{focusedEditor:u}),e.setActive(u),e.focusedEditor=u,u.fire("focus",{blurredEditor:n}),u.focus(!0)),u.lastRng=null})),u.on("focusout",(function(){t.setEditorTimeout(u,(function(){var t=e.focusedEditor;s(u,c())||t!=u||(u.fire("blur",{focusedEditor:null}),e.focusedEditor=null,u.selection&&(u.selection.lastFocusBookmark=null))}))})),r||(r=function(t){var n,i=e.activeEditor;n=t.target,i&&n.ownerDocument===document&&(i.selection&&n!==i.getBody()&&l(u,n)&&(i.selection.lastFocusBookmark=function(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}(i.dom,i.lastRng)),n===document.body||s(i,n)||e.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},a.bind(document,"focusin",r)),u.inline&&!o&&(o=function(t){var n=e.activeEditor,i=n.dom;if(n.inline&&i&&!i.isChildOf(t.target,n.getBody())){var r=n.selection.getRng();r.collapsed||(n.lastRng=r)}},a.bind(document,"mouseup",o))})),e.on("RemoveEditor",(function(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(a.unbind(document,"selectionchange",i),a.unbind(document,"focusin",r),a.unbind(document,"mouseup",o),i=r=o=null)}))}return c.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},c._isUIElement=s,c})),i("tinymce.core.LegacyInput",["tinymce.core.util.Tools"],(function(e){var t=e.each,n=e.explode;return{register:function(e){e.on("AddEditor",(function(e){var i=e.editor;i.on("preInit",(function(){var e,r,o,a=i.settings;function s(e,n){t(n,(function(t,n){t&&o.setStyle(e,n,t)})),o.rename(e,"span")}a.inline_styles&&(r=n(a.font_size_legacy_values),e={font:function(e,t){s(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:r[parseInt(t.size,10)-1]})},u:function(e,t){"html4"===i.settings.schema&&s(t,{textDecoration:"underline"})},strike:function(e,t){s(t,{textDecoration:"line-through"})}},i.on("PreProcess SetContent",(function(n){o=i.dom,a.convert_fonts_to_spans&&t(o.select("font,u,strike",n.node),(function(t){e[t.nodeName.toLowerCase()](o,t)}))})))}))}))}}})),i("tinymce.core.util.I18n",["tinymce.core.util.Tools"],(function(e){"use strict";var t={},n="en";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var i=t[e];for(var r in i||(t[e]=i={}),n)i[r]=n[r];this.setCode(e)},translate:function(i){var r=t[n]||{};function o(t){return e.is(t,"function")?Object.prototype.toString.call(t):a(t)?"":""+t}function a(t){return""===t||null===t||e.is(t,"undefined")}function s(t){return t=o(t),e.hasOwn(r,t)?o(r[t]):t}if(a(i))return"";if(e.is(i,"object")&&e.hasOwn(i,"raw"))return o(i.raw);if(e.is(i,"array")){var l=i.slice(1);i=s(i[0]).replace(/\{([0-9]+)\}/g,(function(t,n){return e.hasOwn(l,n)?o(l[n]):t}))}return s(i).replace(/{context:\w+}$/,"")},data:t}})),i("tinymce.core.EditorManager",["ephox.katamari.api.Arr","ephox.katamari.api.Type","tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.Editor","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.FocusManager","tinymce.core.LegacyInput","tinymce.core.util.I18n","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){var A,g,m=r.DOM,v=f.explode,y=f.each,b=f.extend,w=0,x=!1,C=[],_=[];function k(e){y(g.get(),(function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)}))}function S(e){e!==x&&(e?i(window).on("resize scroll",k):i(window).off("resize scroll",k),x=e)}function E(t){var n=_;delete C[t.id];for(var i=0;i<C.length;i++)if(C[i]===t){C.splice(i,1);break}return _=e.filter(_,(function(e){return t!==e})),g.activeEditor===t&&(g.activeEditor=_.length>0?_[0]:null),g.focusedEditor===t&&(g.focusedEditor=null),n.length!==_.length}return g={$:i,majorVersion:"4",minorVersion:"6.7",releaseDate:"2017-09-18",editors:C,i18n:u,activeEditor:null,settings:{},setup:function(){var e,t,n,i,r=this,o="";if(t=p.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var c=(i=a[s].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!=c.indexOf(".min")&&(o=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!=(i=document.currentScript.src).indexOf(".min")&&(o=".min"),e=i.substring(0,i.lastIndexOf("/")))}r.baseURL=new p(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new p(r.baseURL),r.suffix=o,r.focusManager=new l(r)},overrideDefaults:function(e){var t,i;(t=e.base_url)&&(this.baseURL=new p(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new p(this.baseURL)),i=e.suffix,e.suffix&&(this.suffix=i),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)n.PluginManager.urls[o]=r[o]},init:function(e){var t,n,r=this;function l(e){var t=e.id;return t||(t=(t=e.name)&&!m.get(t)?e.name:m.uniqueId(),e.setAttribute("id",t)),t}function c(e,t){return t.constructor===RegExp?t.test(e.className):m.hasClass(e,t)}n=f.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var u=function(e){t=e};return r.settings=e,m.bind(window,"ready",(function t(){var d,h=0,p=[];function A(e,t,n){var i=new o(e,t,r);p.push(i),i.on("init",(function(){++h===d.length&&u(p)})),i.targetElm=i.targetElm||n,i.render()}m.unbind(window,"ready",t),function(t){var n=e[t];n&&n.apply(r,Array.prototype.slice.call(arguments,2))}("onpageload"),d=i.unique(function(e){var t,n=[];if(a.ie&&a.ie<11)return s.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return y(e.types,(function(e){n=n.concat(m.select(e.selector))})),n;if(e.selector)return m.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(t=e.elements||"").length>0&&y(v(t),(function(e){var t;(t=m.get(e))?n.push(t):y(document.forms,(function(t){y(t.elements,(function(t){t.name===e&&(e="mce_editor_"+w++,m.setAttrib(t,"id",e),n.push(t))}))}))}));break;case"textareas":case"specific_textareas":y(m.select("textarea"),(function(t){e.editor_deselector&&c(t,e.editor_deselector)||e.editor_selector&&!c(t,e.editor_selector)||n.push(t)}))}return n}(e)),e.types?y(e.types,(function(t){f.each(d,(function(n){return!m.is(n,t.selector)||(A(l(n),b({},e,t),n),!1)}))})):(f.each(d,(function(e){var t;(t=r.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(E(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)})),0===(d=f.grep(d,(function(e){return!r.get(e.id)}))).length?u([]):y(d,(function(t){!function(e,t){return e.inline&&t.tagName.toLowerCase()in n}(e,t)?A(l(t),e,t):s.initError("Could not initialize inline editor on invalid inline target element",t)})))})),new h((function(e){t?e(t):u=function(t){e(t)}}))},get:function(n){return 0===arguments.length?_.slice(0):t.isString(n)?e.find(_,(function(e){return e.id===n})).getOr(null):t.isNumber(n)&&_[n]?_[n]:null},add:function(e){var t=this;return C[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(C[e.id]=e),C.push(e),_.push(e)),S(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),A||(A=function(){t.fire("BeforeUnload")},m.bind(window,"beforeunload",A))),e},createEditor:function(e,t){return this.add(new o(e,t,this))},remove:function(e){var n,i,r=this;if(e)return t.isString(e)?(e=e.selector||e,void y(m.select(e),(function(e){(i=r.get(e.id))&&r.remove(i)}))):(i=e,t.isNull(r.get(i.id))?null:(E(i)&&r.fire("RemoveEditor",{editor:i}),0===_.length&&m.unbind(window,"beforeunload",A),i.remove(),S(_.length>0),i));for(n=_.length-1;n>=0;n--)r.remove(_[n])},execCommand:function(e,t,n){var i=this,r=i.get(n);switch(e){case"mceAddEditor":return i.get(n)||new o(n,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(i.execCommand("mceAddEditor",0,n),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(e,t,n)},triggerSave:function(){y(_,(function(e){e.save()}))},addI18n:function(e,t){u.add(e,t)},translate:function(e){return u.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},b(g,d),g.setup(),c.register(g),g})),i("tinymce.core.geom.Rect",[],(function(){"use strict";var e=Math.min,t=Math.max,n=Math.round;function i(e,t,i){var o,a,s,l,c,u;return o=t.x,a=t.y,s=e.w,l=e.h,c=t.w,u=t.h,"b"===(i=(i||"").split(""))[0]&&(a+=u),"r"===i[1]&&(o+=c),"c"===i[0]&&(a+=n(u/2)),"c"===i[1]&&(o+=n(c/2)),"b"===i[3]&&(a-=l),"r"===i[4]&&(o-=s),"c"===i[3]&&(a-=n(l/2)),"c"===i[4]&&(o-=n(s/2)),r(o,a,s,l)}function r(e,t,n,i){return{x:e,y:t,w:n,h:i}}return{inflate:function(e,t,n){return r(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:i,findBestRelativePosition:function(e,t,n,r){var o,a;for(a=0;a<r.length;a++)if((o=i(e,t,r[a])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[a];return null},intersect:function(n,i){var o,a,s,l;return o=t(n.x,i.x),a=t(n.y,i.y),s=e(n.x+n.w,i.x+i.w),l=e(n.y+n.h,i.y+i.h),s-o<0||l-a<0?null:r(o,a,s-o,l-a)},clamp:function(e,n,i){var o,a,s,l,c,u,d,h,f,p;return c=e.x,u=e.y,d=e.x+e.w,h=e.y+e.h,f=n.x+n.w,p=n.y+n.h,o=t(0,n.x-c),a=t(0,n.y-u),s=t(0,d-f),l=t(0,h-p),c+=o,u+=a,i&&(d+=o,h+=a,c-=s,u-=l),r(c,u,(d-=s)-c,(h-=l)-u)},create:r,fromClientRect:function(e){return r(e.left,e.top,e.width,e.height)}}})),i("tinymce.core.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],(function(e,t){"use strict";return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each((function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(i||(i=e),r=e)})),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each((function(e){t+=e.renderHtml()})),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})})),i("tinymce.core.ui.AbsoluteLayout",["tinymce.core.ui.Layout"],(function(e){"use strict";return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each((function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()}))},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})})),i("tinymce.core.ui.Button",["tinymce.core.ui.Widget"],(function(e){"use strict";return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",(function(e){e.preventDefault()})),n.on("touchstart",(function(e){n.fire("click",e),e.preventDefault()})),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text"),a="";return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+t.encode(o)+"</span>"),r=r?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+t.classes+'" tabindex="-1"><button id="'+n+'-button" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){var e=this,t=e.$,n=e.classPrefix+"txt";function i(i){var r=t("span."+n,e.getEl());i?(r[0]||(t("button:first",e.getEl()).append('<span class="'+n+'"></span>'),r=t("span."+n,e.getEl())),r.html(e.encode(i))):r.remove(),e.classes.toggle("btn-has-text",!!i)}return e.state.on("change:text",(function(e){i(e.value)})),e.state.on("change:icon",(function(t){var n=t.value,r=e.classPrefix;e.settings.icon=n,n=n?r+"ico "+r+"i-"+e.settings.icon:"";var o=e.getEl().firstChild,a=o.getElementsByTagName("i")[0];n?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=n):a&&o.removeChild(a),i(e.state.get("text"))})),e._super()}})})),i("tinymce.core.ui.ButtonGroup",["tinymce.core.ui.Container"],(function(e){"use strict";return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})})),i("tinymce.core.ui.Checkbox",["tinymce.core.ui.Widget"],(function(e){"use strict";return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",(function(e){e.preventDefault()})),t.on("click",(function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())})),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){var e=this;function t(t){e.classes.toggle("checked",t),e.aria("checked",t)}return e.state.on("change:text",(function(t){e.getEl("al").firstChild.data=e.translate(t.value)})),e.state.on("change:checked change:value",(function(n){e.fire("change"),t(n.value)})),e.state.on("change:icon",(function(t){var n=t.value,i=e.classPrefix;if(void 0===n)return e.settings.icon;e.settings.icon=n,n=n?i+"ico "+i+"i-"+e.settings.icon:"";var r=e.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o==r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)})),e.state.get("checked")&&t(!0),e._super()}})})),i("tinymce.core.ui.ComboBox",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.VK","tinymce.core.util.Tools"],(function(e,t,n,i,r,o){"use strict";return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",(function(n){var r=n.target,o=t.getEl();if(i.contains(o,r)||r==o)for(;r&&r!=o;)r.id&&-1!=r.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),r=r.parentNode})),t.on("keydown",(function(e){var n;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))})),t.on("keyup",(function(e){if("INPUT"==e.target.nodeName){var n=t.state.get("value"),i=e.target.value;i!==n&&(t.state.set("value",i),t.fire("autocomplete",e))}})),t.on("mouseover",(function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&-1!==e.target.className.indexOf(t.classPrefix+"status")){var i=t.statusMessage()||"Ok",r=n.text(i).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==r),n.classes.toggle("tooltip-nw","bc-tl"==r),n.classes.toggle("tooltip-ne","bc-tr"==r),n.moveRel(e.target,r)}}))},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,n=this,i=n.settings;n.menu||((e=i.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",(function(e){e.control===n.menu&&n.focus()})),n.menu.on("show hide",(function(e){e.control.items().each((function(e){e.active(e.value()==n.value())}))})).fire("show"),n.menu.on("select",(function(e){n.value(e.control.value())})),n.on("focusin",(function(e){"INPUT"==e.target.tagName.toUpperCase()&&n.menu.hide()})),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,r=this,o=r.getEl(),a=r.getEl("open"),s=r.layoutRect(),l=0,c=o.firstChild;r.statusLevel()&&"none"!==r.statusLevel()&&(l=parseInt(n.getRuntimeStyle(c,"padding-right"),10)-parseInt(n.getRuntimeStyle(c,"padding-left"),10)),e=a?s.w-n.getSize(a).width-10:s.w-10;var u=document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(t=r.layoutRect().h-2+"px"),i(c).css({width:e-l,lineHeight:t}),r._super(),r},postRender:function(){var e=this;return i(this.getEl("inp")).on("change",(function(t){e.state.set("value",t.target.value),e.fire("change",t)})),e._super()},renderHtml:function(){var e,t,n,i=this,r=i._id,o=i.settings,a=i.classPrefix,s=i.state.get("value")||"",l="",c="";return"spellcheck"in o&&(c+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(c+=' maxlength="'+o.maxLength+'"'),o.size&&(c+=' size="'+o.size+'"'),o.subtype&&(c+=' type="'+o.subtype+'"'),n='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',i.disabled()&&(c+=' disabled="disabled"'),(e=o.icon)&&"caret"!=e&&(e=a+"ico "+a+"i-"+o.icon),t=i.state.get("text"),(e||t)&&(l='<div id="'+r+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",i.classes.add("has-open")),'<div id="'+r+'" class="'+i.classes+'"><input id="'+r+'-inp" class="'+a+'textbox" value="'+i.encode(s,!1)+'" hidefocus="1"'+c+' placeholder="'+i.encode(o.placeholder)+'" />'+n+l+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,n){var i=this;if(0!==e.length){i.menu?i.menu.items().remove():i.menu=t.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(i).renderTo(),o.each(e,(function(e){var t,r;i.menu.add({text:e.title,url:e.previewUrl,match:n,classes:"menu-item-ellipsis",onclick:(t=e.value,r=e.title,function(){i.fire("selectitem",{title:r,value:t})})})})),i.menu.renderNew(),i.hideMenu(),i.menu.on("cancel",(function(e){e.control.parent()===i.menu&&(e.stopPropagation(),i.focus(),i.hideMenu())})),i.menu.on("select",(function(){i.focus()}));var r=i.layoutRect().w;i.menu.layoutRect({w:r,minW:0,maxW:r}),i.menu.reflow(),i.menu.show(),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else i.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",(function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)})),e.state.on("change:disabled",(function(t){e.getEl("inp").disabled=t.value})),e.state.on("change:statusLevel",(function(t){var i=e.getEl("status"),r=e.classPrefix,o=t.value;n.css(i,"display","none"===o?"none":""),n.toggleClass(i,r+"i-checkmark","ok"===o),n.toggleClass(i,r+"i-warning","warn"===o),n.toggleClass(i,r+"i-error","error"===o),e.classes.toggle("has-status","none"!==o),e.repaint()})),n.on(e.getEl("status"),"mouseleave",(function(){e.tooltip().hide()})),e.on("cancel",(function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())}));var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",(function(n){var i=n.keyCode;"INPUT"===n.target.nodeName&&(i===r.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):i===r.UP&&(n.preventDefault(),t(-1,e.menu)))})),e._super()},remove:function(){i(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})})),i("tinymce.core.ui.ColorBox",["tinymce.core.ui.ComboBox"],(function(e){"use strict";return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",(function(){t.repaintColor(t.value())}))},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){e.state.get("rendered")&&e.repaintColor(t.value)})),e._super()}})})),i("tinymce.core.ui.PanelButton",["tinymce.core.ui.Button","tinymce.core.ui.FloatPanel"],(function(e,t){"use strict";return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,e.panel=new t(i).on("hide",(function(){e.active(!1)})).on("cancel",(function(t){t.stopPropagation(),e.focus(),e.hidePanel()})).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var r=e.panel.testMoveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));e.panel.classes.toggle("start","bc-tl"===r),e.panel.classes.toggle("end","bc-tr"===r),e.panel.moveRel(e.getEl(),r)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",(function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))})),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})})),i("tinymce.core.ui.ColorButton",["tinymce.core.ui.PanelButton","tinymce.core.dom.DOMUtils"],(function(e,t){"use strict";var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return i&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",(function(i){i.aria&&"down"==i.aria.key||i.control!=e||n.getParent(i.target,"."+e.classPrefix+"open")||(i.stopImmediatePropagation(),t.call(e,i))})),delete e.settings.onclick,e._super()}})})),i("tinymce.core.util.Color",[],(function(){var e=Math.min,t=Math.max,n=Math.round;return function(i){var r=this,o=0,a=0,s=0;function l(i){var l;return"object"==typeof i?"r"in i?(o=i.r,a=i.g,s=i.b):"v"in i&&function(i,r,l){var c,u,d,h;if(i=(parseInt(i,10)||0)%360,r=parseInt(r,10)/100,l=parseInt(l,10)/100,r=t(0,e(r,1)),l=t(0,e(l,1)),0!==r){switch(c=i/60,d=(u=l*r)*(1-Math.abs(c%2-1)),h=l-u,Math.floor(c)){case 0:o=u,a=d,s=0;break;case 1:o=d,a=u,s=0;break;case 2:o=0,a=u,s=d;break;case 3:o=0,a=d,s=u;break;case 4:o=d,a=0,s=u;break;case 5:o=u,a=0,s=d;break;default:o=a=s=0}o=n(255*(o+h)),a=n(255*(a+h)),s=n(255*(s+h))}else o=a=s=n(255*l)}(i.h,i.s,i.v):(l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(i))?(o=parseInt(l[1],10),a=parseInt(l[2],10),s=parseInt(l[3],10)):(l=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(i))?(o=parseInt(l[1],16),a=parseInt(l[2],16),s=parseInt(l[3],16)):(l=/#([0-F])([0-F])([0-F])/gi.exec(i))&&(o=parseInt(l[1]+l[1],16),a=parseInt(l[2]+l[2],16),s=parseInt(l[3]+l[3],16)),o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,r}i&&l(i),r.toRgb=function(){return{r:o,g:a,b:s}},r.toHsv=function(){return function(i,r,o){var a,s,l,c;return s=0,(l=e(i/=255,e(r/=255,o/=255)))==(c=t(i,t(r,o)))?{h:0,s:0,v:100*(s=l)}:(a=(c-l)/c,s=c,{h:n(60*((i==l?3:o==l?1:5)-(i==l?r-o:o==l?i-r:o-i)/(c-l))),s:n(100*a),v:n(100*s)})}(o,a,s)},r.toHex=function(){function e(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e}return"#"+e(o)+e(a)+e(s)},r.parse=l}})),i("tinymce.core.ui.ColorPicker",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils","tinymce.core.util.Color"],(function(e,t,n,i){"use strict";return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){var e,r,o,a,s,l=this,c=l.color();function u(e,t){var i,r,o=n.getPos(e);return i=t.pageX-o.x,r=t.pageY-o.y,{x:i=Math.max(0,Math.min(i/e.clientWidth,1)),y:r=Math.max(0,Math.min(r/e.clientHeight,1))}}function d(e,t){var r=(360-e.h)/360;n.css(o,{top:100*r+"%"}),t||n.css(s,{left:e.s+"%",top:100-e.v+"%"}),a.style.background=new i({s:100,v:100,h:e.h}).toHex(),l.color().parse({s:e.s,v:e.v,h:e.h})}function h(t){var n;n=u(a,t),e.s=100*n.x,e.v=100*(1-n.y),d(e),l.fire("change")}function f(t){var n;n=u(r,t),(e=c.toHsv()).h=360*(1-n.y),d(e,!0),l.fire("change")}r=l.getEl("h"),o=l.getEl("hp"),a=l.getEl("sv"),s=l.getEl("svp"),l._repaint=function(){d(e=c.toHsv())},l._super(),l._svdraghelper=new t(l._id+"-sv",{start:h,drag:h}),l._hdraghelper=new t(l._id+"-h",{start:f,drag:f}),l._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;if(!arguments.length)return t.color().toHex();t.color().parse(e),t._rendered&&t._repaint()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+n+'-h" class="'+i+'colorpicker-h" style="background: -ms-linear-gradient(top,'+r+");background: linear-gradient(to bottom,"+r+');">'+function(){var e,t,n,o,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(o=r.split(",")).length-1;e<t;e++)a+='<div class="'+i+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+o[e]+",endColorstr="+o[e+1]+");-ms-"+n+o[e]+",endColorstr="+o[e+1]+')"></div>';return a}()+'<div id="'+n+'-hp" class="'+i+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+i+'colorpicker-sv"><div class="'+i+'colorpicker-overlay1"><div class="'+i+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+i+'colorpicker-selector1"><div class="'+i+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})})),i("tinymce.core.ui.Path",["tinymce.core.ui.Widget"],(function(e){"use strict";return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",(function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})})),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",(function(t){e.innerHtml(e._getDataPathHtml(t.value))})),e._super()},_getDataPathHtml:function(e){var t,n,i=this,r=e||[],o="",a=i.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(t>0?'<div class="'+a+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t==n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+i._id+"-"+t+'" aria-level="'+(t+1)+'">'+r[t].name+"</div>";return o||(o='<div class="'+a+'path-item"></div>'),o}})})),i("tinymce.core.ui.ElementPath",["tinymce.core.ui.Path"],(function(e){return e.extend({postRender:function(){var e=this,t=e.settings.editor;function n(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}return!1!==t.settings.elementpath&&(e.on("select",(function(e){t.focus(),t.selection.select(this.row()[e.index].element),t.nodeChanged()})),t.on("nodeChange",(function(i){for(var r=[],o=i.parents,a=o.length;a--;)if(1==o[a].nodeType&&!n(o[a])){var s=t.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||r.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}e.row(r)}))),e._super()}})})),i("tinymce.core.ui.FormItem",["tinymce.core.ui.Container"],(function(e){"use strict";return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})})),i("tinymce.core.ui.Form",["tinymce.core.ui.Container","tinymce.core.ui.FormItem","tinymce.core.util.Tools"],(function(e,t,n){"use strict";return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,i=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each((function(i){var r,o=i.settings.label;o&&((r=new t(n.extend({items:{type:"label",id:i._id+"-l",text:o,flex:0,forId:i._id,disabled:i.disabled()}},e.settings.formItemDefaults))).type="formitem",i.aria("labelledby",i._id+"-l"),void 0===i.settings.flex&&(i.settings.flex=1),e.replace(i,r),r.add(i))}))},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){var e=this;function t(){var t,n,i=0,r=[];if(!1!==e.settings.labelGapCalc)for(("children"==e.settings.labelGapCalc?e.find("formitem"):e.items()).filter("formitem").each((function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=n>i?n:i,r.push(t)})),n=e.settings.labelGap||0,t=r.length;t--;)r[t].settings.minWidth=i+n}e._super(),e.on("show",t),t()}})})),i("tinymce.core.ui.FieldSet",["tinymce.core.ui.Form"],(function(e){"use strict";return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})})),i("tinymce.core.content.LinkTargets",["ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools","tinymce.core.util.Uuid"],(function(e,t,n,i,r,o,a,s){var l=a.trim,c=function(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r}},u=function(e){return e.innerText||e.textContent},d=function(e){return function(e){return e&&"A"===e.nodeName&&(e.id||e.name)}(e)&&f(e)},h=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},f=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return i.isContentEditableTrue(e)}return!1}(e)&&!i.isContentEditableFalse(e)},p=function(e){return h(e)&&f(e)},A=function(e){var t=function(e){return e.id?e.id:s.uuid("h")}(e);return c("header",u(e),"#"+t,function(e){return h(e)?parseInt(e.nodeName.substr(1),10):0}(e),(function(){e.id=t}))},g=function(e){var t=e.id||e.name,n=u(e);return c("anchor",n||"#"+t,"#"+t,0,o.noop)},m=function(e){return l(e.title).length>0};return{find:function(n){var i=function(n){var i;return i=n,r.map(t.descendants(e.fromDom(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),(function(e){return e.dom()}))}(n);return r.filter(function(e){return r.map(r.filter(e,p),A)}(i).concat(function(e){return r.map(r.filter(e,d),g)}(i)),m)}}})),i("tinymce.core.ui.FilePicker",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!window","tinymce.core.content.LinkTargets","tinymce.core.EditorManager","tinymce.core.ui.ComboBox","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a){"use strict";var s={},l=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},c=function(e,n){return{title:e,value:{title:e,url:n,attach:t.noop}}},u=function(e,t,n){var i=t in e?e[t]:n;return!1===i?null:i},d=function(e,t){var n=e.toLowerCase(),i=a.grep(t,(function(e){return-1!==e.title.toLowerCase().indexOf(n)}));return 1===i.length&&i[0].title===e?[]:i},h=function(n,r,o,h){var f=function(f){var p=function(n,i,r,o){var h,f,p,A,g={title:"-"},m=function(n){var o=n.hasOwnProperty(r)?n[r]:[],s=e.filter(o,(function(t){return function(t,n){return!e.exists(n,(function(e){return e.url===t}))}(t,i)}));return a.map(s,(function(e){return{title:e,value:{title:e,url:e,attach:t.noop}}}))},v=function(t){return function(e){return a.map(e,l)}(e.filter(i,(function(e){return e.type===t})))};return!1===o.typeahead_urls?[]:"file"===r?(h=[d(n,m(s)),d(n,v("header")),d(n,(f=v("anchor"),p=u(o,"anchor_top","#top"),A=u(o,"anchor_bottom","#bottom"),null!==p&&f.unshift(c("<top>",p)),null!==A&&f.push(c("<bottom>",A)),f))],e.foldl(h,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(g,t)}),[])):d(n,m(s))}(f,i.find(o),h,r);n.showAutoComplete(p,f)};n.on("autocomplete",(function(){f(n.value())})),n.on("selectitem",(function(e){var t=e.value;n.value(t.url);var i=function(e){var t=e.title;return t.raw?t.raw:t}(t);"image"===h?n.fire("change",{meta:{alt:i,attach:t.attach}}):n.fire("change",{meta:{text:i,attach:t.attach}}),n.focus()})),n.on("click",(function(e){0===n.value().length&&"INPUT"===e.target.nodeName&&f("")})),n.on("PostRender",(function(){n.getRoot().on("submit",(function(t){t.isDefaultPrevented()||function(t,n){var i=s[n];/^https?/.test(t)&&(i?-1===e.indexOf(i,t)&&(s[n]=i.slice(0,5).concat(t)):s[n]=[t])}(n.value(),h)}))}))};return o.extend({init:function(e){var t,i,o,s=this,l=n.tinymce?n.tinymce.activeEditor:r.activeEditor,c=l.settings,u=e.filetype;e.spellcheck=!1,(o=c.file_picker_types||c.file_browser_callback_types)&&(o=a.makeMap(o,/[, ]/)),o&&!o[u]||(!(i=c.file_picker_callback)||o&&!o[u]?!(i=c.file_browser_callback)||o&&!o[u]||(t=function(){i(s.getEl("inp").id,s.value(),u,n)}):t=function(){var e=s.fire("beforecall").meta;e=a.extend({filetype:u},e),i.call(l,(function(e,t){s.value(e).fire("change",{meta:t})}),s.value(),e)}),t&&(e.icon="browse",e.onaction=t),s._super(e),h(s,c,l.getBody(),u),function(e,t,n){var i=t.filepicker_validator_handler;i&&e.state.on("change:value",(function(t){var r;0!==(r=t.value).length?i({url:r,type:n},(function(t){var n=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t||"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}}(t);e.statusMessage(n.message),e.statusLevel(n.status)})):e.statusLevel("none")}))}(s,c,u)}})})),i("tinymce.core.ui.FitLayout",["tinymce.core.ui.AbsoluteLayout"],(function(e){"use strict";return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each((function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()}))}})})),i("tinymce.core.ui.FlexLayout",["tinymce.core.ui.AbsoluteLayout"],(function(e){"use strict";return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b,w,x,C,_,k,S,E,T,B,I,D,F,M,L,P,R,O,N=[],U=Math.max,H=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,a=e.settings,h=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!=h&&"column-reverse"!=h||(i=i.set(i.toArray().reverse()),h=h.split("-")[0]),"column"==h?(_="y",x="h",C="minH",k="maxH",E="innerH",S="top",T="deltaH",B="contentH",L="left",F="w",I="x",D="innerW",M="minW",P="right",R="deltaW",O="contentW"):(_="x",x="w",C="minW",k="maxW",E="innerW",S="left",T="deltaW",B="contentW",L="top",F="h",I="y",D="innerH",M="minH",P="bottom",R="deltaH",O="contentH"),d=r[E]-o[S]-o[S],w=u=0,t=0,n=i.length;t<n;t++)p=(f=i[t]).layoutRect(),d-=t<n-1?c:0,(A=f.settings.flex)>0&&(u+=A,p[k]&&N.push(f),p.flex=A),d-=p[C],(g=o[L]+p[M]+o[P])>w&&(w=g);if((y={})[C]=d<0?r[C]-d+r[T]:r[E]-d+r[T],y[M]=w+r[R],y[B]=r[E]-d,y[O]=w,y.minW=H(y.minW,r.maxW),y.minH=H(y.minH,r.maxH),y.minW=U(y.minW,r.startMinWidth),y.minH=U(y.minH,r.startMinHeight),!r.autoResize||y.minW==r.minW&&y.minH==r.minH){for(v=d/u,t=0,n=N.length;t<n;t++)m=(p=(f=N[t]).layoutRect())[k],(g=p[C]+p.flex*v)>m?(d-=p[k]-p[C],u-=p.flex,p.flex=0,p.maxFlexSize=m):p.maxFlexSize=0;for(v=d/u,b=o[S],y={},0===u&&("end"==l?b=d+o[S]:"center"==l?(b=Math.round(r[E]/2-(r[E]-d)/2)+o[S])<0&&(b=o[S]):"justify"==l&&(b=o[S],c=Math.floor(d/(i.length-1)))),y[I]=o[L],t=0,n=i.length;t<n;t++)g=(p=(f=i[t]).layoutRect()).maxFlexSize||p[C],"center"===s?y[I]=Math.round(r[D]/2-p[F]/2):"stretch"===s?(y[F]=U(p[M]||0,r[D]-o[L]-o[P]),y[I]=o[L]):"end"===s&&(y[I]=r[D]-p[F]-o.top),p.flex>0&&(g+=p.flex*v),y[x]=g,y[_]=b,f.layoutRect(y),f.recalc&&f.recalc(),b+=g+c}else if(y.w=y.minW,y.h=y.minH,e.layoutRect(y),this.recalc(e),null===e._lastRect){var $=e.parent();$&&($._lastRect=null,$.recalc())}}})})),i("tinymce.core.ui.FlowLayout",["tinymce.core.ui.Layout"],(function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each((function(e){e.recalc&&e.recalc()}))},isNative:function(){return!0}})})),i("tinymce.core.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],(function(e,t,n,i,r){var o=function(e){return function(o,a){return t.from(a).map(n.fromDom).filter(i.isElement).bind((function(n){return function(e,n,i){for(;i!==n;){if(i.style[e]){var r=i.style[e];return""!==r?t.some(r):t.none()}i=i.parentNode}return t.none()}(e,o,n.dom()).or(function(e,n){return t.from(r.DOM.getStyle(n,e,!0))}(e,n.dom()))})).getOr("")}};return{getFontSize:o("fontSize"),getFontFamily:e.compose((function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}),o("fontFamily")),toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}})),i("tinymce.core.ui.FormatControls",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFind","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.fmt.FontInfo","tinymce.core.ui.Control","tinymce.core.ui.FloatPanel","tinymce.core.ui.Widget","tinymce.core.util.Tools"],(function(e,t,n,i,r,o,a,s,l,c,u,d){var h=d.each;return o.on("AddEditor",(function(r){var o=r.editor;!function(e){e.on("ScriptsLoaded",(function(){e.rtl&&(l.rtl=!0)}))}(o),function(t){var n;function i(e,n){return function(){var i=this;t.on("nodeChange",(function(r){var o=t.formatter,a=null;h(r.parents,(function(t){if(h(e,(function(e){if(n?o.matchNode(t,n,{value:e.value})&&(a=e.value):o.matchNode(t,e.value)&&(a=e.value),a)return!1})),a)return!1})),i.value(a)}))}}function r(e){return function(){var n=this,i=function(e){return e?e.split(",")[0]:""};t.on("init nodeChange",(function(r){var o,a=null;o=s.getFontFamily(t.getBody(),r.element),h(e,(function(e){e.value.toLowerCase()===o.toLowerCase()&&(a=e.value)})),h(e,(function(e){a||i(e.value).toLowerCase()!==i(o).toLowerCase()||(a=e.value)})),n.value(a),!a&&o&&n.text(i(o))}))}}function o(e){return function(){var n=this;t.on("init nodeChange",(function(i){var r,o,a=null;r=s.getFontSize(t.getBody(),i.element),o=s.toPt(r),h(e,(function(e){e.value===r?a=r:e.value===o&&(a=o)})),n.value(a),a||n.text(o)}))}}function a(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function l(e){return function(){var n=this;t.formatter?t.formatter.formatChanged(e,(function(e){n.active(e)})):t.on("init",(function(){t.formatter.formatChanged(e,(function(e){n.active(e)}))}))}}function u(e){return function(){var n=this;function i(){var n="redo"==e?"hasRedo":"hasUndo";return!!t.undoManager&&t.undoManager[n]()}n.disabled(!i()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(){n.disabled(t.readonly||!i())}))}}n=function(){var e=0,n=[],i=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function r(t){var i=[];if(t)return h(t,(function(t){var o={text:t.title,icon:t.icon};if(t.items)o.menu=r(t.items);else{var a=t.format||"custom"+e++;t.format||(t.name=a,n.push(t)),o.format=a,o.cmd=t.cmd}i.push(o)})),i}return t.on("init",(function(){h(n,(function(e){t.formatter.register(e.name,e)}))})),{type:"menu",items:t.settings.style_formats_merge?t.settings.style_formats?r(i.concat(t.settings.style_formats)):r(i):r(t.settings.style_formats||i),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return t.formatter.getCssText(this.settings.format)},onPostRender:function(){var e=this;e.parent().on("show",(function(){var n,i;(n=e.settings.format)&&(e.disabled(!t.formatter.canApply(n)),e.active(t.formatter.match(n))),(i=e.settings.cmd)&&e.active(t.queryCommandState(i))}))},onclick:function(){this.settings.format&&g(this.settings.format),this.settings.cmd&&t.execCommand(this.settings.cmd)}}}}(),h({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},(function(e,n){t.addButton(n,{tooltip:e,onPostRender:l(n),onclick:function(){g(n)}})})),h({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},(function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1]})})),h({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},(function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1],onPostRender:l(n)})}));var f=function(e){var t=e;return t.length>0&&"-"===t[0].text&&(t=t.slice(1)),t.length>0&&"-"===t[t.length-1].text&&(t=t.slice(0,t.length-1)),t},p=function(n){var i,r,o;if("string"==typeof n)r=n.split(" ");else if(d.isArray(n))return o=d.map(n,p),e.foldl(o,(function(e,t){return e.concat(t)}),[]);return i=d.grep(r,(function(e){return"|"===e||e in t.menuItems})),d.map(i,(function(e){return"|"===e?{text:"-"}:t.menuItems[e]}))},A=function(e){return e.insert_button_items?f(p(e.insert_button_items)):f((n="insert",i=[{text:"-"}],r=d.grep(t.menuItems,(function(e){return e.context===n})),d.each(r,(function(e){"before"==e.separator&&i.push({text:"|"}),e.prependToContext?i.unshift(e):i.push(e),"after"==e.separator&&i.push({text:"|"})})),i));var n,i,r};function g(e){e.control&&(e=e.control.value()),e&&t.execCommand("mceToggleFormat",!1,e)}function m(e){var n=e.length;return d.each(e,(function(e){e.menu&&(e.hidden=0===m(e.menu));var i=e.format;i&&(e.hidden=!t.formatter.canApply(i)),e.hidden&&n--})),n}function v(e){var n=e.items().length;return e.items().each((function(e){e.menu&&e.visible(v(e.menu)>0),!e.menu&&e.settings.menu&&e.visible(m(e.settings.menu)>0);var i=e.settings.format;i&&e.visible(t.formatter.canApply(i)),e.visible()||n--})),n}t.addButton("undo",{tooltip:"Undo",onPostRender:u("undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:u("redo"),cmd:"redo"}),t.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:u("undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:u("redo"),cmd:"redo"}),t.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var e=this;t.on("VisualAid",(function(t){e.active(t.hasVisual)})),e.active(t.hasVisual)},cmd:"mceToggleVisualAid"}),t.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),t.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(A(t.settings)),this.menu.renderNew()}}),h({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},(function(e,n){t.addMenuItem(n,{text:e[0],icon:n,shortcut:e[2],cmd:e[1]})})),t.on("mousedown",(function(){c.hideAll()})),t.addButton("styleselect",{type:"menubutton",text:"Formats",menu:n,onShowMenu:function(){t.settings.style_formats_autohide&&v(this.menu)}}),t.addButton("formatselect",(function(){var e=[],n=a(t.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return h(n,(function(n){e.push({text:n[0],value:n[1],textStyle:function(){return t.formatter.getCssText(n[1])}})})),{type:"listbox",text:n[0][0],values:e,fixedWidth:!0,onselect:g,onPostRender:i(e)}})),t.addButton("fontselect",(function(){var e=[],n=a(t.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return h(n,(function(t){e.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})})),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:e,fixedWidth:!0,onPostRender:r(e),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}})),t.addButton("fontsizeselect",(function(){var e=[],n=t.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return h(n.split(" "),(function(t){var n=t,i=t,r=t.split("=");r.length>1&&(n=r[0],i=r[1]),e.push({text:n,value:i})})),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:o(e),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}})),t.addMenuItem("formats",{text:"Formats",menu:n})}(o),function(e){e.settings.ui_container&&(a.container=i.descendant(n.fromDom(document.body),e.settings.ui_container).fold(t.constant(null),(function(e){return e.dom()})))}(o)})),l.translate=function(e){return o.translate(e)},u.tooltips=!a.iOS,{}})),i("tinymce.core.ui.GridLayout",["tinymce.core.ui.AbsoluteLayout"],(function(e){"use strict";return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b,w,x,C,_,k,S,E,T,B=[],I=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),v=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,b=t.alignH||t.align,w=t.alignV||t.align,g=e.paddingBox,T="reverseRows"in t?t.reverseRows:e.isRtl(),b&&"string"==typeof b&&(b=[b]),w&&"string"==typeof w&&(w=[w]);for(d=0;d<i;d++)B.push(0);for(h=0;h<n;h++)I.push(0);for(h=0;h<n;h++)for(d=0;d<i&&(u=r[h*i+d]);d++)_=(c=u.layoutRect()).minW,k=c.minH,B[d]=_>B[d]?_:B[d],I[h]=k>I[h]?k:I[h];for(S=o.innerW-g.left-g.right,x=0,d=0;d<i;d++)x+=B[d]+(d>0?v:0),S-=(d>0?v:0)+B[d];for(E=o.innerH-g.top-g.bottom,C=0,h=0;h<n;h++)C+=I[h]+(h>0?y:0),E-=(h>0?y:0)+I[h];if(x+=g.left+g.right,C+=g.top+g.bottom,(l={}).minW=x+(o.w-o.innerW),l.minH=C+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){var D;o.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),D="start"==t.packV?0:E>0?Math.floor(E/n):0;var F=0,M=t.flexWidths;if(M)for(d=0;d<M.length;d++)F+=M[d];else F=i;var L=S/F;for(d=0;d<i;d++)B[d]+=M?M[d]*L:L;for(p=g.top,h=0;h<n;h++){for(f=g.left,s=I[h]+D,d=0;d<i&&(u=r[T?h*i+i-1-d:h*i+d]);d++)A=u.settings,c=u.layoutRect(),a=Math.max(B[d],c.startMinWidth),c.x=f,c.y=p,"center"==(m=A.alignH||(b?b[d]||b[0]:null))?c.x=f+a/2-c.w/2:"right"==m?c.x=f+a-c.w:"stretch"==m&&(c.w=a),"center"==(m=A.alignV||(w?w[d]||w[0]:null))?c.y=p+s/2-c.h/2:"bottom"==m?c.y=p+s-c.h:"stretch"==m&&(c.h=s),u.layoutRect(c),f+=a+v,u.recalc&&u.recalc();p+=s+y}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var P=e.parent();P&&(P._lastRect=null,P.recalc())}}})})),i("tinymce.core.ui.Iframe",["tinymce.core.ui.Widget","tinymce.core.util.Delay"],(function(e,t){"use strict";return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var i=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,n&&n()):t.setTimeout((function(){i.html(e)})),this}})})),i("tinymce.core.ui.InfoBox",["tinymce.core.ui.Widget"],(function(e){"use strict";return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()})),e.state.on("change:help",(function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()})),e._super()}})})),i("tinymce.core.ui.Label",["tinymce.core.ui.Widget","tinymce.core.ui.DomUtils"],(function(e,t){"use strict";return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super();return e.settings.multiline&&(t.getSize(e.getEl()).width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)),n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,i=n.settings.forId,r=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!i&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(i=e._id),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+r+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+r+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()})),e._super()}})})),i("tinymce.core.ui.Toolbar",["tinymce.core.ui.Container"],(function(e){"use strict";return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each((function(e){e.classes.add("toolbar-item")})),this._super()}})})),i("tinymce.core.ui.MenuBar",["tinymce.core.ui.Toolbar"],(function(e){"use strict";return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})})),i("tinymce.core.ui.MenuButton",["tinymce.core.ui.Button","tinymce.core.ui.Factory","tinymce.core.ui.MenuBar"],(function(e,t,n){"use strict";var i=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var n,i=this;if(i.menu&&i.menu.visible()&&!1!==e)return i.hideMenu();i.menu||((n=i.state.get("menu")||[]).length?n={type:"menu",items:n}:n.type=n.type||"menu",n.renderTo?i.menu=n.parent(i).show().renderTo():i.menu=t.create(n).parent(i).renderTo(),i.fire("createmenu"),i.menu.reflow(),i.menu.on("cancel",(function(e){e.control.parent()===i.menu&&(e.stopPropagation(),i.focus(),i.hideMenu())})),i.menu.on("select",(function(){i.focus()})),i.menu.on("show hide",(function(e){e.control==i.menu&&i.activeMenu("show"==e.type),i.aria("expanded","show"==e.type)})).fire("show")),i.menu.show(),i.menu.layoutRect({w:i.layoutRect().w}),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),i.fire("showmenu")},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each((function(e){e.hideMenu&&e.hideMenu()})),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,i=t._id,r=t.classPrefix,o=t.settings.icon,a=t.state.get("text"),s="";return(e=t.settings.image)?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",a&&(t.classes.add("btn-has-text"),s='<span class="'+r+'txt">'+t.encode(a)+"</span>"),o=t.settings.icon?r+"ico "+r+"i-"+o:"",t.aria("role",t.parent()instanceof n?"menuitem":"button"),'<div id="'+i+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+s+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",(function(t){t.control===e&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())})),e.on("mouseenter",(function(t){var n,r=t.control,o=e.parent();r&&o&&r instanceof i&&r.parent()==o&&(o.items().filter("MenuButton").each((function(e){e.hideMenu&&e!=r&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())})),n&&(r.focus(),r.showMenu()))})),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",(function(){e.menu&&e.menu.remove(),e.menu=null})),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i})),i("tinymce.core.ui.MenuItem",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],(function(e,t,n,i){"use strict";return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",(function(e){e.preventDefault()})),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,i=n.settings,r=n.parent();if(r.items().each((function(e){e!==n&&e.hideMenu()})),i.menu){(e=n.menu)?e.show():((e=i.menu).length?e={type:"menu",items:e}:e.type=e.type||"menu",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),(e=n.menu=t.create(e).parent(n).renderTo()).reflow(),e.on("cancel",(function(t){t.stopPropagation(),n.focus(),e.hide()})),e.on("show hide",(function(e){e.control.items&&e.control.items().each((function(e){e.active(e.settings.selected)}))})).fire("show"),e.on("hide",(function(t){t.control===e&&n.classes.remove("selected")})),e.submenu=!0),e._parentMenu=r,e.classes.add("menu-sub");var o=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),o),e.rel=o,o="menu-sub-"+o,e.classes.remove(e._lastRel).add(o),e._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each((function(e){e.hideMenu&&e.hideMenu()})),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){var e,t=this,i=t._id,r=t.settings,o=t.classPrefix,a=t.state.get("text"),s=t.settings.icon,l="",c=r.shortcut,u=t.encode(r.url);function d(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t=r.match||"";return t?e.replace(new RegExp(d(t),"gi"),(function(e){return"!mce~match["+e+"]mce~match!"})):e}function f(e){return e.replace(new RegExp(d("!mce~match["),"g"),"<b>").replace(new RegExp(d("]mce~match!"),"g"),"</b>")}return s&&t.parent().classes.add("menu-has-icons"),r.image&&(l=" style=\"background-image: url('"+r.image+"')\""),c&&(c=function(e){var t,i,r;for(r=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(i=r[e[t].toLowerCase()])&&(e[t]=i);return e.join("+")}(c)),s=o+"ico "+o+"i-"+(t.settings.icon||"none"),e="-"!==a?'<i class="'+s+'"'+l+"></i>":"",a=f(t.encode(h(a))),u=f(t.encode(h(u))),'<div id="'+i+'" class="'+t.classes+'" tabindex="-1">'+e+("-"!==a?'<span id="'+i+'-text" class="'+o+'text">'+a+"</span>":"")+(c?'<div id="'+i+'-shortcut" class="'+o+'menu-shortcut">'+c+"</div>":"")+(r.menu?'<div class="'+o+'caret"></div>':"")+(u?'<div class="'+o+'menu-item-link">'+u+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var r=e.getEl("text");r&&r.setAttribute("style",n)}return e.on("mouseenter click",(function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),i.requestAnimationFrame((function(){e.parent().hideAll()}))))})),e._super(),e},hover:function(){var e=this;return e.parent().items().each((function(e){e.classes.remove("selected")})),e.classes.toggle("selected",!0),e},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})})),i("tinymce.core.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.core.ui.Control","tinymce.core.util.Delay"],(function(e,t,n){"use strict";return function(i,r){var o,a,s=this,l=t.classPrefix;s.show=function(t,c){function u(){o&&(e(i).append('<div class="'+l+"throbber"+(r?" "+l+"throbber-inline":"")+'"></div>'),c&&c())}return s.hide(),o=!0,t?a=n.setTimeout(u,t):u(),s},s.hide=function(){var e=i.lastChild;return n.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,s}}})),i("tinymce.core.ui.Menu",["tinymce.core.ui.FloatPanel","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.util.Tools"],(function(e,t,n,i){"use strict";return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=i.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var e,t=this;function i(){t.throbber&&(t.throbber.hide(),t.throbber=null)}t.settings.itemsFactory&&(t.throbber||(t.throbber=new n(t.getEl("body"),!0),0===t.items().length?(t.throbber.show(),t.fire("loading")):t.throbber.show(100,(function(){t.items().remove(),t.fire("loading")})),t.on("hide close",i)),t.requestTime=e=(new Date).getTime(),t.settings.itemsFactory((function(n){0!==n.length?t.requestTime===e&&(t.getEl().style.width="",t.getEl("body").style.width="",i(),t.items().remove(),t.getEl("body").innerHTML="",t.add(n),t.renderNew(),t.fire("loaded")):t.hide()})))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var e=this;return e.items().each((function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1})),e.settings.itemsFactory&&e.on("postrender",(function(){e.settings.itemsFactory&&e.load()})),e._super()}})})),i("tinymce.core.ui.ListBox",["tinymce.core.ui.MenuButton","tinymce.core.ui.Menu"],(function(e,t){"use strict";return e.extend({init:function(e){var t,n,i,r,o=this;o._super(e),e=o.settings,o._values=t=e.values,t&&(void 0!==e.value&&function t(r){for(var a=0;a<r.length;a++){if(n=r[a].selected||e.value===r[a].value)return i=i||r[a].text,o.state.set("value",r[a].value),!0;if(r[a].menu&&t(r[a].menu))return!0}}(t),!n&&t.length>0&&(i=t[0].text,o.state.set("value",t[0].value)),o.state.set("menu",t)),o.state.set("text",e.text||i),o.classes.add("listbox"),o.on("select",(function(t){var n=t.control;r&&(t.lastControl=r),e.multiple?n.active(!n.active()):o.value(t.control.value()),r=n}))},bindStates:function(){var e=this;function n(e,t){var i;if(e)for(var r=0;r<e.length;r++){if(e[r].value===t)return e[r];if(e[r].menu&&(i=n(e[r].menu,t)))return i}}return e.on("show",(function(n){var i,r;i=n.control,r=e.value(),i instanceof t&&i.items().each((function(e){e.hasMenus()||e.active(e.value()===r)}))})),e.state.on("change:value",(function(t){var i=n(e.state.get("menu"),t.value);i?e.text(i.text):e.text(e.settings.text)})),e._super()}})})),i("tinymce.core.ui.Radio",["tinymce.core.ui.Checkbox"],(function(e){"use strict";return e.extend({Defaults:{classes:"radio",role:"radio"}})})),i("tinymce.core.ui.ResizeHandle",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper"],(function(e,t){"use strict";return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})})),i("tinymce.core.ui.SelectBox",["tinymce.core.ui.Widget"],(function(e){"use strict";function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",(function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))}))},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,n=this,i="";return e=t(n._options),n.size&&(i=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+i+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",(function(n){e.getEl().innerHTML=t(n.value)})),e._super()}})})),i("tinymce.core.ui.Slider",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils"],(function(e,t,n){"use strict";function i(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function r(e,t,n){e.setAttribute("aria-"+t,n)}function o(e,t){var i,o,a,s,l;"v"==e.settings.orientation?(a="top",o="height",i="h"):(a="left",o="width",i="w"),l=e.getEl("handle"),s=((e.layoutRect()[i]||100)-n.getSize(l)[o])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",l.style[a]=s,l.style.height=e.layoutRect().h+"px",r(l,"valuenow",t),r(l,"valuetext",""+e.settings.previewFilter(t)),r(l,"valuemin",e._minValue),r(l,"valuemax",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,r,o,a,s,l,c=this;e=c._minValue,r=c._maxValue,"v"==c.settings.orientation?(o="screenY",a="top",s="height",l="h"):(o="screenX",a="left",s="width",l="w"),c._super(),function(e,t){function n(n){var r,o;r=c.value(),r=i(r=function(e,t,n){return n*(t-e)-e}(e,t,(r+(o=e))/(t-o)+.05*n),e,t),c.value(r),c.fire("dragstart",{value:r}),c.fire("drag",{value:r}),c.fire("dragend",{value:r})}c.on("keydown",(function(e){switch(e.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}}))}(e,r,c.getEl("handle")),function(e,r,u){var d,h,f,p,A;c._dragHelper=new t(c._id,{handle:c._id+"-handle",start:function(e){d=e[o],h=parseInt(c.getEl("handle").style[a],10),f=(c.layoutRect()[l]||100)-n.getSize(u)[s],c.fire("dragstart",{value:A})},drag:function(t){var n=t[o]-d;p=i(h+n,0,f),u.style[a]=p+"px",A=e+p/f*(r-e),c.value(A),c.tooltip().text(""+c.settings.previewFilter(A)).show().moveRel(u,"bc tc"),c.fire("drag",{value:A})},stop:function(){c.tooltip().hide(),c.fire("dragend",{value:A})}})}(e,r,c.getEl("handle"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){o(e,t.value)})),e._super()}})})),i("tinymce.core.ui.Spacer",["tinymce.core.ui.Widget"],(function(e){"use strict";return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})})),i("tinymce.core.ui.SplitButton",["tinymce.core.ui.MenuButton","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery"],(function(e,t,n){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,i,r=this,o=r.getEl(),a=r.layoutRect();return r._super(),e=o.firstChild,i=o.lastChild,n(e).css({width:a.w-t.getSize(i).width,height:a.h-2}),n(i).css({height:a.h-2}),r},activeMenu:function(e){n(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text"),a="";return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",o&&(t.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+t.encode(o)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+a+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(r?"":"")+t._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",(function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}})),delete e.settings.onclick,e._super()}})})),i("tinymce.core.ui.StackLayout",["tinymce.core.ui.FlowLayout"],(function(e){"use strict";return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})})),i("tinymce.core.ui.TabPanel",["tinymce.core.ui.Panel","tinymce.core.dom.DomQuery","tinymce.core.ui.DomUtils"],(function(e,t,n){"use strict";return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,(n=this.getEl("t"+e)).setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each((function(t,n){e!=n&&t.hide()}))},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each((function(t,r){var o=e._id+"-t"+r;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"})),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",(function(t){var n=t.target.parentNode;if(n&&n.id==e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==t.target&&e.activateTab(i)}))},initLayoutRect:function(){var e,t,i,r=this;t=(t=n.getSize(r.getEl("head")).width)<0?0:t,i=0,r.items().each((function(e){t=Math.max(t,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH)})),r.items().each((function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=i,e.layoutRect({x:0,y:0,w:t,h:i})}));var o=n.getSize(r.getEl("head")).height;return r.settings.minWidth=t,r.settings.minHeight=i+o,(e=r._super()).deltaH+=o,e.innerH=e.h-e.deltaH,e}})})),i("tinymce.core.ui.TextBox",["tinymce.core.ui.Widget","tinymce.core.util.Tools","tinymce.core.ui.DomUtils"],(function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",(function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))})),t.on("keyup",(function(e){t.state.set("value",e.target.value)})))},repaint:function(){var e,t,n,i,r,o=this,a=0;e=o.getEl().style,t=o._layoutRect,r=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),i=(n=o.borderBox).left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-a+"px",r.h=t.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var e,i,r=this,o=r.settings;return e={id:r._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],(function(t){e[t]=o[t]})),r.disabled()&&(e.disabled="disabled"),o.subtype&&(e.type=o.subtype),(i=n.create(o.multiline?"textarea":"input",e)).value=r.state.get("value"),i.className=r.classes,i.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",(function(t){e.state.set("value",t.target.value),e.fire("change",t)}))},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)})),e.state.on("change:disabled",(function(t){e.getEl().disabled=t.value})),e._super()},remove:function(){this.$el.off(),this._super()}})})),r("global!RegExp",RegExp),i("tinymce.core.ui.DropZone",["tinymce.core.ui.Widget","tinymce.core.util.Tools","tinymce.core.ui.DomUtils","global!RegExp"],(function(e,t,n,i){return e.extend({init:function(e){var n=this;e=t.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),n._super(e),n.classes.add("dropzone"),e.multiple&&n.classes.add("multiple")},renderHtml:function(){var e,t,i=this,r=i.settings;return e={id:i._id,hidefocus:"1"},t=n.create("div",e,"<span>"+this.translate(r.text)+"</span>"),r.height&&n.css(t,"height",r.height+"px"),r.width&&n.css(t,"width",r.width+"px"),t.className=i.classes,t.outerHTML},postRender:function(){var e=this,n=function(t){t.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes};e._super(),e.$el.on("dragover",(function(e){e.preventDefault()})),e.$el.on("dragenter",n),e.$el.on("dragleave",n),e.$el.on("drop",(function(n){if(n.preventDefault(),!e.state.get("disabled")){var r=function(n){var r=e.settings.accept;if("string"!=typeof r)return n;var o=new i("("+r.split(/\s*,\s*/).join("|")+")$","i");return t.grep(n,(function(e){return o.test(e.name)}))}(n.dataTransfer.files);e.value=function(){return r.length?e.settings.multiple?r:r[0]:null},r.length&&e.fire("change",n)}}))},remove:function(){this.$el.off(),this._super()}})})),i("tinymce.core.ui.BrowseButton",["tinymce.core.ui.Button","tinymce.core.util.Tools","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","global!RegExp"],(function(e,t,n,i,r){return e.extend({init:function(e){var n=this;e=t.extend({text:"Browse...",multiple:!1,accept:null},e),n._super(e),n.classes.add("browsebutton"),e.multiple&&n.classes.add("multiple")},postRender:function(){var e=this,t=n.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),i(t).on("change",(function(t){var n=t.target.files;e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},t.preventDefault(),n.length&&e.fire("change",t)})),i(t).on("click",(function(e){e.stopPropagation()})),i(e.getEl("button")).on("click",(function(e){e.stopPropagation(),t.click()})),e.getEl().appendChild(t)},remove:function(){i(this.getEl("button")).off(),i(this.getEl("input")).off(),this._super()}})})),i("tinymce.core.ui.Api",["tinymce.core.ui.Selector","tinymce.core.ui.Collection","tinymce.core.ui.ReflowQueue","tinymce.core.ui.Control","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.ui.Container","tinymce.core.ui.DragHelper","tinymce.core.ui.Scrollable","tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.FloatPanel","tinymce.core.ui.Window","tinymce.core.ui.MessageBox","tinymce.core.ui.Tooltip","tinymce.core.ui.Widget","tinymce.core.ui.Progress","tinymce.core.ui.Notification","tinymce.core.ui.Layout","tinymce.core.ui.AbsoluteLayout","tinymce.core.ui.Button","tinymce.core.ui.ButtonGroup","tinymce.core.ui.Checkbox","tinymce.core.ui.ComboBox","tinymce.core.ui.ColorBox","tinymce.core.ui.PanelButton","tinymce.core.ui.ColorButton","tinymce.core.ui.ColorPicker","tinymce.core.ui.Path","tinymce.core.ui.ElementPath","tinymce.core.ui.FormItem","tinymce.core.ui.Form","tinymce.core.ui.FieldSet","tinymce.core.ui.FilePicker","tinymce.core.ui.FitLayout","tinymce.core.ui.FlexLayout","tinymce.core.ui.FlowLayout","tinymce.core.ui.FormatControls","tinymce.core.ui.GridLayout","tinymce.core.ui.Iframe","tinymce.core.ui.InfoBox","tinymce.core.ui.Label","tinymce.core.ui.Toolbar","tinymce.core.ui.MenuBar","tinymce.core.ui.MenuButton","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.ui.Menu","tinymce.core.ui.ListBox","tinymce.core.ui.Radio","tinymce.core.ui.ResizeHandle","tinymce.core.ui.SelectBox","tinymce.core.ui.Slider","tinymce.core.ui.Spacer","tinymce.core.ui.SplitButton","tinymce.core.ui.StackLayout","tinymce.core.ui.TabPanel","tinymce.core.ui.TextBox","tinymce.core.ui.DropZone","tinymce.core.ui.BrowseButton"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b,w,x,C,_,k,S,E,T,B,I,D,F,M,L,P,R,O,N,U,H,$,Q,W,V,j,z,K,G,q,Y,X,J,Z,ee,te,ne,ie,re,oe,ae){"use strict";var se=function(e,t,n){var i,o;for(o=t.split(/[.\/]/),i=0;i<o.length-1;++i)void 0===e[o[i]]&&(e[o[i]]={}),e=e[o[i]];e[o[o.length-1]]=n,function(e,t){r.add(e.split(".").pop(),t)}(t,n)},le={appendTo:function(ce){se(ce,"ui.Selector",e),se(ce,"ui.Collection",t),se(ce,"ui.ReflowQueue",n),se(ce,"ui.Control",i),se(ce,"ui.Factory",r),se(ce,"ui.KeyboardNavigation",o),se(ce,"ui.Container",a),se(ce,"ui.DragHelper",s),se(ce,"ui.Scrollable",l),se(ce,"ui.Panel",c),se(ce,"ui.Movable",u),se(ce,"ui.Resizable",d),se(ce,"ui.FloatPanel",h),se(ce,"ui.Window",f),se(ce,"ui.MessageBox",p),se(ce,"ui.Tooltip",A),se(ce,"ui.Widget",g),se(ce,"ui.Progress",m),se(ce,"ui.Notification",v),se(ce,"ui.Layout",y),se(ce,"ui.AbsoluteLayout",b),se(ce,"ui.Button",w),se(ce,"ui.ButtonGroup",x),se(ce,"ui.Checkbox",C),se(ce,"ui.ComboBox",_),se(ce,"ui.ColorBox",k),se(ce,"ui.PanelButton",S),se(ce,"ui.ColorButton",E),se(ce,"ui.ColorPicker",T),se(ce,"ui.Path",B),se(ce,"ui.ElementPath",I),se(ce,"ui.FormItem",D),se(ce,"ui.Form",F),se(ce,"ui.FieldSet",M),se(ce,"ui.FilePicker",L),se(ce,"ui.FitLayout",P),se(ce,"ui.FlexLayout",R),se(ce,"ui.FlowLayout",O),se(ce,"ui.FormatControls",N),se(ce,"ui.GridLayout",U),se(ce,"ui.Iframe",H),se(ce,"ui.InfoBox",$),se(ce,"ui.Label",Q),se(ce,"ui.Toolbar",W),se(ce,"ui.MenuBar",V),se(ce,"ui.MenuButton",j),se(ce,"ui.MenuItem",z),se(ce,"ui.Throbber",K),se(ce,"ui.Menu",G),se(ce,"ui.ListBox",q),se(ce,"ui.Radio",Y),se(ce,"ui.ResizeHandle",X),se(ce,"ui.SelectBox",J),se(ce,"ui.Slider",Z),se(ce,"ui.Spacer",ee),se(ce,"ui.SplitButton",te),se(ce,"ui.StackLayout",ne),se(ce,"ui.TabPanel",ie),se(ce,"ui.TextBox",re),se(ce,"ui.DropZone",oe),se(ce,"ui.BrowseButton",ae),se(ce,"ui.Api",le)}};return le})),i("tinymce.core.util.JSON",[],(function(){return{serialize:function e(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if("string"==(o=typeof t))return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,(function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t))+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)}))+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(i>0?",":"")+e(t[i],n);return r+"]"}for(a in r="{",t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(r.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t},parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(e){}}}})),i("tinymce.core.util.JSONP",["tinymce.core.dom.DOMUtils"],(function(e){return{callbacks:{},count:0,send:function(t){var n=this,i=e.DOM,r=void 0!==t.count?t.count:n.count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(e){i.remove(o),delete n.callbacks[r],t.callback(e)},i.add(i.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}}})),i("tinymce.core.util.XHR",["tinymce.core.util.Observable","tinymce.core.util.Tools"],(function(e,t){var n={send:function(e){var i,r=0;function o(){!e.async||4==i.readyState||r++>1e4?(e.success&&r<1e4&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):setTimeout(o,10)}if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",n.fire("beforeInitialize",{settings:e}),i=new XMLHttpRequest){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(i.withCredentials=!0),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&t.each(e.requestheaders,(function(e){i.setRequestHeader(e.key,e.value)})),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),(i=n.fire("beforeSend",{xhr:i,settings:e}).xhr).send(e.data),!e.async)return o();setTimeout(o,10)}}};return t.extend(n,e),n})),i("tinymce.core.util.JSONRequest",["tinymce.core.util.JSON","tinymce.core.util.XHR","tinymce.core.util.Tools"],(function(e,t,n){var i=n.extend;function r(e){this.settings=i({},e),this.count=0}return r.sendRPC=function(e){return(new r).send(e)},r.prototype={send:function(n){var r=n.error,o=n.success;(n=i(this.settings,n)).success=function(t,i){void 0===(t=e.parse(t))&&(t={error:"JSON Parse error."}),t.error?r.call(n.error_scope||n.scope,t.error,i):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},r})),i("tinymce.core.util.LocalStorage",[],(function(){var e,t,n,i,r,o;try{if(window.localStorage)return localStorage}catch(e){}function a(){for(var t in i=[],n)i.push(t);e.length=i.length}function s(){var e,i="";if(o){for(var s in n)e=n[s],i+=(i?",":"")+s.length.toString(32)+","+s+","+e.length.toString(32)+","+e;t.setAttribute(r,i);try{t.save(r)}catch(e){}a()}}return r="tinymce",t=document.documentElement,(o=!!t.addBehavior)&&t.addBehavior("#default#userData"),e={key:function(e){return i[e]},getItem:function(e){return e in n?n[e]:null},setItem:function(e,t){n[e]=""+t,s()},removeItem:function(e){delete n[e],s()},clear:function(){n={},s()}},function(){var e,i,s,l=0;if(n={},o){t.load(r),i=t.getAttribute(r)||"";do{var c=u();if(null===c)break;if(null!==(e=u(parseInt(c,32)||0))){if(null===(c=u()))break;s=u(parseInt(c,32)||0),e&&(n[e]=s)}}while(null!==e);a()}function u(e){var t,n;return-1===(n=void 0!==e?l+e:i.indexOf(",",l))||n>i.length?null:(t=i.substring(l,n),l=n+1,t)}}(),e})),i("tinymce.core.api.Tinymce",["tinymce.core.AddOnManager","tinymce.core.api.Formatter","tinymce.core.api.NotificationManager","tinymce.core.api.WindowManager","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ControlSelection","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.RangeUtils","tinymce.core.dom.ScriptLoader","tinymce.core.dom.Selection","tinymce.core.dom.Serializer","tinymce.core.dom.Sizzle","tinymce.core.dom.TreeWalker","tinymce.core.Editor","tinymce.core.EditorCommands","tinymce.core.EditorManager","tinymce.core.EditorObservable","tinymce.core.Env","tinymce.core.FocusManager","tinymce.core.geom.Rect","tinymce.core.html.DomParser","tinymce.core.html.Entities","tinymce.core.html.Node","tinymce.core.html.SaxParser","tinymce.core.html.Schema","tinymce.core.html.Serializer","tinymce.core.html.Styles","tinymce.core.html.Writer","tinymce.core.Shortcuts","tinymce.core.ui.Api","tinymce.core.UndoManager","tinymce.core.util.Class","tinymce.core.util.Color","tinymce.core.util.Delay","tinymce.core.util.EventDispatcher","tinymce.core.util.I18n","tinymce.core.util.JSON","tinymce.core.util.JSONP","tinymce.core.util.JSONRequest","tinymce.core.util.LocalStorage","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.VK","tinymce.core.util.XHR"],(function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,A,g,m,v,y,b,w,x,C,_,k,S,E,T,B,I,D,F,M,L,P,R,O,N,U,H,$,Q,W,V,j,z,K){var G=m,q={geom:{Rect:w},util:{Promise:W,Delay:P,Tools:V,VK:z,URI:j,Class:M,EventDispatcher:R,Observable:Q,I18n:O,XHR:K,JSON:N,JSONRequest:H,JSONP:U,LocalStorage:$,Color:L},dom:{EventUtils:l,Sizzle:f,DomQuery:a,TreeWalker:p,DOMUtils:s,ScriptLoader:u,RangeUtils:c,Serializer:h,ControlSelection:o,BookmarkManager:r,Selection:d,Event:l.Event},html:{Styles:T,Entities:C,Node:_,Schema:S,SaxParser:k,DomParser:x,Writer:B,Serializer:E},Env:y,AddOnManager:e,Formatter:t,UndoManager:F,EditorCommands:g,WindowManager:i,NotificationManager:n,EditorObservable:v,Shortcuts:I,Editor:A,FocusManager:b,EditorManager:m,DOM:s.DOM,ScriptLoader:u.ScriptLoader,PluginManager:e.PluginManager,ThemeManager:e.ThemeManager,trim:V.trim,isArray:V.isArray,is:V.is,toArray:V.toArray,makeMap:V.makeMap,each:V.each,map:V.map,grep:V.grep,inArray:V.inArray,extend:V.extend,create:V.create,walk:V.walk,createNS:V.createNS,resolve:V.resolve,explode:V.explode,_addCacheSuffix:V._addCacheSuffix,isOpera:y.opera,isWebKit:y.webkit,isIE:y.ie,isGecko:y.gecko,isMac:y.mac};return G=V.extend(G,q),D.appendTo(G),G})),i("tinymce.core.api.Main",["ephox.katamari.api.Fun","tinymce.core.api.Tinymce"],(function(t,n){var i=this||window;return function(){return function(e){window.tinymce=e,window.tinyMCE=e}(n),function(n){"function"!=typeof i.define||i.define.amd||(i.define("ephox/tinymce",[],t.constant(n)),i.define("tinymce.core.EditorManager",[],t.constant(n))),e.exports=n}(n),n}})),n("tinymce.core.api.Main")()},51937:function(e,t,n){var i,r;i=[n(37549)],r=function(e){return function(e){function t(e){this.$container,this.constraints=null,this.__$tooltip,this.__init(e)}function n(t,n){var i=!0;return e.each(t,(function(e,r){return void 0===n[e]||t[e]!==n[e]?(i=!1,!1):void 0})),i}function i(t){var n=t.attr("id"),i=n?a.window.document.getElementById(n):null;return i?i===t[0]:e.contains(a.window.document.body,t[0])}var r={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},o="undefined"!=typeof window?window:null,a={hasTouchCapability:!(!o||!("ontouchstart"in o||o.DocumentTouch&&o.document instanceof o.DocumentTouch||o.navigator.maxTouchPoints)),hasTransitions:function(){if(!o)return!1;var e=(o.document.body||o.document.documentElement).style,t="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[t])return!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof e[n[i]+t])return!0;return!1}(),IE:!1,semVer:"4.2.7",window:o},s=function(){this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__instancesLatestArr=[],this.__plugins={},this._env=a};s.prototype={__bridge:function(t,n,i){if(!n[i]){var o=function(){};o.prototype=t;var a=new o;a.__init&&a.__init(n),e.each(t,(function(e,t){0!=e.indexOf("__")&&(n[e]?r.debug&&console.log("The "+e+" method of the "+i+" plugin conflicts with another plugin or native methods"):(n[e]=function(){return a[e].apply(a,Array.prototype.slice.apply(arguments))},n[e].bridged=a))})),n[i]=a}return this},__setWindow:function(e){return a.window=e,this},_getRuler:function(e){return new t(e)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(t){var n=this;if("string"==typeof t){var i=t,r=null;return i.indexOf(".")>0?r=n.__plugins[i]:e.each(n.__plugins,(function(e,t){return t.name.substring(t.name.length-i.length-1)=="."+i?(r=t,!1):void 0})),r}if(t.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return n.__plugins[t.name]=t,t.core&&n.__bridge(t.core,n,t.name),this},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},instances:function(t){var n=[];return e(t||".tooltipstered").each((function(){var t=e(this),i=t.data("tooltipster-ns");i&&e.each(i,(function(e,i){n.push(t.data(i))}))})),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(t){return e((t?t+" ":"")+".tooltipstered").toArray()},setDefaults:function(t){return e.extend(r,t),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.tooltipster=new s,e.Tooltipster=function(t,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(t,n)},e.Tooltipster.prototype={__init:function(t,n){var i=this;if(i._$origin=e(t),i.__options=e.extend(!0,{},r,n),i.__optionsFormat(),!a.IE||a.IE>=i.__options.IEmin){var o=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(o=i._$origin.attr("title"))&&(o=null),i._$origin.data("tooltipster-initialTitle",o)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var s,l=i._$origin.attr("data-tooltip-content");l&&(s=e(l)),s&&s[0]?i.__contentSet(s.first()):i.__contentSet(o)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),e.each(i.__options.plugins,(function(e,t){i._plug(t)})),a.hasTouchCapability&&e(a.window.document.body).on("touchmove."+i.__namespace+"-triggerOpen",(function(e){i._touchRecordEvent(e)})),i._on("created",(function(){i.__prepareTooltip()}))._on("repositioned",(function(e){i.__lastPosition=e.position}))}else i.__options.disabled=!0},__contentInsert:function(){var e=this,t=e._$tooltip.find(".tooltipster-content"),n=e.__Content;return e._trigger({type:"format",content:e.__Content,format:function(e){n=e}}),e.__options.functionFormat&&(n=e.__options.functionFormat.call(e,e,{origin:e._$origin[0]},e.__Content)),"string"!=typeof n||e.__options.contentAsHTML?t.empty().append(n):t.text(n),e},__contentSet:function(t){return t instanceof e&&this.__options.contentCloning&&(t=t.clone(!0)),this.__Content=t,this._trigger({type:"updated",content:t}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var t=this,n=t._$origin,i=t._$origin.is("area");if(i){var r=t._$origin.parent().attr("name");n=e('img[usemap="#'+r+'"]')}var o=n[0].getBoundingClientRect(),s=e(a.window.document),l=e(a.window),c=n,u={available:{document:null,window:null},document:{size:{height:s.height(),width:s.width()}},window:{scroll:{left:a.window.scrollX||a.window.document.documentElement.scrollLeft,top:a.window.scrollY||a.window.document.documentElement.scrollTop},size:{height:l.height(),width:l.width()}},origin:{fixedLineage:!1,offset:{},size:{height:o.bottom-o.top,width:o.right-o.left},usemapImage:i?n[0]:null,windowOffset:{bottom:o.bottom,left:o.left,right:o.right,top:o.top}}};if(i){var d=t._$origin.attr("shape"),h=t._$origin.attr("coords");if(h&&(h=h.split(","),e.map(h,(function(e,t){h[t]=parseInt(e)}))),"default"!=d)switch(d){case"circle":var f=h[0],p=h[1],A=h[2],g=p-A,m=f-A;u.origin.size.height=2*A,u.origin.size.width=u.origin.size.height,u.origin.windowOffset.left+=m,u.origin.windowOffset.top+=g;break;case"rect":var v=h[0],y=h[1],b=h[2],w=h[3];u.origin.size.height=w-y,u.origin.size.width=b-v,u.origin.windowOffset.left+=v,u.origin.windowOffset.top+=y;break;case"poly":for(var x=0,C=0,_=0,k=0,S="even",E=0;E<h.length;E++){var T=h[E];"even"==S?(T>_&&(_=T,0===E&&(x=_)),x>T&&(x=T),S="odd"):(T>k&&(k=T,1==E&&(C=k)),C>T&&(C=T),S="even")}u.origin.size.height=k-C,u.origin.size.width=_-x,u.origin.windowOffset.left+=x,u.origin.windowOffset.top+=C}}for(t._trigger({type:"geometry",edit:function(e){u.origin.size.height=e.height,u.origin.windowOffset.left=e.left,u.origin.windowOffset.top=e.top,u.origin.size.width=e.width},geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}}),u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width,u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height,u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left,u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top,u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height,u.origin.offset.right=u.origin.offset.left+u.origin.size.width,u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}},u.available.window={bottom:{height:Math.max(u.window.size.height-Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=c[0].tagName.toLowerCase();){if("fixed"==c.css("position")){u.origin.fixedLineage=!0;break}c=c.parent()}return u},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=e(a.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=e(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var t=this;return t.__options.selfDestruction?t.__garbageCollector=setInterval((function(){var n=(new Date).getTime();t.__touchEvents=e.grep(t.__touchEvents,(function(e,t){return n-e.time>6e4})),i(t._$origin)||t.close((function(){t.destroy()}))}),2e4):clearInterval(t.__garbageCollector),t},__prepareOrigin:function(){var e=this;if(e._$origin.off("."+e.__namespace+"-triggerOpen"),a.hasTouchCapability&&e._$origin.on("touchstart."+e.__namespace+"-triggerOpen touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen",(function(t){e._touchRecordEvent(t)})),e.__options.triggerOpen.click||e.__options.triggerOpen.tap&&a.hasTouchCapability){var t="";e.__options.triggerOpen.click&&(t+="click."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.tap&&a.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){e._touchIsMeaningfulEvent(t)&&e._open(t)}))}return(e.__options.triggerOpen.mouseenter||e.__options.triggerOpen.touchstart&&a.hasTouchCapability)&&(t="",e.__options.triggerOpen.mouseenter&&(t+="mouseenter."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.touchstart&&a.hasTouchCapability&&(t+="touchstart."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){!e._touchIsTouchEvent(t)&&e._touchIsEmulatedEvent(t)||(e.__pointerIsOverOrigin=!0,e._openShortly(t))}))),(e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&a.hasTouchCapability)&&(t="",e.__options.triggerClose.mouseleave&&(t+="mouseleave."+e.__namespace+"-triggerOpen "),e.__options.triggerClose.touchleave&&a.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){e._touchIsMeaningfulEvent(t)&&(e.__pointerIsOverOrigin=!1)}))),e},__prepareTooltip:function(){var t=this,n=t.__options.interactive?"auto":"";return t._$tooltip.attr("id",t.__namespace).css({"pointer-events":n,zIndex:t.__options.zIndex}),e.each(t.__previousThemes,(function(e,n){t._$tooltip.removeClass(n)})),e.each(t.__options.theme,(function(e,n){t._$tooltip.addClass(n)})),t.__previousThemes=e.merge([],t.__options.theme),t},__scrollHandler:function(t){var n=this;if(n.__options.triggerClose.scroll)n._close(t);else if(i(n._$origin)&&i(n._$tooltip)){var r=null;if(t.target===a.window.document)n.__Geometry.origin.fixedLineage||n.__options.repositionOnScroll&&n.reposition(t);else{r=n.__geometry();var o=!1;if("fixed"!=n._$origin.css("position")&&n.__$originParents.each((function(t,n){var i=e(n),a=i.css("overflow-x"),s=i.css("overflow-y");if("visible"!=a||"visible"!=s){var l=n.getBoundingClientRect();if("visible"!=a&&(r.origin.windowOffset.left<l.left||r.origin.windowOffset.right>l.right))return o=!0,!1;if("visible"!=s&&(r.origin.windowOffset.top<l.top||r.origin.windowOffset.bottom>l.bottom))return o=!0,!1}return"fixed"!=i.css("position")&&void 0})),o)n._$tooltip.css("visibility","hidden");else if(n._$tooltip.css("visibility","visible"),n.__options.repositionOnScroll)n.reposition(t);else{var s=r.origin.offset.left-n.__Geometry.origin.offset.left,l=r.origin.offset.top-n.__Geometry.origin.offset.top;n._$tooltip.css({left:n.__lastPosition.coord.left+s,top:n.__lastPosition.coord.top+l})}}n._trigger({type:"scroll",event:t,geo:r})}return n},__stateSet:function(e){return this.__state=e,this._trigger({type:"state",state:e}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,e.each(this.__timeouts.close,(function(e,t){clearTimeout(t)})),this.__timeouts.close=[],this},__trackerStart:function(){var e=this,t=e._$tooltip.find(".tooltipster-content");return e.__options.trackTooltip&&(e.__contentBcr=t[0].getBoundingClientRect()),e.__tracker=setInterval((function(){if(i(e._$origin)&&i(e._$tooltip)){if(e.__options.trackOrigin){var r=e.__geometry(),o=!1;n(r.origin.size,e.__Geometry.origin.size)&&(e.__Geometry.origin.fixedLineage?n(r.origin.windowOffset,e.__Geometry.origin.windowOffset)&&(o=!0):n(r.origin.offset,e.__Geometry.origin.offset)&&(o=!0)),o||(e.__options.triggerClose.mouseleave?e._close():e.reposition())}if(e.__options.trackTooltip){var a=t[0].getBoundingClientRect();a.height===e.__contentBcr.height&&a.width===e.__contentBcr.width||(e.reposition(),e.__contentBcr=a)}}else e._close()}),e.__options.trackerInterval),e},_close:function(t,n,i){var r=this,o=!0;if(r._trigger({type:"close",event:t,stop:function(){o=!1}}),o||i){n&&r.__callbacks.close.push(n),r.__callbacks.open=[],r.__timeoutsClear();var s=function(){e.each(r.__callbacks.close,(function(e,n){n.call(r,r,{event:t,origin:r._$origin[0]})})),r.__callbacks.close=[]};if("closed"!=r.__state){var l=!0,c=(new Date).getTime()+r.__options.animationDuration[1];if("disappearing"==r.__state&&c>r.__closingTime&&r.__options.animationDuration[1]>0&&(l=!1),l){r.__closingTime=c,"disappearing"!=r.__state&&r.__stateSet("disappearing");var u=function(){clearInterval(r.__tracker),r._trigger({type:"closing",event:t}),r._$tooltip.off("."+r.__namespace+"-triggerClose").removeClass("tooltipster-dying"),e(a.window).off("."+r.__namespace+"-triggerClose"),r.__$originParents.each((function(t,n){e(n).off("scroll."+r.__namespace+"-triggerClose")})),r.__$originParents=null,e(a.window.document.body).off("."+r.__namespace+"-triggerClose"),r._$origin.off("."+r.__namespace+"-triggerClose"),r._off("dismissable"),r.__stateSet("closed"),r._trigger({type:"after",event:t}),r.__options.functionAfter&&r.__options.functionAfter.call(r,r,{event:t,origin:r._$origin[0]}),s()};a.hasTransitions?(r._$tooltip.css({"-moz-animation-duration":r.__options.animationDuration[1]+"ms","-ms-animation-duration":r.__options.animationDuration[1]+"ms","-o-animation-duration":r.__options.animationDuration[1]+"ms","-webkit-animation-duration":r.__options.animationDuration[1]+"ms","animation-duration":r.__options.animationDuration[1]+"ms","transition-duration":r.__options.animationDuration[1]+"ms"}),r._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),r.__options.animationDuration[1]>0&&r._$tooltip.delay(r.__options.animationDuration[1]),r._$tooltip.queue(u)):r._$tooltip.stop().fadeOut(r.__options.animationDuration[1],u)}}else s()}return r},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(t,n){var r=this;if(!r.__destroying&&i(r._$origin)&&r.__enabled){var o=!0;if("closed"==r.__state&&(r._trigger({type:"before",event:t,stop:function(){o=!1}}),o&&r.__options.functionBefore&&(o=r.__options.functionBefore.call(r,r,{event:t,origin:r._$origin[0]}))),!1!==o&&null!==r.__Content){n&&r.__callbacks.open.push(n),r.__callbacks.close=[],r.__timeoutsClear();var s,l=function(){"stable"!=r.__state&&r.__stateSet("stable"),e.each(r.__callbacks.open,(function(e,t){t.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})})),r.__callbacks.open=[]};if("closed"!==r.__state)s=0,"disappearing"===r.__state?(r.__stateSet("appearing"),a.hasTransitions?(r._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(l)):r._$tooltip.stop().fadeIn(l)):"stable"==r.__state&&l();else{if(r.__stateSet("appearing"),s=r.__options.animationDuration[0],r.__contentInsert(),r.reposition(t,!0),a.hasTransitions?(r._$tooltip.addClass("tooltipster-"+r.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":r.__options.animationDuration[0]+"ms","-ms-animation-duration":r.__options.animationDuration[0]+"ms","-o-animation-duration":r.__options.animationDuration[0]+"ms","-webkit-animation-duration":r.__options.animationDuration[0]+"ms","animation-duration":r.__options.animationDuration[0]+"ms","transition-duration":r.__options.animationDuration[0]+"ms"}),setTimeout((function(){"closed"!=r.__state&&(r._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(l))}),0)):r._$tooltip.css("display","none").fadeIn(r.__options.animationDuration[0],l),r.__trackerStart(),e(a.window).on("resize."+r.__namespace+"-triggerClose",(function(t){var n=e(document.activeElement);(n.is("input")||n.is("textarea"))&&e.contains(r._$tooltip[0],n[0])||r.reposition(t)})).on("scroll."+r.__namespace+"-triggerClose",(function(e){r.__scrollHandler(e)})),r.__$originParents=r._$origin.parents(),r.__$originParents.each((function(t,n){e(n).on("scroll."+r.__namespace+"-triggerClose",(function(e){r.__scrollHandler(e)}))})),r.__options.triggerClose.mouseleave||r.__options.triggerClose.touchleave&&a.hasTouchCapability){r._on("dismissable",(function(e){e.dismissable?e.delay?(h=setTimeout((function(){r._close(e.event)}),e.delay),r.__timeouts.close.push(h)):r._close(e):clearTimeout(h)}));var c=r._$origin,u="",d="",h=null;r.__options.interactive&&(c=c.add(r._$tooltip)),r.__options.triggerClose.mouseleave&&(u+="mouseenter."+r.__namespace+"-triggerClose ",d+="mouseleave."+r.__namespace+"-triggerClose "),r.__options.triggerClose.touchleave&&a.hasTouchCapability&&(u+="touchstart."+r.__namespace+"-triggerClose",d+="touchend."+r.__namespace+"-triggerClose touchcancel."+r.__namespace+"-triggerClose"),c.on(d,(function(e){if(r._touchIsTouchEvent(e)||!r._touchIsEmulatedEvent(e)){var t="mouseleave"==e.type?r.__options.delay:r.__options.delayTouch;r._trigger({delay:t[1],dismissable:!0,event:e,type:"dismissable"})}})).on(u,(function(e){!r._touchIsTouchEvent(e)&&r._touchIsEmulatedEvent(e)||r._trigger({dismissable:!1,event:e,type:"dismissable"})}))}r.__options.triggerClose.originClick&&r._$origin.on("click."+r.__namespace+"-triggerClose",(function(e){r._touchIsTouchEvent(e)||r._touchIsEmulatedEvent(e)||r._close(e)})),(r.__options.triggerClose.click||r.__options.triggerClose.tap&&a.hasTouchCapability)&&setTimeout((function(){if("closed"!=r.__state){var t="",n=e(a.window.document.body);r.__options.triggerClose.click&&(t+="click."+r.__namespace+"-triggerClose "),r.__options.triggerClose.tap&&a.hasTouchCapability&&(t+="touchend."+r.__namespace+"-triggerClose"),n.on(t,(function(t){r._touchIsMeaningfulEvent(t)&&(r._touchRecordEvent(t),r.__options.interactive&&e.contains(r._$tooltip[0],t.target)||r._close(t))})),r.__options.triggerClose.tap&&a.hasTouchCapability&&n.on("touchstart."+r.__namespace+"-triggerClose",(function(e){r._touchRecordEvent(e)}))}}),0),r._trigger("ready"),r.__options.functionReady&&r.__options.functionReady.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})}r.__options.timer>0&&(h=setTimeout((function(){r._close()}),r.__options.timer+s),r.__timeouts.close.push(h))}}return r},_openShortly:function(e){var t=this,n=!0;if("stable"!=t.__state&&"appearing"!=t.__state&&!t.__timeouts.open&&(t._trigger({type:"start",event:e,stop:function(){n=!1}}),n)){var i=0==e.type.indexOf("touch")?t.__options.delayTouch:t.__options.delay;i[0]?t.__timeouts.open=setTimeout((function(){t.__timeouts.open=null,t.__pointerIsOverOrigin&&t._touchIsMeaningfulEvent(e)?(t._trigger("startend"),t._open(e)):t._trigger("startcancel")}),i[0]):(t._trigger("startend"),t._open(e))}return t},_optionsExtract:function(t,n){var i=this,r=e.extend(!0,{},n),o=i.__options[t];return o||(o={},e.each(n,(function(e,t){var n=i.__options[e];void 0!==n&&(o[e]=n)}))),e.each(r,(function(t,n){void 0!==o[t]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof o[t]||o[t]instanceof Array||null==o[t]?r[t]=o[t]:e.extend(r[t],o[t]))})),r},_plug:function(t){var n=e.tooltipster._plugin(t);if(!n)throw new Error('The "'+t+'" plugin is not defined');return n.instance&&e.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(e){for(var t=!1,n=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var r=this.__touchEvents[i];if(!(n-r.time<500))break;r.target===e.target&&(t=!0)}return t},_touchIsMeaningfulEvent:function(e){return this._touchIsTouchEvent(e)&&!this._touchSwiped(e.target)||!this._touchIsTouchEvent(e)&&!this._touchIsEmulatedEvent(e)},_touchIsTouchEvent:function(e){return 0==e.type.indexOf("touch")},_touchRecordEvent:function(e){return this._touchIsTouchEvent(e)&&(e.time=(new Date).getTime(),this.__touchEvents.push(e)),this},_touchSwiped:function(e){for(var t=!1,n=this.__touchEvents.length-1;n>=0;n--){var i=this.__touchEvents[n];if("touchmove"==i.type){t=!0;break}if("touchstart"==i.type&&e===i.target)break}return t},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),t[0].instance=this,t[0].origin=this._$origin?this._$origin[0]:null,t[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),e.tooltipster._trigger.apply(e.tooltipster,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},_unplug:function(t){var n=this;if(n[t]){var i=e.tooltipster._plugin(t);i.instance&&e.each(i.instance,(function(e,i){n[e]&&n[e].bridged===n[t]&&delete n[e]})),n[t].__destroy&&n[t].__destroy(),delete n[t]}return n},close:function(e){return this.__destroyed?this.__destroyError():this._close(null,e),this},content:function(e){var t=this;if(void 0===e)return t.__Content;if(t.__destroyed)t.__destroyError();else if(t.__contentSet(e),null!==t.__Content){if("closed"!==t.__state&&(t.__contentInsert(),t.reposition(),t.__options.updateAnimation))if(a.hasTransitions){var n=t.__options.updateAnimation;t._$tooltip.addClass("tooltipster-update-"+n),setTimeout((function(){"closed"!=t.__state&&t._$tooltip.removeClass("tooltipster-update-"+n)}),1e3)}else t._$tooltip.fadeTo(200,.5,(function(){"closed"!=t.__state&&t._$tooltip.fadeTo(200,1)}))}else t._close();return t},destroy:function(){var t=this;if(t.__destroyed)t.__destroyError();else{"closed"!=t.__state?t.option("animationDuration",0)._close(null,null,!0):t.__timeoutsClear(),t._trigger("destroy"),t.__destroyed=!0,t._$origin.removeData(t.__namespace).off("."+t.__namespace+"-triggerOpen"),e(a.window.document.body).off("."+t.__namespace+"-triggerOpen");var n=t._$origin.data("tooltipster-ns");if(n)if(1===n.length){var i=null;"previous"==t.__options.restoration?i=t._$origin.data("tooltipster-initialTitle"):"current"==t.__options.restoration&&(i="string"==typeof t.__Content?t.__Content:e("<div></div>").append(t.__Content).html()),i&&t._$origin.attr("title",i),t._$origin.removeClass("tooltipstered"),t._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=e.grep(n,(function(e,n){return e!==t.__namespace})),t._$origin.data("tooltipster-ns",n);t._trigger("destroyed"),t._off(),t.off(),t.__Content=null,t.__$emitterPrivate=null,t.__$emitterPublic=null,t.__options.parent=null,t._$origin=null,t._$tooltip=null,e.tooltipster.__instancesLatestArr=e.grep(e.tooltipster.__instancesLatestArr,(function(e,n){return t!==e})),clearInterval(t.__garbageCollector)}return t},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(e){return this.close(e)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(e){return this.__destroyed?this.__destroyError():this._open(null,e),this},option:function(t,n){return void 0===n?this.__options[t]:(this.__destroyed?this.__destroyError():(this.__options[t]=n,this.__optionsFormat(),e.inArray(t,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===t&&this.__prepareGC()),this)},reposition:function(e,t){var n=this;return n.__destroyed?n.__destroyError():"closed"!=n.__state&&i(n._$origin)&&(t||i(n._$tooltip))&&(t||n._$tooltip.detach(),n.__Geometry=n.__geometry(),n._trigger({type:"reposition",event:e,helper:{geo:n.__Geometry}})),n},show:function(e){return this.open(e)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.fn.tooltipster=function(){var t=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof t[0]){var i="#*$~&";return this.each((function(){var r=e(this).data("tooltipster-ns"),o=r?e(this).data(r[0]):null;if(!o)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof o[t[0]])throw new Error('Unknown method "'+t[0]+'"');this.length>1&&"content"==t[0]&&(t[1]instanceof e||"object"==typeof t[1]&&null!=t[1]&&t[1].tagName)&&!o.__options.contentCloning&&o.__options.debug&&console.log(n);var a=o[t[0]](t[1],t[2]);return a!==o||"instance"===t[0]?(i=a,!1):void 0})),"#*$~&"!==i?i:this}e.tooltipster.__instancesLatestArr=[];var o=t[0]&&void 0!==t[0].multiple,a=o&&t[0].multiple||!o&&r.multiple,s=t[0]&&void 0!==t[0].content,l=s&&t[0].content||!s&&r.content,c=t[0]&&void 0!==t[0].contentCloning,u=c&&t[0].contentCloning||!c&&r.contentCloning,d=t[0]&&void 0!==t[0].debug,h=d&&t[0].debug||!d&&r.debug;return this.length>1&&(l instanceof e||"object"==typeof l&&null!=l&&l.tagName)&&!u&&h&&console.log(n),this.each((function(){var n=!1,i=e(this),r=i.data("tooltipster-ns"),o=null;r?a?n=!0:h&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(o=new e.Tooltipster(this,t[0]),r||(r=[]),r.push(o.__namespace),i.data("tooltipster-ns",r),i.data(o.__namespace,o),o.__options.functionInit&&o.__options.functionInit.call(o,o,{origin:this}),o._trigger("init")),e.tooltipster.__instancesLatestArr.push(o)})),this},t.prototype={__init:function(t){this.__$tooltip=t,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=e('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(a.window.document.body)},__forceRedraw:function(){var e=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(e)},constrain:function(e,t){return this.constraints={width:e,height:t},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:e}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var e=this.__$tooltip[0].getBoundingClientRect(),t={size:{height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),i=this.__$tooltip.outerHeight(),r=n[0].getBoundingClientRect(),o={height:i<=this.constraints.height,width:e.width<=this.constraints.width&&r.width>=n[0].scrollWidth-1};t.fits=o.height&&o.width}return a.IE&&a.IE<=11&&t.size.width!==a.window.document.documentElement.clientWidth&&(t.size.width=Math.ceil(t.size.width)+1),t}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?a.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?a.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(a.IE=parseInt(l.toLowerCase().split("edge/")[1]));var c="tooltipster.sideTip";return e.tooltipster._plugin({name:c,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(e){var t=this;t.__instance=e,t.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),t.__previousState="closed",t.__options,t.__optionsFormat(),t.__instance._on("state."+t.__namespace,(function(e){"closed"==e.state?t.__close():"appearing"==e.state&&"closed"==t.__previousState&&t.__create(),t.__previousState=e.state})),t.__instance._on("options."+t.__namespace,(function(){t.__optionsFormat()})),t.__instance._on("reposition."+t.__namespace,(function(e){t.__reposition(e.event,e.helper)}))},__close:function(){this.__instance.content()instanceof e&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var t=e('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||t.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&t.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&t.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=t,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var t=this;if(t.__options=t.__instance._optionsExtract(c,t.__defaults()),t.__options.position&&(t.__options.side=t.__options.position),"object"!=typeof t.__options.distance&&(t.__options.distance=[t.__options.distance]),t.__options.distance.length<4&&(void 0===t.__options.distance[1]&&(t.__options.distance[1]=t.__options.distance[0]),void 0===t.__options.distance[2]&&(t.__options.distance[2]=t.__options.distance[0]),void 0===t.__options.distance[3]&&(t.__options.distance[3]=t.__options.distance[1]),t.__options.distance={top:t.__options.distance[0],right:t.__options.distance[1],bottom:t.__options.distance[2],left:t.__options.distance[3]}),"string"==typeof t.__options.side){t.__options.side=[t.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[t.__options.side]],"left"==t.__options.side[0]||"right"==t.__options.side[0]?t.__options.side.push("top","bottom"):t.__options.side.push("right","left")}6===e.tooltipster._env.IE&&!0!==t.__options.arrow&&(t.__options.arrow=!1)},__reposition:function(t,n){var i,r=this,o=r.__targetFind(n),a=[];r.__instance._$tooltip.detach();var s=r.__instance._$tooltip.clone(),l=e.tooltipster._getRuler(s),c=!1,u=r.__instance.option("animation");switch(u&&s.removeClass("tooltipster-"+u),e.each(["window","document"],(function(i,u){var d=null;if(r.__instance._trigger({container:u,helper:n,satisfied:c,takeTest:function(e){d=e},results:a,type:"positionTest"}),1==d||0!=d&&0==c&&("window"!=u||r.__options.viewportAware))for(i=0;i<r.__options.side.length;i++){var h={horizontal:0,vertical:0},f=r.__options.side[i];"top"==f||"bottom"==f?h.vertical=r.__options.distance[f]:h.horizontal=r.__options.distance[f],r.__sideChange(s,f),e.each(["natural","constrained"],(function(e,i){if(d=null,r.__instance._trigger({container:u,event:t,helper:n,mode:i,results:a,satisfied:c,side:f,takeTest:function(e){d=e},type:"positionTest"}),1==d||0!=d&&0==c){var s={container:u,distance:h,fits:null,mode:i,outerSize:null,side:f,size:null,target:o[f],whole:null},p=("natural"==i?l.free():l.constrain(n.geo.available[u][f].width-h.horizontal,n.geo.available[u][f].height-h.vertical)).measure();if(s.size=p.size,s.outerSize={height:p.size.height+h.vertical,width:p.size.width+h.horizontal},"natural"==i?n.geo.available[u][f].width>=s.outerSize.width&&n.geo.available[u][f].height>=s.outerSize.height?s.fits=!0:s.fits=!1:s.fits=p.fits,"window"==u&&(s.fits?s.whole="top"==f||"bottom"==f?n.geo.origin.windowOffset.right>=r.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=r.__options.minIntersection:n.geo.origin.windowOffset.bottom>=r.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=r.__options.minIntersection:s.whole=!1),a.push(s),s.whole)c=!0;else if("natural"==s.mode&&(s.fits||s.size.width<=n.geo.available[u][f].width))return!1}}))}})),r.__instance._trigger({edit:function(e){a=e},event:t,helper:n,results:a,type:"positionTested"}),a.sort((function(e,t){if(e.whole&&!t.whole)return-1;if(!e.whole&&t.whole)return 1;if(e.whole&&t.whole){var n=r.__options.side.indexOf(e.side);return(i=r.__options.side.indexOf(t.side))>n?-1:n>i?1:"natural"==e.mode?-1:1}return e.fits&&!t.fits?-1:!e.fits&&t.fits?1:e.fits&&t.fits?(n=r.__options.side.indexOf(e.side),(i=r.__options.side.indexOf(t.side))>n?-1:n>i?1:"natural"==e.mode?-1:1):"document"==e.container&&"bottom"==e.side&&"natural"==e.mode?-1:1;var i})),(i=a[0]).coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=n.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=n.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=n.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=n.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>n.geo.window.size.width-i.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?i.coord.left=n.geo.window.size.width-i.size.width:i.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>n.geo.window.size.height-i.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?i.coord.top=n.geo.window.size.height-i.size.height:i.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>n.geo.window.size.width-i.size.width&&(i.coord.left=n.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),r.__sideChange(s,i.side),n.tooltipClone=s[0],n.tooltipParent=r.__instance.option("parent").parent[0],n.mode=i.mode,n.whole=i.whole,n.origin=r.__instance._$origin[0],n.tooltip=r.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var d,h,f,p=e.extend(!0,{},i);if(r.__instance._trigger({edit:function(e){i=e},event:t,helper:n,position:p,type:"position"}),r.__options.functionPosition){var A=r.__options.functionPosition.call(r,r.__instance,n,p);A&&(i=A)}l.destroy(),"top"==i.side||"bottom"==i.side?(d={prop:"left",val:i.target-i.coord.left},h=i.size.width-this.__options.minIntersection):(d={prop:"top",val:i.target-i.coord.top},h=i.size.height-this.__options.minIntersection),d.val<this.__options.minIntersection?d.val=this.__options.minIntersection:d.val>h&&(d.val=h),f=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},i.coord={left:f.left+(i.coord.left-n.geo.origin.windowOffset.left),top:f.top+(i.coord.top-n.geo.origin.windowOffset.top)},r.__sideChange(r.__instance._$tooltip,i.side),n.geo.origin.fixedLineage?r.__instance._$tooltip.css("position","fixed"):r.__instance._$tooltip.css("position",""),r.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(d.prop,d.val),r.__instance._$tooltip.appendTo(r.__instance.option("parent")),r.__instance._trigger({type:"repositioned",event:t,position:i})},__sideChange:function(e,t){e.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+t)},__targetFind:function(e){var t={},n=this.__instance._$origin[0].getClientRects();if(n.length>1&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)),n.length<2)t.top=Math.floor(e.geo.origin.windowOffset.left+e.geo.origin.size.width/2),t.bottom=t.top,t.left=Math.floor(e.geo.origin.windowOffset.top+e.geo.origin.size.height/2),t.right=t.left;else{var i=n[0];t.top=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],t.right=Math.floor(i.top+(i.bottom-i.top)/2),i=n[n.length-1],t.bottom=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],t.left=Math.floor(i.top+(i.bottom-i.top)/2)}return t}}}),e}(e)}.apply(t,i),void 0===r||(e.exports=r)},75286:function(e){function t(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function n(){this.step="    ",this.shift=t(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function r(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}n.prototype.xml=function(e,n){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,o=!1,a=0,s="",l=0,c=n?t(n):this.shift;for(l=0;l<r;l++)i[l].search(/<!/)>-1?(s+=c[a]+i[l],o=!0,(i[l].search(/-->/)>-1||i[l].search(/\]>/)>-1||i[l].search(/!DOCTYPE/)>-1)&&(o=!1)):i[l].search(/-->/)>-1||i[l].search(/\]>/)>-1?(s+=i[l],o=!1):/^<\w/.exec(i[l-1])&&/^<\/\w/.exec(i[l])&&/^<[\w:\-\.\,]+/.exec(i[l-1])==/^<\/[\w:\-\.\,]+/.exec(i[l])[0].replace("/","")?(s+=i[l],o||a--):i[l].search(/<\w/)>-1&&-1==i[l].search(/<\//)&&-1==i[l].search(/\/>/)?s=s+=o?i[l]:c[a++]+i[l]:i[l].search(/<\w/)>-1&&i[l].search(/<\//)>-1?s=s+=o?i[l]:c[a]+i[l]:i[l].search(/<\//)>-1?s=s+=o?i[l]:c[--a]+i[l]:i[l].search(/\/>/)>-1?s=s+=o?i[l]:c[a]+i[l]:i[l].search(/<\?/)>-1||i[l].search(/xmlns\:/)>-1||i[l].search(/xmlns\=/)>-1?s+=c[a]+i[l]:s+=i[l];return"\n"==s[0]?s.slice(1):s},n.prototype.json=function(e,t){return t=t||this.step,"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},n.prototype.css=function(e,n){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,o=0,a="",s=0,l=n?t(n):this.shift;for(s=0;s<r;s++)/\{/.exec(i[s])?a+=l[o++]+i[s]:/\}/.exec(i[s])?a+=l[--o]+i[s]:(/\*\\/.exec(i[s]),a+=l[o]+i[s]);return a.replace(/^\n{1,}/,"")},n.prototype.sql=function(e,n){var o=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=o.length,s=[],l=0,c=this.step,u=0,d="",h=0,f=n?t(n):this.shift;for(h=0;h<a;h++)s=h%2?s.concat(o[h]):s.concat(r(o[h],c));for(a=s.length,h=0;h<a;h++)u=i(s[h],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+c+c)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+c+c)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[h])?d+=f[++l]+s[h]:/\'/.exec(s[h])?(u<1&&l&&l--,d+=s[h]):(d+=f[l]+s[h],u<1&&l&&l--);return d.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},n.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},n.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},n.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},n.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new n},42759:function(e){"use strict";e.exports='<button role="menuitem" type="button" data-toggle="modal"  data-target="<@= context.modalTarget @>" class="control cs-tooltip <@= context.visible ? \'\' : \'hidden\' @>" aria-label="<@= context.tooltip @>" <@= context.disabled ? \'disabled="disabled"\' : \'\' @>>\n  <@ if(context.icon) { @><i class="ci <@= context.icon @>" role="img" aria-hidden="true"></i><@ } else { @><@= context.tooltip @><@ } @>\n</button>'},42990:function(e){"use strict";e.exports='<a role="menuitem" href="<@= context.href @>" target="_blank" class="control cs-tooltip <@= context.visible ? \'\' : \'hidden\' @>" aria-label="<@= context.tooltip @>" <@= context.disabled ? \'disabled="disabled"\' : \'\' @>>\n  <@ if(context.icon) { @><i class="ci <@= context.icon @>" role="img" aria-hidden="true"></i><@ } else { @><@= context.tooltip @><@ } @>\n</a>'},64284:function(e){"use strict";e.exports='<div class="dropdown dropdown-left">\n  <button role="menuitem" type="button" class="tooltip-menu menu-trigger control cs-tooltip <@= context.visible ? \'\' : \'hidden\' @>" aria-label="<@= context.tooltip @>" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" <@= context.disabled ? \'disabled="disabled"\' : \'\' @>>\n    <@ if(context.icon) { @><i class="ci <@= context.icon @>" role="img" aria-hidden="true"></i><@ } else { @><@= context.tooltip @><@ } @>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="dropdown-menu-body">\n      <div class="checkbox">\n        <input type="checkbox" id="<@= context.editorUId @>-ace.showFoldWidgets" data-option="ace.showFoldWidgets" />\n        <label for="<@= context.editorUId @>-ace.showFoldWidgets"><@= context.labels["ace.showFoldWidgets"] @></label>\n      </div>\n      <div class="checkbox">\n        <input type="checkbox" id="<@= context.editorUId @>-ace.showInvisibles" data-option="ace.showInvisibles" />\n        <label for="<@= context.editorUId @>-ace.showInvisibles"><@= context.labels["ace.showInvisibles"] @></label>\n      </div>\n      <div class="checkbox">\n        <input type="checkbox" id="<@= context.editorUId @>-ace.useWorker" data-option="ace.useWorker" />\n        <label for="<@= context.editorUId @>-ace.useWorker"><@= context.labels["ace.useWorker"] @></label>\n      </div>\n      <div class="checkbox">\n        <input type="checkbox" id="<@= context.editorUId @>-ace.highlightActiveLine" data-option="ace.highlightActiveLine" />\n        <label for="<@= context.editorUId @>-ace.highlightActiveLine"><@= context.labels["ace.highlightActiveLine"] @></label>\n      </div>\n      <div class="checkbox">\n        <input type="checkbox" id="<@= context.editorUId @>-ace.highlightGutterLine" data-option="ace.highlightGutterLine" />\n        <label for="<@= context.editorUId @>-ace.highlightGutterLine"><@= context.labels["ace.highlightGutterLine"] @></label>\n      </div>\n      <div class="checkbox">\n        <input type="checkbox" id="<@= context.editorUId @>-ace.showGutter" data-option="ace.showGutter" />\n        <label for="<@= context.editorUId @>-ace.showGutter"><@= context.labels["ace.showGutter"] @></label>\n      </div>\n      <div class="checkbox">\n        <input type="checkbox" id="<@= context.editorUId @>-ace.highlightSelectedWord" data-option="ace.highlightSelectedWord" />\n        <label for="<@= context.editorUId @>-ace.highlightSelectedWord"><@= context.labels["ace.highlightSelectedWord"] @></label>\n      </div>\n      <div class="row">\n        <label for="<@= context.editorUId @>-ace.fontSize" class="col-sm-6 control-label"><@= context.labels["ace.fontSize"] @></label>\n        <select id="<@= context.editorUId @>-ace.fontSize" class="form-control form-control-selectize" data-option="ace.fontSize">\n          <option value="10px">10px</option>\n          <option value="12px">12px</option>\n          <option value="14px">14px</option>\n        </select>\n      </div>\n      <div class="row">\n        <label for="<@= context.editorUId @>-ace.softWrap" class="col-sm-6 control-label"><@= context.labels["ace.softWrap"] @></label>\n        <select id="<@= context.editorUId @>-ace.softWrap" class="form-control form-control-selectize" data-option="ace.softWrap">\n          <option value="false"><@= context.labels["ace.softWrap.false"] @></option>\n          <option value="true"><@= context.labels["ace.softWrap.true"] @></option>\n          <option value="auto"><@= context.labels["ace.softWrap.auto"] @></option>\n        </select>\n      </div>\n      <div class="row">\n        <label for="<@= context.editorUId @>-ace.mode" class="col-sm-6 control-label"><@= context.labels["ace.mode"] @></label>\n        <select id="<@= context.editorUId @>-ace.mode" class="form-control form-control-selectize" data-option="ace.mode">\n        <@ _.each(context.modes, function(mode) { @>\n          <option value="<@= mode.name @>"><@= mode.desc @></option>\n        <@ }) @>\n        </select>\n      </div>\n    </div>\n  </div>\n</div>'},19580:function(e){"use strict";e.exports='<div class="cscd-editor-stats">\n  <span class="cscd-editor-position"></span> <span class="cscd-editor-mode"></span>\n</div>'},84877:function(e){"use strict";e.exports='<button role="menuitem" type="button" class="control <@= context.icon ? \'cs-tooltip\' : \'\' @> <@= context.visible ? \'\' : \'hidden\' @>" aria-label="<@= context.tooltip @>" <@= context.disabled ? \'disabled="disabled"\' : \'\' @>>\n  <@ if(context.icon) { @><i class="ci <@= context.icon @>" role="img" aria-hidden="true"></i><@ } else { @><@= context.tooltip @><@ } @>\n</button>'},21196:function(e){"use strict";e.exports='<div class="btn-toolbar cscd-toolbar hide" role="toolbar"></div>'},61903:function(e){"use strict";e.exports='<div class="hilldash-l-jqui-col col-wrapper" id="<@= context.idPrefix @><@= context.id @>">\n  <div class="hilldash-l-jqui-col-inner col"></div>\n</div>'},96592:function(e){"use strict";e.exports='<div class="dz-message">\n  <@= context.message @>\n</div>'},77754:function(e){"use strict";e.exports='<div class="form-group form-group-md">\n    <label class="required" for="widget-<@= context.widgetId @>-site-filter"><@= context.I18n.get(\'asset.type.site\') @></label>\n    <select id="widget-<@= context.widgetId @>-site-filter" class="widget-site-filter" data-placeholder="<@= context.siteFilterPlaceholder @>" data-selected-site-id="<@= context.filteredSiteId @>"></select>\n</div>'},48861:function(e){"use strict";e.exports="<div class=\"date-wrapper\"><span class=\"month-week-day\"><@= context.currentMoment.format('ddd') @><br/><@= context.currentMoment.format('MMM') @></span><span class=\"day-of-month\"><@= context.currentMoment.format('D') @></span></div>"},30248:function(e){"use strict";e.exports='<@ if (context.errors.length) { @>\n    <ul>\n    <@ _.each(context.errors, function(e) { @>\n    <li class="hilldash-widget-config-error"><@= e @></li>\n    <@ }); @>\n    </ul>\n<@ } @>'},14668:function(e){"use strict";e.exports='<form class="hilldash-widget-config">\n  <div class="alert alert-danger hilldash-widget-config-errors"></div>\n  <div class="hilldash-widget-config-body">\n    <@= _.isFunction(context.widgetView.renderForm) ? context.widgetView.renderForm() : \'\' @>\n  </div>\n  <div class="hilldash-widget-config-buttons">\n    <button type="button" class="btn-ghost hilldash-widget-config-cancel"><@= context.I18n.get(\'prompt.cancel\') @></button>\n    <button type="submit" class="btn-primary"><@= context.I18n.get(\'prompt.dashboard.widget.save.settings\') @></button>\n  </div>\n</form>'},28469:function(e){"use strict";e.exports='<article id="hilldash-widget-id-<@= context.widget.id @>" class="hilldash-widget hilldash-widget-type-<@= context.widget.type @><@= context.isConfigurable ? \' hilldash-widget-configurable\' : \'\' @>">\n  <header class="hilldash-widget-header">\n    <h2 id="hilldash-widget-header-<@= context.widget.id @>"><@= context.widget.title @></h2>\n    <i class="ci ci-36 ci-drag-vertical hilldash-widget-drag-handle" role="img" aria-hidden="true"></i>\n    <@ if (context.isConfigurable) { @>\n    <button type="button" class="hilldash-widget-control hilldash-widget-configure cs-tooltip" aria-label="<@= context.I18n.get(\'prompt.dashboard.configurewidget\') @> <@=context.widget.title @>  <@= context.I18n.get(\'common.word.widget\')@>"><i class="ci ci-edit" role="img" aria-hidden="true"></i></button>\n    <@ } @>\n    <button type="button" class="hilldash-widget-control hilldash-widget-remove cs-tooltip" aria-label="<@= context.I18n.get(\'prompt.dashboard.removewidget\')@> <@=context.widget.title @>  <@= context.I18n.get(\'common.word.widget\')@>"><i class="ci ci-remove" role="img" aria-hidden="true"></i></button>\n  </header>\n  <section class="hilldash-widget-body"></section>\n</article>'},65817:function(e){"use strict";e.exports='<div id="dashboard-widget-browser" class="modal modal-box fade" tabindex="-1" role="dialog" aria-labelledby="modal-heading" aria-hidden="true">\n  <div class="modal-header clearfix">\n    <div class="modal-nav modal-nav-left current-context">\n      <h2 id="modal-heading"><@= context.title @></h2>\n    </div>\n\n    <ul class="modal-nav modal-nav-right">\n      <li><button type="button" class="btn-md btn-link" data-dismiss="modal"><@= context.closeLabel @></button></li>\n    </ul>\n  </div>\n  <div class="modal-scroll-wrapper">\n    <div role="document" class="modal-dialog modal-lg">\n      <div class="modal-content">\n        <div class="modal-body">\n          <div class="modal-body-inner">\n            <div class="list-group widget-browser-list">\n              <@ _.forEach(context.widgetItems, function(item, key) { @>\n              <button type="button" class="list-group-item widget-browser-widget cs-tooltip" aria-label="<@= context.addLabel @>: <@= item.title @>" data-type="<@= item.type @>">\n                <span class="list-group-item-body">\n                  <span class="list-group-item-heading"><@= item.title @></span>\n                  <span class="list-group-item-text"><@= item.description @></span>\n                </span>\n                <i class="ci ci-plus-circle-o muted" role="img" aria-hidden="true"></i>\n              </button>\n              <@ }); @>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},70953:function(e){"use strict";e.exports='<div class="form-group form-group-md">\n  <label class="required" for="interval"><@= context.intervalLabel @></label>\n  <select name="interval" id="interval" class="form-control">\n    <option value="day"<@= (context.interval === \'day\' ? \' selected="selected"\' : \'\') @>><@= context.intervalLabels.day @></option>\n    <option value="week"<@= (context.interval === \'week\' ? \' selected="selected"\' : \'\') @>><@= context.intervalLabels.week @></option>\n    <option value="month"<@= (context.interval === \'month\' ? \' selected="selected"\' : \'\') @>><@= context.intervalLabels.month @></option>\n    <option value="year"<@= (context.interval === \'year\' ? \' selected="selected"\' : \'\') @>><@= context.intervalLabels.year @></option>\n  </select>\n</div>\n'},15744:function(e){"use strict";e.exports='<@ if (context.messages.length) { @>\n  <ul>\n  <@ _.forEach(context.messages, function(message, i) { @>\n    <li><a href="<@= context.messageUrl + message.id @>"><@= message.label @></a></li>\n  <@ }) @>\n  </ul>\n  <@ if (context.count > 4) { @>\n  <div class="view-more-link">\n    <a href="<@= context.inboxUrl @>"><@= context.I18n.get(\'label.dashboard.view.all.notifications\') @></a>\n  </div>\n  <@ } @>\n<@ } else { @>\n<p><@= context.I18n.get(\'dashboard.overview.nonotifications\') @></p>\n<@ } @>'},89065:function(e){"use strict";e.exports='<@ if (context.link) { @>\n<p><@= context.I18n.get(\'message.widget.requires.site.id\') @></p>\n<div class="panel-more-link">\n<a href="<@= context.link @>" class="btn btn-rounded btn-ghost">\n  <@= context.I18n.get(\'dashboard.view.in.my.content\') @></a>\n</div>\n<@ } @>\n'},41217:function(e){"use strict";e.exports="<@ if (context.assets.length) { @>\n<ul>\n  <@ _.forEach(_.slice(context.assets, 0, 9), function(asset, i) { @>\n  <li><@= context.AssetLinkRenderer.render(asset.asset ? asset.asset : asset, context.rendererParams) @></li>\n  <@ }) @>\n</ul>\n<@ if (context.total > 9) { @>\n<div class=\"view-more-link\">\n    <a href=\"<@= context.myContentUrl @>?tab=<@= context.source @>\"><@= context.I18n.get('label.dashboard.view.all.' + context.source) @></a>\n</div>\n<@ } @>\n<@ } else { @>\n<p><@= context.I18n.get('dashboard.overview.no' + context.source) @></p>\n<@ } @>"},13174:function(e){"use strict";e.exports="\n<@if (context.defaultSite != null) { @>\n<div class=\"default-site\">\n<span><@= context.AssetLinkRenderer.render(context.defaultSite, {showIcon: false, action: context.contextPath + context.defaultSite.folder}) @></span>\n</div>\n<@ } @>\n<@ if (context.sites.length) { @>\n<ul>\n<@ _.forEach(context.sites, function(site, i) { @>\n<li><@= context.AssetLinkRenderer.render(site, {showIcon: false, action: context.contextPath + site.folder}) @></li>\n<@ }) @>\n</ul>\n<@ } else { @>\n<p><@= context.I18n.get('dashboard.overview.no.recent.sites') @></p>\n<@ } @>\n<@ if (context.moreExist || context.sites.length == 0) { @>\n<span class=\"text-hint\"><@= context.I18n.get('dashboard.widget.mysites.instructions') @></span>\n<@} @>"},98629:function(e){"use strict";e.exports='<@ if (context.error) { @>\n    <p class="hilldash-widget-body-error"><@= context.error @></p>\n<@ } else { @>\n    <@ if (context.filterSite) { @>\n        <p class="filter-info"><@= context.AssetLinkRenderer.render(context.filterSite) @></p>\n    <@ } @>\n    <@ if (!_.isEmpty(context.startingPage)) { @>\n        <p><@= context.I18n.get(\'label.dashboard.mystartingpage\') @><br/><@= context.AssetLinkRenderer.render(context.startingPage) @></p>\n    <@ } else { @>\n        <p>\n            <@= context.I18n.get(\'dashboard.widget.newcontent.emptystate.startingpage.site\') @>\n            <button type="button" class="toggle-details"><@= context.I18n.get(\'pane.title.details\') @></button>\n        </p>\n        <blockquote class="hide"><@= context.I18n.get(\'dashboard.widget.newcontent.emptystate.startingpage.site.learnmore\') @></blockquote>\n    <@ } @>\n    <@ if (!_.isEmpty(context.assetFactories)) { @>\n    <ul>\n        <@ _.each(context.assetFactories, function(child, idx) { @>\n        <li class="<@= idx >= 6 ? \'hide\' : \'\' @>">\n            <button type="button" class="asset-factory-link cs-tooltip" data-toggle="ajax-modal" data-afid="<@= child.id @>" data-cy="asset-factory-link" title="<@-child.description@>">\n                <i class="ci ci-<@= child.type @>" role="img" aria-hidden="true"></i> <span class="truncate"><@- child.name @></i></span>\n            </button>\n        </li>\n        <@ }) @>\n        <@ if (context.assetFactories.length > 6) { @>\n        <li>\n            <button type="button" class="show-more-factories">\n                <@= context.I18n.get(\'label.dashboard.show.more\').replace(\'{0}\', context.assetFactories.length - 6) @>\n            </button>\n        </li>\n        <@ } @>\n    </ul>\n    <@ } else { @>\n        <p>\n            <@= context.I18n.get(\'dashboard.widget.newcontent.emptystate.assetfactories.site\') @>\n            <@ if (context.assetFactoriesError) { @>\n                <button type="button" class="toggle-details"><@= context.I18n.get(\'pane.title.details\') @></button>\n            <@ } @>\n        </p>\n        <@ if (context.assetFactoriesError) { @>\n            <blockquote class="hide"><@= context.assetFactoriesError @></blockquote>\n        <@ } @>\n    <@ } @>\n<@ } @>'},8984:function(e){"use strict";e.exports='<div class="form-group form-group-md">\n  <label class="required" for="interval"><@= context.thresholdLabel @></label>\n  <input name="days" type="number" value="<@= context.threshold @>" size="4" maxlength="4" class="form-control"/>\n</div>\n<div class="form-group form-group-md">\n<input name="show-only-my-content" id="show-only-my-content" type="checkbox" <@= (context.showOnlyMyContent ? \' checked="checked"\' : "") @>/>\n<label style="display:inline;" for="show-only-my-content"><@= context.showOnlyMyContentLabel @></label>\n</div>'},47692:function(e){"use strict";e.exports='<div class="list-head">\n  <span id="name-label-<@= context.widgetId @>"><@= context.I18n.get(\'prompt.name\') @></span>\n  <span id="due-label-<@= context.widgetId @>"><@= context.I18n.get(\'message.task.due\') @></span>\n</div>\n\n<button type="button" class="btn-ghost btn-sm" id="new-task-link">\n  <i class="ci ci-add" role="img" aria-hidden="true"></i> <@= context.I18n.get(\'dashboard.widget.add.task\') @>\n</button>\n\n<@ if (context.tasks.length) { @>\n  <ul>\n    <@ _.forEach(context.tasks, function(task, i) { @>\n    <li>\n      <i class="ci ci-fw ci-18 ci-priority-<@= task.priority ? task.priority : \'none\' @>" role="img" aria-hidden="true"></i>\n      <div aria-labelledby="name-label-<@= context.widgetId @>" class="truncate"><@= context.AssetLinkRenderer.render(task, {showIcon: false}) @></div>\n      <@ if(task.dueDate) { @>\n        <span aria-labelledby="due-label-<@= context.widgetId @>">\n          <@= context.RelativeTime.render(task.dueDate) @>\n        </span>\n      <@ } @>\n    </li>\n    <@ }) @>\n  </ul>\n\n  <@ if (context.total > 8) { @>\n  <div class="panel-more-link">\n    <a href="<@= context.tasksUrl @>" class="btn btn-rounded btn-ghost">\n      <@= context.I18n.get(\'label.dashboard.view.all.tasks\').replace(\'{0}\', context.total) @>\n    </a>\n  </div>\n  <@ } @>\n<@ } else { @>\n  <p><@= context.I18n.get(\'dashboard.overview.notasks\') @></p>\n<@ } @>'},96906:function(e){"use strict";e.exports="<@ if (context.workflows.length) { @>\n<ul>\n  <@ _.forEach(_.slice(context.workflows, 0, 9), function(workflow, i) { @>\n  <li<@= workflow.isWaiting ? ' class=\"list-item-waiting\"' : '' @>>\n    <@ if (workflow.isWaiting) { @>\n      <div>\n        <@= context.AssetLinkRenderer.render(workflow, { showPath: true }) @>\n      </div>\n      <span class=\"label tag tag-waiting\"><@= context.I18n.get('label.tag.waiting') @></span>\n    <@ } else { @>\n      <@= context.AssetLinkRenderer.render(workflow, { showPath: true }) @>\n    <@ } @>\n  </li>\n  <@ }) @>\n</ul>\n<@ if (context.totalWorkflows > 9) { @>\n<div class=\"view-more-link\">\n    <a href=\"<@= context.workflowsUrl @>\"><@= context.I18n.get('label.dashboard.view.all.workflows') @></a>\n</div>\n<@ } @>\n<@ } else { @>\n<p><@= context.I18n.get('dashboard.overview.noworkflows') @></p>\n<@ } @>"},42622:function(e){"use strict";e.exports='<tr class="<@= context.markChanged ? \'warning-border\' : \'\' @>" data-value="<@= context.record.id @>">\n    <td>\n        <i class="ci ci-fw ci-<@- context.record.type.toLowerCase() @>" role="img" aria-hidden="true"></i>\n        <@- context.record.label && context.record.label.trim() !== \'\' ? context.record.label : context.record.id @>\n        <input type="hidden" name="permissions[<@= context.idx @>].id" value="<@= context.record.id @>"/>\n        <input type="hidden" name="permissions[<@= context.idx @>].type" value="<@= context.record.type.toUpperCase() @>"/>\n    </td>\n    <td><select class="form-control form-control-selectize perm-select" name="permissions[<@= context.idx @>].permission" data-permission="<@= context.record.permission @>">\n        <@ if (context.permissionOptions.READ === 1) { @>\n        <option value="READ" <@= context.record.permission === \'READ\' ? \'selected\' : \'\'@>><@= context.I18n.get(\'prompt.accessrights.read\') @></option>\n        <@ } if (context.permissionOptions.WRITE === 1) { @>\n        <option value="WRITE" <@= context.record.permission === \'WRITE\' ? \'selected\' : \'\'@>><@= context.I18n.get(\'prompt.accessrights.write\') @></option>\n        <@ } if (context.permissionOptions.NONE === 1) { @>\n        <option value="NONE" <@= context.record.permission === \'NONE\' ? \'selected\' : \'\'@>><@= context.I18n.get(\'prompt.accessrights.unassign\') @></option>\n        <@ } @>\n    </select></td>\n    <td class="text-center"><button type="button" aria-label="<@= context.I18n.get(\'prompt.remove\') @>" class="perm-remove cs-tooltip"><i class="ci ci-times" role="img" aria-hidden="true"></i></button></td>\n</tr>'},36875:function(e){"use strict";e.exports='<div class="accessibility-tooltip-container">\n    <button type="button" class="cascade-accessibility-close-link"></button>\n    <@ if(!context.instance.$elementInViolation.length) { @>\n    <div>(<@= context.I18n.get(\'warning.element.not.found\') @>)</div>\n    <@ } @>\n    <@ if(!context.elementVisible) { @>\n    <div class="element-visibility-indicator">(<@= context.I18n.get(\'warning.element.not.visible\') @>)</div>\n    <@ } @>\n    <h3><@=(context.error.index + 1) @>. <@-context.error.title@></h3>\n    <div class="accessibility-tooltip-body">\n        <blockquote><@- context.error.description@></blockquote>\n        <pre><@- context.instance.recommendation@></pre>\n        <p><@= context.error.standardsLabels.join(\', \') @></p>\n        <p>\n            <button type="button" class="more-details" data-error-index="<@= context.error.index @>" data-instance-index="<@= context.instance.index @>">\n                <@= context.I18n.get(\'prompt.more.details\') @>\n            </button>\n        </p>\n    </div>\n    <@ if (context.error.instances.length > 1) { @>\n        <div class="accessibility-tooltip-instances">\n            <button type="button" class="cascade-accessibility-instance-link" <@= context.instance.index == 0 ? \'disabled\' : \'\' @> data-instance-index="<@=(context.instance.index - 1)@>" data-error-index="<@=(context.error.index)@>">&lt; Previous</button>\n            <p>Instance <@= context.instance.index + 1 @> of <@= context.error.instances.length @></p>\n            <button type="button" class="cascade-accessibility-instance-link" <@= (context.instance.index + 1 == context.error.instances.length) ? \'disabled\' : \'\' @> data-instance-index="<@=(context.instance.index + 1)@>" data-error-index="<@=(context.error.index)@>">Next &gt;</button>\n        </div>\n    <@ } @>\n</div>'},57220:function(e){"use strict";e.exports='<div tabindex="-1" role="dialog" aria-labelledby="modal-heading" class="modal modal-box fade" data-backdrop="static">\n  <div class="modal-header clearfix">\n    <div class="modal-nav modal-nav-left current-context">\n      <h2 id="modal-heading">\n        <@- context.error.title @>\n      </h2>\n    </div>\n    <ul class="modal-nav modal-nav-right">\n      <li>\n        <button type="button" id="close-modal" class="btn-link btn-md" data-dismiss="modal">\n          <i class="ci ci-cancel button-icon" role="img" aria-hidden="true"></i>\n          <span class="button-text"><@= context.I18n.get(\'label.close\') @></span>\n        </button>\n      </li>\n    </ul>\n  </div>\n  <div class="modal-scroll-wrapper">\n    <div role="document" class="modal-dialog modal-lg">\n      <div class="modal-content">\n        <div class="modal-body">\n          <div class="modal-body-inner tab-content">\n            <div class="form-group">\n              <h3><@= context.I18n.get(\'label.accessibility.violation.full.description\') @></h3>\n              <p><@- context.error.description @></p>\n            </div>\n            <div class="form-group">\n              <h3><@= context.I18n.get(\'label.accessibility.recommendation\') @></h3>\n              <pre class="accessibility-issue-recommendation"><@- context.instance.recommendation @></pre>\n            </div>\n            <div class="form-group">\n              <h3><@= context.I18n.get(\'label.content.in.violation\') @></h3>\n              <pre class="accessibility-issue-pre"><@- (function (e,t) {var n=this.toString();return e&&n.length>e&&(n=n.substr(0,e)+t),n}).call(context.instance.html, 250, "...") @></pre>\n            </div>\n            <div class="accessibility-field-set">\n              <div>\n                <@ if(context.error.standardsLabels.length) { @>\n                 <div class="form-group">\n                   <h3>\n                     <a href="https://dequeuniversity.com/rules/axe/4.10" class="link-action cs-tooltip" target="_blank">\n                       <@= context.I18n.get(\'label.accessibility.violation.standards.violated\') @>\n                       <i aria-hidden="true" role="img" class="ci ci-external-link ci-18 "></i>\n                     </a>\n                   </h3>\n                   <ul><li><@= context.error.standardsLabels.join(\'</li><li>\') @></li></ul>\n                  </div>\n                <@ } @>\n                <div class="form-group">\n                   <h3>\n                     <a href="https://github.com/dequelabs/axe-core/blob/v4.10.0/doc/issue_impact.md#issue-impacts" class="link-action cs-tooltip" target="_blank">\n                       <@= context.I18n.get(\'label.accessibility.impact\') @>\n                       <i aria-hidden="true" role="img" class="ci ci-external-link ci-18 "></i>\n                     </a>\n                   </h3>\n                  <p><@= context.I18n.get(\'label.accessibility.impact.\' + context.instance.impact) @></p>\n                </div>\n              </div>\n              <div class="accessibility-issue-screenshot-wrapper form-group">\n                <i class="ci ci-fw ci-loading accessibility-issue-screenshot-loader" aria-describedby="cascade-loading" role="img"></i>\n                <img src="" alt="Screenshot of the accessibility issue on the page" class="accessibility-issue-screenshot hide" />\n              </div>\n            </div>\n            <div class="form-group">\n              <h3>Documentation</h3>\n              <p><a href="<@= context.error.link @>" target="_blank"><@= context.error.link @></a></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},2772:function(e){"use strict";e.exports='<select id="record-status-<@= context.id @>" data-record-id="<@= context.id @>" data-status="<@= context.status @>" data-occurrence="<@= context.isOccurrence @>" class="accessibility-error-mark">\n  <option value="UNRESOLVED" <@= context.status === \'UNRESOLVED\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.accessibility.status.unresolved") @></option>\n<option value="RESOLVED" <@= context.status === \'RESOLVED\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.accessibility.status.resolved") @></option>\n<@ if (!context.isOccurrence && context.hasOccurrences) { @>\n<option value="RESOLVEDALL" <@= context.status === \'RESOLVEDALL\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.accessibility.status.resolved.all") @></option>\n<option value="UNRESOLVEDALL" <@= context.status === \'UNRESOLVEDALL\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.accessibility.status.unresolved.all") @></option>\n<@ } @>\n  </select>'},49140:function(e){"use strict";e.exports='<@ if (context.nOccurrences > 1) { @>\n<a data-record-id="<@= context.id @>" href="#" class="accessibility-see-occurrences"><@= context.I18n.get("label.brokenlinkreport.show.more") @></a>\n  (<span class="num-occurrences"><@= context.nOccurrences @></span>)\n<@ } else {@>\n<span class="num-occurrences"><@= context.nOccurrences @></span>\n<@ } @>'},14161:function(e){"use strict";e.exports='<table id="accessibility-occurrences-table-<@= context.id @>" class="table table-condensed table-striped accessibility-occurrences-table" style="width: 100%" data-parent="<@= context.parent @>">\n  <thead/>\n  <@ if (context.groupBy === "ENTITY_PATH") { @>\n  <colgroup><col width="37%"/><col width="15%"/><col width="15%"/><col width="10%"/><col width="15%"/></colgroup>\n  <@ } else { @>\n  <colgroup><col width="8%"/><col width="37%"/><col width="15%"/><col width="15%"/><col width="10%"/><col width="15%"/></colgroup>\n  <@ } @>\n  <tbody>\n    <@ _.each(context.occurrences, function(occurrence, occurrenceI) { @>\n    <tr id="record-<@= occurrence.recordId @>" class="accessibility-occurrence-record" data-details=\'<@- JSON.stringify(occurrence) @>\'>\n      <td colspan="<@= context.groupBy === \'ENTITY_PATH\'? \'2\' : \'3\' @>"></td>\n      <@ if (context.groupBy === "ENTITY_PATH") { @>\n      <td><div class="truncate"><i class="ci ci-fw ci-18 ci-priority-<@= occurrence.priorityString @>" role="img" aria-hidden="true"></i><@= occurrence.errorTitle @></div></td>\n      <@ } else { @>\n      <td><div><@= context.AssetLinkRenderer.render(occurrence.source, {includetOrDN: true}) @></div></td>\n      <@ } @>\n      <td><@ if (occurrence.errorSnippet && occurrence.errorSnippet !== "") { @><button type="button" class="btn-primary btn-sm toggle-details"><@= context.I18n.get(\'prompt.accessibility.report.view.details\') @></button><@}@></td>\n      <td><@= context.renderMarkAsLink({id: occurrence.recordId, status: occurrence.status, link: context.groupBy === "ENTITY_PATH" ? occurrence.link : context.link, hasOccurrences: context.nOccurrences > 1, isOccurrence: occurrenceI > 0, I18n: context.I18n}) @></td>\n    </tr>\n    <@ }); @>\n  </tbody>\n</table>'},62875:function(e){"use strict";e.exports="<@ Object.entries(context.errorsByImpact).forEach(function(entry) { @>\n  <h3><@= context.I18n.get('label.accessibility.impact.' + entry[0]) @></h3>\n  <ul class=\"accessibility-list\">\n  <@ entry[1].forEach(function(error) { @>\n    <li><button type=\"button\" data-error-index=\"<@= error.index @>\">\n      <@- _.join([error.index + 1, '. ', error.title], '') @>\n    </button></li>\n  <@ }); @>\n  </ul>\n<@ }); @>"},21949:function(e){"use strict";e.exports='<@ if (context.isFirstLoad) { @>\n    <table class="table table-striped pageviews-individual">\n        <thead/>\n        <colgroup><col width="5%"/><col width="40%"/><col width="40%"/><col width="15%"/></colgroup>\n        <tbody>\n    <@ } @>\n    <@ _.forEach(context.assetStats, function(stat) { @>\n        <tr>\n            <td></td>\n            <td class="indent"><a href="<@= context.analyticsSiteUrl @><@= stat.escapedUrl @>" class="stat-url" target="_blank" aria-describedby="cascade-new-window-external"><@= stat.escapedUrl @><i class="ci ci-18 ci-external-link" role="img" aria-hidden="true"></i></a></td>\n            <td><@= stat.asset ? context.AssetLinkRenderer.render(stat.asset) : \'&nbsp;\' @></td>\n            <td><@= stat.screenPageViews @></td>\n        </tr>\n    <@ }) @>\n<@ if (context.isFirstLoad) { @>\n        </tbody>\n    </table>\n    <@ if (context.nIndividualStats > 10) { @>\n    <button type="button" class="btn-ghost btn-rounded pageviews-individual-more" data-nindividualstats="<@= context.nIndividualStats @>" data-shorturl="<@= context.shortUrl @>" data-startindex="<@= context.newStartIndex @>"><@= context.I18n.get(\'label.stats.show.more\') @></button>\n    <@ } @>\n<@ } @>'},91529:function(e){"use strict";e.exports='<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-<@= context.type @>" role="alert">\n  <button type="button" aria-hidden="true" class="close" data-notify="dismiss"></button>\n  <div class="announcement-subject-wrapper">\n    <span data-notify="icon" class="{0}"></span>\n    <span data-notify="title"><strong>{1}</strong></span>\n  </div>\n  <span data-notify="message">{2}</span>\n</div>'},36913:function(e){"use strict";e.exports='<a <@= context.settings.action @> aria-label="<@- context.asset.breadcrumb_string || context.asset.path || context.asset.label @>"\nclass="asset-link hoverable<@= context.asset.recycled || context.asset.isRecycled ? \' asset-link-recycled\' : \'\'@>" data-selector="true"\ndata-asset-id="<@= context.asset.id @>" data-asset-type="<@= context.asset.type @>" data-asset-name="<@- context.asset.label @>" data-asset=\'<@- JSON.stringify(context.asset).replace(/\'/g, "&#39;") @>\'>\n<span class="asset-link-icon"><i class="ci ci-<@= context.asset.type @>" role="img" aria-hidden="true"></i></span>\n<span class="asset-link-label"><@= context.settings.label @></span>\n<@ if (context.settings.recycled) { @><span class="sr-only"><@= context.I18n.get("label.asset.is.recycled").replace("{0}", context.asset.type) @></span><@ } @>\n</a>\n<@ if (context.asset.type === \'folder\') { @><a <@= context.settings.action @> class="asset-link-more cs-tooltip" aria-label="View folder"><i class="ci ci-18 ci-angle-right" role="img" aria-hidden="true"></i></a><@ } @>'},21767:function(e){"use strict";e.exports='<a <@= context.settings.action @> <@= context.settings.target @> aria-label="<@- context.asset.breadcrumb_string || context.asset.path || context.asset.label @>"\n  <@ if (context.settings.openInNewWindow) { @> aria-describedby="cascade-new-window-internal" <@ } @>\n  class="asset-link asset-link-datatable-row<@= context.settings.hoverable ? \' hoverable\' : \'\'@><@= context.asset.recycled || context.asset.isRecycled ? \' asset-link-recycled\' : \'\'@> <@= context.settings.styleClass @>"\n  data-asset-id="<@= context.asset.id @>" data-asset-type="<@= context.asset.type @>" data-asset-name="<@- context.asset.label @>">\n  <span class="asset-link-icon"><i class="ci ci-<@= context.asset.type @>" role="img" aria-hidden="true"></i></span>\n  <span class="asset-link-label">\n    <strong><@= context.asset.type === \'user\' && context.asset.fNm ? context.asset.fNm : context.settings.label @></strong>\n    <small><@- context.settings.displayPath @></small>\n  </span>\n  <@ if (context.settings.openInNewWindow) { @><span class="asset-link-adornment"><i class="ci ci-external-link ci-18" role="img" aria-hidden="true"></i></span><@ } @>\n  <@ if (context.settings.recycled) { @><span class="sr-only"><@= context.I18n.get("label.asset.is.recycled").replace("{0}", context.asset.type) @></span><@ } @>\n</a>'},26614:function(e){"use strict";e.exports='<<@= context.settings.tagName @> <@= context.settings.action @> <@= context.settings.target @> aria-label="<@- context.asset.breadcrumb_string || context.asset.path || context.asset.label @>"\n<@ if (context.settings.openInNewWindow) { @> aria-describedby="cascade-new-window-internal" <@ } @>\nclass="asset-link<@= context.settings.hoverable ? \' hoverable\' : \'\'@><@= context.asset.recycled || context.asset.isRecycled ? \' asset-link-recycled\' : \'\'@> <@= context.settings.styleClass @>"\ndata-selector="true" data-asset-id="<@= context.asset.id @>" data-asset-type="<@= context.asset.type @>" data-asset-name="<@- context.asset.label @>" data-asset=\'<@- JSON.stringify(context.asset).replace(/\'/g, "&#39;") @>\'>\n<@ if (context.settings.showIcon) { @><span class="asset-link-icon"><i class="ci ci-<@= context.settings.icon ? context.settings.icon : context.asset.type @>" role="img" aria-hidden="true"></i></span><@ } @>\n<@ if (context.settings.showProfilePicture) { @>\n<div class="profile-wrapper asset-link-icon">\n  <div class="ci-fw <@= !context.settings.profilePictureUrl? \'default\': \'\' @> profile-picture <@= context.settings.profileSize? context.settings.profileSize : \'\' @>">\n    <@ if (context.settings.profilePictureUrl) { @>\n    <img class="profile" src="<@= context.settings.profilePictureUrl @>"/>\n    <@ } else { @>\n    <span class="initial" data-cy="asset-link-initial"><@= context.settings.initial @></span>\n    <@ } @>\n  </div>\n</div>\n<@ }@>\n<@ if(context.settings.showLabel) { @>\n<span class="asset-link-label"><@= context.settings.label @></span>\n<@ } @>\n<@ if (context.settings.openInNewWindow) { @><i class="ci ci-external-link" role="img" aria-hidden="true"></i><@ } @>\n<@ if (context.settings.recycled) { @><span class="sr-only"><@= context.I18n.get("label.asset.is.recycled").replace("{0}", context.asset.type) @></span><@ } @>\n</<@= context.settings.tagName @>>\n<@ if (context.settings.showPath) { @><div class="asset-path-wrapper"><span><@- context.settings.displayPath @></span></div><@ } @>'},23717:function(e){"use strict";e.exports='<figure class="asset-link<@= context.settings.hoverable ? \' hoverable\' : \'\'@>"\n        data-asset-id="<@= context.asset.id @>" data-asset-type="<@= context.asset.type @>" data-asset-name="<@- context.asset.label @>"\n        data-asset=\'<@- JSON.stringify(context.asset).replace(/\'/g, "&#39;") @>\' aria-label="<@- context.asset.breadcrumb_string || context.asset.path @>">\n  <div class="thumbnail-wrapper">\n    <@ if (context.asset.isImage && context.asset.src) { @>\n    <img src="<@= context.asset.src @>"/>\n    <@ } else { @>\n    <i class="ci ci-<@= context.asset.type @>" role="img" aria-hidden="true"></i>\n    <@ } @>\n  </div>\n  <figcaption><@= context.settings.label @></figcaption>\n  <@ if (context.settings.recycled) { @><span class="sr-only"><@= context.I18n.get("label.asset.is.recycled").replace("{0}", context.asset.type) @></span><@ } @>\n</figure>'},22318:function(e){"use strict";e.exports='<a <@= context.settings.action @> aria-label="<@- context.asset.breadcrumb_string || context.asset.path || context.asset.label @>"\n  class="asset-link<@= context.settings.hoverable ? \' hoverable\' : \'\'@><@= context.asset.recycled || context.asset.isRecycled ? \' asset-link-recycled\' : \'\'@><@= context.settings.isHistoryEntry ? \' history-entry\' : \'\' @><@= context.settings.isStarredEntry ? \' starred-entry\' : \'\' @> <@= context.settings.styleClass @>"\n  data-asset-id="<@= context.asset.id @>" data-asset-type="<@= context.asset.type @>" data-asset-name="<@- context.asset.label @>">\n  <@ if (context.settings.showProfilePicture) { @>\n  <div class="profile-wrapper asset-link-icon">\n    <div class="profile-picture<@= !context.settings.profilePictureUrl ? \' default\': \'\' @>">\n      <@ if (context.settings.profilePictureUrl) { @>\n      <img class="profile" src="<@= context.settings.profilePictureUrl @>"/>\n      <@ } else { @>\n      <span class="initial"><@= context.settings.initial @></span>\n      <@ } @>\n    </div>\n  </div>\n  <@ } else { @>\n  <span class="asset-link-icon"><i class="ci ci-<@= context.asset.type @>" role="img" aria-hidden="true"></i></span>\n  <@ } @>\n  <span class="asset-link-label">\n    <strong><@= context.asset.type === \'user\' && context.asset.fNm ? context.asset.fNm : context.settings.label @></strong>\n    <small><@- context.settings.displayPath @></small>\n  </span>\n  <@ if (context.settings.recycled) { @><span class="sr-only"><@= context.I18n.get("label.asset.is.recycled").replace("{0}", context.asset.type) @></span><@ } @>\n</a>'},66679:function(e){"use strict";e.exports='<ul class="folder-tree" role="group" data-cy="folder-tree">\n  <li class="foldable asset-tree-root" role="treeitem" data-cy="asset-tree-root">\n    <@= context.AssetLinkRenderer.renderAssetTreeLink(context.tree.root) @>\n    <@ // IMPROVE: Figure out why this inline style is needed #1675 @>\n    <ul data-folder-loaded="true" data-folder-id="<@= context.tree.root.id @>" style="display:none;" role="group">\n       <@= context.renderChildren(context.tree.root.children) @>\n    </ul>\n  </li>\n</ul>'},69783:function(e){"use strict";e.exports='<@ _.forEach(context.children, function(child) { @>\n  <@ if (child.type === \'folder\') { @>\n    <li class="foldable" role="treeitem"><@= context.AssetLinkRenderer.renderAssetTreeLink(child) @>\n      <@ // IMPROVE: Figure out why this inline style is needed #1675 @>\n      <ul data-folder-id="<@= child.id @>" role="group" <@ if (child.children) { @>data-folder-loaded="true" aria-expanded="true"<@ } @> style="display:none">\n        <@= context.renderChildren(child.children) @>\n      </ul>\n    </li>\n  <@ } else { @>\n    <li role="treeitem"><@= context.AssetLinkRenderer.renderAssetTreeLink(child) @></li>\n  <@ } @>\n<@ }) @>'},72761:function(e){"use strict";e.exports='<select id="record-status-<@= context.id @>" data-record-id="<@= context.id @>" data-status="<@= context.status @>" data-occurrence="<@= context.isOccurrence @>" data-link="<@= context.link @>" class="broken-link-mark form-control-selectize">\n    <option value="UNRESOLVED" <@= context.status === \'UNRESOLVED\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.brokenlink.status.unresolved") @></option>\n    <option value="FIXED" <@= context.status === \'FIXED\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.brokenlink.status.fixed") @></option>\n    <@ if (!context.isOccurrence && context.hasOccurrences) { @>\n    <option value="FIXEDALL" <@= context.status === \'FIXEDALL\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.brokenlink.status.fixed.all") @></option>\n    <option value="UNRESOLVEDALL" <@= context.status === \'UNRESOLVEDALL\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.brokenlink.status.unresolved.all") @></option>\n    <@ } @>\n    <option value="IGNORED" <@= context.status === \'IGNORED\' ? \' selected="selected"\' : \'\' @>><@= context.I18n.get("text.brokenlink.status.ignored") @></option>\n</select>'},85529:function(e){"use strict";e.exports='<@ if (context.nOccurrences > 1) { @>\n<a data-record-id="<@= context.id @>" href="#" class="broken-link-see-occurrences"><@= context.I18n.get("label.brokenlinkreport.show.more") @></a>\n  (<span class="num-occurrences"><@= context.nOccurrences @></span>)\n<@ } else {@>\n<span class="num-occurrences"><@= context.nOccurrences @></span>\n<@ } @>'},6404:function(e){"use strict";e.exports='<table id="broken-link-occurrences-table-<@= context.id @>" class="table table-condensed table-striped broken-link-occurrences-table" style="width: 100%" data-parent="<@= context.parent @>">\n    <thead/>\n    <colgroup><col width="25%"/><col width="10%"/><col width="10%"/><col width="25%"/><col width="25%"/><col width="15%"/></colgroup>\n    <tbody>\n    <@ _.each(context.occurrences, function(occurrence, occurrenceI) { @>\n        <tr id="record-<@= occurrence.recordId @>" class="broken-link-occurrence-record">\n            <td></td>\n            <td></td>\n            <td>\n                <@ if (context.groupBy === "ENTITY_PATH") { @>\n                <@= occurrence.linktype === \'INTERNAL\' ? context.I18n.get(\'text.brokenlink.type.internal\') : context.I18n.get(\'text.brokenlink.type.external\') @>\n                <@ } @>\n            </td>\n            <td><div class="truncate cs-tooltip" title="<@= context.description @>"><@= occurrence.description @></div></td>\n            <@ if (context.groupBy === "ENTITY_PATH") { @>\n            <td><@ if (occurrence.reason && occurrence.reason !== "") { @><button type="button" class="toggle-details pull-left cs-tooltip" aria-label="Show reason"><i class="ci ci-help" title="<@= occurrence.reason @>" role="img"></i></button><@}@><div class="truncate" title="<@= occurrence.link @>"><@= occurrence.link @></div></td>\n            <@ } else { @>\n            <td><div><@= context.AssetLinkRenderer.render(occurrence.source, {showPath: true, showSite: false}) @></div></td>\n            <@ } @>\n            <td>\n                <@= occurrence.allowed || occurrence.hasValidRemoteResponseCode ? \'\' : context.renderMarkAsLink({id: occurrence.recordId, status: occurrence.status, link: context.groupBy === "ENTITY_PATH" ? occurrence.link : context.link, hasOccurrences: context.nOccurrences > 1, isOccurrence: occurrenceI > 0, I18n: context.I18n}) @>\n            </td>\n        </tr>\n        <@ if (occurrence.reason && occurrence.reason !== "") { @>\n        <tr class="row-details hide">\n            <td></td>\n            <td></td>\n            <td colspan="4">\n                <em>\n                    <@= occurrence.reason @>\n                </em>\n            </td>\n            <td class="hide"></td>\n            <td class="hide"></td>\n            <td class="hide"></td>\n        </tr>\n        <@ } @>\n    <@ }); @>\n    </tbody>\n</table>'},3333:function(e){"use strict";e.exports="<@ if(context.asset.type == 'editorconfiguration') { @>\n    <dl>\n    <dd><textarea id=\"chooser-tiny-toolbar-<@= context.asset.id @>\" class=\"wysiwyg invisible\" data-configuration=\"<@- JSON.stringify(context.asset.configuration) @>\"></textarea></dd>\n    <dt><@=context.I18n.get('label.editorconfiguration.schema')@></dt>\n    <dd class=\"configuration-schema\"></dd>\n    </dl>\n<@ } else { @>\n<div class=\"list-group list-group-thumb\">\n  <@ if(context.asset.isImage) { @>\n  <div class=\"thumbnail-wrapper\">\n    <img src=\"<@-context.contextPath + context.asset.src@>\"/>\n  </div>\n  <@ } @>\n  <div class=\"list-group-item-body\">\n    <dl>\n      <@ if(context.asset.tOrDN) { @>\n        <dt><@=context.I18n.get('title.title.or.display.name')@></dt>\n        <dd><@=context.asset.tOrDN@></dd>\n      <@ } @>\n      <dt><@=context.I18n.get('prompt.path')@></dt>\n      <dd><@=context.asset.path@></dd>\n\n      <@ if (context.asset.createdOn) { @>\n        <dt><@=context.I18n.get('property.title.created')@></dt>\n        <dd><@=context.RelativeTime.render(context.asset.createdOn)@></dd>\n      <@ } @>\n      <@ if (context.asset.lastModifiedOn) { @>\n          <dt><@=context.I18n.get('property.title.modified')@></dt>\n          <dd><@=context.RelativeTime.render(context.asset.lastModifiedOn)@></dd>\n      <@ } @>\n\n      <@ if(context.asset.type === 'file') { @>\n        <dt><@=context.I18n.get('label.file.size')@></dt>\n        <dd><@=context.asset.size@></dd>\n        <@ if(context.asset.mimeType)  { @>\n          <dt><@=context.I18n.get('label.file.mime.type')@></dt>\n          <dd><@=context.asset.mimeType@></dd>\n        <@ } @>\n      <@ } @>\n    </dl>\n  </div>\n  </div>\n<@ } @>"},62422:function(e){"use strict";e.exports='<i class="ci ci-asset ci-<@= context.chosen.type @>" role="img" aria-hidden="true"></i>\n<@= context.chosen.label @>\n<input type="hidden" name="<@= _.isFunction(context.fieldName) ? context.fieldName(context.chosen) : context.fieldName @>" value="<@= context.chosen.id @>" class="no-warn"/>'},94063:function(e){"use strict";e.exports='<@ _.forEach(context.chosen, function(item) { @>\n<div class="chooser-tag" aria-label="<@= item.label @>" data-asset=\'<@= JSON.stringify(item).replace(/\'/g, "&#39;") @>\' data-asset-id="<@= item.id @>" data-asset-type="<@= item.type @>">\n    <i class="ci ci-fw ci-asset ci-<@= item.type @>" role="img" aria-hidden="true"></i>\n    <@= item.label || item.id @>\n    <button type="button" aria-label="Remove" class="chooser-tag-remove cs-tooltip"><i class="ci ci-18 ci-remove" role="img" aria-hidden="true"></i></button>\n    <input type="hidden" name="<@= _.isFunction(context.fieldName) ? context.fieldName(item) : context.fieldName @>" value="<@= item.id @>" class="no-warn"/>\n</div>\n<@ }) @>'},47523:function(e){"use strict";e.exports='<ul>\n    <li class="paginate_button previous">\n        <a href="#" id="<@= context.tableId @>_paginate_previous" class="cs-tooltip" aria-label="<@= context.I18n.get(\'label.table.paginate.previous\') @>" tabindex="0" aria-controls="<@= context.tableId @>" data-dt-idx="0"><@= context.previousLabel @></a>\n    </li>\n    <li class="paginate_button disabled form-inline">\n        <label for="<@= context.tableId @>_paginate_select" class="sr-only"><@= context.I18n.get(\'label.table.paginate.next\') @></label>\n        <select id="<@= context.tableId @>_paginate_select" class="form-control" aria-controls="<@= context.tableId @>" data-dt-idx="1" style="display:inline"></select>\n        <span class="paginate_of"></span>\n    </li>\n    <li class="paginate_button next">\n        <a href="#" id="<@= context.tableId @>_paginate_next" class="cs-tooltip" aria-label="<@= context.I18n.get(\'label.table.paginate.next\') @>" tabindex="0" aria-controls="<@= context.tableId @>" data-dt-idx="2"><@= context.nextLabel @></a>\n    </li>\n</ul>'},98799:function(e){"use strict";e.exports='<div class="form-group form-group-md sd-field">\n  <label for="<@= context.sddBuilderCounter @>" class="field-label"></label>\n  <p class="help-block"></p>\n  <span class="multiple sd-field">\n    <div class="form-group-control-index" aria-label="1 of 1">1/1</div>\n    <ul class="form-group-controls">\n      <li>\n        <button type="button" class="sd-modify form-group-control-green cs-tooltip" aria-label="Add new field">\n          <i class="ci ci-add" role="img" aria-hidden="true"></i>\n        </button>\n      </li>\n    </ul>\n    <div class="input-group date" data-picker-type="date">\n      <input class="form-control" data-cy="text-field" id="<@= context.sddBuilderCounter @>" type="text" data-input/>\n      <div class="input-group-btn">\n        <button type="button" class="btn-ghost" aria-label="" disabled>\n          <i class="ci ci-18 ci-calendar" role="img" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </span>\n  <div class="dd-builder-field-dependency-description"></div>\n</div>'},97490:function(e){"use strict";e.exports='<div class="checkbox" id="<@= context.sddBuilderCounter @>">\n  <@ for (var i = 0; i< context.items.length; i++) { @>\n  <@ var checkboxItem = context.items[i];@>\n  <input type="checkbox" id="<@= context.sddBuilderCounter @>-<@= i @>" <@= (checkboxItem.selected ? \' checked="checked"\' : \'\') @> />\n  <label class="inline" for="<@= context.sddBuilderCounter @>-<@= i @>"><@- checkboxItem.label ? checkboxItem.label : checkboxItem.value @>\n  </label>\n  <@ if (context.items.length > 3) { @>\n  <br style="clear: both;"/>\n  <@ } @>\n  <@ } @>\n</div>'},96788:function(e){"use strict";e.exports='<div class="form-group form-group-md sd-field">\n  <label for="<@= context.sddBuilderCounter @>" class="field-label"></label>\n  <p class="help-block"></p>\n  <span class="multiple sd-field">\n    <div class="form-group-control-index" aria-label="1 of 1">1/1</div>\n    <ul class="form-group-controls">\n      <li>\n        <button type="button" class="sd-modify form-group-control-green cs-tooltip" aria-label="Add new field">\n          <i class="ci ci-add" role="img" aria-hidden="true"></i>\n        </button></a>\n      </li>\n    </ul>\n    <div class="chooser-wrapper issingle">\n      <button type="button" aria-label="<@= context.chooserLabel @>" id="<@= context.sddBuilderCounter @>" class="chooser asset-chooser " data-asset-type="<@= context.chooserType @>" data-chooser-options=\'{"type": "<@= context.chooserType @>"}\'>\n        <i class="ci ci-asset ci-<@= context.chooserType @> chooser-type" role="img" aria-hidden="true"></i>\n        <span class="chooser-name asset-chooser-name"><@= context.chooserLabel @></span>\n      </button>\n    </div>\n  </span>\n  <div class="dd-builder-field-dependency-description"></div>\n</div>\n\n'},52211:function(e){"use strict";e.exports='<table>\n  <tbody>\n  <@ for(var i = 0; i< context.fieldProperties.length; i++) { @>\n  <@ var property = context.fieldProperties[i]; @>\n  <@ if (property == \'identifier\') { @>\n  <tr>\n    <td>\n      <label for="identifier-<@= context.sddBuilderCounter @>">Identifier</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" data-property-type="always-overwrite" data-cy="identifier" id="identifier-<@= context.sddBuilderCounter @>"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'label\') { @>\n  <tr>\n    <td>\n      <label for="label-<@= context.sddBuilderCounter @>">Label</label>\n    </td>\n    <td>\n      <div class="checkbox cs-tooltip" style="margin-bottom: 0;" title="Overwrite Shared Field\'s value">\n        <input type="checkbox" id="overwrite-<@= context.sddBuilderCounter @>-label" data-cy="overwrite-label" class="property-overwrite-toggle">\n        <label class="inline" for="overwrite-<@= context.sddBuilderCounter @>-label"></label>\n      </div>\n    </td>\n    <td>\n      <input type="text" data-property-type="overwritable" data-overwritten="false" data-property="label" data-overwritten="false" data-cy="label" id="label-<@= context.sddBuilderCounter @>"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'help-text\') { @>\n  <tr>\n    <td>\n      <label for="help-text-<@= context.sddBuilderCounter @>">Help text</label>\n    </td>\n    <td>\n      <div class="checkbox cs-tooltip" style="margin-bottom: 0;" title="Overwrite Shared Field\'s value">\n        <input type="checkbox" id="overwrite-<@= context.sddBuilderCounter @>-helpText" data-cy="overwrite-help-text" class="property-overwrite-toggle"/>\n        <label class="inline" for="overwrite-<@= context.sddBuilderCounter @>-helpText"></label>\n      </div>\n    </td>\n    <td>\n      <input type="text" data-property-type="overwritable" data-overwritten="false" data-property="helpText" data-cy="help-text" id="help-text-<@= context.sddBuilderCounter @>"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'chooser-type\') { @>\n  <tr>\n    <td>\n      <label for="default-<@= context.sddBuilderCounter @>">Chooser type</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="radio" id="chooser-type-page-<@= context.sddBuilderCounter @>" name="chooser-type-<@= context.sddBuilderCounter @>" value="page" data-cy="field-page-chooser"/>\n      <label class="inline" for="chooser-type-page-<@= context.sddBuilderCounter @>">Page</label><br/>\n      <input type="radio" id="chooser-type-file-<@= context.sddBuilderCounter @>" name="chooser-type-<@= context.sddBuilderCounter @>" value="file" data-cy="field-file-chooser"/>\n      <label class="inline" for="chooser-type-file-<@= context.sddBuilderCounter @>">File</label><br/>\n      <input type="radio" id="chooser-type-block-<@= context.sddBuilderCounter @>" name="chooser-type-<@= context.sddBuilderCounter @>" value="block" data-cy="field-block-chooser"/>\n      <label class="inline" for="chooser-type-block-<@= context.sddBuilderCounter @>">Block</label><br/>\n      <input type="radio" id="chooser-type-symlink-<@= context.sddBuilderCounter @>" name="chooser-type-<@= context.sddBuilderCounter @>" value="symlink" data-cy="field-symlink-chooser"/>\n      <label class="inline" for="chooser-type-symlink-<@= context.sddBuilderCounter @>">Symlink</label><br/>\n      <input type="radio" id="chooser-type-linkable-<@= context.sddBuilderCounter @>" name="chooser-type-<@= context.sddBuilderCounter @>" value="page,file,symlink" data-cy="field-linkable-chooser"/>\n      <label class="inline" for="chooser-type-linkable-<@= context.sddBuilderCounter @>">Linkable</label>\n    </td>\n  </tr>\n  <@ } else if (property == \'default\') { @>\n  <tr>\n    <td>\n      <label for="default-<@= context.sddBuilderCounter @>">Default</label>\n    </td>\n    <td>\n      <div class="checkbox cs-tooltip" style="margin-bottom: 0;" title="Overwrite Shared Field\'s value">\n        <input type="checkbox" id="overwrite-<@= context.sddBuilderCounter @>-default" class="property-overwrite-toggle">\n        <label class="inline" for="overwrite-<@= context.sddBuilderCounter @>-default"></label>\n      </div>\n    </td>\n    <td>\n      <input type="text" data-property-type="overwritable" data-overwritten="false" data-property="defaultValue" data-cy="default-text" id="default-<@= context.sddBuilderCounter @>"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'default-calendar\') { @>\n  <tr>\n    <td>\n      <label for="default-<@= context.sddBuilderCounter @>">Default</label>\n    </td>\n    <td></td>\n    <td>\n      <div class="form-group">\n        <div class="input-group date" data-picker-type="date">\n          <input type="text" id="default-<@= context.sddBuilderCounter @>" class="form-control" data-input/>\n          <div class="input-group-btn">\n            <button class="btn btn-ghost" aria-label="Pick from Calendar" aria-haspopup="true" type="button" data-cy="field-calendar" data-toggle>\n              <i class="ci ci-18 ci-calendar" role="img" aria-hidden="true"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </td>\n  </tr>\n  <@ } else if (property == \'default-datetime\') { @>\n  <tr>\n    <td>\n      <label for="default-<@= context.sddBuilderCounter @>">Default</label>\n    </td>\n    <td></td>\n    <td>\n      <div class="form-group">\n        <div class="input-group date" data-dateformat="MM-DD-YYYY hh:mm A" data-picker-type="datetime">\n          <input type="text" id="default-<@= context.sddBuilderCounter @>" class="form-control" data-input/>\n          <div class="input-group-btn">\n            <button class="btn btn-ghost" aria-label="Pick from Calendar" aria-haspopup="true" type="button" data-cy="field-date-time" data-toggle>\n              <i class="ci ci-18 ci-calendar" role="img" aria-hidden="true"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </td>\n  </tr>\n  <@ } else if (property == \'required\') { @>\n  <tr>\n    <td>\n      <label>Required</label>\n    </td>\n    <td>\n      <div class="checkbox cs-tooltip" style="margin-bottom: 0;" title="Overwrite Shared Field\'s value">\n        <input type="checkbox" id="overwrite-<@= context.sddBuilderCounter @>-required" data-cy="overwrite-required" class="property-overwrite-toggle">\n        <label class="inline" for="overwrite-<@= context.sddBuilderCounter @>-required"></label>\n      </div>\n    </td>\n    <td class="radio">\n      <input type="radio" data-property-type="overwritable" data-overwritten="false" data-cy="required-yes" data-property="required" id="required-yes-<@= context.sddBuilderCounter @>" name="required-<@= context.sddBuilderCounter @>"/>\n      <label class="inline" for="required-yes-<@= context.sddBuilderCounter @>">Yes</label>\n      <input type="radio" data-property-type="overwritable" data-overwritten="false" data-cy="required-no" data-property="required" id="required-no-<@= context.sddBuilderCounter @>" name="required-<@= context.sddBuilderCounter @>"/>\n      <label class="inline" for="required-no-<@= context.sddBuilderCounter @>">No</label>\n    </td>\n  </tr>\n  <@ } else if (property == \'allow-custom-values\') { @>\n  <tr>\n    <td>\n      <label>Allow custom values</label>\n    </td>\n    <td></td>\n    <td class="radio">\n      <input type="radio" id="allowCustomValues-yes-<@= context.sddBuilderCounter @>" data-cy="allow-custom-values" name="allowCustomValues-<@= context.sddBuilderCounter @>"/>\n      <label class="inline" for="allowCustomValues-yes-<@= context.sddBuilderCounter @>">Yes</label>\n      <input type="radio" id="allowCustomValues-no-<@= context.sddBuilderCounter @>" data-cy="dont-allow-custom-values" name="allowCustomValues-<@= context.sddBuilderCounter @>"/>\n      <label class="inline" for="allowCustomValues-no-<@= context.sddBuilderCounter @>">No</label>\n    </td>\n  </tr>\n  <@ } else if (property == \'items\') { @>\n  <tr>\n    <td colspan="3" id="items-cell-<@= context.sddBuilderCounter @>">\n      \x3c!-- Dynamically generated by various functions for each row is using contextMenuItem.tpl --\x3e\n    </td>\n  </tr>\n  <@ } else if (property == \'collapsed\') { @>\n  <tr>\n    <td>\n      <label>Collapsed</label>\n    </td>\n    <td></td>\n    <td class="radio">\n      <input type="radio" id="collapsed-yes-<@= context.sddBuilderCounter @>" data-cy="collapsed-yes" name="collapsed-<@= context.sddBuilderCounter @>"/>\n      <label class="inline" for="collapsed-yes-<@= context.sddBuilderCounter @>">Yes</label>\n      <input type="radio" id="collapsed-no-<@= context.sddBuilderCounter @>" data-cy="collapsed-no" name="collapsed-<@= context.sddBuilderCounter @>"/>\n      <label class="inline" for="collapsed-no-<@= context.sddBuilderCounter @>">No</label>\n    </td>\n  </tr>\n  <@ } else if (property == \'multiple\') { @>\n  <tr class="advanced">\n    <td>\n      <label>Multiple</label>\n    </td>\n    <td></td>\n    <td class="radio">\n      <input type="radio" id="multiple-yes-<@= context.sddBuilderCounter @>" data-cy="multiple-yes" name="multiple-<@= context.sddBuilderCounter @>"/>\n      <label class="inline" for="multiple-yes-<@= context.sddBuilderCounter @>">Yes</label>\n      <input type="radio" id="multiple-no-<@= context.sddBuilderCounter @>" data-cy="multiple-no" name="multiple-<@= context.sddBuilderCounter @>"/>\n      <label class="inline" for="multiple-no-<@= context.sddBuilderCounter @>">No</label>\n    </td>\n  </tr>\n  <@ } else if (property == \'minimum-number\') { @>\n  <tr class="advanced" id="minimum-number-row-<@= context.sddBuilderCounter @>">\n    <td>\n      <label for="minimum-number-<@= context.sddBuilderCounter @>">Minimum number</label>\n    </td>\n    <td>\n      <div class="checkbox cs-tooltip" style="margin-bottom: 0;" title="Overwrite Shared Field\'s value">\n        <input type="checkbox" id="overwrite-<@= context.sddBuilderCounter @>-minimumNumber" class="property-overwrite-toggle" data-cy="overwrite-minimum-number"/>\n        <label class="inline" for="overwrite-<@= context.sddBuilderCounter @>-minimumNumber"></label>\n      </div>\n    </td>\n    <td>\n      <input type="text" data-property-type="overwritable" data-overwritten="false" data-cy="minimum-number" data-property="minimumNumber" id="minimum-number-<@= context.sddBuilderCounter @>"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'maximum-number\') { @>\n  <tr class="advanced" id="maximum-number-row-<@= context.sddBuilderCounter @>">\n    <td>\n      <label for="maximum-number-<@= context.sddBuilderCounter @>">Maximum number</label>\n    </td>\n    <td>\n      <div class="checkbox cs-tooltip" style="margin-bottom: 0;" title="Overwrite Shared Field\'s value">\n        <input type="checkbox" id="overwrite-<@= context.sddBuilderCounter @>-maximumNumber" class="property-overwrite-toggle" data-cy="overwrite-maximum-number"/>\n        <label class="inline" for="overwrite-<@= context.sddBuilderCounter @>-maximumNumber"></label>\n      </div>\n    </td>\n    <td>\n      <input type="text" data-property-type="overwritable" data-overwritten="false" data-property="maximumNumber" data-cy="maximum-number" id="maximum-number-<@= context.sddBuilderCounter @>"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'restrict-to-groups\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="restrict-to-groups-<@= context.sddBuilderCounter @>">Restrict to groups</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" id="restrict-to-groups-<@= context.sddBuilderCounter @>" data-cy="restrict-to-groups"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'regular-expression\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="regular-expression-<@= context.sddBuilderCounter @>">Regular expression</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" id="regular-expression-<@= context.sddBuilderCounter @>" data-cy="regular-expression"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'input-data-format\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="input-data-format-<@= context.sddBuilderCounter @>">Input data format</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" id="input-data-format-<@= context.sddBuilderCounter @>" data-cy="input-data-format"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'maxlength\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="maxlength-<@= context.sddBuilderCounter @>">Maximum length</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" id="maxlength-<@= context.sddBuilderCounter @>" data-cy="max-length"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'size\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="size-<@= context.sddBuilderCounter @>">Size</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" id="size-<@= context.sddBuilderCounter @>" data-cy="size"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'rows\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="rows-<@= context.sddBuilderCounter @>">Rows</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" id="rows-<@= context.sddBuilderCounter @>" data-cy="rows"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'cols\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="cols-<@= context.sddBuilderCounter @>">Columns</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" id="cols-<@= context.sddBuilderCounter @>" data-cy="columns"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'render-content-depth\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="render-content-depth-<@= context.sddBuilderCounter @>">Render content depth</label>\n    </td>\n    <td></td>\n    <td>\n      <input type="text" id="render-content-depth-<@= context.sddBuilderCounter @>" data-cy="render-content-depth"/>\n    </td>\n  </tr>\n  <@ } else if (property == \'restrict-to-folder\') { @>\n  <tr class="advanced" id="restrict-to-folder-row-<@= context.sddBuilderCounter @>">\n    <td>\n      <label for="restrict-to-folder-<@= context.sddBuilderCounter @>">Restrict to folder</label>\n    </td>\n    <td></td>\n    <td>\n      <div class="chooser-wrapper issingle">\n        <button type="button" aria-label="Choose Folder" data-cy="restrict-to-folder" id="restrict-to-folder-<@= context.sddBuilderCounter @>" class="chooser asset-chooser novalidation" data-chooser-options="{&quot;type&quot;:&quot;folder&quot;, &quot;hasClear&quot;:true, &quot;fieldId&quot;:&quot;restrict-to-folder-<@= context.sddBuilderCounter @>Id&quot;, &quot;fieldPath&quot;:&quot;restrict-to-folder-<@= context.sddBuilderCounter @>Path&quot;, &quot;chosen&quot;:{}, &quot;crossSiteRule&quot;:&quot;&quot;, &quot;originalSiteId&quot;:&quot;<@= context.currentSiteId @>&quot;, &quot;headingText&quot;:&quot;&quot;, &quot;placeholderText&quot;:&quot;Choose Folder&quot;}">\n          <i class="ci ci-asset ci-folder chooser-type" role="img" aria-hidden="true"></i>\n          <span class="chooser-name asset-chooser-name">Choose Folder</span>\n        </button>\n        <button type="button" aria-label="Clear selected item" class="chooser-clear asset-chooser-clear cs-tooltip"><i class="ci ci-18 ci-remove" role="img" aria-hidden="true"></i></button>\n        <input type="hidden" value="" id="restrict-to-folder-<@= context.sddBuilderCounter @>Id" name="restrictToFolderId" class="asset-chooser-id"/>\n        <input type="hidden" value="" id="restrict-to-folder-<@= context.sddBuilderCounter @>Path" name="restrictToFolderPath"/>\n      </div>\n    </td>\n  </tr>\n  <@ } else if (property == \'configuration\') { @>\n  <tr class="advanced">\n    <td>\n      <label for="editor-configuration-<@= context.sddBuilderCounter @>">Editor configuration</label>\n    </td>\n    <td></td>\n    <td>\n      <div class="chooser-wrapper issingle">\n        <button type="button" aria-label="Choose WYSIWYG Editor Configuration" data-cy="editor-configuration" id="editor-configuration-<@= context.sddBuilderCounter @>" class="chooser asset-chooser novalidation" data-chooser-options="{&quot;type&quot;:&quot;editorconfiguration&quot;, &quot;hasClear&quot;:true, &quot;fieldId&quot;:&quot;editor-configuration-<@= context.sddBuilderCounter @>Id&quot;, &quot;fieldPath&quot;:&quot;editor-configuration-<@= context.sddBuilderCounter @>Path&quot;, &quot;chosen&quot;:{}, &quot;crossSiteRule&quot;:&quot;&quot;, &quot;originalSiteId&quot;:&quot;<@= context.currentSiteId @>&quot;, &quot;headingText&quot;:&quot;&quot;, &quot;placeholderText&quot;:&quot;Choose WYSIWYG Editor Configuration&quot;}">\n          <i class="ci ci-asset ci-editorconfiguration chooser-type" role="img" aria-hidden="true"></i>\n          <span class="chooser-name asset-chooser-name">Choose WYSIWYG Editor Configuration</span>\n        </button>\n        <button type="button" aria-label="Clear selected item" class="chooser-clear asset-chooser-clear cs-tooltip"><i class="ci ci-18 ci-remove" role="img" aria-hidden="true"></i></button>\n        <input type="hidden" value="" id="editor-configuration-<@= context.sddBuilderCounter @>Id" name="editorConfigurationId" class="asset-chooser-id"/>\n        <input type="hidden" value="" id="editor-configuration-<@= context.sddBuilderCounter @>Path" name="editorConfigurationPath"/>\n      </div>\n    </td>\n  </tr>\n  <@ } else if (property == \'shared-field\') { @>\n  <tr>\n    <td colspan="3" class="form-group">\n      <div class="chooser-wrapper issingle">\n        <button type="button" aria-label="Choose Shared Field" data-cy="shared-field-chooser" id="shared-field-<@= context.sddBuilderCounter @>" class="chooser asset-chooser shared-field-chooser novalidation" data-chooser-options="{&quot;type&quot;:&quot;sharedfield<@ if (context.sharedFieldChooserType) { @>_<@= context.sharedFieldChooserType @><@ } @>&quot;, &quot;hasClear&quot;:true, &quot;fieldId&quot;:&quot;shared-field-<@= context.sddBuilderCounter @>Id&quot;, &quot;fieldPath&quot;:&quot;shared-field-<@= context.sddBuilderCounter @>Path&quot;, &quot;chosen&quot;:{}, &quot;crossSiteRule&quot;:&quot;&quot;, &quot;originalSiteId&quot;:&quot;<@= context.currentSiteId @>&quot;, &quot;headingText&quot;:&quot;&quot;, &quot;placeholderText&quot;:&quot;Choose Shared Field&quot;}">\n          <i class="ci ci-asset ci-sharedfield chooser-type" role="img" aria-hidden="true"></i>\n          <span class="chooser-name asset-chooser-name">Choose Shared Field</span>\n        </button>\n        <button type="button" aria-label="Clear selected item" class="chooser-clear asset-chooser-clear cs-tooltip"><i class="ci ci-18 ci-remove" role="img" aria-hidden="true"></i></button>\n        <input type="hidden" value="" id="shared-field-<@= context.sddBuilderCounter @>Id" name="sharedFieldId" class="asset-chooser-id"/>\n        <input type="hidden" value="" id="shared-field-<@= context.sddBuilderCounter @>Path" name="sharedFieldPath"/>\n      </div>\n      <div class="help-block cascade-hint hide" data-hint-key="system_pref_dd_builder_shared_field_chooser_hint">\n        Choose a Shared Field or populate individual field properties below. To avoid loss of data when replacing an existing field with a Shared Field, ensure that the Shared Field\'s type and identifier match that of the existing field.\n        When replacing an existing field group with a Shared Field group, ensure that the field types and identifiers within the groups match.\n        <button type="button">Got it</button>\n      </div>\n      <hr/>\n      <span class="h2"><span id="shared-field-name-<@= context.sddBuilderCounter @>"></span> Field Properties</span>\n    </td>\n  </tr>\n  <@ } else if (property == \'wysiwyg-options\') { @>\n  <tr id="wysiwyg-options-<@= context.sddBuilderCounter @>" class="advanced form-group">\n    <td>\n      <label>Wysiwyg options</label>\n      <p class="help-block" style="display: block;">Deprecated</p>\n    </td>\n    <td></td>\n    <td class="checkbox">\n      <input type="checkbox" id="font-formatting-<@= context.sddBuilderCounter @>" data-cy="font-formatting"/>\n      <label for="font-formatting-<@= context.sddBuilderCounter @>">Font formatting</label>\n      <br style="clear:both;"/>\n\n      <input type="checkbox" id="font-assignment-<@= context.sddBuilderCounter @>" data-cy="font-assignment"/>\n      <label for="font-assignment-<@= context.sddBuilderCounter @>">Font assignment</label>\n      <br style="clear:both;"/>\n\n      <input type="checkbox" id="text-formatting-<@= context.sddBuilderCounter @>" data-cy="text-formatting"/>\n      <label for="text-formatting-<@= context.sddBuilderCounter @>">Text formatting</label>\n      <br style="clear:both;"/>\n\n      <input type="checkbox" id="insert-image-<@= context.sddBuilderCounter @>" data-cy="insert-image"/>\n      <label for="insert-image-<@= context.sddBuilderCounter @>">Insert image</label>\n      <br style="clear:both;"/>\n\n      <input type="checkbox" id="insert-table-<@= context.sddBuilderCounter @>" data-cy="insert-table"/>\n      <label for="insert-table-<@= context.sddBuilderCounter @>">Insert table</label>\n      <br style="clear:both;"/>\n\n      <input type="checkbox" id="html-view-<@= context.sddBuilderCounter @>" data-cy="html-view"/>\n      <label for="html-view-<@= context.sddBuilderCounter @>">HTML view</label>\n      <br style="clear:both;"/>\n    </td>\n  </tr>\n  <@ } } @>\n  <tr class="advanced-link">\n    <td>\n      <button type="button" class="advanced btn btn-ghost" data-cy="advanced-settings">Show Advanced Settings</button>\n    </td>\n  </tr>\n  <tr>\n    <td colspan="3" align="center">\n      <button type="button" class="save btn-primary" data-cy="save-settings">Save</button>\n      <button type="button" class="cancel btn-ghost" data-cy="cancel-settings">Cancel</button>\n    </td>\n  </tr>\n  </tbody>\n</table>'},6578:function(e){"use strict";e.exports='<div class="item-wrapper">\n  <table class="item">\n    <tr>\n      <td>\n        <label for="item-<@= context.sddBuilderCounter @>-<@= context.id @>">Value</label>\n      </td>\n      <td>\n        <input type="text" id="item-<@= context.sddBuilderCounter @>-<@= context.id @>" value="<@= context.item.value @>"/>\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <label for="label-<@= context.sddBuilderCounter @>-<@= context.id @>">Label</label>\n      </td>\n      <td>\n        <input type="text" id="label-<@= context.sddBuilderCounter @>-<@= context.id @>" value="<@= context.item.label @>"/>\n      </td>\n    </tr>\n    <@ if (context.includeSelected) { @>\n    <tr>\n      <td>\n        <label>Selected</label>\n      </td>\n      <td class="radio">\n        <input type="radio" id="item-selected-yes-<@= context.sddBuilderCounter @>-<@= context.id @>"\n               name="item-selected-<@= context.sddBuilderCounter @>-<@= context.id @>" <@= context.item.selected ? \'checked="checked"\' : \'\' @>/>\n        <label class="inline" for="item-selected-yes-<@= context.sddBuilderCounter @>-<@= context.id @>">Yes</label>\n        <input type="radio" id="item-selected-no-<@= context.sddBuilderCounter @>-<@= context.id @>"\n               name="item-selected-<@= context.sddBuilderCounter @>-<@= context.id @>" <@= !context.item.selected ? \'checked="checked"\' : \'\' @>/>\n        <label class="inline" for="item-selected-no-<@= context.sddBuilderCounter @>-<@= context.id @>">No</label>\n      </td>\n    </tr>\n    <@ } @>\n    <@ if (context.showFieldsMarkup) { @>\n    <tr>\n      <td>\n        <label>Show Fields</label>\n      </td>\n      <td id="show-fields-<@= context.sddBuilderCounter @>-<@= context.id @>">\n        <@= context.showFieldsMarkup @>\n      </td>\n    </tr>\n    <@ } @>\n  </table>\n  <div id="item-add-<@= context.sddBuilderCounter @>-<@= context.id @>" class="item-controls">\n    <button type="button" class="btn btn-ghost builder-add add-remove-item" data-itemidx="<@= context.id @>">Add item</button>\n    <@ if (context.id != 0) { @>\n      <button class="btn btn-link builder-remove add-remove-item text-error">Remove last item</button>\n    <@ } @>\n  </div>\n</div>'},40182:function(e){"use strict";e.exports='<div class="form-group form-group-md sd-field">\n  <label for="<@= context.sddBuilderCounter @>" class="field-label"></label>\n  <p class="help-block"></p>\n  <span class="multiple sd-field">\n    <div class="form-group-control-index" aria-label="1 of 1">1/1</div>\n    <ul class="form-group-controls">\n      <li>\n        <button type="button" class="sd-modify form-group-control-green cs-tooltip" aria-label="Add new field">\n          <i class="ci ci-add" role="img" aria-hidden="true"></i>\n        </button>\n      </li>\n    </ul>\n    <div class="input-group date" data-dateformat="MM-DD-YYYY hh:mm A" data-picker-type="datetime">\n      <input class="form-control" id="<@= context.sddBuilderCounter @>" type="text" data-input/>\n      <div class="input-group-btn">\n        <button type="button" class="btn-ghost" aria-label="" disabled>\n          <i class="ci ci-18 ci-calendar" role="img" aria-hidden="true"></i>\n        </button>\n      </div>\n    </div>\n  </span>\n  <div class="dd-builder-field-dependency-description"></div>\n</div>'},84690:function(e){"use strict";e.exports='<select class="form-control form-control-selectize" id="<@= context.sddBuilderCounter @>">\n  <@ for (var i = 0; i< context.items.length; i++) { @>\n  <@ var dropdownItem = context.items[i];@>\n  <option value="<@- dropdownItem.value @>"<@= dropdownItem.selected ? \' selected\' :\'\' @>>\n    <@- dropdownItem.label ? dropdownItem.label : dropdownItem.value @>\n  </option>\n  <@ } @>\n</select>'},68905:function(e){"use strict";e.exports='<ul id="context-toolbar-<@= context.sddBuilderCounter @>" class="context-toolbar form-group-controls" role="toolbar">\n  <@ if (context.canDelete && (!context.isEdit || context.isStructuredDataUpgraded)) { @>\n  <li><button type="button" class="control drag cs-tooltip" data-type="existing" data-id="<@= context.sddBuilderCounter @>" aria-label="Drag">\n      <i class="ci ci-drag-horizontal" role="img" aria-hidden="true"></i>\n    </button></li>\n  <@ } @>\n  <li><button type="button" id="edit-<@= context.sddBuilderCounter @>" data-cy="edit-dd-field-<@= context.sddBuilderCounter @>" class="edit form-group-control cs-tooltip" aria-haspopup="true" aria-label="Edit">\n      <i class="ci ci-edit" role="img" aria-hidden="true"></i>\n    </button></li>\n  <@ if (context.canDelete) { @>\n  <li><button type="button" class="delete form-group-control form-group-control-red cs-tooltip" aria-label="Delete">\n      <i class="ci ci-delete" role="img" aria-hidden="true"></i>\n    </button></li>\n  <@ } @>\n</ul>\n<span class="context-menu" id="edit-box-<@= context.sddBuilderCounter @>" data-cy="edit-field-box" aria-labelledby="edit-<@= context.sddBuilderCounter @>"></span>'},43266:function(e){"use strict";e.exports='<div class="form-group form-group-collapsible">\n  <div class="form-group-collapsible-header">\n    <span class="h3" id="<@= context.sddBuilderCounter @>">\n      <span class="title field-label"></span>\n      <div class="form-group-control-index" aria-label="1 of 1">1/1</div>\n      <button type="button" class="collapsed-icon form-group-control-dark">\n        <i id="identifier-a-<@= context.sddBuilderCounter @>" class="ci" role="img" aria-hidden="true"></i>\n      </button>\n    </span>\n    <ul class="form-group-controls form-group-controls-right">\n      <li>\n        <button type="button" class="sd-modify form-group-control-green cs-tooltip" aria-label="Add new group">\n          <i class="ci ci-add" role="img" aria-hidden="true"></i>\n        </button>\n      </li>\n    </ul>\n  </div>\n  <div class="dd-builder-field-dependency-description"></div>\n  <div class="form-group-collapsible-body">\n    <div class="clearfix collapse in">\n      <div id="sdd-builder-2<@= context.sddBuilderCounter @>">\n        <div class="droppable" id="sdd-droppable-<@= context.sddBuilderCounter @>">\n          <hr/>\n        </div>\n      </div>\n      <div id="shared-field-group-children-<@= context.sddBuilderCounter @>">\n      </div>\n    </div>\n  </div>\n</div>'},27777:function(e){"use strict";e.exports='<div class="form-group form-group-md sd-field">\n  <label for="<@= context.sddBuilderCounter @>" class="field-label"></label>\n  <p class="help-block"></p>\n  <span class="multiple sd-field">\n    <div class="form-group-control-index" aria-label="1 of 1">1/1</div>\n    <ul class="form-group-controls">\n      <li>\n        <button type="button" class="sd-modify form-group-control-green cs-tooltip" aria-label="Add new field">\n          <i class="ci ci-add" role="img" aria-hidden="true"></i>\n        </button>\n      </li>\n    </ul>\n\n    <div id="items-<@= context.sddBuilderCounter @>">\n      \x3c!-- Dynamically generated by generateItemsContent() --\x3e\n    </div>\n  </span>\n  <div class="dd-builder-field-dependency-description"></div>\n</div>'},82108:function(e){"use strict";e.exports='<select class="form-control form-control-selectize" id="<@= context.sddBuilderCounter @>" multiple>\n  <@ for (var i = 0; i< context.items.length; i++) { @>\n  <@ var multiselectItem = context.items[i];@>\n  <option value="<@- multiselectItem.value @>" <@= (multiselectItem.selected ? \'selected\' : \'\') @>>\n    <@- multiselectItem.label ? multiselectItem.label : multiselectItem.value @>\n  </option>\n  <@ } @>\n</select>'},7894:function(e){"use strict";e.exports='<div class="radio" id="<@= context.sddBuilderCounter @>">\n  <@ for (var i = 0; i< context.items.length; i++) { @>\n  <@ var radioItem = context.items[i];@>\n  <input type="radio" name="<@= context.sddBuilderCounter @>" id="<@= context.sddBuilderCounter @>-<@= i @>" value="<@- radioItem.value @>"/>\n  <label class="inline" for="<@= context.sddBuilderCounter @>-<@= i @>">\n    <@- radioItem.label ? radioItem.label : radioItem.value @>\n  </label>\n  <@ if (context.items.length > 3) { @>\n  <br style="clear: both;"/>\n  <@ } @>\n  <@ } @>\n</div>'},75498:function(e){"use strict";e.exports="<option style=\"<@= context.showOption ? '' : 'display:none;' @> \" value=\"<@= context.fieldPath @>\">\n    <@= context.fieldReadablePath @>\n</option>"},32751:function(e){"use strict";e.exports='<div>\n  <button type="button" class="remove-show-field-item form-group-control form-group-control-red cs-tooltip" aria-label="Remove Show Field rule" data-path="<@= context.fieldPath @>">\n    <i class="ci ci-remove" role="img" aria-hidden="true"></i>\n  </button>\n  <span data-path="<@= context.fieldPath @>"><@= context.fieldReadablePath @></span>\n</div>'},35374:function(e){"use strict";e.exports='<div class="show-field-items">\n    <@= context.showFieldItemsMarkup @>\n</div>\n<div class="show-field-dropdown">\n    <select class="field" style="<@= context.dropdownOptionsMarkup === \'\' ? \'display:none\' : \'\' @>" aria-label="Select a field">\n        <option value="">Select a field...</option>\n        <@= context.dropdownOptionsMarkup @>\n    </select>\n</div>'},54820:function(e){"use strict";e.exports='<div class="form-group form-group-md sd-field">\n  <label for="<@= context.sddBuilderCounter @>" class="field-label"></label>\n  <p class="help-block"></p>\n  <span class="multiple sd-field">\n    <div class="form-group-control-index" aria-label="1 of 1">1/1</div>\n    <ul class="form-group-controls">\n      <li>\n        <button type="button" class="sd-modify form-group-control-green cs-tooltip" aria-label="Add new field">\n          <i class="ci ci-add" role="img" aria-hidden="true"></i>\n        </button>\n      </li>\n    </ul>\n    <input class="form-control" id="<@= context.sddBuilderCounter @>" type="text"/>\n  </span>\n  <div class="dd-builder-field-dependency-description"></div>\n</div>'},15259:function(e){"use strict";e.exports='<div class="form-group form-group-md sd-field">\n  <label for="field0" class="field-label"></label>\n  <p class="help-block"></p>\n  <span class="multiple sd-field">\n    <div class="form-group-control-index" aria-label="1 of 1">1/1</div>\n    <ul class="form-group-controls">\n      <li>\n        <button type="button" class="sd-modify form-group-control-green cs-tooltip" aria-label="Add new field">\n          <i class="ci ci-add" role="img" aria-hidden="true"></i>\n        </button>\n      </li>\n    </ul>\n    <textarea id="<@= context.sddBuilderCounter @>" class="form-control "></textarea>\n  </span>\n  <div class="dd-builder-field-dependency-description"></div>\n</div>\n\n\n\n\n'},45562:function(e){"use strict";e.exports='<div class="form-group form-group-md">\n    <div class="alert alert-danger unknown-shared-field-error">\n        <i class="ci ci-fw ci-broken-shared-field" role="img" aria-hidden="true"></i>\n        A shared field with path "<@= context.fieldPath @>" could not be found.  You must edit this field and select a new shared field using the chooser or correct the path manually on the XML pane.\n    </div>\n</div>\n\n'},70616:function(e){"use strict";e.exports='<div class="form-group form-group-md sd-field">\n  <label for="field0" class="field-label"></label>\n  <p class="help-block"></p>\n  <span class="multiple sd-field" id="<@= context.sddBuilderCounter @>">\n    <div class="form-group-control-index" aria-label="1 of 1">1/1</div>\n    <ul class="form-group-controls">\n      <li>\n        <button type="button" class="sd-modify form-group-control-green cs-tooltip" aria-label="Add new field">\n          <i class="ci ci-add" role="img" aria-hidden="true"></i>\n        </button>\n      </li>\n    </ul>\n    <textarea class="wysiwyg" data-cy="wysiwyg" id="wysiwyg-<@= context.sddBuilderCounter @>" name="<@= context.sddBuilderCounter @>"></textarea>\n  </span>\n  <div class="dd-builder-field-dependency-description"></div>\n</div>'},67502:function(e){"use strict";e.exports='<li class="draft-autosave-status muted hide">\n    <small></small>\n</li>'},66930:function(e){"use strict";e.exports="<li>\n<@ if(context.checked) { @>\n  <strong><@= context.label ? context.label : context.value @></strong>\n  <@ } else { @>\n    <@= context.label ? context.label : context.value @>\n  <@ } @>\n</li>"},76671:function(e){"use strict";e.exports='<li class="entity-comment-wrapper <@ if (context.resolved) { @>comment-resolved<@ } @>">\n  <div class="comment-profile-container flexbox">\n    <div class="comment-profile-wrapper">\n    <@= context.AssetLinkRenderer.render(context.user, {showLabel: false, profileSize: \'large\'}) @>\n    </div>\n  <div class="entity-comment" data-id="<@- context.id @>" tabindex="0">\n    <div class="comment-actions flexbox btn-group">\n      <button type="button" class="btn-sm btn-ghost flex-auto comment-reply"><@= context.I18n.get(\'label.comment.reply\') @></button>\n      <button type="button" class="btn-sm btn-ghost flex-auto comment-resolve"><@= context.I18n.get(\'label.comment.resolve\') @></button>\n      <button type="button" class="btn-sm btn-ghost flex-auto comment-unresolve"><@= context.I18n.get(\'label.comment.unresolve\') @></button>\n      <button type="button" class="btn-sm btn-ghost flex-auto comment-delete"><@= context.I18n.get(\'label.comment.delete\') @></button>\n    </div>\n    <div class="comment-container">\n      <div class="comment-metadata">\n        <div class="left"><@-context.username @></div>\n        <div class="right"><@= context.time @></div>\n      </div>\n      <div class="entity-comment-text"><@= context.text @></div>\n    </div>\n  </div>\n  </div>\n  <div class="comment-replies"></div>\n  <div class="comment-reply-form hide animation-pullDown">\n  <div class="comments-suggestions-wrapper">\n    <div class="form-group form-group-md">\n      <textarea class="form-control comment-reply-text mentionable" rows="3" placeholder="<@= context.I18n.get(\'label.comment.placeholder.reply\') @>" aria-label="reply to asset comment"></textarea>\n    </div>\n    <div class="mention-suggestions"></div>\n  </div>\n    <div class="reply-actions btn-group">\n      <button type="button" class="btn-ghost btn-md comment-reply-close"><@= context.I18n.get(\'label.comment.close\') @></button>\n      <button type="button" class="btn-primary btn-md comment-reply-submit" disabled><@= context.I18n.get(\'label.comment.reply\') @></button>\n    </div>\n  </div>\n</li>\n'},58361:function(e){"use strict";e.exports='<div class="comment-profile-container flexbox">\n  <div class="comment-profile-wrapper">\n    <@= context.AssetLinkRenderer.render(context.user, {showLabel: false, profileSize: \'large\'}) @>\n  </div>\n<div class="entity-comment entity-comment-reply" data-reply-id="<@- context.id @>" tabindex="0">\n  <div class="comment-actions animation-pullUp flexbox btn-group">\n    <button class="btn btn-sm btn-ghost flex-auto comment-reply"><@= context.I18n.get(\'label.comment.reply\') @>\n    </button>\n    <button class="btn btn-sm btn-ghost flex-auto comment-reply-delete"><@= context.I18n.get(\'label.comment.delete\') @>\n    </button>\n  </div>\n  <div class="comment-container">\n    <div class="comment-metadata">\n      <div class="left"><@- context.username @>\n      </div>\n      <div class="right"><@= context.time @>\n      </div>\n    </div>\n    <div class="entity-comment-text"><@= context.text @>\n    </div>\n  </div>\n</div>\n</div>'},30772:function(e){"use strict";e.exports='<@ if(context.loading) { @>\n<i class="ci ci-loading" role="img" aria-hidden="true"></i><@=context.I18n.get(\'status.export.please.wait\')@>\n<@ } else { @>\n<a id="download-export" class="btn btn-md btn-ghost" href="<@=context.url@>"><@=context.I18n.get(\'message.export.click.to.download\')@></a>\n<@ } @>'},46706:function(e){"use strict";e.exports='<div id="field-selection" class="modal" tabindex="-1" role="dialog" aria-labelledby="fieldSelectionModal" aria-hidden="true">\n  <form>\n    <div class="modal-dialog modal-md">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button>\n          <h2 class="modal-title"><@= context.title @>\n          </h2>\n        </div>\n        <div class="modal-body">\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>'},50031:function(e){"use strict";e.exports='<@ // output all of the results @>\n\n<@ if (_.isEmpty(context.results)) { @>\n    <li class="empty-message"><@= context.i18n.get(\'message.none.match\') @></li>\n<@ } else { @>\n<@ _.forEach(context.results, function(result) { @>\n<li>\n    <button type="button" class="asset-factory-link" tabindex="0" data-toggle="ajax-modal" data-id="<@= result.id @>" data-type="<@= result.type @>" data-name="<@- result.filterName @>" data-cy="asset-factory-link">\n        <i class="ci ci-<@= result.type @>" role="img" aria-hidden="true"></i>\n        <span>\n            <strong><@= result.filterName @></strong>\n            <@ if(result.filterDescription) { @><small><@= result.filterDescription @></small><@ } @>\n        </span>\n    </button>\n</li>\n<@ })} @>'},15741:function(e){"use strict";e.exports='<div class="dropdown-menu dropdown-menu-filter dropdown-menu-scroll dropdown-menu-suggestions" role="menu">\n  <div class="dropdown-menu-body">\n    <ul class="dropdown-menu-filter-results"><@ if(!context.error) { @>\n      <@ if(context.suggestions && context.suggestions.length > 0) { @>\n      <@ _.forEach(context.suggestions, function(user, index) { @>\n      <li>\n        <button type="button" class="mention-suggestion" data-user-id="<@= user.id @>" data-index="<@=index @>">\n          <div class="profile-wrapper">\n            <div class="ci-fw <@= !user.hasProfilePicture? \'default\': \'\' @> profile-picture">\n              <@ if (user.hasProfilePicture) { @>\n              <img class="profile" src="<@= context.renderUrl @><@= user.id @>" />\n              <@ } else { @>\n              <span class="initial"><@= user.userInitial @></span>\n              <@ } @>\n            </div>\n          </div>\n          <span class="username">\n                <span><@= user.id @></span>\n                <span class="fullname"><@= user.fNm @></span>\n              </span>\n        </button>\n      </li>\n      <@ }); @>\n      <@ } else { @>\n      <li class="empty-message"><@=context.I18n.get(\'message.search.no.users\') @></li>\n      <@ } @>\n      <@ } else { @>\n      <li class="status"><@=context.error@></li>\n      <@ } @>\n    </ul>\n  </div>\n</div>'},83412:function(e){"use strict";e.exports='<@ if(!context.error) { @>\n  <li id="asset-factory-tree">\n    <@= context.outputContainer(context.rootContainer) @>\n    <ul id="filtered-asset-factories" class="asset-factory-container">\n      <li>\n        <button type="button" class="filter-back-link">\n          <span><strong><@= context.i18n.get(\'prompt.title.asset.factory\')@></strong></span>\n        </button>\n      </li>\n      <li>\n        <ul id="filtered-asset-factories-results"></ul>\n      </li>\n    </ul>\n  </li>\n<@ } else { @>\n  <li class="status"><@-context.error@></li>\n<@ } @>'},14541:function(e){"use strict";e.exports='<ul id="<@= context.container.id @>" data-parent="<@= context.container.parentId @>" class="asset-factory-container <@= !context.container.parentId ? \'asset-tree-root is-shown\' : \'\' @>">\n  <@ if(context.container.parentId) { @>\n    <li>\n      <button type="button" class="back-link">\n        <span><strong><@- context.container.name @></strong></span>\n      </button>\n    </li>\n  <@ } @>\n\n  <@ // output all of the containers @>\n   <@ _.forEach(context.container.childContainers, function(childContainer) { @>\n    <li>\n      <button type="button" class="asset-factory-parent" data-child-container="<@=childContainer.id@>" data-cy="asset-factory-parent">\n        <i class="ci ci-folder-o" role="img" aria-hidden="true"></i>\n        <span>\n          <strong><@-childContainer.name@></strong>\n          <@ if (childContainer.description) { @><small><@- childContainer.description @></small><@ } @>\n        </span>\n      </button>\n    </li>\n  <@ }) @>\n\n  <@ // output all of the children @>\n  <@ _.forEach(context.container.children, function(child) { @>\n  <@= context.addAssetFactory(child) @>\n    <li>\n      <button type="button" class="asset-factory-link" data-toggle="ajax-modal" data-id="<@= child.id @>" data-cy="asset-factory-link">\n        <i class="ci ci-<@= child.type @>" role="img" aria-hidden="true"></i>\n        <span>\n          <strong><@-child.name@></strong>\n          <@ if (child.description) { @><small><@- child.description @></small><@ } @>\n        </span>\n      </button>\n    </li>\n  <@ }) @>\n</ul>\n<@ // output the children of each container @>\n<@ if(context.container.childContainers) { @>\n  <@ _.forEach(context.container.childContainers, function(childContainer) { @>\n    <@= context.outputContainer(childContainer) @>\n  <@ }) @>\n<@ } @>'},20744:function(e){"use strict";e.exports='<div class="row-actions floating-menu">\n  <@ if (context.canCancel) { @>\n  <button type="button" class="btn-ghost btn-sm remove-request cs-tooltip" aria-label="<@= context.I18n.get(\'link.title.delete\') @>">\n    <i class="ci ci-delete" role="img" aria-hidden="true"></i>\n  </button>\n  <@ } @>\n  <@ if (context.canDrag) { @>\n  <button type="button" class="btn-ghost btn-sm move-to-top cs-tooltip" aria-label="<@= context.I18n.get(\'link.title.sendtop\') @>">\n    <i class="ci ci-angle-double-up" role="img" aria-hidden="true"></i>\n  </button>\n  <button type="button" class="btn-ghost btn-sm move-up cs-tooltip" aria-label="<@= context.I18n.get(\'link.title.sendup\') @>">\n    <i class="ci ci-angle-up" role="img" aria-hidden="true"></i>\n  </button>\n  <button type="button" class="btn-ghost btn-sm move-down cs-tooltip" aria-label="<@= context.I18n.get(\'link.title.senddown\') @>">\n    <i class="ci ci-angle-down" role="img" aria-hidden="true"></i>\n  </button>\n  <button type="button" class="btn-ghost btn-sm move-to-bottom cs-tooltip" aria-label="<@= context.I18n.get(\'link.title.sendbottom\') @>">\n    <i class="ci ci-angle-double-down" role="img" aria-hidden="true"></i>\n  </button>\n  <@ } @>\n</div>'},40992:function(e){"use strict";e.exports="<@ if (context.destinations.length) { @>\n  <@= context.i18n.get('label.publish.summary.all.pre') @> <@= context.i18n.get('label.publish.summary.all.destination') @> <strong><@= context.destinations.join(', ') @></strong>.\n  <@ if (context.scheduledDate.length) { @>\n    <@= context.i18n.get('label.publish.summary.scheduled.date') @> <strong><@= context.scheduledDate @></strong> <@= context.i18n.get('label.publish.summary.scheduled.date.post') @>\n  <@ } @>\n  <@ if (context.relatedContent) { @>\n    <@= context.i18n.get('label.publish.summary.related.content') @>\n  <@ } @>\n<@ } @>"},52600:function(e){"use strict";e.exports="<@ if ((context.outputs.length && context.destinations.length) || context.outputsWithEnabledDestinations.length || context.connectors.length) { @>\n  <@ if (context.outputs.length && context.destinations.length) { @>\n    <@= context.i18n.get('label.publish.summary.all.pre') @> <strong><@= context.destinations.join(', ') @></strong>.\n  <@ } @>\n  <@ if (context.outputsWithEnabledDestinations.length) { @>\n    <@ _.each(context.outputsWithEnabledDestinations, function(output, i) { @>\n      <@= context.i18n.get('label.publish.summary.specific.pre') @> <strong><@= output.enabledDestinationPaths.join(', ') @></strong>.\n    <@ }); @>\n  <@ } @>\n\n  <@ if (context.scheduledDate.length) { @>\n    <@= context.i18n.get('label.publish.summary.scheduled.date') @> <strong><@= context.scheduledDate @></strong> <@= context.i18n.get('label.publish.summary.scheduled.date.post') @>\n  <@ } @>\n\n  <@ if (context.relatedContent) { @>\n    <@= context.i18n.get('label.publish.summary.related.content') @>\n  <@ } @>\n\n  <@ if (context.connectors.length) { @>\n    <@= context.i18n.get('label.publish.summary.connectors.pre') @> <@ _.map(context.connectors, function(connector, i) { @>\n      <i class=\"ci ci-<@= connector.type @>\" role=\"img\" aria-hidden=\"true\"></i><@= connector.name @>\n    <@ }).join(', '); @>\n  <@ } @>\n<@ } @>"},44028:function(e){"use strict";e.exports='<@= context.I18n.get(\'message.publish.items.in.other.sites\') @>\n<@ _.forEach(context.activeJobsOtherSites, function(info, siteName) { @>\n    <@ if (info.canAccessSitePublishQueue) { @><a href="<@-context.contextPath@>/publisherstatus.act?siteId=<@= info.siteId @>"><@ } @>\n    <i class="ci ci-fw ci-site" role="img" aria-hidden="true"></i> <@= siteName @> (<@= info.activeJobs.length @>)\n    <@ if (info.canAccessSitePublishQueue) { @></a><@ } @>\n<@ }) @>'},93569:function(e){"use strict";e.exports=" <@ if(context.listSize > 0) { @>\n <span class=\"sub-header h3\"><@= context.I18n.get('label.recent') @> <@= context.I18n.get('asset.type.' + context.type + '.plural') @></span>\n  <ul>\n    <@ _.forEach(context.listItems, function(item, index) { @>\n    <li><@= context.AssetLinkRenderer.render(item, {adminAreaAsset: true}) @></li>\n    <@ }); @>\n  </ul>\n  <@ } @>"},70610:function(e){"use strict";e.exports='<time datetime="<@= context.isoDate @>" class="cs-tooltip" title="<@= context.title @>"><@= context.label @></time>'},87357:function(e){"use strict";e.exports='<div id="role-chooser" class="chooser-tags">\n    <@ _.forEach(context.chosen, function(item, index) { @>\n    <div class="form-group form-group-collapsible" id="role-<@= item.id @>" data-asset=\'<@= JSON.stringify(item).replace(/\'/g, "&#39;") @>\'>\n        <div class="form-group-collapsible-header">\n            <span class="h3"><@= item.label @></span>\n            <ul class="form-group-controls form-group-controls-right">\n                <li>\n                    <button type="button" class="sd-modify form-group-control-red chooser-tag-remove cs-tooltip" aria-label="<@= context.I18n.get(\'prompt.remove\') @>" data-modification="delete" data-identifier="role-<@= item.id @>"><span class="ci ci-times"></span></button>\n                </li>\n            </ul>\n        </div>\n        <div class="form-group-collapsible-body">\n            <input type="hidden" name="<@= _.isFunction(context.fieldName) ? context.fieldName(item) : context.fieldName @>" value="<@= item.id @>"/>\n            <input type="hidden" name="<@= _.isFunction(context.subFieldName) ? context.subFieldName(item.index) : context.subFieldName @>RoleId" value="<@= item.id @>"/>\n            <div class="chooser-wrapper ismultiple">\n                <button type="button"\n                        aria-label="<@= context.I18n.get(\'label.usergroup.chooser.choose.prefix\') @> <@= context.I18n.get(\'asset.type.user.plural\') @> and <@= context.I18n.get(\'asset.type.group.plural\') @>"\n                        id="chooser-UserGroup-<@= item.id @>"\n                        class="chooser usergroup-chooser novalidation"\n                        data-chooser-options=\'{"fieldName":"<@= _.isFunction(context.subFieldName) ? context.subFieldName(item.index) : context.subFieldName @>", "hasClear":true, "multiple": true, "chosen":<@= context.subChosen[\'chooser-UserGroup-\' + item.id] ? JSON.stringify(context.subChosen[\'chooser-UserGroup-\' + item.id]).replace(/\'/g, "&#39;")  : "{}" @>}\'>\n                    <span class="chooser-name"><@= context.I18n.get(\'label.usergroup.chooser.choose.prefix\') @> <@= context.I18n.get(\'asset.type.user.plural\') @> and <@= context.I18n.get(\'asset.type.group.plural\') @></span>\n                </button>\n                <button type="button" class="chooser-clear usergroup-chooser-clear"><@= context.I18n.get(\'label.chooser.clear.chosen\') @></button>\n                <input type="hidden" name="chooser-UserGroup-<@= item.id @>-validation" class="chooser-validation" value=""/>\n            </div>\n            <div class="chooser-tags"></div>\n        </div>\n    </div>\n    <@ }) @>\n</div>'},40586:function(e){"use strict";e.exports='<div class="form-group form-group-md selected-asset-with-remove">\n    <button type="button" class="btn-circle-icon form-group-control-red cs-tooltip <@= context.removeBtnClass || \'asset-remove\' @>" aria-label="Remove" data-asset-id="<@=context.selectedAsset.id @>">\n        <i class="ci ci-remove" role="img" aria-hidden="true"></i>\n    </button>\n    <div><@=context.AssetLinkRenderer.render(context.selectedAsset, context.renderOptions || {})@></div>\n    <input type="hidden" name="<@=context.formFieldName@>" value="<@=context.selectedAsset.id @>"/>\n</div>'},67987:function(e){"use strict";e.exports="<@ if(!context.error) { @>\n    <@ if (context.sites.length) { @>\n        <@ _.forEach(context.sites, function(site) { @>\n            <li><a href=\"<@= context.switchSiteAction + site.id @>\" class=\"<@= site.id === context.currentSiteId ? 'active' : '' @><@= site.id === context.currentSiteId ? ' history-entry' : ''@><@= site.isStarredByUser ? ' starred-entry' : ''@>\" aria-label=\"<@= site.label @>\" data-site-id=\"<@= site.id @>\" data-site-name=\"<@= site.label @>\">\n                <span><@= context.highlight(site.label, context.searchValue) @></span>\n            </a></li>\n        <@ }) @>\n    <@ } else { @>\n        <li class=\"empty-message\"><@= context.I18n.get('message.none.match') @></li>\n    <@ } @>\n<@ } else { @>\n    <li class=\"status\"><@- context.error @></li>\n<@ } @>"},50057:function(e){"use strict";e.exports='<div aria-label="<@- context.snippet.title || context.snippet.name @>" class="asset-link asset-link-datatable-row" data-snippet-id="<@= context.snippet.id @>">\n  <span class="asset-link-icon"><i class="ci ci-snippet" role="img" aria-hidden="true"></i></span>\n  <span class="asset-link-label">\n    <strong><@- context.snippet.title || context.snippet.name @></strong>\n    <small><@- context.snippet.value @></small>\n  </span>\n  <button type="button" class="btn-circle-icon cs-tooltip form-group-control-green asset-link-adornment" aria-label="Insert snippet">\n    <i class="ci ci-add" role="img" aria-hidden="true"></i>\n  </button>\n</div>'},17818:function(e){"use strict";e.exports='<@ if(context.error) { @>\n<li class="status"><@=context.error@></li>\n<@ } else { @>\n<li class="results-section" data-cy="recent-results">\n  <h2><@=context.I18n.get(\'label.recent.history\')@></h2>\n  <ul>\n  <@ if(context.searchItems && context.searchItems.length > 0) { @>\n    <@ _.forEach(context.searchItems, function(searchItem) { @>\n      <li>\n        <@= context.AssetLinkRenderer.renderTypeaheadResultLink(searchItem, {isHistoryEntry: true, showPath: true }) @>\n      </li>\n    <@ }); @>\n  <@ } else { @>\n    <li class="empty-message"><@= context.I18n.get(\'messages.history.no.history\') @></li>\n  <@ } @>\n    <li class="section-link"><a href="<@-context.contextPath@>/dashboard/myContent.act?tab=history"><@=context.I18n.get(\'label.see.all.history\')@></a></li>\n  </ul>\n</li>\n<@ } @>\n\n'},45874:function(e){"use strict";e.exports='<@ if(context.error) { @>\n<li class="status"><@=context.error@></li>\n<@ } else { @>\n  <@ if(context.hasSearchItems) { @>\n    <@ if(context.hasSearchItemsInCurrentSite) { @>\n      <li class="results-section" data-cy="current-site-results">\n        <h2><@=context.I18n.get(\'label.search.within.current.site\')@></h2>\n        <ul>\n          <@ _.forEach(context.searchItemsInCurrentSite, function(searchItem) { @>\n          <li>\n            <@= context.AssetLinkRenderer.renderTypeaheadResultLink(searchItem, {showPath: true, showSite: false}) @>\n          </li>\n          <@ }); @>\n        </ul>\n      </li>\n    <@ } @>\n\n    <@ if(context.hasSearchItemsOutsideCurrentSite) { @>\n      <li class="results-section" data-cy="outside-current-site-results">\n        <h2><@=context.I18n.get(\'label.search.outside.current.site\')@></h2>\n        <ul>\n          <@ _.forEach(context.searchItemsOutsideCurrentSite, function(searchItem) { @>\n          <li>\n            <@= context.AssetLinkRenderer.renderTypeaheadResultLink(searchItem, {showPath: true}) @>\n          </li>\n          <@ }); @>\n        </ul>\n      </li>\n    <@ } @>\n\n    <@ if(context.hasSearchItemsFromSystem) { @>\n      <li class="results-section" data-cy="system-results">\n        <h2><@=context.I18n.get(\'label.search.system\')@></h2>\n        <ul>\n          <@ _.forEach(context.searchItemsFromSystem, function(searchItem) { @>\n          <li>\n            <@= context.AssetLinkRenderer.renderTypeaheadResultLink(searchItem, {showPath: true}) @>\n          </li>\n          <@ }); @>\n        </ul>\n      </li>\n      <li class="section-link"><button type="button" id="gotoFullSearch"><@=context.I18n.get(\'label.go.to.full.search\')@></button></li>\n    <@ } @>\n  <@ } else { @>\n    <li class="results-section">\n      <h2><@=context.I18n.get(\'label.searchresults\')@></h2>\n      <ul>\n        <li class="empty-message"><@=context.I18n.get(\'message.search.no.results\') @></li>\n        <li class="section-link"><button type="button" id="gotoFullSearch"><@=context.I18n.get(\'label.go.to.full.search\')@></button></li>\n      </ul>\n    </li>\n  <@ } @>\n<@ } @>\n\n'},42565:function(e){"use strict";e.exports='<@ if(context.error) { @>\n<li class="status"><@=context.error@></li>\n<@ } else { @>\n<li class="results-section" data-cy="starred-results">\n  <h2><@=context.I18n.get(\'label.starred\')@></h2>\n  <ul>\n  <@ if(context.searchItems && context.searchItems.length > 0) { @>\n    <@ _.forEach(context.searchItems, function(searchItem) { @>\n      <li><@= context.AssetLinkRenderer.renderTypeaheadResultLink(searchItem.asset, { isStarredEntry: true, showPath: true }) @></li>\n    <@ }); @>\n  <@ } else { @>\n    <li class="empty-message"><@= context.I18n.get(\'messages.entitystar.no.starred\') @></li>\n  <@ } @>\n    <li class="section-link"><a href="<@-context.contextPath@>/dashboard/myContent.act?tab=starred"><@=context.I18n.get(\'label.see.all.starred\')@></a></li>\n  </ul>\n</li>\n<@ } @>'},59463:function(e){"use strict";e.exports="<@ if (context.destinations.length || context.connectors.length) { @>\n  <span class=\"h4\"><@= context.i18n.get('label.unpublish.summary.heading') @></span>\n  <@ if (context.destinations.length) { @>\n    <p>\n      <@= context.i18n.get('label.unpublish.summary.all.pre') @> <@= context.i18n.get('label.unpublish.summary.all.destination') @> <strong><@= context.destinations.join(', ') @></strong>.\n    </p>\n  <@ } @>\n  <@ if (context.connectors.length) { @>\n    <p>\n      <@= context.i18n.get('label.unpublish.summary.connectors.pre') @> <@ _.map(context.connectors, function(connector, i) { @>\n      <i class=\"ci ci-<@= connector.type @>\" role=\"img\" aria-hidden=\"true\"></i><@= connector.name @>\n      <@ }).join(', '); @>\n    </p>\n  <@ } @>\n  <@ if (context.scheduledDate) { @>\n    <@= context.i18n.get('label.unpublish.summary.scheduled.date') @> <strong><@= context.scheduledDate @></strong><@= context.i18n.get('label.unpublish.summary.scheduled.date.post') @>\n  <@ } @>\n<@ } @>"},10521:function(e){"use strict";e.exports="<@ if ((context.outputs.length && context.destinations.length) || context.connectors.length) { @>\n  <span class=\"h4\"><@= context.i18n.get('label.unpublish.summary.heading') @></span>\n  <@ if (context.outputs.length && context.destinations.length) { @>\n    <p><@= context.i18n.get('label.unpublish.summary.all.pre') @> <@= context.i18n.get('label.unpublish.summary.all.output') @> <strong><@= context.outputs.join(', ') @></strong> <@= context.i18n.get('label.unpublish.summary.all.destination') @> <strong><@= context.destinations.join(', ') @></strong>.</p>\n  <@ } @>\n\n  <@ if (context.connectors.length) { @>\n    <p>\n      <@= context.i18n.get('label.unpublish.summary.connectors.pre') @> <@ _.map(context.connectors, function(connector, i) { @>\n      <i class=\"ci ci-<@= connector.type @>\" role=\"img\" aria-hidden=\"true\"></i><@= connector.name @>\n      <@ }).join(', '); @>\n    </p>\n  <@ } @>\n  <@ if (context.scheduledDate) { @>\n    <@= context.i18n.get('label.unpublish.summary.scheduled.date') @> <strong><@= context.scheduledDate @></strong><@= context.i18n.get('label.unpublish.summary.scheduled.date.post') @>\n  <@ } @>\n<@ } @>\n\n"},99762:function(e){"use strict";e.exports="<@= context.I18n.get('message.workflow.report.tab.description.custom') @>:\n\n<div class=\"workflow-report-filter-by-property\">\n<@= context.I18n.get('label.workflowreport.custom.filter.property.status') @>:\n  <@ if(context.status === 'all') { @>\n    <@= context.I18n.get('label.workflowreport.custom.filter.property.status.any') @>\n  <@ } @>\n\n  <@ if(context.status === 'waiting') { @>\n    <@= context.I18n.get('label.workflowreport.custom.filter.property.status.inprogress') @>\n  <@ } @>\n\n  <@ if(context.status === 'completed') { @>\n    <@= context.I18n.get('label.workflowreport.custom.filter.property.status.completed') @>\n  <@ } @>\n\n  <@ if(context.status === 'onhold') { @>\n    <@= context.I18n.get('label.workflowreport.custom.filter.property.status.onhold') @>\n  <@ } @>\n\n  <button class=\"clear-status\" aria-label=\"<@= context.I18n.get('prompt.workflowreport.clear.filter.status') @>\"><i class=\"ci ci-18 ci-remove\" role=\"img\" aria-hidden=\"true\"></i></button>\n</div>\n\n<@ if(context.dateRangeEnd !== '' || context.dateRangeStart !== '') { @>\n  <div class=\"workflow-report-filter-by-property\">\n    <@= context.I18n.get('label.workflowreport.custom.filter.property.date.activity') @>:\n    <@ if(context.dateRangeEnd !== '' && context.dateRangeStart !== '') { @>\n      <@= context.I18n.get('label.workflowreport.custom.filter.property.date.between') @> <@=context.dateRangeStart @> - <@=context.dateRangeEnd @>\n    <@ } @>\n\n    <@ if(context.dateRangeStart !== '' && context.dateRangeEnd === '') { @>\n      <@= context.I18n.get('label.workflowreport.custom.filter.property.date.startrange.only') @>: <@=context.dateRangeStart @>\n    <@ } @>\n\n    <@ if(context.dateRangeEnd !== '' && context.dateRangeStart === '') { @>\n      <@= context.I18n.get('label.workflowreport.custom.filter.property.date.endrange.only') @>: <@=context.dateRangeEnd @>\n    <@ } @>\n    <button class=\"clear-dates\" aria-label=\"<@= context.I18n.get('prompt.workflowreport.clear.filter.dates') @>\"><i class=\"ci ci-18 ci-remove\" role=\"img\" aria-hidden=\"true\"></i></button>\n  </div>\n<@ } @>\n\n<@ if(context.workflowOwners) { @>\n  <div class=\"workflow-report-filter-by-property\">\n    <@= context.I18n.get('label.workflowreport.custom.filter.property.owners') @>: <@=context.workflowOwners @>\n    <button class=\"clear-owners\" aria-label=\"<@= context.I18n.get('prompt.workflowreport.clear.filter.owners') @>\"><i class=\"ci ci-18 ci-remove\" role=\"img\" aria-hidden=\"true\"></i></button>\n  </div>\n<@ } @>\n\n<@ if(context.stepAssignees) { @>\n  <div class=\"workflow-report-filter-by-property\">\n    <@= context.I18n.get('label.workflowreport.custom.filter.property.assignees') @>: <@=context.stepAssignees @>\n    <button class=\"clear-assignees\" aria-label=\"<@= context.I18n.get('prompt.workflowreport.clear.filter.assignees') @>\"><i class=\"ci ci-18 ci-remove\" role=\"img\" aria-hidden=\"true\"></i></button>\n  </div>\n<@ } @>\n\n<@ if(context.siteId !== '')  { @>\n  <div class=\"workflow-report-filter-by-property\">\n    <@= context.I18n.get('label.workflowreport.custom.filter.property.site') @>: <@= context.AssetLinkRenderer.render({id: context.siteId, type: 'site', label: context.siteName}) @>\n    <button class=\"clear-site\" aria-label=\"<@= context.I18n.get('prompt.workflowreport.clear.filter.site') @>\"><i class=\"ci ci-18 ci-remove\" role=\"img\" aria-hidden=\"true\"></i></button>\n  </div>\n<@ } @>\n"}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={id:e,loaded:!1,exports:{}};return s[e].call(n.exports,n,n.exports,c),n.loaded=!0,n.exports}c.m=s,n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},c.t=function(t,i){if(1&i&&(t=this(t)),8&i)return t;if("object"==typeof t&&t){if(4&i&&t.__esModule)return t;if(16&i&&"function"==typeof t.then)return t}var r=Object.create(null);c.r(r);var o={};e=e||[null,n({}),n([]),n(n)];for(var a=2&i&&t;"object"==typeof a&&!~e.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return t[e]}}));return o.default=function(){return t},c.d(r,o),r},c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=function(e){return Promise.all(Object.keys(c.f).reduce((function(t,n){return c.f[n](e,t),t}),[]))},c.u=function(e){return e+".cbd1ba5e039102864153c6dfcf5eff318ee19def.js"},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o={},a="hannon-hill-cascadecms:",c.l=function(e,t,n,i){if(o[e])o[e].push(t);else{var r,s;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+n){r=d;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.setAttribute("data-webpack",a+n),r.src=e),o[e]=[t];var h=function(t,n){r.onerror=r.onload=null,clearTimeout(f);var i=o[e];if(delete o[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),s&&document.head.appendChild(r)}},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e}(),function(){var e={2076:0,8584:0};c.f.j=function(t,n){var i=c.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=r);var o=c.p+c.u(t),a=new Error;c.l(o,(function(n){if(c.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var i,r,o=n[0],a=n[1],s=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in a)c.o(a,i)&&(c.m[i]=a[i]);s&&s(c)}for(t&&t(n);l<o.length;l++)r=o[l],c.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkhannon_hill_cascadecms=self.webpackChunkhannon_hill_cascadecms||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),c(53301)}();
//# sourceMappingURL=common.js.map